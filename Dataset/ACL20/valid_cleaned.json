{"id": "braintree_braintree_java-1-4094", "old_comment": "a paged collection", "old_comment_tokens": ["a", "paged", "collection"], "new_comment": "a resource collection", "new_comment_tokens": ["a", "resource", "collection"], "old_code": "public paged collection < customer > all ( int page number ) { string query string = new query string ( ) . append ( str , page number ) . to string ( ) ; node wrapper response = http . get ( str + query string ) ; return new paged collection < customer > ( new customer pager ( this ) , response , customer . class ) ; }", "old_code_tokens": ["public", "paged", "collection", "<", "customer", ">", "all", "(", "int", "page", "number", ")", "{", "string", "query", "string", "=", "new", "query", "string", "(", ")", ".", "append", "(", "str", ",", "page", "number", ")", ".", "to", "string", "(", ")", ";", "node", "wrapper", "response", "=", "http", ".", "get", "(", "str", "+", "query", "string", ")", ";", "return", "new", "paged", "collection", "<", "customer", ">", "(", "new", "customer", "pager", "(", "this", ")", ",", "response", ",", "customer", ".", "class", ")", ";", "}"], "new_code": "public resource collection < customer > all ( int page number ) { string query string = new query string ( ) . append ( str , page number ) . to string ( ) ; node wrapper response = http . get ( str + query string ) ; return new resource collection < customer > ( new customer pager ( this ) , response , customer . class ) ; }", "new_code_tokens": ["public", "resource", "collection", "<", "customer", ">", "all", "(", "int", "page", "number", ")", "{", "string", "query", "string", "=", "new", "query", "string", "(", ")", ".", "append", "(", "str", ",", "page", "number", ")", ".", "to", "string", "(", ")", ";", "node", "wrapper", "response", "=", "http", ".", "get", "(", "str", "+", "query", "string", ")", ";", "return", "new", "resource", "collection", "<", "customer", ">", "(", "new", "customer", "pager", "(", "this", ")", ",", "response", ",", "customer", ".", "class", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < customer > all ( int page number ) { string query string = new query string ( ) . append ( str , page number ) . to string ( ) ; node wrapper response = http . get ( str + query string ) ; return new <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < customer > ( new customer pager ( this ) , response , customer . class ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "customer", ">", "all", "(", "int", "page", "number", ")", "{", "string", "query", "string", "=", "new", "query", "string", "(", ")", ".", "append", "(", "str", ",", "page", "number", ")", ".", "to", "string", "(", ")", ";", "node", "wrapper", "response", "=", "http", ".", "get", "(", "str", "+", "query", "string", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "customer", ">", "(", "new", "customer", "pager", "(", "this", ")", ",", "response", ",", "customer", ".", "class", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "customer", "<KEEP>", ">", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "page", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "page", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "wrapper", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "http", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "customer", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "customer", "<KEEP>", "pager", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", ",", "<KEEP>", "customer", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9964415930601874, "using": 2, "keep": 1}
{"id": "jenkinsci_literate-api-2-5579", "old_comment": "true if the environment does not specify any labels .", "old_comment_tokens": ["true", "if", "the", "environment", "does", "not", "specify", "any", "labels", "."], "new_comment": "true if the environment does not specify any labels nor environment variables .", "new_comment_tokens": ["true", "if", "the", "environment", "does", "not", "specify", "any", "labels", "nor", "environment", "variables", "."], "old_code": "public boolean is unspecified ( ) { return labels . is empty ( ) ; }", "old_code_tokens": ["public", "boolean", "is", "unspecified", "(", ")", "{", "return", "labels", ".", "is", "empty", "(", ")", ";", "}"], "new_code": "public boolean is unspecified ( ) { return labels . is empty ( ) & & variables . is empty ( ) ; }", "new_code_tokens": ["public", "boolean", "is", "unspecified", "(", ")", "{", "return", "labels", ".", "is", "empty", "(", ")", "&", "&", "variables", ".", "is", "empty", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is unspecified ( ) { return labels . is empty ( ) <KEEP_END> <INSERT> & & variables . is empty ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "unspecified", "(", ")", "{", "return", "labels", ".", "is", "empty", "(", ")", "<KEEP_END>", "<INSERT>", "&", "&", "variables", ".", "is", "empty", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> labels <INSERT_NEW_KEEP_BEFORE> labels nor environment variables <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "labels", "<INSERT_NEW_KEEP_BEFORE>", "labels", "nor", "environment", "variables", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "unspecified", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "labels", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "variables", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8471697117482728, "using": 0, "keep": 1}
{"id": "vespa-engine_vespa-138-3340", "old_comment": "provision info instance , if available .", "old_comment_tokens": ["provision", "info", "instance", ",", "if", "available", "."], "new_comment": "allocated hosts instance , if available .", "new_comment_tokens": ["allocated", "hosts", "instance", ",", "if", "available", "."], "old_code": "@ deprecated default optional < provision info > get provision info ( ) { return optional . of ( provision info ( ) ) ; }", "old_code_tokens": ["@", "deprecated", "default", "optional", "<", "provision", "info", ">", "get", "provision", "info", "(", ")", "{", "return", "optional", ".", "of", "(", "provision", "info", "(", ")", ")", ";", "}"], "new_code": "@ deprecated default optional < allocated hosts > get provision info ( ) { return optional . of ( allocated hosts ( ) ) ; }", "new_code_tokens": ["@", "deprecated", "default", "optional", "<", "allocated", "hosts", ">", "get", "provision", "info", "(", ")", "{", "return", "optional", ".", "of", "(", "allocated", "hosts", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> @ deprecated default optional < <KEEP_END> <REPLACE_OLD> provision info <REPLACE_NEW> allocated hosts <REPLACE_END> <KEEP> > get provision info ( ) { return optional . of ( <KEEP_END> <REPLACE_OLD> provision info <REPLACE_NEW> allocated hosts <REPLACE_END> <KEEP> ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "deprecated", "default", "optional", "<", "<KEEP_END>", "<REPLACE_OLD>", "provision", "info", "<REPLACE_NEW>", "allocated", "hosts", "<REPLACE_END>", "<KEEP>", ">", "get", "provision", "info", "(", ")", "{", "return", "optional", ".", "of", "(", "<KEEP_END>", "<REPLACE_OLD>", "provision", "info", "<REPLACE_NEW>", "allocated", "hosts", "<REPLACE_END>", "<KEEP>", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> provision info <REPLACE_NEW> allocated hosts <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "provision", "info", "<REPLACE_NEW>", "allocated", "hosts", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "deprecated", "<KEEP>", "default", "<KEEP>", "optional", "<KEEP>", "<", "<REPLACE_OLD>", "provision", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "allocated", "<REPLACE_NEW>", "hosts", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "provision", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "of", "<KEEP>", "(", "<REPLACE_OLD>", "provision", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "allocated", "<REPLACE_NEW>", "hosts", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9256418405287996, "using": 2, "keep": 1}
{"id": "apache_struts-sandbox-30-5534", "old_comment": "definitions factory or null if not found .", "old_comment_tokens": ["definitions", "factory", "or", "null", "if", "not", "found", "."], "new_comment": "definitions impl or null if not found .", "new_comment_tokens": ["definitions", "impl", "or", "null", "if", "not", "found", "."], "old_code": "public static definitions factory get definitions factory ( tiles application context tiles context ) { return tiles util impl . get definitions factory ( tiles context ) ; }", "old_code_tokens": ["public", "static", "definitions", "factory", "get", "definitions", "factory", "(", "tiles", "application", "context", "tiles", "context", ")", "{", "return", "tiles", "util", "impl", ".", "get", "definitions", "factory", "(", "tiles", "context", ")", ";", "}"], "new_code": "public static definitions factory get definitions factory ( ) { return tiles util impl . get definitions factory ( ) ; }", "new_code_tokens": ["public", "static", "definitions", "factory", "get", "definitions", "factory", "(", ")", "{", "return", "tiles", "util", "impl", ".", "get", "definitions", "factory", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static definitions factory get definitions factory ( <KEEP_END> <DELETE> tiles application context tiles context <DELETE_END> <KEEP> ) { return tiles util impl . get definitions factory ( <KEEP_END> <DELETE> tiles context <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "definitions", "factory", "get", "definitions", "factory", "(", "<KEEP_END>", "<DELETE>", "tiles", "application", "context", "tiles", "context", "<DELETE_END>", "<KEEP>", ")", "{", "return", "tiles", "util", "impl", ".", "get", "definitions", "factory", "(", "<KEEP_END>", "<DELETE>", "tiles", "context", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> factory <REPLACE_NEW> impl <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "factory", "<REPLACE_NEW>", "impl", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "get", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "(", "<DELETE>", "tiles", "<DELETE>", "application", "<DELETE>", "context", "<DELETE>", "tiles", "<DELETE>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "tiles", "<KEEP>", "util", "<KEEP>", "impl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "(", "<DELETE>", "tiles", "<DELETE>", "context", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8770436497199497, "using": 1, "keep": 1}
{"id": "LMAX-Exchange_disruptor-4-3697", "old_comment": "a claimer with the above configuration .", "old_comment_tokens": ["a", "claimer", "with", "the", "above", "configuration", "."], "new_comment": "a producer barrier with the above configuration .", "new_comment_tokens": ["a", "producer", "barrier", "with", "the", "above", "configuration", "."], "old_code": "public claimer < t > create claimer ( final int buffer reserve , final entry consumer . . . entry consumers ) { return new ring buffer claimer < t > ( this , buffer reserve , entry consumers ) ; }", "old_code_tokens": ["public", "claimer", "<", "t", ">", "create", "claimer", "(", "final", "int", "buffer", "reserve", ",", "final", "entry", "consumer", ".", ".", ".", "entry", "consumers", ")", "{", "return", "new", "ring", "buffer", "claimer", "<", "t", ">", "(", "this", ",", "buffer", "reserve", ",", "entry", "consumers", ")", ";", "}"], "new_code": "public producer barrier < t > create claimer ( final int buffer reserve , final entry consumer . . . entry consumers ) { return new ring buffer producer barrier < t > ( this , buffer reserve , entry consumers ) ; }", "new_code_tokens": ["public", "producer", "barrier", "<", "t", ">", "create", "claimer", "(", "final", "int", "buffer", "reserve", ",", "final", "entry", "consumer", ".", ".", ".", "entry", "consumers", ")", "{", "return", "new", "ring", "buffer", "producer", "barrier", "<", "t", ">", "(", "this", ",", "buffer", "reserve", ",", "entry", "consumers", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> claimer <REPLACE_NEW> producer barrier <REPLACE_END> <KEEP> < t > create claimer ( final int buffer reserve , final entry consumer . . . entry consumers ) { return new ring buffer <KEEP_END> <REPLACE_OLD> claimer <REPLACE_NEW> producer barrier <REPLACE_END> <KEEP> < t > ( this , buffer reserve , entry consumers ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "claimer", "<REPLACE_NEW>", "producer", "barrier", "<REPLACE_END>", "<KEEP>", "<", "t", ">", "create", "claimer", "(", "final", "int", "buffer", "reserve", ",", "final", "entry", "consumer", ".", ".", ".", "entry", "consumers", ")", "{", "return", "new", "ring", "buffer", "<KEEP_END>", "<REPLACE_OLD>", "claimer", "<REPLACE_NEW>", "producer", "barrier", "<REPLACE_END>", "<KEEP>", "<", "t", ">", "(", "this", ",", "buffer", "reserve", ",", "entry", "consumers", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> claimer <REPLACE_NEW> producer barrier <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "claimer", "<REPLACE_NEW>", "producer", "barrier", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "claimer", "<REPLACE_NEW>", "producer", "<REPLACE_NEW>", "barrier", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "create", "<KEEP>", "claimer", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "buffer", "<KEEP>", "reserve", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "entry", "<KEEP>", "consumer", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "consumers", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "ring", "<KEEP>", "buffer", "<REPLACE_OLD>", "claimer", "<REPLACE_NEW>", "producer", "<REPLACE_NEW>", "barrier", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "buffer", "<KEEP>", "reserve", "<KEEP>", ",", "<KEEP>", "entry", "<KEEP>", "consumers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9746793119982498, "using": 2, "keep": 1}
{"id": "eclipse_rt.equinox.framework-128-6537", "old_comment": "a dictionary of properties for this permission .", "old_comment_tokens": ["a", "dictionary", "of", "properties", "for", "this", "permission", "."], "new_comment": "a map of properties for this permission .", "new_comment_tokens": ["a", "map", "of", "properties", "for", "this", "permission", "."], "old_code": "private map < string , object > get properties ( ) { map < string , object > result = properties ; if ( result ! = null ) { return result ; } if ( service = = null ) { result = new hash map < string , object > ( num ) ; if ( filter = = null ) { result . put ( constants . objectclass , new string [ ] { get name ( ) } ) ; } return properties = result ; } final map < string , object > props = new hash map < string , object > ( num ) ; final bundle bundle = service . get bundle ( ) ; if ( bundle ! = null ) { access controller . do privileged ( new privileged action < object > ( ) { public object run ( ) { props . put ( str , new long ( bundle . get bundle id ( ) ) ) ; props . put ( str , bundle . get location ( ) ) ; string name = bundle . get symbolic name ( ) ; if ( name ! = null ) { props . put ( str , name ) ; } signer property signer = new signer property ( bundle ) ; if ( signer . is bundle signed ( ) ) { props . put ( str , signer ) ; } return null ; } } ) ; } return properties = new properties ( props , service ) ; }", "old_code_tokens": ["private", "map", "<", "string", ",", "object", ">", "get", "properties", "(", ")", "{", "map", "<", "string", ",", "object", ">", "result", "=", "properties", ";", "if", "(", "result", "!", "=", "null", ")", "{", "return", "result", ";", "}", "if", "(", "service", "=", "=", "null", ")", "{", "result", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "num", ")", ";", "if", "(", "filter", "=", "=", "null", ")", "{", "result", ".", "put", "(", "constants", ".", "objectclass", ",", "new", "string", "[", "]", "{", "get", "name", "(", ")", "}", ")", ";", "}", "return", "properties", "=", "result", ";", "}", "final", "map", "<", "string", ",", "object", ">", "props", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "num", ")", ";", "final", "bundle", "bundle", "=", "service", ".", "get", "bundle", "(", ")", ";", "if", "(", "bundle", "!", "=", "null", ")", "{", "access", "controller", ".", "do", "privileged", "(", "new", "privileged", "action", "<", "object", ">", "(", ")", "{", "public", "object", "run", "(", ")", "{", "props", ".", "put", "(", "str", ",", "new", "long", "(", "bundle", ".", "get", "bundle", "id", "(", ")", ")", ")", ";", "props", ".", "put", "(", "str", ",", "bundle", ".", "get", "location", "(", ")", ")", ";", "string", "name", "=", "bundle", ".", "get", "symbolic", "name", "(", ")", ";", "if", "(", "name", "!", "=", "null", ")", "{", "props", ".", "put", "(", "str", ",", "name", ")", ";", "}", "signer", "property", "signer", "=", "new", "signer", "property", "(", "bundle", ")", ";", "if", "(", "signer", ".", "is", "bundle", "signed", "(", ")", ")", "{", "props", ".", "put", "(", "str", ",", "signer", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "return", "properties", "=", "new", "properties", "(", "props", ",", "service", ")", ";", "}"], "new_code": "private map < string , object > get properties ( ) { map < string , object > result = properties ; if ( result ! = null ) { return result ; } final map < string , object > props = new hash map < string , object > ( num ) ; props . put ( str , get name ( ) ) ; if ( bundle = = null ) { return properties = props ; } access controller . do privileged ( new privileged action < object > ( ) { public object run ( ) { props . put ( str , new long ( bundle . get bundle id ( ) ) ) ; props . put ( str , bundle . get location ( ) ) ; string name = bundle . get symbolic name ( ) ; if ( name ! = null ) { props . put ( str , name ) ; } signer property signer = new signer property ( bundle ) ; if ( signer . is bundle signed ( ) ) { props . put ( str , signer ) ; } return null ; } } ) ; return properties = new properties ( props , attributes ) ; }", "new_code_tokens": ["private", "map", "<", "string", ",", "object", ">", "get", "properties", "(", ")", "{", "map", "<", "string", ",", "object", ">", "result", "=", "properties", ";", "if", "(", "result", "!", "=", "null", ")", "{", "return", "result", ";", "}", "final", "map", "<", "string", ",", "object", ">", "props", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "num", ")", ";", "props", ".", "put", "(", "str", ",", "get", "name", "(", ")", ")", ";", "if", "(", "bundle", "=", "=", "null", ")", "{", "return", "properties", "=", "props", ";", "}", "access", "controller", ".", "do", "privileged", "(", "new", "privileged", "action", "<", "object", ">", "(", ")", "{", "public", "object", "run", "(", ")", "{", "props", ".", "put", "(", "str", ",", "new", "long", "(", "bundle", ".", "get", "bundle", "id", "(", ")", ")", ")", ";", "props", ".", "put", "(", "str", ",", "bundle", ".", "get", "location", "(", ")", ")", ";", "string", "name", "=", "bundle", ".", "get", "symbolic", "name", "(", ")", ";", "if", "(", "name", "!", "=", "null", ")", "{", "props", ".", "put", "(", "str", ",", "name", ")", ";", "}", "signer", "property", "signer", "=", "new", "signer", "property", "(", "bundle", ")", ";", "if", "(", "signer", ".", "is", "bundle", "signed", "(", ")", ")", "{", "props", ".", "put", "(", "str", ",", "signer", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "return", "properties", "=", "new", "properties", "(", "props", ",", "attributes", ")", ";", "}"], "span_diff_code": "<KEEP> private map < string , object > get properties ( ) { map < string , object > result = properties ; if ( result ! = null ) { return result ; } <KEEP_END> <REPLACE_OLD> if ( service = = null ) { result <REPLACE_NEW> final map < string , object > props <REPLACE_END> <KEEP> = new hash map < string , object > ( num ) ; <KEEP_END> <REPLACE_OLD> if ( filter = = null ) { result . put ( constants . objectclass , new string [ ] { get name ( ) } ) ; } return properties = result ; } final map < string , object > props = new hash map < string , object > ( num ) ; final bundle bundle = service . get bundle ( ) ; if ( bundle ! = null ) { <REPLACE_NEW> props . put ( str , get name ( ) ) ; if ( bundle = = null ) { return properties = props ; } <REPLACE_END> <KEEP> access controller . do privileged ( new privileged action < object > ( ) { public object run ( ) { props . put ( str , new long ( bundle . get bundle id ( ) ) ) ; props . put ( str , bundle . get location ( ) ) ; string name = bundle . get symbolic name ( ) ; if ( name ! = null ) { props . put ( str , name ) ; } signer property signer = new signer property ( bundle ) ; if ( signer . is bundle signed ( ) ) { props . put ( str , signer ) ; } return null ; } } ) ; <KEEP_END> <REPLACE_OLD> } return properties = new properties ( props , service ) ; } <REPLACE_NEW> return properties = new properties ( props , attributes ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "map", "<", "string", ",", "object", ">", "get", "properties", "(", ")", "{", "map", "<", "string", ",", "object", ">", "result", "=", "properties", ";", "if", "(", "result", "!", "=", "null", ")", "{", "return", "result", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "service", "=", "=", "null", ")", "{", "result", "<REPLACE_NEW>", "final", "map", "<", "string", ",", "object", ">", "props", "<REPLACE_END>", "<KEEP>", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "num", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "filter", "=", "=", "null", ")", "{", "result", ".", "put", "(", "constants", ".", "objectclass", ",", "new", "string", "[", "]", "{", "get", "name", "(", ")", "}", ")", ";", "}", "return", "properties", "=", "result", ";", "}", "final", "map", "<", "string", ",", "object", ">", "props", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "num", ")", ";", "final", "bundle", "bundle", "=", "service", ".", "get", "bundle", "(", ")", ";", "if", "(", "bundle", "!", "=", "null", ")", "{", "<REPLACE_NEW>", "props", ".", "put", "(", "str", ",", "get", "name", "(", ")", ")", ";", "if", "(", "bundle", "=", "=", "null", ")", "{", "return", "properties", "=", "props", ";", "}", "<REPLACE_END>", "<KEEP>", "access", "controller", ".", "do", "privileged", "(", "new", "privileged", "action", "<", "object", ">", "(", ")", "{", "public", "object", "run", "(", ")", "{", "props", ".", "put", "(", "str", ",", "new", "long", "(", "bundle", ".", "get", "bundle", "id", "(", ")", ")", ")", ";", "props", ".", "put", "(", "str", ",", "bundle", ".", "get", "location", "(", ")", ")", ";", "string", "name", "=", "bundle", ".", "get", "symbolic", "name", "(", ")", ";", "if", "(", "name", "!", "=", "null", ")", "{", "props", ".", "put", "(", "str", ",", "name", ")", ";", "}", "signer", "property", "signer", "=", "new", "signer", "property", "(", "bundle", ")", ";", "if", "(", "signer", ".", "is", "bundle", "signed", "(", ")", ")", "{", "props", ".", "put", "(", "str", ",", "signer", ")", ";", "}", "return", "null", ";", "}", "}", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "return", "properties", "=", "new", "properties", "(", "props", ",", "service", ")", ";", "}", "<REPLACE_NEW>", "return", "properties", "=", "new", "properties", "(", "props", ",", "attributes", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> dictionary <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "dictionary", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "properties", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "props", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "filter", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "constants", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "objectclass", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "props", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "bundle", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "access", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "do", "<KEEP>", "privileged", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "privileged", "<KEEP>", "action", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "run", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "props", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "bundle", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "bundle", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "props", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "bundle", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "location", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "bundle", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "symbolic", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "props", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "signer", "<KEEP>", "property", "<KEEP>", "signer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "signer", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "bundle", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "signer", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "bundle", "<KEEP>", "signed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "props", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "signer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "props", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8875956602838625, "using": 0, "keep": 1}
{"id": "azkaban_azkaban-12-2414", "old_comment": "the total free memory size of the os . 0 if there is an error .", "old_comment_tokens": ["the", "total", "free", "memory", "size", "of", "the", "os", ".", "0", "if", "there", "is", "an", "error", "."], "new_comment": "the total free memory size of the os . 0 if there is an error or the os doesn ' t support this memory check .", "new_comment_tokens": ["the", "total", "free", "memory", "size", "of", "the", "os", ".", "0", "if", "there", "is", "an", "error", "or", "the", "os", "doesn", "'", "t", "support", "this", "memory", "check", "."], "old_code": "long get os total free memory size ( ) { list < string > lines ; try { lines = files . read all lines ( paths . get ( mem _ info _ file ) , standard charsets . utf _ 8 ) ; } catch ( ioexception e ) { string err msg = str + mem _ info _ file ; logger . warn ( err msg , e ) ; return num ; } return get os total free memory size from strings ( lines ) ; }", "old_code_tokens": ["long", "get", "os", "total", "free", "memory", "size", "(", ")", "{", "list", "<", "string", ">", "lines", ";", "try", "{", "lines", "=", "files", ".", "read", "all", "lines", "(", "paths", ".", "get", "(", "mem", "_", "info", "_", "file", ")", ",", "standard", "charsets", ".", "utf", "_", "8", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "string", "err", "msg", "=", "str", "+", "mem", "_", "info", "_", "file", ";", "logger", ".", "warn", "(", "err", "msg", ",", "e", ")", ";", "return", "num", ";", "}", "return", "get", "os", "total", "free", "memory", "size", "from", "strings", "(", "lines", ")", ";", "}"], "new_code": "long get os total free memory size ( ) { if ( ! files . is regular file ( paths . get ( mem _ info _ file ) ) ) { return num ; } list < string > lines ; try { lines = files . read all lines ( paths . get ( mem _ info _ file ) , standard charsets . utf _ 8 ) ; } catch ( ioexception e ) { string err msg = str + mem _ info _ file ; logger . error ( err msg , e ) ; return num ; } return get os total free memory size from strings ( lines ) ; }", "new_code_tokens": ["long", "get", "os", "total", "free", "memory", "size", "(", ")", "{", "if", "(", "!", "files", ".", "is", "regular", "file", "(", "paths", ".", "get", "(", "mem", "_", "info", "_", "file", ")", ")", ")", "{", "return", "num", ";", "}", "list", "<", "string", ">", "lines", ";", "try", "{", "lines", "=", "files", ".", "read", "all", "lines", "(", "paths", ".", "get", "(", "mem", "_", "info", "_", "file", ")", ",", "standard", "charsets", ".", "utf", "_", "8", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "string", "err", "msg", "=", "str", "+", "mem", "_", "info", "_", "file", ";", "logger", ".", "error", "(", "err", "msg", ",", "e", ")", ";", "return", "num", ";", "}", "return", "get", "os", "total", "free", "memory", "size", "from", "strings", "(", "lines", ")", ";", "}"], "span_diff_code": "<KEEP> long get os total free memory size ( ) { <KEEP_END> <INSERT> if ( ! files . is regular file ( paths . get ( mem _ info _ file ) ) ) { return num ; } <INSERT_END> <KEEP> list < string > lines ; try { lines = files . read all lines ( paths . get ( mem _ info _ file ) , standard charsets . utf _ 8 ) ; } catch ( ioexception e ) { string err msg = str + mem _ info _ file ; logger . <KEEP_END> <REPLACE_OLD> warn <REPLACE_NEW> error <REPLACE_END> <KEEP> ( err msg , e ) ; return num ; } return get os total free memory size from strings ( lines ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "long", "get", "os", "total", "free", "memory", "size", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "!", "files", ".", "is", "regular", "file", "(", "paths", ".", "get", "(", "mem", "_", "info", "_", "file", ")", ")", ")", "{", "return", "num", ";", "}", "<INSERT_END>", "<KEEP>", "list", "<", "string", ">", "lines", ";", "try", "{", "lines", "=", "files", ".", "read", "all", "lines", "(", "paths", ".", "get", "(", "mem", "_", "info", "_", "file", ")", ",", "standard", "charsets", ".", "utf", "_", "8", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "string", "err", "msg", "=", "str", "+", "mem", "_", "info", "_", "file", ";", "logger", ".", "<KEEP_END>", "<REPLACE_OLD>", "warn", "<REPLACE_NEW>", "error", "<REPLACE_END>", "<KEEP>", "(", "err", "msg", ",", "e", ")", ";", "return", "num", ";", "}", "return", "get", "os", "total", "free", "memory", "size", "from", "strings", "(", "lines", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> error <INSERT_NEW_KEEP_BEFORE> error or the os doesn ' t support this memory check <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "error", "<INSERT_NEW_KEEP_BEFORE>", "error", "or", "the", "os", "doesn", "'", "t", "support", "this", "memory", "check", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "os", "<KEEP>", "total", "<KEEP>", "free", "<KEEP>", "memory", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "files", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "regular", "<INSERT>", "file", "<INSERT>", "(", "<INSERT>", "paths", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "mem", "<INSERT>", "_", "<INSERT>", "info", "<INSERT>", "_", "<INSERT>", "file", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "lines", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "lines", "<KEEP>", "=", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "all", "<KEEP>", "lines", "<KEEP>", "(", "<KEEP>", "paths", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "mem", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", "_", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "standard", "<KEEP>", "charsets", "<KEEP>", ".", "<KEEP>", "utf", "<KEEP>", "_", "<KEEP>", "8", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "err", "<KEEP>", "msg", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "mem", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", "_", "<KEEP>", "file", "<KEEP>", ";", "<KEEP>", "logger", "<KEEP>", ".", "<REPLACE_OLD>", "warn", "<REPLACE_NEW>", "error", "<KEEP>", "(", "<KEEP>", "err", "<KEEP>", "msg", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "os", "<KEEP>", "total", "<KEEP>", "free", "<KEEP>", "memory", "<KEEP>", "size", "<KEEP>", "from", "<KEEP>", "strings", "<KEEP>", "(", "<KEEP>", "lines", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8910879410241792, "using": 0, "keep": 1}
{"id": "gnodet_wikitext-138-6894", "old_comment": "the value of the ' server ' reference .", "old_comment_tokens": ["the", "value", "of", "the", "'", "server", "'", "reference", "."], "new_comment": "the value of the ' server ' container reference .", "new_comment_tokens": ["the", "value", "of", "the", "'", "server", "'", "container", "reference", "."], "old_code": "public ibuild server get server ( ) { if ( server ! = null & & ( ( eobject ) server ) . e is proxy ( ) ) { internal eobject old server = ( internal eobject ) server ; server = ( ibuild server ) e resolve proxy ( old server ) ; if ( server ! = old server ) { if ( e notification required ( ) ) e notify ( new enotification impl ( this , notification . resolve , build package . build _ plan _ _ server , old server , server ) ) ; } } return server ; }", "old_code_tokens": ["public", "ibuild", "server", "get", "server", "(", ")", "{", "if", "(", "server", "!", "=", "null", "&", "&", "(", "(", "eobject", ")", "server", ")", ".", "e", "is", "proxy", "(", ")", ")", "{", "internal", "eobject", "old", "server", "=", "(", "internal", "eobject", ")", "server", ";", "server", "=", "(", "ibuild", "server", ")", "e", "resolve", "proxy", "(", "old", "server", ")", ";", "if", "(", "server", "!", "=", "old", "server", ")", "{", "if", "(", "e", "notification", "required", "(", ")", ")", "e", "notify", "(", "new", "enotification", "impl", "(", "this", ",", "notification", ".", "resolve", ",", "build", "package", ".", "build", "_", "plan", "_", "_", "server", ",", "old", "server", ",", "server", ")", ")", ";", "}", "}", "return", "server", ";", "}"], "new_code": "public ibuild server get server ( ) { if ( e container feature id ( ) ! = build package . build _ plan _ _ server ) return null ; return ( ibuild server ) e container ( ) ; }", "new_code_tokens": ["public", "ibuild", "server", "get", "server", "(", ")", "{", "if", "(", "e", "container", "feature", "id", "(", ")", "!", "=", "build", "package", ".", "build", "_", "plan", "_", "_", "server", ")", "return", "null", ";", "return", "(", "ibuild", "server", ")", "e", "container", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public ibuild server get server ( ) { if ( <KEEP_END> <REPLACE_OLD> server <REPLACE_NEW> e container feature id ( ) <REPLACE_END> <KEEP> ! = <KEEP_END> <DELETE> null & & ( ( eobject ) server ) . e is proxy ( ) ) { internal eobject old server = ( internal eobject ) server ; server = ( ibuild server ) e resolve proxy ( old server ) ; if ( server ! = old server ) { if ( e notification required ( ) ) e notify ( new enotification impl ( this , notification . resolve , <DELETE_END> <KEEP> build package . build _ plan _ _ server <KEEP_END> <REPLACE_OLD> , old server , <REPLACE_NEW> ) return null ; return ( ibuild <REPLACE_END> <KEEP> server ) <KEEP_END> <INSERT> e container ( <INSERT_END> <KEEP> ) ; } <KEEP_END> <DELETE> } return server ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "ibuild", "server", "get", "server", "(", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "e", "container", "feature", "id", "(", ")", "<REPLACE_END>", "<KEEP>", "!", "=", "<KEEP_END>", "<DELETE>", "null", "&", "&", "(", "(", "eobject", ")", "server", ")", ".", "e", "is", "proxy", "(", ")", ")", "{", "internal", "eobject", "old", "server", "=", "(", "internal", "eobject", ")", "server", ";", "server", "=", "(", "ibuild", "server", ")", "e", "resolve", "proxy", "(", "old", "server", ")", ";", "if", "(", "server", "!", "=", "old", "server", ")", "{", "if", "(", "e", "notification", "required", "(", ")", ")", "e", "notify", "(", "new", "enotification", "impl", "(", "this", ",", "notification", ".", "resolve", ",", "<DELETE_END>", "<KEEP>", "build", "package", ".", "build", "_", "plan", "_", "_", "server", "<KEEP_END>", "<REPLACE_OLD>", ",", "old", "server", ",", "<REPLACE_NEW>", ")", "return", "null", ";", "return", "(", "ibuild", "<REPLACE_END>", "<KEEP>", "server", ")", "<KEEP_END>", "<INSERT>", "e", "container", "(", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "return", "server", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> server ' <INSERT_NEW_KEEP_BEFORE> server ' container <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "server", "'", "<INSERT_NEW_KEEP_BEFORE>", "server", "'", "container", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "ibuild", "<KEEP>", "server", "<KEEP>", "get", "<KEEP>", "server", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", "container", "<REPLACE_NEW>", "feature", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "!", "<KEEP>", "=", "<DELETE>", "null", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "eobject", "<DELETE>", ")", "<DELETE>", "server", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "e", "<DELETE>", "is", "<DELETE>", "proxy", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "internal", "<DELETE>", "eobject", "<DELETE>", "old", "<DELETE>", "server", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "internal", "<DELETE>", "eobject", "<DELETE>", ")", "<DELETE>", "server", "<DELETE>", ";", "<DELETE>", "server", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "ibuild", "<DELETE>", "server", "<DELETE>", ")", "<DELETE>", "e", "<DELETE>", "resolve", "<DELETE>", "proxy", "<DELETE>", "(", "<DELETE>", "old", "<DELETE>", "server", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "server", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "old", "<DELETE>", "server", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "e", "<DELETE>", "notification", "<DELETE>", "required", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "e", "<DELETE>", "notify", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "enotification", "<DELETE>", "impl", "<DELETE>", "(", "<DELETE>", "this", "<DELETE>", ",", "<DELETE>", "notification", "<DELETE>", ".", "<DELETE>", "resolve", "<DELETE>", ",", "<KEEP>", "build", "<KEEP>", "package", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "_", "<KEEP>", "plan", "<KEEP>", "_", "<KEEP>", "_", "<KEEP>", "server", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "old", "<REPLACE_OLD>", "server", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ibuild", "<KEEP>", "server", "<KEEP>", ")", "<INSERT>", "e", "<INSERT>", "container", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "server", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.9759810663902071, "using": 2, "keep": 1}
{"id": "dbremner_testability-explorer-2-5586", "old_comment": "returns all methods in the same class which are setters", "old_comment_tokens": ["returns", "all", "methods", "in", "the", "same", "class", "which", "are", "setters"], "new_comment": "returns all methods in the same class which are setters , other than this setter", "new_comment_tokens": ["returns", "all", "methods", "in", "the", "same", "class", "which", "are", "setters", ",", "other", "than", "this", "setter"], "old_code": "public collection < method info > get sibling setters ( ) { return class info . get setters ( ) ; }", "old_code_tokens": ["public", "collection", "<", "method", "info", ">", "get", "sibling", "setters", "(", ")", "{", "return", "class", "info", ".", "get", "setters", "(", ")", ";", "}"], "new_code": "public collection < method info > get sibling setters ( ) { return new array list ( filter ( class info . get setters ( ) , not self ) ) ; }", "new_code_tokens": ["public", "collection", "<", "method", "info", ">", "get", "sibling", "setters", "(", ")", "{", "return", "new", "array", "list", "(", "filter", "(", "class", "info", ".", "get", "setters", "(", ")", ",", "not", "self", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public collection < method info > get sibling setters ( ) { return <KEEP_END> <INSERT> new array list ( filter ( <INSERT_END> <KEEP> class info . get setters ( ) <KEEP_END> <INSERT> , not self ) ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "collection", "<", "method", "info", ">", "get", "sibling", "setters", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "new", "array", "list", "(", "filter", "(", "<INSERT_END>", "<KEEP>", "class", "info", ".", "get", "setters", "(", ")", "<KEEP_END>", "<INSERT>", ",", "not", "self", ")", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> setters <INSERT_NEW_KEEP_BEFORE> setters , other than this setter <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "setters", "<INSERT_NEW_KEEP_BEFORE>", "setters", ",", "other", "than", "this", "setter", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "method", "<KEEP>", "info", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "sibling", "<KEEP>", "setters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "(", "<INSERT>", "filter", "<INSERT>", "(", "<KEEP>", "class", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "setters", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ",", "<INSERT>", "not", "<INSERT>", "self", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9558770502574931, "using": 2, "keep": 1}
{"id": "nickman_apmrouter-67-4120", "old_comment": "the deserialized h2 metric value domain", "old_comment_tokens": ["the", "deserialized", "h2", "metric", "value", "domain"], "new_comment": "the deserialized h2 time series", "new_comment_tokens": ["the", "deserialized", "h2", "time", "series"], "old_code": "public static h2 metric value domain deserialize ( byte [ ] arr ) throws ioexception , class not found exception { byte array input stream bais = new byte array input stream ( arr ) ; object input stream ois = new object input stream ( bais ) ; return ( h2 metric value domain ) ois . read object ( ) ; }", "old_code_tokens": ["public", "static", "h2", "metric", "value", "domain", "deserialize", "(", "byte", "[", "]", "arr", ")", "throws", "ioexception", ",", "class", "not", "found", "exception", "{", "byte", "array", "input", "stream", "bais", "=", "new", "byte", "array", "input", "stream", "(", "arr", ")", ";", "object", "input", "stream", "ois", "=", "new", "object", "input", "stream", "(", "bais", ")", ";", "return", "(", "h2", "metric", "value", "domain", ")", "ois", ".", "read", "object", "(", ")", ";", "}"], "new_code": "public static h2 time series deserialize ( byte [ ] arr ) throws ioexception , class not found exception { byte array input stream bais = new byte array input stream ( arr ) ; object input stream ois = new object input stream ( bais ) ; return ( h2 time series ) ois . read object ( ) ; }", "new_code_tokens": ["public", "static", "h2", "time", "series", "deserialize", "(", "byte", "[", "]", "arr", ")", "throws", "ioexception", ",", "class", "not", "found", "exception", "{", "byte", "array", "input", "stream", "bais", "=", "new", "byte", "array", "input", "stream", "(", "arr", ")", ";", "object", "input", "stream", "ois", "=", "new", "object", "input", "stream", "(", "bais", ")", ";", "return", "(", "h2", "time", "series", ")", "ois", ".", "read", "object", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static h2 <KEEP_END> <REPLACE_OLD> metric value domain <REPLACE_NEW> time series <REPLACE_END> <KEEP> deserialize ( byte [ ] arr ) throws ioexception , class not found exception { byte array input stream bais = new byte array input stream ( arr ) ; object input stream ois = new object input stream ( bais ) ; return ( h2 <KEEP_END> <REPLACE_OLD> metric value domain <REPLACE_NEW> time series <REPLACE_END> <KEEP> ) ois . read object ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "h2", "<KEEP_END>", "<REPLACE_OLD>", "metric", "value", "domain", "<REPLACE_NEW>", "time", "series", "<REPLACE_END>", "<KEEP>", "deserialize", "(", "byte", "[", "]", "arr", ")", "throws", "ioexception", ",", "class", "not", "found", "exception", "{", "byte", "array", "input", "stream", "bais", "=", "new", "byte", "array", "input", "stream", "(", "arr", ")", ";", "object", "input", "stream", "ois", "=", "new", "object", "input", "stream", "(", "bais", ")", ";", "return", "(", "h2", "<KEEP_END>", "<REPLACE_OLD>", "metric", "value", "domain", "<REPLACE_NEW>", "time", "series", "<REPLACE_END>", "<KEEP>", ")", "ois", ".", "read", "object", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> metric value domain <REPLACE_NEW> time series <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "metric", "value", "domain", "<REPLACE_NEW>", "time", "series", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "h2", "<REPLACE_OLD>", "metric", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "domain", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "series", "<KEEP>", "deserialize", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "arr", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "byte", "<KEEP>", "array", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "bais", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "array", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "arr", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "object", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "ois", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "object", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "bais", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "h2", "<REPLACE_OLD>", "metric", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "domain", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "series", "<KEEP>", ")", "<KEEP>", "ois", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9655497585914335, "using": 2, "keep": 1}
{"id": "rzel_google-collections-72-5662", "old_comment": "an immutable set instance containing those elements , minus duplicates", "old_comment_tokens": ["an", "immutable", "set", "instance", "containing", "those", "elements", ",", "minus", "duplicates"], "new_comment": "an immutable set containing those elements , minus duplicates", "new_comment_tokens": ["an", "immutable", "set", "containing", "those", "elements", ",", "minus", "duplicates"], "old_code": "public static < e extends enum < e > > immutable set < e > immutable enum set ( e an element , e . . . other elements ) { return new immutable set . forwarding immutable set < e > ( enum set . of ( an element , other elements ) ) ; }", "old_code_tokens": ["public", "static", "<", "e", "extends", "enum", "<", "e", ">", ">", "immutable", "set", "<", "e", ">", "immutable", "enum", "set", "(", "e", "an", "element", ",", "e", ".", ".", ".", "other", "elements", ")", "{", "return", "new", "immutable", "set", ".", "forwarding", "immutable", "set", "<", "e", ">", "(", "enum", "set", ".", "of", "(", "an", "element", ",", "other", "elements", ")", ")", ";", "}"], "new_code": "@ gwt compatible ( serializable = false ) public static < e extends enum < e > > immutable set < e > immutable enum set ( e an element , e . . . other elements ) { return new immutable set . immutable enum set < e > ( enum set . of ( an element , other elements ) ) ; }", "new_code_tokens": ["@", "gwt", "compatible", "(", "serializable", "=", "false", ")", "public", "static", "<", "e", "extends", "enum", "<", "e", ">", ">", "immutable", "set", "<", "e", ">", "immutable", "enum", "set", "(", "e", "an", "element", ",", "e", ".", ".", ".", "other", "elements", ")", "{", "return", "new", "immutable", "set", ".", "immutable", "enum", "set", "<", "e", ">", "(", "enum", "set", ".", "of", "(", "an", "element", ",", "other", "elements", ")", ")", ";", "}"], "span_diff_code": "<INSERT> @ gwt compatible ( serializable = false ) <INSERT_END> <KEEP> public static < e extends enum < e > > immutable set < e > immutable enum set ( e an element , e . . . other elements ) { return new immutable set . <KEEP_END> <DELETE> forwarding <DELETE_END> <KEEP> immutable <KEEP_END> <INSERT> enum <INSERT_END> <KEEP> set < e > ( enum set . of ( an element , other elements ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "gwt", "compatible", "(", "serializable", "=", "false", ")", "<INSERT_END>", "<KEEP>", "public", "static", "<", "e", "extends", "enum", "<", "e", ">", ">", "immutable", "set", "<", "e", ">", "immutable", "enum", "set", "(", "e", "an", "element", ",", "e", ".", ".", ".", "other", "elements", ")", "{", "return", "new", "immutable", "set", ".", "<KEEP_END>", "<DELETE>", "forwarding", "<DELETE_END>", "<KEEP>", "immutable", "<KEEP_END>", "<INSERT>", "enum", "<INSERT_END>", "<KEEP>", "set", "<", "e", ">", "(", "enum", "set", ".", "of", "(", "an", "element", ",", "other", "elements", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> instance <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "instance", "<DELETE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "gwt", "<INSERT>", "compatible", "<INSERT>", "(", "<INSERT>", "serializable", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", "extends", "<KEEP>", "enum", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "immutable", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "immutable", "<KEEP>", "enum", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "an", "<KEEP>", "element", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "other", "<KEEP>", "elements", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "immutable", "<KEEP>", "set", "<KEEP>", ".", "<DELETE>", "forwarding", "<KEEP>", "immutable", "<INSERT>", "enum", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "enum", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "an", "<KEEP>", "element", "<KEEP>", ",", "<KEEP>", "other", "<KEEP>", "elements", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8996262487702413, "using": 0, "keep": 1}
{"id": "vespa-engine_vespa-125-3341", "old_comment": "the list of nodes sorted by node priority : : compare", "old_comment_tokens": ["the", "list", "of", "nodes", "sorted", "by", "node", "priority", ":", ":", "compare"], "new_comment": "the list of nodes sorted by prioritizable node : : compare", "new_comment_tokens": ["the", "list", "of", "nodes", "sorted", "by", "prioritizable", "node", ":", ":", "compare"], "old_code": "list < node priority > prioritize ( ) { list < node priority > priority list = new array list < > ( nodes . values ( ) ) ; collections . sort ( priority list , ( a , b ) - > node priority . compare ( a , b ) ) ; return priority list ; }", "old_code_tokens": ["list", "<", "node", "priority", ">", "prioritize", "(", ")", "{", "list", "<", "node", "priority", ">", "priority", "list", "=", "new", "array", "list", "<", ">", "(", "nodes", ".", "values", "(", ")", ")", ";", "collections", ".", "sort", "(", "priority", "list", ",", "(", "a", ",", "b", ")", "-", ">", "node", "priority", ".", "compare", "(", "a", ",", "b", ")", ")", ";", "return", "priority", "list", ";", "}"], "new_code": "list < prioritizable node > prioritize ( ) { list < prioritizable node > priority list = new array list < > ( nodes . values ( ) ) ; collections . sort ( priority list ) ; return priority list ; }", "new_code_tokens": ["list", "<", "prioritizable", "node", ">", "prioritize", "(", ")", "{", "list", "<", "prioritizable", "node", ">", "priority", "list", "=", "new", "array", "list", "<", ">", "(", "nodes", ".", "values", "(", ")", ")", ";", "collections", ".", "sort", "(", "priority", "list", ")", ";", "return", "priority", "list", ";", "}"], "span_diff_code": "<KEEP> list < <KEEP_END> <INSERT> prioritizable <INSERT_END> <KEEP> node <KEEP_END> <DELETE> priority <DELETE_END> <KEEP> > prioritize ( ) { list < <KEEP_END> <INSERT> prioritizable <INSERT_END> <KEEP> node <KEEP_END> <DELETE> priority <DELETE_END> <KEEP> > priority list = new array list < > ( nodes . values ( ) ) ; collections . sort ( priority list <KEEP_END> <DELETE> , ( a , b ) - > node priority . compare ( a , b ) <DELETE_END> <KEEP> ) ; return priority list ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "list", "<", "<KEEP_END>", "<INSERT>", "prioritizable", "<INSERT_END>", "<KEEP>", "node", "<KEEP_END>", "<DELETE>", "priority", "<DELETE_END>", "<KEEP>", ">", "prioritize", "(", ")", "{", "list", "<", "<KEEP_END>", "<INSERT>", "prioritizable", "<INSERT_END>", "<KEEP>", "node", "<KEEP_END>", "<DELETE>", "priority", "<DELETE_END>", "<KEEP>", ">", "priority", "list", "=", "new", "array", "list", "<", ">", "(", "nodes", ".", "values", "(", ")", ")", ";", "collections", ".", "sort", "(", "priority", "list", "<KEEP_END>", "<DELETE>", ",", "(", "a", ",", "b", ")", "-", ">", "node", "priority", ".", "compare", "(", "a", ",", "b", ")", "<DELETE_END>", "<KEEP>", ")", ";", "return", "priority", "list", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> by <INSERT_NEW_KEEP_BEFORE> by prioritizable <INSERT_END> <DELETE> priority <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "by", "<INSERT_NEW_KEEP_BEFORE>", "by", "prioritizable", "<INSERT_END>", "<DELETE>", "priority", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "list", "<KEEP>", "<", "<INSERT>", "prioritizable", "<KEEP>", "node", "<DELETE>", "priority", "<KEEP>", ">", "<KEEP>", "prioritize", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<INSERT>", "prioritizable", "<KEEP>", "node", "<DELETE>", "priority", "<KEEP>", ">", "<KEEP>", "priority", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "nodes", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "sort", "<KEEP>", "(", "<KEEP>", "priority", "<KEEP>", "list", "<DELETE>", ",", "<DELETE>", "(", "<DELETE>", "a", "<DELETE>", ",", "<DELETE>", "b", "<DELETE>", ")", "<DELETE>", "-", "<DELETE>", ">", "<DELETE>", "node", "<DELETE>", "priority", "<DELETE>", ".", "<DELETE>", "compare", "<DELETE>", "(", "<DELETE>", "a", "<DELETE>", ",", "<DELETE>", "b", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "priority", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9829331861159973, "using": 2, "keep": 1}
{"id": "eugenp_tutorials-2-255", "old_comment": "returns cookie value ( or null if cookie with given key does not exist )", "old_comment_tokens": ["returns", "cookie", "value", "(", "or", "null", "if", "cookie", "with", "given", "key", "does", "not", "exist", ")"], "new_comment": "returns cookie value", "new_comment_tokens": ["returns", "cookie", "value"], "old_code": "public string read cookie ( string key ) { return arrays . stream ( request . get cookies ( ) ) . filter ( c - > key . equals ( c . get name ( ) ) ) . map ( cookie : : get value ) . find first ( ) . or else ( null ) ; }", "old_code_tokens": ["public", "string", "read", "cookie", "(", "string", "key", ")", "{", "return", "arrays", ".", "stream", "(", "request", ".", "get", "cookies", "(", ")", ")", ".", "filter", "(", "c", "-", ">", "key", ".", "equals", "(", "c", ".", "get", "name", "(", ")", ")", ")", ".", "map", "(", "cookie", ":", ":", "get", "value", ")", ".", "find", "first", "(", ")", ".", "or", "else", "(", "null", ")", ";", "}"], "new_code": "public optional < string > read cookie ( string key ) { return arrays . stream ( request . get cookies ( ) ) . filter ( c - > key . equals ( c . get name ( ) ) ) . map ( cookie : : get value ) . find first ( ) ; }", "new_code_tokens": ["public", "optional", "<", "string", ">", "read", "cookie", "(", "string", "key", ")", "{", "return", "arrays", ".", "stream", "(", "request", ".", "get", "cookies", "(", ")", ")", ".", "filter", "(", "c", "-", ">", "key", ".", "equals", "(", "c", ".", "get", "name", "(", ")", ")", ")", ".", "map", "(", "cookie", ":", ":", "get", "value", ")", ".", "find", "first", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> optional < <INSERT_END> <KEEP> string <KEEP_END> <INSERT> > <INSERT_END> <KEEP> read cookie ( string key ) { return arrays . stream ( request . get cookies ( ) ) . filter ( c - > key . equals ( c . get name ( ) ) ) . map ( cookie : : get value ) . find first ( ) <KEEP_END> <DELETE> . or else ( null ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "optional", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "read", "cookie", "(", "string", "key", ")", "{", "return", "arrays", ".", "stream", "(", "request", ".", "get", "cookies", "(", ")", ")", ".", "filter", "(", "c", "-", ">", "key", ".", "equals", "(", "c", ".", "get", "name", "(", ")", ")", ")", ".", "map", "(", "cookie", ":", ":", "get", "value", ")", ".", "find", "first", "(", ")", "<KEEP_END>", "<DELETE>", ".", "or", "else", "(", "null", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ( or null if cookie with given key does not exist ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "or", "null", "if", "cookie", "with", "given", "key", "does", "not", "exist", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "optional", "<INSERT>", "<", "<KEEP>", "string", "<INSERT>", ">", "<KEEP>", "read", "<KEEP>", "cookie", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cookies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", "-", "<KEEP>", ">", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "cookie", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "or", "<DELETE>", "else", "<DELETE>", "(", "<DELETE>", "null", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.886779635516639, "using": 1, "keep": 1}
{"id": "Bukkit_Bukkit-9-3620", "old_comment": "living entity that damaged the player", "old_comment_tokens": ["living", "entity", "that", "damaged", "the", "player"], "new_comment": "entity that damaged the player", "new_comment_tokens": ["entity", "that", "damaged", "the", "player"], "old_code": "public living entity get damager ( ) { return damager ; }", "old_code_tokens": ["public", "living", "entity", "get", "damager", "(", ")", "{", "return", "damager", ";", "}"], "new_code": "public entity get damager ( ) { return damager ; }", "new_code_tokens": ["public", "entity", "get", "damager", "(", ")", "{", "return", "damager", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> living <DELETE_END> <KEEP> entity get damager ( ) { return damager ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "living", "<DELETE_END>", "<KEEP>", "entity", "get", "damager", "(", ")", "{", "return", "damager", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> living <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "living", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "living", "<KEEP>", "entity", "<KEEP>", "get", "<KEEP>", "damager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "damager", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9743225835575988, "using": 2, "keep": 1}
{"id": "Bukkit_Bukkit-28-3616", "old_comment": "list of registrations", "old_comment_tokens": ["list", "of", "registrations"], "new_comment": "a copy of the list of registrations", "new_comment_tokens": ["a", "copy", "of", "the", "list", "of", "registrations"], "old_code": "@ suppress warnings ( str ) public < t > collection < registered service provider < t > > get registrations ( class < t > service ) { synchronized ( providers ) { list < registered service provider < ? > > registered = providers . get ( service ) ; if ( registered = = null ) { return collections . unmodifiable list ( new array list < registered service provider < t > > ( ) ) ; } list < registered service provider < t > > ret = new array list < registered service provider < t > > ( ) ; for ( registered service provider < ? > provider : registered ) { ret . add ( ( registered service provider < t > ) provider ) ; } return collections . unmodifiable list ( ret ) ; } }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "<", "t", ">", "collection", "<", "registered", "service", "provider", "<", "t", ">", ">", "get", "registrations", "(", "class", "<", "t", ">", "service", ")", "{", "synchronized", "(", "providers", ")", "{", "list", "<", "registered", "service", "provider", "<", "?", ">", ">", "registered", "=", "providers", ".", "get", "(", "service", ")", ";", "if", "(", "registered", "=", "=", "null", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "new", "array", "list", "<", "registered", "service", "provider", "<", "t", ">", ">", "(", ")", ")", ";", "}", "list", "<", "registered", "service", "provider", "<", "t", ">", ">", "ret", "=", "new", "array", "list", "<", "registered", "service", "provider", "<", "t", ">", ">", "(", ")", ";", "for", "(", "registered", "service", "provider", "<", "?", ">", "provider", ":", "registered", ")", "{", "ret", ".", "add", "(", "(", "registered", "service", "provider", "<", "t", ">", ")", "provider", ")", ";", "}", "return", "collections", ".", "unmodifiable", "list", "(", "ret", ")", ";", "}", "}"], "new_code": "@ suppress warnings ( str ) public < t > list < registered service provider < t > > get registrations ( class < t > service ) { immutable list . builder < registered service provider < t > > ret ; synchronized ( providers ) { list < registered service provider < ? > > registered = providers . get ( service ) ; if ( registered = = null ) { return immutable list . < registered service provider < t > > of ( ) ; } ret = immutable list . < registered service provider < t > > builder ( ) ; for ( registered service provider < ? > provider : registered ) { ret . add ( ( registered service provider < t > ) provider ) ; } } return ret . build ( ) ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "<", "t", ">", "list", "<", "registered", "service", "provider", "<", "t", ">", ">", "get", "registrations", "(", "class", "<", "t", ">", "service", ")", "{", "immutable", "list", ".", "builder", "<", "registered", "service", "provider", "<", "t", ">", ">", "ret", ";", "synchronized", "(", "providers", ")", "{", "list", "<", "registered", "service", "provider", "<", "?", ">", ">", "registered", "=", "providers", ".", "get", "(", "service", ")", ";", "if", "(", "registered", "=", "=", "null", ")", "{", "return", "immutable", "list", ".", "<", "registered", "service", "provider", "<", "t", ">", ">", "of", "(", ")", ";", "}", "ret", "=", "immutable", "list", ".", "<", "registered", "service", "provider", "<", "t", ">", ">", "builder", "(", ")", ";", "for", "(", "registered", "service", "provider", "<", "?", ">", "provider", ":", "registered", ")", "{", "ret", ".", "add", "(", "(", "registered", "service", "provider", "<", "t", ">", ")", "provider", ")", ";", "}", "}", "return", "ret", ".", "build", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) public < t > <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < registered service provider < t > > get registrations ( class < t > service ) { <KEEP_END> <INSERT> immutable list . builder < registered service provider < t > > ret ; <INSERT_END> <KEEP> synchronized ( providers ) { list < registered service provider < ? > > registered = providers . get ( service ) ; if ( registered = = null ) { return <KEEP_END> <REPLACE_OLD> collections <REPLACE_NEW> immutable list <REPLACE_END> <KEEP> . <KEEP_END> <DELETE> unmodifiable list ( new array list <DELETE_END> <KEEP> < registered service provider < t > > <KEEP_END> <INSERT> of <INSERT_END> <KEEP> ( <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ) ; } <KEEP_END> <INSERT> ret = immutable <INSERT_END> <KEEP> list <KEEP_END> <INSERT> . <INSERT_END> <KEEP> < registered service provider < t > > <KEEP_END> <REPLACE_OLD> ret = new array list < registered service provider < t > > <REPLACE_NEW> builder <REPLACE_END> <KEEP> ( ) ; for ( registered service provider < ? > provider : registered ) { ret . add ( ( registered service provider < t > ) provider ) ; } <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> collections <REPLACE_NEW> ret <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> unmodifiable list <REPLACE_NEW> build <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ret <DELETE_END> <KEEP> ) ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "public", "<", "t", ">", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "registered", "service", "provider", "<", "t", ">", ">", "get", "registrations", "(", "class", "<", "t", ">", "service", ")", "{", "<KEEP_END>", "<INSERT>", "immutable", "list", ".", "builder", "<", "registered", "service", "provider", "<", "t", ">", ">", "ret", ";", "<INSERT_END>", "<KEEP>", "synchronized", "(", "providers", ")", "{", "list", "<", "registered", "service", "provider", "<", "?", ">", ">", "registered", "=", "providers", ".", "get", "(", "service", ")", ";", "if", "(", "registered", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "immutable", "list", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<DELETE>", "unmodifiable", "list", "(", "new", "array", "list", "<DELETE_END>", "<KEEP>", "<", "registered", "service", "provider", "<", "t", ">", ">", "<KEEP_END>", "<INSERT>", "of", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<INSERT>", "ret", "=", "immutable", "<INSERT_END>", "<KEEP>", "list", "<KEEP_END>", "<INSERT>", ".", "<INSERT_END>", "<KEEP>", "<", "registered", "service", "provider", "<", "t", ">", ">", "<KEEP_END>", "<REPLACE_OLD>", "ret", "=", "new", "array", "list", "<", "registered", "service", "provider", "<", "t", ">", ">", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "registered", "service", "provider", "<", "?", ">", "provider", ":", "registered", ")", "{", "ret", ".", "add", "(", "(", "registered", "service", "provider", "<", "t", ">", ")", "provider", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "ret", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "unmodifiable", "list", "<REPLACE_NEW>", "build", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "ret", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> list <INSERT_NEW_KEEP_AFTER> a copy of the list <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "list", "<INSERT_NEW_KEEP_AFTER>", "a", "copy", "of", "the", "list", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "service", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "registrations", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "service", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "immutable", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "builder", "<INSERT>", "<", "<INSERT>", "registered", "<INSERT>", "service", "<INSERT>", "provider", "<INSERT>", "<", "<INSERT>", "t", "<INSERT>", ">", "<INSERT>", ">", "<INSERT>", "ret", "<INSERT>", ";", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "providers", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "service", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "registered", "<KEEP>", "=", "<KEEP>", "providers", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "service", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "registered", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "immutable", "<REPLACE_NEW>", "list", "<KEEP>", ".", "<DELETE>", "unmodifiable", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "array", "<DELETE>", "list", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "service", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", ">", "<INSERT>", "of", "<KEEP>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "ret", "<INSERT>", "=", "<INSERT>", "immutable", "<KEEP>", "list", "<INSERT>", ".", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "service", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", ">", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "registered", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "registered", "<KEEP>", "service", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "provider", "<KEEP>", ":", "<KEEP>", "registered", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ret", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "registered", "<KEEP>", "service", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "provider", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "ret", "<KEEP>", ".", "<REPLACE_OLD>", "unmodifiable", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "build", "<KEEP>", "(", "<DELETE>", "ret", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "valid", "score": 0.8238075655725391, "using": 2, "keep": 1}
{"id": "uber_AutoDispose-1-2836", "old_comment": "a resolved maybe representation of a given provider", "old_comment_tokens": ["a", "resolved", "maybe", "representation", "of", "a", "given", "provider"], "new_comment": "a resolved completable source representation of a given provider", "new_comment_tokens": ["a", "resolved", "completable", "source", "representation", "of", "a", "given", "provider"], "old_code": "public static < e > maybe < ? > resolve scope from lifecycle ( final lifecycle scope provider < e > provider , final boolean check end boundary ) throws outside scope exception { e last event = provider . peek lifecycle ( ) ; corresponding events function < e > events function = provider . corresponding events ( ) ; if ( last event = = null ) { throw new lifecycle not started exception ( ) ; } e end event ; try { end event = events function . apply ( last event ) ; } catch ( exception e ) { if ( check end boundary & & e instanceof lifecycle ended exception ) { consumer < ? super outside scope exception > handler = auto dispose plugins . get outside scope handler ( ) ; if ( handler ! = null ) { try { handler . accept ( ( lifecycle ended exception ) e ) ; return maybe . just ( scope end notification . instance ) ; } catch ( exception e1 ) { return maybe . error ( e1 ) ; } } throw e ; } return maybe . error ( e ) ; } return resolve scope from lifecycle ( provider . lifecycle ( ) , end event ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "maybe", "<", "?", ">", "resolve", "scope", "from", "lifecycle", "(", "final", "lifecycle", "scope", "provider", "<", "e", ">", "provider", ",", "final", "boolean", "check", "end", "boundary", ")", "throws", "outside", "scope", "exception", "{", "e", "last", "event", "=", "provider", ".", "peek", "lifecycle", "(", ")", ";", "corresponding", "events", "function", "<", "e", ">", "events", "function", "=", "provider", ".", "corresponding", "events", "(", ")", ";", "if", "(", "last", "event", "=", "=", "null", ")", "{", "throw", "new", "lifecycle", "not", "started", "exception", "(", ")", ";", "}", "e", "end", "event", ";", "try", "{", "end", "event", "=", "events", "function", ".", "apply", "(", "last", "event", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "if", "(", "check", "end", "boundary", "&", "&", "e", "instanceof", "lifecycle", "ended", "exception", ")", "{", "consumer", "<", "?", "super", "outside", "scope", "exception", ">", "handler", "=", "auto", "dispose", "plugins", ".", "get", "outside", "scope", "handler", "(", ")", ";", "if", "(", "handler", "!", "=", "null", ")", "{", "try", "{", "handler", ".", "accept", "(", "(", "lifecycle", "ended", "exception", ")", "e", ")", ";", "return", "maybe", ".", "just", "(", "scope", "end", "notification", ".", "instance", ")", ";", "}", "catch", "(", "exception", "e1", ")", "{", "return", "maybe", ".", "error", "(", "e1", ")", ";", "}", "}", "throw", "e", ";", "}", "return", "maybe", ".", "error", "(", "e", ")", ";", "}", "return", "resolve", "scope", "from", "lifecycle", "(", "provider", ".", "lifecycle", "(", ")", ",", "end", "event", ")", ";", "}"], "new_code": "public static < e > completable source resolve scope from lifecycle ( final lifecycle scope provider < e > provider , final boolean check end boundary ) throws outside scope exception { e last event = provider . peek lifecycle ( ) ; corresponding events function < e > events function = provider . corresponding events ( ) ; if ( last event = = null ) { throw new lifecycle not started exception ( ) ; } e end event ; try { end event = events function . apply ( last event ) ; } catch ( exception e ) { if ( check end boundary & & e instanceof lifecycle ended exception ) { consumer < ? super outside scope exception > handler = auto dispose plugins . get outside scope handler ( ) ; if ( handler ! = null ) { try { handler . accept ( ( lifecycle ended exception ) e ) ; return completable . complete ( ) ; } catch ( exception e1 ) { return completable . error ( e1 ) ; } } throw e ; } return completable . error ( e ) ; } return resolve scope from lifecycle ( provider . lifecycle ( ) , end event ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "completable", "source", "resolve", "scope", "from", "lifecycle", "(", "final", "lifecycle", "scope", "provider", "<", "e", ">", "provider", ",", "final", "boolean", "check", "end", "boundary", ")", "throws", "outside", "scope", "exception", "{", "e", "last", "event", "=", "provider", ".", "peek", "lifecycle", "(", ")", ";", "corresponding", "events", "function", "<", "e", ">", "events", "function", "=", "provider", ".", "corresponding", "events", "(", ")", ";", "if", "(", "last", "event", "=", "=", "null", ")", "{", "throw", "new", "lifecycle", "not", "started", "exception", "(", ")", ";", "}", "e", "end", "event", ";", "try", "{", "end", "event", "=", "events", "function", ".", "apply", "(", "last", "event", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "if", "(", "check", "end", "boundary", "&", "&", "e", "instanceof", "lifecycle", "ended", "exception", ")", "{", "consumer", "<", "?", "super", "outside", "scope", "exception", ">", "handler", "=", "auto", "dispose", "plugins", ".", "get", "outside", "scope", "handler", "(", ")", ";", "if", "(", "handler", "!", "=", "null", ")", "{", "try", "{", "handler", ".", "accept", "(", "(", "lifecycle", "ended", "exception", ")", "e", ")", ";", "return", "completable", ".", "complete", "(", ")", ";", "}", "catch", "(", "exception", "e1", ")", "{", "return", "completable", ".", "error", "(", "e1", ")", ";", "}", "}", "throw", "e", ";", "}", "return", "completable", ".", "error", "(", "e", ")", ";", "}", "return", "resolve", "scope", "from", "lifecycle", "(", "provider", ".", "lifecycle", "(", ")", ",", "end", "event", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> maybe < ? > <REPLACE_NEW> completable source <REPLACE_END> <KEEP> resolve scope from lifecycle ( final lifecycle scope provider < e > provider , final boolean check end boundary ) throws outside scope exception { e last event = provider . peek lifecycle ( ) ; corresponding events function < e > events function = provider . corresponding events ( ) ; if ( last event = = null ) { throw new lifecycle not started exception ( ) ; } e end event ; try { end event = events function . apply ( last event ) ; } catch ( exception e ) { if ( check end boundary & & e instanceof lifecycle ended exception ) { consumer < ? super outside scope exception > handler = auto dispose plugins . get outside scope handler ( ) ; if ( handler ! = null ) { try { handler . accept ( ( lifecycle ended exception ) e ) ; return <KEEP_END> <REPLACE_OLD> maybe . just ( scope end notification . instance <REPLACE_NEW> completable . complete ( <REPLACE_END> <KEEP> ) ; } catch ( exception e1 ) { return <KEEP_END> <REPLACE_OLD> maybe <REPLACE_NEW> completable <REPLACE_END> <KEEP> . error ( e1 ) ; } } throw e ; } return <KEEP_END> <REPLACE_OLD> maybe <REPLACE_NEW> completable <REPLACE_END> <KEEP> . error ( e ) ; } return resolve scope from lifecycle ( provider . lifecycle ( ) , end event ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "maybe", "<", "?", ">", "<REPLACE_NEW>", "completable", "source", "<REPLACE_END>", "<KEEP>", "resolve", "scope", "from", "lifecycle", "(", "final", "lifecycle", "scope", "provider", "<", "e", ">", "provider", ",", "final", "boolean", "check", "end", "boundary", ")", "throws", "outside", "scope", "exception", "{", "e", "last", "event", "=", "provider", ".", "peek", "lifecycle", "(", ")", ";", "corresponding", "events", "function", "<", "e", ">", "events", "function", "=", "provider", ".", "corresponding", "events", "(", ")", ";", "if", "(", "last", "event", "=", "=", "null", ")", "{", "throw", "new", "lifecycle", "not", "started", "exception", "(", ")", ";", "}", "e", "end", "event", ";", "try", "{", "end", "event", "=", "events", "function", ".", "apply", "(", "last", "event", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "if", "(", "check", "end", "boundary", "&", "&", "e", "instanceof", "lifecycle", "ended", "exception", ")", "{", "consumer", "<", "?", "super", "outside", "scope", "exception", ">", "handler", "=", "auto", "dispose", "plugins", ".", "get", "outside", "scope", "handler", "(", ")", ";", "if", "(", "handler", "!", "=", "null", ")", "{", "try", "{", "handler", ".", "accept", "(", "(", "lifecycle", "ended", "exception", ")", "e", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "maybe", ".", "just", "(", "scope", "end", "notification", ".", "instance", "<REPLACE_NEW>", "completable", ".", "complete", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "exception", "e1", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "<REPLACE_END>", "<KEEP>", ".", "error", "(", "e1", ")", ";", "}", "}", "throw", "e", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "<REPLACE_END>", "<KEEP>", ".", "error", "(", "e", ")", ";", "}", "return", "resolve", "scope", "from", "lifecycle", "(", "provider", ".", "lifecycle", "(", ")", ",", "end", "event", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> maybe <REPLACE_NEW> completable source <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "source", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "maybe", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "completable", "<REPLACE_NEW>", "source", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "lifecycle", "<KEEP>", "scope", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "provider", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "boolean", "<KEEP>", "check", "<KEEP>", "end", "<KEEP>", "boundary", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "outside", "<KEEP>", "scope", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", "last", "<KEEP>", "event", "<KEEP>", "=", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "peek", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "corresponding", "<KEEP>", "events", "<KEEP>", "function", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "events", "<KEEP>", "function", "<KEEP>", "=", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "corresponding", "<KEEP>", "events", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "event", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "lifecycle", "<KEEP>", "not", "<KEEP>", "started", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "e", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", "=", "<KEEP>", "events", "<KEEP>", "function", "<KEEP>", ".", "<KEEP>", "apply", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "event", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "check", "<KEEP>", "end", "<KEEP>", "boundary", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "e", "<KEEP>", "instanceof", "<KEEP>", "lifecycle", "<KEEP>", "ended", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "consumer", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "super", "<KEEP>", "outside", "<KEEP>", "scope", "<KEEP>", "exception", "<KEEP>", ">", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "auto", "<KEEP>", "dispose", "<KEEP>", "plugins", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "outside", "<KEEP>", "scope", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "handler", "<KEEP>", ".", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "lifecycle", "<KEEP>", "ended", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "maybe", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "just", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "scope", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "notification", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "completable", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "complete", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e1", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "e1", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "e", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9693922052583547, "using": 2, "keep": 1}
{"id": "guoguibing_librec-29-2575", "old_comment": "the number of days for a timestamp difference", "old_comment_tokens": ["the", "number", "of", "days", "for", "a", "timestamp", "difference"], "new_comment": "number of days for a given time difference", "new_comment_tokens": ["number", "of", "days", "for", "a", "given", "time", "difference"], "old_code": "private static int days ( long diff ) { return ( int ) ( diff / ms _ per _ day ) ; }", "old_code_tokens": ["private", "static", "int", "days", "(", "long", "diff", ")", "{", "return", "(", "int", ")", "(", "diff", "/", "ms", "_", "per", "_", "day", ")", ";", "}"], "new_code": "protected static int days ( long diff ) { return ( int ) time unit . milliseconds . to days ( diff ) ; }", "new_code_tokens": ["protected", "static", "int", "days", "(", "long", "diff", ")", "{", "return", "(", "int", ")", "time", "unit", ".", "milliseconds", ".", "to", "days", "(", "diff", ")", ";", "}"], "span_diff_code": "<REPLACE_OLD> private <REPLACE_NEW> protected <REPLACE_END> <KEEP> static int days ( long diff ) { return ( int ) <KEEP_END> <INSERT> time unit . milliseconds . to days <INSERT_END> <KEEP> ( diff <KEEP_END> <DELETE> / ms _ per _ day <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "private", "<REPLACE_NEW>", "protected", "<REPLACE_END>", "<KEEP>", "static", "int", "days", "(", "long", "diff", ")", "{", "return", "(", "int", ")", "<KEEP_END>", "<INSERT>", "time", "unit", ".", "milliseconds", ".", "to", "days", "<INSERT_END>", "<KEEP>", "(", "diff", "<KEEP_END>", "<DELETE>", "/", "ms", "_", "per", "_", "day", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> the <DELETE_END> <REPLACE_OLD> timestamp <REPLACE_NEW> given time <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "<DELETE_END>", "<REPLACE_OLD>", "timestamp", "<REPLACE_NEW>", "given", "time", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "private", "<REPLACE_NEW>", "protected", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "days", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "diff", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<INSERT>", "time", "<INSERT>", "unit", "<INSERT>", ".", "<INSERT>", "milliseconds", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "days", "<KEEP>", "(", "<KEEP>", "diff", "<DELETE>", "/", "<DELETE>", "ms", "<DELETE>", "_", "<DELETE>", "per", "<DELETE>", "_", "<DELETE>", "day", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8009266010807103, "using": 1, "keep": 1}
{"id": "mahmoudimus_ac-43-4556", "old_comment": "the list of modules", "old_comment_tokens": ["the", "list", "of", "modules"], "new_comment": "the module list map", "new_comment_tokens": ["the", "module", "list", "map"], "old_code": "public map < string , list < module bean > > get modules ( ) { map < string , list < module bean > > modules = new hash map < > ( ) ; for ( map . entry < string , supplier < list < module bean > > > module list entry : this . modules . entry set ( ) ) { modules . put ( module list entry . get key ( ) , module list entry . get value ( ) . get ( ) ) ; } return modules ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "list", "<", "module", "bean", ">", ">", "get", "modules", "(", ")", "{", "map", "<", "string", ",", "list", "<", "module", "bean", ">", ">", "modules", "=", "new", "hash", "map", "<", ">", "(", ")", ";", "for", "(", "map", ".", "entry", "<", "string", ",", "supplier", "<", "list", "<", "module", "bean", ">", ">", ">", "module", "list", "entry", ":", "this", ".", "modules", ".", "entry", "set", "(", ")", ")", "{", "modules", ".", "put", "(", "module", "list", "entry", ".", "get", "key", "(", ")", ",", "module", "list", "entry", ".", "get", "value", "(", ")", ".", "get", "(", ")", ")", ";", "}", "return", "modules", ";", "}"], "new_code": "public module multimap get modules ( ) { return module list map . get ( ) ; }", "new_code_tokens": ["public", "module", "multimap", "get", "modules", "(", ")", "{", "return", "module", "list", "map", ".", "get", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> map < string , list < <DELETE_END> <KEEP> module <KEEP_END> <REPLACE_OLD> bean > > <REPLACE_NEW> multimap <REPLACE_END> <KEEP> get modules ( ) { <KEEP_END> <REPLACE_OLD> map < string , list < module bean > > modules = new hash map < > ( ) ; for ( map . entry < string , supplier < list < module bean > > > <REPLACE_NEW> return <REPLACE_END> <KEEP> module list <KEEP_END> <REPLACE_OLD> entry : this . modules . entry set ( ) ) { modules . put ( module list entry . get key ( ) , module list entry . get value ( ) <REPLACE_NEW> map <REPLACE_END> <KEEP> . get ( ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> return modules ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "map", "<", "string", ",", "list", "<", "<DELETE_END>", "<KEEP>", "module", "<KEEP_END>", "<REPLACE_OLD>", "bean", ">", ">", "<REPLACE_NEW>", "multimap", "<REPLACE_END>", "<KEEP>", "get", "modules", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "list", "<", "module", "bean", ">", ">", "modules", "=", "new", "hash", "map", "<", ">", "(", ")", ";", "for", "(", "map", ".", "entry", "<", "string", ",", "supplier", "<", "list", "<", "module", "bean", ">", ">", ">", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "module", "list", "<KEEP_END>", "<REPLACE_OLD>", "entry", ":", "this", ".", "modules", ".", "entry", "set", "(", ")", ")", "{", "modules", ".", "put", "(", "module", "list", "entry", ".", "get", "key", "(", ")", ",", "module", "list", "entry", ".", "get", "value", "(", ")", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", ".", "get", "(", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "modules", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the module <INSERT_END> <REPLACE_OLD> of modules <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "module", "<INSERT_END>", "<REPLACE_OLD>", "of", "modules", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "list", "<DELETE>", "<", "<KEEP>", "module", "<REPLACE_OLD>", "bean", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "multimap", "<KEEP>", "get", "<KEEP>", "modules", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "bean", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "modules", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "supplier", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "bean", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "return", "<KEEP>", "module", "<KEEP>", "list", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "modules", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "modules", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "modules", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.885443591281224, "using": 2, "keep": 1}
{"id": "eclipse_rt.equinox.framework-55-6540", "old_comment": "an input stream from the managed target or null if the given target is not managed .", "old_comment_tokens": ["an", "input", "stream", "from", "the", "managed", "target", "or", "null", "if", "the", "given", "target", "is", "not", "managed", "."], "new_comment": "an input stream to the managed file or null if the given name is not managed .", "new_comment_tokens": ["an", "input", "stream", "to", "the", "managed", "file", "or", "null", "if", "the", "given", "name", "is", "not", "managed", "."], "old_code": "public input stream get input stream ( string target ) throws ioexception { return get input stream ( target , reliable file . open _ best _ available ) ; }", "old_code_tokens": ["public", "input", "stream", "get", "input", "stream", "(", "string", "target", ")", "throws", "ioexception", "{", "return", "get", "input", "stream", "(", "target", ",", "reliable", "file", ".", "open", "_", "best", "_", "available", ")", ";", "}"], "new_code": "public input stream get input stream ( string managed file ) throws ioexception { return get input stream ( managed file , reliable file . open _ best _ available ) ; }", "new_code_tokens": ["public", "input", "stream", "get", "input", "stream", "(", "string", "managed", "file", ")", "throws", "ioexception", "{", "return", "get", "input", "stream", "(", "managed", "file", ",", "reliable", "file", ".", "open", "_", "best", "_", "available", ")", ";", "}"], "span_diff_code": "<KEEP> public input stream get input stream ( string <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) throws ioexception { return get input stream ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> , reliable file . open _ best _ available ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "input", "stream", "get", "input", "stream", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", "throws", "ioexception", "{", "return", "get", "input", "stream", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ",", "reliable", "file", ".", "open", "_", "best", "_", "available", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> from <REPLACE_NEW> to <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> managed target <REPLACE_NEW_KEEP_BEFORE> managed file <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> given target <REPLACE_NEW_KEEP_BEFORE> given name <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "from", "<REPLACE_NEW>", "to", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "managed", "target", "<REPLACE_NEW_KEEP_BEFORE>", "managed", "file", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "given", "target", "<REPLACE_NEW_KEEP_BEFORE>", "given", "name", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ",", "<KEEP>", "reliable", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "open", "<KEEP>", "_", "<KEEP>", "best", "<KEEP>", "_", "<KEEP>", "available", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8217385839620384, "using": 1, "keep": 1}
{"id": "apache_openwebbeans-40-6482", "old_comment": "url of the web application class path", "old_comment_tokens": ["url", "of", "the", "web", "application", "class", "path"], "new_comment": "the web application class path", "new_comment_tokens": ["the", "web", "application", "class", "path"], "old_code": "protected url create urlfrom warfile ( ) throws exception { if ( servlet context = = null ) { return null ; } url url = servlet context . get resource ( str ) ; if ( url ! = null ) { add web beans xml location ( url ) ; url resourceu url = war url finder . find web inf classes path ( this . servlet context ) ; annotation db annotation db = get annotation db ( ) ; if ( annotation db instanceof beans xml annotation db ) { ( ( beans xml annotation db ) annotation db ) . set resource beans xml ( resourceu url , url ) ; } return resourceu url ; } return null ; }", "old_code_tokens": ["protected", "url", "create", "urlfrom", "warfile", "(", ")", "throws", "exception", "{", "if", "(", "servlet", "context", "=", "=", "null", ")", "{", "return", "null", ";", "}", "url", "url", "=", "servlet", "context", ".", "get", "resource", "(", "str", ")", ";", "if", "(", "url", "!", "=", "null", ")", "{", "add", "web", "beans", "xml", "location", "(", "url", ")", ";", "url", "resourceu", "url", "=", "war", "url", "finder", ".", "find", "web", "inf", "classes", "path", "(", "this", ".", "servlet", "context", ")", ";", "annotation", "db", "annotation", "db", "=", "get", "annotation", "db", "(", ")", ";", "if", "(", "annotation", "db", "instanceof", "beans", "xml", "annotation", "db", ")", "{", "(", "(", "beans", "xml", "annotation", "db", ")", "annotation", "db", ")", ".", "set", "resource", "beans", "xml", "(", "resourceu", "url", ",", "url", ")", ";", "}", "return", "resourceu", "url", ";", "}", "return", "null", ";", "}"], "new_code": "protected string create urlfrom warfile ( ) throws exception { if ( servlet context = = null ) { return null ; } url url = servlet context . get resource ( str ) ; if ( url ! = null ) { add web beans xml location ( url . to external form ( ) ) ; url resource url = war url finder . find web inf classes path ( this . servlet context ) ; if ( resource url = = null ) { return null ; } annotation db annotation db = get annotation db ( ) ; if ( annotation db instanceof beans xml annotation db ) { ( ( beans xml annotation db ) annotation db ) . set resource beans xml ( resource url . to external form ( ) , url . to external form ( ) ) ; } return resource url . to external form ( ) ; } return null ; }", "new_code_tokens": ["protected", "string", "create", "urlfrom", "warfile", "(", ")", "throws", "exception", "{", "if", "(", "servlet", "context", "=", "=", "null", ")", "{", "return", "null", ";", "}", "url", "url", "=", "servlet", "context", ".", "get", "resource", "(", "str", ")", ";", "if", "(", "url", "!", "=", "null", ")", "{", "add", "web", "beans", "xml", "location", "(", "url", ".", "to", "external", "form", "(", ")", ")", ";", "url", "resource", "url", "=", "war", "url", "finder", ".", "find", "web", "inf", "classes", "path", "(", "this", ".", "servlet", "context", ")", ";", "if", "(", "resource", "url", "=", "=", "null", ")", "{", "return", "null", ";", "}", "annotation", "db", "annotation", "db", "=", "get", "annotation", "db", "(", ")", ";", "if", "(", "annotation", "db", "instanceof", "beans", "xml", "annotation", "db", ")", "{", "(", "(", "beans", "xml", "annotation", "db", ")", "annotation", "db", ")", ".", "set", "resource", "beans", "xml", "(", "resource", "url", ".", "to", "external", "form", "(", ")", ",", "url", ".", "to", "external", "form", "(", ")", ")", ";", "}", "return", "resource", "url", ".", "to", "external", "form", "(", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> string <REPLACE_END> <KEEP> create urlfrom warfile ( ) throws exception { if ( servlet context = = null ) { return null ; } url url = servlet context . get resource ( str ) ; if ( url ! = null ) { add web beans xml location ( url <KEEP_END> <INSERT> . to external form ( ) <INSERT_END> <KEEP> ) ; url <KEEP_END> <REPLACE_OLD> resourceu <REPLACE_NEW> resource <REPLACE_END> <KEEP> url = war url finder . find web inf classes path ( this . servlet context ) ; <KEEP_END> <INSERT> if ( resource url = = null ) { return null ; } <INSERT_END> <KEEP> annotation db annotation db = get annotation db ( ) ; if ( annotation db instanceof beans xml annotation db ) { ( ( beans xml annotation db ) annotation db ) . set resource beans xml ( <KEEP_END> <REPLACE_OLD> resourceu <REPLACE_NEW> resource <REPLACE_END> <KEEP> url <KEEP_END> <INSERT> . to external form ( ) <INSERT_END> <KEEP> , url <KEEP_END> <INSERT> . to external form ( ) <INSERT_END> <KEEP> ) ; } return <KEEP_END> <REPLACE_OLD> resourceu <REPLACE_NEW> resource <REPLACE_END> <KEEP> url <KEEP_END> <INSERT> . to external form ( ) <INSERT_END> <KEEP> ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "create", "urlfrom", "warfile", "(", ")", "throws", "exception", "{", "if", "(", "servlet", "context", "=", "=", "null", ")", "{", "return", "null", ";", "}", "url", "url", "=", "servlet", "context", ".", "get", "resource", "(", "str", ")", ";", "if", "(", "url", "!", "=", "null", ")", "{", "add", "web", "beans", "xml", "location", "(", "url", "<KEEP_END>", "<INSERT>", ".", "to", "external", "form", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "url", "<KEEP_END>", "<REPLACE_OLD>", "resourceu", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "url", "=", "war", "url", "finder", ".", "find", "web", "inf", "classes", "path", "(", "this", ".", "servlet", "context", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "resource", "url", "=", "=", "null", ")", "{", "return", "null", ";", "}", "<INSERT_END>", "<KEEP>", "annotation", "db", "annotation", "db", "=", "get", "annotation", "db", "(", ")", ";", "if", "(", "annotation", "db", "instanceof", "beans", "xml", "annotation", "db", ")", "{", "(", "(", "beans", "xml", "annotation", "db", ")", "annotation", "db", ")", ".", "set", "resource", "beans", "xml", "(", "<KEEP_END>", "<REPLACE_OLD>", "resourceu", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "url", "<KEEP_END>", "<INSERT>", ".", "to", "external", "form", "(", ")", "<INSERT_END>", "<KEEP>", ",", "url", "<KEEP_END>", "<INSERT>", ".", "to", "external", "form", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "resourceu", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "url", "<KEEP_END>", "<INSERT>", ".", "to", "external", "form", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> url of <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "url", "of", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "string", "<KEEP>", "create", "<KEEP>", "urlfrom", "<KEEP>", "warfile", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "url", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "add", "<KEEP>", "web", "<KEEP>", "beans", "<KEEP>", "xml", "<KEEP>", "location", "<KEEP>", "(", "<KEEP>", "url", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "external", "<INSERT>", "form", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "url", "<REPLACE_OLD>", "resourceu", "<REPLACE_NEW>", "resource", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "war", "<KEEP>", "url", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "web", "<KEEP>", "inf", "<KEEP>", "classes", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "resource", "<INSERT>", "url", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", "instanceof", "<KEEP>", "beans", "<KEEP>", "xml", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "beans", "<KEEP>", "xml", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", ")", "<KEEP>", "annotation", "<KEEP>", "db", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "resource", "<KEEP>", "beans", "<KEEP>", "xml", "<KEEP>", "(", "<REPLACE_OLD>", "resourceu", "<REPLACE_NEW>", "resource", "<KEEP>", "url", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "external", "<INSERT>", "form", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ",", "<KEEP>", "url", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "external", "<INSERT>", "form", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "resourceu", "<REPLACE_NEW>", "resource", "<KEEP>", "url", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "external", "<INSERT>", "form", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9807678047139603, "using": 2, "keep": 1}
{"id": "b3log_solo-13-766", "old_comment": "converted html , returns null if the specified markdown text is \" \" or null , returns \" markdown error \" if exception", "old_comment_tokens": ["converted", "html", ",", "returns", "null", "if", "the", "specified", "markdown", "text", "is", "\"", "\"", "or", "null", ",", "returns", "\"", "markdown", "error", "\"", "if", "exception"], "new_comment": "converted html , returns an empty string \" \" if the specified markdown text is \" \" or null , returns ' markdown error label ' if exception", "new_comment_tokens": ["converted", "html", ",", "returns", "an", "empty", "string", "\"", "\"", "if", "the", "specified", "markdown", "text", "is", "\"", "\"", "or", "null", ",", "returns", "'", "markdown", "error", "label", "'", "if", "exception"], "old_code": "public static string to html ( final string markdown text ) { if ( strings . is empty or null ( markdown text ) ) { return str ; } final node document = parser . parse ( markdown text ) ; string ret = renderer . render ( document ) ; if ( ! string utils . starts with ( ret , str ) ) { ret = str + ret + str ; } return ret ; }", "old_code_tokens": ["public", "static", "string", "to", "html", "(", "final", "string", "markdown", "text", ")", "{", "if", "(", "strings", ".", "is", "empty", "or", "null", "(", "markdown", "text", ")", ")", "{", "return", "str", ";", "}", "final", "node", "document", "=", "parser", ".", "parse", "(", "markdown", "text", ")", ";", "string", "ret", "=", "renderer", ".", "render", "(", "document", ")", ";", "if", "(", "!", "string", "utils", ".", "starts", "with", "(", "ret", ",", "str", ")", ")", "{", "ret", "=", "str", "+", "ret", "+", "str", ";", "}", "return", "ret", ";", "}"], "new_code": "public static string to html ( final string markdown text ) { if ( strings . is empty or null ( markdown text ) ) { return str ; } final executor service pool = executors . new single thread executor ( ) ; final long [ ] thread id = new long [ num ] ; final callable < string > call = ( ) - > { thread id [ num ] = thread . current thread ( ) . get id ( ) ; string html = lang _ props _ service . get ( str ) ; if ( marked _ available ) { html = to html by marked ( markdown text ) ; if ( ! string utils . starts with ( html , str ) ) { html = str + html + str ; } } else { com . vladsch . flexmark . ast . node document = parser . parse ( markdown text ) ; html = renderer . render ( document ) ; if ( ! string utils . starts with ( html , str ) ) { html = str + html + str ; } html = format markdown ( html ) ; } return html ; } ; stopwatchs . start ( str ) ; try { final future < string > future = pool . submit ( call ) ; return future . get ( md _ timeout , time unit . milliseconds ) ; } catch ( final timeout exception e ) { logger . log ( level . error , str + markdown text + str ) ; callstacks . print callstack ( level . error , new string [ ] { str } , null ) ; final set < thread > threads = thread . get all stack traces ( ) . key set ( ) ; for ( final thread thread : threads ) { if ( thread . get id ( ) = = thread id [ num ] ) { thread . stop ( ) ; break ; } } } catch ( final exception e ) { logger . log ( level . error , str + markdown text + str , e ) ; } finally { pool . shutdown now ( ) ; stopwatchs . end ( ) ; } return lang _ props _ service . get ( str ) ; }", "new_code_tokens": ["public", "static", "string", "to", "html", "(", "final", "string", "markdown", "text", ")", "{", "if", "(", "strings", ".", "is", "empty", "or", "null", "(", "markdown", "text", ")", ")", "{", "return", "str", ";", "}", "final", "executor", "service", "pool", "=", "executors", ".", "new", "single", "thread", "executor", "(", ")", ";", "final", "long", "[", "]", "thread", "id", "=", "new", "long", "[", "num", "]", ";", "final", "callable", "<", "string", ">", "call", "=", "(", ")", "-", ">", "{", "thread", "id", "[", "num", "]", "=", "thread", ".", "current", "thread", "(", ")", ".", "get", "id", "(", ")", ";", "string", "html", "=", "lang", "_", "props", "_", "service", ".", "get", "(", "str", ")", ";", "if", "(", "marked", "_", "available", ")", "{", "html", "=", "to", "html", "by", "marked", "(", "markdown", "text", ")", ";", "if", "(", "!", "string", "utils", ".", "starts", "with", "(", "html", ",", "str", ")", ")", "{", "html", "=", "str", "+", "html", "+", "str", ";", "}", "}", "else", "{", "com", ".", "vladsch", ".", "flexmark", ".", "ast", ".", "node", "document", "=", "parser", ".", "parse", "(", "markdown", "text", ")", ";", "html", "=", "renderer", ".", "render", "(", "document", ")", ";", "if", "(", "!", "string", "utils", ".", "starts", "with", "(", "html", ",", "str", ")", ")", "{", "html", "=", "str", "+", "html", "+", "str", ";", "}", "html", "=", "format", "markdown", "(", "html", ")", ";", "}", "return", "html", ";", "}", ";", "stopwatchs", ".", "start", "(", "str", ")", ";", "try", "{", "final", "future", "<", "string", ">", "future", "=", "pool", ".", "submit", "(", "call", ")", ";", "return", "future", ".", "get", "(", "md", "_", "timeout", ",", "time", "unit", ".", "milliseconds", ")", ";", "}", "catch", "(", "final", "timeout", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "markdown", "text", "+", "str", ")", ";", "callstacks", ".", "print", "callstack", "(", "level", ".", "error", ",", "new", "string", "[", "]", "{", "str", "}", ",", "null", ")", ";", "final", "set", "<", "thread", ">", "threads", "=", "thread", ".", "get", "all", "stack", "traces", "(", ")", ".", "key", "set", "(", ")", ";", "for", "(", "final", "thread", "thread", ":", "threads", ")", "{", "if", "(", "thread", ".", "get", "id", "(", ")", "=", "=", "thread", "id", "[", "num", "]", ")", "{", "thread", ".", "stop", "(", ")", ";", "break", ";", "}", "}", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "markdown", "text", "+", "str", ",", "e", ")", ";", "}", "finally", "{", "pool", ".", "shutdown", "now", "(", ")", ";", "stopwatchs", ".", "end", "(", ")", ";", "}", "return", "lang", "_", "props", "_", "service", ".", "get", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public static string to html ( final string markdown text ) { if ( strings . is empty or null ( markdown text ) ) { return str ; } final <KEEP_END> <INSERT> executor service pool = executors . new single thread executor ( ) ; final long [ ] thread id = new long [ num ] ; final callable < string > call = ( ) - > { thread id [ num ] = thread . current thread ( ) . get id ( ) ; string html = lang _ props _ service . get ( str ) ; if ( marked _ available ) { html = to html by marked ( markdown text ) ; if ( ! string utils . starts with ( html , str ) ) { html = str + html + str ; } } else { com . vladsch . flexmark . ast . <INSERT_END> <KEEP> node document = parser . parse ( markdown text ) ; <KEEP_END> <REPLACE_OLD> string ret <REPLACE_NEW> html <REPLACE_END> <KEEP> = renderer . render ( document ) ; if ( ! string utils . starts with ( <KEEP_END> <REPLACE_OLD> ret , str ) ) { ret = str + ret + str <REPLACE_NEW> html , str ) ) { html = str + html + str ; } html = format markdown ( html ) <REPLACE_END> <KEEP> ; } return <KEEP_END> <REPLACE_OLD> ret ; } <REPLACE_NEW> html ; } ; stopwatchs . start ( str ) ; try { final future < string > future = pool . submit ( call ) ; return future . get ( md _ timeout , time unit . milliseconds ) ; } catch ( final timeout exception e ) { logger . log ( level . error , str + markdown text + str ) ; callstacks . print callstack ( level . error , new string [ ] { str } , null ) ; final set < thread > threads = thread . get all stack traces ( ) . key set ( ) ; for ( final thread thread : threads ) { if ( thread . get id ( ) = = thread id [ num ] ) { thread . stop ( ) ; break ; } } } catch ( final exception e ) { logger . log ( level . error , str + markdown text + str , e ) ; } finally { pool . shutdown now ( ) ; stopwatchs . end ( ) ; } return lang _ props _ service . get ( str ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "to", "html", "(", "final", "string", "markdown", "text", ")", "{", "if", "(", "strings", ".", "is", "empty", "or", "null", "(", "markdown", "text", ")", ")", "{", "return", "str", ";", "}", "final", "<KEEP_END>", "<INSERT>", "executor", "service", "pool", "=", "executors", ".", "new", "single", "thread", "executor", "(", ")", ";", "final", "long", "[", "]", "thread", "id", "=", "new", "long", "[", "num", "]", ";", "final", "callable", "<", "string", ">", "call", "=", "(", ")", "-", ">", "{", "thread", "id", "[", "num", "]", "=", "thread", ".", "current", "thread", "(", ")", ".", "get", "id", "(", ")", ";", "string", "html", "=", "lang", "_", "props", "_", "service", ".", "get", "(", "str", ")", ";", "if", "(", "marked", "_", "available", ")", "{", "html", "=", "to", "html", "by", "marked", "(", "markdown", "text", ")", ";", "if", "(", "!", "string", "utils", ".", "starts", "with", "(", "html", ",", "str", ")", ")", "{", "html", "=", "str", "+", "html", "+", "str", ";", "}", "}", "else", "{", "com", ".", "vladsch", ".", "flexmark", ".", "ast", ".", "<INSERT_END>", "<KEEP>", "node", "document", "=", "parser", ".", "parse", "(", "markdown", "text", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "string", "ret", "<REPLACE_NEW>", "html", "<REPLACE_END>", "<KEEP>", "=", "renderer", ".", "render", "(", "document", ")", ";", "if", "(", "!", "string", "utils", ".", "starts", "with", "(", "<KEEP_END>", "<REPLACE_OLD>", "ret", ",", "str", ")", ")", "{", "ret", "=", "str", "+", "ret", "+", "str", "<REPLACE_NEW>", "html", ",", "str", ")", ")", "{", "html", "=", "str", "+", "html", "+", "str", ";", "}", "html", "=", "format", "markdown", "(", "html", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "ret", ";", "}", "<REPLACE_NEW>", "html", ";", "}", ";", "stopwatchs", ".", "start", "(", "str", ")", ";", "try", "{", "final", "future", "<", "string", ">", "future", "=", "pool", ".", "submit", "(", "call", ")", ";", "return", "future", ".", "get", "(", "md", "_", "timeout", ",", "time", "unit", ".", "milliseconds", ")", ";", "}", "catch", "(", "final", "timeout", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "markdown", "text", "+", "str", ")", ";", "callstacks", ".", "print", "callstack", "(", "level", ".", "error", ",", "new", "string", "[", "]", "{", "str", "}", ",", "null", ")", ";", "final", "set", "<", "thread", ">", "threads", "=", "thread", ".", "get", "all", "stack", "traces", "(", ")", ".", "key", "set", "(", ")", ";", "for", "(", "final", "thread", "thread", ":", "threads", ")", "{", "if", "(", "thread", ".", "get", "id", "(", ")", "=", "=", "thread", "id", "[", "num", "]", ")", "{", "thread", ".", "stop", "(", ")", ";", "break", ";", "}", "}", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "markdown", "text", "+", "str", ",", "e", ")", ";", "}", "finally", "{", "pool", ".", "shutdown", "now", "(", ")", ";", "stopwatchs", ".", "end", "(", ")", ";", "}", "return", "lang", "_", "props", "_", "service", ".", "get", "(", "str", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> returns null <REPLACE_NEW_KEEP_BEFORE> returns an empty string \" \" <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> returns \" <REPLACE_NEW_KEEP_BEFORE> returns ' <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> error \" <REPLACE_NEW_KEEP_BEFORE> error label ' <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "returns", "null", "<REPLACE_NEW_KEEP_BEFORE>", "returns", "an", "empty", "string", "\"", "\"", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "returns", "\"", "<REPLACE_NEW_KEEP_BEFORE>", "returns", "'", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "error", "\"", "<REPLACE_NEW_KEEP_BEFORE>", "error", "label", "'", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "html", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "markdown", "<KEEP>", "text", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "strings", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "or", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "markdown", "<KEEP>", "text", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<INSERT>", "executor", "<INSERT>", "service", "<INSERT>", "pool", "<INSERT>", "=", "<INSERT>", "executors", "<INSERT>", ".", "<INSERT>", "new", "<INSERT>", "single", "<INSERT>", "thread", "<INSERT>", "executor", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "long", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "thread", "<INSERT>", "id", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "long", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "callable", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "call", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "-", "<INSERT>", ">", "<INSERT>", "{", "<INSERT>", "thread", "<INSERT>", "id", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "thread", "<INSERT>", ".", "<INSERT>", "current", "<INSERT>", "thread", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "string", "<INSERT>", "html", "<INSERT>", "=", "<INSERT>", "lang", "<INSERT>", "_", "<INSERT>", "props", "<INSERT>", "_", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "marked", "<INSERT>", "_", "<INSERT>", "available", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "html", "<INSERT>", "=", "<INSERT>", "to", "<INSERT>", "html", "<INSERT>", "by", "<INSERT>", "marked", "<INSERT>", "(", "<INSERT>", "markdown", "<INSERT>", "text", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "string", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "starts", "<INSERT>", "with", "<INSERT>", "(", "<INSERT>", "html", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "html", "<INSERT>", "=", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "html", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "com", "<INSERT>", ".", "<INSERT>", "vladsch", "<INSERT>", ".", "<INSERT>", "flexmark", "<INSERT>", ".", "<INSERT>", "ast", "<INSERT>", ".", "<KEEP>", "node", "<KEEP>", "document", "<KEEP>", "=", "<KEEP>", "parser", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "markdown", "<KEEP>", "text", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "ret", "<REPLACE_NEW>", "html", "<KEEP>", "=", "<KEEP>", "renderer", "<KEEP>", ".", "<KEEP>", "render", "<KEEP>", "(", "<KEEP>", "document", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "html", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "html", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "html", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "html", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "format", "<REPLACE_NEW>", "markdown", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "html", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "html", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "stopwatchs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "start", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "future", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "future", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "pool", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "submit", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "call", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "future", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "md", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "timeout", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "unit", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "milliseconds", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "timeout", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "logger", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "markdown", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "callstacks", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "print", "<REPLACE_NEW>", "callstack", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "threads", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "stack", "<REPLACE_NEW>", "traces", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "threads", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "stop", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "break", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "logger", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "markdown", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "finally", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "pool", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "shutdown", "<REPLACE_NEW>", "now", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "stopwatchs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "end", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "lang", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.784645031252514, "using": 0, "keep": 1}
{"id": "sonatype_sonatype-tycho-9-4088", "old_comment": "map file - > basedir - relative path", "old_comment_tokens": ["map", "file", "-", ">", "basedir", "-", "relative", "path"], "new_comment": "map canonical file - > basedir - relative path", "new_comment_tokens": ["map", "canonical", "file", "-", ">", "basedir", "-", "relative", "path"], "old_code": "public map < file , ipath > scan ( ) { map < file , ipath > result = new hash map < file , ipath > ( ) ; recursive scan ( base dir , result , path . from osstring ( base dir . get absolute path ( ) ) ) ; return result ; }", "old_code_tokens": ["public", "map", "<", "file", ",", "ipath", ">", "scan", "(", ")", "{", "map", "<", "file", ",", "ipath", ">", "result", "=", "new", "hash", "map", "<", "file", ",", "ipath", ">", "(", ")", ";", "recursive", "scan", "(", "base", "dir", ",", "result", ",", "path", ".", "from", "osstring", "(", "base", "dir", ".", "get", "absolute", "path", "(", ")", ")", ")", ";", "return", "result", ";", "}"], "new_code": "public file to path map scan ( ) { file to path map result = new file to path map ( ) ; recursive scan ( base dir , result , path . from osstring ( base dir . get absolute path ( ) ) ) ; return result ; }", "new_code_tokens": ["public", "file", "to", "path", "map", "scan", "(", ")", "{", "file", "to", "path", "map", "result", "=", "new", "file", "to", "path", "map", "(", ")", ";", "recursive", "scan", "(", "base", "dir", ",", "result", ",", "path", ".", "from", "osstring", "(", "base", "dir", ".", "get", "absolute", "path", "(", ")", ")", ")", ";", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> file to path <INSERT_END> <KEEP> map <KEEP_END> <DELETE> < file , ipath > <DELETE_END> <KEEP> scan ( ) { <KEEP_END> <INSERT> file to path <INSERT_END> <KEEP> map <KEEP_END> <DELETE> < file , ipath > <DELETE_END> <KEEP> result = new <KEEP_END> <REPLACE_OLD> hash <REPLACE_NEW> file to path <REPLACE_END> <KEEP> map <KEEP_END> <DELETE> < file , ipath > <DELETE_END> <KEEP> ( ) ; recursive scan ( base dir , result , path . from osstring ( base dir . get absolute path ( ) ) ) ; return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "file", "to", "path", "<INSERT_END>", "<KEEP>", "map", "<KEEP_END>", "<DELETE>", "<", "file", ",", "ipath", ">", "<DELETE_END>", "<KEEP>", "scan", "(", ")", "{", "<KEEP_END>", "<INSERT>", "file", "to", "path", "<INSERT_END>", "<KEEP>", "map", "<KEEP_END>", "<DELETE>", "<", "file", ",", "ipath", ">", "<DELETE_END>", "<KEEP>", "result", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hash", "<REPLACE_NEW>", "file", "to", "path", "<REPLACE_END>", "<KEEP>", "map", "<KEEP_END>", "<DELETE>", "<", "file", ",", "ipath", ">", "<DELETE_END>", "<KEEP>", "(", ")", ";", "recursive", "scan", "(", "base", "dir", ",", "result", ",", "path", ".", "from", "osstring", "(", "base", "dir", ".", "get", "absolute", "path", "(", ")", ")", ")", ";", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> map <INSERT_NEW_KEEP_BEFORE> map canonical <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "map", "<INSERT_NEW_KEEP_BEFORE>", "map", "canonical", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "file", "<INSERT>", "to", "<INSERT>", "path", "<KEEP>", "map", "<DELETE>", "<", "<DELETE>", "file", "<DELETE>", ",", "<DELETE>", "ipath", "<DELETE>", ">", "<KEEP>", "scan", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "file", "<INSERT>", "to", "<INSERT>", "path", "<KEEP>", "map", "<DELETE>", "<", "<DELETE>", "file", "<DELETE>", ",", "<DELETE>", "ipath", "<DELETE>", ">", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "path", "<KEEP>", "map", "<DELETE>", "<", "<DELETE>", "file", "<DELETE>", ",", "<DELETE>", "ipath", "<DELETE>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "recursive", "<KEEP>", "scan", "<KEEP>", "(", "<KEEP>", "base", "<KEEP>", "dir", "<KEEP>", ",", "<KEEP>", "result", "<KEEP>", ",", "<KEEP>", "path", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "osstring", "<KEEP>", "(", "<KEEP>", "base", "<KEEP>", "dir", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "absolute", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8132740218061235, "using": 0, "keep": 1}
{"id": "eclipse_rt.equinox.framework-57-6541", "old_comment": "a managed output stream for the target .", "old_comment_tokens": ["a", "managed", "output", "stream", "for", "the", "target", "."], "new_comment": "a managed output stream for the managed file .", "new_comment_tokens": ["a", "managed", "output", "stream", "for", "the", "managed", "file", "."], "old_code": "public managed output stream get output stream ( string target ) throws ioexception { if ( use reliable files ) { reliable file output stream out = new reliable file output stream ( new file ( get base ( ) , target ) ) ; return new managed output stream ( out , this , target , null ) ; } file tmp file = create temp file ( target ) ; return new managed output stream ( new file output stream ( tmp file ) , this , target , tmp file ) ; }", "old_code_tokens": ["public", "managed", "output", "stream", "get", "output", "stream", "(", "string", "target", ")", "throws", "ioexception", "{", "if", "(", "use", "reliable", "files", ")", "{", "reliable", "file", "output", "stream", "out", "=", "new", "reliable", "file", "output", "stream", "(", "new", "file", "(", "get", "base", "(", ")", ",", "target", ")", ")", ";", "return", "new", "managed", "output", "stream", "(", "out", ",", "this", ",", "target", ",", "null", ")", ";", "}", "file", "tmp", "file", "=", "create", "temp", "file", "(", "target", ")", ";", "return", "new", "managed", "output", "stream", "(", "new", "file", "output", "stream", "(", "tmp", "file", ")", ",", "this", ",", "target", ",", "tmp", "file", ")", ";", "}"], "new_code": "public managed output stream get output stream ( string managed file ) throws ioexception { if ( use reliable files ) { reliable file output stream out = new reliable file output stream ( new file ( get base ( ) , managed file ) ) ; return new managed output stream ( out , this , managed file , null ) ; } file tmp file = create temp file ( managed file ) ; return new managed output stream ( new file output stream ( tmp file ) , this , managed file , tmp file ) ; }", "new_code_tokens": ["public", "managed", "output", "stream", "get", "output", "stream", "(", "string", "managed", "file", ")", "throws", "ioexception", "{", "if", "(", "use", "reliable", "files", ")", "{", "reliable", "file", "output", "stream", "out", "=", "new", "reliable", "file", "output", "stream", "(", "new", "file", "(", "get", "base", "(", ")", ",", "managed", "file", ")", ")", ";", "return", "new", "managed", "output", "stream", "(", "out", ",", "this", ",", "managed", "file", ",", "null", ")", ";", "}", "file", "tmp", "file", "=", "create", "temp", "file", "(", "managed", "file", ")", ";", "return", "new", "managed", "output", "stream", "(", "new", "file", "output", "stream", "(", "tmp", "file", ")", ",", "this", ",", "managed", "file", ",", "tmp", "file", ")", ";", "}"], "span_diff_code": "<KEEP> public managed output stream get output stream ( string <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) throws ioexception { if ( use reliable files ) { reliable file output stream out = new reliable file output stream ( new file ( get base ( ) , <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) ) ; return new managed output stream ( out , this , <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> , null ) ; } file tmp file = create temp file ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) ; return new managed output stream ( new file output stream ( tmp file ) , this , <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> , tmp file ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "managed", "output", "stream", "get", "output", "stream", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", "throws", "ioexception", "{", "if", "(", "use", "reliable", "files", ")", "{", "reliable", "file", "output", "stream", "out", "=", "new", "reliable", "file", "output", "stream", "(", "new", "file", "(", "get", "base", "(", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "return", "new", "managed", "output", "stream", "(", "out", ",", "this", ",", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ",", "null", ")", ";", "}", "file", "tmp", "file", "=", "create", "temp", "file", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "new", "managed", "output", "stream", "(", "new", "file", "output", "stream", "(", "tmp", "file", ")", ",", "this", ",", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ",", "tmp", "file", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "managed", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "get", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "use", "<KEEP>", "reliable", "<KEEP>", "files", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "reliable", "<KEEP>", "file", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "out", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "reliable", "<KEEP>", "file", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "base", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "managed", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "out", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ",", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "file", "<KEEP>", "tmp", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "temp", "<KEEP>", "file", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "managed", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "tmp", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ",", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ",", "<KEEP>", "tmp", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9831064534574072, "using": 2, "keep": 1}
{"id": "google_gdata-java-client-20-4690", "old_comment": "modifiable list of attribute ids", "old_comment_tokens": ["modifiable", "list", "of", "attribute", "ids"], "new_comment": "unmodifiable list of attribute ids", "new_comment_tokens": ["unmodifiable", "list", "of", "attribute", "ids"], "old_code": "public list < ? extends google base attribute id > get attribute ids ( ) { gm attributes attrs = owner . get extension ( gm attributes . class ) ; if ( attrs = = null ) { attrs = new gm attributes ( ) ; owner . set extension ( attrs ) ; } return attrs . get attribute ids ( ) ; }", "old_code_tokens": ["public", "list", "<", "?", "extends", "google", "base", "attribute", "id", ">", "get", "attribute", "ids", "(", ")", "{", "gm", "attributes", "attrs", "=", "owner", ".", "get", "extension", "(", "gm", "attributes", ".", "class", ")", ";", "if", "(", "attrs", "=", "=", "null", ")", "{", "attrs", "=", "new", "gm", "attributes", "(", ")", ";", "owner", ".", "set", "extension", "(", "attrs", ")", ";", "}", "return", "attrs", ".", "get", "attribute", "ids", "(", ")", ";", "}"], "new_code": "public list < ? extends google base attribute id > get attribute ids ( ) { return get gm attributes extension ( ) . get attribute ids ( ) ; }", "new_code_tokens": ["public", "list", "<", "?", "extends", "google", "base", "attribute", "id", ">", "get", "attribute", "ids", "(", ")", "{", "return", "get", "gm", "attributes", "extension", "(", ")", ".", "get", "attribute", "ids", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public list < ? extends google base attribute id > get attribute ids ( ) { <KEEP_END> <INSERT> return get <INSERT_END> <KEEP> gm attributes <KEEP_END> <DELETE> attrs = owner . get <DELETE_END> <KEEP> extension ( <KEEP_END> <DELETE> gm attributes . class <DELETE_END> <KEEP> ) <KEEP_END> <DELETE> ; if ( attrs = = null ) { attrs = new gm attributes ( ) ; owner . set extension ( attrs ) ; } return attrs <DELETE_END> <KEEP> . get attribute ids ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "?", "extends", "google", "base", "attribute", "id", ">", "get", "attribute", "ids", "(", ")", "{", "<KEEP_END>", "<INSERT>", "return", "get", "<INSERT_END>", "<KEEP>", "gm", "attributes", "<KEEP_END>", "<DELETE>", "attrs", "=", "owner", ".", "get", "<DELETE_END>", "<KEEP>", "extension", "(", "<KEEP_END>", "<DELETE>", "gm", "attributes", ".", "class", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", ";", "if", "(", "attrs", "=", "=", "null", ")", "{", "attrs", "=", "new", "gm", "attributes", "(", ")", ";", "owner", ".", "set", "extension", "(", "attrs", ")", ";", "}", "return", "attrs", "<DELETE_END>", "<KEEP>", ".", "get", "attribute", "ids", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> modifiable <REPLACE_NEW> unmodifiable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "modifiable", "<REPLACE_NEW>", "unmodifiable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "google", "<KEEP>", "base", "<KEEP>", "attribute", "<KEEP>", "id", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "ids", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "return", "<INSERT>", "get", "<KEEP>", "gm", "<KEEP>", "attributes", "<DELETE>", "attrs", "<DELETE>", "=", "<DELETE>", "owner", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "extension", "<KEEP>", "(", "<DELETE>", "gm", "<DELETE>", "attributes", "<DELETE>", ".", "<DELETE>", "class", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "attrs", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "attrs", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "gm", "<DELETE>", "attributes", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "owner", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "extension", "<DELETE>", "(", "<DELETE>", "attrs", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "attrs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "ids", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8026024964717418, "using": 1, "keep": 1}
{"id": "apache_asterixdb-72-5397", "old_comment": "the directory \" $ ( pwd ) / library \" : this needs to be improved", "old_comment_tokens": ["the", "directory", "\"", "$", "(", "pwd", ")", "/", "library", "\"", ":", "this", "needs", "to", "be", "improved"], "new_comment": "the directory \" $ ( controller config . default dir ) / library \" : this needs to be improved", "new_comment_tokens": ["the", "directory", "\"", "$", "(", "controller", "config", ".", "default", "dir", ")", "/", "library", "\"", ":", "this", "needs", "to", "be", "improved"], "old_code": "protected static file get library install dir ( ) { string working dir = system . get property ( str ) ; return new file ( working dir + file . separator + str ) ; }", "old_code_tokens": ["protected", "static", "file", "get", "library", "install", "dir", "(", ")", "{", "string", "working", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "return", "new", "file", "(", "working", "dir", "+", "file", ".", "separator", "+", "str", ")", ";", "}"], "new_code": "protected static file get library install dir ( ) { string working dir = system . get property ( str ) ; return new file ( working dir , str ) ; }", "new_code_tokens": ["protected", "static", "file", "get", "library", "install", "dir", "(", ")", "{", "string", "working", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "return", "new", "file", "(", "working", "dir", ",", "str", ")", ";", "}"], "span_diff_code": "<KEEP> protected static file get library install dir ( ) { string working dir = system . get property ( str ) ; return new file ( working dir <KEEP_END> <REPLACE_OLD> + file . separator + <REPLACE_NEW> , <REPLACE_END> <KEEP> str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "static", "file", "get", "library", "install", "dir", "(", ")", "{", "string", "working", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "return", "new", "file", "(", "working", "dir", "<KEEP_END>", "<REPLACE_OLD>", "+", "file", ".", "separator", "+", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<KEEP>", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> pwd <REPLACE_NEW> controller config . default dir <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "pwd", "<REPLACE_NEW>", "controller", "config", ".", "default", "dir", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "static", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "library", "<KEEP>", "install", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "=", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "working", "<KEEP>", "dir", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "separator", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9291745562959246, "using": 1, "keep": 1}
{"id": "apache_harmony-classlib-1-7158", "old_comment": "returns greater than zero when double1 > double2 , zero when double1 = = double2 , and less than zero when double1 < double2", "old_comment_tokens": ["returns", "greater", "than", "zero", "when", "double1", ">", "double2", ",", "zero", "when", "double1", "=", "=", "double2", ",", "and", "less", "than", "zero", "when", "double1", "<", "double2"], "new_comment": "returns greater than zero when double1 is greater than double2 , zero when double1 equals double2 , and less than zero when double1 is less than double2", "new_comment_tokens": ["returns", "greater", "than", "zero", "when", "double1", "is", "greater", "than", "double2", ",", "zero", "when", "double1", "equals", "double2", ",", "and", "less", "than", "zero", "when", "double1", "is", "less", "than", "double2"], "old_code": "public static int compare ( double double1 , double double2 ) { return double1 > double2 ? num : ( double1 < double2 ? - num : num ) ; }", "old_code_tokens": ["public", "static", "int", "compare", "(", "double", "double1", ",", "double", "double2", ")", "{", "return", "double1", ">", "double2", "?", "num", ":", "(", "double1", "<", "double2", "?", "-", "num", ":", "num", ")", ";", "}"], "new_code": "public static int compare ( double double1 , double double2 ) { long d1 , d2 ; long na nbits = double . double to long bits ( double . na n ) ; if ( ( d1 = double . double to long bits ( double1 ) ) = = na nbits ) { if ( double . double to long bits ( double2 ) = = na nbits ) { return num ; } return num ; } if ( ( d2 = double . double to long bits ( double2 ) ) = = na nbits ) { return - num ; } if ( double1 = = double2 ) { if ( d1 = = d2 ) { return num ; } return d1 > d2 ? num : - num ; } return double1 > double2 ? num : - num ; }", "new_code_tokens": ["public", "static", "int", "compare", "(", "double", "double1", ",", "double", "double2", ")", "{", "long", "d1", ",", "d2", ";", "long", "na", "nbits", "=", "double", ".", "double", "to", "long", "bits", "(", "double", ".", "na", "n", ")", ";", "if", "(", "(", "d1", "=", "double", ".", "double", "to", "long", "bits", "(", "double1", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "double", ".", "double", "to", "long", "bits", "(", "double2", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "d2", "=", "double", ".", "double", "to", "long", "bits", "(", "double2", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "double1", "=", "=", "double2", ")", "{", "if", "(", "d1", "=", "=", "d2", ")", "{", "return", "num", ";", "}", "return", "d1", ">", "d2", "?", "num", ":", "-", "num", ";", "}", "return", "double1", ">", "double2", "?", "num", ":", "-", "num", ";", "}"], "span_diff_code": "<KEEP> public static int compare ( double double1 , double double2 ) { <KEEP_END> <INSERT> long d1 , d2 ; long na nbits = double . double to long bits ( double . na n ) ; if ( ( d1 = double . double to long bits ( double1 ) ) = = na nbits ) { if ( double . double to long bits ( double2 ) = = na nbits ) { return num ; } return num ; } if ( ( d2 = double . double to long bits ( double2 ) ) = = na nbits ) { return - num ; } if ( double1 = = double2 ) { if ( d1 = = d2 ) { return num ; } return d1 > d2 ? num : - num ; } <INSERT_END> <KEEP> return double1 > double2 ? num : <KEEP_END> <DELETE> ( double1 < double2 ? <DELETE_END> <KEEP> - num <KEEP_END> <DELETE> : num ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "int", "compare", "(", "double", "double1", ",", "double", "double2", ")", "{", "<KEEP_END>", "<INSERT>", "long", "d1", ",", "d2", ";", "long", "na", "nbits", "=", "double", ".", "double", "to", "long", "bits", "(", "double", ".", "na", "n", ")", ";", "if", "(", "(", "d1", "=", "double", ".", "double", "to", "long", "bits", "(", "double1", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "double", ".", "double", "to", "long", "bits", "(", "double2", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "d2", "=", "double", ".", "double", "to", "long", "bits", "(", "double2", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "double1", "=", "=", "double2", ")", "{", "if", "(", "d1", "=", "=", "d2", ")", "{", "return", "num", ";", "}", "return", "d1", ">", "d2", "?", "num", ":", "-", "num", ";", "}", "<INSERT_END>", "<KEEP>", "return", "double1", ">", "double2", "?", "num", ":", "<KEEP_END>", "<DELETE>", "(", "double1", "<", "double2", "?", "<DELETE_END>", "<KEEP>", "-", "num", "<KEEP_END>", "<DELETE>", ":", "num", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> > <REPLACE_NEW> is greater than <REPLACE_END> <REPLACE_OLD> = = <REPLACE_NEW> equals <REPLACE_END> <REPLACE_OLD> < <REPLACE_NEW> is less than <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ">", "<REPLACE_NEW>", "is", "greater", "than", "<REPLACE_END>", "<REPLACE_OLD>", "=", "=", "<REPLACE_NEW>", "equals", "<REPLACE_END>", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", "is", "less", "than", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "compare", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", "double1", "<KEEP>", ",", "<KEEP>", "double", "<KEEP>", "double2", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "long", "<INSERT>", "d1", "<INSERT>", ",", "<INSERT>", "d2", "<INSERT>", ";", "<INSERT>", "long", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", "=", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "na", "<INSERT>", "n", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "d1", "<INSERT>", "=", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "double1", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "double2", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "d2", "<INSERT>", "=", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "double2", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "double1", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "double2", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "d1", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "d2", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "d1", "<INSERT>", ">", "<INSERT>", "d2", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "double1", "<KEEP>", ">", "<KEEP>", "double2", "<KEEP>", "?", "<KEEP>", "num", "<KEEP>", ":", "<DELETE>", "(", "<DELETE>", "double1", "<DELETE>", "<", "<DELETE>", "double2", "<DELETE>", "?", "<KEEP>", "-", "<KEEP>", "num", "<DELETE>", ":", "<DELETE>", "num", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8849422144266663, "using": 0, "keep": 1}
{"id": "byterom_android_packages_apps_CMFileManager-28-4580", "old_comment": "explorer settings the navigation sort mode", "old_comment_tokens": ["explorer", "settings", "the", "navigation", "sort", "mode"], "new_comment": "file manager settings the navigation sort mode", "new_comment_tokens": ["file", "manager", "settings", "the", "navigation", "sort", "mode"], "old_code": "public static explorer settings from id ( string id ) { explorer settings [ ] values = values ( ) ; int cc = values . length ; for ( int i = num ; i < cc ; i + + ) { if ( values [ i ] . m id = = id ) { return values [ i ] ; } } return null ; }", "old_code_tokens": ["public", "static", "explorer", "settings", "from", "id", "(", "string", "id", ")", "{", "explorer", "settings", "[", "]", "values", "=", "values", "(", ")", ";", "int", "cc", "=", "values", ".", "length", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "cc", ";", "i", "+", "+", ")", "{", "if", "(", "values", "[", "i", "]", ".", "m", "id", "=", "=", "id", ")", "{", "return", "values", "[", "i", "]", ";", "}", "}", "return", "null", ";", "}"], "new_code": "public static file manager settings from id ( string id ) { file manager settings [ ] values = values ( ) ; int cc = values . length ; for ( int i = num ; i < cc ; i + + ) { if ( values [ i ] . m id = = id ) { return values [ i ] ; } } return null ; }", "new_code_tokens": ["public", "static", "file", "manager", "settings", "from", "id", "(", "string", "id", ")", "{", "file", "manager", "settings", "[", "]", "values", "=", "values", "(", ")", ";", "int", "cc", "=", "values", ".", "length", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "cc", ";", "i", "+", "+", ")", "{", "if", "(", "values", "[", "i", "]", ".", "m", "id", "=", "=", "id", ")", "{", "return", "values", "[", "i", "]", ";", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> explorer <REPLACE_NEW> file manager <REPLACE_END> <KEEP> settings from id ( string id ) { <KEEP_END> <REPLACE_OLD> explorer <REPLACE_NEW> file manager <REPLACE_END> <KEEP> settings [ ] values = values ( ) ; int cc = values . length ; for ( int i = num ; i < cc ; i + + ) { if ( values [ i ] . m id = = id ) { return values [ i ] ; } } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "explorer", "<REPLACE_NEW>", "file", "manager", "<REPLACE_END>", "<KEEP>", "settings", "from", "id", "(", "string", "id", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "explorer", "<REPLACE_NEW>", "file", "manager", "<REPLACE_END>", "<KEEP>", "settings", "[", "]", "values", "=", "values", "(", ")", ";", "int", "cc", "=", "values", ".", "length", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "cc", ";", "i", "+", "+", ")", "{", "if", "(", "values", "[", "i", "]", ".", "m", "id", "=", "=", "id", ")", "{", "return", "values", "[", "i", "]", ";", "}", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> explorer <REPLACE_NEW> file manager <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "explorer", "<REPLACE_NEW>", "file", "manager", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "explorer", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "manager", "<KEEP>", "settings", "<KEEP>", "from", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "explorer", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "manager", "<KEEP>", "settings", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "values", "<KEEP>", "=", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "cc", "<KEEP>", "=", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "cc", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "m", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9812805444588837, "using": 2, "keep": 1}
{"id": "google_gdata-java-client-242-4689", "old_comment": "returns an array of all the users that were selected in the panel .", "old_comment_tokens": ["returns", "an", "array", "of", "all", "the", "users", "that", "were", "selected", "in", "the", "panel", "."], "new_comment": "returns a list of all the users that were selected in the panel .", "new_comment_tokens": ["returns", "a", "list", "of", "all", "the", "users", "that", "were", "selected", "in", "the", "panel", "."], "old_code": "public string [ ] get selected users ( ) { object [ ] tmp = users . get selected values ( ) ; string [ ] susers = new string [ tmp . length ] ; for ( int i = num ; i < tmp . length ; i + + ) { susers [ i ] = tmp [ i ] . to string ( ) ; } return susers ; }", "old_code_tokens": ["public", "string", "[", "]", "get", "selected", "users", "(", ")", "{", "object", "[", "]", "tmp", "=", "users", ".", "get", "selected", "values", "(", ")", ";", "string", "[", "]", "susers", "=", "new", "string", "[", "tmp", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tmp", ".", "length", ";", "i", "+", "+", ")", "{", "susers", "[", "i", "]", "=", "tmp", "[", "i", "]", ".", "to", "string", "(", ")", ";", "}", "return", "susers", ";", "}"], "new_code": "public list < string > get selected users ( ) { object [ ] tmp = users . get selected values ( ) ; list < string > susers = new array list < string > ( ) ; for ( int i = num ; i < tmp . length ; i + + ) { susers . add ( tmp [ i ] . to string ( ) ) ; } return susers ; }", "new_code_tokens": ["public", "list", "<", "string", ">", "get", "selected", "users", "(", ")", "{", "object", "[", "]", "tmp", "=", "users", ".", "get", "selected", "values", "(", ")", ";", "list", "<", "string", ">", "susers", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tmp", ".", "length", ";", "i", "+", "+", ")", "{", "susers", ".", "add", "(", "tmp", "[", "i", "]", ".", "to", "string", "(", ")", ")", ";", "}", "return", "susers", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> list < <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> > <REPLACE_END> <KEEP> get selected users ( ) { object [ ] tmp = users . get selected values ( ) ; <KEEP_END> <INSERT> list < <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> > <REPLACE_END> <KEEP> susers = new <KEEP_END> <INSERT> array list < <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> [ tmp . length ] <REPLACE_NEW> > ( ) <REPLACE_END> <KEEP> ; for ( int i = num ; i < tmp . length ; i + + ) { susers <KEEP_END> <REPLACE_OLD> [ i ] = <REPLACE_NEW> . add ( <REPLACE_END> <KEEP> tmp [ i ] . to string ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } return susers ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "list", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "get", "selected", "users", "(", ")", "{", "object", "[", "]", "tmp", "=", "users", ".", "get", "selected", "values", "(", ")", ";", "<KEEP_END>", "<INSERT>", "list", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "susers", "=", "new", "<KEEP_END>", "<INSERT>", "array", "list", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "[", "tmp", ".", "length", "]", "<REPLACE_NEW>", ">", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tmp", ".", "length", ";", "i", "+", "+", ")", "{", "susers", "<KEEP_END>", "<REPLACE_OLD>", "[", "i", "]", "=", "<REPLACE_NEW>", ".", "add", "(", "<REPLACE_END>", "<KEEP>", "tmp", "[", "i", "]", ".", "to", "string", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "return", "susers", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an array <REPLACE_NEW> a list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "array", "<REPLACE_NEW>", "a", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "users", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "tmp", "<KEEP>", "=", "<KEEP>", "users", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "susers", "<KEEP>", "=", "<KEEP>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "tmp", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "tmp", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "susers", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<KEEP>", "tmp", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "susers", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9950267161507923, "using": 2, "keep": 1}
{"id": "vespa-engine_vespa-238-3342", "old_comment": "true if ca certificate", "old_comment_tokens": ["true", "if", "ca", "certificate"], "new_comment": "if basic constraints extension is present : returns true if ca cert , false otherwise . returns empty if the extension is not present .", "new_comment_tokens": ["if", "basic", "constraints", "extension", "is", "present", ":", "returns", "true", "if", "ca", "cert", ",", "false", "otherwise", ".", "returns", "empty", "if", "the", "extension", "is", "not", "present", "."], "old_code": "public boolean get basic constraints ( ) { return get extensions ( ) . map ( basic constraints : : from extensions ) . find any ( ) . map ( basic constraints : : is ca ) . or else ( false ) ; }", "old_code_tokens": ["public", "boolean", "get", "basic", "constraints", "(", ")", "{", "return", "get", "extensions", "(", ")", ".", "map", "(", "basic", "constraints", ":", ":", "from", "extensions", ")", ".", "find", "any", "(", ")", ".", "map", "(", "basic", "constraints", ":", ":", "is", "ca", ")", ".", "or", "else", "(", "false", ")", ";", "}"], "new_code": "public optional < boolean > get basic constraints ( ) { return get extensions ( ) . map ( basic constraints : : from extensions ) . find any ( ) . map ( basic constraints : : is ca ) ; }", "new_code_tokens": ["public", "optional", "<", "boolean", ">", "get", "basic", "constraints", "(", ")", "{", "return", "get", "extensions", "(", ")", ".", "map", "(", "basic", "constraints", ":", ":", "from", "extensions", ")", ".", "find", "any", "(", ")", ".", "map", "(", "basic", "constraints", ":", ":", "is", "ca", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> optional < <INSERT_END> <KEEP> boolean <KEEP_END> <INSERT> > <INSERT_END> <KEEP> get basic constraints ( ) { return get extensions ( ) . map ( basic constraints : : from extensions ) . find any ( ) . map ( basic constraints : : is ca ) <KEEP_END> <DELETE> . or else ( false ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "optional", "<", "<INSERT_END>", "<KEEP>", "boolean", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "get", "basic", "constraints", "(", ")", "{", "return", "get", "extensions", "(", ")", ".", "map", "(", "basic", "constraints", ":", ":", "from", "extensions", ")", ".", "find", "any", "(", ")", ".", "map", "(", "basic", "constraints", ":", ":", "is", "ca", ")", "<KEEP_END>", "<DELETE>", ".", "or", "else", "(", "false", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> true <INSERT_NEW_KEEP_AFTER> if basic constraints extension is present : returns true <INSERT_END> <REPLACE_OLD> certificate <REPLACE_NEW> cert , false otherwise . returns empty if the extension is not present . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "true", "<INSERT_NEW_KEEP_AFTER>", "if", "basic", "constraints", "extension", "is", "present", ":", "returns", "true", "<INSERT_END>", "<REPLACE_OLD>", "certificate", "<REPLACE_NEW>", "cert", ",", "false", "otherwise", ".", "returns", "empty", "if", "the", "extension", "is", "not", "present", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "optional", "<INSERT>", "<", "<KEEP>", "boolean", "<INSERT>", ">", "<KEEP>", "get", "<KEEP>", "basic", "<KEEP>", "constraints", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "extensions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "basic", "<KEEP>", "constraints", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "from", "<KEEP>", "extensions", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "any", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "basic", "<KEEP>", "constraints", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "is", "<KEEP>", "ca", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "or", "<DELETE>", "else", "<DELETE>", "(", "<DELETE>", "false", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7898860617884941, "using": 1, "keep": 1}
{"id": "toddlipcon_hadoop-176-4015", "old_comment": "the choosen data node", "old_comment_tokens": ["the", "choosen", "data", "node"], "new_comment": "the choosen node", "new_comment_tokens": ["the", "choosen", "node"], "old_code": "public datanode descriptor choose random ( string scope ) { netlock . read lock ( ) . lock ( ) ; try { if ( scope . starts with ( str ) ) { return choose random ( node base . root , scope . substring ( num ) ) ; } else { return choose random ( scope , null ) ; } } finally { netlock . read lock ( ) . unlock ( ) ; } }", "old_code_tokens": ["public", "datanode", "descriptor", "choose", "random", "(", "string", "scope", ")", "{", "netlock", ".", "read", "lock", "(", ")", ".", "lock", "(", ")", ";", "try", "{", "if", "(", "scope", ".", "starts", "with", "(", "str", ")", ")", "{", "return", "choose", "random", "(", "node", "base", ".", "root", ",", "scope", ".", "substring", "(", "num", ")", ")", ";", "}", "else", "{", "return", "choose", "random", "(", "scope", ",", "null", ")", ";", "}", "}", "finally", "{", "netlock", ".", "read", "lock", "(", ")", ".", "unlock", "(", ")", ";", "}", "}"], "new_code": "public node choose random ( string scope ) { netlock . read lock ( ) . lock ( ) ; try { if ( scope . starts with ( str ) ) { return choose random ( node base . root , scope . substring ( num ) ) ; } else { return choose random ( scope , null ) ; } } finally { netlock . read lock ( ) . unlock ( ) ; } }", "new_code_tokens": ["public", "node", "choose", "random", "(", "string", "scope", ")", "{", "netlock", ".", "read", "lock", "(", ")", ".", "lock", "(", ")", ";", "try", "{", "if", "(", "scope", ".", "starts", "with", "(", "str", ")", ")", "{", "return", "choose", "random", "(", "node", "base", ".", "root", ",", "scope", ".", "substring", "(", "num", ")", ")", ";", "}", "else", "{", "return", "choose", "random", "(", "scope", ",", "null", ")", ";", "}", "}", "finally", "{", "netlock", ".", "read", "lock", "(", ")", ".", "unlock", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> datanode descriptor <REPLACE_NEW> node <REPLACE_END> <KEEP> choose random ( string scope ) { netlock . read lock ( ) . lock ( ) ; try { if ( scope . starts with ( str ) ) { return choose random ( node base . root , scope . substring ( num ) ) ; } else { return choose random ( scope , null ) ; } } finally { netlock . read lock ( ) . unlock ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "datanode", "descriptor", "<REPLACE_NEW>", "node", "<REPLACE_END>", "<KEEP>", "choose", "random", "(", "string", "scope", ")", "{", "netlock", ".", "read", "lock", "(", ")", ".", "lock", "(", ")", ";", "try", "{", "if", "(", "scope", ".", "starts", "with", "(", "str", ")", ")", "{", "return", "choose", "random", "(", "node", "base", ".", "root", ",", "scope", ".", "substring", "(", "num", ")", ")", ";", "}", "else", "{", "return", "choose", "random", "(", "scope", ",", "null", ")", ";", "}", "}", "finally", "{", "netlock", ".", "read", "lock", "(", ")", ".", "unlock", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> data <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "data", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "datanode", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "node", "<KEEP>", "choose", "<KEEP>", "random", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "scope", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "netlock", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "scope", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "choose", "<KEEP>", "random", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "base", "<KEEP>", ".", "<KEEP>", "root", "<KEEP>", ",", "<KEEP>", "scope", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "choose", "<KEEP>", "random", "<KEEP>", "(", "<KEEP>", "scope", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "netlock", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "unlock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9763192169582366, "using": 2, "keep": 1}
{"id": "square_pollexor-3-5140", "old_comment": "safe uri for the current configuration .", "old_comment_tokens": ["safe", "uri", "for", "the", "current", "configuration", "."], "new_comment": "safe url for the current configuration .", "new_comment_tokens": ["safe", "url", "for", "the", "current", "configuration", "."], "old_code": "public string build safe ( ) { if ( key = = null ) { throw new illegal state exception ( str ) ; } string builder config = assemble config ( ) . append ( str ) . append ( md5 ( target ) ) ; final byte [ ] encrypted = aes128 encrypt ( config , normalize string ( key , num ) ) ; final string encoded = utilities . base64 encode ( encrypted ) ; return new string builder ( str ) . append ( encoded ) . append ( str ) . append ( target ) . to string ( ) ; }", "old_code_tokens": ["public", "string", "build", "safe", "(", ")", "{", "if", "(", "key", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "string", "builder", "config", "=", "assemble", "config", "(", ")", ".", "append", "(", "str", ")", ".", "append", "(", "md5", "(", "target", ")", ")", ";", "final", "byte", "[", "]", "encrypted", "=", "aes128", "encrypt", "(", "config", ",", "normalize", "string", "(", "key", ",", "num", ")", ")", ";", "final", "string", "encoded", "=", "utilities", ".", "base64", "encode", "(", "encrypted", ")", ";", "return", "new", "string", "builder", "(", "str", ")", ".", "append", "(", "encoded", ")", ".", "append", "(", "str", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public string build safe ( ) { if ( key = = null ) { throw new illegal state exception ( str ) ; } string builder config = assemble config ( ) . append ( md5 ( target ) ) ; final byte [ ] encrypted = aes128 encrypt ( config , normalize string ( key , num ) ) ; final string encoded = utilities . base64 encode ( encrypted ) ; return new string builder ( host ) . append ( str ) . append ( encoded ) . append ( str ) . append ( target ) . to string ( ) ; }", "new_code_tokens": ["public", "string", "build", "safe", "(", ")", "{", "if", "(", "key", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "string", "builder", "config", "=", "assemble", "config", "(", ")", ".", "append", "(", "md5", "(", "target", ")", ")", ";", "final", "byte", "[", "]", "encrypted", "=", "aes128", "encrypt", "(", "config", ",", "normalize", "string", "(", "key", ",", "num", ")", ")", ";", "final", "string", "encoded", "=", "utilities", ".", "base64", "encode", "(", "encrypted", ")", ";", "return", "new", "string", "builder", "(", "host", ")", ".", "append", "(", "str", ")", ".", "append", "(", "encoded", ")", ".", "append", "(", "str", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string build safe ( ) { if ( key = = null ) { throw new illegal state exception ( str ) ; } string builder config = assemble config ( <KEEP_END> <DELETE> ) . append ( str <DELETE_END> <KEEP> ) . append ( md5 ( target ) ) ; final byte [ ] encrypted = aes128 encrypt ( config , normalize string ( key , num ) ) ; final string encoded = utilities . base64 encode ( encrypted ) ; return new string builder ( <KEEP_END> <INSERT> host ) . append ( <INSERT_END> <KEEP> str ) . append ( encoded ) . append ( str ) . append ( target ) . to string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "build", "safe", "(", ")", "{", "if", "(", "key", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "string", "builder", "config", "=", "assemble", "config", "(", "<KEEP_END>", "<DELETE>", ")", ".", "append", "(", "str", "<DELETE_END>", "<KEEP>", ")", ".", "append", "(", "md5", "(", "target", ")", ")", ";", "final", "byte", "[", "]", "encrypted", "=", "aes128", "encrypt", "(", "config", ",", "normalize", "string", "(", "key", ",", "num", ")", ")", ";", "final", "string", "encoded", "=", "utilities", ".", "base64", "encode", "(", "encrypted", ")", ";", "return", "new", "string", "builder", "(", "<KEEP_END>", "<INSERT>", "host", ")", ".", "append", "(", "<INSERT_END>", "<KEEP>", "str", ")", ".", "append", "(", "encoded", ")", ".", "append", "(", "str", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> uri <REPLACE_NEW> url <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "url", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "build", "<KEEP>", "safe", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "assemble", "<KEEP>", "config", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "md5", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "encrypted", "<KEEP>", "=", "<KEEP>", "aes128", "<KEEP>", "encrypt", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ",", "<KEEP>", "normalize", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "encoded", "<KEEP>", "=", "<KEEP>", "utilities", "<KEEP>", ".", "<KEEP>", "base64", "<KEEP>", "encode", "<KEEP>", "(", "<KEEP>", "encrypted", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<INSERT>", "host", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "append", "<INSERT>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "encoded", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9249505244252655, "using": 0, "keep": 1}
{"id": "Bukkit_Bukkit-29-3617", "old_comment": "list of known services", "old_comment_tokens": ["list", "of", "known", "services"], "new_comment": "a copy of the set of known services", "new_comment_tokens": ["a", "copy", "of", "the", "set", "of", "known", "services"], "old_code": "public collection < class < ? > > get known services ( ) { return collections . unmodifiable set ( providers . key set ( ) ) ; }", "old_code_tokens": ["public", "collection", "<", "class", "<", "?", ">", ">", "get", "known", "services", "(", ")", "{", "return", "collections", ".", "unmodifiable", "set", "(", "providers", ".", "key", "set", "(", ")", ")", ";", "}"], "new_code": "public set < class < ? > > get known services ( ) { synchronized ( providers ) { return immutable set . < class < ? > > copy of ( providers . key set ( ) ) ; } }", "new_code_tokens": ["public", "set", "<", "class", "<", "?", ">", ">", "get", "known", "services", "(", ")", "{", "synchronized", "(", "providers", ")", "{", "return", "immutable", "set", ".", "<", "class", "<", "?", ">", ">", "copy", "of", "(", "providers", ".", "key", "set", "(", ")", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> set <REPLACE_END> <KEEP> < class < ? > > get known services ( ) { <KEEP_END> <INSERT> synchronized ( providers ) { <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> collections <REPLACE_NEW> immutable set <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> unmodifiable set <REPLACE_NEW> < class < ? > > copy of <REPLACE_END> <KEEP> ( providers . key set ( ) ) ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "<", "class", "<", "?", ">", ">", "get", "known", "services", "(", ")", "{", "<KEEP_END>", "<INSERT>", "synchronized", "(", "providers", ")", "{", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "immutable", "set", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "unmodifiable", "set", "<REPLACE_NEW>", "<", "class", "<", "?", ">", ">", "copy", "of", "<REPLACE_END>", "<KEEP>", "(", "providers", ".", "key", "set", "(", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> a copy of the set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "a", "copy", "of", "the", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "known", "<KEEP>", "services", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "synchronized", "<INSERT>", "(", "<INSERT>", "providers", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "immutable", "<REPLACE_NEW>", "set", "<KEEP>", ".", "<REPLACE_OLD>", "unmodifiable", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "copy", "<REPLACE_NEW>", "of", "<KEEP>", "(", "<KEEP>", "providers", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.891166491597577, "using": 2, "keep": 1}
{"id": "eclipse_webtools.common-15-5967", "old_comment": "a @ see workbench module resourceassociated with the current module core with its source path equivalent to a resource", "old_comment_tokens": ["a", "@", "see", "workbench", "module", "resourceassociated", "with", "the", "current", "module", "core", "with", "its", "source", "path", "equivalent", "to", "a", "resource"], "new_comment": "a @ see component resourceassociated with the current module core with its source path equivalent to a resource", "new_comment_tokens": ["a", "@", "see", "component", "resourceassociated", "with", "the", "current", "module", "core", "with", "its", "source", "path", "equivalent", "to", "a", "resource"], "old_code": "public module type create module type ( string a module type id ) { if ( is read only ) throw attempted read only modification ( ) ; module type module type = module _ factory . create module type ( ) ; module type . set module type id ( a module type id ) ; return module type ; }", "old_code_tokens": ["public", "module", "type", "create", "module", "type", "(", "string", "a", "module", "type", "id", ")", "{", "if", "(", "is", "read", "only", ")", "throw", "attempted", "read", "only", "modification", "(", ")", ";", "module", "type", "module", "type", "=", "module", "_", "factory", ".", "create", "module", "type", "(", ")", ";", "module", "type", ".", "set", "module", "type", "id", "(", "a", "module", "type", "id", ")", ";", "return", "module", "type", ";", "}"], "new_code": "public component type create module type ( string a module type id ) { if ( is read only ) throw attempted read only modification ( ) ; component type module type = module _ factory . create module type ( ) ; module type . set module type id ( a module type id ) ; return module type ; }", "new_code_tokens": ["public", "component", "type", "create", "module", "type", "(", "string", "a", "module", "type", "id", ")", "{", "if", "(", "is", "read", "only", ")", "throw", "attempted", "read", "only", "modification", "(", ")", ";", "component", "type", "module", "type", "=", "module", "_", "factory", ".", "create", "module", "type", "(", ")", ";", "module", "type", ".", "set", "module", "type", "id", "(", "a", "module", "type", "id", ")", ";", "return", "module", "type", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> type create module type ( string a module type id ) { if ( is read only ) throw attempted read only modification ( ) ; <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> type module type = module _ factory . create module type ( ) ; module type . set module type id ( a module type id ) ; return module type ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "type", "create", "module", "type", "(", "string", "a", "module", "type", "id", ")", "{", "if", "(", "is", "read", "only", ")", "throw", "attempted", "read", "only", "modification", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "type", "module", "type", "=", "module", "_", "factory", ".", "create", "module", "type", "(", ")", ";", "module", "type", ".", "set", "module", "type", "id", "(", "a", "module", "type", "id", ")", ";", "return", "module", "type", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> workbench module <REPLACE_NEW> component <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "workbench", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "type", "<KEEP>", "create", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "attempted", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", "modification", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "type", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9253682796785266, "using": 1, "keep": 1}
{"id": "byterom_android_packages_apps_CMFileManager-47-4581", "old_comment": "boolean if the mount point can be mounted", "old_comment_tokens": ["boolean", "if", "the", "mount", "point", "can", "be", "mounted"], "new_comment": "boolean if the mount point can be mounted / unmount ( rw / ro )", "new_comment_tokens": ["boolean", "if", "the", "mount", "point", "can", "be", "mounted", "/", "unmount", "(", "rw", "/", "ro", ")"], "old_code": "public static boolean is mount allowed ( mount point mp ) { return allowed _ fs _ type . contains ( mp . get type ( ) ) ; }", "old_code_tokens": ["public", "static", "boolean", "is", "mount", "allowed", "(", "mount", "point", "mp", ")", "{", "return", "allowed", "_", "fs", "_", "type", ".", "contains", "(", "mp", ".", "get", "type", "(", ")", ")", ";", "}"], "new_code": "public static boolean is mount allowed ( mount point mp ) { return ! restricted _ fs _ type . contains ( mp . get type ( ) ) ; }", "new_code_tokens": ["public", "static", "boolean", "is", "mount", "allowed", "(", "mount", "point", "mp", ")", "{", "return", "!", "restricted", "_", "fs", "_", "type", ".", "contains", "(", "mp", ".", "get", "type", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean is mount allowed ( mount point mp ) { return <KEEP_END> <REPLACE_OLD> allowed <REPLACE_NEW> ! restricted <REPLACE_END> <KEEP> _ fs _ type . contains ( mp . get type ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "mount", "allowed", "(", "mount", "point", "mp", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "allowed", "<REPLACE_NEW>", "!", "restricted", "<REPLACE_END>", "<KEEP>", "_", "fs", "_", "type", ".", "contains", "(", "mp", ".", "get", "type", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> mounted <INSERT_NEW_KEEP_BEFORE> mounted / unmount ( rw / ro ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "mounted", "<INSERT_NEW_KEEP_BEFORE>", "mounted", "/", "unmount", "(", "rw", "/", "ro", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "mount", "<KEEP>", "allowed", "<KEEP>", "(", "<KEEP>", "mount", "<KEEP>", "point", "<KEEP>", "mp", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "allowed", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "restricted", "<KEEP>", "_", "<KEEP>", "fs", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "mp", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8157929721236339, "using": 1, "keep": 1}
{"id": "cloudera_navigator-sdk-2-6786", "old_comment": "a collection of string tags associated with this entity", "old_comment_tokens": ["a", "collection", "of", "string", "tags", "associated", "with", "this", "entity"], "new_comment": "added and removed tags", "new_comment_tokens": ["added", "and", "removed", "tags"], "old_code": "public collection < string > get tags ( ) { return tags ; }", "old_code_tokens": ["public", "collection", "<", "string", ">", "get", "tags", "(", ")", "{", "return", "tags", ";", "}"], "new_code": "public tag change set get tags ( ) { if ( tags = = null ) { tags = new tag change set ( ) ; } return tags ; }", "new_code_tokens": ["public", "tag", "change", "set", "get", "tags", "(", ")", "{", "if", "(", "tags", "=", "=", "null", ")", "{", "tags", "=", "new", "tag", "change", "set", "(", ")", ";", "}", "return", "tags", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection < string > <REPLACE_NEW> tag change set <REPLACE_END> <KEEP> get tags ( ) { <KEEP_END> <INSERT> if ( tags = = null ) { tags = new tag change set ( ) ; } <INSERT_END> <KEEP> return tags ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<", "string", ">", "<REPLACE_NEW>", "tag", "change", "set", "<REPLACE_END>", "<KEEP>", "get", "tags", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "tags", "=", "=", "null", ")", "{", "tags", "=", "new", "tag", "change", "set", "(", ")", ";", "}", "<INSERT_END>", "<KEEP>", "return", "tags", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a collection of string <REPLACE_NEW> added and removed <REPLACE_END> <DELETE> associated with this entity <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "collection", "of", "string", "<REPLACE_NEW>", "added", "and", "removed", "<REPLACE_END>", "<DELETE>", "associated", "with", "this", "entity", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "tag", "<REPLACE_NEW>", "change", "<REPLACE_NEW>", "set", "<KEEP>", "get", "<KEEP>", "tags", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "tags", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "tags", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "tag", "<INSERT>", "change", "<INSERT>", "set", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "tags", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7885909750364749, "using": 1, "keep": 1}
{"id": "codehaus_proxytoys-1-6696", "old_comment": "an array of interfaces .", "old_comment_tokens": ["an", "array", "of", "interfaces", "."], "new_comment": "an set of interfaces . the set may be empty", "new_comment_tokens": ["an", "set", "of", "interfaces", ".", "the", "set", "may", "be", "empty"], "old_code": "public static class [ ] get all interfaces ( final object [ ] objects ) { final set interfaces = new hash set ( ) ; for ( int i = num ; i < objects . length ; i + + ) { if ( objects [ i ] ! = null ) { get interfaces ( objects [ i ] . get class ( ) , interfaces ) ; } } return ( class [ ] ) interfaces . to array ( new class [ interfaces . size ( ) ] ) ; }", "old_code_tokens": ["public", "static", "class", "[", "]", "get", "all", "interfaces", "(", "final", "object", "[", "]", "objects", ")", "{", "final", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "objects", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "objects", "[", "i", "]", "!", "=", "null", ")", "{", "get", "interfaces", "(", "objects", "[", "i", "]", ".", "get", "class", "(", ")", ",", "interfaces", ")", ";", "}", "}", "return", "(", "class", "[", "]", ")", "interfaces", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public static set get all interfaces ( final object [ ] objects ) { final set interfaces = new hash set ( ) ; for ( int i = num ; i < objects . length ; i + + ) { if ( objects [ i ] ! = null ) { get interfaces ( objects [ i ] . get class ( ) , interfaces ) ; } } interfaces . remove ( invoker reference . class ) ; return interfaces ; }", "new_code_tokens": ["public", "static", "set", "get", "all", "interfaces", "(", "final", "object", "[", "]", "objects", ")", "{", "final", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "objects", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "objects", "[", "i", "]", "!", "=", "null", ")", "{", "get", "interfaces", "(", "objects", "[", "i", "]", ".", "get", "class", "(", ")", ",", "interfaces", ")", ";", "}", "}", "interfaces", ".", "remove", "(", "invoker", "reference", ".", "class", ")", ";", "return", "interfaces", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> class [ ] <REPLACE_NEW> set <REPLACE_END> <KEEP> get all interfaces ( final object [ ] objects ) { final set interfaces = new hash set ( ) ; for ( int i = num ; i < objects . length ; i + + ) { if ( objects [ i ] ! = null ) { get interfaces ( objects [ i ] . get class ( ) , interfaces ) ; } } <KEEP_END> <DELETE> return ( class [ ] ) <DELETE_END> <KEEP> interfaces . <KEEP_END> <REPLACE_OLD> to array <REPLACE_NEW> remove <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> new <REPLACE_NEW> invoker reference . <REPLACE_END> <KEEP> class <KEEP_END> <DELETE> [ interfaces . size ( ) ] <DELETE_END> <KEEP> ) ; <KEEP_END> <INSERT> return interfaces ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "class", "[", "]", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "get", "all", "interfaces", "(", "final", "object", "[", "]", "objects", ")", "{", "final", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "objects", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "objects", "[", "i", "]", "!", "=", "null", ")", "{", "get", "interfaces", "(", "objects", "[", "i", "]", ".", "get", "class", "(", ")", ",", "interfaces", ")", ";", "}", "}", "<KEEP_END>", "<DELETE>", "return", "(", "class", "[", "]", ")", "<DELETE_END>", "<KEEP>", "interfaces", ".", "<KEEP_END>", "<REPLACE_OLD>", "to", "array", "<REPLACE_NEW>", "remove", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "invoker", "reference", ".", "<REPLACE_END>", "<KEEP>", "class", "<KEEP_END>", "<DELETE>", "[", "interfaces", ".", "size", "(", ")", "]", "<DELETE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "return", "interfaces", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> array <REPLACE_NEW> set <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . the set may be empty <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "array", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "the", "set", "may", "be", "empty", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "set", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "objects", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "interfaces", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "objects", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "get", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "objects", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "interfaces", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "(", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", "interfaces", "<KEEP>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "remove", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "invoker", "<REPLACE_NEW>", "reference", "<REPLACE_NEW>", ".", "<KEEP>", "class", "<DELETE>", "[", "<DELETE>", "interfaces", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "]", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "interfaces", "<INSERT>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7862394878821979, "using": 2, "keep": 1}
{"id": "svn2github_svn-paccman-13-7174", "old_comment": "the sql date equivalent of the c calendar .", "old_comment_tokens": ["the", "sql", "date", "equivalent", "of", "the", "c", "calendar", "."], "new_comment": "the sql timestamp equivalent of the c calendar .", "new_comment_tokens": ["the", "sql", "timestamp", "equivalent", "of", "the", "c", "calendar", "."], "old_code": "static final date calendar to sql date ( calendar c ) { return c = = null ? null : new date ( c . get time in millis ( ) ) ; }", "old_code_tokens": ["static", "final", "date", "calendar", "to", "sql", "date", "(", "calendar", "c", ")", "{", "return", "c", "=", "=", "null", "?", "null", ":", "new", "date", "(", "c", ".", "get", "time", "in", "millis", "(", ")", ")", ";", "}"], "new_code": "static final timestamp calendar to sql date ( calendar c ) { return c = = null ? null : new timestamp ( c . get time in millis ( ) ) ; }", "new_code_tokens": ["static", "final", "timestamp", "calendar", "to", "sql", "date", "(", "calendar", "c", ")", "{", "return", "c", "=", "=", "null", "?", "null", ":", "new", "timestamp", "(", "c", ".", "get", "time", "in", "millis", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> static final <KEEP_END> <REPLACE_OLD> date <REPLACE_NEW> timestamp <REPLACE_END> <KEEP> calendar to sql date ( calendar c ) { return c = = null ? null : new <KEEP_END> <REPLACE_OLD> date <REPLACE_NEW> timestamp <REPLACE_END> <KEEP> ( c . get time in millis ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "final", "<KEEP_END>", "<REPLACE_OLD>", "date", "<REPLACE_NEW>", "timestamp", "<REPLACE_END>", "<KEEP>", "calendar", "to", "sql", "date", "(", "calendar", "c", ")", "{", "return", "c", "=", "=", "null", "?", "null", ":", "new", "<KEEP_END>", "<REPLACE_OLD>", "date", "<REPLACE_NEW>", "timestamp", "<REPLACE_END>", "<KEEP>", "(", "c", ".", "get", "time", "in", "millis", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> date <REPLACE_NEW> timestamp <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "date", "<REPLACE_NEW>", "timestamp", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "final", "<REPLACE_OLD>", "date", "<REPLACE_NEW>", "timestamp", "<KEEP>", "calendar", "<KEEP>", "to", "<KEEP>", "sql", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", "calendar", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "c", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "new", "<REPLACE_OLD>", "date", "<REPLACE_NEW>", "timestamp", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "time", "<KEEP>", "in", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9938563695179479, "using": 2, "keep": 1}
{"id": "softctrl_SCAndMoneyManagerEX-89-4886", "old_comment": "query object for chaining methods .", "old_comment_tokens": ["query", "object", "for", "chaining", "methods", "."], "new_comment": "select object for chaining methods .", "new_comment_tokens": ["select", "object", "for", "chaining", "methods", "."], "old_code": "public query where ( string selection , string . . . args ) { this . selection = selection ; this . selection args = args ; return this ; }", "old_code_tokens": ["public", "query", "where", "(", "string", "selection", ",", "string", ".", ".", ".", "args", ")", "{", "this", ".", "selection", "=", "selection", ";", "this", ".", "selection", "args", "=", "args", ";", "return", "this", ";", "}"], "new_code": "public select where ( string selection , string . . . args ) { this . selection = selection ; this . selection args = args ; return this ; }", "new_code_tokens": ["public", "select", "where", "(", "string", "selection", ",", "string", ".", ".", ".", "args", ")", "{", "this", ".", "selection", "=", "selection", ";", "this", ".", "selection", "args", "=", "args", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> query <REPLACE_NEW> select <REPLACE_END> <KEEP> where ( string selection , string . . . args ) { this . selection = selection ; this . selection args = args ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "select", "<REPLACE_END>", "<KEEP>", "where", "(", "string", "selection", ",", "string", ".", ".", ".", "args", ")", "{", "this", ".", "selection", "=", "selection", ";", "this", ".", "selection", "args", "=", "args", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> query <REPLACE_NEW> select <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "query", "<REPLACE_NEW>", "select", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "select", "<KEEP>", "where", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "selection", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "args", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "selection", "<KEEP>", ";", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", "=", "<KEEP>", "args", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9953658166383647, "using": 2, "keep": 1}
{"id": "eclipse_eclipse.jdt.debug-146-6525", "old_comment": "whether a java line breakpoint is already registered with the breakpoint manager for a type with the given name at the given line number", "old_comment_tokens": ["whether", "a", "java", "line", "breakpoint", "is", "already", "registered", "with", "the", "breakpoint", "manager", "for", "a", "type", "with", "the", "given", "name", "at", "the", "given", "line", "number"], "new_comment": "a java line breakpoint that is already registered with the breakpoint manager for a type with the given name at the given line number or null if no such breakpoint is registered", "new_comment_tokens": ["a", "java", "line", "breakpoint", "that", "is", "already", "registered", "with", "the", "breakpoint", "manager", "for", "a", "type", "with", "the", "given", "name", "at", "the", "given", "line", "number", "or", "null", "if", "no", "such", "breakpoint", "is", "registered"], "old_code": "public static boolean line breakpoint exists ( string type name , int line number ) throws core exception { string model id = get plugin identifier ( ) ; string marker type = java line breakpoint . get marker type ( ) ; ibreakpoint manager manager = debug plugin . get default ( ) . get breakpoint manager ( ) ; ibreakpoint [ ] breakpoints = manager . get breakpoints ( model id ) ; for ( int i = num ; i < breakpoints . length ; i + + ) { if ( ! ( breakpoints [ i ] instanceof ijava line breakpoint ) ) { continue ; } ijava line breakpoint breakpoint = ( ijava line breakpoint ) breakpoints [ i ] ; if ( breakpoint . get marker ( ) . get type ( ) . equals ( marker type ) ) { if ( breakpoint . get type name ( ) . equals ( type name ) ) { if ( breakpoint . get line number ( ) = = line number ) { return true ; } } } } return false ; }", "old_code_tokens": ["public", "static", "boolean", "line", "breakpoint", "exists", "(", "string", "type", "name", ",", "int", "line", "number", ")", "throws", "core", "exception", "{", "string", "model", "id", "=", "get", "plugin", "identifier", "(", ")", ";", "string", "marker", "type", "=", "java", "line", "breakpoint", ".", "get", "marker", "type", "(", ")", ";", "ibreakpoint", "manager", "manager", "=", "debug", "plugin", ".", "get", "default", "(", ")", ".", "get", "breakpoint", "manager", "(", ")", ";", "ibreakpoint", "[", "]", "breakpoints", "=", "manager", ".", "get", "breakpoints", "(", "model", "id", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "breakpoints", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "!", "(", "breakpoints", "[", "i", "]", "instanceof", "ijava", "line", "breakpoint", ")", ")", "{", "continue", ";", "}", "ijava", "line", "breakpoint", "breakpoint", "=", "(", "ijava", "line", "breakpoint", ")", "breakpoints", "[", "i", "]", ";", "if", "(", "breakpoint", ".", "get", "marker", "(", ")", ".", "get", "type", "(", ")", ".", "equals", "(", "marker", "type", ")", ")", "{", "if", "(", "breakpoint", ".", "get", "type", "name", "(", ")", ".", "equals", "(", "type", "name", ")", ")", "{", "if", "(", "breakpoint", ".", "get", "line", "number", "(", ")", "=", "=", "line", "number", ")", "{", "return", "true", ";", "}", "}", "}", "}", "return", "false", ";", "}"], "new_code": "public static ijava line breakpoint line breakpoint exists ( string type name , int line number ) throws core exception { string model id = get plugin identifier ( ) ; string marker type = java line breakpoint . get marker type ( ) ; ibreakpoint manager manager = debug plugin . get default ( ) . get breakpoint manager ( ) ; ibreakpoint [ ] breakpoints = manager . get breakpoints ( model id ) ; for ( int i = num ; i < breakpoints . length ; i + + ) { if ( ! ( breakpoints [ i ] instanceof ijava line breakpoint ) ) { continue ; } ijava line breakpoint breakpoint = ( ijava line breakpoint ) breakpoints [ i ] ; if ( breakpoint . get marker ( ) . get type ( ) . equals ( marker type ) ) { if ( breakpoint . get type name ( ) . equals ( type name ) ) { if ( breakpoint . get line number ( ) = = line number ) { return breakpoint ; } } } } return null ; }", "new_code_tokens": ["public", "static", "ijava", "line", "breakpoint", "line", "breakpoint", "exists", "(", "string", "type", "name", ",", "int", "line", "number", ")", "throws", "core", "exception", "{", "string", "model", "id", "=", "get", "plugin", "identifier", "(", ")", ";", "string", "marker", "type", "=", "java", "line", "breakpoint", ".", "get", "marker", "type", "(", ")", ";", "ibreakpoint", "manager", "manager", "=", "debug", "plugin", ".", "get", "default", "(", ")", ".", "get", "breakpoint", "manager", "(", ")", ";", "ibreakpoint", "[", "]", "breakpoints", "=", "manager", ".", "get", "breakpoints", "(", "model", "id", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "breakpoints", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "!", "(", "breakpoints", "[", "i", "]", "instanceof", "ijava", "line", "breakpoint", ")", ")", "{", "continue", ";", "}", "ijava", "line", "breakpoint", "breakpoint", "=", "(", "ijava", "line", "breakpoint", ")", "breakpoints", "[", "i", "]", ";", "if", "(", "breakpoint", ".", "get", "marker", "(", ")", ".", "get", "type", "(", ")", ".", "equals", "(", "marker", "type", ")", ")", "{", "if", "(", "breakpoint", ".", "get", "type", "name", "(", ")", ".", "equals", "(", "type", "name", ")", ")", "{", "if", "(", "breakpoint", ".", "get", "line", "number", "(", ")", "=", "=", "line", "number", ")", "{", "return", "breakpoint", ";", "}", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> ijava line breakpoint <REPLACE_END> <KEEP> line breakpoint exists ( string type name , int line number ) throws core exception { string model id = get plugin identifier ( ) ; string marker type = java line breakpoint . get marker type ( ) ; ibreakpoint manager manager = debug plugin . get default ( ) . get breakpoint manager ( ) ; ibreakpoint [ ] breakpoints = manager . get breakpoints ( model id ) ; for ( int i = num ; i < breakpoints . length ; i + + ) { if ( ! ( breakpoints [ i ] instanceof ijava line breakpoint ) ) { continue ; } ijava line breakpoint breakpoint = ( ijava line breakpoint ) breakpoints [ i ] ; if ( breakpoint . get marker ( ) . get type ( ) . equals ( marker type ) ) { if ( breakpoint . get type name ( ) . equals ( type name ) ) { if ( breakpoint . get line number ( ) = = line number ) { return <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> breakpoint <REPLACE_END> <KEEP> ; } } } } return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "ijava", "line", "breakpoint", "<REPLACE_END>", "<KEEP>", "line", "breakpoint", "exists", "(", "string", "type", "name", ",", "int", "line", "number", ")", "throws", "core", "exception", "{", "string", "model", "id", "=", "get", "plugin", "identifier", "(", ")", ";", "string", "marker", "type", "=", "java", "line", "breakpoint", ".", "get", "marker", "type", "(", ")", ";", "ibreakpoint", "manager", "manager", "=", "debug", "plugin", ".", "get", "default", "(", ")", ".", "get", "breakpoint", "manager", "(", ")", ";", "ibreakpoint", "[", "]", "breakpoints", "=", "manager", ".", "get", "breakpoints", "(", "model", "id", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "breakpoints", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "!", "(", "breakpoints", "[", "i", "]", "instanceof", "ijava", "line", "breakpoint", ")", ")", "{", "continue", ";", "}", "ijava", "line", "breakpoint", "breakpoint", "=", "(", "ijava", "line", "breakpoint", ")", "breakpoints", "[", "i", "]", ";", "if", "(", "breakpoint", ".", "get", "marker", "(", ")", ".", "get", "type", "(", ")", ".", "equals", "(", "marker", "type", ")", ")", "{", "if", "(", "breakpoint", ".", "get", "type", "name", "(", ")", ".", "equals", "(", "type", "name", ")", ")", "{", "if", "(", "breakpoint", ".", "get", "line", "number", "(", ")", "=", "=", "line", "number", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "breakpoint", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> whether <DELETE_END> <INSERT_OLD_KEEP_BEFORE> line breakpoint <INSERT_NEW_KEEP_BEFORE> line breakpoint that <INSERT_END> <INSERT_OLD_KEEP_BEFORE> number <INSERT_NEW_KEEP_BEFORE> number or null if no such breakpoint is registered <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "whether", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "line", "breakpoint", "<INSERT_NEW_KEEP_BEFORE>", "line", "breakpoint", "that", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "number", "<INSERT_NEW_KEEP_BEFORE>", "number", "or", "null", "if", "no", "such", "breakpoint", "is", "registered", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "ijava", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", "breakpoint", "<KEEP>", "line", "<KEEP>", "breakpoint", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "line", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "core", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "model", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "plugin", "<KEEP>", "identifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "marker", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "java", "<KEEP>", "line", "<KEEP>", "breakpoint", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "marker", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ibreakpoint", "<KEEP>", "manager", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "debug", "<KEEP>", "plugin", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "breakpoint", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ibreakpoint", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "breakpoints", "<KEEP>", "=", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "breakpoints", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "breakpoints", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "(", "<KEEP>", "breakpoints", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "instanceof", "<KEEP>", "ijava", "<KEEP>", "line", "<KEEP>", "breakpoint", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "ijava", "<KEEP>", "line", "<KEEP>", "breakpoint", "<KEEP>", "breakpoint", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "ijava", "<KEEP>", "line", "<KEEP>", "breakpoint", "<KEEP>", ")", "<KEEP>", "breakpoints", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "breakpoint", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "marker", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "marker", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "breakpoint", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "breakpoint", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "line", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "line", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "breakpoint", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8217275860246892, "using": 1, "keep": 1}
{"id": "eclipse_gmf-runtime-72-7155", "old_comment": "the editing domain ' s cross - reference adapter", "old_comment_tokens": ["the", "editing", "domain", "'", "s", "cross", "-", "reference", "adapter"], "new_comment": "the resource set ' s cross - reference adapter", "new_comment_tokens": ["the", "resource", "set", "'", "s", "cross", "-", "reference", "adapter"], "old_code": "public static cross reference adapter get cross reference adapter ( transactional editing domain domain ) { cross reference adapter result = get existing cross reference adapter ( domain . get resource set ( ) ) ; if ( result = = null ) { result = new cross reference adapter ( ) ; domain . get resource set ( ) . e adapters ( ) . add ( result ) ; } return result ; }", "old_code_tokens": ["public", "static", "cross", "reference", "adapter", "get", "cross", "reference", "adapter", "(", "transactional", "editing", "domain", "domain", ")", "{", "cross", "reference", "adapter", "result", "=", "get", "existing", "cross", "reference", "adapter", "(", "domain", ".", "get", "resource", "set", "(", ")", ")", ";", "if", "(", "result", "=", "=", "null", ")", "{", "result", "=", "new", "cross", "reference", "adapter", "(", ")", ";", "domain", ".", "get", "resource", "set", "(", ")", ".", "e", "adapters", "(", ")", ".", "add", "(", "result", ")", ";", "}", "return", "result", ";", "}"], "new_code": "public static cross reference adapter get cross reference adapter ( resource set resource set ) { if ( resource set = = null ) { return null ; } cross reference adapter result = get existing cross reference adapter ( resource set ) ; if ( result = = null ) { result = new cross reference adapter ( ) ; resource set . e adapters ( ) . add ( result ) ; } return result ; }", "new_code_tokens": ["public", "static", "cross", "reference", "adapter", "get", "cross", "reference", "adapter", "(", "resource", "set", "resource", "set", ")", "{", "if", "(", "resource", "set", "=", "=", "null", ")", "{", "return", "null", ";", "}", "cross", "reference", "adapter", "result", "=", "get", "existing", "cross", "reference", "adapter", "(", "resource", "set", ")", ";", "if", "(", "result", "=", "=", "null", ")", "{", "result", "=", "new", "cross", "reference", "adapter", "(", ")", ";", "resource", "set", ".", "e", "adapters", "(", ")", ".", "add", "(", "result", ")", ";", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public static cross reference adapter get cross reference adapter ( <KEEP_END> <REPLACE_OLD> transactional editing domain domain <REPLACE_NEW> resource set resource set <REPLACE_END> <KEEP> ) { <KEEP_END> <INSERT> if ( resource set = = null ) { return null ; } <INSERT_END> <KEEP> cross reference adapter result = get existing cross reference adapter ( <KEEP_END> <DELETE> domain . get <DELETE_END> <KEEP> resource set <KEEP_END> <DELETE> ( ) <DELETE_END> <KEEP> ) ; if ( result = = null ) { result = new cross reference adapter ( ) ; <KEEP_END> <DELETE> domain . get <DELETE_END> <KEEP> resource set <KEEP_END> <DELETE> ( ) <DELETE_END> <KEEP> . e adapters ( ) . add ( result ) ; } return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "cross", "reference", "adapter", "get", "cross", "reference", "adapter", "(", "<KEEP_END>", "<REPLACE_OLD>", "transactional", "editing", "domain", "domain", "<REPLACE_NEW>", "resource", "set", "resource", "set", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "resource", "set", "=", "=", "null", ")", "{", "return", "null", ";", "}", "<INSERT_END>", "<KEEP>", "cross", "reference", "adapter", "result", "=", "get", "existing", "cross", "reference", "adapter", "(", "<KEEP_END>", "<DELETE>", "domain", ".", "get", "<DELETE_END>", "<KEEP>", "resource", "set", "<KEEP_END>", "<DELETE>", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "if", "(", "result", "=", "=", "null", ")", "{", "result", "=", "new", "cross", "reference", "adapter", "(", ")", ";", "<KEEP_END>", "<DELETE>", "domain", ".", "get", "<DELETE_END>", "<KEEP>", "resource", "set", "<KEEP_END>", "<DELETE>", "(", ")", "<DELETE_END>", "<KEEP>", ".", "e", "adapters", "(", ")", ".", "add", "(", "result", ")", ";", "}", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> editing domain <REPLACE_NEW> resource set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "editing", "domain", "<REPLACE_NEW>", "resource", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "cross", "<KEEP>", "reference", "<KEEP>", "adapter", "<KEEP>", "get", "<KEEP>", "cross", "<KEEP>", "reference", "<KEEP>", "adapter", "<KEEP>", "(", "<REPLACE_OLD>", "transactional", "<REPLACE_OLD>", "editing", "<REPLACE_OLD>", "domain", "<REPLACE_OLD>", "domain", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "set", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "resource", "<INSERT>", "set", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "cross", "<KEEP>", "reference", "<KEEP>", "adapter", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "existing", "<KEEP>", "cross", "<KEEP>", "reference", "<KEEP>", "adapter", "<KEEP>", "(", "<DELETE>", "domain", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "resource", "<KEEP>", "set", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "cross", "<KEEP>", "reference", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "domain", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "resource", "<KEEP>", "set", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "adapters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.938376299332413, "using": 2, "keep": 1}
{"id": "apache_asterixdb-118-5399", "old_comment": "the directory \" $ ( controller config . default dir ) / library \" : this needs to be improved", "old_comment_tokens": ["the", "directory", "\"", "$", "(", "controller", "config", ".", "default", "dir", ")", "/", "library", "\"", ":", "this", "needs", "to", "be", "improved"], "new_comment": "the directory \" system . get property ( \" app . home \" , system . get property ( \" user . home \" ) / lib / udfs \"", "new_comment_tokens": ["the", "directory", "\"", "system", ".", "get", "property", "(", "\"", "app", ".", "home", "\"", ",", "system", ".", "get", "property", "(", "\"", "user", ".", "home", "\"", ")", "/", "lib", "/", "udfs", "\""], "old_code": "protected static file get library install dir ( ) { file install dir = new file ( system . get property ( str ) , str ) ; if ( ! install dir . exists ( ) ) { install dir = new file ( system . get property ( str , system . get property ( str ) ) + file . separator + str + file . separator + str ) ; } return install dir ; }", "old_code_tokens": ["protected", "static", "file", "get", "library", "install", "dir", "(", ")", "{", "file", "install", "dir", "=", "new", "file", "(", "system", ".", "get", "property", "(", "str", ")", ",", "str", ")", ";", "if", "(", "!", "install", "dir", ".", "exists", "(", ")", ")", "{", "install", "dir", "=", "new", "file", "(", "system", ".", "get", "property", "(", "str", ",", "system", ".", "get", "property", "(", "str", ")", ")", "+", "file", ".", "separator", "+", "str", "+", "file", ".", "separator", "+", "str", ")", ";", "}", "return", "install", "dir", ";", "}"], "new_code": "protected static file get library install dir ( ) { return new file ( system . get property ( str , system . get property ( str ) ) + file . separator + str + file . separator + str ) ; }", "new_code_tokens": ["protected", "static", "file", "get", "library", "install", "dir", "(", ")", "{", "return", "new", "file", "(", "system", ".", "get", "property", "(", "str", ",", "system", ".", "get", "property", "(", "str", ")", ")", "+", "file", ".", "separator", "+", "str", "+", "file", ".", "separator", "+", "str", ")", ";", "}"], "span_diff_code": "<KEEP> protected static file get library install dir ( ) { <KEEP_END> <REPLACE_OLD> file install dir = new file ( system . get property ( str ) , str ) ; if ( ! install dir . exists ( ) ) { install dir = <REPLACE_NEW> return <REPLACE_END> <KEEP> new file ( system . get property ( str , system . get property ( str ) ) + file . separator + str + file . separator + str ) ; } <KEEP_END> <DELETE> return install dir ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "static", "file", "get", "library", "install", "dir", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "file", "install", "dir", "=", "new", "file", "(", "system", ".", "get", "property", "(", "str", ")", ",", "str", ")", ";", "if", "(", "!", "install", "dir", ".", "exists", "(", ")", ")", "{", "install", "dir", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "new", "file", "(", "system", ".", "get", "property", "(", "str", ",", "system", ".", "get", "property", "(", "str", ")", ")", "+", "file", ".", "separator", "+", "str", "+", "file", ".", "separator", "+", "str", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "install", "dir", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> $ <REPLACE_NEW> system . get property <REPLACE_END> <REPLACE_OLD> controller config <REPLACE_NEW> \" app <REPLACE_END> <REPLACE_OLD> default dir <REPLACE_NEW> home \" , system . get property ( \" user . home \" <REPLACE_END> <REPLACE_OLD> library <REPLACE_NEW> lib / udfs <REPLACE_END> <DELETE> : this needs to be improved <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "$", "<REPLACE_NEW>", "system", ".", "get", "property", "<REPLACE_END>", "<REPLACE_OLD>", "controller", "config", "<REPLACE_NEW>", "\"", "app", "<REPLACE_END>", "<REPLACE_OLD>", "default", "dir", "<REPLACE_NEW>", "home", "\"", ",", "system", ".", "get", "property", "(", "\"", "user", ".", "home", "\"", "<REPLACE_END>", "<REPLACE_OLD>", "library", "<REPLACE_NEW>", "lib", "/", "udfs", "<REPLACE_END>", "<DELETE>", ":", "this", "needs", "to", "be", "improved", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "static", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "library", "<KEEP>", "install", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "install", "<REPLACE_OLD>", "dir", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "install", "<REPLACE_OLD>", "dir", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "exists", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "install", "<REPLACE_OLD>", "dir", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "separator", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "separator", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "install", "<DELETE>", "dir", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.804765243641495, "using": 1, "keep": 1}
{"id": "codehaus_aspectwerkz-73-4221", "old_comment": "the method", "old_comment_tokens": ["the", "method"], "new_comment": "the constructor", "new_comment_tokens": ["the", "constructor"], "old_code": "public method get constructor ( final class klass , final int method hash ) { if ( klass = = null ) throw new illegal argument exception ( str ) ; if ( method hash < num ) throw new illegal argument exception ( str ) ; try { if ( ! m _ constructors . contains key ( klass ) ) { create method repository ( klass ) ; } } catch ( exception e ) { throw new wrapped runtime exception ( e ) ; } method method ; try { method = ( method ) ( ( tlong object hash map ) m _ constructors . get ( klass ) ) . get ( method hash ) ; } catch ( throwable e1 ) { initialize ( ) ; try { method = ( method ) ( ( tlong object hash map ) m _ constructors . get ( klass ) ) . get ( method hash ) ; } catch ( exception e ) { throw new wrapped runtime exception ( e ) ; } } return method ; }", "old_code_tokens": ["public", "method", "get", "constructor", "(", "final", "class", "klass", ",", "final", "int", "method", "hash", ")", "{", "if", "(", "klass", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "if", "(", "method", "hash", "<", "num", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "try", "{", "if", "(", "!", "m", "_", "constructors", ".", "contains", "key", "(", "klass", ")", ")", "{", "create", "method", "repository", "(", "klass", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "wrapped", "runtime", "exception", "(", "e", ")", ";", "}", "method", "method", ";", "try", "{", "method", "=", "(", "method", ")", "(", "(", "tlong", "object", "hash", "map", ")", "m", "_", "constructors", ".", "get", "(", "klass", ")", ")", ".", "get", "(", "method", "hash", ")", ";", "}", "catch", "(", "throwable", "e1", ")", "{", "initialize", "(", ")", ";", "try", "{", "method", "=", "(", "method", ")", "(", "(", "tlong", "object", "hash", "map", ")", "m", "_", "constructors", ".", "get", "(", "klass", ")", ")", ".", "get", "(", "method", "hash", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "wrapped", "runtime", "exception", "(", "e", ")", ";", "}", "}", "return", "method", ";", "}"], "new_code": "public constructor get constructor ( final class klass , final int method hash ) { if ( klass = = null ) throw new illegal argument exception ( str ) ; if ( method hash < num ) throw new illegal argument exception ( str ) ; try { if ( ! m _ constructors . contains key ( klass ) ) { create method repository ( klass ) ; } } catch ( exception e ) { throw new wrapped runtime exception ( e ) ; } constructor constructor ; try { constructor = ( constructor ) ( ( tint object hash map ) m _ constructors . get ( klass ) ) . get ( method hash ) ; } catch ( throwable e1 ) { initialize ( ) ; try { constructor = ( constructor ) ( ( tint object hash map ) m _ constructors . get ( klass ) ) . get ( method hash ) ; } catch ( exception e ) { throw new wrapped runtime exception ( e ) ; } } return constructor ; }", "new_code_tokens": ["public", "constructor", "get", "constructor", "(", "final", "class", "klass", ",", "final", "int", "method", "hash", ")", "{", "if", "(", "klass", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "if", "(", "method", "hash", "<", "num", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "try", "{", "if", "(", "!", "m", "_", "constructors", ".", "contains", "key", "(", "klass", ")", ")", "{", "create", "method", "repository", "(", "klass", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "wrapped", "runtime", "exception", "(", "e", ")", ";", "}", "constructor", "constructor", ";", "try", "{", "constructor", "=", "(", "constructor", ")", "(", "(", "tint", "object", "hash", "map", ")", "m", "_", "constructors", ".", "get", "(", "klass", ")", ")", ".", "get", "(", "method", "hash", ")", ";", "}", "catch", "(", "throwable", "e1", ")", "{", "initialize", "(", ")", ";", "try", "{", "constructor", "=", "(", "constructor", ")", "(", "(", "tint", "object", "hash", "map", ")", "m", "_", "constructors", ".", "get", "(", "klass", ")", ")", ".", "get", "(", "method", "hash", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "wrapped", "runtime", "exception", "(", "e", ")", ";", "}", "}", "return", "constructor", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END> <KEEP> get constructor ( final class klass , final int method hash ) { if ( klass = = null ) throw new illegal argument exception ( str ) ; if ( method hash < num ) throw new illegal argument exception ( str ) ; try { if ( ! m _ constructors . contains key ( klass ) ) { create method repository ( klass ) ; } } catch ( exception e ) { throw new wrapped runtime exception ( e ) ; } <KEEP_END> <REPLACE_OLD> method method <REPLACE_NEW> constructor constructor <REPLACE_END> <KEEP> ; try { <KEEP_END> <REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END> <KEEP> = ( <KEEP_END> <REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END> <KEEP> ) ( ( <KEEP_END> <REPLACE_OLD> tlong <REPLACE_NEW> tint <REPLACE_END> <KEEP> object hash map ) m _ constructors . get ( klass ) ) . get ( method hash ) ; } catch ( throwable e1 ) { initialize ( ) ; try { <KEEP_END> <REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END> <KEEP> = ( <KEEP_END> <REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END> <KEEP> ) ( ( <KEEP_END> <REPLACE_OLD> tlong <REPLACE_NEW> tint <REPLACE_END> <KEEP> object hash map ) m _ constructors . get ( klass ) ) . get ( method hash ) ; } catch ( exception e ) { throw new wrapped runtime exception ( e ) ; } } return <KEEP_END> <REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>", "<KEEP>", "get", "constructor", "(", "final", "class", "klass", ",", "final", "int", "method", "hash", ")", "{", "if", "(", "klass", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "if", "(", "method", "hash", "<", "num", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "try", "{", "if", "(", "!", "m", "_", "constructors", ".", "contains", "key", "(", "klass", ")", ")", "{", "create", "method", "repository", "(", "klass", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "wrapped", "runtime", "exception", "(", "e", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "method", "method", "<REPLACE_NEW>", "constructor", "constructor", "<REPLACE_END>", "<KEEP>", ";", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>", "<KEEP>", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>", "<KEEP>", ")", "(", "(", "<KEEP_END>", "<REPLACE_OLD>", "tlong", "<REPLACE_NEW>", "tint", "<REPLACE_END>", "<KEEP>", "object", "hash", "map", ")", "m", "_", "constructors", ".", "get", "(", "klass", ")", ")", ".", "get", "(", "method", "hash", ")", ";", "}", "catch", "(", "throwable", "e1", ")", "{", "initialize", "(", ")", ";", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>", "<KEEP>", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>", "<KEEP>", ")", "(", "(", "<KEEP_END>", "<REPLACE_OLD>", "tlong", "<REPLACE_NEW>", "tint", "<REPLACE_END>", "<KEEP>", "object", "hash", "map", ")", "m", "_", "constructors", ".", "get", "(", "klass", ")", ")", ".", "get", "(", "method", "hash", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "wrapped", "runtime", "exception", "(", "e", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> method <REPLACE_NEW> constructor <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<KEEP>", "get", "<KEEP>", "constructor", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "class", "<KEEP>", "klass", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "method", "<KEEP>", "hash", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "klass", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "hash", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "constructors", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "klass", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "create", "<KEEP>", "method", "<KEEP>", "repository", "<KEEP>", "(", "<KEEP>", "klass", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "wrapped", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<REPLACE_NEW>", "constructor", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "(", "<REPLACE_OLD>", "tlong", "<REPLACE_NEW>", "tint", "<KEEP>", "object", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", ")", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "constructors", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "klass", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "hash", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "e1", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "initialize", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "(", "<REPLACE_OLD>", "tlong", "<REPLACE_NEW>", "tint", "<KEEP>", "object", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", ")", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "constructors", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "klass", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "hash", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "wrapped", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "constructor", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9916264546054359, "using": 2, "keep": 1}
{"id": "codehaus_milyn-28-5844", "old_comment": "the thread - bound container request instance .", "old_comment_tokens": ["the", "thread", "-", "bound", "container", "request", "instance", "."], "new_comment": "the thread - bound execution context instance .", "new_comment_tokens": ["the", "thread", "-", "bound", "execution", "context", "instance", "."], "old_code": "public static container request get container request ( ) { return ( container request ) request thread local . get ( ) ; }", "old_code_tokens": ["public", "static", "container", "request", "get", "container", "request", "(", ")", "{", "return", "(", "container", "request", ")", "request", "thread", "local", ".", "get", "(", ")", ";", "}"], "new_code": "public static execution context get container request ( ) { return ( execution context ) request thread local . get ( ) ; }", "new_code_tokens": ["public", "static", "execution", "context", "get", "container", "request", "(", ")", "{", "return", "(", "execution", "context", ")", "request", "thread", "local", ".", "get", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> container request <REPLACE_NEW> execution context <REPLACE_END> <KEEP> get container request ( ) { return ( <KEEP_END> <REPLACE_OLD> container request <REPLACE_NEW> execution context <REPLACE_END> <KEEP> ) request thread local . get ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "container", "request", "<REPLACE_NEW>", "execution", "context", "<REPLACE_END>", "<KEEP>", "get", "container", "request", "(", ")", "{", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "container", "request", "<REPLACE_NEW>", "execution", "context", "<REPLACE_END>", "<KEEP>", ")", "request", "thread", "local", ".", "get", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> container request <REPLACE_NEW> execution context <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "container", "request", "<REPLACE_NEW>", "execution", "context", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "container", "<REPLACE_OLD>", "request", "<REPLACE_NEW>", "execution", "<REPLACE_NEW>", "context", "<KEEP>", "get", "<KEEP>", "container", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "container", "<REPLACE_OLD>", "request", "<REPLACE_NEW>", "execution", "<REPLACE_NEW>", "context", "<KEEP>", ")", "<KEEP>", "request", "<KEEP>", "thread", "<KEEP>", "local", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9765958257128965, "using": 2, "keep": 1}
{"id": "ronmamo_reflections-5-3660", "old_comment": "the set of urls , not null", "old_comment_tokens": ["the", "set", "of", "urls", ",", "not", "null"], "new_comment": "the collection of urls , not null", "new_comment_tokens": ["the", "collection", "of", "urls", ",", "not", "null"], "old_code": "public static set < url > for manifest ( final iterable < url > urls ) { set < url > result = sets . new linked hash set ( ) ; for ( url url : urls ) { result . add all ( for manifest ( url ) ) ; } return result ; }", "old_code_tokens": ["public", "static", "set", "<", "url", ">", "for", "manifest", "(", "final", "iterable", "<", "url", ">", "urls", ")", "{", "set", "<", "url", ">", "result", "=", "sets", ".", "new", "linked", "hash", "set", "(", ")", ";", "for", "(", "url", "url", ":", "urls", ")", "{", "result", ".", "add", "all", "(", "for", "manifest", "(", "url", ")", ")", ";", "}", "return", "result", ";", "}"], "new_code": "public static collection < url > for manifest ( final iterable < url > urls ) { collection < url > result = new array list < url > ( ) ; for ( url url : urls ) { result . add all ( for manifest ( url ) ) ; } return distinct urls ( result ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "url", ">", "for", "manifest", "(", "final", "iterable", "<", "url", ">", "urls", ")", "{", "collection", "<", "url", ">", "result", "=", "new", "array", "list", "<", "url", ">", "(", ")", ";", "for", "(", "url", "url", ":", "urls", ")", "{", "result", ".", "add", "all", "(", "for", "manifest", "(", "url", ")", ")", ";", "}", "return", "distinct", "urls", "(", "result", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > for manifest ( final iterable < url > urls ) { <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > result = <KEEP_END> <DELETE> sets . <DELETE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> linked hash set <REPLACE_NEW> array list < url > <REPLACE_END> <KEEP> ( ) ; for ( url url : urls ) { result . add all ( for manifest ( url ) ) ; } return <KEEP_END> <INSERT> distinct urls ( <INSERT_END> <KEEP> result <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "for", "manifest", "(", "final", "iterable", "<", "url", ">", "urls", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "result", "=", "<KEEP_END>", "<DELETE>", "sets", ".", "<DELETE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "linked", "hash", "set", "<REPLACE_NEW>", "array", "list", "<", "url", ">", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "url", "url", ":", "urls", ")", "{", "result", ".", "add", "all", "(", "for", "manifest", "(", "url", ")", ")", ";", "}", "return", "<KEEP_END>", "<INSERT>", "distinct", "urls", "(", "<INSERT_END>", "<KEEP>", "result", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "for", "<KEEP>", "manifest", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "iterable", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "urls", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", "=", "<DELETE>", "sets", "<DELETE>", ".", "<KEEP>", "new", "<REPLACE_OLD>", "linked", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", "url", "<KEEP>", ":", "<KEEP>", "urls", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "for", "<KEEP>", "manifest", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "distinct", "<INSERT>", "urls", "<INSERT>", "(", "<KEEP>", "result", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9846866387089138, "using": 2, "keep": 1}
{"id": "graphhopper_graphhopper-54-3110", "old_comment": "an unique id if ( edge from , edge to , node via ) to avoid doubled entries during parsing", "old_comment_tokens": ["an", "unique", "id", "if", "(", "edge", "from", ",", "edge", "to", ",", "node", "via", ")", "to", "avoid", "doubled", "entries", "during", "parsing"], "new_comment": "an unique id ( edge from , edge to ) to avoid doubled entries during parsing", "new_comment_tokens": ["an", "unique", "id", "(", "edge", "from", ",", "edge", "to", ")", "to", "avoid", "doubled", "entries", "during", "parsing"], "old_code": "public int get item id ( ) { int id = num ; id = id * num + edge from ; id = id * num + edge to ; id = id * num + node via ; return id ; }", "old_code_tokens": ["public", "int", "get", "item", "id", "(", ")", "{", "int", "id", "=", "num", ";", "id", "=", "id", "*", "num", "+", "edge", "from", ";", "id", "=", "id", "*", "num", "+", "edge", "to", ";", "id", "=", "id", "*", "num", "+", "node", "via", ";", "return", "id", ";", "}"], "new_code": "public long get item id ( ) { return ( ( long ) edge from ) < < num | ( ( long ) edge to ) ; }", "new_code_tokens": ["public", "long", "get", "item", "id", "(", ")", "{", "return", "(", "(", "long", ")", "edge", "from", ")", "<", "<", "num", "|", "(", "(", "long", ")", "edge", "to", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> get item id ( ) { <KEEP_END> <REPLACE_OLD> int id = num ; id = id * num + <REPLACE_NEW> return ( ( long ) <REPLACE_END> <KEEP> edge from <KEEP_END> <REPLACE_OLD> ; id = id * <REPLACE_NEW> ) < < <REPLACE_END> <KEEP> num <KEEP_END> <REPLACE_OLD> + <REPLACE_NEW> | ( ( long ) <REPLACE_END> <KEEP> edge to <KEEP_END> <REPLACE_OLD> ; id = id * num + node via ; return id <REPLACE_NEW> ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "get", "item", "id", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "int", "id", "=", "num", ";", "id", "=", "id", "*", "num", "+", "<REPLACE_NEW>", "return", "(", "(", "long", ")", "<REPLACE_END>", "<KEEP>", "edge", "from", "<KEEP_END>", "<REPLACE_OLD>", ";", "id", "=", "id", "*", "<REPLACE_NEW>", ")", "<", "<", "<REPLACE_END>", "<KEEP>", "num", "<KEEP_END>", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", "|", "(", "(", "long", ")", "<REPLACE_END>", "<KEEP>", "edge", "to", "<KEEP_END>", "<REPLACE_OLD>", ";", "id", "=", "id", "*", "num", "+", "node", "via", ";", "return", "id", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> if <DELETE_END> <DELETE> , node via <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "if", "<DELETE_END>", "<DELETE>", ",", "node", "via", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "get", "<KEEP>", "item", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "*", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", ")", "<KEEP>", "edge", "<KEEP>", "from", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "*", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "<", "<KEEP>", "num", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", ")", "<KEEP>", "edge", "<KEEP>", "to", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "*", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "via", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9572728528669089, "using": 2, "keep": 1}
{"id": "bitcoinj_bitcoinj-98-3633", "old_comment": "a channel future that can be used to wait for the socket to connect . a socket connection does not mean that protocol handshake has occured .", "old_comment_tokens": ["a", "channel", "future", "that", "can", "be", "used", "to", "wait", "for", "the", "socket", "to", "connect", ".", "a", "socket", "connection", "does", "not", "mean", "that", "protocol", "handshake", "has", "occured", "."], "new_comment": "the newly created peer object . use com . google . bitcoin . core . peer # get connection open future ( ) if you want a future which completes when the connection is open .", "new_comment_tokens": ["the", "newly", "created", "peer", "object", ".", "use", "com", ".", "google", ".", "bitcoin", ".", "core", ".", "peer", "#", "get", "connection", "open", "future", "(", ")", "if", "you", "want", "a", "future", "which", "completes", "when", "the", "connection", "is", "open", "."], "old_code": "public channel future connect to ( socket address address ) { return connect to ( address , true ) ; }", "old_code_tokens": ["public", "channel", "future", "connect", "to", "(", "socket", "address", "address", ")", "{", "return", "connect", "to", "(", "address", ",", "true", ")", ";", "}"], "new_code": "public peer connect to ( inet socket address address ) { return connect to ( address , true ) ; }", "new_code_tokens": ["public", "peer", "connect", "to", "(", "inet", "socket", "address", "address", ")", "{", "return", "connect", "to", "(", "address", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> channel future <REPLACE_NEW> peer <REPLACE_END> <KEEP> connect to ( <KEEP_END> <INSERT> inet <INSERT_END> <KEEP> socket address address ) { return connect to ( address , true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "channel", "future", "<REPLACE_NEW>", "peer", "<REPLACE_END>", "<KEEP>", "connect", "to", "(", "<KEEP_END>", "<INSERT>", "inet", "<INSERT_END>", "<KEEP>", "socket", "address", "address", ")", "{", "return", "connect", "to", "(", "address", ",", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a channel future that can be used to wait for the socket to connect . a socket connection does not mean that protocol handshake has occured . <REPLACE_NEW> the newly created peer object . use com . google . bitcoin . core . peer # get connection open future ( ) if you want a future which completes when the connection is open . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "channel", "future", "that", "can", "be", "used", "to", "wait", "for", "the", "socket", "to", "connect", ".", "a", "socket", "connection", "does", "not", "mean", "that", "protocol", "handshake", "has", "occured", ".", "<REPLACE_NEW>", "the", "newly", "created", "peer", "object", ".", "use", "com", ".", "google", ".", "bitcoin", ".", "core", ".", "peer", "#", "get", "connection", "open", "future", "(", ")", "if", "you", "want", "a", "future", "which", "completes", "when", "the", "connection", "is", "open", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "channel", "<REPLACE_OLD>", "future", "<REPLACE_NEW>", "peer", "<KEEP>", "connect", "<KEEP>", "to", "<KEEP>", "(", "<INSERT>", "inet", "<KEEP>", "socket", "<KEEP>", "address", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "connect", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "address", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.822742632872217, "using": 1, "keep": 1}
{"id": "codehaus_jbehave-osgi-2-7135", "old_comment": "a configuration model instance", "old_comment_tokens": ["a", "configuration", "model", "instance"], "new_comment": "a configuration dto instance", "new_comment_tokens": ["a", "configuration", "dto", "instance"], "old_code": "private configuration model build configuration model ( ) throws annotation required { if ( ! finder . is annotation present ( configure . class ) ) { return null ; } configuration model configuration = new configuration model ( ) ; configuration . set configuration class ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set keywords ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set failure strategy ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set pending step strategy ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set paranamer ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story controls ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step collector ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set stepdoc reporter ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step finder ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step monitor ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step pattern parser ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story loader ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story parser ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story path resolver ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story reporter builder ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set view generator ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set parameter converters ( parameter converters ( ) ) ; configuration . set parameter controls ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set path calculator ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; return configuration ; }", "old_code_tokens": ["private", "configuration", "model", "build", "configuration", "model", "(", ")", "throws", "annotation", "required", "{", "if", "(", "!", "finder", ".", "is", "annotation", "present", "(", "configure", ".", "class", ")", ")", "{", "return", "null", ";", "}", "configuration", "model", "configuration", "=", "new", "configuration", "model", "(", ")", ";", "configuration", ".", "set", "configuration", "class", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "keywords", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "failure", "strategy", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "pending", "step", "strategy", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "paranamer", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "controls", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "collector", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "stepdoc", "reporter", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "finder", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "monitor", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "pattern", "parser", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "loader", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "parser", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "path", "resolver", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "reporter", "builder", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "view", "generator", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "parameter", "converters", "(", "parameter", "converters", "(", ")", ")", ";", "configuration", ".", "set", "parameter", "controls", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "path", "calculator", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "return", "configuration", ";", "}"], "new_code": "private configuration dto build configuration model ( ) throws annotation required { if ( ! finder . is annotation present ( configure . class ) ) { return null ; } configuration dto configuration = new configuration dto ( ) ; configuration . set configuration class ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set keywords ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set failure strategy ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set pending step strategy ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set paranamer ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story controls ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step collector ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set stepdoc reporter ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step finder ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step monitor ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step pattern parser ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story loader ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story parser ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story path resolver ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story reporter builder ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set view generator ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set parameter converters ( parameter converters ( ) ) ; configuration . set parameter controls ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set path calculator ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; return configuration ; }", "new_code_tokens": ["private", "configuration", "dto", "build", "configuration", "model", "(", ")", "throws", "annotation", "required", "{", "if", "(", "!", "finder", ".", "is", "annotation", "present", "(", "configure", ".", "class", ")", ")", "{", "return", "null", ";", "}", "configuration", "dto", "configuration", "=", "new", "configuration", "dto", "(", ")", ";", "configuration", ".", "set", "configuration", "class", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "keywords", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "failure", "strategy", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "pending", "step", "strategy", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "paranamer", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "controls", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "collector", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "stepdoc", "reporter", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "finder", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "monitor", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "pattern", "parser", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "loader", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "parser", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "path", "resolver", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "reporter", "builder", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "view", "generator", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "parameter", "converters", "(", "parameter", "converters", "(", ")", ")", ";", "configuration", ".", "set", "parameter", "controls", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "path", "calculator", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "return", "configuration", ";", "}"], "span_diff_code": "<KEEP> private configuration <KEEP_END> <REPLACE_OLD> model <REPLACE_NEW> dto <REPLACE_END> <KEEP> build configuration model ( ) throws annotation required { if ( ! finder . is annotation present ( configure . class ) ) { return null ; } configuration <KEEP_END> <REPLACE_OLD> model <REPLACE_NEW> dto <REPLACE_END> <KEEP> configuration = new configuration <KEEP_END> <REPLACE_OLD> model <REPLACE_NEW> dto <REPLACE_END> <KEEP> ( ) ; configuration . set configuration class ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set keywords ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set failure strategy ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set pending step strategy ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set paranamer ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story controls ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step collector ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set stepdoc reporter ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step finder ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step monitor ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set step pattern parser ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story loader ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story parser ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story path resolver ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set story reporter builder ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set view generator ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set parameter converters ( parameter converters ( ) ) ; configuration . set parameter controls ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; configuration . set path calculator ( finder . get annotated value ( configure . class , class . class , str ) . get name ( ) ) ; return configuration ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "configuration", "<KEEP_END>", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<REPLACE_END>", "<KEEP>", "build", "configuration", "model", "(", ")", "throws", "annotation", "required", "{", "if", "(", "!", "finder", ".", "is", "annotation", "present", "(", "configure", ".", "class", ")", ")", "{", "return", "null", ";", "}", "configuration", "<KEEP_END>", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<REPLACE_END>", "<KEEP>", "configuration", "=", "new", "configuration", "<KEEP_END>", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "configuration", ".", "set", "configuration", "class", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "keywords", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "failure", "strategy", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "pending", "step", "strategy", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "paranamer", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "controls", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "collector", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "stepdoc", "reporter", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "finder", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "monitor", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "step", "pattern", "parser", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "loader", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "parser", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "path", "resolver", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "story", "reporter", "builder", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "view", "generator", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "parameter", "converters", "(", "parameter", "converters", "(", ")", ")", ";", "configuration", ".", "set", "parameter", "controls", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "configuration", ".", "set", "path", "calculator", "(", "finder", ".", "get", "annotated", "value", "(", "configure", ".", "class", ",", "class", ".", "class", ",", "str", ")", ".", "get", "name", "(", ")", ")", ";", "return", "configuration", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> model <REPLACE_NEW> dto <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "configuration", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<KEEP>", "build", "<KEEP>", "configuration", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "annotation", "<KEEP>", "required", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "annotation", "<KEEP>", "present", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "configuration", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<KEEP>", "configuration", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "configuration", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "dto", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "configuration", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "keywords", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "failure", "<KEEP>", "strategy", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "pending", "<KEEP>", "step", "<KEEP>", "strategy", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "paranamer", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "story", "<KEEP>", "controls", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "step", "<KEEP>", "collector", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "stepdoc", "<KEEP>", "reporter", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "step", "<KEEP>", "finder", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "step", "<KEEP>", "monitor", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "step", "<KEEP>", "pattern", "<KEEP>", "parser", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "story", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "story", "<KEEP>", "parser", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "story", "<KEEP>", "path", "<KEEP>", "resolver", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "story", "<KEEP>", "reporter", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "view", "<KEEP>", "generator", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameter", "<KEEP>", "converters", "<KEEP>", "(", "<KEEP>", "parameter", "<KEEP>", "converters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameter", "<KEEP>", "controls", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "path", "<KEEP>", "calculator", "<KEEP>", "(", "<KEEP>", "finder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "configure", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "configuration", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9868837513723994, "using": 2, "keep": 1}
{"id": "eclipse_jgit-123-5684", "old_comment": "the target of the symbolic link , or null if it is not a symbolic link", "old_comment_tokens": ["the", "target", "of", "the", "symbolic", "link", ",", "or", "null", "if", "it", "is", "not", "a", "symbolic", "link"], "new_comment": "target path of the symlink , or null if it is not a symbolic link", "new_comment_tokens": ["target", "path", "of", "the", "symlink", ",", "or", "null", "if", "it", "is", "not", "a", "symbolic", "link"], "old_code": "public static string read sym link ( file path ) throws ioexception { return fs . detected . read sym link ( path ) ; }", "old_code_tokens": ["public", "static", "string", "read", "sym", "link", "(", "file", "path", ")", "throws", "ioexception", "{", "return", "fs", ".", "detected", ".", "read", "sym", "link", "(", "path", ")", ";", "}"], "new_code": "public static string read sym link ( file path ) throws ioexception { path nio path = path . to path ( ) ; path target = files . read symbolic link ( nio path ) ; string target string = target . to string ( ) ; if ( system reader . get instance ( ) . is windows ( ) ) { target string = target string . replace ( str , str ) ; } else if ( system reader . get instance ( ) . is mac os ( ) ) { target string = normalizer . normalize ( target string , form . nfc ) ; } return target string ; }", "new_code_tokens": ["public", "static", "string", "read", "sym", "link", "(", "file", "path", ")", "throws", "ioexception", "{", "path", "nio", "path", "=", "path", ".", "to", "path", "(", ")", ";", "path", "target", "=", "files", ".", "read", "symbolic", "link", "(", "nio", "path", ")", ";", "string", "target", "string", "=", "target", ".", "to", "string", "(", ")", ";", "if", "(", "system", "reader", ".", "get", "instance", "(", ")", ".", "is", "windows", "(", ")", ")", "{", "target", "string", "=", "target", "string", ".", "replace", "(", "str", ",", "str", ")", ";", "}", "else", "if", "(", "system", "reader", ".", "get", "instance", "(", ")", ".", "is", "mac", "os", "(", ")", ")", "{", "target", "string", "=", "normalizer", ".", "normalize", "(", "target", "string", ",", "form", ".", "nfc", ")", ";", "}", "return", "target", "string", ";", "}"], "span_diff_code": "<KEEP> public static string read sym link ( file path ) throws ioexception { <KEEP_END> <REPLACE_OLD> return fs <REPLACE_NEW> path nio path = path <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> detected <REPLACE_NEW> to path ( ) ; path target = files <REPLACE_END> <KEEP> . read <KEEP_END> <REPLACE_OLD> sym <REPLACE_NEW> symbolic <REPLACE_END> <KEEP> link ( <KEEP_END> <INSERT> nio <INSERT_END> <KEEP> path ) ; <KEEP_END> <INSERT> string target string = target . to string ( ) ; if ( system reader . get instance ( ) . is windows ( ) ) { target string = target string . replace ( str , str ) ; <INSERT_END> <KEEP> } <KEEP_END> <INSERT> else if ( system reader . get instance ( ) . is mac os ( ) ) { target string = normalizer . normalize ( target string , form . nfc ) ; } return target string ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "read", "sym", "link", "(", "file", "path", ")", "throws", "ioexception", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "fs", "<REPLACE_NEW>", "path", "nio", "path", "=", "path", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "detected", "<REPLACE_NEW>", "to", "path", "(", ")", ";", "path", "target", "=", "files", "<REPLACE_END>", "<KEEP>", ".", "read", "<KEEP_END>", "<REPLACE_OLD>", "sym", "<REPLACE_NEW>", "symbolic", "<REPLACE_END>", "<KEEP>", "link", "(", "<KEEP_END>", "<INSERT>", "nio", "<INSERT_END>", "<KEEP>", "path", ")", ";", "<KEEP_END>", "<INSERT>", "string", "target", "string", "=", "target", ".", "to", "string", "(", ")", ";", "if", "(", "system", "reader", ".", "get", "instance", "(", ")", ".", "is", "windows", "(", ")", ")", "{", "target", "string", "=", "target", "string", ".", "replace", "(", "str", ",", "str", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<INSERT>", "else", "if", "(", "system", "reader", ".", "get", "instance", "(", ")", ".", "is", "mac", "os", "(", ")", ")", "{", "target", "string", "=", "normalizer", ".", "normalize", "(", "target", "string", ",", "form", ".", "nfc", ")", ";", "}", "return", "target", "string", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> the target <REPLACE_NEW_DELETE_KEEP_AFTER> target <REPLACE_END> <INSERT_OLD_KEEP_AFTER> of <INSERT_NEW_KEEP_AFTER> path of <INSERT_END> <REPLACE_OLD_KEEP_BEFORE> the symbolic link <REPLACE_NEW_KEEP_BEFORE> the symlink <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "the", "target", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "target", "<REPLACE_END>", "<INSERT_OLD_KEEP_AFTER>", "of", "<INSERT_NEW_KEEP_AFTER>", "path", "of", "<INSERT_END>", "<REPLACE_OLD_KEEP_BEFORE>", "the", "symbolic", "link", "<REPLACE_NEW_KEEP_BEFORE>", "the", "symlink", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "read", "<KEEP>", "sym", "<KEEP>", "link", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "fs", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "nio", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "path", "<KEEP>", ".", "<REPLACE_OLD>", "detected", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "files", "<KEEP>", ".", "<KEEP>", "read", "<REPLACE_OLD>", "sym", "<REPLACE_NEW>", "symbolic", "<KEEP>", "link", "<KEEP>", "(", "<INSERT>", "nio", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "string", "<INSERT>", "target", "<INSERT>", "string", "<INSERT>", "=", "<INSERT>", "target", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "system", "<INSERT>", "reader", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "instance", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "windows", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "target", "<INSERT>", "string", "<INSERT>", "=", "<INSERT>", "target", "<INSERT>", "string", "<INSERT>", ".", "<INSERT>", "replace", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "system", "<INSERT>", "reader", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "instance", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "mac", "<INSERT>", "os", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "target", "<INSERT>", "string", "<INSERT>", "=", "<INSERT>", "normalizer", "<INSERT>", ".", "<INSERT>", "normalize", "<INSERT>", "(", "<INSERT>", "target", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "form", "<INSERT>", ".", "<INSERT>", "nfc", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "target", "<INSERT>", "string", "<INSERT>", ";", "<INSERT>", "}"], "split": "valid", "score": 0.8526919974380165, "using": 2, "keep": 1}
{"id": "jenkinsci_pipeline-maven-plugin-2-6546", "old_comment": "list of maven spy log processor . maven artifact", "old_comment_tokens": ["list", "of", "maven", "spy", "log", "processor", ".", "maven", "artifact"], "new_comment": "list of maven artifact", "new_comment_tokens": ["list", "of", "maven", "artifact"], "old_code": "@ nonnull public static list < maven spy log processor . maven artifact > list parent projects ( final element maven spy logs , final logger logger ) { final list < maven spy log processor . maven artifact > result = new array list < > ( ) ; for ( final element dependency resolution result : xml utils . get execution events ( maven spy logs , str ) ) { final element parent project elt = xml utils . get unique child element or null ( dependency resolution result , str ) ; if ( parent project elt = = null ) { continue ; } final maven spy log processor . maven artifact parent project = new maven spy log processor . maven artifact ( ) ; parent project . group id = parent project elt . get attribute ( str ) ; parent project . artifact id = parent project elt . get attribute ( str ) ; parent project . version = parent project elt . get attribute ( str ) ; parent project . base version = parent project . version ; parent project . snapshot = parent project . version . ends with ( str ) ; result . add ( parent project ) ; } return result ; }", "old_code_tokens": ["@", "nonnull", "public", "static", "list", "<", "maven", "spy", "log", "processor", ".", "maven", "artifact", ">", "list", "parent", "projects", "(", "final", "element", "maven", "spy", "logs", ",", "final", "logger", "logger", ")", "{", "final", "list", "<", "maven", "spy", "log", "processor", ".", "maven", "artifact", ">", "result", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "final", "element", "dependency", "resolution", "result", ":", "xml", "utils", ".", "get", "execution", "events", "(", "maven", "spy", "logs", ",", "str", ")", ")", "{", "final", "element", "parent", "project", "elt", "=", "xml", "utils", ".", "get", "unique", "child", "element", "or", "null", "(", "dependency", "resolution", "result", ",", "str", ")", ";", "if", "(", "parent", "project", "elt", "=", "=", "null", ")", "{", "continue", ";", "}", "final", "maven", "spy", "log", "processor", ".", "maven", "artifact", "parent", "project", "=", "new", "maven", "spy", "log", "processor", ".", "maven", "artifact", "(", ")", ";", "parent", "project", ".", "group", "id", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "artifact", "id", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "version", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "base", "version", "=", "parent", "project", ".", "version", ";", "parent", "project", ".", "snapshot", "=", "parent", "project", ".", "version", ".", "ends", "with", "(", "str", ")", ";", "result", ".", "add", "(", "parent", "project", ")", ";", "}", "return", "result", ";", "}"], "new_code": "@ nonnull public static list < maven artifact > list parent projects ( final element maven spy logs , final logger logger ) { final list < maven artifact > result = new array list < > ( ) ; for ( final element dependency resolution result : xml utils . get execution events ( maven spy logs , str ) ) { final element parent project elt = xml utils . get unique child element or null ( dependency resolution result , str ) ; if ( parent project elt = = null ) { continue ; } final maven artifact parent project = new maven artifact ( ) ; parent project . group id = parent project elt . get attribute ( str ) ; parent project . artifact id = parent project elt . get attribute ( str ) ; parent project . version = parent project elt . get attribute ( str ) ; parent project . base version = parent project . version ; parent project . snapshot = parent project . version . ends with ( str ) ; result . add ( parent project ) ; } return result ; }", "new_code_tokens": ["@", "nonnull", "public", "static", "list", "<", "maven", "artifact", ">", "list", "parent", "projects", "(", "final", "element", "maven", "spy", "logs", ",", "final", "logger", "logger", ")", "{", "final", "list", "<", "maven", "artifact", ">", "result", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "final", "element", "dependency", "resolution", "result", ":", "xml", "utils", ".", "get", "execution", "events", "(", "maven", "spy", "logs", ",", "str", ")", ")", "{", "final", "element", "parent", "project", "elt", "=", "xml", "utils", ".", "get", "unique", "child", "element", "or", "null", "(", "dependency", "resolution", "result", ",", "str", ")", ";", "if", "(", "parent", "project", "elt", "=", "=", "null", ")", "{", "continue", ";", "}", "final", "maven", "artifact", "parent", "project", "=", "new", "maven", "artifact", "(", ")", ";", "parent", "project", ".", "group", "id", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "artifact", "id", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "version", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "base", "version", "=", "parent", "project", ".", "version", ";", "parent", "project", ".", "snapshot", "=", "parent", "project", ".", "version", ".", "ends", "with", "(", "str", ")", ";", "result", ".", "add", "(", "parent", "project", ")", ";", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> @ nonnull public static list < <KEEP_END> <DELETE> maven spy log processor . <DELETE_END> <KEEP> maven artifact > list parent projects ( final element maven spy logs , final logger logger ) { final list < <KEEP_END> <DELETE> maven spy log processor . <DELETE_END> <KEEP> maven artifact > result = new array list < > ( ) ; for ( final element dependency resolution result : xml utils . get execution events ( maven spy logs , str ) ) { final element parent project elt = xml utils . get unique child element or null ( dependency resolution result , str ) ; if ( parent project elt = = null ) { continue ; } final maven <KEEP_END> <DELETE> spy log processor . maven <DELETE_END> <KEEP> artifact parent project = new <KEEP_END> <DELETE> maven spy log processor . <DELETE_END> <KEEP> maven artifact ( ) ; parent project . group id = parent project elt . get attribute ( str ) ; parent project . artifact id = parent project elt . get attribute ( str ) ; parent project . version = parent project elt . get attribute ( str ) ; parent project . base version = parent project . version ; parent project . snapshot = parent project . version . ends with ( str ) ; result . add ( parent project ) ; } return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nonnull", "public", "static", "list", "<", "<KEEP_END>", "<DELETE>", "maven", "spy", "log", "processor", ".", "<DELETE_END>", "<KEEP>", "maven", "artifact", ">", "list", "parent", "projects", "(", "final", "element", "maven", "spy", "logs", ",", "final", "logger", "logger", ")", "{", "final", "list", "<", "<KEEP_END>", "<DELETE>", "maven", "spy", "log", "processor", ".", "<DELETE_END>", "<KEEP>", "maven", "artifact", ">", "result", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "final", "element", "dependency", "resolution", "result", ":", "xml", "utils", ".", "get", "execution", "events", "(", "maven", "spy", "logs", ",", "str", ")", ")", "{", "final", "element", "parent", "project", "elt", "=", "xml", "utils", ".", "get", "unique", "child", "element", "or", "null", "(", "dependency", "resolution", "result", ",", "str", ")", ";", "if", "(", "parent", "project", "elt", "=", "=", "null", ")", "{", "continue", ";", "}", "final", "maven", "<KEEP_END>", "<DELETE>", "spy", "log", "processor", ".", "maven", "<DELETE_END>", "<KEEP>", "artifact", "parent", "project", "=", "new", "<KEEP_END>", "<DELETE>", "maven", "spy", "log", "processor", ".", "<DELETE_END>", "<KEEP>", "maven", "artifact", "(", ")", ";", "parent", "project", ".", "group", "id", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "artifact", "id", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "version", "=", "parent", "project", "elt", ".", "get", "attribute", "(", "str", ")", ";", "parent", "project", ".", "base", "version", "=", "parent", "project", ".", "version", ";", "parent", "project", ".", "snapshot", "=", "parent", "project", ".", "version", ".", "ends", "with", "(", "str", ")", ";", "result", ".", "add", "(", "parent", "project", ")", ";", "}", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> spy log processor . maven <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "spy", "log", "processor", ".", "maven", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nonnull", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "list", "<KEEP>", "<", "<DELETE>", "maven", "<DELETE>", "spy", "<DELETE>", "log", "<DELETE>", "processor", "<DELETE>", ".", "<KEEP>", "maven", "<KEEP>", "artifact", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "parent", "<KEEP>", "projects", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "element", "<KEEP>", "maven", "<KEEP>", "spy", "<KEEP>", "logs", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "logger", "<KEEP>", "logger", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<DELETE>", "maven", "<DELETE>", "spy", "<DELETE>", "log", "<DELETE>", "processor", "<DELETE>", ".", "<KEEP>", "maven", "<KEEP>", "artifact", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "element", "<KEEP>", "dependency", "<KEEP>", "resolution", "<KEEP>", "result", "<KEEP>", ":", "<KEEP>", "xml", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "execution", "<KEEP>", "events", "<KEEP>", "(", "<KEEP>", "maven", "<KEEP>", "spy", "<KEEP>", "logs", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "element", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", "elt", "<KEEP>", "=", "<KEEP>", "xml", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "unique", "<KEEP>", "child", "<KEEP>", "element", "<KEEP>", "or", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "dependency", "<KEEP>", "resolution", "<KEEP>", "result", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", "elt", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "maven", "<DELETE>", "spy", "<DELETE>", "log", "<DELETE>", "processor", "<DELETE>", ".", "<DELETE>", "maven", "<KEEP>", "artifact", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", "=", "<KEEP>", "new", "<DELETE>", "maven", "<DELETE>", "spy", "<DELETE>", "log", "<DELETE>", "processor", "<DELETE>", ".", "<KEEP>", "maven", "<KEEP>", "artifact", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", "elt", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "artifact", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", "elt", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", "elt", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "base", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "version", "<KEEP>", ";", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "snapshot", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "ends", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9932932949636857, "using": 2, "keep": 1}
{"id": "apache_ftpserver-20-4508", "old_comment": "the file system manager", "old_comment_tokens": ["the", "file", "system", "manager"], "new_comment": "the file system factory", "new_comment_tokens": ["the", "file", "system", "factory"], "old_code": "public file system manager get file system ( ) { return get server context ( ) . get file system manager ( ) ; }", "old_code_tokens": ["public", "file", "system", "manager", "get", "file", "system", "(", ")", "{", "return", "get", "server", "context", "(", ")", ".", "get", "file", "system", "manager", "(", ")", ";", "}"], "new_code": "public file system factory get file system ( ) { return get server context ( ) . get file system manager ( ) ; }", "new_code_tokens": ["public", "file", "system", "factory", "get", "file", "system", "(", ")", "{", "return", "get", "server", "context", "(", ")", ".", "get", "file", "system", "manager", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public file system <KEEP_END> <REPLACE_OLD> manager <REPLACE_NEW> factory <REPLACE_END> <KEEP> get file system ( ) { return get server context ( ) . get file system manager ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "file", "system", "<KEEP_END>", "<REPLACE_OLD>", "manager", "<REPLACE_NEW>", "factory", "<REPLACE_END>", "<KEEP>", "get", "file", "system", "(", ")", "{", "return", "get", "server", "context", "(", ")", ".", "get", "file", "system", "manager", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> manager <REPLACE_NEW> factory <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "manager", "<REPLACE_NEW>", "factory", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "file", "<KEEP>", "system", "<REPLACE_OLD>", "manager", "<REPLACE_NEW>", "factory", "<KEEP>", "get", "<KEEP>", "file", "<KEEP>", "system", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "server", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "file", "<KEEP>", "system", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9937266886644475, "using": 2, "keep": 1}
{"id": "Trinea_android-common-1-1059", "old_comment": "return true", "old_comment_tokens": ["return", "true"], "new_comment": "return false if content is empty , true otherwise", "new_comment_tokens": ["return", "false", "if", "content", "is", "empty", ",", "true", "otherwise"], "old_code": "public static boolean write file ( string file path , string content , boolean append ) { file writer file writer = null ; try { make dirs ( file path ) ; file writer = new file writer ( file path , append ) ; file writer . write ( content ) ; file writer . close ( ) ; return true ; } catch ( ioexception e ) { throw new runtime exception ( str , e ) ; } finally { if ( file writer ! = null ) { try { file writer . close ( ) ; } catch ( ioexception e ) { throw new runtime exception ( str , e ) ; } } } }", "old_code_tokens": ["public", "static", "boolean", "write", "file", "(", "string", "file", "path", ",", "string", "content", ",", "boolean", "append", ")", "{", "file", "writer", "file", "writer", "=", "null", ";", "try", "{", "make", "dirs", "(", "file", "path", ")", ";", "file", "writer", "=", "new", "file", "writer", "(", "file", "path", ",", "append", ")", ";", "file", "writer", ".", "write", "(", "content", ")", ";", "file", "writer", ".", "close", "(", ")", ";", "return", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "file", "writer", "!", "=", "null", ")", "{", "try", "{", "file", "writer", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "}", "}", "}"], "new_code": "public static boolean write file ( string file path , string content , boolean append ) { if ( string utils . is empty ( content ) ) { return false ; } file writer file writer = null ; try { make dirs ( file path ) ; file writer = new file writer ( file path , append ) ; file writer . write ( content ) ; file writer . close ( ) ; return true ; } catch ( ioexception e ) { throw new runtime exception ( str , e ) ; } finally { if ( file writer ! = null ) { try { file writer . close ( ) ; } catch ( ioexception e ) { throw new runtime exception ( str , e ) ; } } } }", "new_code_tokens": ["public", "static", "boolean", "write", "file", "(", "string", "file", "path", ",", "string", "content", ",", "boolean", "append", ")", "{", "if", "(", "string", "utils", ".", "is", "empty", "(", "content", ")", ")", "{", "return", "false", ";", "}", "file", "writer", "file", "writer", "=", "null", ";", "try", "{", "make", "dirs", "(", "file", "path", ")", ";", "file", "writer", "=", "new", "file", "writer", "(", "file", "path", ",", "append", ")", ";", "file", "writer", ".", "write", "(", "content", ")", ";", "file", "writer", ".", "close", "(", ")", ";", "return", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "file", "writer", "!", "=", "null", ")", "{", "try", "{", "file", "writer", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "}", "}", "}"], "span_diff_code": "<KEEP> public static boolean write file ( string file path , string content , boolean append ) { <KEEP_END> <INSERT> if ( string utils . is empty ( content ) ) { return false ; } <INSERT_END> <KEEP> file writer file writer = null ; try { make dirs ( file path ) ; file writer = new file writer ( file path , append ) ; file writer . write ( content ) ; file writer . close ( ) ; return true ; } catch ( ioexception e ) { throw new runtime exception ( str , e ) ; } finally { if ( file writer ! = null ) { try { file writer . close ( ) ; } catch ( ioexception e ) { throw new runtime exception ( str , e ) ; } } } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "write", "file", "(", "string", "file", "path", ",", "string", "content", ",", "boolean", "append", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "string", "utils", ".", "is", "empty", "(", "content", ")", ")", "{", "return", "false", ";", "}", "<INSERT_END>", "<KEEP>", "file", "writer", "file", "writer", "=", "null", ";", "try", "{", "make", "dirs", "(", "file", "path", ")", ";", "file", "writer", "=", "new", "file", "writer", "(", "file", "path", ",", "append", ")", ";", "file", "writer", ".", "write", "(", "content", ")", ";", "file", "writer", ".", "close", "(", ")", ";", "return", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "file", "writer", "!", "=", "null", ")", "{", "try", "{", "file", "writer", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "}", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> return <INSERT_NEW_KEEP_BEFORE> return false if content is empty , <INSERT_END> <INSERT_OLD_KEEP_BEFORE> true <INSERT_NEW_KEEP_BEFORE> true otherwise <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "return", "<INSERT_NEW_KEEP_BEFORE>", "return", "false", "if", "content", "is", "empty", ",", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "true", "<INSERT_NEW_KEEP_BEFORE>", "true", "otherwise", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "write", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "content", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "append", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "string", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", "content", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "make", "<KEEP>", "dirs", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ",", "<KEEP>", "append", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8590607691912119, "using": 1, "keep": 1}
{"id": "cglib_cglib-0-3382", "old_comment": "instanse of clazz class , new class is defined in the same class loader", "old_comment_tokens": ["instanse", "of", "clazz", "class", ",", "new", "class", "is", "defined", "in", "the", "same", "class", "loader"], "new_comment": "instance of supplied class ; new class is defined in the same class loader", "new_comment_tokens": ["instance", "of", "supplied", "class", ";", "new", "class", "is", "defined", "in", "the", "same", "class", "loader"], "old_code": "public static factory enhance ( class clazz , method interceptor interceptor ) { return ( factory ) enhance helper ( clazz . is interface ( ) ? null : clazz , clazz . is interface ( ) ? new class [ ] { clazz } : null , interceptor , clazz . get class loader ( ) , null , null ) ; }", "old_code_tokens": ["public", "static", "factory", "enhance", "(", "class", "clazz", ",", "method", "interceptor", "interceptor", ")", "{", "return", "(", "factory", ")", "enhance", "helper", "(", "clazz", ".", "is", "interface", "(", ")", "?", "null", ":", "clazz", ",", "clazz", ".", "is", "interface", "(", ")", "?", "new", "class", "[", "]", "{", "clazz", "}", ":", "null", ",", "interceptor", ",", "clazz", ".", "get", "class", "loader", "(", ")", ",", "null", ",", "null", ")", ";", "}"], "new_code": "public static factory enhance ( class cls , method interceptor ih ) { return ( factory ) enhance helper ( cls . is interface ( ) ? null : cls , cls . is interface ( ) ? new class [ ] { cls } : null , ih , cls . get class loader ( ) , null , null ) ; }", "new_code_tokens": ["public", "static", "factory", "enhance", "(", "class", "cls", ",", "method", "interceptor", "ih", ")", "{", "return", "(", "factory", ")", "enhance", "helper", "(", "cls", ".", "is", "interface", "(", ")", "?", "null", ":", "cls", ",", "cls", ".", "is", "interface", "(", ")", "?", "new", "class", "[", "]", "{", "cls", "}", ":", "null", ",", "ih", ",", "cls", ".", "get", "class", "loader", "(", ")", ",", "null", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public static factory enhance ( class <KEEP_END> <REPLACE_OLD> clazz <REPLACE_NEW> cls <REPLACE_END> <KEEP> , method interceptor <KEEP_END> <REPLACE_OLD> interceptor <REPLACE_NEW> ih <REPLACE_END> <KEEP> ) { return ( factory ) enhance helper ( <KEEP_END> <REPLACE_OLD> clazz <REPLACE_NEW> cls <REPLACE_END> <KEEP> . is interface ( ) ? null : <KEEP_END> <REPLACE_OLD> clazz <REPLACE_NEW> cls <REPLACE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> clazz <REPLACE_NEW> cls <REPLACE_END> <KEEP> . is interface ( ) ? new class [ ] { <KEEP_END> <REPLACE_OLD> clazz <REPLACE_NEW> cls <REPLACE_END> <KEEP> } : null , <KEEP_END> <REPLACE_OLD> interceptor <REPLACE_NEW> ih <REPLACE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> clazz <REPLACE_NEW> cls <REPLACE_END> <KEEP> . get class loader ( ) , null , null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "factory", "enhance", "(", "class", "<KEEP_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<REPLACE_END>", "<KEEP>", ",", "method", "interceptor", "<KEEP_END>", "<REPLACE_OLD>", "interceptor", "<REPLACE_NEW>", "ih", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "(", "factory", ")", "enhance", "helper", "(", "<KEEP_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<REPLACE_END>", "<KEEP>", ".", "is", "interface", "(", ")", "?", "null", ":", "<KEEP_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<REPLACE_END>", "<KEEP>", ".", "is", "interface", "(", ")", "?", "new", "class", "[", "]", "{", "<KEEP_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<REPLACE_END>", "<KEEP>", "}", ":", "null", ",", "<KEEP_END>", "<REPLACE_OLD>", "interceptor", "<REPLACE_NEW>", "ih", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<REPLACE_END>", "<KEEP>", ".", "get", "class", "loader", "(", ")", ",", "null", ",", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> instanse <REPLACE_NEW> instance <REPLACE_END> <REPLACE_OLD> clazz <REPLACE_NEW> supplied <REPLACE_END> <REPLACE_OLD> , <REPLACE_NEW> ; <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "instanse", "<REPLACE_NEW>", "instance", "<REPLACE_END>", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "supplied", "<REPLACE_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ";", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "factory", "<KEEP>", "enhance", "<KEEP>", "(", "<KEEP>", "class", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "interceptor", "<REPLACE_OLD>", "interceptor", "<REPLACE_NEW>", "ih", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "factory", "<KEEP>", ")", "<KEEP>", "enhance", "<KEEP>", "helper", "<KEEP>", "(", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "interface", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "null", "<KEEP>", ":", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<KEEP>", ",", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "interface", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "new", "<KEEP>", "class", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<KEEP>", "}", "<KEEP>", ":", "<KEEP>", "null", "<KEEP>", ",", "<REPLACE_OLD>", "interceptor", "<REPLACE_NEW>", "ih", "<KEEP>", ",", "<REPLACE_OLD>", "clazz", "<REPLACE_NEW>", "cls", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7908062545507242, "using": 1, "keep": 1}
{"id": "mhcrnl_java-courses-2-7134", "old_comment": "found client - object or null , if there isn ' t pet with such name .", "old_comment_tokens": ["found", "client", "-", "object", "or", "null", ",", "if", "there", "isn", "'", "t", "pet", "with", "such", "name", "."], "new_comment": "found client - object .", "new_comment_tokens": ["found", "client", "-", "object", "."], "old_code": "public static client search pet name ( string pet name ) { for ( client client : clients ) { if ( client . get pet name ( ) . equals ( pet name ) ) { return client ; } } return null ; }", "old_code_tokens": ["public", "static", "client", "search", "pet", "name", "(", "string", "pet", "name", ")", "{", "for", "(", "client", "client", ":", "clients", ")", "{", "if", "(", "client", ".", "get", "pet", "name", "(", ")", ".", "equals", "(", "pet", "name", ")", ")", "{", "return", "client", ";", "}", "}", "return", "null", ";", "}"], "new_code": "public static client search pet name ( string pet name ) throws search exception { if ( clients . is empty ( ) ) { throw new search exception ( str ) ; } else { for ( client client : clients ) { if ( client . get pet name ( ) . equals ( pet name ) ) { return client ; } } throw new search exception ( str ) ; } }", "new_code_tokens": ["public", "static", "client", "search", "pet", "name", "(", "string", "pet", "name", ")", "throws", "search", "exception", "{", "if", "(", "clients", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "search", "exception", "(", "str", ")", ";", "}", "else", "{", "for", "(", "client", "client", ":", "clients", ")", "{", "if", "(", "client", ".", "get", "pet", "name", "(", ")", ".", "equals", "(", "pet", "name", ")", ")", "{", "return", "client", ";", "}", "}", "throw", "new", "search", "exception", "(", "str", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static client search pet name ( string pet name ) <KEEP_END> <INSERT> throws search exception { if ( clients . is empty ( ) ) { throw new search exception ( str ) ; } else <INSERT_END> <KEEP> { for ( client client : clients ) { if ( client . get pet name ( ) . equals ( pet name ) ) { return client ; } } <KEEP_END> <REPLACE_OLD> return null <REPLACE_NEW> throw new search exception ( str ) <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "client", "search", "pet", "name", "(", "string", "pet", "name", ")", "<KEEP_END>", "<INSERT>", "throws", "search", "exception", "{", "if", "(", "clients", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "search", "exception", "(", "str", ")", ";", "}", "else", "<INSERT_END>", "<KEEP>", "{", "for", "(", "client", "client", ":", "clients", ")", "{", "if", "(", "client", ".", "get", "pet", "name", "(", ")", ".", "equals", "(", "pet", "name", ")", ")", "{", "return", "client", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "null", "<REPLACE_NEW>", "throw", "new", "search", "exception", "(", "str", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> or null , if there isn ' t pet with such name <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", ",", "if", "there", "isn", "'", "t", "pet", "with", "such", "name", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "client", "<KEEP>", "search", "<KEEP>", "pet", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "pet", "<KEEP>", "name", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "search", "<INSERT>", "exception", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "clients", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "search", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", "client", "<KEEP>", ":", "<KEEP>", "clients", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "pet", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "pet", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "client", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "search", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.9743286985897919, "using": 2, "keep": 1}
{"id": "koraktor_steam-condenser-java-15-6371", "old_comment": "string the accuracy of the player with this weapon", "old_comment_tokens": ["string", "the", "accuracy", "of", "the", "player", "with", "this", "weapon"], "new_comment": "the accuracy of the player with this weapon", "new_comment_tokens": ["the", "accuracy", "of", "the", "player", "with", "this", "weapon"], "old_code": "public string get accuracy ( ) { return this . accuracy ; }", "old_code_tokens": ["public", "string", "get", "accuracy", "(", ")", "{", "return", "this", ".", "accuracy", ";", "}"], "new_code": "public float get accuracy ( ) { return this . accuracy ; }", "new_code_tokens": ["public", "float", "get", "accuracy", "(", ")", "{", "return", "this", ".", "accuracy", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> float <REPLACE_END> <KEEP> get accuracy ( ) { return this . accuracy ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "float", "<REPLACE_END>", "<KEEP>", "get", "accuracy", "(", ")", "{", "return", "this", ".", "accuracy", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> string <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "string", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "float", "<KEEP>", "get", "<KEEP>", "accuracy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "accuracy", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9749517072760597, "using": 2, "keep": 1}
{"id": "linkedin_rest.li-8-3054", "old_comment": "schema of all subresources that are the descendants of the specified resource", "old_comment_tokens": ["schema", "of", "all", "subresources", "that", "are", "the", "descendants", "of", "the", "specified", "resource"], "new_comment": "schema of direct subresources of the specified resource", "new_comment_tokens": ["schema", "of", "direct", "subresources", "of", "the", "specified", "resource"], "old_code": "public list < resource schema > get sub resources ( resource schema ancestor schema ) { return _ sub resources . get ( ancestor schema ) ; }", "old_code_tokens": ["public", "list", "<", "resource", "schema", ">", "get", "sub", "resources", "(", "resource", "schema", "ancestor", "schema", ")", "{", "return", "_", "sub", "resources", ".", "get", "(", "ancestor", "schema", ")", ";", "}"], "new_code": "public list < resource schema > get sub resources ( resource schema parent schema ) { return _ sub resources . get ( parent schema ) ; }", "new_code_tokens": ["public", "list", "<", "resource", "schema", ">", "get", "sub", "resources", "(", "resource", "schema", "parent", "schema", ")", "{", "return", "_", "sub", "resources", ".", "get", "(", "parent", "schema", ")", ";", "}"], "span_diff_code": "<KEEP> public list < resource schema > get sub resources ( resource schema <KEEP_END> <REPLACE_OLD> ancestor <REPLACE_NEW> parent <REPLACE_END> <KEEP> schema ) { return _ sub resources . get ( <KEEP_END> <REPLACE_OLD> ancestor <REPLACE_NEW> parent <REPLACE_END> <KEEP> schema ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "resource", "schema", ">", "get", "sub", "resources", "(", "resource", "schema", "<KEEP_END>", "<REPLACE_OLD>", "ancestor", "<REPLACE_NEW>", "parent", "<REPLACE_END>", "<KEEP>", "schema", ")", "{", "return", "_", "sub", "resources", ".", "get", "(", "<KEEP_END>", "<REPLACE_OLD>", "ancestor", "<REPLACE_NEW>", "parent", "<REPLACE_END>", "<KEEP>", "schema", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> all <REPLACE_NEW> direct <REPLACE_END> <DELETE> that are the descendants <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "all", "<REPLACE_NEW>", "direct", "<REPLACE_END>", "<DELETE>", "that", "are", "the", "descendants", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "resource", "<KEEP>", "schema", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "sub", "<KEEP>", "resources", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", "schema", "<REPLACE_OLD>", "ancestor", "<REPLACE_NEW>", "parent", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "sub", "<KEEP>", "resources", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "ancestor", "<REPLACE_NEW>", "parent", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8657658649118045, "using": 0, "keep": 1}
{"id": "TooTallNate_Java-WebSocket-0-1003", "old_comment": "the new payload length", "old_comment_tokens": ["the", "new", "payload", "length"], "new_comment": "the new payload data containing new payload length and new packet size", "new_comment_tokens": ["the", "new", "payload", "data", "containing", "new", "payload", "length", "and", "new", "packet", "size"], "old_code": "private int translate single frame payload length ( byte buffer buffer , opcode optcode , int old payloadlength , int maxpacketsize , int realpacketsize ) throws invalid frame exception , incomplete exception , limit exceeded exception { int payloadlength = old payloadlength ; if ( optcode = = opcode . ping | | optcode = = opcode . pong | | optcode = = opcode . closing ) { log . trace ( str ) ; throw new invalid frame exception ( str ) ; } if ( payloadlength = = num ) { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] sizebytes = new byte [ num ] ; sizebytes [ num ] = buffer . get ( ) ; sizebytes [ num ] = buffer . get ( ) ; payloadlength = new big integer ( sizebytes ) . int value ( ) ; } else { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] bytes = new byte [ num ] ; for ( int i = num ; i < num ; i + + ) { bytes [ i ] = buffer . get ( ) ; } long length = new big integer ( bytes ) . long value ( ) ; translate single frame check length limit ( length ) ; payloadlength = ( int ) length ; } return payloadlength ; }", "old_code_tokens": ["private", "int", "translate", "single", "frame", "payload", "length", "(", "byte", "buffer", "buffer", ",", "opcode", "optcode", ",", "int", "old", "payloadlength", ",", "int", "maxpacketsize", ",", "int", "realpacketsize", ")", "throws", "invalid", "frame", "exception", ",", "incomplete", "exception", ",", "limit", "exceeded", "exception", "{", "int", "payloadlength", "=", "old", "payloadlength", ";", "if", "(", "optcode", "=", "=", "opcode", ".", "ping", "|", "|", "optcode", "=", "=", "opcode", ".", "pong", "|", "|", "optcode", "=", "=", "opcode", ".", "closing", ")", "{", "log", ".", "trace", "(", "str", ")", ";", "throw", "new", "invalid", "frame", "exception", "(", "str", ")", ";", "}", "if", "(", "payloadlength", "=", "=", "num", ")", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "sizebytes", "=", "new", "byte", "[", "num", "]", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "payloadlength", "=", "new", "big", "integer", "(", "sizebytes", ")", ".", "int", "value", "(", ")", ";", "}", "else", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "num", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "buffer", ".", "get", "(", ")", ";", "}", "long", "length", "=", "new", "big", "integer", "(", "bytes", ")", ".", "long", "value", "(", ")", ";", "translate", "single", "frame", "check", "length", "limit", "(", "length", ")", ";", "payloadlength", "=", "(", "int", ")", "length", ";", "}", "return", "payloadlength", ";", "}"], "new_code": "private translated payload meta data translate single frame payload length ( byte buffer buffer , opcode optcode , int old payloadlength , int maxpacketsize , int old realpacketsize ) throws invalid frame exception , incomplete exception , limit exceeded exception { int payloadlength = old payloadlength , realpacketsize = old realpacketsize ; if ( optcode = = opcode . ping | | optcode = = opcode . pong | | optcode = = opcode . closing ) { log . trace ( str ) ; throw new invalid frame exception ( str ) ; } if ( payloadlength = = num ) { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] sizebytes = new byte [ num ] ; sizebytes [ num ] = buffer . get ( ) ; sizebytes [ num ] = buffer . get ( ) ; payloadlength = new big integer ( sizebytes ) . int value ( ) ; } else { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] bytes = new byte [ num ] ; for ( int i = num ; i < num ; i + + ) { bytes [ i ] = buffer . get ( ) ; } long length = new big integer ( bytes ) . long value ( ) ; translate single frame check length limit ( length ) ; payloadlength = ( int ) length ; } return new translated payload meta data ( payloadlength , realpacketsize ) ; }", "new_code_tokens": ["private", "translated", "payload", "meta", "data", "translate", "single", "frame", "payload", "length", "(", "byte", "buffer", "buffer", ",", "opcode", "optcode", ",", "int", "old", "payloadlength", ",", "int", "maxpacketsize", ",", "int", "old", "realpacketsize", ")", "throws", "invalid", "frame", "exception", ",", "incomplete", "exception", ",", "limit", "exceeded", "exception", "{", "int", "payloadlength", "=", "old", "payloadlength", ",", "realpacketsize", "=", "old", "realpacketsize", ";", "if", "(", "optcode", "=", "=", "opcode", ".", "ping", "|", "|", "optcode", "=", "=", "opcode", ".", "pong", "|", "|", "optcode", "=", "=", "opcode", ".", "closing", ")", "{", "log", ".", "trace", "(", "str", ")", ";", "throw", "new", "invalid", "frame", "exception", "(", "str", ")", ";", "}", "if", "(", "payloadlength", "=", "=", "num", ")", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "sizebytes", "=", "new", "byte", "[", "num", "]", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "payloadlength", "=", "new", "big", "integer", "(", "sizebytes", ")", ".", "int", "value", "(", ")", ";", "}", "else", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "num", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "buffer", ".", "get", "(", ")", ";", "}", "long", "length", "=", "new", "big", "integer", "(", "bytes", ")", ".", "long", "value", "(", ")", ";", "translate", "single", "frame", "check", "length", "limit", "(", "length", ")", ";", "payloadlength", "=", "(", "int", ")", "length", ";", "}", "return", "new", "translated", "payload", "meta", "data", "(", "payloadlength", ",", "realpacketsize", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> int translate single frame <REPLACE_NEW> translated <REPLACE_END> <KEEP> payload <KEEP_END> <INSERT> meta data translate single frame payload <INSERT_END> <KEEP> length ( byte buffer buffer , opcode optcode , int old payloadlength , int maxpacketsize , int <KEEP_END> <INSERT> old <INSERT_END> <KEEP> realpacketsize ) throws invalid frame exception , incomplete exception , limit exceeded exception { int payloadlength = old payloadlength <KEEP_END> <INSERT> , realpacketsize = old realpacketsize <INSERT_END> <KEEP> ; if ( optcode = = opcode . ping | | optcode = = opcode . pong | | optcode = = opcode . closing ) { log . trace ( str ) ; throw new invalid frame exception ( str ) ; } if ( payloadlength = = num ) { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] sizebytes = new byte [ num ] ; sizebytes [ num ] = buffer . get ( ) ; sizebytes [ num ] = buffer . get ( ) ; payloadlength = new big integer ( sizebytes ) . int value ( ) ; } else { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] bytes = new byte [ num ] ; for ( int i = num ; i < num ; i + + ) { bytes [ i ] = buffer . get ( ) ; } long length = new big integer ( bytes ) . long value ( ) ; translate single frame check length limit ( length ) ; payloadlength = ( int ) length ; } return <KEEP_END> <REPLACE_OLD> payloadlength ; } <REPLACE_NEW> new translated payload meta data ( payloadlength , realpacketsize ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "int", "translate", "single", "frame", "<REPLACE_NEW>", "translated", "<REPLACE_END>", "<KEEP>", "payload", "<KEEP_END>", "<INSERT>", "meta", "data", "translate", "single", "frame", "payload", "<INSERT_END>", "<KEEP>", "length", "(", "byte", "buffer", "buffer", ",", "opcode", "optcode", ",", "int", "old", "payloadlength", ",", "int", "maxpacketsize", ",", "int", "<KEEP_END>", "<INSERT>", "old", "<INSERT_END>", "<KEEP>", "realpacketsize", ")", "throws", "invalid", "frame", "exception", ",", "incomplete", "exception", ",", "limit", "exceeded", "exception", "{", "int", "payloadlength", "=", "old", "payloadlength", "<KEEP_END>", "<INSERT>", ",", "realpacketsize", "=", "old", "realpacketsize", "<INSERT_END>", "<KEEP>", ";", "if", "(", "optcode", "=", "=", "opcode", ".", "ping", "|", "|", "optcode", "=", "=", "opcode", ".", "pong", "|", "|", "optcode", "=", "=", "opcode", ".", "closing", ")", "{", "log", ".", "trace", "(", "str", ")", ";", "throw", "new", "invalid", "frame", "exception", "(", "str", ")", ";", "}", "if", "(", "payloadlength", "=", "=", "num", ")", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "sizebytes", "=", "new", "byte", "[", "num", "]", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "payloadlength", "=", "new", "big", "integer", "(", "sizebytes", ")", ".", "int", "value", "(", ")", ";", "}", "else", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "num", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "buffer", ".", "get", "(", ")", ";", "}", "long", "length", "=", "new", "big", "integer", "(", "bytes", ")", ".", "long", "value", "(", ")", ";", "translate", "single", "frame", "check", "length", "limit", "(", "length", ")", ";", "payloadlength", "=", "(", "int", ")", "length", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "payloadlength", ";", "}", "<REPLACE_NEW>", "new", "translated", "payload", "meta", "data", "(", "payloadlength", ",", "realpacketsize", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> payload <INSERT_NEW_KEEP_BEFORE> payload data containing new payload <INSERT_END> <INSERT_OLD_KEEP_BEFORE> length <INSERT_NEW_KEEP_BEFORE> length and new packet size <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "payload", "<INSERT_NEW_KEEP_BEFORE>", "payload", "data", "containing", "new", "payload", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "length", "<INSERT_NEW_KEEP_BEFORE>", "length", "and", "new", "packet", "size", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "translate", "<REPLACE_OLD>", "single", "<REPLACE_OLD>", "frame", "<REPLACE_NEW>", "translated", "<KEEP>", "payload", "<INSERT>", "meta", "<INSERT>", "data", "<INSERT>", "translate", "<INSERT>", "single", "<INSERT>", "frame", "<INSERT>", "payload", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "buffer", "<KEEP>", "buffer", "<KEEP>", ",", "<KEEP>", "opcode", "<KEEP>", "optcode", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "old", "<KEEP>", "payloadlength", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "maxpacketsize", "<KEEP>", ",", "<KEEP>", "int", "<INSERT>", "old", "<KEEP>", "realpacketsize", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "invalid", "<KEEP>", "frame", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "incomplete", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "limit", "<KEEP>", "exceeded", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "old", "<KEEP>", "payloadlength", "<INSERT>", ",", "<INSERT>", "realpacketsize", "<INSERT>", "=", "<INSERT>", "old", "<INSERT>", "realpacketsize", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "optcode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "opcode", "<KEEP>", ".", "<KEEP>", "ping", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "optcode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "opcode", "<KEEP>", ".", "<KEEP>", "pong", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "optcode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "opcode", "<KEEP>", ".", "<KEEP>", "closing", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "invalid", "<KEEP>", "frame", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "realpacketsize", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "check", "<KEEP>", "packet", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "maxpacketsize", "<KEEP>", ",", "<KEEP>", "realpacketsize", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "sizebytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "sizebytes", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sizebytes", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "sizebytes", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "realpacketsize", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "check", "<KEEP>", "packet", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "maxpacketsize", "<KEEP>", ",", "<KEEP>", "realpacketsize", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "bytes", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "long", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "long", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "check", "<KEEP>", "length", "<KEEP>", "limit", "<KEEP>", "(", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "payloadlength", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "translated", "<REPLACE_NEW>", "payload", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "payloadlength", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "realpacketsize", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.941650093531666, "using": 2, "keep": 1}
{"id": "eclipse_jgit-121-5683", "old_comment": "if the server is configured to use signed pushes .", "old_comment_tokens": ["if", "the", "server", "is", "configured", "to", "use", "signed", "pushes", "."], "new_comment": "if the repository is configured to use signed pushes in this context .", "new_comment_tokens": ["if", "the", "repository", "is", "configured", "to", "use", "signed", "pushes", "in", "this", "context", "."], "old_code": "public boolean enabled ( ) { return nonce generator ! = null ; }", "old_code_tokens": ["public", "boolean", "enabled", "(", ")", "{", "return", "nonce", "generator", "!", "=", "null", ";", "}"], "new_code": "public boolean enabled ( ) { return enabled ; }", "new_code_tokens": ["public", "boolean", "enabled", "(", ")", "{", "return", "enabled", ";", "}"], "span_diff_code": "<KEEP> public boolean enabled ( ) { return <KEEP_END> <REPLACE_OLD> nonce generator ! = null <REPLACE_NEW> enabled <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "enabled", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "nonce", "generator", "!", "=", "null", "<REPLACE_NEW>", "enabled", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> server <REPLACE_NEW> repository <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> pushes <INSERT_NEW_KEEP_BEFORE> pushes in this context <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "server", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "pushes", "<INSERT_NEW_KEEP_BEFORE>", "pushes", "in", "this", "context", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "nonce", "<REPLACE_OLD>", "generator", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "enabled", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8399878138861582, "using": 1, "keep": 1}
{"id": "eclipse_pdt-16-6077", "old_comment": "array of basic phpwizard page extended pages , or null if no pages where contributed .", "old_comment_tokens": ["array", "of", "basic", "phpwizard", "page", "extended", "pages", ",", "or", "null", "if", "no", "pages", "where", "contributed", "."], "new_comment": "array of iwizard page pages , or null if no pages where contributed .", "new_comment_tokens": ["array", "of", "iwizard", "page", "pages", ",", "or", "null", "if", "no", "pages", "where", "contributed", "."], "old_code": "public static basic phpwizard page extended [ ] get pages ( string id ) { final list elements list = ( list ) instance . pages . get ( id ) ; if ( elements list ! = null ) { final list pages list = new linked list ( ) ; safe runner . run ( new safe runnable ( str + extension _ point ) { public void run ( ) throws exception { iterator i = elements list . iterator ( ) ; while ( i . has next ( ) ) { iconfiguration element element = ( iconfiguration element ) i . next ( ) ; pages list . add ( element . create executable extension ( class _ attribute ) ) ; } } } ) ; return ( basic phpwizard page extended [ ] ) pages list . to array ( new basic phpwizard page extended [ pages list . size ( ) ] ) ; } return null ; }", "old_code_tokens": ["public", "static", "basic", "phpwizard", "page", "extended", "[", "]", "get", "pages", "(", "string", "id", ")", "{", "final", "list", "elements", "list", "=", "(", "list", ")", "instance", ".", "pages", ".", "get", "(", "id", ")", ";", "if", "(", "elements", "list", "!", "=", "null", ")", "{", "final", "list", "pages", "list", "=", "new", "linked", "list", "(", ")", ";", "safe", "runner", ".", "run", "(", "new", "safe", "runnable", "(", "str", "+", "extension", "_", "point", ")", "{", "public", "void", "run", "(", ")", "throws", "exception", "{", "iterator", "i", "=", "elements", "list", ".", "iterator", "(", ")", ";", "while", "(", "i", ".", "has", "next", "(", ")", ")", "{", "iconfiguration", "element", "element", "=", "(", "iconfiguration", "element", ")", "i", ".", "next", "(", ")", ";", "pages", "list", ".", "add", "(", "element", ".", "create", "executable", "extension", "(", "class", "_", "attribute", ")", ")", ";", "}", "}", "}", ")", ";", "return", "(", "basic", "phpwizard", "page", "extended", "[", "]", ")", "pages", "list", ".", "to", "array", "(", "new", "basic", "phpwizard", "page", "extended", "[", "pages", "list", ".", "size", "(", ")", "]", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public static iwizard page [ ] get pages ( string id ) { final list elements list = ( list ) instance . pages . get ( id ) ; if ( elements list ! = null ) { final list pages list = new linked list ( ) ; safe runner . run ( new safe runnable ( str + extension _ point ) { public void run ( ) throws exception { iterator i = elements list . iterator ( ) ; while ( i . has next ( ) ) { iconfiguration element element = ( iconfiguration element ) i . next ( ) ; pages list . add ( element . create executable extension ( class _ attribute ) ) ; } } } ) ; return ( iwizard page [ ] ) pages list . to array ( new iwizard page [ pages list . size ( ) ] ) ; } return null ; }", "new_code_tokens": ["public", "static", "iwizard", "page", "[", "]", "get", "pages", "(", "string", "id", ")", "{", "final", "list", "elements", "list", "=", "(", "list", ")", "instance", ".", "pages", ".", "get", "(", "id", ")", ";", "if", "(", "elements", "list", "!", "=", "null", ")", "{", "final", "list", "pages", "list", "=", "new", "linked", "list", "(", ")", ";", "safe", "runner", ".", "run", "(", "new", "safe", "runnable", "(", "str", "+", "extension", "_", "point", ")", "{", "public", "void", "run", "(", ")", "throws", "exception", "{", "iterator", "i", "=", "elements", "list", ".", "iterator", "(", ")", ";", "while", "(", "i", ".", "has", "next", "(", ")", ")", "{", "iconfiguration", "element", "element", "=", "(", "iconfiguration", "element", ")", "i", ".", "next", "(", ")", ";", "pages", "list", ".", "add", "(", "element", ".", "create", "executable", "extension", "(", "class", "_", "attribute", ")", ")", ";", "}", "}", "}", ")", ";", "return", "(", "iwizard", "page", "[", "]", ")", "pages", "list", ".", "to", "array", "(", "new", "iwizard", "page", "[", "pages", "list", ".", "size", "(", ")", "]", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> basic phpwizard <REPLACE_NEW> iwizard <REPLACE_END> <KEEP> page <KEEP_END> <DELETE> extended <DELETE_END> <KEEP> [ ] get pages ( string id ) { final list elements list = ( list ) instance . pages . get ( id ) ; if ( elements list ! = null ) { final list pages list = new linked list ( ) ; safe runner . run ( new safe runnable ( str + extension _ point ) { public void run ( ) throws exception { iterator i = elements list . iterator ( ) ; while ( i . has next ( ) ) { iconfiguration element element = ( iconfiguration element ) i . next ( ) ; pages list . add ( element . create executable extension ( class _ attribute ) ) ; } } } ) ; return ( <KEEP_END> <REPLACE_OLD> basic phpwizard <REPLACE_NEW> iwizard <REPLACE_END> <KEEP> page <KEEP_END> <DELETE> extended <DELETE_END> <KEEP> [ ] ) pages list . to array ( new <KEEP_END> <REPLACE_OLD> basic phpwizard <REPLACE_NEW> iwizard <REPLACE_END> <KEEP> page <KEEP_END> <DELETE> extended <DELETE_END> <KEEP> [ pages list . size ( ) ] ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "basic", "phpwizard", "<REPLACE_NEW>", "iwizard", "<REPLACE_END>", "<KEEP>", "page", "<KEEP_END>", "<DELETE>", "extended", "<DELETE_END>", "<KEEP>", "[", "]", "get", "pages", "(", "string", "id", ")", "{", "final", "list", "elements", "list", "=", "(", "list", ")", "instance", ".", "pages", ".", "get", "(", "id", ")", ";", "if", "(", "elements", "list", "!", "=", "null", ")", "{", "final", "list", "pages", "list", "=", "new", "linked", "list", "(", ")", ";", "safe", "runner", ".", "run", "(", "new", "safe", "runnable", "(", "str", "+", "extension", "_", "point", ")", "{", "public", "void", "run", "(", ")", "throws", "exception", "{", "iterator", "i", "=", "elements", "list", ".", "iterator", "(", ")", ";", "while", "(", "i", ".", "has", "next", "(", ")", ")", "{", "iconfiguration", "element", "element", "=", "(", "iconfiguration", "element", ")", "i", ".", "next", "(", ")", ";", "pages", "list", ".", "add", "(", "element", ".", "create", "executable", "extension", "(", "class", "_", "attribute", ")", ")", ";", "}", "}", "}", ")", ";", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "basic", "phpwizard", "<REPLACE_NEW>", "iwizard", "<REPLACE_END>", "<KEEP>", "page", "<KEEP_END>", "<DELETE>", "extended", "<DELETE_END>", "<KEEP>", "[", "]", ")", "pages", "list", ".", "to", "array", "(", "new", "<KEEP_END>", "<REPLACE_OLD>", "basic", "phpwizard", "<REPLACE_NEW>", "iwizard", "<REPLACE_END>", "<KEEP>", "page", "<KEEP_END>", "<DELETE>", "extended", "<DELETE_END>", "<KEEP>", "[", "pages", "list", ".", "size", "(", ")", "]", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> basic phpwizard <REPLACE_NEW> iwizard <REPLACE_END> <DELETE> extended <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "basic", "phpwizard", "<REPLACE_NEW>", "iwizard", "<REPLACE_END>", "<DELETE>", "extended", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "basic", "<REPLACE_OLD>", "phpwizard", "<REPLACE_NEW>", "iwizard", "<KEEP>", "page", "<DELETE>", "extended", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "pages", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "elements", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "pages", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "elements", "<KEEP>", "list", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "pages", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "safe", "<KEEP>", "runner", "<KEEP>", ".", "<KEEP>", "run", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "safe", "<KEEP>", "runnable", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "extension", "<KEEP>", "_", "<KEEP>", "point", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "run", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "elements", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iconfiguration", "<KEEP>", "element", "<KEEP>", "element", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "iconfiguration", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", "i", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pages", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "executable", "<KEEP>", "extension", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "_", "<KEEP>", "attribute", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "basic", "<REPLACE_OLD>", "phpwizard", "<REPLACE_NEW>", "iwizard", "<KEEP>", "page", "<DELETE>", "extended", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "pages", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<REPLACE_OLD>", "basic", "<REPLACE_OLD>", "phpwizard", "<REPLACE_NEW>", "iwizard", "<KEEP>", "page", "<DELETE>", "extended", "<KEEP>", "[", "<KEEP>", "pages", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.986093320445378, "using": 2, "keep": 1}
{"id": "mirror_jpcsp-13-4723", "old_comment": "string representation of the mac address : x : xx : xx : xx : xx : xx ( in lowercase ) .", "old_comment_tokens": ["string", "representation", "of", "the", "mac", "address", ":", "x", ":", "xx", ":", "xx", ":", "xx", ":", "xx", ":", "xx", "(", "in", "lowercase", ")", "."], "new_comment": "string representation of the mac address : xx : xx : xx : xx : xx : xx ( in lower - case ) .", "new_comment_tokens": ["string", "representation", "of", "the", "mac", "address", ":", "xx", ":", "xx", ":", "xx", ":", "xx", ":", "xx", ":", "xx", "(", "in", "lower", "-", "case", ")", "."], "old_code": "public static string convert mac address to string ( byte [ ] mac address ) { string builder str = new string builder ( ) ; for ( int i = num ; i < mac address . length ; i + + ) { if ( i > num ) { str . append ( str ) ; } str . append ( string . format ( str , mac address [ i ] ) ) ; } return str . to string ( ) ; }", "old_code_tokens": ["public", "static", "string", "convert", "mac", "address", "to", "string", "(", "byte", "[", "]", "mac", "address", ")", "{", "string", "builder", "str", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "mac", "address", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "i", ">", "num", ")", "{", "str", ".", "append", "(", "str", ")", ";", "}", "str", ".", "append", "(", "string", ".", "format", "(", "str", ",", "mac", "address", "[", "i", "]", ")", ")", ";", "}", "return", "str", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public static string convert mac address to string ( byte [ ] mac address ) { return string . format ( str , mac address [ num ] , mac address [ num ] , mac address [ num ] , mac address [ num ] , mac address [ num ] , mac address [ num ] ) ; }", "new_code_tokens": ["public", "static", "string", "convert", "mac", "address", "to", "string", "(", "byte", "[", "]", "mac", "address", ")", "{", "return", "string", ".", "format", "(", "str", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public static string convert mac address to string ( byte [ ] mac address ) { <KEEP_END> <REPLACE_OLD> string builder str = new string builder ( ) ; for ( int i = num ; i < mac address . length ; i + + ) { if ( i > num ) { str . append ( str ) ; } str . append ( <REPLACE_NEW> return <REPLACE_END> <KEEP> string . format ( str , mac address [ <KEEP_END> <REPLACE_OLD> i <REPLACE_NEW> num <REPLACE_END> <KEEP> ] <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> , mac address [ num ] , mac address [ num ] , mac address [ num ] , mac address [ num ] , mac address [ num ] <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> return str . to string ( ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "convert", "mac", "address", "to", "string", "(", "byte", "[", "]", "mac", "address", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "builder", "str", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "mac", "address", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "i", ">", "num", ")", "{", "str", ".", "append", "(", "str", ")", ";", "}", "str", ".", "append", "(", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "string", ".", "format", "(", "str", ",", "mac", "address", "[", "<KEEP_END>", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "num", "<REPLACE_END>", "<KEEP>", "]", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", ",", "mac", "address", "[", "num", "]", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "str", ".", "to", "string", "(", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> x <REPLACE_NEW> xx <REPLACE_END> <REPLACE_OLD> lowercase <REPLACE_NEW> lower - case <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "x", "<REPLACE_NEW>", "xx", "<REPLACE_END>", "<REPLACE_OLD>", "lowercase", "<REPLACE_NEW>", "lower", "-", "case", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "convert", "<KEEP>", "mac", "<KEEP>", "address", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "mac", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "mac", "<REPLACE_OLD>", "address", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "append", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "append", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "return", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "mac", "<KEEP>", "address", "<KEEP>", "[", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "num", "<KEEP>", "]", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mac", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mac", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mac", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mac", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mac", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "str", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.9126935392896104, "using": 0, "keep": 1}
{"id": "mhcrnl_java-courses-1-7133", "old_comment": "found client - object or null , if there isn ' t client with such id .", "old_comment_tokens": ["found", "client", "-", "object", "or", "null", ",", "if", "there", "isn", "'", "t", "client", "with", "such", "id", "."], "new_comment": "found client - object .", "new_comment_tokens": ["found", "client", "-", "object", "."], "old_code": "public static client search id ( string id ) { for ( client client : clients ) { if ( client . get id ( ) . equals ( id ) ) { return client ; } } return null ; }", "old_code_tokens": ["public", "static", "client", "search", "id", "(", "string", "id", ")", "{", "for", "(", "client", "client", ":", "clients", ")", "{", "if", "(", "client", ".", "get", "id", "(", ")", ".", "equals", "(", "id", ")", ")", "{", "return", "client", ";", "}", "}", "return", "null", ";", "}"], "new_code": "public static client search id ( string id ) throws search exception { if ( clients . is empty ( ) ) { throw new search exception ( str ) ; } else { for ( client client : clients ) { if ( client . get id ( ) . equals ( id ) ) { return client ; } } throw new search exception ( str ) ; } }", "new_code_tokens": ["public", "static", "client", "search", "id", "(", "string", "id", ")", "throws", "search", "exception", "{", "if", "(", "clients", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "search", "exception", "(", "str", ")", ";", "}", "else", "{", "for", "(", "client", "client", ":", "clients", ")", "{", "if", "(", "client", ".", "get", "id", "(", ")", ".", "equals", "(", "id", ")", ")", "{", "return", "client", ";", "}", "}", "throw", "new", "search", "exception", "(", "str", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static client search id ( string id ) <KEEP_END> <INSERT> throws search exception { if ( clients . is empty ( ) ) { throw new search exception ( str ) ; } else <INSERT_END> <KEEP> { for ( client client : clients ) { if ( client . get id ( ) . equals ( id ) ) { return client ; } } <KEEP_END> <REPLACE_OLD> return null <REPLACE_NEW> throw new search exception ( str ) <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "client", "search", "id", "(", "string", "id", ")", "<KEEP_END>", "<INSERT>", "throws", "search", "exception", "{", "if", "(", "clients", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "search", "exception", "(", "str", ")", ";", "}", "else", "<INSERT_END>", "<KEEP>", "{", "for", "(", "client", "client", ":", "clients", ")", "{", "if", "(", "client", ".", "get", "id", "(", ")", ".", "equals", "(", "id", ")", ")", "{", "return", "client", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "null", "<REPLACE_NEW>", "throw", "new", "search", "exception", "(", "str", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> or null , if there isn ' t client with such id <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", ",", "if", "there", "isn", "'", "t", "client", "with", "such", "id", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "client", "<KEEP>", "search", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "id", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "search", "<INSERT>", "exception", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "clients", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "search", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", "client", "<KEEP>", ":", "<KEEP>", "clients", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "client", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "search", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.9694830998416201, "using": 2, "keep": 1}
{"id": "apache_aurora-93-6463", "old_comment": "aggregates for each global metric type .", "old_comment_tokens": ["aggregates", "for", "each", "global", "metric", "type", "."], "new_comment": "aggregates for each metric type .", "new_comment_tokens": ["aggregates", "for", "each", "metric", "type", "."], "old_code": "public list < global metric > compute consumption totals ( ) throws storage exception { list < global metric > counts = fluent iterable . from ( arrays . as list ( metric type . values ( ) ) ) . transform ( to _ global _ metric ) . to list ( ) ; for ( itask config task : get tasks ( query . unscoped ( ) . active ( ) ) ) { for ( global metric count : counts ) { count . accumulate ( task ) ; } } return counts ; }", "old_code_tokens": ["public", "list", "<", "global", "metric", ">", "compute", "consumption", "totals", "(", ")", "throws", "storage", "exception", "{", "list", "<", "global", "metric", ">", "counts", "=", "fluent", "iterable", ".", "from", "(", "arrays", ".", "as", "list", "(", "metric", "type", ".", "values", "(", ")", ")", ")", ".", "transform", "(", "to", "_", "global", "_", "metric", ")", ".", "to", "list", "(", ")", ";", "for", "(", "itask", "config", "task", ":", "get", "tasks", "(", "query", ".", "unscoped", "(", ")", ".", "active", "(", ")", ")", ")", "{", "for", "(", "global", "metric", "count", ":", "counts", ")", "{", "count", ".", "accumulate", "(", "task", ")", ";", "}", "}", "return", "counts", ";", "}"], "new_code": "public list < metric > compute consumption totals ( ) throws storage exception { list < metric > counts = fluent iterable . from ( arrays . as list ( metric type . values ( ) ) ) . transform ( to _ metric ) . to list ( ) ; for ( itask config task : get tasks ( query . unscoped ( ) . active ( ) ) ) { for ( metric count : counts ) { count . accumulate ( task ) ; } } return counts ; }", "new_code_tokens": ["public", "list", "<", "metric", ">", "compute", "consumption", "totals", "(", ")", "throws", "storage", "exception", "{", "list", "<", "metric", ">", "counts", "=", "fluent", "iterable", ".", "from", "(", "arrays", ".", "as", "list", "(", "metric", "type", ".", "values", "(", ")", ")", ")", ".", "transform", "(", "to", "_", "metric", ")", ".", "to", "list", "(", ")", ";", "for", "(", "itask", "config", "task", ":", "get", "tasks", "(", "query", ".", "unscoped", "(", ")", ".", "active", "(", ")", ")", ")", "{", "for", "(", "metric", "count", ":", "counts", ")", "{", "count", ".", "accumulate", "(", "task", ")", ";", "}", "}", "return", "counts", ";", "}"], "span_diff_code": "<KEEP> public list < <KEEP_END> <DELETE> global <DELETE_END> <KEEP> metric > compute consumption totals ( ) throws storage exception { list < <KEEP_END> <DELETE> global <DELETE_END> <KEEP> metric > counts = fluent iterable . from ( arrays . as list ( metric type . values ( ) ) ) . transform ( to <KEEP_END> <DELETE> _ global <DELETE_END> <KEEP> _ metric ) . to list ( ) ; for ( itask config task : get tasks ( query . unscoped ( ) . active ( ) ) ) { for ( <KEEP_END> <DELETE> global <DELETE_END> <KEEP> metric count : counts ) { count . accumulate ( task ) ; } } return counts ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "<KEEP_END>", "<DELETE>", "global", "<DELETE_END>", "<KEEP>", "metric", ">", "compute", "consumption", "totals", "(", ")", "throws", "storage", "exception", "{", "list", "<", "<KEEP_END>", "<DELETE>", "global", "<DELETE_END>", "<KEEP>", "metric", ">", "counts", "=", "fluent", "iterable", ".", "from", "(", "arrays", ".", "as", "list", "(", "metric", "type", ".", "values", "(", ")", ")", ")", ".", "transform", "(", "to", "<KEEP_END>", "<DELETE>", "_", "global", "<DELETE_END>", "<KEEP>", "_", "metric", ")", ".", "to", "list", "(", ")", ";", "for", "(", "itask", "config", "task", ":", "get", "tasks", "(", "query", ".", "unscoped", "(", ")", ".", "active", "(", ")", ")", ")", "{", "for", "(", "<KEEP_END>", "<DELETE>", "global", "<DELETE_END>", "<KEEP>", "metric", "count", ":", "counts", ")", "{", "count", ".", "accumulate", "(", "task", ")", ";", "}", "}", "return", "counts", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> global <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "global", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<DELETE>", "global", "<KEEP>", "metric", "<KEEP>", ">", "<KEEP>", "compute", "<KEEP>", "consumption", "<KEEP>", "totals", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "storage", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<DELETE>", "global", "<KEEP>", "metric", "<KEEP>", ">", "<KEEP>", "counts", "<KEEP>", "=", "<KEEP>", "fluent", "<KEEP>", "iterable", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "metric", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "to", "<DELETE>", "_", "<DELETE>", "global", "<KEEP>", "_", "<KEEP>", "metric", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "itask", "<KEEP>", "config", "<KEEP>", "task", "<KEEP>", ":", "<KEEP>", "get", "<KEEP>", "tasks", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "unscoped", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "active", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<DELETE>", "global", "<KEEP>", "metric", "<KEEP>", "count", "<KEEP>", ":", "<KEEP>", "counts", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "count", "<KEEP>", ".", "<KEEP>", "accumulate", "<KEEP>", "(", "<KEEP>", "task", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "counts", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9926368663936981, "using": 2, "keep": 1}
{"id": "apache_harmony-classlib-222-7164", "old_comment": "int , the next handle to represent the next cyclic reference", "old_comment_tokens": ["int", ",", "the", "next", "handle", "to", "represent", "the", "next", "cyclic", "reference"], "new_comment": "the next handle to represent the next cyclic reference", "new_comment_tokens": ["the", "next", "handle", "to", "represent", "the", "next", "cyclic", "reference"], "old_code": "private int next handle ( ) { return this . current handle + + ; }", "old_code_tokens": ["private", "int", "next", "handle", "(", ")", "{", "return", "this", ".", "current", "handle", "+", "+", ";", "}"], "new_code": "private integer next handle ( ) { return integer . value of ( this . current handle + + ) ; }", "new_code_tokens": ["private", "integer", "next", "handle", "(", ")", "{", "return", "integer", ".", "value", "of", "(", "this", ".", "current", "handle", "+", "+", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> integer <REPLACE_END> <KEEP> next handle ( ) { return <KEEP_END> <INSERT> integer . value of ( <INSERT_END> <KEEP> this . current handle + + <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "integer", "<REPLACE_END>", "<KEEP>", "next", "handle", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "integer", ".", "value", "of", "(", "<INSERT_END>", "<KEEP>", "this", ".", "current", "handle", "+", "+", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> int , <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "int", ",", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "integer", "<KEEP>", "next", "<KEEP>", "handle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "integer", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", "of", "<INSERT>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "handle", "<KEEP>", "+", "<KEEP>", "+", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9863155585211876, "using": 2, "keep": 1}
{"id": "azkaban_azkaban-15-2415", "old_comment": "de - serialized object from json or empty object if the response doesn ' t have a body .", "old_comment_tokens": ["de", "-", "serialized", "object", "from", "json", "or", "empty", "object", "if", "the", "response", "doesn", "'", "t", "have", "a", "body", "."], "new_comment": "de - serialized object from json or null if the response doesn ' t have a body .", "new_comment_tokens": ["de", "-", "serialized", "object", "from", "json", "or", "null", "if", "the", "response", "doesn", "'", "t", "have", "a", "body", "."], "old_code": "@ suppress warnings ( str ) @ override protected map < string , object > parse response ( http response response ) throws http response exception , ioexception { final status line status line = response . get status line ( ) ; string response body = response . get entity ( ) ! = null ? entity utils . to string ( response . get entity ( ) ) : str ; if ( status line . get status code ( ) > = num ) { logger . error ( string . format ( str , status line . get status code ( ) ) ) ; throw new http response exception ( status line . get status code ( ) , response body ) ; } final http entity entity = response . get entity ( ) ; if ( null ! = entity ) { object return val = jsonutils . parse jsonfrom string ( entity utils . to string ( entity ) ) ; if ( null ! = return val ) { return ( map < string , object > ) return val ; } } return new hash map < string , object > ( ) ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "@", "override", "protected", "map", "<", "string", ",", "object", ">", "parse", "response", "(", "http", "response", "response", ")", "throws", "http", "response", "exception", ",", "ioexception", "{", "final", "status", "line", "status", "line", "=", "response", ".", "get", "status", "line", "(", ")", ";", "string", "response", "body", "=", "response", ".", "get", "entity", "(", ")", "!", "=", "null", "?", "entity", "utils", ".", "to", "string", "(", "response", ".", "get", "entity", "(", ")", ")", ":", "str", ";", "if", "(", "status", "line", ".", "get", "status", "code", "(", ")", ">", "=", "num", ")", "{", "logger", ".", "error", "(", "string", ".", "format", "(", "str", ",", "status", "line", ".", "get", "status", "code", "(", ")", ")", ")", ";", "throw", "new", "http", "response", "exception", "(", "status", "line", ".", "get", "status", "code", "(", ")", ",", "response", "body", ")", ";", "}", "final", "http", "entity", "entity", "=", "response", ".", "get", "entity", "(", ")", ";", "if", "(", "null", "!", "=", "entity", ")", "{", "object", "return", "val", "=", "jsonutils", ".", "parse", "jsonfrom", "string", "(", "entity", "utils", ".", "to", "string", "(", "entity", ")", ")", ";", "if", "(", "null", "!", "=", "return", "val", ")", "{", "return", "(", "map", "<", "string", ",", "object", ">", ")", "return", "val", ";", "}", "}", "return", "new", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "}"], "new_code": "@ override protected string parse response ( http response response ) throws http response exception , ioexception { final status line status line = response . get status line ( ) ; string response body = response . get entity ( ) ! = null ? entity utils . to string ( response . get entity ( ) ) : str ; if ( status line . get status code ( ) > = num ) { logger . error ( string . format ( str , status line . get status code ( ) ) ) ; throw new http response exception ( status line . get status code ( ) , response body ) ; } return response body ; }", "new_code_tokens": ["@", "override", "protected", "string", "parse", "response", "(", "http", "response", "response", ")", "throws", "http", "response", "exception", ",", "ioexception", "{", "final", "status", "line", "status", "line", "=", "response", ".", "get", "status", "line", "(", ")", ";", "string", "response", "body", "=", "response", ".", "get", "entity", "(", ")", "!", "=", "null", "?", "entity", "utils", ".", "to", "string", "(", "response", ".", "get", "entity", "(", ")", ")", ":", "str", ";", "if", "(", "status", "line", ".", "get", "status", "code", "(", ")", ">", "=", "num", ")", "{", "logger", ".", "error", "(", "string", ".", "format", "(", "str", ",", "status", "line", ".", "get", "status", "code", "(", ")", ")", ")", ";", "throw", "new", "http", "response", "exception", "(", "status", "line", ".", "get", "status", "code", "(", ")", ",", "response", "body", ")", ";", "}", "return", "response", "body", ";", "}"], "span_diff_code": "<DELETE> @ suppress warnings ( str ) <DELETE_END> <KEEP> @ override protected <KEEP_END> <DELETE> map < <DELETE_END> <KEEP> string <KEEP_END> <DELETE> , object > <DELETE_END> <KEEP> parse response ( http response response ) throws http response exception , ioexception { final status line status line = response . get status line ( ) ; string response body = response . get entity ( ) ! = null ? entity utils . to string ( response . get entity ( ) ) : str ; if ( status line . get status code ( ) > = num ) { logger . error ( string . format ( str , status line . get status code ( ) ) ) ; throw new http response exception ( status line . get status code ( ) , response body ) ; } <KEEP_END> <REPLACE_OLD> final http entity entity = <REPLACE_NEW> return <REPLACE_END> <KEEP> response <KEEP_END> <REPLACE_OLD> . get entity ( ) ; if ( null ! = entity ) { object return val = jsonutils . parse jsonfrom string ( entity utils . to string ( entity ) ) ; if ( null ! = return val ) { return ( map < string , object > ) return val <REPLACE_NEW> body <REPLACE_END> <KEEP> ; } <KEEP_END> <DELETE> } return new hash map < string , object > ( ) ; } <DELETE_END>", "span_diff_code_tokens": ["<DELETE>", "@", "suppress", "warnings", "(", "str", ")", "<DELETE_END>", "<KEEP>", "@", "override", "protected", "<KEEP_END>", "<DELETE>", "map", "<", "<DELETE_END>", "<KEEP>", "string", "<KEEP_END>", "<DELETE>", ",", "object", ">", "<DELETE_END>", "<KEEP>", "parse", "response", "(", "http", "response", "response", ")", "throws", "http", "response", "exception", ",", "ioexception", "{", "final", "status", "line", "status", "line", "=", "response", ".", "get", "status", "line", "(", ")", ";", "string", "response", "body", "=", "response", ".", "get", "entity", "(", ")", "!", "=", "null", "?", "entity", "utils", ".", "to", "string", "(", "response", ".", "get", "entity", "(", ")", ")", ":", "str", ";", "if", "(", "status", "line", ".", "get", "status", "code", "(", ")", ">", "=", "num", ")", "{", "logger", ".", "error", "(", "string", ".", "format", "(", "str", ",", "status", "line", ".", "get", "status", "code", "(", ")", ")", ")", ";", "throw", "new", "http", "response", "exception", "(", "status", "line", ".", "get", "status", "code", "(", ")", ",", "response", "body", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "final", "http", "entity", "entity", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "response", "<KEEP_END>", "<REPLACE_OLD>", ".", "get", "entity", "(", ")", ";", "if", "(", "null", "!", "=", "entity", ")", "{", "object", "return", "val", "=", "jsonutils", ".", "parse", "jsonfrom", "string", "(", "entity", "utils", ".", "to", "string", "(", "entity", ")", ")", ";", "if", "(", "null", "!", "=", "return", "val", ")", "{", "return", "(", "map", "<", "string", ",", "object", ">", ")", "return", "val", "<REPLACE_NEW>", "body", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "}", "return", "new", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> empty object <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "empty", "object", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<DELETE>", "@", "<DELETE>", "suppress", "<DELETE>", "warnings", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "protected", "<DELETE>", "map", "<DELETE>", "<", "<KEEP>", "string", "<DELETE>", ",", "<DELETE>", "object", "<DELETE>", ">", "<KEEP>", "parse", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "http", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "response", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "jsonutils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "jsonfrom", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_NEW>", "body", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "hash", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "object", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.9364244882106159, "using": 0, "keep": 1}
{"id": "b3log_solo-4-762", "old_comment": "git hub repos , returns an empty list if not found", "old_comment_tokens": ["git", "hub", "repos", ",", "returns", "an", "empty", "list", "if", "not", "found"], "new_comment": "git hub repos , returns null if not found", "new_comment_tokens": ["git", "hub", "repos", ",", "returns", "null", "if", "not", "found"], "old_code": "public static list < jsonobject > get git hub repos ( final string github user id ) { try { final http response res = http request . get ( str + github user id ) . connection timeout ( num ) . timeout ( num ) . header ( str , solos . user _ agent ) . send ( ) ; if ( http servlet response . sc _ ok ! = res . status code ( ) ) { return null ; } res . charset ( str ) ; final jsonobject result = new jsonobject ( res . body text ( ) ) ; if ( num ! = result . opt int ( keys . status _ code ) ) { return collections . empty list ( ) ; } final jsonobject data = result . opt jsonobject ( common . data ) ; final jsonarray repos = data . opt jsonarray ( str ) ; return collection utils . json array to list ( repos ) ; } catch ( final exception e ) { logger . log ( level . error , str , e ) ; return collections . empty list ( ) ; } }", "old_code_tokens": ["public", "static", "list", "<", "jsonobject", ">", "get", "git", "hub", "repos", "(", "final", "string", "github", "user", "id", ")", "{", "try", "{", "final", "http", "response", "res", "=", "http", "request", ".", "get", "(", "str", "+", "github", "user", "id", ")", ".", "connection", "timeout", "(", "num", ")", ".", "timeout", "(", "num", ")", ".", "header", "(", "str", ",", "solos", ".", "user", "_", "agent", ")", ".", "send", "(", ")", ";", "if", "(", "http", "servlet", "response", ".", "sc", "_", "ok", "!", "=", "res", ".", "status", "code", "(", ")", ")", "{", "return", "null", ";", "}", "res", ".", "charset", "(", "str", ")", ";", "final", "jsonobject", "result", "=", "new", "jsonobject", "(", "res", ".", "body", "text", "(", ")", ")", ";", "if", "(", "num", "!", "=", "result", ".", "opt", "int", "(", "keys", ".", "status", "_", "code", ")", ")", "{", "return", "collections", ".", "empty", "list", "(", ")", ";", "}", "final", "jsonobject", "data", "=", "result", ".", "opt", "jsonobject", "(", "common", ".", "data", ")", ";", "final", "jsonarray", "repos", "=", "data", ".", "opt", "jsonarray", "(", "str", ")", ";", "return", "collection", "utils", ".", "json", "array", "to", "list", "(", "repos", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", ",", "e", ")", ";", "return", "collections", ".", "empty", "list", "(", ")", ";", "}", "}"], "new_code": "public static jsonarray get git hub repos ( final string github user id ) { try { final http response res = http request . get ( str + github user id ) . connection timeout ( num ) . timeout ( num ) . header ( str , solos . user _ agent ) . send ( ) ; if ( http servlet response . sc _ ok ! = res . status code ( ) ) { return null ; } res . charset ( str ) ; final jsonobject result = new jsonobject ( res . body text ( ) ) ; if ( num ! = result . opt int ( keys . status _ code ) ) { return null ; } final jsonobject data = result . opt jsonobject ( common . data ) ; final jsonarray ret = data . opt jsonarray ( str ) ; return ret ; } catch ( final exception e ) { logger . log ( level . error , str , e ) ; return null ; } }", "new_code_tokens": ["public", "static", "jsonarray", "get", "git", "hub", "repos", "(", "final", "string", "github", "user", "id", ")", "{", "try", "{", "final", "http", "response", "res", "=", "http", "request", ".", "get", "(", "str", "+", "github", "user", "id", ")", ".", "connection", "timeout", "(", "num", ")", ".", "timeout", "(", "num", ")", ".", "header", "(", "str", ",", "solos", ".", "user", "_", "agent", ")", ".", "send", "(", ")", ";", "if", "(", "http", "servlet", "response", ".", "sc", "_", "ok", "!", "=", "res", ".", "status", "code", "(", ")", ")", "{", "return", "null", ";", "}", "res", ".", "charset", "(", "str", ")", ";", "final", "jsonobject", "result", "=", "new", "jsonobject", "(", "res", ".", "body", "text", "(", ")", ")", ";", "if", "(", "num", "!", "=", "result", ".", "opt", "int", "(", "keys", ".", "status", "_", "code", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "data", "=", "result", ".", "opt", "jsonobject", "(", "common", ".", "data", ")", ";", "final", "jsonarray", "ret", "=", "data", ".", "opt", "jsonarray", "(", "str", ")", ";", "return", "ret", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", ",", "e", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> list < jsonobject > <REPLACE_NEW> jsonarray <REPLACE_END> <KEEP> get git hub repos ( final string github user id ) { try { final http response res = http request . get ( str + github user id ) . connection timeout ( num ) . timeout ( num ) . header ( str , solos . user _ agent ) . send ( ) ; if ( http servlet response . sc _ ok ! = res . status code ( ) ) { return null ; } res . charset ( str ) ; final jsonobject result = new jsonobject ( res . body text ( ) ) ; if ( num ! = result . opt int ( keys . status _ code ) ) { return <KEEP_END> <REPLACE_OLD> collections . empty list ( ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } final jsonobject data = result . opt jsonobject ( common . data ) ; final jsonarray <KEEP_END> <REPLACE_OLD> repos <REPLACE_NEW> ret <REPLACE_END> <KEEP> = data . opt jsonarray ( str ) ; return <KEEP_END> <REPLACE_OLD> collection utils . json array to list ( repos ) <REPLACE_NEW> ret <REPLACE_END> <KEEP> ; } catch ( final exception e ) { logger . log ( level . error , str , e ) ; return <KEEP_END> <REPLACE_OLD> collections . empty list ( ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "jsonobject", ">", "<REPLACE_NEW>", "jsonarray", "<REPLACE_END>", "<KEEP>", "get", "git", "hub", "repos", "(", "final", "string", "github", "user", "id", ")", "{", "try", "{", "final", "http", "response", "res", "=", "http", "request", ".", "get", "(", "str", "+", "github", "user", "id", ")", ".", "connection", "timeout", "(", "num", ")", ".", "timeout", "(", "num", ")", ".", "header", "(", "str", ",", "solos", ".", "user", "_", "agent", ")", ".", "send", "(", ")", ";", "if", "(", "http", "servlet", "response", ".", "sc", "_", "ok", "!", "=", "res", ".", "status", "code", "(", ")", ")", "{", "return", "null", ";", "}", "res", ".", "charset", "(", "str", ")", ";", "final", "jsonobject", "result", "=", "new", "jsonobject", "(", "res", ".", "body", "text", "(", ")", ")", ";", "if", "(", "num", "!", "=", "result", ".", "opt", "int", "(", "keys", ".", "status", "_", "code", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", ".", "empty", "list", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "final", "jsonobject", "data", "=", "result", ".", "opt", "jsonobject", "(", "common", ".", "data", ")", ";", "final", "jsonarray", "<KEEP_END>", "<REPLACE_OLD>", "repos", "<REPLACE_NEW>", "ret", "<REPLACE_END>", "<KEEP>", "=", "data", ".", "opt", "jsonarray", "(", "str", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "collection", "utils", ".", "json", "array", "to", "list", "(", "repos", ")", "<REPLACE_NEW>", "ret", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", ",", "e", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", ".", "empty", "list", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an empty list <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "empty", "list", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "jsonobject", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "jsonarray", "<KEEP>", "get", "<KEEP>", "git", "<KEEP>", "hub", "<KEEP>", "repos", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "github", "<KEEP>", "user", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "res", "<KEEP>", "=", "<KEEP>", "http", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "github", "<KEEP>", "user", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "connection", "<KEEP>", "timeout", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "timeout", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "solos", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "agent", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "send", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "sc", "<KEEP>", "_", "<KEEP>", "ok", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "charset", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "body", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "_", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "common", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "jsonarray", "<REPLACE_OLD>", "repos", "<REPLACE_NEW>", "ret", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "jsonarray", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "repos", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "ret", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9897891811489579, "using": 2, "keep": 1}
{"id": "apache_manifoldcf-integration-solr-4.x-31-3773", "old_comment": "a bytes ref instance for the given ord", "old_comment_tokens": ["a", "bytes", "ref", "instance", "for", "the", "given", "ord"], "new_comment": "the given bytes ref instance populated with the bytes for the given ord", "new_comment_tokens": ["the", "given", "bytes", "ref", "instance", "populated", "with", "the", "bytes", "for", "the", "given", "ord"], "old_code": "public bytes ref get ( int ord ) { assert bytes start ! = null : str ; assert ord < bytes start . length : str + bytes start . length ; return pool . set bytes ref ( scratch1 , bytes start [ ord ] ) ; }", "old_code_tokens": ["public", "bytes", "ref", "get", "(", "int", "ord", ")", "{", "assert", "bytes", "start", "!", "=", "null", ":", "str", ";", "assert", "ord", "<", "bytes", "start", ".", "length", ":", "str", "+", "bytes", "start", ".", "length", ";", "return", "pool", ".", "set", "bytes", "ref", "(", "scratch1", ",", "bytes", "start", "[", "ord", "]", ")", ";", "}"], "new_code": "public bytes ref get ( int ord , bytes ref ref ) { assert bytes start ! = null : str ; assert ord < bytes start . length : str + bytes start . length ; return pool . set bytes ref ( ref , bytes start [ ord ] ) ; }", "new_code_tokens": ["public", "bytes", "ref", "get", "(", "int", "ord", ",", "bytes", "ref", "ref", ")", "{", "assert", "bytes", "start", "!", "=", "null", ":", "str", ";", "assert", "ord", "<", "bytes", "start", ".", "length", ":", "str", "+", "bytes", "start", ".", "length", ";", "return", "pool", ".", "set", "bytes", "ref", "(", "ref", ",", "bytes", "start", "[", "ord", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public bytes ref get ( int ord <KEEP_END> <INSERT> , bytes ref ref <INSERT_END> <KEEP> ) { assert bytes start ! = null : str ; assert ord < bytes start . length : str + bytes start . length ; return pool . set bytes ref ( <KEEP_END> <REPLACE_OLD> scratch1 <REPLACE_NEW> ref <REPLACE_END> <KEEP> , bytes start [ ord ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "bytes", "ref", "get", "(", "int", "ord", "<KEEP_END>", "<INSERT>", ",", "bytes", "ref", "ref", "<INSERT_END>", "<KEEP>", ")", "{", "assert", "bytes", "start", "!", "=", "null", ":", "str", ";", "assert", "ord", "<", "bytes", "start", ".", "length", ":", "str", "+", "bytes", "start", ".", "length", ";", "return", "pool", ".", "set", "bytes", "ref", "(", "<KEEP_END>", "<REPLACE_OLD>", "scratch1", "<REPLACE_NEW>", "ref", "<REPLACE_END>", "<KEEP>", ",", "bytes", "start", "[", "ord", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a <REPLACE_NEW> the given <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> instance <INSERT_NEW_KEEP_BEFORE> instance populated with the bytes <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "<REPLACE_NEW>", "the", "given", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "instance", "<INSERT_NEW_KEEP_BEFORE>", "instance", "populated", "with", "the", "bytes", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "bytes", "<KEEP>", "ref", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "ord", "<INSERT>", ",", "<INSERT>", "bytes", "<INSERT>", "ref", "<INSERT>", "ref", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "assert", "<KEEP>", "bytes", "<KEEP>", "start", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "assert", "<KEEP>", "ord", "<KEEP>", "<", "<KEEP>", "bytes", "<KEEP>", "start", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "bytes", "<KEEP>", "start", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "pool", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "bytes", "<KEEP>", "ref", "<KEEP>", "(", "<REPLACE_OLD>", "scratch1", "<REPLACE_NEW>", "ref", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", "start", "<KEEP>", "[", "<KEEP>", "ord", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8795437373002721, "using": 0, "keep": 1}
{"id": "apache_wss4j-39-5673", "old_comment": "returns a x509 certificate", "old_comment_tokens": ["returns", "a", "x509", "certificate"], "new_comment": "an x509 certificate", "new_comment_tokens": ["an", "x509", "certificate"], "old_code": "public x509 certificate load certificate ( input stream in ) throws wssecurity exception { x509 certificate cert = null ; try { cert = ( x509 certificate ) get certificate factory ( ) . generate certificate ( in ) ; } catch ( certificate exception e ) { throw new wssecurity exception ( wssecurity exception . security _ token _ unavailable , str , null , e ) ; } return cert ; }", "old_code_tokens": ["public", "x509", "certificate", "load", "certificate", "(", "input", "stream", "in", ")", "throws", "wssecurity", "exception", "{", "x509", "certificate", "cert", "=", "null", ";", "try", "{", "cert", "=", "(", "x509", "certificate", ")", "get", "certificate", "factory", "(", ")", ".", "generate", "certificate", "(", "in", ")", ";", "}", "catch", "(", "certificate", "exception", "e", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "security", "_", "token", "_", "unavailable", ",", "str", ",", "null", ",", "e", ")", ";", "}", "return", "cert", ";", "}"], "new_code": "public x509 certificate load certificate ( input stream in ) throws wssecurity exception { try { certificate factory cert factory = get certificate factory ( ) ; return ( x509 certificate ) cert factory . generate certificate ( in ) ; } catch ( certificate exception e ) { throw new wssecurity exception ( wssecurity exception . security _ token _ unavailable , str , null , e ) ; } }", "new_code_tokens": ["public", "x509", "certificate", "load", "certificate", "(", "input", "stream", "in", ")", "throws", "wssecurity", "exception", "{", "try", "{", "certificate", "factory", "cert", "factory", "=", "get", "certificate", "factory", "(", ")", ";", "return", "(", "x509", "certificate", ")", "cert", "factory", ".", "generate", "certificate", "(", "in", ")", ";", "}", "catch", "(", "certificate", "exception", "e", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "security", "_", "token", "_", "unavailable", ",", "str", ",", "null", ",", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public x509 certificate load certificate ( input stream in ) throws wssecurity exception { <KEEP_END> <DELETE> x509 certificate cert = null ; <DELETE_END> <KEEP> try { <KEEP_END> <INSERT> certificate factory <INSERT_END> <KEEP> cert <KEEP_END> <INSERT> factory <INSERT_END> <KEEP> = <KEEP_END> <DELETE> ( x509 certificate ) <DELETE_END> <KEEP> get certificate factory ( ) <KEEP_END> <INSERT> ; return ( x509 certificate ) cert factory <INSERT_END> <KEEP> . generate certificate ( in ) ; } catch ( certificate exception e ) { throw new wssecurity exception ( wssecurity exception . security _ token _ unavailable , str , null , e ) ; } <KEEP_END> <DELETE> return cert ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "x509", "certificate", "load", "certificate", "(", "input", "stream", "in", ")", "throws", "wssecurity", "exception", "{", "<KEEP_END>", "<DELETE>", "x509", "certificate", "cert", "=", "null", ";", "<DELETE_END>", "<KEEP>", "try", "{", "<KEEP_END>", "<INSERT>", "certificate", "factory", "<INSERT_END>", "<KEEP>", "cert", "<KEEP_END>", "<INSERT>", "factory", "<INSERT_END>", "<KEEP>", "=", "<KEEP_END>", "<DELETE>", "(", "x509", "certificate", ")", "<DELETE_END>", "<KEEP>", "get", "certificate", "factory", "(", ")", "<KEEP_END>", "<INSERT>", ";", "return", "(", "x509", "certificate", ")", "cert", "factory", "<INSERT_END>", "<KEEP>", ".", "generate", "certificate", "(", "in", ")", ";", "}", "catch", "(", "certificate", "exception", "e", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "security", "_", "token", "_", "unavailable", ",", "str", ",", "null", ",", "e", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "cert", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> returns a <REPLACE_NEW> an <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "returns", "a", "<REPLACE_NEW>", "an", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "x509", "<KEEP>", "certificate", "<KEEP>", "load", "<KEEP>", "certificate", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", "{", "<DELETE>", "x509", "<DELETE>", "certificate", "<DELETE>", "cert", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "try", "<KEEP>", "{", "<INSERT>", "certificate", "<INSERT>", "factory", "<KEEP>", "cert", "<INSERT>", "factory", "<KEEP>", "=", "<DELETE>", "(", "<DELETE>", "x509", "<DELETE>", "certificate", "<DELETE>", ")", "<KEEP>", "get", "<KEEP>", "certificate", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "(", "<INSERT>", "x509", "<INSERT>", "certificate", "<INSERT>", ")", "<INSERT>", "cert", "<INSERT>", "factory", "<KEEP>", ".", "<KEEP>", "generate", "<KEEP>", "certificate", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "certificate", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "security", "<KEEP>", "_", "<KEEP>", "token", "<KEEP>", "_", "<KEEP>", "unavailable", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "cert", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8533808065760992, "using": 2, "keep": 1}
{"id": "axelson_ICS606-Robocode-0-5658", "old_comment": "enemy bot with lowest energy", "old_comment_tokens": ["enemy", "bot", "with", "lowest", "energy"], "new_comment": "enemy bot with lowest energy , or null if no known enemies", "new_comment_tokens": ["enemy", "bot", "with", "lowest", "energy", ",", "or", "null", "if", "no", "known", "enemies"], "old_code": "public enemy bot pick by lowest energy ( ) { list < enemy bot > list = new array list < enemy bot > ( _ enemy table . values ( ) ) ; collections . sort ( list ) ; for ( enemy bot enemy : list ) { system . out . println ( str + enemy . get energy ( ) ) ; } system . out . println ( ) ; return null ; }", "old_code_tokens": ["public", "enemy", "bot", "pick", "by", "lowest", "energy", "(", ")", "{", "list", "<", "enemy", "bot", ">", "list", "=", "new", "array", "list", "<", "enemy", "bot", ">", "(", "_", "enemy", "table", ".", "values", "(", ")", ")", ";", "collections", ".", "sort", "(", "list", ")", ";", "for", "(", "enemy", "bot", "enemy", ":", "list", ")", "{", "system", ".", "out", ".", "println", "(", "str", "+", "enemy", ".", "get", "energy", "(", ")", ")", ";", "}", "system", ".", "out", ".", "println", "(", ")", ";", "return", "null", ";", "}"], "new_code": "public enemy bot pick by lowest energy ( ) { list < enemy bot > enemies = new array list < enemy bot > ( _ enemy table . values ( ) ) ; collections . sort ( enemies ) ; for ( enemy bot enemy : enemies ) { if ( _ debug > = num ) system . out . println ( str + enemy . get name ( ) + str + enemy . get energy ( ) ) ; } if ( enemies . size ( ) > num ) { return enemies . get ( num ) ; } else { return null ; } }", "new_code_tokens": ["public", "enemy", "bot", "pick", "by", "lowest", "energy", "(", ")", "{", "list", "<", "enemy", "bot", ">", "enemies", "=", "new", "array", "list", "<", "enemy", "bot", ">", "(", "_", "enemy", "table", ".", "values", "(", ")", ")", ";", "collections", ".", "sort", "(", "enemies", ")", ";", "for", "(", "enemy", "bot", "enemy", ":", "enemies", ")", "{", "if", "(", "_", "debug", ">", "=", "num", ")", "system", ".", "out", ".", "println", "(", "str", "+", "enemy", ".", "get", "name", "(", ")", "+", "str", "+", "enemy", ".", "get", "energy", "(", ")", ")", ";", "}", "if", "(", "enemies", ".", "size", "(", ")", ">", "num", ")", "{", "return", "enemies", ".", "get", "(", "num", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public enemy bot pick by lowest energy ( ) { list < enemy bot > <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> enemies <REPLACE_END> <KEEP> = new array list < enemy bot > ( _ enemy table . values ( ) ) ; collections . sort ( <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> enemies <REPLACE_END> <KEEP> ) ; for ( enemy bot enemy : <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> enemies <REPLACE_END> <KEEP> ) { <KEEP_END> <INSERT> if ( _ debug > = num ) <INSERT_END> <KEEP> system . out . println ( str + enemy . get <KEEP_END> <INSERT> name ( ) + str + enemy . get <INSERT_END> <KEEP> energy ( ) ) ; } <KEEP_END> <REPLACE_OLD> system <REPLACE_NEW> if ( enemies <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> out . println <REPLACE_NEW> size <REPLACE_END> <KEEP> ( ) <KEEP_END> <INSERT> > num ) { return enemies . get ( num ) <INSERT_END> <KEEP> ; <KEEP_END> <INSERT> } else { <INSERT_END> <KEEP> return null ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "enemy", "bot", "pick", "by", "lowest", "energy", "(", ")", "{", "list", "<", "enemy", "bot", ">", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "enemies", "<REPLACE_END>", "<KEEP>", "=", "new", "array", "list", "<", "enemy", "bot", ">", "(", "_", "enemy", "table", ".", "values", "(", ")", ")", ";", "collections", ".", "sort", "(", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "enemies", "<REPLACE_END>", "<KEEP>", ")", ";", "for", "(", "enemy", "bot", "enemy", ":", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "enemies", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "_", "debug", ">", "=", "num", ")", "<INSERT_END>", "<KEEP>", "system", ".", "out", ".", "println", "(", "str", "+", "enemy", ".", "get", "<KEEP_END>", "<INSERT>", "name", "(", ")", "+", "str", "+", "enemy", ".", "get", "<INSERT_END>", "<KEEP>", "energy", "(", ")", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "system", "<REPLACE_NEW>", "if", "(", "enemies", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "out", ".", "println", "<REPLACE_NEW>", "size", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<INSERT>", ">", "num", ")", "{", "return", "enemies", ".", "get", "(", "num", ")", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "else", "{", "<INSERT_END>", "<KEEP>", "return", "null", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> energy <INSERT_NEW_KEEP_BEFORE> energy , or null if no known enemies <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "energy", "<INSERT_NEW_KEEP_BEFORE>", "energy", ",", "or", "null", "if", "no", "known", "enemies", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "enemy", "<KEEP>", "bot", "<KEEP>", "pick", "<KEEP>", "by", "<KEEP>", "lowest", "<KEEP>", "energy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "enemy", "<KEEP>", "bot", "<KEEP>", ">", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "enemies", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "enemy", "<KEEP>", "bot", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "enemy", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "sort", "<KEEP>", "(", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "enemies", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "enemy", "<KEEP>", "bot", "<KEEP>", "enemy", "<KEEP>", ":", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "enemies", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "_", "<INSERT>", "debug", "<INSERT>", ">", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ")", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "out", "<KEEP>", ".", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "enemy", "<KEEP>", ".", "<KEEP>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "enemy", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "energy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "system", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "enemies", "<KEEP>", ".", "<REPLACE_OLD>", "out", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "println", "<REPLACE_NEW>", "size", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ">", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "enemies", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "num", "<INSERT>", ")", "<KEEP>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.823360165290403, "using": 2, "keep": 1}
{"id": "networknt_light-4j-1-2861", "old_comment": "a validation report containing validation errors", "old_comment_tokens": ["a", "validation", "report", "containing", "validation", "errors"], "new_comment": "a status containing validation error", "new_comment_tokens": ["a", "status", "containing", "validation", "error"], "old_code": "public validation report validate response ( final http server exchange exchange , final swagger operation swagger operation ) { require non null ( exchange , str ) ; require non null ( swagger operation , str ) ; io . swagger . models . response swagger response = swagger operation . get operation ( ) . get responses ( ) . get ( integer . to string ( exchange . get status code ( ) ) ) ; if ( swagger response = = null ) { swagger response = swagger operation . get operation ( ) . get responses ( ) . get ( str ) ; } final mutable validation report validation report = new mutable validation report ( ) ; if ( swagger response = = null ) { return validation report . add ( messages . get ( str , exchange . get status code ( ) , swagger operation . get path string ( ) . original ( ) ) ) ; } if ( swagger response . get schema ( ) = = null ) { return validation report ; } string body = exchange . get output stream ( ) . to string ( ) ; if ( body = = null | | body . length ( ) = = num ) { return validation report . add ( messages . get ( str , swagger operation . get method ( ) , swagger operation . get path string ( ) . original ( ) ) ) ; } return validation report . merge ( schema validator . validate ( body , swagger response . get schema ( ) ) ) ; }", "old_code_tokens": ["public", "validation", "report", "validate", "response", "(", "final", "http", "server", "exchange", "exchange", ",", "final", "swagger", "operation", "swagger", "operation", ")", "{", "require", "non", "null", "(", "exchange", ",", "str", ")", ";", "require", "non", "null", "(", "swagger", "operation", ",", "str", ")", ";", "io", ".", "swagger", ".", "models", ".", "response", "swagger", "response", "=", "swagger", "operation", ".", "get", "operation", "(", ")", ".", "get", "responses", "(", ")", ".", "get", "(", "integer", ".", "to", "string", "(", "exchange", ".", "get", "status", "code", "(", ")", ")", ")", ";", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "swagger", "response", "=", "swagger", "operation", ".", "get", "operation", "(", ")", ".", "get", "responses", "(", ")", ".", "get", "(", "str", ")", ";", "}", "final", "mutable", "validation", "report", "validation", "report", "=", "new", "mutable", "validation", "report", "(", ")", ";", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "return", "validation", "report", ".", "add", "(", "messages", ".", "get", "(", "str", ",", "exchange", ".", "get", "status", "code", "(", ")", ",", "swagger", "operation", ".", "get", "path", "string", "(", ")", ".", "original", "(", ")", ")", ")", ";", "}", "if", "(", "swagger", "response", ".", "get", "schema", "(", ")", "=", "=", "null", ")", "{", "return", "validation", "report", ";", "}", "string", "body", "=", "exchange", ".", "get", "output", "stream", "(", ")", ".", "to", "string", "(", ")", ";", "if", "(", "body", "=", "=", "null", "|", "|", "body", ".", "length", "(", ")", "=", "=", "num", ")", "{", "return", "validation", "report", ".", "add", "(", "messages", ".", "get", "(", "str", ",", "swagger", "operation", ".", "get", "method", "(", ")", ",", "swagger", "operation", ".", "get", "path", "string", "(", ")", ".", "original", "(", ")", ")", ")", ";", "}", "return", "validation", "report", ".", "merge", "(", "schema", "validator", ".", "validate", "(", "body", ",", "swagger", "response", ".", "get", "schema", "(", ")", ")", ")", ";", "}"], "new_code": "public status validate response ( final http server exchange exchange , final swagger operation swagger operation ) { require non null ( exchange , str ) ; require non null ( swagger operation , str ) ; io . swagger . models . response swagger response = swagger operation . get operation ( ) . get responses ( ) . get ( integer . to string ( exchange . get status code ( ) ) ) ; if ( swagger response = = null ) { swagger response = swagger operation . get operation ( ) . get responses ( ) . get ( str ) ; } if ( swagger response = = null ) { return new status ( str , exchange . get status code ( ) , swagger operation . get path string ( ) . original ( ) ) ; } if ( swagger response . get schema ( ) = = null ) { return null ; } string body = exchange . get output stream ( ) . to string ( ) ; if ( body = = null | | body . length ( ) = = num ) { return new status ( str , swagger operation . get method ( ) , swagger operation . get path string ( ) . original ( ) ) ; } return schema validator . validate ( body , swagger response . get schema ( ) ) ; }", "new_code_tokens": ["public", "status", "validate", "response", "(", "final", "http", "server", "exchange", "exchange", ",", "final", "swagger", "operation", "swagger", "operation", ")", "{", "require", "non", "null", "(", "exchange", ",", "str", ")", ";", "require", "non", "null", "(", "swagger", "operation", ",", "str", ")", ";", "io", ".", "swagger", ".", "models", ".", "response", "swagger", "response", "=", "swagger", "operation", ".", "get", "operation", "(", ")", ".", "get", "responses", "(", ")", ".", "get", "(", "integer", ".", "to", "string", "(", "exchange", ".", "get", "status", "code", "(", ")", ")", ")", ";", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "swagger", "response", "=", "swagger", "operation", ".", "get", "operation", "(", ")", ".", "get", "responses", "(", ")", ".", "get", "(", "str", ")", ";", "}", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "return", "new", "status", "(", "str", ",", "exchange", ".", "get", "status", "code", "(", ")", ",", "swagger", "operation", ".", "get", "path", "string", "(", ")", ".", "original", "(", ")", ")", ";", "}", "if", "(", "swagger", "response", ".", "get", "schema", "(", ")", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "body", "=", "exchange", ".", "get", "output", "stream", "(", ")", ".", "to", "string", "(", ")", ";", "if", "(", "body", "=", "=", "null", "|", "|", "body", ".", "length", "(", ")", "=", "=", "num", ")", "{", "return", "new", "status", "(", "str", ",", "swagger", "operation", ".", "get", "method", "(", ")", ",", "swagger", "operation", ".", "get", "path", "string", "(", ")", ".", "original", "(", ")", ")", ";", "}", "return", "schema", "validator", ".", "validate", "(", "body", ",", "swagger", "response", ".", "get", "schema", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> validation report <REPLACE_NEW> status <REPLACE_END> <KEEP> validate response ( final http server exchange exchange , final swagger operation swagger operation ) { require non null ( exchange , str ) ; require non null ( swagger operation , str ) ; io . swagger . models . response swagger response = swagger operation . get operation ( ) . get responses ( ) . get ( integer . to string ( exchange . get status code ( ) ) ) ; if ( swagger response = = null ) { swagger response = swagger operation . get operation ( ) . get responses ( ) . get ( str ) ; } <KEEP_END> <REPLACE_OLD> final mutable validation report validation report = <REPLACE_NEW> if ( swagger response = = null ) { return <REPLACE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> mutable validation report ( ) ; if ( swagger response = = null ) { return validation report . add ( messages . get <REPLACE_NEW> status <REPLACE_END> <KEEP> ( str , exchange . get status code ( ) , swagger operation . get path string ( ) . original ( ) ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } if ( swagger response . get schema ( ) = = null ) { return <KEEP_END> <REPLACE_OLD> validation report <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } string body = exchange . get output stream ( ) . to string ( ) ; if ( body = = null | | body . length ( ) = = num ) { return <KEEP_END> <REPLACE_OLD> validation report . add ( messages . get <REPLACE_NEW> new status <REPLACE_END> <KEEP> ( str , swagger operation . get method ( ) , swagger operation . get path string ( ) . original ( ) ) <KEEP_END> <REPLACE_OLD> ) ; } return validation report . merge ( <REPLACE_NEW> ; } return <REPLACE_END> <KEEP> schema validator . validate ( body , swagger response . get schema ( ) ) <KEEP_END> <REPLACE_OLD> ) ; } <REPLACE_NEW> ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<KEEP>", "validate", "response", "(", "final", "http", "server", "exchange", "exchange", ",", "final", "swagger", "operation", "swagger", "operation", ")", "{", "require", "non", "null", "(", "exchange", ",", "str", ")", ";", "require", "non", "null", "(", "swagger", "operation", ",", "str", ")", ";", "io", ".", "swagger", ".", "models", ".", "response", "swagger", "response", "=", "swagger", "operation", ".", "get", "operation", "(", ")", ".", "get", "responses", "(", ")", ".", "get", "(", "integer", ".", "to", "string", "(", "exchange", ".", "get", "status", "code", "(", ")", ")", ")", ";", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "swagger", "response", "=", "swagger", "operation", ".", "get", "operation", "(", ")", ".", "get", "responses", "(", ")", ".", "get", "(", "str", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "final", "mutable", "validation", "report", "validation", "report", "=", "<REPLACE_NEW>", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "return", "<REPLACE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "mutable", "validation", "report", "(", ")", ";", "if", "(", "swagger", "response", "=", "=", "null", ")", "{", "return", "validation", "report", ".", "add", "(", "messages", ".", "get", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<KEEP>", "(", "str", ",", "exchange", ".", "get", "status", "code", "(", ")", ",", "swagger", "operation", ".", "get", "path", "string", "(", ")", ".", "original", "(", ")", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "if", "(", "swagger", "response", ".", "get", "schema", "(", ")", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "string", "body", "=", "exchange", ".", "get", "output", "stream", "(", ")", ".", "to", "string", "(", ")", ";", "if", "(", "body", "=", "=", "null", "|", "|", "body", ".", "length", "(", ")", "=", "=", "num", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "validation", "report", ".", "add", "(", "messages", ".", "get", "<REPLACE_NEW>", "new", "status", "<REPLACE_END>", "<KEEP>", "(", "str", ",", "swagger", "operation", ".", "get", "method", "(", ")", ",", "swagger", "operation", ".", "get", "path", "string", "(", ")", ".", "original", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "}", "return", "validation", "report", ".", "merge", "(", "<REPLACE_NEW>", ";", "}", "return", "<REPLACE_END>", "<KEEP>", "schema", "validator", ".", "validate", "(", "body", ",", "swagger", "response", ".", "get", "schema", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "}", "<REPLACE_NEW>", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> validation report <REPLACE_NEW> status <REPLACE_END> <REPLACE_OLD> errors <REPLACE_NEW> error <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "error", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_NEW>", "status", "<KEEP>", "validate", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "http", "<KEEP>", "server", "<KEEP>", "exchange", "<KEEP>", "exchange", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "require", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "exchange", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "require", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "io", "<KEEP>", ".", "<KEEP>", "swagger", "<KEEP>", ".", "<KEEP>", "models", "<KEEP>", ".", "<KEEP>", "response", "<KEEP>", "swagger", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "operation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "responses", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "exchange", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "swagger", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "swagger", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "operation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "responses", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "mutable", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "swagger", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "mutable", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "swagger", "<REPLACE_OLD>", "response", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "messages", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "status", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "exchange", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "original", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "swagger", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "body", "<KEEP>", "=", "<KEEP>", "exchange", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "body", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "body", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "messages", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "status", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "swagger", "<KEEP>", "operation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "original", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "merge", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<KEEP>", "schema", "<KEEP>", "validator", "<KEEP>", ".", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "body", "<KEEP>", ",", "<KEEP>", "swagger", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8097437428224378, "using": 2, "keep": 1}
{"id": "codehaus_aspectwerkz-22-4218", "old_comment": "boolean true if the method should be filtered away", "old_comment_tokens": ["boolean", "true", "if", "the", "method", "should", "be", "filtered", "away"], "new_comment": "the uuid for the weave model", "new_comment_tokens": ["the", "uuid", "for", "the", "weave", "model"], "old_code": "private boolean method filter ( final class gen cg , final method meta data method meta data ) { if ( method meta data . get name ( ) . equals ( str ) | | method meta data . get name ( ) . equals ( str ) | | method meta data . get name ( ) . starts with ( transformation util . original _ method _ prefix ) | | method meta data . get name ( ) . equals ( transformation util . get _ meta _ data _ method ) | | method meta data . get name ( ) . equals ( transformation util . set _ meta _ data _ method ) | | method meta data . get name ( ) . equals ( transformation util . get _ uuid _ method ) ) { return true ; } else { if ( m _ weave model . has method pointcut ( cg . get class name ( ) , method meta data ) ) { return false ; } if ( m _ weave model . has throws pointcut ( cg . get class name ( ) , method meta data ) ) { return false ; } } return true ; }", "old_code_tokens": ["private", "boolean", "method", "filter", "(", "final", "class", "gen", "cg", ",", "final", "method", "meta", "data", "method", "meta", "data", ")", "{", "if", "(", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "str", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "str", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "transformation", "util", ".", "original", "_", "method", "_", "prefix", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "get", "_", "meta", "_", "data", "_", "method", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "set", "_", "meta", "_", "data", "_", "method", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "get", "_", "uuid", "_", "method", ")", ")", "{", "return", "true", ";", "}", "else", "{", "if", "(", "m", "_", "weave", "model", ".", "has", "method", "pointcut", "(", "cg", ".", "get", "class", "name", "(", ")", ",", "method", "meta", "data", ")", ")", "{", "return", "false", ";", "}", "if", "(", "m", "_", "weave", "model", ".", "has", "throws", "pointcut", "(", "cg", ".", "get", "class", "name", "(", ")", ",", "method", "meta", "data", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}"], "new_code": "private string method filter ( final class gen cg , final method method ) { method meta data method meta data = transformation util . create method meta data ( method ) ; string uuid = null ; if ( method meta data . get name ( ) . equals ( str ) | | method meta data . get name ( ) . equals ( str ) | | method meta data . get name ( ) . starts with ( transformation util . original _ method _ prefix ) | | method meta data . get name ( ) . equals ( transformation util . get _ meta _ data _ method ) | | method meta data . get name ( ) . equals ( transformation util . set _ meta _ data _ method ) | | method meta data . get name ( ) . equals ( transformation util . get _ uuid _ method ) ) { uuid = null ; } else { if ( m _ weave model . has method pointcut ( cg . get class name ( ) , method meta data ) ) { uuid = m _ weave model . get uuid ( ) ; } if ( m _ weave model . has throws pointcut ( cg . get class name ( ) , method meta data ) ) { uuid = m _ weave model . get uuid ( ) ; } } return uuid ; }", "new_code_tokens": ["private", "string", "method", "filter", "(", "final", "class", "gen", "cg", ",", "final", "method", "method", ")", "{", "method", "meta", "data", "method", "meta", "data", "=", "transformation", "util", ".", "create", "method", "meta", "data", "(", "method", ")", ";", "string", "uuid", "=", "null", ";", "if", "(", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "str", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "str", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "transformation", "util", ".", "original", "_", "method", "_", "prefix", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "get", "_", "meta", "_", "data", "_", "method", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "set", "_", "meta", "_", "data", "_", "method", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "get", "_", "uuid", "_", "method", ")", ")", "{", "uuid", "=", "null", ";", "}", "else", "{", "if", "(", "m", "_", "weave", "model", ".", "has", "method", "pointcut", "(", "cg", ".", "get", "class", "name", "(", ")", ",", "method", "meta", "data", ")", ")", "{", "uuid", "=", "m", "_", "weave", "model", ".", "get", "uuid", "(", ")", ";", "}", "if", "(", "m", "_", "weave", "model", ".", "has", "throws", "pointcut", "(", "cg", ".", "get", "class", "name", "(", ")", ",", "method", "meta", "data", ")", ")", "{", "uuid", "=", "m", "_", "weave", "model", ".", "get", "uuid", "(", ")", ";", "}", "}", "return", "uuid", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> string <REPLACE_END> <KEEP> method filter ( final class gen cg , final method <KEEP_END> <REPLACE_OLD> meta data method meta data ) { <REPLACE_NEW> method ) { method meta data method meta data = transformation util . create method meta data ( method ) ; string uuid = null ; <REPLACE_END> <KEEP> if ( method meta data . get name ( ) . equals ( str ) | | method meta data . get name ( ) . equals ( str ) | | method meta data . get name ( ) . starts with ( transformation util . original _ method _ prefix ) | | method meta data . get name ( ) . equals ( transformation util . get _ meta _ data _ method ) | | method meta data . get name ( ) . equals ( transformation util . set _ meta _ data _ method ) | | method meta data . get name ( ) . equals ( transformation util . get _ uuid _ method ) ) { <KEEP_END> <REPLACE_OLD> return true <REPLACE_NEW> uuid = null <REPLACE_END> <KEEP> ; } else { if ( m _ weave model . has method pointcut ( cg . get class name ( ) , method meta data ) ) { <KEEP_END> <REPLACE_OLD> return false <REPLACE_NEW> uuid = m _ weave model . get uuid ( ) <REPLACE_END> <KEEP> ; } if ( m _ weave model . has throws pointcut ( cg . get class name ( ) , method meta data ) ) { <KEEP_END> <INSERT> uuid = m _ weave model . get uuid ( ) ; } } <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> false ; } } return true ; } <REPLACE_NEW> uuid ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "method", "filter", "(", "final", "class", "gen", "cg", ",", "final", "method", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "method", "meta", "data", ")", "{", "<REPLACE_NEW>", "method", ")", "{", "method", "meta", "data", "method", "meta", "data", "=", "transformation", "util", ".", "create", "method", "meta", "data", "(", "method", ")", ";", "string", "uuid", "=", "null", ";", "<REPLACE_END>", "<KEEP>", "if", "(", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "str", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "str", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "transformation", "util", ".", "original", "_", "method", "_", "prefix", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "get", "_", "meta", "_", "data", "_", "method", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "set", "_", "meta", "_", "data", "_", "method", ")", "|", "|", "method", "meta", "data", ".", "get", "name", "(", ")", ".", "equals", "(", "transformation", "util", ".", "get", "_", "uuid", "_", "method", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "true", "<REPLACE_NEW>", "uuid", "=", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "if", "(", "m", "_", "weave", "model", ".", "has", "method", "pointcut", "(", "cg", ".", "get", "class", "name", "(", ")", ",", "method", "meta", "data", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "false", "<REPLACE_NEW>", "uuid", "=", "m", "_", "weave", "model", ".", "get", "uuid", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "if", "(", "m", "_", "weave", "model", ".", "has", "throws", "pointcut", "(", "cg", ".", "get", "class", "name", "(", ")", ",", "method", "meta", "data", ")", ")", "{", "<KEEP_END>", "<INSERT>", "uuid", "=", "m", "_", "weave", "model", ".", "get", "uuid", "(", ")", ";", "}", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", ";", "}", "}", "return", "true", ";", "}", "<REPLACE_NEW>", "uuid", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<DELETE> boolean true if <DELETE_END> <REPLACE_OLD> method should be filtered away <REPLACE_NEW> uuid for the weave model <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "boolean", "true", "if", "<DELETE_END>", "<REPLACE_OLD>", "method", "should", "be", "filtered", "away", "<REPLACE_NEW>", "uuid", "for", "the", "weave", "model", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "string", "<KEEP>", "method", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "class", "<KEEP>", "gen", "<KEEP>", "cg", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "method", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "transformation", "<REPLACE_NEW>", "util", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "uuid", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "transformation", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "original", "<KEEP>", "_", "<KEEP>", "method", "<KEEP>", "_", "<KEEP>", "prefix", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "transformation", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "_", "<KEEP>", "meta", "<KEEP>", "_", "<KEEP>", "data", "<KEEP>", "_", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "transformation", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "_", "<KEEP>", "meta", "<KEEP>", "_", "<KEEP>", "data", "<KEEP>", "_", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "transformation", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "_", "<KEEP>", "uuid", "<KEEP>", "_", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "uuid", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "weave", "<KEEP>", "model", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "method", "<KEEP>", "pointcut", "<KEEP>", "(", "<KEEP>", "cg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "uuid", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "weave", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "uuid", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "weave", "<KEEP>", "model", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "throws", "<KEEP>", "pointcut", "<KEEP>", "(", "<KEEP>", "cg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "uuid", "<INSERT>", "=", "<INSERT>", "m", "<INSERT>", "_", "<INSERT>", "weave", "<INSERT>", "model", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "uuid", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "uuid", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8389983915049872, "using": 2, "keep": 1}
{"id": "mulesoft_servicesource-connector-0-6823", "old_comment": "the contact read", "old_comment_tokens": ["the", "contact", "read"], "new_comment": "an instance of org . mule . module . servicesource . model . contact . contact", "new_comment_tokens": ["an", "instance", "of", "org", ".", "mule", ".", "module", ".", "servicesource", ".", "model", ".", "contact", ".", "contact"], "old_code": "@ processor @ invalidate connection on ( exception = service source connector exception . class ) public core contact read contact ( string object id ) { return ( core contact ) read ( api collections . core contacts , object id ) ; }", "old_code_tokens": ["@", "processor", "@", "invalidate", "connection", "on", "(", "exception", "=", "service", "source", "connector", "exception", ".", "class", ")", "public", "core", "contact", "read", "contact", "(", "string", "object", "id", ")", "{", "return", "(", "core", "contact", ")", "read", "(", "api", "collections", ".", "core", "contacts", ",", "object", "id", ")", ";", "}"], "new_code": "@ processor @ invalidate connection on ( exception = not authenticated exception . class ) public contact read contact ( string object id ) { return ( contact ) read ( service source collection . contacts , object id ) ; }", "new_code_tokens": ["@", "processor", "@", "invalidate", "connection", "on", "(", "exception", "=", "not", "authenticated", "exception", ".", "class", ")", "public", "contact", "read", "contact", "(", "string", "object", "id", ")", "{", "return", "(", "contact", ")", "read", "(", "service", "source", "collection", ".", "contacts", ",", "object", "id", ")", ";", "}"], "span_diff_code": "<KEEP> @ processor @ invalidate connection on ( exception = <KEEP_END> <REPLACE_OLD> service source connector <REPLACE_NEW> not authenticated <REPLACE_END> <KEEP> exception . class ) public <KEEP_END> <DELETE> core <DELETE_END> <KEEP> contact read contact ( string object id ) { return ( <KEEP_END> <DELETE> core <DELETE_END> <KEEP> contact ) read ( <KEEP_END> <REPLACE_OLD> api collections <REPLACE_NEW> service source collection <REPLACE_END> <KEEP> . <KEEP_END> <DELETE> core <DELETE_END> <KEEP> contacts , object id ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "processor", "@", "invalidate", "connection", "on", "(", "exception", "=", "<KEEP_END>", "<REPLACE_OLD>", "service", "source", "connector", "<REPLACE_NEW>", "not", "authenticated", "<REPLACE_END>", "<KEEP>", "exception", ".", "class", ")", "public", "<KEEP_END>", "<DELETE>", "core", "<DELETE_END>", "<KEEP>", "contact", "read", "contact", "(", "string", "object", "id", ")", "{", "return", "(", "<KEEP_END>", "<DELETE>", "core", "<DELETE_END>", "<KEEP>", "contact", ")", "read", "(", "<KEEP_END>", "<REPLACE_OLD>", "api", "collections", "<REPLACE_NEW>", "service", "source", "collection", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<DELETE>", "core", "<DELETE_END>", "<KEEP>", "contacts", ",", "object", "id", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the <REPLACE_NEW> an instance of org . mule . module . servicesource . model . <REPLACE_END> <REPLACE_OLD> read <REPLACE_NEW> . contact <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "<REPLACE_NEW>", "an", "instance", "of", "org", ".", "mule", ".", "module", ".", "servicesource", ".", "model", ".", "<REPLACE_END>", "<REPLACE_OLD>", "read", "<REPLACE_NEW>", ".", "contact", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "processor", "<KEEP>", "@", "<KEEP>", "invalidate", "<KEEP>", "connection", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "=", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "connector", "<REPLACE_NEW>", "not", "<REPLACE_NEW>", "authenticated", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "public", "<DELETE>", "core", "<KEEP>", "contact", "<KEEP>", "read", "<KEEP>", "contact", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "object", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<DELETE>", "core", "<KEEP>", "contact", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "(", "<REPLACE_OLD>", "api", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "collection", "<KEEP>", ".", "<DELETE>", "core", "<KEEP>", "contacts", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8001674729887507, "using": 1, "keep": 1}
{"id": "guoguibing_librec-31-2577", "old_comment": "inner product with a given sparse vector", "old_comment_tokens": ["inner", "product", "with", "a", "given", "sparse", "vector"], "new_comment": "inner product with a given dense vector", "new_comment_tokens": ["inner", "product", "with", "a", "given", "dense", "vector"], "old_code": "public double inner ( sparse vector vec ) { double result = num ; for ( int idx : this . get index ( ) ) { if ( vec . contains ( idx ) ) result + = get ( idx ) * vec . get ( idx ) ; } return result ; }", "old_code_tokens": ["public", "double", "inner", "(", "sparse", "vector", "vec", ")", "{", "double", "result", "=", "num", ";", "for", "(", "int", "idx", ":", "this", ".", "get", "index", "(", ")", ")", "{", "if", "(", "vec", ".", "contains", "(", "idx", ")", ")", "result", "+", "=", "get", "(", "idx", ")", "*", "vec", ".", "get", "(", "idx", ")", ";", "}", "return", "result", ";", "}"], "new_code": "public double inner ( dense vector vec ) { double res = num ; for ( int idx : this . get index ( ) ) res + = get ( idx ) * vec . get ( idx ) ; return res ; }", "new_code_tokens": ["public", "double", "inner", "(", "dense", "vector", "vec", ")", "{", "double", "res", "=", "num", ";", "for", "(", "int", "idx", ":", "this", ".", "get", "index", "(", ")", ")", "res", "+", "=", "get", "(", "idx", ")", "*", "vec", ".", "get", "(", "idx", ")", ";", "return", "res", ";", "}"], "span_diff_code": "<KEEP> public double inner ( <KEEP_END> <REPLACE_OLD> sparse <REPLACE_NEW> dense <REPLACE_END> <KEEP> vector vec ) { double <KEEP_END> <REPLACE_OLD> result <REPLACE_NEW> res <REPLACE_END> <KEEP> = num ; for ( int idx : this . get index ( ) ) <KEEP_END> <REPLACE_OLD> { if ( vec . contains ( idx ) ) result <REPLACE_NEW> res <REPLACE_END> <KEEP> + = get ( idx ) * vec . get ( idx ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> result <REPLACE_NEW> res <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "inner", "(", "<KEEP_END>", "<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<REPLACE_END>", "<KEEP>", "vector", "vec", ")", "{", "double", "<KEEP_END>", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", "=", "num", ";", "for", "(", "int", "idx", ":", "this", ".", "get", "index", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "if", "(", "vec", ".", "contains", "(", "idx", ")", ")", "result", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", "+", "=", "get", "(", "idx", ")", "*", "vec", ".", "get", "(", "idx", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> sparse <REPLACE_NEW> dense <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "inner", "<KEEP>", "(", "<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<KEEP>", "vector", "<KEEP>", "vec", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "double", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "idx", "<KEEP>", ":", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "vec", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "contains", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "idx", "<KEEP>", ")", "<KEEP>", "*", "<KEEP>", "vec", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "idx", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9851843495609308, "using": 2, "keep": 1}
{"id": "apache_pulsar-1-1493", "old_comment": "the service url that is being used", "old_comment_tokens": ["the", "service", "url", "that", "is", "being", "used"], "new_comment": "the service http url that is being used", "new_comment_tokens": ["the", "service", "http", "url", "that", "is", "being", "used"], "old_code": "public url get service url ( ) { return service url ; }", "old_code_tokens": ["public", "url", "get", "service", "url", "(", ")", "{", "return", "service", "url", ";", "}"], "new_code": "public string get service url ( ) { return service url ; }", "new_code_tokens": ["public", "string", "get", "service", "url", "(", ")", "{", "return", "service", "url", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> string <REPLACE_END> <KEEP> get service url ( ) { return service url ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "service", "url", "(", ")", "{", "return", "service", "url", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> service <INSERT_NEW_KEEP_BEFORE> service http <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "service", "<INSERT_NEW_KEEP_BEFORE>", "service", "http", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "service", "<KEEP>", "url", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9158909416540896, "using": 0, "keep": 1}
{"id": "apache_parquet-mr-65-4585", "old_comment": "a bytes input that will read the given bytes from the byte buffers", "old_comment_tokens": ["a", "bytes", "input", "that", "will", "read", "the", "given", "bytes", "from", "the", "byte", "buffers"], "new_comment": "a bytes input that will read the given bytes from the byte buffer", "new_comment_tokens": ["a", "bytes", "input", "that", "will", "read", "the", "given", "bytes", "from", "the", "byte", "buffer"], "old_code": "public static bytes input from ( byte buffer . . . buffers ) { if ( buffers . length = = num ) { return new byte buffer bytes input ( buffers [ num ] ) ; } return new buffer list bytes input ( arrays . as list ( buffers ) ) ; }", "old_code_tokens": ["public", "static", "bytes", "input", "from", "(", "byte", "buffer", ".", ".", ".", "buffers", ")", "{", "if", "(", "buffers", ".", "length", "=", "=", "num", ")", "{", "return", "new", "byte", "buffer", "bytes", "input", "(", "buffers", "[", "num", "]", ")", ";", "}", "return", "new", "buffer", "list", "bytes", "input", "(", "arrays", ".", "as", "list", "(", "buffers", ")", ")", ";", "}"], "new_code": "@ deprecated public static bytes input from ( byte buffer buffer , int offset , int length ) { byte buffer tmp = buffer . duplicate ( ) ; tmp . position ( offset ) ; byte buffer slice = tmp . slice ( ) ; slice . limit ( length ) ; return new byte buffer bytes input ( slice ) ; }", "new_code_tokens": ["@", "deprecated", "public", "static", "bytes", "input", "from", "(", "byte", "buffer", "buffer", ",", "int", "offset", ",", "int", "length", ")", "{", "byte", "buffer", "tmp", "=", "buffer", ".", "duplicate", "(", ")", ";", "tmp", ".", "position", "(", "offset", ")", ";", "byte", "buffer", "slice", "=", "tmp", ".", "slice", "(", ")", ";", "slice", ".", "limit", "(", "length", ")", ";", "return", "new", "byte", "buffer", "bytes", "input", "(", "slice", ")", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public static bytes input from ( byte buffer <KEEP_END> <REPLACE_OLD> . . . buffers <REPLACE_NEW> buffer , int offset , int length <REPLACE_END> <KEEP> ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> byte buffer tmp = buffer . duplicate <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> buffers <REPLACE_NEW> ) ; tmp <REPLACE_END> <KEEP> . <KEEP_END> <INSERT> position ( offset ) ; byte buffer slice = tmp . slice ( ) ; slice . limit ( <INSERT_END> <KEEP> length <KEEP_END> <DELETE> = = num <DELETE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> { <REPLACE_NEW> ; <REPLACE_END> <KEEP> return new byte buffer bytes input ( <KEEP_END> <REPLACE_OLD> buffers [ num ] <REPLACE_NEW> slice <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> return new buffer list bytes input ( arrays . as list ( buffers ) ) ; } <DELETE_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "static", "bytes", "input", "from", "(", "byte", "buffer", "<KEEP_END>", "<REPLACE_OLD>", ".", ".", ".", "buffers", "<REPLACE_NEW>", "buffer", ",", "int", "offset", ",", "int", "length", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "byte", "buffer", "tmp", "=", "buffer", ".", "duplicate", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "buffers", "<REPLACE_NEW>", ")", ";", "tmp", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<INSERT>", "position", "(", "offset", ")", ";", "byte", "buffer", "slice", "=", "tmp", ".", "slice", "(", ")", ";", "slice", ".", "limit", "(", "<INSERT_END>", "<KEEP>", "length", "<KEEP_END>", "<DELETE>", "=", "=", "num", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<REPLACE_END>", "<KEEP>", "return", "new", "byte", "buffer", "bytes", "input", "(", "<KEEP_END>", "<REPLACE_OLD>", "buffers", "[", "num", "]", "<REPLACE_NEW>", "slice", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "new", "buffer", "list", "bytes", "input", "(", "arrays", ".", "as", "list", "(", "buffers", ")", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> buffers <REPLACE_NEW> buffer <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "buffers", "<REPLACE_NEW>", "buffer", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "bytes", "<KEEP>", "input", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "buffer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "buffers", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "offset", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "length", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", "tmp", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "duplicate", "<KEEP>", "(", "<REPLACE_OLD>", "buffers", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "tmp", "<KEEP>", ".", "<INSERT>", "position", "<INSERT>", "(", "<INSERT>", "offset", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "byte", "<INSERT>", "buffer", "<INSERT>", "slice", "<INSERT>", "=", "<INSERT>", "tmp", "<INSERT>", ".", "<INSERT>", "slice", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "slice", "<INSERT>", ".", "<INSERT>", "limit", "<INSERT>", "(", "<KEEP>", "length", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "buffer", "<KEEP>", "bytes", "<KEEP>", "input", "<KEEP>", "(", "<REPLACE_OLD>", "buffers", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "slice", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "buffer", "<DELETE>", "list", "<DELETE>", "bytes", "<DELETE>", "input", "<DELETE>", "(", "<DELETE>", "arrays", "<DELETE>", ".", "<DELETE>", "as", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", "buffers", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.976313471194832, "using": 2, "keep": 1}
{"id": "toddlipcon_hadoop-66-4016", "old_comment": "deserialized byte array output stream", "old_comment_tokens": ["deserialized", "byte", "array", "output", "stream"], "new_comment": "deserialized bytes writable", "new_comment_tokens": ["deserialized", "bytes", "writable"], "old_code": "static byte array output stream from csvbuffer ( string s ) throws ioexception { if ( s . char at ( num ) ! = str ) { throw new ioexception ( str ) ; } byte array output stream stream = new byte array output stream ( ) ; if ( s . length ( ) = = num ) { return stream ; } int blen = ( s . length ( ) - num ) / num ; byte [ ] barr = new byte [ blen ] ; for ( int idx = num ; idx < blen ; idx + + ) { char c1 = s . char at ( num * idx + num ) ; char c2 = s . char at ( num * idx + num ) ; barr [ idx ] = byte . parse byte ( str + c1 + c2 , num ) ; } stream . write ( barr ) ; return stream ; }", "old_code_tokens": ["static", "byte", "array", "output", "stream", "from", "csvbuffer", "(", "string", "s", ")", "throws", "ioexception", "{", "if", "(", "s", ".", "char", "at", "(", "num", ")", "!", "=", "str", ")", "{", "throw", "new", "ioexception", "(", "str", ")", ";", "}", "byte", "array", "output", "stream", "stream", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "if", "(", "s", ".", "length", "(", ")", "=", "=", "num", ")", "{", "return", "stream", ";", "}", "int", "blen", "=", "(", "s", ".", "length", "(", ")", "-", "num", ")", "/", "num", ";", "byte", "[", "]", "barr", "=", "new", "byte", "[", "blen", "]", ";", "for", "(", "int", "idx", "=", "num", ";", "idx", "<", "blen", ";", "idx", "+", "+", ")", "{", "char", "c1", "=", "s", ".", "char", "at", "(", "num", "*", "idx", "+", "num", ")", ";", "char", "c2", "=", "s", ".", "char", "at", "(", "num", "*", "idx", "+", "num", ")", ";", "barr", "[", "idx", "]", "=", "byte", ".", "parse", "byte", "(", "str", "+", "c1", "+", "c2", ",", "num", ")", ";", "}", "stream", ".", "write", "(", "barr", ")", ";", "return", "stream", ";", "}"], "new_code": "static bytes writable from csvbuffer ( string s ) throws ioexception { if ( s . char at ( num ) ! = str ) { throw new ioexception ( str ) ; } if ( s . length ( ) = = num ) { return new bytes writable ( ) ; } int blen = ( s . length ( ) - num ) / num ; byte [ ] barr = new byte [ blen ] ; for ( int idx = num ; idx < blen ; idx + + ) { char c1 = s . char at ( num * idx + num ) ; char c2 = s . char at ( num * idx + num ) ; barr [ idx ] = byte . parse byte ( str + c1 + c2 , num ) ; } return new bytes writable ( barr ) ; }", "new_code_tokens": ["static", "bytes", "writable", "from", "csvbuffer", "(", "string", "s", ")", "throws", "ioexception", "{", "if", "(", "s", ".", "char", "at", "(", "num", ")", "!", "=", "str", ")", "{", "throw", "new", "ioexception", "(", "str", ")", ";", "}", "if", "(", "s", ".", "length", "(", ")", "=", "=", "num", ")", "{", "return", "new", "bytes", "writable", "(", ")", ";", "}", "int", "blen", "=", "(", "s", ".", "length", "(", ")", "-", "num", ")", "/", "num", ";", "byte", "[", "]", "barr", "=", "new", "byte", "[", "blen", "]", ";", "for", "(", "int", "idx", "=", "num", ";", "idx", "<", "blen", ";", "idx", "+", "+", ")", "{", "char", "c1", "=", "s", ".", "char", "at", "(", "num", "*", "idx", "+", "num", ")", ";", "char", "c2", "=", "s", ".", "char", "at", "(", "num", "*", "idx", "+", "num", ")", ";", "barr", "[", "idx", "]", "=", "byte", ".", "parse", "byte", "(", "str", "+", "c1", "+", "c2", ",", "num", ")", ";", "}", "return", "new", "bytes", "writable", "(", "barr", ")", ";", "}"], "span_diff_code": "<KEEP> static <KEEP_END> <REPLACE_OLD> byte array output stream <REPLACE_NEW> bytes writable <REPLACE_END> <KEEP> from csvbuffer ( string s ) throws ioexception { if ( s . char at ( num ) ! = str ) { throw new ioexception ( str ) ; } <KEEP_END> <DELETE> byte array output stream stream = new byte array output stream ( ) ; <DELETE_END> <KEEP> if ( s . length ( ) = = num ) { return <KEEP_END> <REPLACE_OLD> stream <REPLACE_NEW> new bytes writable ( ) <REPLACE_END> <KEEP> ; } int blen = ( s . length ( ) - num ) / num ; byte [ ] barr = new byte [ blen ] ; for ( int idx = num ; idx < blen ; idx + + ) { char c1 = s . char at ( num * idx + num ) ; char c2 = s . char at ( num * idx + num ) ; barr [ idx ] = byte . parse byte ( str + c1 + c2 , num ) ; } <KEEP_END> <REPLACE_OLD> stream . write <REPLACE_NEW> return new bytes writable <REPLACE_END> <KEEP> ( barr ) ; <KEEP_END> <DELETE> return stream ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "<KEEP_END>", "<REPLACE_OLD>", "byte", "array", "output", "stream", "<REPLACE_NEW>", "bytes", "writable", "<REPLACE_END>", "<KEEP>", "from", "csvbuffer", "(", "string", "s", ")", "throws", "ioexception", "{", "if", "(", "s", ".", "char", "at", "(", "num", ")", "!", "=", "str", ")", "{", "throw", "new", "ioexception", "(", "str", ")", ";", "}", "<KEEP_END>", "<DELETE>", "byte", "array", "output", "stream", "stream", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "s", ".", "length", "(", ")", "=", "=", "num", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "new", "bytes", "writable", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "int", "blen", "=", "(", "s", ".", "length", "(", ")", "-", "num", ")", "/", "num", ";", "byte", "[", "]", "barr", "=", "new", "byte", "[", "blen", "]", ";", "for", "(", "int", "idx", "=", "num", ";", "idx", "<", "blen", ";", "idx", "+", "+", ")", "{", "char", "c1", "=", "s", ".", "char", "at", "(", "num", "*", "idx", "+", "num", ")", ";", "char", "c2", "=", "s", ".", "char", "at", "(", "num", "*", "idx", "+", "num", ")", ";", "barr", "[", "idx", "]", "=", "byte", ".", "parse", "byte", "(", "str", "+", "c1", "+", "c2", ",", "num", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "stream", ".", "write", "<REPLACE_NEW>", "return", "new", "bytes", "writable", "<REPLACE_END>", "<KEEP>", "(", "barr", ")", ";", "<KEEP_END>", "<DELETE>", "return", "stream", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> byte array output stream <REPLACE_NEW> bytes writable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "byte", "array", "output", "stream", "<REPLACE_NEW>", "bytes", "writable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", "writable", "<KEEP>", "from", "<KEEP>", "csvbuffer", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "s", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", ".", "<KEEP>", "char", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "ioexception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "byte", "<DELETE>", "array", "<DELETE>", "output", "<DELETE>", "stream", "<DELETE>", "stream", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "byte", "<DELETE>", "array", "<DELETE>", "output", "<DELETE>", "stream", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", "writable", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "int", "<KEEP>", "blen", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "barr", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "blen", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "idx", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "idx", "<KEEP>", "<", "<KEEP>", "blen", "<KEEP>", ";", "<KEEP>", "idx", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "char", "<KEEP>", "c1", "<KEEP>", "=", "<KEEP>", "s", "<KEEP>", ".", "<KEEP>", "char", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "idx", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "char", "<KEEP>", "c2", "<KEEP>", "=", "<KEEP>", "s", "<KEEP>", ".", "<KEEP>", "char", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "idx", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "barr", "<KEEP>", "[", "<KEEP>", "idx", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "byte", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "byte", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "c1", "<KEEP>", "+", "<KEEP>", "c2", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "write", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", "writable", "<KEEP>", "(", "<KEEP>", "barr", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "stream", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9831727650355032, "using": 2, "keep": 1}
{"id": "eugenp_tutorials-0-253", "old_comment": "flux stream containing simulated wind speed data", "old_comment_tokens": ["flux", "stream", "containing", "simulated", "wind", "speed", "data"], "new_comment": "flux stream containing simulated measurement data", "new_comment_tokens": ["flux", "stream", "containing", "simulated", "measurement", "data"], "old_code": "@ override public flux < payload > request stream ( payload payload ) { string stream name = payload . get data utf8 ( ) ; if ( wind _ data _ stream _ name . equals ( stream name ) ) { return flux . from ( wind data publisher ) ; } return flux . error ( new illegal argument exception ( stream name ) ) ; }", "old_code_tokens": ["@", "override", "public", "flux", "<", "payload", ">", "request", "stream", "(", "payload", "payload", ")", "{", "string", "stream", "name", "=", "payload", ".", "get", "data", "utf8", "(", ")", ";", "if", "(", "wind", "_", "data", "_", "stream", "_", "name", ".", "equals", "(", "stream", "name", ")", ")", "{", "return", "flux", ".", "from", "(", "wind", "data", "publisher", ")", ";", "}", "return", "flux", ".", "error", "(", "new", "illegal", "argument", "exception", "(", "stream", "name", ")", ")", ";", "}"], "new_code": "@ override public flux < payload > request stream ( payload payload ) { string stream name = payload . get data utf8 ( ) ; if ( data _ stream _ name . equals ( stream name ) ) { return flux . from ( data publisher ) ; } return flux . error ( new illegal argument exception ( stream name ) ) ; }", "new_code_tokens": ["@", "override", "public", "flux", "<", "payload", ">", "request", "stream", "(", "payload", "payload", ")", "{", "string", "stream", "name", "=", "payload", ".", "get", "data", "utf8", "(", ")", ";", "if", "(", "data", "_", "stream", "_", "name", ".", "equals", "(", "stream", "name", ")", ")", "{", "return", "flux", ".", "from", "(", "data", "publisher", ")", ";", "}", "return", "flux", ".", "error", "(", "new", "illegal", "argument", "exception", "(", "stream", "name", ")", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public flux < payload > request stream ( payload payload ) { string stream name = payload . get data utf8 ( ) ; if ( <KEEP_END> <DELETE> wind _ <DELETE_END> <KEEP> data _ stream _ name . equals ( stream name ) ) { return flux . from ( <KEEP_END> <DELETE> wind <DELETE_END> <KEEP> data publisher ) ; } return flux . error ( new illegal argument exception ( stream name ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "flux", "<", "payload", ">", "request", "stream", "(", "payload", "payload", ")", "{", "string", "stream", "name", "=", "payload", ".", "get", "data", "utf8", "(", ")", ";", "if", "(", "<KEEP_END>", "<DELETE>", "wind", "_", "<DELETE_END>", "<KEEP>", "data", "_", "stream", "_", "name", ".", "equals", "(", "stream", "name", ")", ")", "{", "return", "flux", ".", "from", "(", "<KEEP_END>", "<DELETE>", "wind", "<DELETE_END>", "<KEEP>", "data", "publisher", ")", ";", "}", "return", "flux", ".", "error", "(", "new", "illegal", "argument", "exception", "(", "stream", "name", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> wind speed <REPLACE_NEW> measurement <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "wind", "speed", "<REPLACE_NEW>", "measurement", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "flux", "<KEEP>", "<", "<KEEP>", "payload", "<KEEP>", ">", "<KEEP>", "request", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "payload", "<KEEP>", "payload", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "stream", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "payload", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "utf8", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "wind", "<DELETE>", "_", "<KEEP>", "data", "<KEEP>", "_", "<KEEP>", "stream", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "stream", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "flux", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "(", "<DELETE>", "wind", "<KEEP>", "data", "<KEEP>", "publisher", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "flux", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "stream", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8883425050046285, "using": 1, "keep": 1}
{"id": "linkedin_rest.li-1-3051", "old_comment": "the correct rest li method adapter for the provided resource method", "old_comment_tokens": ["the", "correct", "rest", "li", "method", "adapter", "for", "the", "provided", "resource", "method"], "new_comment": "the correct rest li argument builder for the provided resource method", "new_comment_tokens": ["the", "correct", "rest", "li", "argument", "builder", "for", "the", "provided", "resource", "method"], "old_code": "public static rest li method adapter get method adapter ( final resource method resource method ) { return _ adapters . get ( resource method ) ; }", "old_code_tokens": ["public", "static", "rest", "li", "method", "adapter", "get", "method", "adapter", "(", "final", "resource", "method", "resource", "method", ")", "{", "return", "_", "adapters", ".", "get", "(", "resource", "method", ")", ";", "}"], "new_code": "public static rest li argument builder get method adapter ( final resource method resource method ) { return _ adapters . get ( resource method ) ; }", "new_code_tokens": ["public", "static", "rest", "li", "argument", "builder", "get", "method", "adapter", "(", "final", "resource", "method", "resource", "method", ")", "{", "return", "_", "adapters", ".", "get", "(", "resource", "method", ")", ";", "}"], "span_diff_code": "<KEEP> public static rest li <KEEP_END> <REPLACE_OLD> method adapter <REPLACE_NEW> argument builder <REPLACE_END> <KEEP> get method adapter ( final resource method resource method ) { return _ adapters . get ( resource method ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "rest", "li", "<KEEP_END>", "<REPLACE_OLD>", "method", "adapter", "<REPLACE_NEW>", "argument", "builder", "<REPLACE_END>", "<KEEP>", "get", "method", "adapter", "(", "final", "resource", "method", "resource", "method", ")", "{", "return", "_", "adapters", ".", "get", "(", "resource", "method", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> method adapter <REPLACE_NEW> argument builder <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "method", "adapter", "<REPLACE_NEW>", "argument", "builder", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "rest", "<KEEP>", "li", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "adapter", "<REPLACE_NEW>", "argument", "<REPLACE_NEW>", "builder", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "resource", "<KEEP>", "method", "<KEEP>", "resource", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "adapters", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9666349638960308, "using": 2, "keep": 1}
{"id": "apache_shiro-102-6368", "old_comment": "a new session instance .", "old_comment_tokens": ["a", "new", "session", "instance", "."], "new_comment": "a new simple session simple session instance", "new_comment_tokens": ["a", "new", "simple", "session", "simple", "session", "instance"], "old_code": "public session create session ( string host ) { return new simple session ( host ) ; }", "old_code_tokens": ["public", "session", "create", "session", "(", "string", "host", ")", "{", "return", "new", "simple", "session", "(", "host", ")", ";", "}"], "new_code": "public session create session ( session context init data ) { if ( init data ! = null ) { string host = init data . get host ( ) ; if ( host ! = null ) { return new simple session ( host ) ; } } return new simple session ( ) ; }", "new_code_tokens": ["public", "session", "create", "session", "(", "session", "context", "init", "data", ")", "{", "if", "(", "init", "data", "!", "=", "null", ")", "{", "string", "host", "=", "init", "data", ".", "get", "host", "(", ")", ";", "if", "(", "host", "!", "=", "null", ")", "{", "return", "new", "simple", "session", "(", "host", ")", ";", "}", "}", "return", "new", "simple", "session", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public session create session ( <KEEP_END> <INSERT> session context init data ) { if ( init data ! = null ) { <INSERT_END> <KEEP> string host <KEEP_END> <INSERT> = init data . get host ( ) ; if ( host ! = null <INSERT_END> <KEEP> ) { return new simple session ( host ) ; } <KEEP_END> <INSERT> } return new simple session ( ) ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "session", "create", "session", "(", "<KEEP_END>", "<INSERT>", "session", "context", "init", "data", ")", "{", "if", "(", "init", "data", "!", "=", "null", ")", "{", "<INSERT_END>", "<KEEP>", "string", "host", "<KEEP_END>", "<INSERT>", "=", "init", "data", ".", "get", "host", "(", ")", ";", "if", "(", "host", "!", "=", "null", "<INSERT_END>", "<KEEP>", ")", "{", "return", "new", "simple", "session", "(", "host", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "return", "new", "simple", "session", "(", ")", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> new <INSERT_NEW_KEEP_BEFORE> new simple session simple <INSERT_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "new", "<INSERT_NEW_KEEP_BEFORE>", "new", "simple", "session", "simple", "<INSERT_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "session", "<KEEP>", "create", "<KEEP>", "session", "<KEEP>", "(", "<INSERT>", "session", "<INSERT>", "context", "<INSERT>", "init", "<INSERT>", "data", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "init", "<INSERT>", "data", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "string", "<KEEP>", "host", "<INSERT>", "=", "<INSERT>", "init", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "host", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "host", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "simple", "<KEEP>", "session", "<KEEP>", "(", "<KEEP>", "host", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "simple", "<INSERT>", "session", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}"], "split": "valid", "score": 0.9365926716927758, "using": 2, "keep": 1}
{"id": "google_tink-5-743", "old_comment": "a key with some specific properties .", "old_comment_tokens": ["a", "key", "with", "some", "specific", "properties", "."], "new_comment": "a key with some specified properties .", "new_comment_tokens": ["a", "key", "with", "some", "specified", "properties", "."], "old_code": "public static key create key ( message proto , int key id , key status type status , output prefix type prefix type ) throws exception { return key . new builder ( ) . set key data ( create key data ( proto ) ) . set status ( status ) . set key id ( key id ) . set output prefix type ( prefix type ) . build ( ) ; }", "old_code_tokens": ["public", "static", "key", "create", "key", "(", "message", "proto", ",", "int", "key", "id", ",", "key", "status", "type", "status", ",", "output", "prefix", "type", "prefix", "type", ")", "throws", "exception", "{", "return", "key", ".", "new", "builder", "(", ")", ".", "set", "key", "data", "(", "create", "key", "data", "(", "proto", ")", ")", ".", "set", "status", "(", "status", ")", ".", "set", "key", "id", "(", "key", "id", ")", ".", "set", "output", "prefix", "type", "(", "prefix", "type", ")", ".", "build", "(", ")", ";", "}"], "new_code": "public static key create key ( message proto , int key id , key status type status , output prefix type prefix type ) throws exception { return create key ( proto , key id , status , prefix type , key data . key material type . unknown _ keymaterial ) ; }", "new_code_tokens": ["public", "static", "key", "create", "key", "(", "message", "proto", ",", "int", "key", "id", ",", "key", "status", "type", "status", ",", "output", "prefix", "type", "prefix", "type", ")", "throws", "exception", "{", "return", "create", "key", "(", "proto", ",", "key", "id", ",", "status", ",", "prefix", "type", ",", "key", "data", ".", "key", "material", "type", ".", "unknown", "_", "keymaterial", ")", ";", "}"], "span_diff_code": "<KEEP> public static key create key ( message proto , int key id , key status type status , output prefix type prefix type ) throws exception { return <KEEP_END> <INSERT> create <INSERT_END> <KEEP> key <KEEP_END> <DELETE> . new builder <DELETE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ) . set <REPLACE_NEW> proto , key id , status , prefix type , <REPLACE_END> <KEEP> key data <KEEP_END> <REPLACE_OLD> ( create <REPLACE_NEW> . <REPLACE_END> <KEEP> key <KEEP_END> <REPLACE_OLD> data ( proto ) ) <REPLACE_NEW> material type <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> set status ( status ) . set key id ( key id ) . set output prefix type ( prefix type ) . build ( <REPLACE_NEW> unknown _ keymaterial <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "key", "create", "key", "(", "message", "proto", ",", "int", "key", "id", ",", "key", "status", "type", "status", ",", "output", "prefix", "type", "prefix", "type", ")", "throws", "exception", "{", "return", "<KEEP_END>", "<INSERT>", "create", "<INSERT_END>", "<KEEP>", "key", "<KEEP_END>", "<DELETE>", ".", "new", "builder", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ".", "set", "<REPLACE_NEW>", "proto", ",", "key", "id", ",", "status", ",", "prefix", "type", ",", "<REPLACE_END>", "<KEEP>", "key", "data", "<KEEP_END>", "<REPLACE_OLD>", "(", "create", "<REPLACE_NEW>", ".", "<REPLACE_END>", "<KEEP>", "key", "<KEEP_END>", "<REPLACE_OLD>", "data", "(", "proto", ")", ")", "<REPLACE_NEW>", "material", "type", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "set", "status", "(", "status", ")", ".", "set", "key", "id", "(", "key", "id", ")", ".", "set", "output", "prefix", "type", "(", "prefix", "type", ")", ".", "build", "(", "<REPLACE_NEW>", "unknown", "_", "keymaterial", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> specific <REPLACE_NEW> specified <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "specific", "<REPLACE_NEW>", "specified", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "key", "<KEEP>", "create", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "message", "<KEEP>", "proto", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "key", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", "status", "<KEEP>", "type", "<KEEP>", "status", "<KEEP>", ",", "<KEEP>", "output", "<KEEP>", "prefix", "<KEEP>", "type", "<KEEP>", "prefix", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "create", "<KEEP>", "key", "<DELETE>", ".", "<DELETE>", "new", "<DELETE>", "builder", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "proto", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "prefix", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<KEEP>", "key", "<KEEP>", "data", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "create", "<REPLACE_NEW>", ".", "<KEEP>", "key", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "proto", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "type", "<KEEP>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "prefix", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "prefix", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "unknown", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "keymaterial", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9195849582027051, "using": 0, "keep": 1}
{"id": "jenkinsci_ghprb-plugin-4-3810", "old_comment": "the skip phrase or null if we don ' t find it", "old_comment_tokens": ["the", "skip", "phrase", "or", "null", "if", "we", "don", "'", "t", "find", "it"], "new_comment": "the skip value or null if we don ' t find it", "new_comment_tokens": ["the", "skip", "value", "or", "null", "if", "we", "don", "'", "t", "find", "it"], "old_code": "private string check skip build in string ( string string ) { if ( string utils . is not blank ( string ) ) { string = string . trim ( ) ; set < string > skip build phrases = get skip build phrases ( ) ; skip build phrases . remove ( str ) ; for ( string skip build phrase : skip build phrases ) { skip build phrase = skip build phrase . trim ( ) ; pattern skip build phrase pattern = compile pattern ( skip build phrase ) ; if ( skip build phrase pattern ! = null & & skip build phrase pattern . matcher ( string ) . matches ( ) ) { return skip build phrase ; } } } return null ; }", "old_code_tokens": ["private", "string", "check", "skip", "build", "in", "string", "(", "string", "string", ")", "{", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "string", ")", ")", "{", "string", "=", "string", ".", "trim", "(", ")", ";", "set", "<", "string", ">", "skip", "build", "phrases", "=", "get", "skip", "build", "phrases", "(", ")", ";", "skip", "build", "phrases", ".", "remove", "(", "str", ")", ";", "for", "(", "string", "skip", "build", "phrase", ":", "skip", "build", "phrases", ")", "{", "skip", "build", "phrase", "=", "skip", "build", "phrase", ".", "trim", "(", ")", ";", "pattern", "skip", "build", "phrase", "pattern", "=", "compile", "pattern", "(", "skip", "build", "phrase", ")", ";", "if", "(", "skip", "build", "phrase", "pattern", "!", "=", "null", "&", "&", "skip", "build", "phrase", "pattern", ".", "matcher", "(", "string", ")", ".", "matches", "(", ")", ")", "{", "return", "skip", "build", "phrase", ";", "}", "}", "}", "return", "null", ";", "}"], "new_code": "private string check skip build in string ( map < pattern , string > patterns , string string ) { if ( ! patterns . is empty ( ) & & string utils . is not blank ( string ) ) { for ( map . entry < pattern , string > e : patterns . entry set ( ) ) { if ( e . get key ( ) . matcher ( string ) . matches ( ) ) { return e . get value ( ) ; } } } return null ; }", "new_code_tokens": ["private", "string", "check", "skip", "build", "in", "string", "(", "map", "<", "pattern", ",", "string", ">", "patterns", ",", "string", "string", ")", "{", "if", "(", "!", "patterns", ".", "is", "empty", "(", ")", "&", "&", "string", "utils", ".", "is", "not", "blank", "(", "string", ")", ")", "{", "for", "(", "map", ".", "entry", "<", "pattern", ",", "string", ">", "e", ":", "patterns", ".", "entry", "set", "(", ")", ")", "{", "if", "(", "e", ".", "get", "key", "(", ")", ".", "matcher", "(", "string", ")", ".", "matches", "(", ")", ")", "{", "return", "e", ".", "get", "value", "(", ")", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> private string check skip build in string ( <KEEP_END> <INSERT> map < pattern , string > patterns , <INSERT_END> <KEEP> string string ) { if ( <KEEP_END> <INSERT> ! patterns . is empty ( ) & & <INSERT_END> <KEEP> string utils . is not blank ( string ) ) { <KEEP_END> <INSERT> for ( map . entry < pattern , <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> = string <REPLACE_NEW> > e : patterns <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> trim <REPLACE_NEW> entry set <REPLACE_END> <KEEP> ( ) <KEEP_END> <REPLACE_OLD> ; set < string > skip build phrases = <REPLACE_NEW> ) { if ( e . <REPLACE_END> <KEEP> get <KEEP_END> <REPLACE_OLD> skip build phrases <REPLACE_NEW> key <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> ; skip build phrases . remove ( str ) ; for ( string skip build phrase : skip build phrases ) { skip build phrase = skip build phrase . trim ( ) ; pattern skip build phrase pattern = compile pattern ( skip build phrase ) ; if ( skip build phrase pattern ! = null & & skip build phrase pattern <DELETE_END> <KEEP> . matcher ( string ) . matches ( ) ) { return <KEEP_END> <REPLACE_OLD> skip build phrase <REPLACE_NEW> e . get value ( ) <REPLACE_END> <KEEP> ; } } } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "string", "check", "skip", "build", "in", "string", "(", "<KEEP_END>", "<INSERT>", "map", "<", "pattern", ",", "string", ">", "patterns", ",", "<INSERT_END>", "<KEEP>", "string", "string", ")", "{", "if", "(", "<KEEP_END>", "<INSERT>", "!", "patterns", ".", "is", "empty", "(", ")", "&", "&", "<INSERT_END>", "<KEEP>", "string", "utils", ".", "is", "not", "blank", "(", "string", ")", ")", "{", "<KEEP_END>", "<INSERT>", "for", "(", "map", ".", "entry", "<", "pattern", ",", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "=", "string", "<REPLACE_NEW>", ">", "e", ":", "patterns", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "trim", "<REPLACE_NEW>", "entry", "set", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "set", "<", "string", ">", "skip", "build", "phrases", "=", "<REPLACE_NEW>", ")", "{", "if", "(", "e", ".", "<REPLACE_END>", "<KEEP>", "get", "<KEEP_END>", "<REPLACE_OLD>", "skip", "build", "phrases", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ";", "skip", "build", "phrases", ".", "remove", "(", "str", ")", ";", "for", "(", "string", "skip", "build", "phrase", ":", "skip", "build", "phrases", ")", "{", "skip", "build", "phrase", "=", "skip", "build", "phrase", ".", "trim", "(", ")", ";", "pattern", "skip", "build", "phrase", "pattern", "=", "compile", "pattern", "(", "skip", "build", "phrase", ")", ";", "if", "(", "skip", "build", "phrase", "pattern", "!", "=", "null", "&", "&", "skip", "build", "phrase", "pattern", "<DELETE_END>", "<KEEP>", ".", "matcher", "(", "string", ")", ".", "matches", "(", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "skip", "build", "phrase", "<REPLACE_NEW>", "e", ".", "get", "value", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> phrase <REPLACE_NEW> value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "phrase", "<REPLACE_NEW>", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "string", "<KEEP>", "check", "<KEEP>", "skip", "<KEEP>", "build", "<KEEP>", "in", "<KEEP>", "string", "<KEEP>", "(", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "pattern", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "patterns", "<INSERT>", ",", "<KEEP>", "string", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "!", "<INSERT>", "patterns", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "&", "<INSERT>", "&", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "not", "<KEEP>", "blank", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "map", "<INSERT>", ".", "<INSERT>", "entry", "<INSERT>", "<", "<INSERT>", "pattern", "<INSERT>", ",", "<KEEP>", "string", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "patterns", "<KEEP>", ".", "<REPLACE_OLD>", "trim", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", "set", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "skip", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "phrases", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "skip", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "phrases", "<REPLACE_NEW>", "key", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrases", "<DELETE>", ".", "<DELETE>", "remove", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", ":", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrases", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", "=", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "pattern", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", "pattern", "<DELETE>", "=", "<DELETE>", "compile", "<DELETE>", "pattern", "<DELETE>", "(", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", "pattern", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "skip", "<DELETE>", "build", "<DELETE>", "phrase", "<DELETE>", "pattern", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "skip", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "phrase", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9652210027040521, "using": 2, "keep": 1}
{"id": "mongodb_stitch-android-sdk-5-5349", "old_comment": "a task that can be resolved upon deregistering the device from baa s .", "old_comment_tokens": ["a", "task", "that", "can", "be", "resolved", "upon", "deregistering", "the", "device", "from", "baa", "s", "."], "new_comment": "a task that can be resolved upon deregistering the device from stitch .", "new_comment_tokens": ["a", "task", "that", "can", "be", "resolved", "upon", "deregistering", "the", "device", "from", "stitch", "."], "old_code": "private task < void > deregister with server ( ) { final map < string , object > request = get deregister push device request ( ) ; return get baas client ( ) . execute pipeline ( new pipeline stage ( actions . deregister _ push , request ) ) . continue with ( new continuation < list < object > , void > ( ) { @ override public void then ( @ non null task < list < object > > task ) throws exception { if ( ! task . is successful ( ) ) { throw task . get exception ( ) ; } remove info from configs ( _ info ) ; return null ; } } ) ; }", "old_code_tokens": ["private", "task", "<", "void", ">", "deregister", "with", "server", "(", ")", "{", "final", "map", "<", "string", ",", "object", ">", "request", "=", "get", "deregister", "push", "device", "request", "(", ")", ";", "return", "get", "baas", "client", "(", ")", ".", "execute", "pipeline", "(", "new", "pipeline", "stage", "(", "actions", ".", "deregister", "_", "push", ",", "request", ")", ")", ".", "continue", "with", "(", "new", "continuation", "<", "list", "<", "object", ">", ",", "void", ">", "(", ")", "{", "@", "override", "public", "void", "then", "(", "@", "non", "null", "task", "<", "list", "<", "object", ">", ">", "task", ")", "throws", "exception", "{", "if", "(", "!", "task", ".", "is", "successful", "(", ")", ")", "{", "throw", "task", ".", "get", "exception", "(", ")", ";", "}", "remove", "info", "from", "configs", "(", "_", "info", ")", ";", "return", "null", ";", "}", "}", ")", ";", "}"], "new_code": "private task < void > deregister with server ( ) { final map < string , object > request = get deregister push device request ( ) ; return get stitch client ( ) . execute pipeline ( new pipeline stage ( actions . deregister _ push , request ) ) . continue with ( new continuation < list < object > , void > ( ) { @ override public void then ( @ non null task < list < object > > task ) throws exception { if ( ! task . is successful ( ) ) { throw task . get exception ( ) ; } remove info from configs ( _ info ) ; return null ; } } ) ; }", "new_code_tokens": ["private", "task", "<", "void", ">", "deregister", "with", "server", "(", ")", "{", "final", "map", "<", "string", ",", "object", ">", "request", "=", "get", "deregister", "push", "device", "request", "(", ")", ";", "return", "get", "stitch", "client", "(", ")", ".", "execute", "pipeline", "(", "new", "pipeline", "stage", "(", "actions", ".", "deregister", "_", "push", ",", "request", ")", ")", ".", "continue", "with", "(", "new", "continuation", "<", "list", "<", "object", ">", ",", "void", ">", "(", ")", "{", "@", "override", "public", "void", "then", "(", "@", "non", "null", "task", "<", "list", "<", "object", ">", ">", "task", ")", "throws", "exception", "{", "if", "(", "!", "task", ".", "is", "successful", "(", ")", ")", "{", "throw", "task", ".", "get", "exception", "(", ")", ";", "}", "remove", "info", "from", "configs", "(", "_", "info", ")", ";", "return", "null", ";", "}", "}", ")", ";", "}"], "span_diff_code": "<KEEP> private task < void > deregister with server ( ) { final map < string , object > request = get deregister push device request ( ) ; return get <KEEP_END> <REPLACE_OLD> baas <REPLACE_NEW> stitch <REPLACE_END> <KEEP> client ( ) . execute pipeline ( new pipeline stage ( actions . deregister _ push , request ) ) . continue with ( new continuation < list < object > , void > ( ) { @ override public void then ( @ non null task < list < object > > task ) throws exception { if ( ! task . is successful ( ) ) { throw task . get exception ( ) ; } remove info from configs ( _ info ) ; return null ; } } ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "task", "<", "void", ">", "deregister", "with", "server", "(", ")", "{", "final", "map", "<", "string", ",", "object", ">", "request", "=", "get", "deregister", "push", "device", "request", "(", ")", ";", "return", "get", "<KEEP_END>", "<REPLACE_OLD>", "baas", "<REPLACE_NEW>", "stitch", "<REPLACE_END>", "<KEEP>", "client", "(", ")", ".", "execute", "pipeline", "(", "new", "pipeline", "stage", "(", "actions", ".", "deregister", "_", "push", ",", "request", ")", ")", ".", "continue", "with", "(", "new", "continuation", "<", "list", "<", "object", ">", ",", "void", ">", "(", ")", "{", "@", "override", "public", "void", "then", "(", "@", "non", "null", "task", "<", "list", "<", "object", ">", ">", "task", ")", "throws", "exception", "{", "if", "(", "!", "task", ".", "is", "successful", "(", ")", ")", "{", "throw", "task", ".", "get", "exception", "(", ")", ";", "}", "remove", "info", "from", "configs", "(", "_", "info", ")", ";", "return", "null", ";", "}", "}", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> baa s <REPLACE_NEW> stitch <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "baa", "s", "<REPLACE_NEW>", "stitch", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "task", "<KEEP>", "<", "<KEEP>", "void", "<KEEP>", ">", "<KEEP>", "deregister", "<KEEP>", "with", "<KEEP>", "server", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "deregister", "<KEEP>", "push", "<KEEP>", "device", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "get", "<REPLACE_OLD>", "baas", "<REPLACE_NEW>", "stitch", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "pipeline", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "pipeline", "<KEEP>", "stage", "<KEEP>", "(", "<KEEP>", "actions", "<KEEP>", ".", "<KEEP>", "deregister", "<KEEP>", "_", "<KEEP>", "push", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "continue", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "continuation", "<KEEP>", "<", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ",", "<KEEP>", "void", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "then", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "task", "<KEEP>", "<", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "task", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "task", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "successful", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "task", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "remove", "<KEEP>", "info", "<KEEP>", "from", "<KEEP>", "configs", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9891272585705126, "using": 2, "keep": 1}
{"id": "linux-china_ibatis-idea-plugin-1-7381", "old_comment": "get method list", "old_comment_tokens": ["get", "method", "list"], "new_comment": "get method list without prefix", "new_comment_tokens": ["get", "method", "list", "without", "prefix"], "old_code": "public static list < string > get all getter methods ( psi class psi class , string current method name ) { list < string > method names = new array list < string > ( ) ; psi method [ ] psi methods = null ; string prefix = str ; if ( ! current method name . contains ( str ) ) { psi methods = psi class . get all methods ( ) ; } else { prefix = current method name . substring ( num , current method name . last index of ( str ) ) ; string getter method = str + string util . capitalize ( prefix ) ; psi class psi field class = find getter method return type ( psi class , getter method ) ; if ( psi field class ! = null ) { psi methods = psi field class . get all methods ( ) ; prefix = prefix + str ; } } if ( psi methods ! = null & & psi methods . length > num ) { for ( psi method psi method : psi methods ) { string method name = psi method . get name ( ) ; if ( method name . starts with ( str ) & & psi method . get parameter list ( ) . get parameters count ( ) = = num ) { method names . add ( prefix + string util . decapitalize ( method name . replace first ( str , str ) ) ) ; } if ( method name . starts with ( str ) & & psi method . get parameter list ( ) . get parameters count ( ) = = num ) { method names . add ( prefix + string util . decapitalize ( method name . replace first ( str , str ) ) ) ; } } } method names . remove ( str ) ; return method names ; }", "old_code_tokens": ["public", "static", "list", "<", "string", ">", "get", "all", "getter", "methods", "(", "psi", "class", "psi", "class", ",", "string", "current", "method", "name", ")", "{", "list", "<", "string", ">", "method", "names", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "psi", "method", "[", "]", "psi", "methods", "=", "null", ";", "string", "prefix", "=", "str", ";", "if", "(", "!", "current", "method", "name", ".", "contains", "(", "str", ")", ")", "{", "psi", "methods", "=", "psi", "class", ".", "get", "all", "methods", "(", ")", ";", "}", "else", "{", "prefix", "=", "current", "method", "name", ".", "substring", "(", "num", ",", "current", "method", "name", ".", "last", "index", "of", "(", "str", ")", ")", ";", "string", "getter", "method", "=", "str", "+", "string", "util", ".", "capitalize", "(", "prefix", ")", ";", "psi", "class", "psi", "field", "class", "=", "find", "getter", "method", "return", "type", "(", "psi", "class", ",", "getter", "method", ")", ";", "if", "(", "psi", "field", "class", "!", "=", "null", ")", "{", "psi", "methods", "=", "psi", "field", "class", ".", "get", "all", "methods", "(", ")", ";", "prefix", "=", "prefix", "+", "str", ";", "}", "}", "if", "(", "psi", "methods", "!", "=", "null", "&", "&", "psi", "methods", ".", "length", ">", "num", ")", "{", "for", "(", "psi", "method", "psi", "method", ":", "psi", "methods", ")", "{", "string", "method", "name", "=", "psi", "method", ".", "get", "name", "(", ")", ";", "if", "(", "method", "name", ".", "starts", "with", "(", "str", ")", "&", "&", "psi", "method", ".", "get", "parameter", "list", "(", ")", ".", "get", "parameters", "count", "(", ")", "=", "=", "num", ")", "{", "method", "names", ".", "add", "(", "prefix", "+", "string", "util", ".", "decapitalize", "(", "method", "name", ".", "replace", "first", "(", "str", ",", "str", ")", ")", ")", ";", "}", "if", "(", "method", "name", ".", "starts", "with", "(", "str", ")", "&", "&", "psi", "method", ".", "get", "parameter", "list", "(", ")", ".", "get", "parameters", "count", "(", ")", "=", "=", "num", ")", "{", "method", "names", ".", "add", "(", "prefix", "+", "string", "util", ".", "decapitalize", "(", "method", "name", ".", "replace", "first", "(", "str", ",", "str", ")", ")", ")", ";", "}", "}", "}", "method", "names", ".", "remove", "(", "str", ")", ";", "return", "method", "names", ";", "}"], "new_code": "public static map < string , string > get all getter methods ( psi class psi class , string current method name ) { map < string , string > method names = new hash map < string , string > ( ) ; psi method [ ] psi methods = null ; string prefix = str ; if ( ! current method name . contains ( str ) ) { psi methods = psi class . get all methods ( ) ; } else { prefix = current method name . substring ( num , current method name . last index of ( str ) ) ; string getter method = str + string util . capitalize ( prefix ) ; psi class psi field class = find getter method return type ( psi class , getter method ) ; if ( psi field class ! = null ) { psi methods = psi field class . get all methods ( ) ; prefix = prefix + str ; } } if ( psi methods ! = null & & psi methods . length > num ) { for ( psi method psi method : psi methods ) { string method name = psi method . get name ( ) ; if ( method name . starts with ( str ) & & psi method . get parameter list ( ) . get parameters count ( ) = = num ) { string name = prefix + string util . decapitalize ( method name . replace first ( str , str ) ) ; string type = psi method . get return type ( ) . get presentable text ( ) ; method names . put ( name , type ) ; } if ( method name . starts with ( str ) & & psi method . get parameter list ( ) . get parameters count ( ) = = num ) { string name = prefix + string util . decapitalize ( method name . replace first ( str , str ) ) ; string type = psi method . get return type ( ) . get presentable text ( ) ; method names . put ( name , type ) ; } } } method names . remove ( str ) ; return method names ; }", "new_code_tokens": ["public", "static", "map", "<", "string", ",", "string", ">", "get", "all", "getter", "methods", "(", "psi", "class", "psi", "class", ",", "string", "current", "method", "name", ")", "{", "map", "<", "string", ",", "string", ">", "method", "names", "=", "new", "hash", "map", "<", "string", ",", "string", ">", "(", ")", ";", "psi", "method", "[", "]", "psi", "methods", "=", "null", ";", "string", "prefix", "=", "str", ";", "if", "(", "!", "current", "method", "name", ".", "contains", "(", "str", ")", ")", "{", "psi", "methods", "=", "psi", "class", ".", "get", "all", "methods", "(", ")", ";", "}", "else", "{", "prefix", "=", "current", "method", "name", ".", "substring", "(", "num", ",", "current", "method", "name", ".", "last", "index", "of", "(", "str", ")", ")", ";", "string", "getter", "method", "=", "str", "+", "string", "util", ".", "capitalize", "(", "prefix", ")", ";", "psi", "class", "psi", "field", "class", "=", "find", "getter", "method", "return", "type", "(", "psi", "class", ",", "getter", "method", ")", ";", "if", "(", "psi", "field", "class", "!", "=", "null", ")", "{", "psi", "methods", "=", "psi", "field", "class", ".", "get", "all", "methods", "(", ")", ";", "prefix", "=", "prefix", "+", "str", ";", "}", "}", "if", "(", "psi", "methods", "!", "=", "null", "&", "&", "psi", "methods", ".", "length", ">", "num", ")", "{", "for", "(", "psi", "method", "psi", "method", ":", "psi", "methods", ")", "{", "string", "method", "name", "=", "psi", "method", ".", "get", "name", "(", ")", ";", "if", "(", "method", "name", ".", "starts", "with", "(", "str", ")", "&", "&", "psi", "method", ".", "get", "parameter", "list", "(", ")", ".", "get", "parameters", "count", "(", ")", "=", "=", "num", ")", "{", "string", "name", "=", "prefix", "+", "string", "util", ".", "decapitalize", "(", "method", "name", ".", "replace", "first", "(", "str", ",", "str", ")", ")", ";", "string", "type", "=", "psi", "method", ".", "get", "return", "type", "(", ")", ".", "get", "presentable", "text", "(", ")", ";", "method", "names", ".", "put", "(", "name", ",", "type", ")", ";", "}", "if", "(", "method", "name", ".", "starts", "with", "(", "str", ")", "&", "&", "psi", "method", ".", "get", "parameter", "list", "(", ")", ".", "get", "parameters", "count", "(", ")", "=", "=", "num", ")", "{", "string", "name", "=", "prefix", "+", "string", "util", ".", "decapitalize", "(", "method", "name", ".", "replace", "first", "(", "str", ",", "str", ")", ")", ";", "string", "type", "=", "psi", "method", ".", "get", "return", "type", "(", ")", ".", "get", "presentable", "text", "(", ")", ";", "method", "names", ".", "put", "(", "name", ",", "type", ")", ";", "}", "}", "}", "method", "names", ".", "remove", "(", "str", ")", ";", "return", "method", "names", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> map <REPLACE_END> <KEEP> < <KEEP_END> <INSERT> string , <INSERT_END> <KEEP> string > get all getter methods ( psi class psi class , string current method name ) { <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> map <REPLACE_END> <KEEP> < string <KEEP_END> <INSERT> , string <INSERT_END> <KEEP> > method names = new <KEEP_END> <REPLACE_OLD> array list <REPLACE_NEW> hash map <REPLACE_END> <KEEP> < <KEEP_END> <INSERT> string , <INSERT_END> <KEEP> string > ( ) ; psi method [ ] psi methods = null ; string prefix = str ; if ( ! current method name . contains ( str ) ) { psi methods = psi class . get all methods ( ) ; } else { prefix = current method name . substring ( num , current method name . last index of ( str ) ) ; string getter method = str + string util . capitalize ( prefix ) ; psi class psi field class = find getter method return type ( psi class , getter method ) ; if ( psi field class ! = null ) { psi methods = psi field class . get all methods ( ) ; prefix = prefix + str ; } } if ( psi methods ! = null & & psi methods . length > num ) { for ( psi method psi method : psi methods ) { string method name = psi method . get name ( ) ; if ( method name . starts with ( str ) & & psi method . get parameter list ( ) . get parameters count ( ) = = num ) { <KEEP_END> <REPLACE_OLD> method names . add ( <REPLACE_NEW> string name = <REPLACE_END> <KEEP> prefix + string util . decapitalize ( method name . replace first ( str , str ) ) <KEEP_END> <INSERT> ; string type = psi method . get return type ( ) . get presentable text ( ) ; method names . put ( name , type <INSERT_END> <KEEP> ) ; } if ( method name . starts with ( str ) & & psi method . get parameter list ( ) . get parameters count ( ) = = num ) { <KEEP_END> <REPLACE_OLD> method names . add ( <REPLACE_NEW> string name = <REPLACE_END> <KEEP> prefix + string util . decapitalize ( method name . replace first ( str , str ) ) <KEEP_END> <INSERT> ; string type = psi method . get return type ( ) . get presentable text ( ) ; method names . put ( name , type <INSERT_END> <KEEP> ) ; } } } method names . remove ( str ) ; return method names ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<INSERT>", "string", ",", "<INSERT_END>", "<KEEP>", "string", ">", "get", "all", "getter", "methods", "(", "psi", "class", "psi", "class", ",", "string", "current", "method", "name", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", "<", "string", "<KEEP_END>", "<INSERT>", ",", "string", "<INSERT_END>", "<KEEP>", ">", "method", "names", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "array", "list", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<INSERT>", "string", ",", "<INSERT_END>", "<KEEP>", "string", ">", "(", ")", ";", "psi", "method", "[", "]", "psi", "methods", "=", "null", ";", "string", "prefix", "=", "str", ";", "if", "(", "!", "current", "method", "name", ".", "contains", "(", "str", ")", ")", "{", "psi", "methods", "=", "psi", "class", ".", "get", "all", "methods", "(", ")", ";", "}", "else", "{", "prefix", "=", "current", "method", "name", ".", "substring", "(", "num", ",", "current", "method", "name", ".", "last", "index", "of", "(", "str", ")", ")", ";", "string", "getter", "method", "=", "str", "+", "string", "util", ".", "capitalize", "(", "prefix", ")", ";", "psi", "class", "psi", "field", "class", "=", "find", "getter", "method", "return", "type", "(", "psi", "class", ",", "getter", "method", ")", ";", "if", "(", "psi", "field", "class", "!", "=", "null", ")", "{", "psi", "methods", "=", "psi", "field", "class", ".", "get", "all", "methods", "(", ")", ";", "prefix", "=", "prefix", "+", "str", ";", "}", "}", "if", "(", "psi", "methods", "!", "=", "null", "&", "&", "psi", "methods", ".", "length", ">", "num", ")", "{", "for", "(", "psi", "method", "psi", "method", ":", "psi", "methods", ")", "{", "string", "method", "name", "=", "psi", "method", ".", "get", "name", "(", ")", ";", "if", "(", "method", "name", ".", "starts", "with", "(", "str", ")", "&", "&", "psi", "method", ".", "get", "parameter", "list", "(", ")", ".", "get", "parameters", "count", "(", ")", "=", "=", "num", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "method", "names", ".", "add", "(", "<REPLACE_NEW>", "string", "name", "=", "<REPLACE_END>", "<KEEP>", "prefix", "+", "string", "util", ".", "decapitalize", "(", "method", "name", ".", "replace", "first", "(", "str", ",", "str", ")", ")", "<KEEP_END>", "<INSERT>", ";", "string", "type", "=", "psi", "method", ".", "get", "return", "type", "(", ")", ".", "get", "presentable", "text", "(", ")", ";", "method", "names", ".", "put", "(", "name", ",", "type", "<INSERT_END>", "<KEEP>", ")", ";", "}", "if", "(", "method", "name", ".", "starts", "with", "(", "str", ")", "&", "&", "psi", "method", ".", "get", "parameter", "list", "(", ")", ".", "get", "parameters", "count", "(", ")", "=", "=", "num", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "method", "names", ".", "add", "(", "<REPLACE_NEW>", "string", "name", "=", "<REPLACE_END>", "<KEEP>", "prefix", "+", "string", "util", ".", "decapitalize", "(", "method", "name", ".", "replace", "first", "(", "str", ",", "str", ")", ")", "<KEEP_END>", "<INSERT>", ";", "string", "type", "=", "psi", "method", ".", "get", "return", "type", "(", ")", ".", "get", "presentable", "text", "(", ")", ";", "method", "names", ".", "put", "(", "name", ",", "type", "<INSERT_END>", "<KEEP>", ")", ";", "}", "}", "}", "method", "names", ".", "remove", "(", "str", ")", ";", "return", "method", "names", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> list <INSERT_NEW_KEEP_BEFORE> list without prefix <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "list", "<INSERT_NEW_KEEP_BEFORE>", "list", "without", "prefix", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<KEEP>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "getter", "<KEEP>", "methods", "<KEEP>", "(", "<KEEP>", "psi", "<KEEP>", "class", "<KEEP>", "psi", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "current", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<KEEP>", "<", "<KEEP>", "string", "<INSERT>", ",", "<INSERT>", "string", "<KEEP>", ">", "<KEEP>", "method", "<KEEP>", "names", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "psi", "<KEEP>", "method", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "psi", "<KEEP>", "methods", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "prefix", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "current", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "psi", "<KEEP>", "methods", "<KEEP>", "=", "<KEEP>", "psi", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "methods", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "prefix", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "current", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "last", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "getter", "<KEEP>", "method", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "string", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "capitalize", "<KEEP>", "(", "<KEEP>", "prefix", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "psi", "<KEEP>", "class", "<KEEP>", "psi", "<KEEP>", "field", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "find", "<KEEP>", "getter", "<KEEP>", "method", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "psi", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "getter", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "psi", "<KEEP>", "field", "<KEEP>", "class", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "psi", "<KEEP>", "methods", "<KEEP>", "=", "<KEEP>", "psi", "<KEEP>", "field", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "methods", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "prefix", "<KEEP>", "=", "<KEEP>", "prefix", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "psi", "<KEEP>", "methods", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "psi", "<KEEP>", "methods", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "psi", "<KEEP>", "method", "<KEEP>", "psi", "<KEEP>", "method", "<KEEP>", ":", "<KEEP>", "psi", "<KEEP>", "methods", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "psi", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "psi", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameter", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "names", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<KEEP>", "prefix", "<KEEP>", "+", "<KEEP>", "string", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "decapitalize", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "string", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "psi", "<INSERT>", "method", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "return", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "presentable", "<INSERT>", "text", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "method", "<INSERT>", "names", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "psi", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameter", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "names", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<KEEP>", "prefix", "<KEEP>", "+", "<KEEP>", "string", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "decapitalize", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "string", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "psi", "<INSERT>", "method", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "return", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "presentable", "<INSERT>", "text", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "method", "<INSERT>", "names", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "method", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "method", "<KEEP>", "names", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8712923667653724, "using": 2, "keep": 1}
{"id": "eclipse_tycho-11-6528", "old_comment": "list of compiler error objects", "old_comment_tokens": ["list", "of", "compiler", "error", "objects"], "new_comment": "list of compiler message objects", "new_comment_tokens": ["list", "of", "compiler", "message", "objects"], "old_code": "protected static list < compiler error > parse modern stream ( buffered reader input ) throws ioexception { list < compiler error > errors = new array list < compiler error > ( ) ; string type = null ; string file = null ; int line nr = - num ; string builder message buffer = new string builder ( ) ; for ( string line = input . read line ( ) ; line ! = null ; line = input . read line ( ) ) { matcher matcher = line _ pattern . matcher ( line ) ; if ( matcher . matches ( ) ) { add error if found ( errors , type , file , line nr , message buffer . to string ( ) ) ; matcher . group ( num ) ; type = matcher . group ( num ) ; file = matcher . group ( num ) ; string line number string = matcher . group ( num ) ; if ( line number string ! = null ) { line nr = integer . parse int ( line number string ) ; } else { line nr = - num ; } message buffer = new string builder ( ) ; } else { if ( ! separator . equals ( line ) & & line . trim ( ) . length ( ) > num ) { message buffer . append ( eol ) . append ( line ) ; } } } add error if found ( errors , type , file , line nr , message buffer . to string ( ) ) ; return errors ; }", "old_code_tokens": ["protected", "static", "list", "<", "compiler", "error", ">", "parse", "modern", "stream", "(", "buffered", "reader", "input", ")", "throws", "ioexception", "{", "list", "<", "compiler", "error", ">", "errors", "=", "new", "array", "list", "<", "compiler", "error", ">", "(", ")", ";", "string", "type", "=", "null", ";", "string", "file", "=", "null", ";", "int", "line", "nr", "=", "-", "num", ";", "string", "builder", "message", "buffer", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "string", "line", "=", "input", ".", "read", "line", "(", ")", ";", "line", "!", "=", "null", ";", "line", "=", "input", ".", "read", "line", "(", ")", ")", "{", "matcher", "matcher", "=", "line", "_", "pattern", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "matches", "(", ")", ")", "{", "add", "error", "if", "found", "(", "errors", ",", "type", ",", "file", ",", "line", "nr", ",", "message", "buffer", ".", "to", "string", "(", ")", ")", ";", "matcher", ".", "group", "(", "num", ")", ";", "type", "=", "matcher", ".", "group", "(", "num", ")", ";", "file", "=", "matcher", ".", "group", "(", "num", ")", ";", "string", "line", "number", "string", "=", "matcher", ".", "group", "(", "num", ")", ";", "if", "(", "line", "number", "string", "!", "=", "null", ")", "{", "line", "nr", "=", "integer", ".", "parse", "int", "(", "line", "number", "string", ")", ";", "}", "else", "{", "line", "nr", "=", "-", "num", ";", "}", "message", "buffer", "=", "new", "string", "builder", "(", ")", ";", "}", "else", "{", "if", "(", "!", "separator", ".", "equals", "(", "line", ")", "&", "&", "line", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", ")", "{", "message", "buffer", ".", "append", "(", "eol", ")", ".", "append", "(", "line", ")", ";", "}", "}", "}", "add", "error", "if", "found", "(", "errors", ",", "type", ",", "file", ",", "line", "nr", ",", "message", "buffer", ".", "to", "string", "(", ")", ")", ";", "return", "errors", ";", "}"], "new_code": "protected static list < compiler message > parse modern stream ( buffered reader input ) throws ioexception { list < compiler message > messages = new array list < compiler message > ( ) ; string type = null ; string file = null ; int line nr = - num ; string builder message buffer = new string builder ( ) ; for ( string line = input . read line ( ) ; line ! = null ; line = input . read line ( ) ) { matcher matcher = line _ pattern . matcher ( line ) ; if ( matcher . matches ( ) ) { add message if found ( messages , type , file , line nr , message buffer . to string ( ) ) ; matcher . group ( num ) ; type = matcher . group ( num ) ; file = matcher . group ( num ) ; string line number string = matcher . group ( num ) ; if ( line number string ! = null ) { line nr = integer . parse int ( line number string ) ; } else { line nr = - num ; } message buffer = new string builder ( ) ; } else { if ( ! separator . equals ( line ) & & line . trim ( ) . length ( ) > num ) { message buffer . append ( eol ) . append ( line ) ; } } } add message if found ( messages , type , file , line nr , message buffer . to string ( ) ) ; return messages ; }", "new_code_tokens": ["protected", "static", "list", "<", "compiler", "message", ">", "parse", "modern", "stream", "(", "buffered", "reader", "input", ")", "throws", "ioexception", "{", "list", "<", "compiler", "message", ">", "messages", "=", "new", "array", "list", "<", "compiler", "message", ">", "(", ")", ";", "string", "type", "=", "null", ";", "string", "file", "=", "null", ";", "int", "line", "nr", "=", "-", "num", ";", "string", "builder", "message", "buffer", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "string", "line", "=", "input", ".", "read", "line", "(", ")", ";", "line", "!", "=", "null", ";", "line", "=", "input", ".", "read", "line", "(", ")", ")", "{", "matcher", "matcher", "=", "line", "_", "pattern", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "matches", "(", ")", ")", "{", "add", "message", "if", "found", "(", "messages", ",", "type", ",", "file", ",", "line", "nr", ",", "message", "buffer", ".", "to", "string", "(", ")", ")", ";", "matcher", ".", "group", "(", "num", ")", ";", "type", "=", "matcher", ".", "group", "(", "num", ")", ";", "file", "=", "matcher", ".", "group", "(", "num", ")", ";", "string", "line", "number", "string", "=", "matcher", ".", "group", "(", "num", ")", ";", "if", "(", "line", "number", "string", "!", "=", "null", ")", "{", "line", "nr", "=", "integer", ".", "parse", "int", "(", "line", "number", "string", ")", ";", "}", "else", "{", "line", "nr", "=", "-", "num", ";", "}", "message", "buffer", "=", "new", "string", "builder", "(", ")", ";", "}", "else", "{", "if", "(", "!", "separator", ".", "equals", "(", "line", ")", "&", "&", "line", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", ")", "{", "message", "buffer", ".", "append", "(", "eol", ")", ".", "append", "(", "line", ")", ";", "}", "}", "}", "add", "message", "if", "found", "(", "messages", ",", "type", ",", "file", ",", "line", "nr", ",", "message", "buffer", ".", "to", "string", "(", ")", ")", ";", "return", "messages", ";", "}"], "span_diff_code": "<KEEP> protected static list < compiler <KEEP_END> <REPLACE_OLD> error <REPLACE_NEW> message <REPLACE_END> <KEEP> > parse modern stream ( buffered reader input ) throws ioexception { list < compiler <KEEP_END> <REPLACE_OLD> error > errors <REPLACE_NEW> message > messages <REPLACE_END> <KEEP> = new array list < compiler <KEEP_END> <REPLACE_OLD> error <REPLACE_NEW> message <REPLACE_END> <KEEP> > ( ) ; string type = null ; string file = null ; int line nr = - num ; string builder message buffer = new string builder ( ) ; for ( string line = input . read line ( ) ; line ! = null ; line = input . read line ( ) ) { matcher matcher = line _ pattern . matcher ( line ) ; if ( matcher . matches ( ) ) { add <KEEP_END> <REPLACE_OLD> error <REPLACE_NEW> message <REPLACE_END> <KEEP> if found ( <KEEP_END> <REPLACE_OLD> errors <REPLACE_NEW> messages <REPLACE_END> <KEEP> , type , file , line nr , message buffer . to string ( ) ) ; matcher . group ( num ) ; type = matcher . group ( num ) ; file = matcher . group ( num ) ; string line number string = matcher . group ( num ) ; if ( line number string ! = null ) { line nr = integer . parse int ( line number string ) ; } else { line nr = - num ; } message buffer = new string builder ( ) ; } else { if ( ! separator . equals ( line ) & & line . trim ( ) . length ( ) > num ) { message buffer . append ( eol ) . append ( line ) ; } } } add <KEEP_END> <REPLACE_OLD> error <REPLACE_NEW> message <REPLACE_END> <KEEP> if found ( <KEEP_END> <REPLACE_OLD> errors <REPLACE_NEW> messages <REPLACE_END> <KEEP> , type , file , line nr , message buffer . to string ( ) ) ; return <KEEP_END> <REPLACE_OLD> errors ; } <REPLACE_NEW> messages ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "static", "list", "<", "compiler", "<KEEP_END>", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", ">", "parse", "modern", "stream", "(", "buffered", "reader", "input", ")", "throws", "ioexception", "{", "list", "<", "compiler", "<KEEP_END>", "<REPLACE_OLD>", "error", ">", "errors", "<REPLACE_NEW>", "message", ">", "messages", "<REPLACE_END>", "<KEEP>", "=", "new", "array", "list", "<", "compiler", "<KEEP_END>", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "string", "type", "=", "null", ";", "string", "file", "=", "null", ";", "int", "line", "nr", "=", "-", "num", ";", "string", "builder", "message", "buffer", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "string", "line", "=", "input", ".", "read", "line", "(", ")", ";", "line", "!", "=", "null", ";", "line", "=", "input", ".", "read", "line", "(", ")", ")", "{", "matcher", "matcher", "=", "line", "_", "pattern", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "matches", "(", ")", ")", "{", "add", "<KEEP_END>", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", "if", "found", "(", "<KEEP_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<REPLACE_END>", "<KEEP>", ",", "type", ",", "file", ",", "line", "nr", ",", "message", "buffer", ".", "to", "string", "(", ")", ")", ";", "matcher", ".", "group", "(", "num", ")", ";", "type", "=", "matcher", ".", "group", "(", "num", ")", ";", "file", "=", "matcher", ".", "group", "(", "num", ")", ";", "string", "line", "number", "string", "=", "matcher", ".", "group", "(", "num", ")", ";", "if", "(", "line", "number", "string", "!", "=", "null", ")", "{", "line", "nr", "=", "integer", ".", "parse", "int", "(", "line", "number", "string", ")", ";", "}", "else", "{", "line", "nr", "=", "-", "num", ";", "}", "message", "buffer", "=", "new", "string", "builder", "(", ")", ";", "}", "else", "{", "if", "(", "!", "separator", ".", "equals", "(", "line", ")", "&", "&", "line", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", ")", "{", "message", "buffer", ".", "append", "(", "eol", ")", ".", "append", "(", "line", ")", ";", "}", "}", "}", "add", "<KEEP_END>", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", "if", "found", "(", "<KEEP_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<REPLACE_END>", "<KEEP>", ",", "type", ",", "file", ",", "line", "nr", ",", "message", "buffer", ".", "to", "string", "(", ")", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "errors", ";", "}", "<REPLACE_NEW>", "messages", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> error <REPLACE_NEW> message <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "static", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "compiler", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<KEEP>", ">", "<KEEP>", "parse", "<KEEP>", "modern", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "compiler", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "messages", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "compiler", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "line", "<KEEP>", "nr", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "message", "<KEEP>", "buffer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", "=", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "line", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "line", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "line", "<KEEP>", "=", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "line", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "matcher", "<KEEP>", "matcher", "<KEEP>", "=", "<KEEP>", "line", "<KEEP>", "_", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "add", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<KEEP>", "if", "<KEEP>", "found", "<KEEP>", "(", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "line", "<KEEP>", "nr", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", "number", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", "number", "<KEEP>", "string", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "line", "<KEEP>", "nr", "<KEEP>", "=", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", "number", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "line", "<KEEP>", "nr", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "message", "<KEEP>", "buffer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "separator", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "message", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "eol", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "add", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "message", "<KEEP>", "if", "<KEEP>", "found", "<KEEP>", "(", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "line", "<KEEP>", "nr", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "errors", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "messages", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.9924869423185997, "using": 2, "keep": 1}
{"id": "b3log_solo-6-763", "old_comment": "a list of articles , returns an empty list if not found", "old_comment_tokens": ["a", "list", "of", "articles", ",", "returns", "an", "empty", "list", "if", "not", "found"], "new_comment": "result , returns null if not found", "new_comment_tokens": ["result", ",", "returns", "null", "if", "not", "found"], "old_code": "public list < jsonobject > get articles by tag ( final string tag id , final int current page num , final int page size ) throws service exception { try { jsonobject result = tag article repository . get by tag id ( tag id , current page num , page size ) ; final jsonarray tag article relations = result . get jsonarray ( keys . results ) ; if ( num = = tag article relations . length ( ) ) { return collections . empty list ( ) ; } final set < string > article ids = new hash set < > ( ) ; for ( int i = num ; i < tag article relations . length ( ) ; i + + ) { final jsonobject tag article relation = tag article relations . get jsonobject ( i ) ; final string article id = tag article relation . get string ( article . article + str + keys . object _ id ) ; article ids . add ( article id ) ; } final list < jsonobject > ret = new array list < > ( ) ; final query query = new query ( ) . set filter ( new property filter ( keys . object _ id , filter operator . in , article ids ) ) . set page count ( num ) ; result = article repository . get ( query ) ; final jsonarray articles = result . get jsonarray ( keys . results ) ; for ( int i = num ; i < articles . length ( ) ; i + + ) { final jsonobject article = articles . get jsonobject ( i ) ; if ( ! article . get boolean ( article . article _ is _ published ) ) { continue ; } article . put ( article _ create _ time , article . get long ( article _ created ) ) ; article . put ( article _ t _ create _ date , new date ( article . get long ( article _ created ) ) ) ; article . put ( article . article _ t _ update _ date , new date ( article . opt long ( article _ updated ) ) ) ; ret . add ( article ) ; } return ret ; } catch ( final exception e ) { logger . log ( level . error , str + tag id + str , e ) ; throw new service exception ( e ) ; } }", "old_code_tokens": ["public", "list", "<", "jsonobject", ">", "get", "articles", "by", "tag", "(", "final", "string", "tag", "id", ",", "final", "int", "current", "page", "num", ",", "final", "int", "page", "size", ")", "throws", "service", "exception", "{", "try", "{", "jsonobject", "result", "=", "tag", "article", "repository", ".", "get", "by", "tag", "id", "(", "tag", "id", ",", "current", "page", "num", ",", "page", "size", ")", ";", "final", "jsonarray", "tag", "article", "relations", "=", "result", ".", "get", "jsonarray", "(", "keys", ".", "results", ")", ";", "if", "(", "num", "=", "=", "tag", "article", "relations", ".", "length", "(", ")", ")", "{", "return", "collections", ".", "empty", "list", "(", ")", ";", "}", "final", "set", "<", "string", ">", "article", "ids", "=", "new", "hash", "set", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tag", "article", "relations", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "final", "jsonobject", "tag", "article", "relation", "=", "tag", "article", "relations", ".", "get", "jsonobject", "(", "i", ")", ";", "final", "string", "article", "id", "=", "tag", "article", "relation", ".", "get", "string", "(", "article", ".", "article", "+", "str", "+", "keys", ".", "object", "_", "id", ")", ";", "article", "ids", ".", "add", "(", "article", "id", ")", ";", "}", "final", "list", "<", "jsonobject", ">", "ret", "=", "new", "array", "list", "<", ">", "(", ")", ";", "final", "query", "query", "=", "new", "query", "(", ")", ".", "set", "filter", "(", "new", "property", "filter", "(", "keys", ".", "object", "_", "id", ",", "filter", "operator", ".", "in", ",", "article", "ids", ")", ")", ".", "set", "page", "count", "(", "num", ")", ";", "result", "=", "article", "repository", ".", "get", "(", "query", ")", ";", "final", "jsonarray", "articles", "=", "result", ".", "get", "jsonarray", "(", "keys", ".", "results", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "articles", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "final", "jsonobject", "article", "=", "articles", ".", "get", "jsonobject", "(", "i", ")", ";", "if", "(", "!", "article", ".", "get", "boolean", "(", "article", ".", "article", "_", "is", "_", "published", ")", ")", "{", "continue", ";", "}", "article", ".", "put", "(", "article", "_", "create", "_", "time", ",", "article", ".", "get", "long", "(", "article", "_", "created", ")", ")", ";", "article", ".", "put", "(", "article", "_", "t", "_", "create", "_", "date", ",", "new", "date", "(", "article", ".", "get", "long", "(", "article", "_", "created", ")", ")", ")", ";", "article", ".", "put", "(", "article", ".", "article", "_", "t", "_", "update", "_", "date", ",", "new", "date", "(", "article", ".", "opt", "long", "(", "article", "_", "updated", ")", ")", ")", ";", "ret", ".", "add", "(", "article", ")", ";", "}", "return", "ret", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "tag", "id", "+", "str", ",", "e", ")", ";", "throw", "new", "service", "exception", "(", "e", ")", ";", "}", "}"], "new_code": "public jsonobject get articles by tag ( final string tag id , final int current page num , final int page size ) throws service exception { try { jsonobject result = tag article repository . get by tag id ( tag id , current page num , page size ) ; if ( null = = result ) { return null ; } final jsonarray tag article relations = result . get jsonarray ( keys . results ) ; if ( num = = tag article relations . length ( ) ) { return null ; } final set < string > article ids = new hash set < > ( ) ; for ( int i = num ; i < tag article relations . length ( ) ; i + + ) { final jsonobject tag article relation = tag article relations . get jsonobject ( i ) ; final string article id = tag article relation . get string ( article . article + str + keys . object _ id ) ; article ids . add ( article id ) ; } final list < jsonobject > ret articles = new array list < > ( ) ; final query query = new query ( ) . set filter ( new property filter ( keys . object _ id , filter operator . in , article ids ) ) . set page count ( num ) ; result = article repository . get ( query ) ; final jsonarray articles = result . get jsonarray ( keys . results ) ; for ( int i = num ; i < articles . length ( ) ; i + + ) { final jsonobject article = articles . get jsonobject ( i ) ; if ( ! article . get boolean ( article . article _ is _ published ) ) { continue ; } article . put ( article _ create _ time , article . get long ( article _ created ) ) ; article . put ( article _ t _ create _ date , new date ( article . get long ( article _ created ) ) ) ; article . put ( article . article _ t _ update _ date , new date ( article . opt long ( article _ updated ) ) ) ; ret articles . add ( article ) ; } final jsonobject ret = new jsonobject ( ) ; ret . put ( pagination . pagination , result . opt jsonobject ( pagination . pagination ) ) ; ret . put ( keys . results , ( object ) ret articles ) ; return ret ; } catch ( final exception e ) { logger . log ( level . error , str + tag id + str , e ) ; throw new service exception ( e ) ; } }", "new_code_tokens": ["public", "jsonobject", "get", "articles", "by", "tag", "(", "final", "string", "tag", "id", ",", "final", "int", "current", "page", "num", ",", "final", "int", "page", "size", ")", "throws", "service", "exception", "{", "try", "{", "jsonobject", "result", "=", "tag", "article", "repository", ".", "get", "by", "tag", "id", "(", "tag", "id", ",", "current", "page", "num", ",", "page", "size", ")", ";", "if", "(", "null", "=", "=", "result", ")", "{", "return", "null", ";", "}", "final", "jsonarray", "tag", "article", "relations", "=", "result", ".", "get", "jsonarray", "(", "keys", ".", "results", ")", ";", "if", "(", "num", "=", "=", "tag", "article", "relations", ".", "length", "(", ")", ")", "{", "return", "null", ";", "}", "final", "set", "<", "string", ">", "article", "ids", "=", "new", "hash", "set", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tag", "article", "relations", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "final", "jsonobject", "tag", "article", "relation", "=", "tag", "article", "relations", ".", "get", "jsonobject", "(", "i", ")", ";", "final", "string", "article", "id", "=", "tag", "article", "relation", ".", "get", "string", "(", "article", ".", "article", "+", "str", "+", "keys", ".", "object", "_", "id", ")", ";", "article", "ids", ".", "add", "(", "article", "id", ")", ";", "}", "final", "list", "<", "jsonobject", ">", "ret", "articles", "=", "new", "array", "list", "<", ">", "(", ")", ";", "final", "query", "query", "=", "new", "query", "(", ")", ".", "set", "filter", "(", "new", "property", "filter", "(", "keys", ".", "object", "_", "id", ",", "filter", "operator", ".", "in", ",", "article", "ids", ")", ")", ".", "set", "page", "count", "(", "num", ")", ";", "result", "=", "article", "repository", ".", "get", "(", "query", ")", ";", "final", "jsonarray", "articles", "=", "result", ".", "get", "jsonarray", "(", "keys", ".", "results", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "articles", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "final", "jsonobject", "article", "=", "articles", ".", "get", "jsonobject", "(", "i", ")", ";", "if", "(", "!", "article", ".", "get", "boolean", "(", "article", ".", "article", "_", "is", "_", "published", ")", ")", "{", "continue", ";", "}", "article", ".", "put", "(", "article", "_", "create", "_", "time", ",", "article", ".", "get", "long", "(", "article", "_", "created", ")", ")", ";", "article", ".", "put", "(", "article", "_", "t", "_", "create", "_", "date", ",", "new", "date", "(", "article", ".", "get", "long", "(", "article", "_", "created", ")", ")", ")", ";", "article", ".", "put", "(", "article", ".", "article", "_", "t", "_", "update", "_", "date", ",", "new", "date", "(", "article", ".", "opt", "long", "(", "article", "_", "updated", ")", ")", ")", ";", "ret", "articles", ".", "add", "(", "article", ")", ";", "}", "final", "jsonobject", "ret", "=", "new", "jsonobject", "(", ")", ";", "ret", ".", "put", "(", "pagination", ".", "pagination", ",", "result", ".", "opt", "jsonobject", "(", "pagination", ".", "pagination", ")", ")", ";", "ret", ".", "put", "(", "keys", ".", "results", ",", "(", "object", ")", "ret", "articles", ")", ";", "return", "ret", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "tag", "id", "+", "str", ",", "e", ")", ";", "throw", "new", "service", "exception", "(", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> list < jsonobject > <REPLACE_NEW> jsonobject <REPLACE_END> <KEEP> get articles by tag ( final string tag id , final int current page num , final int page size ) throws service exception { try { jsonobject result = tag article repository . get by tag id ( tag id , current page num , page size ) ; <KEEP_END> <INSERT> if ( null = = result ) { return null ; } <INSERT_END> <KEEP> final jsonarray tag article relations = result . get jsonarray ( keys . results ) ; if ( num = = tag article relations . length ( ) ) { return <KEEP_END> <REPLACE_OLD> collections . empty list ( ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } final set < string > article ids = new hash set < > ( ) ; for ( int i = num ; i < tag article relations . length ( ) ; i + + ) { final jsonobject tag article relation = tag article relations . get jsonobject ( i ) ; final string article id = tag article relation . get string ( article . article + str + keys . object _ id ) ; article ids . add ( article id ) ; } final list < jsonobject > ret <KEEP_END> <INSERT> articles <INSERT_END> <KEEP> = new array list < > ( ) ; final query query = new query ( ) . set filter ( new property filter ( keys . object _ id , filter operator . in , article ids ) ) . set page count ( num ) ; result = article repository . get ( query ) ; final jsonarray articles = result . get jsonarray ( keys . results ) ; for ( int i = num ; i < articles . length ( ) ; i + + ) { final jsonobject article = articles . get jsonobject ( i ) ; if ( ! article . get boolean ( article . article _ is _ published ) ) { continue ; } article . put ( article _ create _ time , article . get long ( article _ created ) ) ; article . put ( article _ t _ create _ date , new date ( article . get long ( article _ created ) ) ) ; article . put ( article . article _ t _ update _ date , new date ( article . opt long ( article _ updated ) ) ) ; ret <KEEP_END> <INSERT> articles <INSERT_END> <KEEP> . add ( article ) ; } <KEEP_END> <INSERT> final jsonobject ret = new jsonobject ( ) ; ret . put ( pagination . pagination , result . opt jsonobject ( pagination . pagination ) ) ; ret . put ( keys . results , ( object ) ret articles ) ; <INSERT_END> <KEEP> return ret ; } catch ( final exception e ) { logger . log ( level . error , str + tag id + str , e ) ; throw new service exception ( e ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "jsonobject", ">", "<REPLACE_NEW>", "jsonobject", "<REPLACE_END>", "<KEEP>", "get", "articles", "by", "tag", "(", "final", "string", "tag", "id", ",", "final", "int", "current", "page", "num", ",", "final", "int", "page", "size", ")", "throws", "service", "exception", "{", "try", "{", "jsonobject", "result", "=", "tag", "article", "repository", ".", "get", "by", "tag", "id", "(", "tag", "id", ",", "current", "page", "num", ",", "page", "size", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "null", "=", "=", "result", ")", "{", "return", "null", ";", "}", "<INSERT_END>", "<KEEP>", "final", "jsonarray", "tag", "article", "relations", "=", "result", ".", "get", "jsonarray", "(", "keys", ".", "results", ")", ";", "if", "(", "num", "=", "=", "tag", "article", "relations", ".", "length", "(", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", ".", "empty", "list", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "final", "set", "<", "string", ">", "article", "ids", "=", "new", "hash", "set", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tag", "article", "relations", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "final", "jsonobject", "tag", "article", "relation", "=", "tag", "article", "relations", ".", "get", "jsonobject", "(", "i", ")", ";", "final", "string", "article", "id", "=", "tag", "article", "relation", ".", "get", "string", "(", "article", ".", "article", "+", "str", "+", "keys", ".", "object", "_", "id", ")", ";", "article", "ids", ".", "add", "(", "article", "id", ")", ";", "}", "final", "list", "<", "jsonobject", ">", "ret", "<KEEP_END>", "<INSERT>", "articles", "<INSERT_END>", "<KEEP>", "=", "new", "array", "list", "<", ">", "(", ")", ";", "final", "query", "query", "=", "new", "query", "(", ")", ".", "set", "filter", "(", "new", "property", "filter", "(", "keys", ".", "object", "_", "id", ",", "filter", "operator", ".", "in", ",", "article", "ids", ")", ")", ".", "set", "page", "count", "(", "num", ")", ";", "result", "=", "article", "repository", ".", "get", "(", "query", ")", ";", "final", "jsonarray", "articles", "=", "result", ".", "get", "jsonarray", "(", "keys", ".", "results", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "articles", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "final", "jsonobject", "article", "=", "articles", ".", "get", "jsonobject", "(", "i", ")", ";", "if", "(", "!", "article", ".", "get", "boolean", "(", "article", ".", "article", "_", "is", "_", "published", ")", ")", "{", "continue", ";", "}", "article", ".", "put", "(", "article", "_", "create", "_", "time", ",", "article", ".", "get", "long", "(", "article", "_", "created", ")", ")", ";", "article", ".", "put", "(", "article", "_", "t", "_", "create", "_", "date", ",", "new", "date", "(", "article", ".", "get", "long", "(", "article", "_", "created", ")", ")", ")", ";", "article", ".", "put", "(", "article", ".", "article", "_", "t", "_", "update", "_", "date", ",", "new", "date", "(", "article", ".", "opt", "long", "(", "article", "_", "updated", ")", ")", ")", ";", "ret", "<KEEP_END>", "<INSERT>", "articles", "<INSERT_END>", "<KEEP>", ".", "add", "(", "article", ")", ";", "}", "<KEEP_END>", "<INSERT>", "final", "jsonobject", "ret", "=", "new", "jsonobject", "(", ")", ";", "ret", ".", "put", "(", "pagination", ".", "pagination", ",", "result", ".", "opt", "jsonobject", "(", "pagination", ".", "pagination", ")", ")", ";", "ret", ".", "put", "(", "keys", ".", "results", ",", "(", "object", ")", "ret", "articles", ")", ";", "<INSERT_END>", "<KEEP>", "return", "ret", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", "+", "tag", "id", "+", "str", ",", "e", ")", ";", "throw", "new", "service", "exception", "(", "e", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a list of articles <REPLACE_NEW> result <REPLACE_END> <REPLACE_OLD> an empty list <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "list", "of", "articles", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<REPLACE_OLD>", "an", "empty", "list", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "jsonobject", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "jsonobject", "<KEEP>", "get", "<KEEP>", "articles", "<KEEP>", "by", "<KEEP>", "tag", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "tag", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "current", "<KEEP>", "page", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "page", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "service", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "jsonobject", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "repository", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "by", "<KEEP>", "tag", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "tag", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "current", "<KEEP>", "page", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "page", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "null", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "result", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "final", "<KEEP>", "jsonarray", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "relations", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jsonarray", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "results", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "relations", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "article", "<KEEP>", "ids", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "relations", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "relation", "<KEEP>", "=", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "relations", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "article", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "tag", "<KEEP>", "article", "<KEEP>", "relation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "article", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "object", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "article", "<KEEP>", "ids", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "jsonobject", "<KEEP>", ">", "<KEEP>", "ret", "<INSERT>", "articles", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "query", "<KEEP>", "query", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "property", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "object", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "filter", "<KEEP>", "operator", "<KEEP>", ".", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "article", "<KEEP>", "ids", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "page", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "article", "<KEEP>", "repository", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "jsonarray", "<KEEP>", "articles", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jsonarray", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "results", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "articles", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "article", "<KEEP>", "=", "<KEEP>", "articles", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "is", "<KEEP>", "_", "<KEEP>", "published", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "create", "<KEEP>", "_", "<KEEP>", "time", "<KEEP>", ",", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "created", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "create", "<KEEP>", "_", "<KEEP>", "date", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "created", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "update", "<KEEP>", "_", "<KEEP>", "date", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", "_", "<KEEP>", "updated", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ret", "<INSERT>", "articles", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "article", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "final", "<INSERT>", "jsonobject", "<INSERT>", "ret", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "jsonobject", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "ret", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "pagination", "<INSERT>", ".", "<INSERT>", "pagination", "<INSERT>", ",", "<INSERT>", "result", "<INSERT>", ".", "<INSERT>", "opt", "<INSERT>", "jsonobject", "<INSERT>", "(", "<INSERT>", "pagination", "<INSERT>", ".", "<INSERT>", "pagination", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "ret", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "keys", "<INSERT>", ".", "<INSERT>", "results", "<INSERT>", ",", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", ")", "<INSERT>", "ret", "<INSERT>", "articles", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "ret", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "tag", "<KEEP>", "id", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "service", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9788831695986963, "using": 2, "keep": 1}
{"id": "FasterXML_jackson-databind-282-3649", "old_comment": "old value of the field , if any ; null if there was no old value .", "old_comment_tokens": ["old", "value", "of", "the", "field", ",", "if", "any", ";", "null", "if", "there", "was", "no", "old", "value", "."], "new_comment": "this node after adding / replacing property value ( to allow chaining )", "new_comment_tokens": ["this", "node", "after", "adding", "/", "replacing", "property", "value", "(", "to", "allow", "chaining", ")"], "old_code": "public json node set ( int index , json node value ) { if ( value = = null ) { value = null node ( ) ; } if ( index < num | | index > = _ children . size ( ) ) { throw new index out of bounds exception ( str + index + str + size ( ) ) ; } return _ children . set ( index , value ) ; }", "old_code_tokens": ["public", "json", "node", "set", "(", "int", "index", ",", "json", "node", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "value", "=", "null", "node", "(", ")", ";", "}", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "_", "children", ".", "size", "(", ")", ")", "{", "throw", "new", "index", "out", "of", "bounds", "exception", "(", "str", "+", "index", "+", "str", "+", "size", "(", ")", ")", ";", "}", "return", "_", "children", ".", "set", "(", "index", ",", "value", ")", ";", "}"], "new_code": "public array node set ( int index , json node value ) { if ( value = = null ) { value = null node ( ) ; } if ( index < num | | index > = _ children . size ( ) ) { throw new index out of bounds exception ( str + index + str + size ( ) ) ; } _ children . set ( index , value ) ; return this ; }", "new_code_tokens": ["public", "array", "node", "set", "(", "int", "index", ",", "json", "node", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "value", "=", "null", "node", "(", ")", ";", "}", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "_", "children", ".", "size", "(", ")", ")", "{", "throw", "new", "index", "out", "of", "bounds", "exception", "(", "str", "+", "index", "+", "str", "+", "size", "(", ")", ")", ";", "}", "_", "children", ".", "set", "(", "index", ",", "value", ")", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> json <REPLACE_NEW> array <REPLACE_END> <KEEP> node set ( int index , json node value ) { if ( value = = null ) { value = null node ( ) ; } if ( index < num | | index > = _ children . size ( ) ) { throw new index out of bounds exception ( str + index + str + size ( ) ) ; } <KEEP_END> <DELETE> return <DELETE_END> <KEEP> _ children . set ( index , value ) ; <KEEP_END> <INSERT> return this ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "json", "<REPLACE_NEW>", "array", "<REPLACE_END>", "<KEEP>", "node", "set", "(", "int", "index", ",", "json", "node", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "value", "=", "null", "node", "(", ")", ";", "}", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "_", "children", ".", "size", "(", ")", ")", "{", "throw", "new", "index", "out", "of", "bounds", "exception", "(", "str", "+", "index", "+", "str", "+", "size", "(", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "<DELETE_END>", "<KEEP>", "_", "children", ".", "set", "(", "index", ",", "value", ")", ";", "<KEEP_END>", "<INSERT>", "return", "this", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> old value of the field , if any ; null if there was no old value . <REPLACE_NEW> this node after adding / replacing property value ( to allow chaining ) <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "old", "value", "of", "the", "field", ",", "if", "any", ";", "null", "if", "there", "was", "no", "old", "value", ".", "<REPLACE_NEW>", "this", "node", "after", "adding", "/", "replacing", "property", "value", "(", "to", "allow", "chaining", ")", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "json", "<REPLACE_NEW>", "array", "<KEEP>", "node", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", ",", "<KEEP>", "json", "<KEEP>", "node", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "index", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "_", "<KEEP>", "children", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "index", "<KEEP>", "out", "<KEEP>", "of", "<KEEP>", "bounds", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "index", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<KEEP>", "_", "<KEEP>", "children", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "this", "<INSERT>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7916351515589909, "using": 1, "keep": 1}
{"id": "eclipse_objectteams-19-5098", "old_comment": "true iff this flow info prevents local from being promoted to definite non null or definite null against an enclosing flow info", "old_comment_tokens": ["true", "iff", "this", "flow", "info", "prevents", "local", "from", "being", "promoted", "to", "definite", "non", "null", "or", "definite", "null", "against", "an", "enclosing", "flow", "info"], "new_comment": "true iff this flow info prevents field or local from being promoted to definite non null or definite null against an enclosing flow info", "new_comment_tokens": ["true", "iff", "this", "flow", "info", "prevents", "field", "or", "local", "from", "being", "promoted", "to", "definite", "non", "null", "or", "definite", "null", "against", "an", "enclosing", "flow", "info"], "old_code": "public boolean cannot be definitely null or non null ( local variable binding local ) { return is potentially unknown ( local ) | | is potentially non null ( local ) & & is potentially null ( local ) ; }", "old_code_tokens": ["public", "boolean", "cannot", "be", "definitely", "null", "or", "non", "null", "(", "local", "variable", "binding", "local", ")", "{", "return", "is", "potentially", "unknown", "(", "local", ")", "|", "|", "is", "potentially", "non", "null", "(", "local", ")", "&", "&", "is", "potentially", "null", "(", "local", ")", ";", "}"], "new_code": "public boolean cannot be definitely null or non null ( variable binding binding ) { return is potentially unknown ( binding ) | | is potentially non null ( binding ) & & is potentially null ( binding ) ; }", "new_code_tokens": ["public", "boolean", "cannot", "be", "definitely", "null", "or", "non", "null", "(", "variable", "binding", "binding", ")", "{", "return", "is", "potentially", "unknown", "(", "binding", ")", "|", "|", "is", "potentially", "non", "null", "(", "binding", ")", "&", "&", "is", "potentially", "null", "(", "binding", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean cannot be definitely null or non null ( <KEEP_END> <DELETE> local <DELETE_END> <KEEP> variable binding <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) { return is potentially unknown ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) | | is potentially non null ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) & & is potentially null ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "cannot", "be", "definitely", "null", "or", "non", "null", "(", "<KEEP_END>", "<DELETE>", "local", "<DELETE_END>", "<KEEP>", "variable", "binding", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "is", "potentially", "unknown", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "|", "|", "is", "potentially", "non", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "&", "&", "is", "potentially", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> prevents <INSERT_NEW_KEEP_BEFORE> prevents field or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "prevents", "<INSERT_NEW_KEEP_BEFORE>", "prevents", "field", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "cannot", "<KEEP>", "be", "<KEEP>", "definitely", "<KEEP>", "null", "<KEEP>", "or", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<DELETE>", "local", "<KEEP>", "variable", "<KEEP>", "binding", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "is", "<KEEP>", "potentially", "<KEEP>", "unknown", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "is", "<KEEP>", "potentially", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "is", "<KEEP>", "potentially", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9130074098964686, "using": 0, "keep": 1}
{"id": "bitcoinj_bitcoinj-100-3631", "old_comment": "the newly created peer object . use com . google . bitcoin . core . peer # get connection open future ( ) if you want a future which completes when the connection is open , or null if the peer could not be connected .", "old_comment_tokens": ["the", "newly", "created", "peer", "object", ".", "use", "com", ".", "google", ".", "bitcoin", ".", "core", ".", "peer", "#", "get", "connection", "open", "future", "(", ")", "if", "you", "want", "a", "future", "which", "completes", "when", "the", "connection", "is", "open", ",", "or", "null", "if", "the", "peer", "could", "not", "be", "connected", "."], "new_comment": "the newly created peer object or null if the peer could not be connected . use com . google . bitcoin . core . peer # get connection open future ( ) if you want a future which completes when the connection is open .", "new_comment_tokens": ["the", "newly", "created", "peer", "object", "or", "null", "if", "the", "peer", "could", "not", "be", "connected", ".", "use", "com", ".", "google", ".", "bitcoin", ".", "core", ".", "peer", "#", "get", "connection", "open", "future", "(", ")", "if", "you", "want", "a", "future", "which", "completes", "when", "the", "connection", "is", "open", "."], "old_code": "@ nullable public peer connect to ( inet socket address address ) { return connect to ( address , true ) ; }", "old_code_tokens": ["@", "nullable", "public", "peer", "connect", "to", "(", "inet", "socket", "address", "address", ")", "{", "return", "connect", "to", "(", "address", ",", "true", ")", ";", "}"], "new_code": "@ nullable public peer connect to ( inet socket address address ) { peer address peer address = new peer address ( address ) ; backoff map . put ( peer address , new exponential backoff ( peer backoff params ) ) ; return connect to ( peer address , true ) ; }", "new_code_tokens": ["@", "nullable", "public", "peer", "connect", "to", "(", "inet", "socket", "address", "address", ")", "{", "peer", "address", "peer", "address", "=", "new", "peer", "address", "(", "address", ")", ";", "backoff", "map", ".", "put", "(", "peer", "address", ",", "new", "exponential", "backoff", "(", "peer", "backoff", "params", ")", ")", ";", "return", "connect", "to", "(", "peer", "address", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> @ nullable public peer connect to ( inet socket address address ) { <KEEP_END> <INSERT> peer address peer address = new peer address ( address ) ; backoff map . put ( peer address , new exponential backoff ( peer backoff params ) ) ; <INSERT_END> <KEEP> return connect to ( <KEEP_END> <INSERT> peer <INSERT_END> <KEEP> address , true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nullable", "public", "peer", "connect", "to", "(", "inet", "socket", "address", "address", ")", "{", "<KEEP_END>", "<INSERT>", "peer", "address", "peer", "address", "=", "new", "peer", "address", "(", "address", ")", ";", "backoff", "map", ".", "put", "(", "peer", "address", ",", "new", "exponential", "backoff", "(", "peer", "backoff", "params", ")", ")", ";", "<INSERT_END>", "<KEEP>", "return", "connect", "to", "(", "<KEEP_END>", "<INSERT>", "peer", "<INSERT_END>", "<KEEP>", "address", ",", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> object <INSERT_NEW_KEEP_BEFORE> object or null if the peer could not be connected <INSERT_END> <DELETE> , or null if the peer could not be connected <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "object", "<INSERT_NEW_KEEP_BEFORE>", "object", "or", "null", "if", "the", "peer", "could", "not", "be", "connected", "<INSERT_END>", "<DELETE>", ",", "or", "null", "if", "the", "peer", "could", "not", "be", "connected", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "public", "<KEEP>", "peer", "<KEEP>", "connect", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "inet", "<KEEP>", "socket", "<KEEP>", "address", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "peer", "<INSERT>", "address", "<INSERT>", "peer", "<INSERT>", "address", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "peer", "<INSERT>", "address", "<INSERT>", "(", "<INSERT>", "address", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "backoff", "<INSERT>", "map", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "peer", "<INSERT>", "address", "<INSERT>", ",", "<INSERT>", "new", "<INSERT>", "exponential", "<INSERT>", "backoff", "<INSERT>", "(", "<INSERT>", "peer", "<INSERT>", "backoff", "<INSERT>", "params", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "connect", "<KEEP>", "to", "<KEEP>", "(", "<INSERT>", "peer", "<KEEP>", "address", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9028292252841125, "using": 0, "keep": 1}
{"id": "mockito_mockito-1-706", "old_comment": "returns an array with the raw types of # extra interfaces ( ) if relevant .", "old_comment_tokens": ["returns", "an", "array", "with", "the", "raw", "types", "of", "#", "extra", "interfaces", "(", ")", "if", "relevant", "."], "new_comment": "returns an array with the extracted raw types of # extra interfaces ( ) .", "new_comment_tokens": ["returns", "an", "array", "with", "the", "extracted", "raw", "types", "of", "#", "extra", "interfaces", "(", ")", "."], "old_code": "public class < ? > [ ] raw extra interfaces ( ) { return new class [ num ] ; }", "old_code_tokens": ["public", "class", "<", "?", ">", "[", "]", "raw", "extra", "interfaces", "(", ")", "{", "return", "new", "class", "[", "num", "]", ";", "}"], "new_code": "public class < ? > [ ] raw extra interfaces ( ) { list < type > extra interfaces = extra interfaces ( ) ; list < class < ? > > raw extra interfaces = new array list < class < ? > > ( ) ; for ( type extra interface : extra interfaces ) { class < ? > raw interface = extract raw type of ( extra interface ) ; if ( ! raw type ( ) . equals ( raw interface ) ) { raw extra interfaces . add ( raw interface ) ; } } return raw extra interfaces . to array ( new class [ raw extra interfaces . size ( ) ] ) ; }", "new_code_tokens": ["public", "class", "<", "?", ">", "[", "]", "raw", "extra", "interfaces", "(", ")", "{", "list", "<", "type", ">", "extra", "interfaces", "=", "extra", "interfaces", "(", ")", ";", "list", "<", "class", "<", "?", ">", ">", "raw", "extra", "interfaces", "=", "new", "array", "list", "<", "class", "<", "?", ">", ">", "(", ")", ";", "for", "(", "type", "extra", "interface", ":", "extra", "interfaces", ")", "{", "class", "<", "?", ">", "raw", "interface", "=", "extract", "raw", "type", "of", "(", "extra", "interface", ")", ";", "if", "(", "!", "raw", "type", "(", ")", ".", "equals", "(", "raw", "interface", ")", ")", "{", "raw", "extra", "interfaces", ".", "add", "(", "raw", "interface", ")", ";", "}", "}", "return", "raw", "extra", "interfaces", ".", "to", "array", "(", "new", "class", "[", "raw", "extra", "interfaces", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public class < ? > [ ] raw extra interfaces ( ) { <KEEP_END> <INSERT> list < type > extra interfaces = extra interfaces ( ) ; list < class < ? > > raw extra interfaces = new array list < class < ? > > ( ) ; for ( type extra interface : extra interfaces ) { class < ? > raw interface = extract raw type of ( extra interface ) ; if ( ! raw type ( ) . equals ( raw interface ) ) { raw extra interfaces . add ( raw interface ) ; } } <INSERT_END> <KEEP> return <KEEP_END> <INSERT> raw extra interfaces . to array ( <INSERT_END> <KEEP> new class [ <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> raw extra interfaces . size ( ) <REPLACE_END> <KEEP> ] <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "class", "<", "?", ">", "[", "]", "raw", "extra", "interfaces", "(", ")", "{", "<KEEP_END>", "<INSERT>", "list", "<", "type", ">", "extra", "interfaces", "=", "extra", "interfaces", "(", ")", ";", "list", "<", "class", "<", "?", ">", ">", "raw", "extra", "interfaces", "=", "new", "array", "list", "<", "class", "<", "?", ">", ">", "(", ")", ";", "for", "(", "type", "extra", "interface", ":", "extra", "interfaces", ")", "{", "class", "<", "?", ">", "raw", "interface", "=", "extract", "raw", "type", "of", "(", "extra", "interface", ")", ";", "if", "(", "!", "raw", "type", "(", ")", ".", "equals", "(", "raw", "interface", ")", ")", "{", "raw", "extra", "interfaces", ".", "add", "(", "raw", "interface", ")", ";", "}", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<INSERT>", "raw", "extra", "interfaces", ".", "to", "array", "(", "<INSERT_END>", "<KEEP>", "new", "class", "[", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "raw", "extra", "interfaces", ".", "size", "(", ")", "<REPLACE_END>", "<KEEP>", "]", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the extracted <INSERT_END> <DELETE> if relevant <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "extracted", "<INSERT_END>", "<DELETE>", "if", "relevant", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "raw", "<KEEP>", "extra", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "type", "<INSERT>", ">", "<INSERT>", "extra", "<INSERT>", "interfaces", "<INSERT>", "=", "<INSERT>", "extra", "<INSERT>", "interfaces", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "class", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ">", "<INSERT>", ">", "<INSERT>", "raw", "<INSERT>", "extra", "<INSERT>", "interfaces", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "class", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ">", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", "extra", "<INSERT>", "interface", "<INSERT>", ":", "<INSERT>", "extra", "<INSERT>", "interfaces", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "class", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ">", "<INSERT>", "raw", "<INSERT>", "interface", "<INSERT>", "=", "<INSERT>", "extract", "<INSERT>", "raw", "<INSERT>", "type", "<INSERT>", "of", "<INSERT>", "(", "<INSERT>", "extra", "<INSERT>", "interface", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "raw", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "raw", "<INSERT>", "interface", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "raw", "<INSERT>", "extra", "<INSERT>", "interfaces", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<INSERT>", "raw", "<INSERT>", "interface", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "return", "<INSERT>", "raw", "<INSERT>", "extra", "<INSERT>", "interfaces", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "array", "<INSERT>", "(", "<KEEP>", "new", "<KEEP>", "class", "<KEEP>", "[", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "raw", "<REPLACE_NEW>", "extra", "<REPLACE_NEW>", "interfaces", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "]", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.836981541969911, "using": 0, "keep": 1}
{"id": "UnimibSoftEngCourse1516_lab4-es1-v.popescu2-4-4144", "old_comment": "a float [ ] which is the new centroid", "old_comment_tokens": ["a", "float", "[", "]", "which", "is", "the", "new", "centroid"], "new_comment": "a point which is the new centroid", "new_comment_tokens": ["a", "point", "which", "is", "the", "new", "centroid"], "old_code": "public float [ ] compute centroid ( ) { float [ ] result = new float [ point total . length ] ; for ( int i = num ; i < point total . length ; i + + ) result [ i ] = new float ( point total [ i ] / num points ) ; return result ; }", "old_code_tokens": ["public", "float", "[", "]", "compute", "centroid", "(", ")", "{", "float", "[", "]", "result", "=", "new", "float", "[", "point", "total", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "length", ";", "i", "+", "+", ")", "result", "[", "i", "]", "=", "new", "float", "(", "point", "total", "[", "i", "]", "/", "num", "points", ")", ";", "return", "result", ";", "}"], "new_code": "public vector compute centroid ( ) { vector result = new sparse vector ( point total . cardinality ( ) ) ; for ( int i = num ; i < point total . cardinality ( ) ; i + + ) result . set ( i , new double ( point total . get ( i ) / num points ) ) ; return result ; }", "new_code_tokens": ["public", "vector", "compute", "centroid", "(", ")", "{", "vector", "result", "=", "new", "sparse", "vector", "(", "point", "total", ".", "cardinality", "(", ")", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "cardinality", "(", ")", ";", "i", "+", "+", ")", "result", ".", "set", "(", "i", ",", "new", "double", "(", "point", "total", ".", "get", "(", "i", ")", "/", "num", "points", ")", ")", ";", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> float [ ] <REPLACE_NEW> vector <REPLACE_END> <KEEP> compute centroid ( ) { <KEEP_END> <REPLACE_OLD> float [ ] <REPLACE_NEW> vector <REPLACE_END> <KEEP> result = new <KEEP_END> <REPLACE_OLD> float [ <REPLACE_NEW> sparse vector ( <REPLACE_END> <KEEP> point total . <KEEP_END> <REPLACE_OLD> length ] <REPLACE_NEW> cardinality ( ) ) <REPLACE_END> <KEEP> ; for ( int i = num ; i < point total . <KEEP_END> <REPLACE_OLD> length <REPLACE_NEW> cardinality ( ) <REPLACE_END> <KEEP> ; i + + ) result <KEEP_END> <REPLACE_OLD> [ <REPLACE_NEW> . set ( <REPLACE_END> <KEEP> i <KEEP_END> <REPLACE_OLD> ] = <REPLACE_NEW> , <REPLACE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> float <REPLACE_NEW> double <REPLACE_END> <KEEP> ( point total <KEEP_END> <REPLACE_OLD> [ <REPLACE_NEW> . get ( <REPLACE_END> <KEEP> i <KEEP_END> <REPLACE_OLD> ] <REPLACE_NEW> ) <REPLACE_END> <KEEP> / num points <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ) ; return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "float", "[", "]", "<REPLACE_NEW>", "vector", "<REPLACE_END>", "<KEEP>", "compute", "centroid", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "float", "[", "]", "<REPLACE_NEW>", "vector", "<REPLACE_END>", "<KEEP>", "result", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "float", "[", "<REPLACE_NEW>", "sparse", "vector", "(", "<REPLACE_END>", "<KEEP>", "point", "total", ".", "<KEEP_END>", "<REPLACE_OLD>", "length", "]", "<REPLACE_NEW>", "cardinality", "(", ")", ")", "<REPLACE_END>", "<KEEP>", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "<KEEP_END>", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "cardinality", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "i", "+", "+", ")", "result", "<KEEP_END>", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", ".", "set", "(", "<REPLACE_END>", "<KEEP>", "i", "<KEEP_END>", "<REPLACE_OLD>", "]", "=", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "float", "<REPLACE_NEW>", "double", "<REPLACE_END>", "<KEEP>", "(", "point", "total", "<KEEP_END>", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", ".", "get", "(", "<REPLACE_END>", "<KEEP>", "i", "<KEEP_END>", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", "/", "num", "points", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ")", ";", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> float [ ] <REPLACE_NEW> point <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "float", "[", "]", "<REPLACE_NEW>", "point", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "vector", "<KEEP>", "compute", "<KEEP>", "centroid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "vector", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", "sparse", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "(", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "cardinality", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ".", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "cardinality", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "result", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "(", "<KEEP>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ",", "<KEEP>", "new", "<REPLACE_OLD>", "float", "<REPLACE_NEW>", "double", "<KEEP>", "(", "<KEEP>", "point", "<KEEP>", "total", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<KEEP>", "i", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ")", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", "points", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9799196326770171, "using": 2, "keep": 1}
{"id": "codehaus_jetty-project-39-6529", "old_comment": "the current scontext context used for this request , or null if # set context has not yet been called .", "old_comment_tokens": ["the", "current", "scontext", "context", "used", "for", "this", "request", ",", "or", "null", "if", "#", "set", "context", "has", "not", "yet", "been", "called", "."], "new_comment": "the current context context used for this request , or null if # set context has not yet been called .", "new_comment_tokens": ["the", "current", "context", "context", "used", "for", "this", "request", ",", "or", "null", "if", "#", "set", "context", "has", "not", "yet", "been", "called", "."], "old_code": "public scontext get context ( ) { return _ context ; }", "old_code_tokens": ["public", "scontext", "get", "context", "(", ")", "{", "return", "_", "context", ";", "}"], "new_code": "public context get context ( ) { return _ context ; }", "new_code_tokens": ["public", "context", "get", "context", "(", ")", "{", "return", "_", "context", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> scontext <REPLACE_NEW> context <REPLACE_END> <KEEP> get context ( ) { return _ context ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "scontext", "<REPLACE_NEW>", "context", "<REPLACE_END>", "<KEEP>", "get", "context", "(", ")", "{", "return", "_", "context", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> scontext <REPLACE_NEW> context <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "scontext", "<REPLACE_NEW>", "context", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "scontext", "<REPLACE_NEW>", "context", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9920934074605935, "using": 2, "keep": 1}
{"id": "eclipse_webtools.common-38-5970", "old_comment": "null if the project does not have any specific preferences .", "old_comment_tokens": ["null", "if", "the", "project", "does", "not", "have", "any", "specific", "preferences", "."], "new_comment": "false if the project does not have any specific preferences .", "new_comment_tokens": ["false", "if", "the", "project", "does", "not", "have", "any", "specific", "preferences", "."], "old_code": "public project preferences load project preferences ( ) { ieclipse preferences pref = get preferences ( ) ; if ( pref = = null ) return null ; int version = pref . get int ( pref constants . framework version , num ) ; if ( version = = num ) return null ; project preferences pp = new project preferences ( _ project ) ; pp . set override ( pref . get boolean ( pref constants . override , project preferences . default override ) ) ; pp . set suspend ( pref . get boolean ( pref constants . suspend , project preferences . default suspend ) ) ; validator [ ] vals = val manager . get default ( ) . get validators ( false , _ project ) ; load preferences ( vals , pref ) ; pp . set validators ( vals ) ; return pp ; }", "old_code_tokens": ["public", "project", "preferences", "load", "project", "preferences", "(", ")", "{", "ieclipse", "preferences", "pref", "=", "get", "preferences", "(", ")", ";", "if", "(", "pref", "=", "=", "null", ")", "return", "null", ";", "int", "version", "=", "pref", ".", "get", "int", "(", "pref", "constants", ".", "framework", "version", ",", "num", ")", ";", "if", "(", "version", "=", "=", "num", ")", "return", "null", ";", "project", "preferences", "pp", "=", "new", "project", "preferences", "(", "_", "project", ")", ";", "pp", ".", "set", "override", "(", "pref", ".", "get", "boolean", "(", "pref", "constants", ".", "override", ",", "project", "preferences", ".", "default", "override", ")", ")", ";", "pp", ".", "set", "suspend", "(", "pref", ".", "get", "boolean", "(", "pref", "constants", ".", "suspend", ",", "project", "preferences", ".", "default", "suspend", ")", ")", ";", "validator", "[", "]", "vals", "=", "val", "manager", ".", "get", "default", "(", ")", ".", "get", "validators", "(", "false", ",", "_", "project", ")", ";", "load", "preferences", "(", "vals", ",", "pref", ")", ";", "pp", ".", "set", "validators", "(", "vals", ")", ";", "return", "pp", ";", "}"], "new_code": "public boolean load project preferences ( project preferences pp ) { ieclipse preferences pref = get preferences ( ) ; if ( pref = = null ) return false ; int version = pref . get int ( pref constants . framework version , num ) ; if ( version = = num ) return false ; pp . set override ( pref . get boolean ( pref constants . override , project preferences . default override ) ) ; pp . set suspend ( pref . get boolean ( pref constants . suspend , project preferences . default suspend ) ) ; validator [ ] vals = val manager . get default ( ) . get validators2 ( _ project ) ; load preferences ( vals , pref ) ; pp . set validators ( vals ) ; return true ; }", "new_code_tokens": ["public", "boolean", "load", "project", "preferences", "(", "project", "preferences", "pp", ")", "{", "ieclipse", "preferences", "pref", "=", "get", "preferences", "(", ")", ";", "if", "(", "pref", "=", "=", "null", ")", "return", "false", ";", "int", "version", "=", "pref", ".", "get", "int", "(", "pref", "constants", ".", "framework", "version", ",", "num", ")", ";", "if", "(", "version", "=", "=", "num", ")", "return", "false", ";", "pp", ".", "set", "override", "(", "pref", ".", "get", "boolean", "(", "pref", "constants", ".", "override", ",", "project", "preferences", ".", "default", "override", ")", ")", ";", "pp", ".", "set", "suspend", "(", "pref", ".", "get", "boolean", "(", "pref", "constants", ".", "suspend", ",", "project", "preferences", ".", "default", "suspend", ")", ")", ";", "validator", "[", "]", "vals", "=", "val", "manager", ".", "get", "default", "(", ")", ".", "get", "validators2", "(", "_", "project", ")", ";", "load", "preferences", "(", "vals", ",", "pref", ")", ";", "pp", ".", "set", "validators", "(", "vals", ")", ";", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> project preferences <REPLACE_NEW> boolean <REPLACE_END> <KEEP> load project preferences ( <KEEP_END> <INSERT> project preferences pp <INSERT_END> <KEEP> ) { ieclipse preferences pref = get preferences ( ) ; if ( pref = = null ) return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> false <REPLACE_END> <KEEP> ; int version = pref . get int ( pref constants . framework version , num ) ; if ( version = = num ) return <KEEP_END> <REPLACE_OLD> null ; project preferences pp = new project preferences ( _ project ) <REPLACE_NEW> false <REPLACE_END> <KEEP> ; pp . set override ( pref . get boolean ( pref constants . override , project preferences . default override ) ) ; pp . set suspend ( pref . get boolean ( pref constants . suspend , project preferences . default suspend ) ) ; validator [ ] vals = val manager . get default ( ) . get <KEEP_END> <REPLACE_OLD> validators <REPLACE_NEW> validators2 <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> false , <DELETE_END> <KEEP> _ project ) ; load preferences ( vals , pref ) ; pp . set validators ( vals ) ; return <KEEP_END> <REPLACE_OLD> pp <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "project", "preferences", "<REPLACE_NEW>", "boolean", "<REPLACE_END>", "<KEEP>", "load", "project", "preferences", "(", "<KEEP_END>", "<INSERT>", "project", "preferences", "pp", "<INSERT_END>", "<KEEP>", ")", "{", "ieclipse", "preferences", "pref", "=", "get", "preferences", "(", ")", ";", "if", "(", "pref", "=", "=", "null", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "int", "version", "=", "pref", ".", "get", "int", "(", "pref", "constants", ".", "framework", "version", ",", "num", ")", ";", "if", "(", "version", "=", "=", "num", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", ";", "project", "preferences", "pp", "=", "new", "project", "preferences", "(", "_", "project", ")", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "pp", ".", "set", "override", "(", "pref", ".", "get", "boolean", "(", "pref", "constants", ".", "override", ",", "project", "preferences", ".", "default", "override", ")", ")", ";", "pp", ".", "set", "suspend", "(", "pref", ".", "get", "boolean", "(", "pref", "constants", ".", "suspend", ",", "project", "preferences", ".", "default", "suspend", ")", ")", ";", "validator", "[", "]", "vals", "=", "val", "manager", ".", "get", "default", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "validators", "<REPLACE_NEW>", "validators2", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "false", ",", "<DELETE_END>", "<KEEP>", "_", "project", ")", ";", "load", "preferences", "(", "vals", ",", "pref", ")", ";", "pp", ".", "set", "validators", "(", "vals", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "pp", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> false <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "preferences", "<REPLACE_NEW>", "boolean", "<KEEP>", "load", "<KEEP>", "project", "<KEEP>", "preferences", "<KEEP>", "(", "<INSERT>", "project", "<INSERT>", "preferences", "<INSERT>", "pp", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ieclipse", "<KEEP>", "preferences", "<KEEP>", "pref", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "preferences", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "pref", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "pref", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "pref", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "framework", "<KEEP>", "version", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "preferences", "<REPLACE_OLD>", "pp", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "preferences", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "pp", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "override", "<KEEP>", "(", "<KEEP>", "pref", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "pref", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "override", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", "preferences", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "override", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pp", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "suspend", "<KEEP>", "(", "<KEEP>", "pref", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "pref", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "suspend", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", "preferences", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "suspend", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "validator", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "vals", "<KEEP>", "=", "<KEEP>", "val", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "validators", "<REPLACE_NEW>", "validators2", "<KEEP>", "(", "<DELETE>", "false", "<DELETE>", ",", "<KEEP>", "_", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "load", "<KEEP>", "preferences", "<KEEP>", "(", "<KEEP>", "vals", "<KEEP>", ",", "<KEEP>", "pref", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pp", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "validators", "<KEEP>", "(", "<KEEP>", "vals", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "pp", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9893178693770621, "using": 2, "keep": 1}
{"id": "linkedin_rest.li-49-3052", "old_comment": "a non - empty list of individual requests", "old_comment_tokens": ["a", "non", "-", "empty", "list", "of", "individual", "requests"], "new_comment": "a non - empty map of individual requests", "new_comment_tokens": ["a", "non", "-", "empty", "map", "of", "individual", "requests"], "old_code": "private list < individual request > extract individual requests ( rest request rest request ) { validate headers ( rest request ) ; data map data = data map utils . read map ( rest request ) ; multiplexed request content multiplexed request content = data template util . wrap ( data , multiplexed request content . class ) ; list < individual request > individual requests = multiplexed request content . get requests ( ) ; int total count = total request count ( individual requests ) ; if ( total count = = num ) { throw new illegal argument exception ( str ) ; } if ( total count > _ maximum requests number ) { throw new illegal argument exception ( str + _ maximum requests number + str + individual requests . size ( ) ) ; } return individual requests ; }", "old_code_tokens": ["private", "list", "<", "individual", "request", ">", "extract", "individual", "requests", "(", "rest", "request", "rest", "request", ")", "{", "validate", "headers", "(", "rest", "request", ")", ";", "data", "map", "data", "=", "data", "map", "utils", ".", "read", "map", "(", "rest", "request", ")", ";", "multiplexed", "request", "content", "multiplexed", "request", "content", "=", "data", "template", "util", ".", "wrap", "(", "data", ",", "multiplexed", "request", "content", ".", "class", ")", ";", "list", "<", "individual", "request", ">", "individual", "requests", "=", "multiplexed", "request", "content", ".", "get", "requests", "(", ")", ";", "int", "total", "count", "=", "total", "request", "count", "(", "individual", "requests", ")", ";", "if", "(", "total", "count", "=", "=", "num", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "total", "count", ">", "_", "maximum", "requests", "number", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "_", "maximum", "requests", "number", "+", "str", "+", "individual", "requests", ".", "size", "(", ")", ")", ";", "}", "return", "individual", "requests", ";", "}"], "new_code": "private individual request map extract individual requests ( rest request rest request ) { validate headers ( rest request ) ; data map data = data map utils . read map ( rest request ) ; multiplexed request content multiplexed request content = data template util . wrap ( data , multiplexed request content . class ) ; individual request map individual requests = multiplexed request content . get requests ( ) ; int total count = total request count ( individual requests ) ; if ( total count = = num ) { throw new illegal argument exception ( str ) ; } if ( total count > _ maximum requests number ) { throw new illegal argument exception ( str + _ maximum requests number + str + total count ) ; } return individual requests ; }", "new_code_tokens": ["private", "individual", "request", "map", "extract", "individual", "requests", "(", "rest", "request", "rest", "request", ")", "{", "validate", "headers", "(", "rest", "request", ")", ";", "data", "map", "data", "=", "data", "map", "utils", ".", "read", "map", "(", "rest", "request", ")", ";", "multiplexed", "request", "content", "multiplexed", "request", "content", "=", "data", "template", "util", ".", "wrap", "(", "data", ",", "multiplexed", "request", "content", ".", "class", ")", ";", "individual", "request", "map", "individual", "requests", "=", "multiplexed", "request", "content", ".", "get", "requests", "(", ")", ";", "int", "total", "count", "=", "total", "request", "count", "(", "individual", "requests", ")", ";", "if", "(", "total", "count", "=", "=", "num", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "total", "count", ">", "_", "maximum", "requests", "number", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "_", "maximum", "requests", "number", "+", "str", "+", "total", "count", ")", ";", "}", "return", "individual", "requests", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <DELETE> list < <DELETE_END> <KEEP> individual request <KEEP_END> <REPLACE_OLD> > <REPLACE_NEW> map <REPLACE_END> <KEEP> extract individual requests ( rest request rest request ) { validate headers ( rest request ) ; data map data = data map utils . read map ( rest request ) ; multiplexed request content multiplexed request content = data template util . wrap ( data , multiplexed request content . class ) ; <KEEP_END> <DELETE> list < <DELETE_END> <KEEP> individual request <KEEP_END> <REPLACE_OLD> > <REPLACE_NEW> map <REPLACE_END> <KEEP> individual requests = multiplexed request content . get requests ( ) ; int total count = total request count ( individual requests ) ; if ( total count = = num ) { throw new illegal argument exception ( str ) ; } if ( total count > _ maximum requests number ) { throw new illegal argument exception ( str + _ maximum requests number + str + <KEEP_END> <REPLACE_OLD> individual requests . size ( ) <REPLACE_NEW> total count <REPLACE_END> <KEEP> ) ; } return individual requests ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<DELETE>", "list", "<", "<DELETE_END>", "<KEEP>", "individual", "request", "<KEEP_END>", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", "extract", "individual", "requests", "(", "rest", "request", "rest", "request", ")", "{", "validate", "headers", "(", "rest", "request", ")", ";", "data", "map", "data", "=", "data", "map", "utils", ".", "read", "map", "(", "rest", "request", ")", ";", "multiplexed", "request", "content", "multiplexed", "request", "content", "=", "data", "template", "util", ".", "wrap", "(", "data", ",", "multiplexed", "request", "content", ".", "class", ")", ";", "<KEEP_END>", "<DELETE>", "list", "<", "<DELETE_END>", "<KEEP>", "individual", "request", "<KEEP_END>", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", "individual", "requests", "=", "multiplexed", "request", "content", ".", "get", "requests", "(", ")", ";", "int", "total", "count", "=", "total", "request", "count", "(", "individual", "requests", ")", ";", "if", "(", "total", "count", "=", "=", "num", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "total", "count", ">", "_", "maximum", "requests", "number", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "_", "maximum", "requests", "number", "+", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "individual", "requests", ".", "size", "(", ")", "<REPLACE_NEW>", "total", "count", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "return", "individual", "requests", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<DELETE>", "list", "<DELETE>", "<", "<KEEP>", "individual", "<KEEP>", "request", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "map", "<KEEP>", "extract", "<KEEP>", "individual", "<KEEP>", "requests", "<KEEP>", "(", "<KEEP>", "rest", "<KEEP>", "request", "<KEEP>", "rest", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "validate", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", "rest", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "rest", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "multiplexed", "<KEEP>", "request", "<KEEP>", "content", "<KEEP>", "multiplexed", "<KEEP>", "request", "<KEEP>", "content", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", "template", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "wrap", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ",", "<KEEP>", "multiplexed", "<KEEP>", "request", "<KEEP>", "content", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "list", "<DELETE>", "<", "<KEEP>", "individual", "<KEEP>", "request", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "map", "<KEEP>", "individual", "<KEEP>", "requests", "<KEEP>", "=", "<KEEP>", "multiplexed", "<KEEP>", "request", "<KEEP>", "content", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "requests", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "total", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "total", "<KEEP>", "request", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", "individual", "<KEEP>", "requests", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "count", "<KEEP>", ">", "<KEEP>", "_", "<KEEP>", "maximum", "<KEEP>", "requests", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "_", "<KEEP>", "maximum", "<KEEP>", "requests", "<KEEP>", "number", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "individual", "<REPLACE_OLD>", "requests", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "total", "<REPLACE_NEW>", "count", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "individual", "<KEEP>", "requests", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9934080223820578, "using": 2, "keep": 1}
{"id": "powermock_powermock-7-2412", "old_comment": "the fully qualified name of the class corresponding to this type .", "old_comment_tokens": ["the", "fully", "qualified", "name", "of", "the", "class", "corresponding", "to", "this", "type", "."], "new_comment": "the binary name of the class corresponding to this type .", "new_comment_tokens": ["the", "binary", "name", "of", "the", "class", "corresponding", "to", "this", "type", "."], "old_code": "public string get class name ( ) { switch ( sort ) { case void : return str ; case boolean : return str ; case char : return str ; case byte : return str ; case short : return str ; case int : return str ; case float : return str ; case long : return str ; case double : return str ; case array : string buffer b = new string buffer ( get element type ( ) . get class name ( ) ) ; for ( int i = get dimensions ( ) ; i > num ; - - i ) { b . append ( str ) ; } return b . to string ( ) ; default : return new string ( buf , off , len ) . replace ( str , str ) ; } }", "old_code_tokens": ["public", "string", "get", "class", "name", "(", ")", "{", "switch", "(", "sort", ")", "{", "case", "void", ":", "return", "str", ";", "case", "boolean", ":", "return", "str", ";", "case", "char", ":", "return", "str", ";", "case", "byte", ":", "return", "str", ";", "case", "short", ":", "return", "str", ";", "case", "int", ":", "return", "str", ";", "case", "float", ":", "return", "str", ";", "case", "long", ":", "return", "str", ";", "case", "double", ":", "return", "str", ";", "case", "array", ":", "string", "buffer", "b", "=", "new", "string", "buffer", "(", "get", "element", "type", "(", ")", ".", "get", "class", "name", "(", ")", ")", ";", "for", "(", "int", "i", "=", "get", "dimensions", "(", ")", ";", "i", ">", "num", ";", "-", "-", "i", ")", "{", "b", ".", "append", "(", "str", ")", ";", "}", "return", "b", ".", "to", "string", "(", ")", ";", "default", ":", "return", "new", "string", "(", "buf", ",", "off", ",", "len", ")", ".", "replace", "(", "str", ",", "str", ")", ";", "}", "}"], "new_code": "public string get class name ( ) { switch ( sort ) { case void : return str ; case boolean : return str ; case char : return str ; case byte : return str ; case short : return str ; case int : return str ; case float : return str ; case long : return str ; case double : return str ; case array : string builder sb = new string builder ( get element type ( ) . get class name ( ) ) ; for ( int i = get dimensions ( ) ; i > num ; - - i ) { sb . append ( str ) ; } return sb . to string ( ) ; case object : return new string ( buf , off , len ) . replace ( str , str ) ; default : return null ; } }", "new_code_tokens": ["public", "string", "get", "class", "name", "(", ")", "{", "switch", "(", "sort", ")", "{", "case", "void", ":", "return", "str", ";", "case", "boolean", ":", "return", "str", ";", "case", "char", ":", "return", "str", ";", "case", "byte", ":", "return", "str", ";", "case", "short", ":", "return", "str", ";", "case", "int", ":", "return", "str", ";", "case", "float", ":", "return", "str", ";", "case", "long", ":", "return", "str", ";", "case", "double", ":", "return", "str", ";", "case", "array", ":", "string", "builder", "sb", "=", "new", "string", "builder", "(", "get", "element", "type", "(", ")", ".", "get", "class", "name", "(", ")", ")", ";", "for", "(", "int", "i", "=", "get", "dimensions", "(", ")", ";", "i", ">", "num", ";", "-", "-", "i", ")", "{", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", ".", "to", "string", "(", ")", ";", "case", "object", ":", "return", "new", "string", "(", "buf", ",", "off", ",", "len", ")", ".", "replace", "(", "str", ",", "str", ")", ";", "default", ":", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public string get class name ( ) { switch ( sort ) { case void : return str ; case boolean : return str ; case char : return str ; case byte : return str ; case short : return str ; case int : return str ; case float : return str ; case long : return str ; case double : return str ; case array : string <KEEP_END> <REPLACE_OLD> buffer b <REPLACE_NEW> builder sb <REPLACE_END> <KEEP> = new string <KEEP_END> <REPLACE_OLD> buffer <REPLACE_NEW> builder <REPLACE_END> <KEEP> ( get element type ( ) . get class name ( ) ) ; for ( int i = get dimensions ( ) ; i > num ; - - i ) { <KEEP_END> <REPLACE_OLD> b <REPLACE_NEW> sb <REPLACE_END> <KEEP> . append ( str ) ; } return <KEEP_END> <REPLACE_OLD> b <REPLACE_NEW> sb <REPLACE_END> <KEEP> . to string ( ) ; <KEEP_END> <REPLACE_OLD> default <REPLACE_NEW> case object <REPLACE_END> <KEEP> : return new string ( buf , off , len ) . replace ( str , str ) ; <KEEP_END> <INSERT> default : return null ; <INSERT_END> <KEEP> } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "class", "name", "(", ")", "{", "switch", "(", "sort", ")", "{", "case", "void", ":", "return", "str", ";", "case", "boolean", ":", "return", "str", ";", "case", "char", ":", "return", "str", ";", "case", "byte", ":", "return", "str", ";", "case", "short", ":", "return", "str", ";", "case", "int", ":", "return", "str", ";", "case", "float", ":", "return", "str", ";", "case", "long", ":", "return", "str", ";", "case", "double", ":", "return", "str", ";", "case", "array", ":", "string", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "b", "<REPLACE_NEW>", "builder", "sb", "<REPLACE_END>", "<KEEP>", "=", "new", "string", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "(", "get", "element", "type", "(", ")", ".", "get", "class", "name", "(", ")", ")", ";", "for", "(", "int", "i", "=", "get", "dimensions", "(", ")", ";", "i", ">", "num", ";", "-", "-", "i", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "b", "<REPLACE_NEW>", "sb", "<REPLACE_END>", "<KEEP>", ".", "append", "(", "str", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "b", "<REPLACE_NEW>", "sb", "<REPLACE_END>", "<KEEP>", ".", "to", "string", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "default", "<REPLACE_NEW>", "case", "object", "<REPLACE_END>", "<KEEP>", ":", "return", "new", "string", "(", "buf", ",", "off", ",", "len", ")", ".", "replace", "(", "str", ",", "str", ")", ";", "<KEEP_END>", "<INSERT>", "default", ":", "return", "null", ";", "<INSERT_END>", "<KEEP>", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> fully qualified <REPLACE_NEW> binary <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "fully", "qualified", "<REPLACE_NEW>", "binary", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "sort", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "void", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "boolean", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "char", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "byte", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "short", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "int", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "float", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "long", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "double", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "array", "<KEEP>", ":", "<KEEP>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_OLD>", "b", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", "sb", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "dimensions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "-", "<KEEP>", "-", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "b", "<REPLACE_NEW>", "sb", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "b", "<REPLACE_NEW>", "sb", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "default", "<REPLACE_NEW>", "case", "<REPLACE_NEW>", "object", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "buf", "<KEEP>", ",", "<KEEP>", "off", "<KEEP>", ",", "<KEEP>", "len", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "default", "<INSERT>", ":", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8245146759599113, "using": 0, "keep": 1}
{"id": "apache_santuario-java-173-5577", "old_comment": "the octect stream ( byte stream ) from input which was specified as the parameter of xmlsignature input constructor", "old_comment_tokens": ["the", "octect", "stream", "(", "byte", "stream", ")", "from", "input", "which", "was", "specified", "as", "the", "parameter", "of", "xmlsignature", "input", "constructor"], "new_comment": "the octet stream ( byte stream ) from input which was specified as the parameter of xmlsignature input constructor", "new_comment_tokens": ["the", "octet", "stream", "(", "byte", "stream", ")", "from", "input", "which", "was", "specified", "as", "the", "parameter", "of", "xmlsignature", "input", "constructor"], "old_code": "public input stream get octet stream ( ) throws ioexception { if ( _ input octet stream proxy instanceof file input stream ) { return _ input octet stream proxy ; } else { return get resetable input stream ( ) ; } }", "old_code_tokens": ["public", "input", "stream", "get", "octet", "stream", "(", ")", "throws", "ioexception", "{", "if", "(", "_", "input", "octet", "stream", "proxy", "instanceof", "file", "input", "stream", ")", "{", "return", "_", "input", "octet", "stream", "proxy", ";", "}", "else", "{", "return", "get", "resetable", "input", "stream", "(", ")", ";", "}", "}"], "new_code": "public input stream get octet stream ( ) throws ioexception { if ( input octet stream proxy instanceof file input stream ) { return input octet stream proxy ; } else { return get resetable input stream ( ) ; } }", "new_code_tokens": ["public", "input", "stream", "get", "octet", "stream", "(", ")", "throws", "ioexception", "{", "if", "(", "input", "octet", "stream", "proxy", "instanceof", "file", "input", "stream", ")", "{", "return", "input", "octet", "stream", "proxy", ";", "}", "else", "{", "return", "get", "resetable", "input", "stream", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public input stream get octet stream ( ) throws ioexception { if ( <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> input octet stream proxy instanceof file input stream ) { return <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> input octet stream proxy ; } else { return get resetable input stream ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "input", "stream", "get", "octet", "stream", "(", ")", "throws", "ioexception", "{", "if", "(", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "input", "octet", "stream", "proxy", "instanceof", "file", "input", "stream", ")", "{", "return", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "input", "octet", "stream", "proxy", ";", "}", "else", "{", "return", "get", "resetable", "input", "stream", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> octect <REPLACE_NEW> octet <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "octect", "<REPLACE_NEW>", "octet", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "get", "<KEEP>", "octet", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "_", "<KEEP>", "input", "<KEEP>", "octet", "<KEEP>", "stream", "<KEEP>", "proxy", "<KEEP>", "instanceof", "<KEEP>", "file", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "_", "<KEEP>", "input", "<KEEP>", "octet", "<KEEP>", "stream", "<KEEP>", "proxy", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "resetable", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9302137487503866, "using": 0, "keep": 1}
{"id": "codehaus_coconut-24-4054", "old_comment": "a filter that performs xor on two other filters .", "old_comment_tokens": ["a", "filter", "that", "performs", "xor", "on", "two", "other", "filters", "."], "new_comment": "a predicate that performs xor on two other predicates .", "new_comment_tokens": ["a", "predicate", "that", "performs", "xor", "on", "two", "other", "predicates", "."], "old_code": "public static < e > filters . xor filter < e > xor ( filter < e > left , filter < e > right ) { return new filters . xor filter < e > ( left , right ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "filters", ".", "xor", "filter", "<", "e", ">", "xor", "(", "filter", "<", "e", ">", "left", ",", "filter", "<", "e", ">", "right", ")", "{", "return", "new", "filters", ".", "xor", "filter", "<", "e", ">", "(", "left", ",", "right", ")", ";", "}"], "new_code": "public static < e > predicates . xor predicate < e > xor ( predicate < e > left , predicate < e > right ) { return new predicates . xor predicate < e > ( left , right ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "predicates", ".", "xor", "predicate", "<", "e", ">", "xor", "(", "predicate", "<", "e", ">", "left", ",", "predicate", "<", "e", ">", "right", ")", "{", "return", "new", "predicates", ".", "xor", "predicate", "<", "e", ">", "(", "left", ",", "right", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> . xor <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > xor ( <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > left , <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > right ) { return new <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> . xor <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > ( left , right ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ".", "xor", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "xor", "(", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "left", ",", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "right", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ".", "xor", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "(", "left", ",", "right", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ".", "<KEEP>", "xor", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "xor", "<KEEP>", "(", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "left", "<KEEP>", ",", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ".", "<KEEP>", "xor", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9702804538745774, "using": 2, "keep": 1}
{"id": "Netflix_Hystrix-8-3611", "old_comment": "future if offer accepted , null if batch is full , already started or completed", "old_comment_tokens": ["future", "if", "offer", "accepted", ",", "null", "if", "batch", "is", "full", ",", "already", "started", "or", "completed"], "new_comment": "observable if offer accepted , null if batch is full , already started or completed", "new_comment_tokens": ["observable", "if", "offer", "accepted", ",", "null", "if", "batch", "is", "full", ",", "already", "started", "or", "completed"], "old_code": "public future < response type > offer ( request argument type arg ) { if ( batch started . get ( ) ) { return null ; } if ( batch lock . read lock ( ) . try lock ( ) ) { try { int s = count . increment and get ( ) ; if ( s > max batch size ) { return null ; } else { collapsed request future impl < response type , request argument type > f = new collapsed request future impl < response type , request argument type > ( this , arg ) ; requests . add ( f ) ; return f ; } } finally { batch lock . read lock ( ) . unlock ( ) ; } } else { return null ; } }", "old_code_tokens": ["public", "future", "<", "response", "type", ">", "offer", "(", "request", "argument", "type", "arg", ")", "{", "if", "(", "batch", "started", ".", "get", "(", ")", ")", "{", "return", "null", ";", "}", "if", "(", "batch", "lock", ".", "read", "lock", "(", ")", ".", "try", "lock", "(", ")", ")", "{", "try", "{", "int", "s", "=", "count", ".", "increment", "and", "get", "(", ")", ";", "if", "(", "s", ">", "max", "batch", "size", ")", "{", "return", "null", ";", "}", "else", "{", "collapsed", "request", "future", "impl", "<", "response", "type", ",", "request", "argument", "type", ">", "f", "=", "new", "collapsed", "request", "future", "impl", "<", "response", "type", ",", "request", "argument", "type", ">", "(", "this", ",", "arg", ")", ";", "requests", ".", "add", "(", "f", ")", ";", "return", "f", ";", "}", "}", "finally", "{", "batch", "lock", ".", "read", "lock", "(", ")", ".", "unlock", "(", ")", ";", "}", "}", "else", "{", "return", "null", ";", "}", "}"], "new_code": "public observable < response type > offer ( request argument type arg ) { if ( batch started . get ( ) ) { return null ; } if ( batch lock . read lock ( ) . try lock ( ) ) { try { int s = count . increment and get ( ) ; if ( s > max batch size ) { return null ; } else { collapsed request observable function < response type , request argument type > f = new collapsed request observable function < response type , request argument type > ( arg ) ; requests . add ( f ) ; return observable . create ( f ) ; } } finally { batch lock . read lock ( ) . unlock ( ) ; } } else { return null ; } }", "new_code_tokens": ["public", "observable", "<", "response", "type", ">", "offer", "(", "request", "argument", "type", "arg", ")", "{", "if", "(", "batch", "started", ".", "get", "(", ")", ")", "{", "return", "null", ";", "}", "if", "(", "batch", "lock", ".", "read", "lock", "(", ")", ".", "try", "lock", "(", ")", ")", "{", "try", "{", "int", "s", "=", "count", ".", "increment", "and", "get", "(", ")", ";", "if", "(", "s", ">", "max", "batch", "size", ")", "{", "return", "null", ";", "}", "else", "{", "collapsed", "request", "observable", "function", "<", "response", "type", ",", "request", "argument", "type", ">", "f", "=", "new", "collapsed", "request", "observable", "function", "<", "response", "type", ",", "request", "argument", "type", ">", "(", "arg", ")", ";", "requests", ".", "add", "(", "f", ")", ";", "return", "observable", ".", "create", "(", "f", ")", ";", "}", "}", "finally", "{", "batch", "lock", ".", "read", "lock", "(", ")", ".", "unlock", "(", ")", ";", "}", "}", "else", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> future <REPLACE_NEW> observable <REPLACE_END> <KEEP> < response type > offer ( request argument type arg ) { if ( batch started . get ( ) ) { return null ; } if ( batch lock . read lock ( ) . try lock ( ) ) { try { int s = count . increment and get ( ) ; if ( s > max batch size ) { return null ; } else { collapsed request <KEEP_END> <REPLACE_OLD> future impl <REPLACE_NEW> observable function <REPLACE_END> <KEEP> < response type , request argument type > f = new collapsed request <KEEP_END> <REPLACE_OLD> future impl <REPLACE_NEW> observable function <REPLACE_END> <KEEP> < response type , request argument type > ( <KEEP_END> <DELETE> this , <DELETE_END> <KEEP> arg ) ; requests . add ( f ) ; return <KEEP_END> <INSERT> observable . create ( <INSERT_END> <KEEP> f <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } } finally { batch lock . read lock ( ) . unlock ( ) ; } } else { return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "future", "<REPLACE_NEW>", "observable", "<REPLACE_END>", "<KEEP>", "<", "response", "type", ">", "offer", "(", "request", "argument", "type", "arg", ")", "{", "if", "(", "batch", "started", ".", "get", "(", ")", ")", "{", "return", "null", ";", "}", "if", "(", "batch", "lock", ".", "read", "lock", "(", ")", ".", "try", "lock", "(", ")", ")", "{", "try", "{", "int", "s", "=", "count", ".", "increment", "and", "get", "(", ")", ";", "if", "(", "s", ">", "max", "batch", "size", ")", "{", "return", "null", ";", "}", "else", "{", "collapsed", "request", "<KEEP_END>", "<REPLACE_OLD>", "future", "impl", "<REPLACE_NEW>", "observable", "function", "<REPLACE_END>", "<KEEP>", "<", "response", "type", ",", "request", "argument", "type", ">", "f", "=", "new", "collapsed", "request", "<KEEP_END>", "<REPLACE_OLD>", "future", "impl", "<REPLACE_NEW>", "observable", "function", "<REPLACE_END>", "<KEEP>", "<", "response", "type", ",", "request", "argument", "type", ">", "(", "<KEEP_END>", "<DELETE>", "this", ",", "<DELETE_END>", "<KEEP>", "arg", ")", ";", "requests", ".", "add", "(", "f", ")", ";", "return", "<KEEP_END>", "<INSERT>", "observable", ".", "create", "(", "<INSERT_END>", "<KEEP>", "f", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "}", "finally", "{", "batch", "lock", ".", "read", "lock", "(", ")", ".", "unlock", "(", ")", ";", "}", "}", "else", "{", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> future <REPLACE_NEW> observable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "future", "<REPLACE_NEW>", "observable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "future", "<REPLACE_NEW>", "observable", "<KEEP>", "<", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ">", "<KEEP>", "offer", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", "argument", "<KEEP>", "type", "<KEEP>", "arg", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "batch", "<KEEP>", "started", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "batch", "<KEEP>", "lock", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "try", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "s", "<KEEP>", "=", "<KEEP>", "count", "<KEEP>", ".", "<KEEP>", "increment", "<KEEP>", "and", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", ">", "<KEEP>", "max", "<KEEP>", "batch", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "collapsed", "<KEEP>", "request", "<REPLACE_OLD>", "future", "<REPLACE_OLD>", "impl", "<REPLACE_NEW>", "observable", "<REPLACE_NEW>", "function", "<KEEP>", "<", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", "argument", "<KEEP>", "type", "<KEEP>", ">", "<KEEP>", "f", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "collapsed", "<KEEP>", "request", "<REPLACE_OLD>", "future", "<REPLACE_OLD>", "impl", "<REPLACE_NEW>", "observable", "<REPLACE_NEW>", "function", "<KEEP>", "<", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", "argument", "<KEEP>", "type", "<KEEP>", ">", "<KEEP>", "(", "<DELETE>", "this", "<DELETE>", ",", "<KEEP>", "arg", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "requests", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "f", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "observable", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "(", "<KEEP>", "f", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "batch", "<KEEP>", "lock", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "unlock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9831964980736423, "using": 2, "keep": 1}
{"id": "google_gdata-java-client-260-4693", "old_comment": "a plain - text representation of this text construct", "old_comment_tokens": ["a", "plain", "-", "text", "representation", "of", "this", "text", "construct"], "new_comment": "a plain - text representation of this text construct or null if there is no html content .", "new_comment_tokens": ["a", "plain", "-", "text", "representation", "of", "this", "text", "construct", "or", "null", "if", "there", "is", "no", "html", "content", "."], "old_code": "@ override public string get plain text ( ) { return html to text . html to plain text ( html ) ; }", "old_code_tokens": ["@", "override", "public", "string", "get", "plain", "text", "(", ")", "{", "return", "html", "to", "text", ".", "html", "to", "plain", "text", "(", "html", ")", ";", "}"], "new_code": "@ override public string get plain text ( ) { return ! is empty ( ) ? html to text . html to plain text ( html ) : null ; }", "new_code_tokens": ["@", "override", "public", "string", "get", "plain", "text", "(", ")", "{", "return", "!", "is", "empty", "(", ")", "?", "html", "to", "text", ".", "html", "to", "plain", "text", "(", "html", ")", ":", "null", ";", "}"], "span_diff_code": "<KEEP> @ override public string get plain text ( ) { return <KEEP_END> <INSERT> ! is empty ( ) ? <INSERT_END> <KEEP> html to text . html to plain text ( html ) <KEEP_END> <INSERT> : null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "string", "get", "plain", "text", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "!", "is", "empty", "(", ")", "?", "<INSERT_END>", "<KEEP>", "html", "to", "text", ".", "html", "to", "plain", "text", "(", "html", ")", "<KEEP_END>", "<INSERT>", ":", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> construct <INSERT_NEW_KEEP_BEFORE> construct or null if there is no html content . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "construct", "<INSERT_NEW_KEEP_BEFORE>", "construct", "or", "null", "if", "there", "is", "no", "html", "content", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "plain", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "!", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "?", "<KEEP>", "html", "<KEEP>", "to", "<KEEP>", "text", "<KEEP>", ".", "<KEEP>", "html", "<KEEP>", "to", "<KEEP>", "plain", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "html", "<KEEP>", ")", "<INSERT>", ":", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8579711893050425, "using": 1, "keep": 1}
{"id": "azkaban_azkaban-32-3683", "old_comment": "system can satisfy the memory request or not given xms / xmx values ( in kb ) used by java process , determine if system can satisfy the memory request", "old_comment_tokens": ["system", "can", "satisfy", "the", "memory", "request", "or", "not", "given", "xms", "/", "xmx", "values", "(", "in", "kb", ")", "used", "by", "java", "process", ",", "determine", "if", "system", "can", "satisfy", "the", "memory", "request"], "new_comment": "true if the system can satisfy the memory request given xmx value ( in kb ) used by java process , determine if system can satisfy the memory request", "new_comment_tokens": ["true", "if", "the", "system", "can", "satisfy", "the", "memory", "request", "given", "xmx", "value", "(", "in", "kb", ")", "used", "by", "java", "process", ",", "determine", "if", "system", "can", "satisfy", "the", "memory", "request"], "old_code": "public synchronized static boolean can system grant memory ( long xms , long xmx , long free mem decr amt ) { if ( ! mem check enabled ) { return true ; } if ( free mem amount < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , low _ mem _ threshold ) ) ; return false ; } if ( free mem amount > = low _ mem _ threshold & & free mem amount < num * low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , low _ mem _ threshold ) ) ; get free memory size ( ) ; } if ( free mem amount < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , low _ mem _ threshold ) ) ; return false ; } if ( free mem amount - xmx < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , xmx , low _ mem _ threshold ) ) ; return false ; } if ( free mem decr amt > num ) { free mem amount - = free mem decr amt ; logger . info ( string . format ( str , free mem decr amt , free mem amount ) ) ; } else { free mem amount - = xms ; logger . info ( string . format ( str , xms , free mem amount ) ) ; } return true ; }", "old_code_tokens": ["public", "synchronized", "static", "boolean", "can", "system", "grant", "memory", "(", "long", "xms", ",", "long", "xmx", ",", "long", "free", "mem", "decr", "amt", ")", "{", "if", "(", "!", "mem", "check", "enabled", ")", "{", "return", "true", ";", "}", "if", "(", "free", "mem", "amount", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "if", "(", "free", "mem", "amount", ">", "=", "low", "_", "mem", "_", "threshold", "&", "&", "free", "mem", "amount", "<", "num", "*", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "get", "free", "memory", "size", "(", ")", ";", "}", "if", "(", "free", "mem", "amount", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "if", "(", "free", "mem", "amount", "-", "xmx", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "xmx", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "if", "(", "free", "mem", "decr", "amt", ">", "num", ")", "{", "free", "mem", "amount", "-", "=", "free", "mem", "decr", "amt", ";", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "decr", "amt", ",", "free", "mem", "amount", ")", ")", ";", "}", "else", "{", "free", "mem", "amount", "-", "=", "xms", ";", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "xms", ",", "free", "mem", "amount", ")", ")", ";", "}", "return", "true", ";", "}"], "new_code": "public boolean can system grant memory ( long xmx ) { long free mem size = util . get os total free memory size ( ) ; if ( free mem size = = num ) { return true ; } if ( free mem size - xmx < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem size , xmx , low _ mem _ threshold ) ) ; return false ; } return true ; }", "new_code_tokens": ["public", "boolean", "can", "system", "grant", "memory", "(", "long", "xmx", ")", "{", "long", "free", "mem", "size", "=", "util", ".", "get", "os", "total", "free", "memory", "size", "(", ")", ";", "if", "(", "free", "mem", "size", "=", "=", "num", ")", "{", "return", "true", ";", "}", "if", "(", "free", "mem", "size", "-", "xmx", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "size", ",", "xmx", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> synchronized static <DELETE_END> <KEEP> boolean can system grant memory ( long <KEEP_END> <DELETE> xms , long <DELETE_END> <KEEP> xmx <KEEP_END> <REPLACE_OLD> , <REPLACE_NEW> ) { <REPLACE_END> <KEEP> long free mem <KEEP_END> <REPLACE_OLD> decr amt <REPLACE_NEW> size = util . get os total free memory size ( <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> { <REPLACE_NEW> ; <REPLACE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> free <REPLACE_END> <KEEP> mem <KEEP_END> <REPLACE_OLD> check enabled <REPLACE_NEW> size = = num <REPLACE_END> <KEEP> ) { return true ; } if ( free mem <KEEP_END> <DELETE> amount < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , low _ mem _ threshold ) ) ; return false ; } if ( free mem amount > = low _ mem _ threshold & & free mem amount < num * low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , low _ mem _ threshold ) ) ; get free memory <DELETE_END> <KEEP> size <KEEP_END> <DELETE> ( ) ; } if ( free mem amount < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem amount , low _ mem _ threshold ) ) ; return false ; } if ( free mem amount <DELETE_END> <KEEP> - xmx < low _ mem _ threshold ) { logger . info ( string . format ( str , free mem <KEEP_END> <REPLACE_OLD> amount <REPLACE_NEW> size <REPLACE_END> <KEEP> , xmx , low _ mem _ threshold ) ) ; return false ; } <KEEP_END> <DELETE> if ( free mem decr amt > num ) { free mem amount - = free mem decr amt ; logger . info ( string . format ( str , free mem decr amt , free mem amount ) ) ; } else { free mem amount - = xms ; logger . info ( string . format ( str , xms , free mem amount ) ) ; } <DELETE_END> <KEEP> return true ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "synchronized", "static", "<DELETE_END>", "<KEEP>", "boolean", "can", "system", "grant", "memory", "(", "long", "<KEEP_END>", "<DELETE>", "xms", ",", "long", "<DELETE_END>", "<KEEP>", "xmx", "<KEEP_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "{", "<REPLACE_END>", "<KEEP>", "long", "free", "mem", "<KEEP_END>", "<REPLACE_OLD>", "decr", "amt", "<REPLACE_NEW>", "size", "=", "util", ".", "get", "os", "total", "free", "memory", "size", "(", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<REPLACE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "free", "<REPLACE_END>", "<KEEP>", "mem", "<KEEP_END>", "<REPLACE_OLD>", "check", "enabled", "<REPLACE_NEW>", "size", "=", "=", "num", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "true", ";", "}", "if", "(", "free", "mem", "<KEEP_END>", "<DELETE>", "amount", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "if", "(", "free", "mem", "amount", ">", "=", "low", "_", "mem", "_", "threshold", "&", "&", "free", "mem", "amount", "<", "num", "*", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "get", "free", "memory", "<DELETE_END>", "<KEEP>", "size", "<KEEP_END>", "<DELETE>", "(", ")", ";", "}", "if", "(", "free", "mem", "amount", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "amount", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "if", "(", "free", "mem", "amount", "<DELETE_END>", "<KEEP>", "-", "xmx", "<", "low", "_", "mem", "_", "threshold", ")", "{", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "<KEEP_END>", "<REPLACE_OLD>", "amount", "<REPLACE_NEW>", "size", "<REPLACE_END>", "<KEEP>", ",", "xmx", ",", "low", "_", "mem", "_", "threshold", ")", ")", ";", "return", "false", ";", "}", "<KEEP_END>", "<DELETE>", "if", "(", "free", "mem", "decr", "amt", ">", "num", ")", "{", "free", "mem", "amount", "-", "=", "free", "mem", "decr", "amt", ";", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "free", "mem", "decr", "amt", ",", "free", "mem", "amount", ")", ")", ";", "}", "else", "{", "free", "mem", "amount", "-", "=", "xms", ";", "logger", ".", "info", "(", "string", ".", "format", "(", "str", ",", "xms", ",", "free", "mem", "amount", ")", ")", ";", "}", "<DELETE_END>", "<KEEP>", "return", "true", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> system can satisfy the memory request or not given xms / xmx values ( in kb ) used by java process , determine if system can satisfy the memory request <REPLACE_NEW> true if the system can satisfy the memory request given xmx value ( in kb ) used by java process , determine if system can satisfy the memory request <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "system", "can", "satisfy", "the", "memory", "request", "or", "not", "given", "xms", "/", "xmx", "values", "(", "in", "kb", ")", "used", "by", "java", "process", ",", "determine", "if", "system", "can", "satisfy", "the", "memory", "request", "<REPLACE_NEW>", "true", "if", "the", "system", "can", "satisfy", "the", "memory", "request", "given", "xmx", "value", "(", "in", "kb", ")", "used", "by", "java", "process", ",", "determine", "if", "system", "can", "satisfy", "the", "memory", "request", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "synchronized", "<DELETE>", "static", "<KEEP>", "boolean", "<KEEP>", "can", "<KEEP>", "system", "<KEEP>", "grant", "<KEEP>", "memory", "<KEEP>", "(", "<KEEP>", "long", "<DELETE>", "xms", "<DELETE>", ",", "<DELETE>", "long", "<KEEP>", "xmx", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "long", "<KEEP>", "free", "<KEEP>", "mem", "<REPLACE_OLD>", "decr", "<REPLACE_OLD>", "amt", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "util", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "os", "<REPLACE_NEW>", "total", "<REPLACE_NEW>", "free", "<REPLACE_NEW>", "memory", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "free", "<KEEP>", "mem", "<REPLACE_OLD>", "check", "<REPLACE_OLD>", "enabled", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "free", "<KEEP>", "mem", "<DELETE>", "amount", "<DELETE>", "<", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", ",", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", ">", "<DELETE>", "=", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", "<", "<DELETE>", "num", "<DELETE>", "*", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", ",", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "get", "<DELETE>", "free", "<DELETE>", "memory", "<KEEP>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", "<", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", ",", "<DELETE>", "low", "<DELETE>", "_", "<DELETE>", "mem", "<DELETE>", "_", "<DELETE>", "threshold", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<KEEP>", "-", "<KEEP>", "xmx", "<KEEP>", "<", "<KEEP>", "low", "<KEEP>", "_", "<KEEP>", "mem", "<KEEP>", "_", "<KEEP>", "threshold", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "free", "<KEEP>", "mem", "<REPLACE_OLD>", "amount", "<REPLACE_NEW>", "size", "<KEEP>", ",", "<KEEP>", "xmx", "<KEEP>", ",", "<KEEP>", "low", "<KEEP>", "_", "<KEEP>", "mem", "<KEEP>", "_", "<KEEP>", "threshold", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "decr", "<DELETE>", "amt", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", "-", "<DELETE>", "=", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "decr", "<DELETE>", "amt", "<DELETE>", ";", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "decr", "<DELETE>", "amt", "<DELETE>", ",", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", "-", "<DELETE>", "=", "<DELETE>", "xms", "<DELETE>", ";", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "xms", "<DELETE>", ",", "<DELETE>", "free", "<DELETE>", "mem", "<DELETE>", "amount", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8340401346940969, "using": 0, "keep": 1}
{"id": "mikepenz_Android-Iconics-27-1272", "old_comment": "the current icon drawable for chaining .", "old_comment_tokens": ["the", "current", "icon", "drawable", "for", "chaining", "."], "new_comment": "the current icon ext drawable for chaining .", "new_comment_tokens": ["the", "current", "icon", "ext", "drawable", "for", "chaining", "."], "old_code": "public iconics drawable size dp ( int size ) { return size px ( utils . convert dp to px ( context , size ) ) ; }", "old_code_tokens": ["public", "iconics", "drawable", "size", "dp", "(", "int", "size", ")", "{", "return", "size", "px", "(", "utils", ".", "convert", "dp", "to", "px", "(", "context", ",", "size", ")", ")", ";", "}"], "new_code": "public iconics drawable size dp ( int size ) { return size px ( utils . convert dp to px ( m context , size ) ) ; }", "new_code_tokens": ["public", "iconics", "drawable", "size", "dp", "(", "int", "size", ")", "{", "return", "size", "px", "(", "utils", ".", "convert", "dp", "to", "px", "(", "m", "context", ",", "size", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public iconics drawable size dp ( int size ) { return size px ( utils . convert dp to px ( <KEEP_END> <INSERT> m <INSERT_END> <KEEP> context , size ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iconics", "drawable", "size", "dp", "(", "int", "size", ")", "{", "return", "size", "px", "(", "utils", ".", "convert", "dp", "to", "px", "(", "<KEEP_END>", "<INSERT>", "m", "<INSERT_END>", "<KEEP>", "context", ",", "size", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> icon <INSERT_NEW_KEEP_BEFORE> icon ext <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "icon", "<INSERT_NEW_KEEP_BEFORE>", "icon", "ext", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iconics", "<KEEP>", "drawable", "<KEEP>", "size", "<KEEP>", "dp", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "size", "<KEEP>", "px", "<KEEP>", "(", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "convert", "<KEEP>", "dp", "<KEEP>", "to", "<KEEP>", "px", "<KEEP>", "(", "<INSERT>", "m", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.885458849497243, "using": 0, "keep": 1}
{"id": "google_protobuf-dt-4-4871", "old_comment": "the project that contains the resource at the given uri .", "old_comment_tokens": ["the", "project", "that", "contains", "the", "resource", "at", "the", "given", "uri", "."], "new_comment": "the project that contains the resource at the given uri , or null if the resource at the given uri is not in a workspace .", "new_comment_tokens": ["the", "project", "that", "contains", "the", "resource", "at", "the", "given", "uri", ",", "or", "null", "if", "the", "resource", "at", "the", "given", "uri", "is", "not", "in", "a", "workspace", "."], "old_code": "public iproject project ( uri resource uri ) { return file ( resource uri ) . get project ( ) ; }", "old_code_tokens": ["public", "iproject", "project", "(", "uri", "resource", "uri", ")", "{", "return", "file", "(", "resource", "uri", ")", ".", "get", "project", "(", ")", ";", "}"], "new_code": "public iproject project ( uri resource uri ) { ifile file = file ( resource uri ) ; return ( file ! = null ) ? file . get project ( ) : null ; }", "new_code_tokens": ["public", "iproject", "project", "(", "uri", "resource", "uri", ")", "{", "ifile", "file", "=", "file", "(", "resource", "uri", ")", ";", "return", "(", "file", "!", "=", "null", ")", "?", "file", ".", "get", "project", "(", ")", ":", "null", ";", "}"], "span_diff_code": "<KEEP> public iproject project ( uri resource uri ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> ifile file = <REPLACE_END> <KEEP> file ( resource uri ) <KEEP_END> <INSERT> ; return ( file ! = null ) ? file <INSERT_END> <KEEP> . get project ( ) <KEEP_END> <INSERT> : null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iproject", "project", "(", "uri", "resource", "uri", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "ifile", "file", "=", "<REPLACE_END>", "<KEEP>", "file", "(", "resource", "uri", ")", "<KEEP_END>", "<INSERT>", ";", "return", "(", "file", "!", "=", "null", ")", "?", "file", "<INSERT_END>", "<KEEP>", ".", "get", "project", "(", ")", "<KEEP_END>", "<INSERT>", ":", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> uri <INSERT_NEW_KEEP_BEFORE> uri , or null if the resource at the given uri is not in a workspace <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "uri", "<INSERT_NEW_KEEP_BEFORE>", "uri", ",", "or", "null", "if", "the", "resource", "at", "the", "given", "uri", "is", "not", "in", "a", "workspace", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", "resource", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "ifile", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "=", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", "uri", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "(", "<INSERT>", "file", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "?", "<INSERT>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ":", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8186085270663829, "using": 2, "keep": 1}
{"id": "Letractively_fishear-4-4688", "old_comment": "form handler return value .", "old_comment_tokens": ["form", "handler", "return", "value", "."], "new_comment": "form handler return value . by default , returns true .", "new_comment_tokens": ["form", "handler", "return", "value", ".", "by", "default", ",", "returns", "true", "."], "old_code": "protected object get form return ( ) { return get return ( ) ; }", "old_code_tokens": ["protected", "object", "get", "form", "return", "(", ")", "{", "return", "get", "return", "(", ")", ";", "}"], "new_code": "protected object get form return ( ) { return true ; }", "new_code_tokens": ["protected", "object", "get", "form", "return", "(", ")", "{", "return", "true", ";", "}"], "span_diff_code": "<KEEP> protected object get form return ( ) { return <KEEP_END> <REPLACE_OLD> get return ( ) <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "object", "get", "form", "return", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "get", "return", "(", ")", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . by default , returns true . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "by", "default", ",", "returns", "true", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "form", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8914431169986274, "using": 1, "keep": 1}
{"id": "eclipse_n4js-30-4414", "old_comment": "all types in a mapped with fully qualified type name ( incl module spec ) as key , the type info conly contains the types , no other information yet .", "old_comment_tokens": ["all", "types", "in", "a", "mapped", "with", "fully", "qualified", "type", "name", "(", "incl", "module", "spec", ")", "as", "key", ",", "the", "type", "info", "conly", "contains", "the", "types", ",", "no", "other", "information", "yet", "."], "new_comment": "all types in a mapped with fully qualified type name ( inclusive module spec ) as key , the type info only contains the types , no other information yet .", "new_comment_tokens": ["all", "types", "in", "a", "mapped", "with", "fully", "qualified", "type", "name", "(", "inclusive", "module", "spec", ")", "as", "key", ",", "the", "type", "info", "only", "contains", "the", "types", ",", "no", "other", "information", "yet", "."], "old_code": "public map < string , spec info > read n4 jsds ( collection < in4 jsproject > projects , function < in4 jsproject , resource set > res set provider , sub monitor msg monitor ) throws interrupted exception { map < string , spec info > spec info by name = new hash map < > ( ) ; resource set res set = null ; sub monitor msg sub = monitor . convert ( num * num * projects . size ( ) ) ; for ( in4 jsproject project : projects ) { if ( res set = = null ) { res set = res set provider . apply ( project ) ; } read scripts ( spec info by name , project , res set , sub . new child ( num ) ) ; } for ( in4 jsproject project : projects ) { if ( res set = = null ) { res set = res set provider . apply ( project ) ; } link tests ( spec info by name , project , res set , sub . new child ( num ) ) ; } return spec info by name ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "spec", "info", ">", "read", "n4", "jsds", "(", "collection", "<", "in4", "jsproject", ">", "projects", ",", "function", "<", "in4", "jsproject", ",", "resource", "set", ">", "res", "set", "provider", ",", "sub", "monitor", "msg", "monitor", ")", "throws", "interrupted", "exception", "{", "map", "<", "string", ",", "spec", "info", ">", "spec", "info", "by", "name", "=", "new", "hash", "map", "<", ">", "(", ")", ";", "resource", "set", "res", "set", "=", "null", ";", "sub", "monitor", "msg", "sub", "=", "monitor", ".", "convert", "(", "num", "*", "num", "*", "projects", ".", "size", "(", ")", ")", ";", "for", "(", "in4", "jsproject", "project", ":", "projects", ")", "{", "if", "(", "res", "set", "=", "=", "null", ")", "{", "res", "set", "=", "res", "set", "provider", ".", "apply", "(", "project", ")", ";", "}", "read", "scripts", "(", "spec", "info", "by", "name", ",", "project", ",", "res", "set", ",", "sub", ".", "new", "child", "(", "num", ")", ")", ";", "}", "for", "(", "in4", "jsproject", "project", ":", "projects", ")", "{", "if", "(", "res", "set", "=", "=", "null", ")", "{", "res", "set", "=", "res", "set", "provider", ".", "apply", "(", "project", ")", ";", "}", "link", "tests", "(", "spec", "info", "by", "name", ",", "project", ",", "res", "set", ",", "sub", ".", "new", "child", "(", "num", ")", ")", ";", "}", "return", "spec", "info", "by", "name", ";", "}"], "new_code": "public collection < spec info > read n4 jsds ( collection < in4 jsproject > projects , function < in4 jsproject , resource set > res set provider , sub monitor msg monitor ) throws interrupted exception { multimap < string , spec info > spec info by name = hash multimap . create ( ) ; resource set res set = null ; sub monitor msg sub = monitor . convert ( num * num * projects . size ( ) ) ; for ( in4 jsproject project : projects ) { if ( res set = = null ) { res set = res set provider . apply ( project ) ; } read scripts ( spec info by name , project , res set , sub . new child ( num ) ) ; } for ( in4 jsproject project : projects ) { if ( res set = = null ) { res set = res set provider . apply ( project ) ; } link tests ( spec info by name , project , res set , sub . new child ( num ) ) ; } return spec info by name . values ( ) ; }", "new_code_tokens": ["public", "collection", "<", "spec", "info", ">", "read", "n4", "jsds", "(", "collection", "<", "in4", "jsproject", ">", "projects", ",", "function", "<", "in4", "jsproject", ",", "resource", "set", ">", "res", "set", "provider", ",", "sub", "monitor", "msg", "monitor", ")", "throws", "interrupted", "exception", "{", "multimap", "<", "string", ",", "spec", "info", ">", "spec", "info", "by", "name", "=", "hash", "multimap", ".", "create", "(", ")", ";", "resource", "set", "res", "set", "=", "null", ";", "sub", "monitor", "msg", "sub", "=", "monitor", ".", "convert", "(", "num", "*", "num", "*", "projects", ".", "size", "(", ")", ")", ";", "for", "(", "in4", "jsproject", "project", ":", "projects", ")", "{", "if", "(", "res", "set", "=", "=", "null", ")", "{", "res", "set", "=", "res", "set", "provider", ".", "apply", "(", "project", ")", ";", "}", "read", "scripts", "(", "spec", "info", "by", "name", ",", "project", ",", "res", "set", ",", "sub", ".", "new", "child", "(", "num", ")", ")", ";", "}", "for", "(", "in4", "jsproject", "project", ":", "projects", ")", "{", "if", "(", "res", "set", "=", "=", "null", ")", "{", "res", "set", "=", "res", "set", "provider", ".", "apply", "(", "project", ")", ";", "}", "link", "tests", "(", "spec", "info", "by", "name", ",", "project", ",", "res", "set", ",", "sub", ".", "new", "child", "(", "num", ")", ")", ";", "}", "return", "spec", "info", "by", "name", ".", "values", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> map < string , <REPLACE_NEW> collection < <REPLACE_END> <KEEP> spec info > read n4 jsds ( collection < in4 jsproject > projects , function < in4 jsproject , resource set > res set provider , sub monitor msg monitor ) throws interrupted exception { <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> multimap <REPLACE_END> <KEEP> < string , spec info > spec info by name = <KEEP_END> <DELETE> new <DELETE_END> <KEEP> hash <KEEP_END> <REPLACE_OLD> map < > <REPLACE_NEW> multimap . create <REPLACE_END> <KEEP> ( ) ; resource set res set = null ; sub monitor msg sub = monitor . convert ( num * num * projects . size ( ) ) ; for ( in4 jsproject project : projects ) { if ( res set = = null ) { res set = res set provider . apply ( project ) ; } read scripts ( spec info by name , project , res set , sub . new child ( num ) ) ; } for ( in4 jsproject project : projects ) { if ( res set = = null ) { res set = res set provider . apply ( project ) ; } link tests ( spec info by name , project , res set , sub . new child ( num ) ) ; } return spec info by name <KEEP_END> <REPLACE_OLD> ; } <REPLACE_NEW> . values ( ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "<REPLACE_NEW>", "collection", "<", "<REPLACE_END>", "<KEEP>", "spec", "info", ">", "read", "n4", "jsds", "(", "collection", "<", "in4", "jsproject", ">", "projects", ",", "function", "<", "in4", "jsproject", ",", "resource", "set", ">", "res", "set", "provider", ",", "sub", "monitor", "msg", "monitor", ")", "throws", "interrupted", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "spec", "info", ">", "spec", "info", "by", "name", "=", "<KEEP_END>", "<DELETE>", "new", "<DELETE_END>", "<KEEP>", "hash", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", ">", "<REPLACE_NEW>", "multimap", ".", "create", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "resource", "set", "res", "set", "=", "null", ";", "sub", "monitor", "msg", "sub", "=", "monitor", ".", "convert", "(", "num", "*", "num", "*", "projects", ".", "size", "(", ")", ")", ";", "for", "(", "in4", "jsproject", "project", ":", "projects", ")", "{", "if", "(", "res", "set", "=", "=", "null", ")", "{", "res", "set", "=", "res", "set", "provider", ".", "apply", "(", "project", ")", ";", "}", "read", "scripts", "(", "spec", "info", "by", "name", ",", "project", ",", "res", "set", ",", "sub", ".", "new", "child", "(", "num", ")", ")", ";", "}", "for", "(", "in4", "jsproject", "project", ":", "projects", ")", "{", "if", "(", "res", "set", "=", "=", "null", ")", "{", "res", "set", "=", "res", "set", "provider", ".", "apply", "(", "project", ")", ";", "}", "link", "tests", "(", "spec", "info", "by", "name", ",", "project", ",", "res", "set", ",", "sub", ".", "new", "child", "(", "num", ")", ")", ";", "}", "return", "spec", "info", "by", "name", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "<REPLACE_NEW>", ".", "values", "(", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> incl <REPLACE_NEW> inclusive <REPLACE_END> <REPLACE_OLD> conly <REPLACE_NEW> only <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "incl", "<REPLACE_NEW>", "inclusive", "<REPLACE_END>", "<REPLACE_OLD>", "conly", "<REPLACE_NEW>", "only", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "collection", "<REPLACE_NEW>", "<", "<KEEP>", "spec", "<KEEP>", "info", "<KEEP>", ">", "<KEEP>", "read", "<KEEP>", "n4", "<KEEP>", "jsds", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "in4", "<KEEP>", "jsproject", "<KEEP>", ">", "<KEEP>", "projects", "<KEEP>", ",", "<KEEP>", "function", "<KEEP>", "<", "<KEEP>", "in4", "<KEEP>", "jsproject", "<KEEP>", ",", "<KEEP>", "resource", "<KEEP>", "set", "<KEEP>", ">", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "provider", "<KEEP>", ",", "<KEEP>", "sub", "<KEEP>", "monitor", "<KEEP>", "msg", "<KEEP>", "monitor", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "spec", "<KEEP>", "info", "<KEEP>", ">", "<KEEP>", "spec", "<KEEP>", "info", "<KEEP>", "by", "<KEEP>", "name", "<KEEP>", "=", "<DELETE>", "new", "<KEEP>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "multimap", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "resource", "<KEEP>", "set", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "sub", "<KEEP>", "monitor", "<KEEP>", "msg", "<KEEP>", "sub", "<KEEP>", "=", "<KEEP>", "monitor", "<KEEP>", ".", "<KEEP>", "convert", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "projects", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "in4", "<KEEP>", "jsproject", "<KEEP>", "project", "<KEEP>", ":", "<KEEP>", "projects", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "apply", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "read", "<KEEP>", "scripts", "<KEEP>", "(", "<KEEP>", "spec", "<KEEP>", "info", "<KEEP>", "by", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", ",", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", ",", "<KEEP>", "sub", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "in4", "<KEEP>", "jsproject", "<KEEP>", "project", "<KEEP>", ":", "<KEEP>", "projects", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "apply", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "link", "<KEEP>", "tests", "<KEEP>", "(", "<KEEP>", "spec", "<KEEP>", "info", "<KEEP>", "by", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", ",", "<KEEP>", "res", "<KEEP>", "set", "<KEEP>", ",", "<KEEP>", "sub", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "spec", "<KEEP>", "info", "<KEEP>", "by", "<KEEP>", "name", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8697096391854081, "using": 0, "keep": 1}
{"id": "uber_AutoDispose-0-2835", "old_comment": "a resolved maybe representation of a given provider", "old_comment_tokens": ["a", "resolved", "maybe", "representation", "of", "a", "given", "provider"], "new_comment": "a resolved completable source representation of a given provider", "new_comment_tokens": ["a", "resolved", "completable", "source", "representation", "of", "a", "given", "provider"], "old_code": "public static < e > maybe < ? > resolve scope from lifecycle ( final lifecycle scope provider < e > provider ) throws outside scope exception { return resolve scope from lifecycle ( provider , true ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "maybe", "<", "?", ">", "resolve", "scope", "from", "lifecycle", "(", "final", "lifecycle", "scope", "provider", "<", "e", ">", "provider", ")", "throws", "outside", "scope", "exception", "{", "return", "resolve", "scope", "from", "lifecycle", "(", "provider", ",", "true", ")", ";", "}"], "new_code": "public static < e > completable source resolve scope from lifecycle ( final lifecycle scope provider < e > provider ) throws outside scope exception { return resolve scope from lifecycle ( provider , true ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "completable", "source", "resolve", "scope", "from", "lifecycle", "(", "final", "lifecycle", "scope", "provider", "<", "e", ">", "provider", ")", "throws", "outside", "scope", "exception", "{", "return", "resolve", "scope", "from", "lifecycle", "(", "provider", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> maybe < ? > <REPLACE_NEW> completable source <REPLACE_END> <KEEP> resolve scope from lifecycle ( final lifecycle scope provider < e > provider ) throws outside scope exception { return resolve scope from lifecycle ( provider , true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "maybe", "<", "?", ">", "<REPLACE_NEW>", "completable", "source", "<REPLACE_END>", "<KEEP>", "resolve", "scope", "from", "lifecycle", "(", "final", "lifecycle", "scope", "provider", "<", "e", ">", "provider", ")", "throws", "outside", "scope", "exception", "{", "return", "resolve", "scope", "from", "lifecycle", "(", "provider", ",", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> maybe <REPLACE_NEW> completable source <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "source", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "maybe", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "completable", "<REPLACE_NEW>", "source", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "lifecycle", "<KEEP>", "scope", "<KEEP>", "provider", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "provider", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "outside", "<KEEP>", "scope", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "provider", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.964298456465547, "using": 2, "keep": 1}
{"id": "jenkinsci_cmakebuilder-plugin-1-4061", "old_comment": "the iterator or null no restrictions apply", "old_comment_tokens": ["the", "iterator", "or", "null", "no", "restrictions", "apply"], "new_comment": "the iterator", "new_comment_tokens": ["the", "iterator"], "old_code": "@ suppress warnings ( str ) public iterator < integer > iterator ( ) { if ( ranges = = null ) { return null ; } iterator chain chain = new iterator chain ( ) ; for ( int range range : ranges ) { chain . add iterator ( range . iterator ( ) ) ; } return chain ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "iterator", "<", "integer", ">", "iterator", "(", ")", "{", "if", "(", "ranges", "=", "=", "null", ")", "{", "return", "null", ";", "}", "iterator", "chain", "chain", "=", "new", "iterator", "chain", "(", ")", ";", "for", "(", "int", "range", "range", ":", "ranges", ")", "{", "chain", ".", "add", "iterator", "(", "range", ".", "iterator", "(", ")", ")", ";", "}", "return", "chain", ";", "}"], "new_code": "@ suppress warnings ( str ) public iterator < integer > iterator ( ) { if ( ranges = = null ) { return collections . empty iterator ( ) ; } iterator chain chain = new iterator chain ( ) ; for ( int range range : ranges ) { chain . add iterator ( range . iterator ( ) ) ; } return chain ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "iterator", "<", "integer", ">", "iterator", "(", ")", "{", "if", "(", "ranges", "=", "=", "null", ")", "{", "return", "collections", ".", "empty", "iterator", "(", ")", ";", "}", "iterator", "chain", "chain", "=", "new", "iterator", "chain", "(", ")", ";", "for", "(", "int", "range", "range", ":", "ranges", ")", "{", "chain", ".", "add", "iterator", "(", "range", ".", "iterator", "(", ")", ")", ";", "}", "return", "chain", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) public iterator < integer > iterator ( ) { if ( ranges = = null ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> collections . empty iterator ( ) <REPLACE_END> <KEEP> ; } iterator chain chain = new iterator chain ( ) ; for ( int range range : ranges ) { chain . add iterator ( range . iterator ( ) ) ; } return chain ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "public", "iterator", "<", "integer", ">", "iterator", "(", ")", "{", "if", "(", "ranges", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "collections", ".", "empty", "iterator", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "iterator", "chain", "chain", "=", "new", "iterator", "chain", "(", ")", ";", "for", "(", "int", "range", "range", ":", "ranges", ")", "{", "chain", ".", "add", "iterator", "(", "range", ".", "iterator", "(", ")", ")", ";", "}", "return", "chain", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or null no restrictions apply <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", "no", "restrictions", "apply", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ranges", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "collections", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "empty", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "iterator", "<KEEP>", "chain", "<KEEP>", "chain", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "iterator", "<KEEP>", "chain", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "range", "<KEEP>", "range", "<KEEP>", ":", "<KEEP>", "ranges", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "chain", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", "range", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "chain", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8328529713536298, "using": 1, "keep": 1}
{"id": "yu199195_hmily-6-2617", "old_comment": "plain tcc transaction", "old_comment_tokens": ["plain", "tcc", "transaction"], "new_comment": "plain hmily transaction", "new_comment_tokens": ["plain", "hmily", "transaction"], "old_code": "public tcc transaction get tcc transaction ( final string key ) { try { return loading _ cache . get ( key ) ; } catch ( execution exception e ) { return new tcc transaction ( ) ; } }", "old_code_tokens": ["public", "tcc", "transaction", "get", "tcc", "transaction", "(", "final", "string", "key", ")", "{", "try", "{", "return", "loading", "_", "cache", ".", "get", "(", "key", ")", ";", "}", "catch", "(", "execution", "exception", "e", ")", "{", "return", "new", "tcc", "transaction", "(", ")", ";", "}", "}"], "new_code": "public hmily transaction get tcc transaction ( final string key ) { try { return loading _ cache . get ( key ) ; } catch ( execution exception e ) { return new hmily transaction ( ) ; } }", "new_code_tokens": ["public", "hmily", "transaction", "get", "tcc", "transaction", "(", "final", "string", "key", ")", "{", "try", "{", "return", "loading", "_", "cache", ".", "get", "(", "key", ")", ";", "}", "catch", "(", "execution", "exception", "e", ")", "{", "return", "new", "hmily", "transaction", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END> <KEEP> transaction get tcc transaction ( final string key ) { try { return loading _ cache . get ( key ) ; } catch ( execution exception e ) { return new <KEEP_END> <REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END> <KEEP> transaction ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>", "<KEEP>", "transaction", "get", "tcc", "transaction", "(", "final", "string", "key", ")", "{", "try", "{", "return", "loading", "_", "cache", ".", "get", "(", "key", ")", ";", "}", "catch", "(", "execution", "exception", "e", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>", "<KEEP>", "transaction", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<KEEP>", "transaction", "<KEEP>", "get", "<KEEP>", "tcc", "<KEEP>", "transaction", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "loading", "<KEEP>", "_", "<KEEP>", "cache", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<KEEP>", "transaction", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9832991582492503, "using": 2, "keep": 1}
{"id": "apache_harmony-classlib-0-7157", "old_comment": "returns greater than zero when this . double value ( ) > object . double value ( ) , zero when this . double value ( ) = = object . double value ( ) , and less than zero when this . double value ( ) < object . double value ( )", "old_comment_tokens": ["returns", "greater", "than", "zero", "when", "this", ".", "double", "value", "(", ")", ">", "object", ".", "double", "value", "(", ")", ",", "zero", "when", "this", ".", "double", "value", "(", ")", "=", "=", "object", ".", "double", "value", "(", ")", ",", "and", "less", "than", "zero", "when", "this", ".", "double", "value", "(", ")", "<", "object", ".", "double", "value", "(", ")"], "new_comment": "returns greater than zero when this . double value ( ) is greater than object . double value ( ) , zero when this . double value ( ) equals object . double value ( ) , and less than zero when this . double value ( ) is less than object . double value ( )", "new_comment_tokens": ["returns", "greater", "than", "zero", "when", "this", ".", "double", "value", "(", ")", "is", "greater", "than", "object", ".", "double", "value", "(", ")", ",", "zero", "when", "this", ".", "double", "value", "(", ")", "equals", "object", ".", "double", "value", "(", ")", ",", "and", "less", "than", "zero", "when", "this", ".", "double", "value", "(", ")", "is", "less", "than", "object", ".", "double", "value", "(", ")"], "old_code": "public int compare to ( double object ) { return value > object . value ? num : ( value < object . value ? - num : num ) ; }", "old_code_tokens": ["public", "int", "compare", "to", "(", "double", "object", ")", "{", "return", "value", ">", "object", ".", "value", "?", "num", ":", "(", "value", "<", "object", ".", "value", "?", "-", "num", ":", "num", ")", ";", "}"], "new_code": "public int compare to ( double object ) { long d1 , d2 ; long na nbits = double . double to long bits ( double . na n ) ; if ( ( d1 = double . double to long bits ( value ) ) = = na nbits ) { if ( double . double to long bits ( object . value ) = = na nbits ) { return num ; } return num ; } if ( ( d2 = double . double to long bits ( object . value ) ) = = na nbits ) { return - num ; } if ( value = = object . value ) { if ( d1 = = d2 ) { return num ; } return d1 > d2 ? num : - num ; } return value > object . value ? num : - num ; }", "new_code_tokens": ["public", "int", "compare", "to", "(", "double", "object", ")", "{", "long", "d1", ",", "d2", ";", "long", "na", "nbits", "=", "double", ".", "double", "to", "long", "bits", "(", "double", ".", "na", "n", ")", ";", "if", "(", "(", "d1", "=", "double", ".", "double", "to", "long", "bits", "(", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "double", ".", "double", "to", "long", "bits", "(", "object", ".", "value", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "d2", "=", "double", ".", "double", "to", "long", "bits", "(", "object", ".", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "value", "=", "=", "object", ".", "value", ")", "{", "if", "(", "d1", "=", "=", "d2", ")", "{", "return", "num", ";", "}", "return", "d1", ">", "d2", "?", "num", ":", "-", "num", ";", "}", "return", "value", ">", "object", ".", "value", "?", "num", ":", "-", "num", ";", "}"], "span_diff_code": "<KEEP> public int compare to ( double object ) { <KEEP_END> <INSERT> long d1 , d2 ; long na nbits = double . double to long bits ( double . na n ) ; if ( ( d1 = double . double to long bits ( value ) ) = = na nbits ) { if ( double . double to long bits ( object . value ) = = na nbits ) { return num ; } return num ; } if ( ( d2 = double . double to long bits ( object . value ) ) = = na nbits ) { return - num ; } if ( value = = object . value ) { if ( d1 = = d2 ) { return num ; } return d1 > d2 ? num : - num ; } <INSERT_END> <KEEP> return value > object . value ? num : <KEEP_END> <DELETE> ( value < object . value ? <DELETE_END> <KEEP> - num <KEEP_END> <DELETE> : num ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "compare", "to", "(", "double", "object", ")", "{", "<KEEP_END>", "<INSERT>", "long", "d1", ",", "d2", ";", "long", "na", "nbits", "=", "double", ".", "double", "to", "long", "bits", "(", "double", ".", "na", "n", ")", ";", "if", "(", "(", "d1", "=", "double", ".", "double", "to", "long", "bits", "(", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "double", ".", "double", "to", "long", "bits", "(", "object", ".", "value", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "d2", "=", "double", ".", "double", "to", "long", "bits", "(", "object", ".", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "value", "=", "=", "object", ".", "value", ")", "{", "if", "(", "d1", "=", "=", "d2", ")", "{", "return", "num", ";", "}", "return", "d1", ">", "d2", "?", "num", ":", "-", "num", ";", "}", "<INSERT_END>", "<KEEP>", "return", "value", ">", "object", ".", "value", "?", "num", ":", "<KEEP_END>", "<DELETE>", "(", "value", "<", "object", ".", "value", "?", "<DELETE_END>", "<KEEP>", "-", "num", "<KEEP_END>", "<DELETE>", ":", "num", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> > <REPLACE_NEW> is greater than <REPLACE_END> <REPLACE_OLD> = = <REPLACE_NEW> equals <REPLACE_END> <REPLACE_OLD> < <REPLACE_NEW> is less than <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ">", "<REPLACE_NEW>", "is", "greater", "than", "<REPLACE_END>", "<REPLACE_OLD>", "=", "=", "<REPLACE_NEW>", "equals", "<REPLACE_END>", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", "is", "less", "than", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "long", "<INSERT>", "d1", "<INSERT>", ",", "<INSERT>", "d2", "<INSERT>", ";", "<INSERT>", "long", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", "=", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "na", "<INSERT>", "n", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "d1", "<INSERT>", "=", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "d2", "<INSERT>", "=", "<INSERT>", "double", "<INSERT>", ".", "<INSERT>", "double", "<INSERT>", "to", "<INSERT>", "long", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "value", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "object", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "d1", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "d2", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "d1", "<INSERT>", ">", "<INSERT>", "d2", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "value", "<KEEP>", ">", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "?", "<KEEP>", "num", "<KEEP>", ":", "<DELETE>", "(", "<DELETE>", "value", "<DELETE>", "<", "<DELETE>", "object", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", "?", "<KEEP>", "-", "<KEEP>", "num", "<DELETE>", ":", "<DELETE>", "num", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8663854585656837, "using": 0, "keep": 1}
{"id": "codehaus_woodstox-45-4560", "old_comment": "number of bytes output ( 0 or 1 )", "old_comment_tokens": ["number", "of", "bytes", "output", "(", "0", "or", "1", ")"], "new_comment": "true if decoding and outputting succeeded ; false if at least one failed due to lacking input or room for output .", "new_comment_tokens": ["true", "if", "decoding", "and", "outputting", "succeeded", ";", "false", "if", "at", "least", "one", "failed", "due", "to", "lacking", "input", "or", "room", "for", "output", "."], "old_code": "public int decode padded1 ( byte [ ] result buffer , int result offset , int result end , int data ) throws illegal argument exception { if ( m curr segment ptr > = m curr segment end ) { if ( ! next segment ( ) ) { mark partial input ( num , data , true ) ; return num ; } } char ch = m curr segment [ m curr segment ptr + + ] ; if ( ch ! = char _ padding ) { throw report invalid char ( ch , str ) ; } data > > = num ; if ( result offset < result end ) { result buffer [ result offset + + ] = ( byte ) data ; return num ; } mark partial output ( num , data ) ; return num ; }", "old_code_tokens": ["public", "int", "decode", "padded1", "(", "byte", "[", "]", "result", "buffer", ",", "int", "result", "offset", ",", "int", "result", "end", ",", "int", "data", ")", "throws", "illegal", "argument", "exception", "{", "if", "(", "m", "curr", "segment", "ptr", ">", "=", "m", "curr", "segment", "end", ")", "{", "if", "(", "!", "next", "segment", "(", ")", ")", "{", "mark", "partial", "input", "(", "num", ",", "data", ",", "true", ")", ";", "return", "num", ";", "}", "}", "char", "ch", "=", "m", "curr", "segment", "[", "m", "curr", "segment", "ptr", "+", "+", "]", ";", "if", "(", "ch", "!", "=", "char", "_", "padding", ")", "{", "throw", "report", "invalid", "char", "(", "ch", ",", "str", ")", ";", "}", "data", ">", ">", "=", "num", ";", "if", "(", "result", "offset", "<", "result", "end", ")", "{", "result", "buffer", "[", "result", "offset", "+", "+", "]", "=", "(", "byte", ")", "data", ";", "return", "num", ";", "}", "mark", "partial", "output", "(", "num", ",", "data", ")", ";", "return", "num", ";", "}"], "new_code": "public boolean decode padded1 ( byte [ ] result buffer , int result offset , int result end , int data ) throws illegal argument exception { if ( m curr segment ptr > = m curr segment end ) { if ( ! next segment ( ) ) { mark partial input ( num , data , true ) ; return false ; } } char ch = m curr segment [ m curr segment ptr + + ] ; if ( ch ! = char _ padding ) { throw report invalid char ( ch , str ) ; } data > > = num ; if ( result offset > = result end ) { mark partial output ( num , data ) ; return false ; } result buffer [ result offset ] = ( byte ) data ; return true ; }", "new_code_tokens": ["public", "boolean", "decode", "padded1", "(", "byte", "[", "]", "result", "buffer", ",", "int", "result", "offset", ",", "int", "result", "end", ",", "int", "data", ")", "throws", "illegal", "argument", "exception", "{", "if", "(", "m", "curr", "segment", "ptr", ">", "=", "m", "curr", "segment", "end", ")", "{", "if", "(", "!", "next", "segment", "(", ")", ")", "{", "mark", "partial", "input", "(", "num", ",", "data", ",", "true", ")", ";", "return", "false", ";", "}", "}", "char", "ch", "=", "m", "curr", "segment", "[", "m", "curr", "segment", "ptr", "+", "+", "]", ";", "if", "(", "ch", "!", "=", "char", "_", "padding", ")", "{", "throw", "report", "invalid", "char", "(", "ch", ",", "str", ")", ";", "}", "data", ">", ">", "=", "num", ";", "if", "(", "result", "offset", ">", "=", "result", "end", ")", "{", "mark", "partial", "output", "(", "num", ",", "data", ")", ";", "return", "false", ";", "}", "result", "buffer", "[", "result", "offset", "]", "=", "(", "byte", ")", "data", ";", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> boolean <REPLACE_END> <KEEP> decode padded1 ( byte [ ] result buffer , int result offset , int result end , int data ) throws illegal argument exception { if ( m curr segment ptr > = m curr segment end ) { if ( ! next segment ( ) ) { mark partial input ( num , data , true ) ; return <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } } char ch = m curr segment [ m curr segment ptr + + ] ; if ( ch ! = char _ padding ) { throw report invalid char ( ch , str ) ; } data > > = num ; if ( result offset <KEEP_END> <REPLACE_OLD> < <REPLACE_NEW> > = <REPLACE_END> <KEEP> result end ) { <KEEP_END> <DELETE> result buffer [ result offset + + ] = ( byte ) data ; return num ; } <DELETE_END> <KEEP> mark partial output ( num , data ) ; return <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> result buffer [ result offset ] = ( byte ) data ; return true ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "boolean", "<REPLACE_END>", "<KEEP>", "decode", "padded1", "(", "byte", "[", "]", "result", "buffer", ",", "int", "result", "offset", ",", "int", "result", "end", ",", "int", "data", ")", "throws", "illegal", "argument", "exception", "{", "if", "(", "m", "curr", "segment", "ptr", ">", "=", "m", "curr", "segment", "end", ")", "{", "if", "(", "!", "next", "segment", "(", ")", ")", "{", "mark", "partial", "input", "(", "num", ",", "data", ",", "true", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "char", "ch", "=", "m", "curr", "segment", "[", "m", "curr", "segment", "ptr", "+", "+", "]", ";", "if", "(", "ch", "!", "=", "char", "_", "padding", ")", "{", "throw", "report", "invalid", "char", "(", "ch", ",", "str", ")", ";", "}", "data", ">", ">", "=", "num", ";", "if", "(", "result", "offset", "<KEEP_END>", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", ">", "=", "<REPLACE_END>", "<KEEP>", "result", "end", ")", "{", "<KEEP_END>", "<DELETE>", "result", "buffer", "[", "result", "offset", "+", "+", "]", "=", "(", "byte", ")", "data", ";", "return", "num", ";", "}", "<DELETE_END>", "<KEEP>", "mark", "partial", "output", "(", "num", ",", "data", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "result", "buffer", "[", "result", "offset", "]", "=", "(", "byte", ")", "data", ";", "return", "true", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> number of bytes <REPLACE_NEW> true if decoding and outputting succeeded ; false if at least one failed due to lacking input or room for <REPLACE_END> <REPLACE_OLD> ( 0 or 1 ) <REPLACE_NEW> . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "number", "of", "bytes", "<REPLACE_NEW>", "true", "if", "decoding", "and", "outputting", "succeeded", ";", "false", "if", "at", "least", "one", "failed", "due", "to", "lacking", "input", "or", "room", "for", "<REPLACE_END>", "<REPLACE_OLD>", "(", "0", "or", "1", ")", "<REPLACE_NEW>", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "boolean", "<KEEP>", "decode", "<KEEP>", "padded1", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "result", "<KEEP>", "buffer", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "result", "<KEEP>", "offset", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "result", "<KEEP>", "end", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "curr", "<KEEP>", "segment", "<KEEP>", "ptr", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "curr", "<KEEP>", "segment", "<KEEP>", "end", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "next", "<KEEP>", "segment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "mark", "<KEEP>", "partial", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "data", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "char", "<KEEP>", "ch", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "curr", "<KEEP>", "segment", "<KEEP>", "[", "<KEEP>", "m", "<KEEP>", "curr", "<KEEP>", "segment", "<KEEP>", "ptr", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ch", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "char", "<KEEP>", "_", "<KEEP>", "padding", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "report", "<KEEP>", "invalid", "<KEEP>", "char", "<KEEP>", "(", "<KEEP>", "ch", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "data", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", "offset", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "=", "<KEEP>", "result", "<KEEP>", "end", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "result", "<DELETE>", "buffer", "<DELETE>", "[", "<DELETE>", "result", "<DELETE>", "offset", "<DELETE>", "+", "<DELETE>", "+", "<DELETE>", "]", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "byte", "<DELETE>", ")", "<DELETE>", "data", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "mark", "<KEEP>", "partial", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "result", "<INSERT>", "buffer", "<INSERT>", "[", "<INSERT>", "result", "<INSERT>", "offset", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "byte", "<INSERT>", ")", "<INSERT>", "data", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}"], "split": "valid", "score": 0.802759668689853, "using": 1, "keep": 1}
{"id": "eclipse_webtools.common-17-5968", "old_comment": "the @ see workbench modulereferenced by a module uri", "old_comment_tokens": ["the", "@", "see", "workbench", "modulereferenced", "by", "a", "module", "uri"], "new_comment": "the @ see workbench componentreferenced by a module uri", "new_comment_tokens": ["the", "@", "see", "workbench", "componentreferenced", "by", "a", "module", "uri"], "old_code": "public workbench module find workbench module by module uri ( uri a module uri ) throws unresolveable uriexception { module uriutil . ensure valid fully qualified module uri ( a module uri ) ; string project name = a module uri . segment ( module uriutil . module uri . project _ name _ indx ) ; string module name = a module uri . segment ( module uriutil . module uri . module _ name _ indx ) ; if ( structural model . get project ( ) . get name ( ) . equals ( project name ) ) { return find workbench module by deploy name ( module name ) ; } return get dependent module core ( a module uri ) . find workbench module by deploy name ( module name ) ; }", "old_code_tokens": ["public", "workbench", "module", "find", "workbench", "module", "by", "module", "uri", "(", "uri", "a", "module", "uri", ")", "throws", "unresolveable", "uriexception", "{", "module", "uriutil", ".", "ensure", "valid", "fully", "qualified", "module", "uri", "(", "a", "module", "uri", ")", ";", "string", "project", "name", "=", "a", "module", "uri", ".", "segment", "(", "module", "uriutil", ".", "module", "uri", ".", "project", "_", "name", "_", "indx", ")", ";", "string", "module", "name", "=", "a", "module", "uri", ".", "segment", "(", "module", "uriutil", ".", "module", "uri", ".", "module", "_", "name", "_", "indx", ")", ";", "if", "(", "structural", "model", ".", "get", "project", "(", ")", ".", "get", "name", "(", ")", ".", "equals", "(", "project", "name", ")", ")", "{", "return", "find", "workbench", "module", "by", "deploy", "name", "(", "module", "name", ")", ";", "}", "return", "get", "dependent", "module", "core", "(", "a", "module", "uri", ")", ".", "find", "workbench", "module", "by", "deploy", "name", "(", "module", "name", ")", ";", "}"], "new_code": "public workbench component find workbench module by module uri ( uri a module uri ) throws unresolveable uriexception { module uriutil . ensure valid fully qualified module uri ( a module uri ) ; string project name = a module uri . segment ( module uriutil . module uri . project _ name _ indx ) ; string module name = a module uri . segment ( module uriutil . module uri . module _ name _ indx ) ; if ( structural model . get project ( ) . get name ( ) . equals ( project name ) ) { return find workbench module by deploy name ( module name ) ; } return get dependent module core ( a module uri ) . find workbench module by deploy name ( module name ) ; }", "new_code_tokens": ["public", "workbench", "component", "find", "workbench", "module", "by", "module", "uri", "(", "uri", "a", "module", "uri", ")", "throws", "unresolveable", "uriexception", "{", "module", "uriutil", ".", "ensure", "valid", "fully", "qualified", "module", "uri", "(", "a", "module", "uri", ")", ";", "string", "project", "name", "=", "a", "module", "uri", ".", "segment", "(", "module", "uriutil", ".", "module", "uri", ".", "project", "_", "name", "_", "indx", ")", ";", "string", "module", "name", "=", "a", "module", "uri", ".", "segment", "(", "module", "uriutil", ".", "module", "uri", ".", "module", "_", "name", "_", "indx", ")", ";", "if", "(", "structural", "model", ".", "get", "project", "(", ")", ".", "get", "name", "(", ")", ".", "equals", "(", "project", "name", ")", ")", "{", "return", "find", "workbench", "module", "by", "deploy", "name", "(", "module", "name", ")", ";", "}", "return", "get", "dependent", "module", "core", "(", "a", "module", "uri", ")", ".", "find", "workbench", "module", "by", "deploy", "name", "(", "module", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public workbench <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> find workbench module by module uri ( uri a module uri ) throws unresolveable uriexception { module uriutil . ensure valid fully qualified module uri ( a module uri ) ; string project name = a module uri . segment ( module uriutil . module uri . project _ name _ indx ) ; string module name = a module uri . segment ( module uriutil . module uri . module _ name _ indx ) ; if ( structural model . get project ( ) . get name ( ) . equals ( project name ) ) { return find workbench module by deploy name ( module name ) ; } return get dependent module core ( a module uri ) . find workbench module by deploy name ( module name ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "workbench", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "find", "workbench", "module", "by", "module", "uri", "(", "uri", "a", "module", "uri", ")", "throws", "unresolveable", "uriexception", "{", "module", "uriutil", ".", "ensure", "valid", "fully", "qualified", "module", "uri", "(", "a", "module", "uri", ")", ";", "string", "project", "name", "=", "a", "module", "uri", ".", "segment", "(", "module", "uriutil", ".", "module", "uri", ".", "project", "_", "name", "_", "indx", ")", ";", "string", "module", "name", "=", "a", "module", "uri", ".", "segment", "(", "module", "uriutil", ".", "module", "uri", ".", "module", "_", "name", "_", "indx", ")", ";", "if", "(", "structural", "model", ".", "get", "project", "(", ")", ".", "get", "name", "(", ")", ".", "equals", "(", "project", "name", ")", ")", "{", "return", "find", "workbench", "module", "by", "deploy", "name", "(", "module", "name", ")", ";", "}", "return", "get", "dependent", "module", "core", "(", "a", "module", "uri", ")", ".", "find", "workbench", "module", "by", "deploy", "name", "(", "module", "name", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> modulereferenced <REPLACE_NEW> componentreferenced <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "modulereferenced", "<REPLACE_NEW>", "componentreferenced", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "find", "<KEEP>", "workbench", "<KEEP>", "module", "<KEEP>", "by", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "unresolveable", "<KEEP>", "uriexception", "<KEEP>", "{", "<KEEP>", "module", "<KEEP>", "uriutil", "<KEEP>", ".", "<KEEP>", "ensure", "<KEEP>", "valid", "<KEEP>", "fully", "<KEEP>", "qualified", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "segment", "<KEEP>", "(", "<KEEP>", "module", "<KEEP>", "uriutil", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "project", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", "_", "<KEEP>", "indx", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "module", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "segment", "<KEEP>", "(", "<KEEP>", "module", "<KEEP>", "uriutil", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", "_", "<KEEP>", "indx", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "structural", "<KEEP>", "model", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "find", "<KEEP>", "workbench", "<KEEP>", "module", "<KEEP>", "by", "<KEEP>", "deploy", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "module", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "dependent", "<KEEP>", "module", "<KEEP>", "core", "<KEEP>", "(", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "workbench", "<KEEP>", "module", "<KEEP>", "by", "<KEEP>", "deploy", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "module", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.958493742447707, "using": 1, "keep": 1}
{"id": "DastanIqbal_google-voice-java-6-4284", "old_comment": "the m disabled id list", "old_comment_tokens": ["the", "m", "disabled", "id", "list"], "new_comment": "the m disabled id map", "new_comment_tokens": ["the", "m", "disabled", "id", "map"], "old_code": "public disabled id [ ] getm disabled id list ( ) { return m disabled id list ; }", "old_code_tokens": ["public", "disabled", "id", "[", "]", "getm", "disabled", "id", "list", "(", ")", "{", "return", "m", "disabled", "id", "list", ";", "}"], "new_code": "public disabled id [ ] getm disabled id list ( ) { return m disabled id map ; }", "new_code_tokens": ["public", "disabled", "id", "[", "]", "getm", "disabled", "id", "list", "(", ")", "{", "return", "m", "disabled", "id", "map", ";", "}"], "span_diff_code": "<KEEP> public disabled id [ ] getm disabled id list ( ) { return m disabled id <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> map <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "disabled", "id", "[", "]", "getm", "disabled", "id", "list", "(", ")", "{", "return", "m", "disabled", "id", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "disabled", "<KEEP>", "id", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "getm", "<KEEP>", "disabled", "<KEEP>", "id", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "disabled", "<KEEP>", "id", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "map", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9841437745941657, "using": 2, "keep": 1}
{"id": "eclipse_jnosql-diana-3-5295", "old_comment": "a document collection entity instance", "old_comment_tokens": ["a", "document", "collection", "entity", "instance"], "new_comment": "a document entity instance", "new_comment_tokens": ["a", "document", "entity", "instance"], "old_code": "static document collection entity of ( string name ) throws null pointer exception { return new default document collection entity ( name ) ; }", "old_code_tokens": ["static", "document", "collection", "entity", "of", "(", "string", "name", ")", "throws", "null", "pointer", "exception", "{", "return", "new", "default", "document", "collection", "entity", "(", "name", ")", ";", "}"], "new_code": "static document entity of ( string name ) throws null pointer exception { return new default document entity ( name ) ; }", "new_code_tokens": ["static", "document", "entity", "of", "(", "string", "name", ")", "throws", "null", "pointer", "exception", "{", "return", "new", "default", "document", "entity", "(", "name", ")", ";", "}"], "span_diff_code": "<KEEP> static document <KEEP_END> <DELETE> collection <DELETE_END> <KEEP> entity of ( string name ) throws null pointer exception { return new default document <KEEP_END> <DELETE> collection <DELETE_END> <KEEP> entity ( name ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "document", "<KEEP_END>", "<DELETE>", "collection", "<DELETE_END>", "<KEEP>", "entity", "of", "(", "string", "name", ")", "throws", "null", "pointer", "exception", "{", "return", "new", "default", "document", "<KEEP_END>", "<DELETE>", "collection", "<DELETE_END>", "<KEEP>", "entity", "(", "name", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> collection <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "collection", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "document", "<DELETE>", "collection", "<KEEP>", "entity", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "document", "<DELETE>", "collection", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.995110164919542, "using": 2, "keep": 1}
{"id": "klout_Cloud9-forked-14-4373", "old_comment": "top n entries sorted by descending value", "old_comment_tokens": ["top", "n", "entries", "sorted", "by", "descending", "value"], "new_comment": "top k entries sorted by descending value", "new_comment_tokens": ["top", "k", "entries", "sorted", "by", "descending", "value"], "old_code": "public int2 int map . entry [ ] get entries sorted by value ( int n ) { int2 int map . entry [ ] entries = get entries sorted by value ( ) ; if ( entries = = null ) return null ; if ( entries . length < n ) return entries ; return arrays . copy of range ( entries , num , n ) ; }", "old_code_tokens": ["public", "int2", "int", "map", ".", "entry", "[", "]", "get", "entries", "sorted", "by", "value", "(", "int", "n", ")", "{", "int2", "int", "map", ".", "entry", "[", "]", "entries", "=", "get", "entries", "sorted", "by", "value", "(", ")", ";", "if", "(", "entries", "=", "=", "null", ")", "return", "null", ";", "if", "(", "entries", ".", "length", "<", "n", ")", "return", "entries", ";", "return", "arrays", ".", "copy", "of", "range", "(", "entries", ",", "num", ",", "n", ")", ";", "}"], "new_code": "public int2 int map . entry [ ] get entries sorted by value ( int k ) { int2 int map . entry [ ] entries = get entries sorted by value ( ) ; if ( entries = = null ) return null ; if ( entries . length < k ) return entries ; return arrays . copy of range ( entries , num , k ) ; }", "new_code_tokens": ["public", "int2", "int", "map", ".", "entry", "[", "]", "get", "entries", "sorted", "by", "value", "(", "int", "k", ")", "{", "int2", "int", "map", ".", "entry", "[", "]", "entries", "=", "get", "entries", "sorted", "by", "value", "(", ")", ";", "if", "(", "entries", "=", "=", "null", ")", "return", "null", ";", "if", "(", "entries", ".", "length", "<", "k", ")", "return", "entries", ";", "return", "arrays", ".", "copy", "of", "range", "(", "entries", ",", "num", ",", "k", ")", ";", "}"], "span_diff_code": "<KEEP> public int2 int map . entry [ ] get entries sorted by value ( int <KEEP_END> <REPLACE_OLD> n <REPLACE_NEW> k <REPLACE_END> <KEEP> ) { int2 int map . entry [ ] entries = get entries sorted by value ( ) ; if ( entries = = null ) return null ; if ( entries . length < <KEEP_END> <REPLACE_OLD> n <REPLACE_NEW> k <REPLACE_END> <KEEP> ) return entries ; return arrays . copy of range ( entries , num , <KEEP_END> <REPLACE_OLD> n <REPLACE_NEW> k <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int2", "int", "map", ".", "entry", "[", "]", "get", "entries", "sorted", "by", "value", "(", "int", "<KEEP_END>", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<REPLACE_END>", "<KEEP>", ")", "{", "int2", "int", "map", ".", "entry", "[", "]", "entries", "=", "get", "entries", "sorted", "by", "value", "(", ")", ";", "if", "(", "entries", "=", "=", "null", ")", "return", "null", ";", "if", "(", "entries", ".", "length", "<", "<KEEP_END>", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<REPLACE_END>", "<KEEP>", ")", "return", "entries", ";", "return", "arrays", ".", "copy", "of", "range", "(", "entries", ",", "num", ",", "<KEEP_END>", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> n <REPLACE_NEW> k <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int2", "<KEEP>", "int", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "entries", "<KEEP>", "sorted", "<KEEP>", "by", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "int", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int2", "<KEEP>", "int", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "entries", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "entries", "<KEEP>", "sorted", "<KEEP>", "by", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entries", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entries", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "<", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "entries", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "copy", "<KEEP>", "of", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "entries", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "k", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9895134726435808, "using": 2, "keep": 1}
{"id": "apache_wss4j-35-5669", "old_comment": "returns the vector of stored signature values .", "old_comment_tokens": ["returns", "the", "vector", "of", "stored", "signature", "values", "."], "new_comment": "returns the list of stored signature values .", "new_comment_tokens": ["returns", "the", "list", "of", "stored", "signature", "values", "."], "old_code": "public vector get signature values ( ) { return signature values ; }", "old_code_tokens": ["public", "vector", "get", "signature", "values", "(", ")", "{", "return", "signature", "values", ";", "}"], "new_code": "public list get signature values ( ) { return signature values ; }", "new_code_tokens": ["public", "list", "get", "signature", "values", "(", ")", "{", "return", "signature", "values", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> get signature values ( ) { return signature values ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "get", "signature", "values", "(", ")", "{", "return", "signature", "values", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", "get", "<KEEP>", "signature", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "signature", "<KEEP>", "values", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9729962602943975, "using": 2, "keep": 1}
{"id": "apache_ddlutils-112-7136", "old_comment": "the primary key columns", "old_comment_tokens": ["the", "primary", "key", "columns"], "new_comment": "the primary key column names", "new_comment_tokens": ["the", "primary", "key", "column", "names"], "old_code": "public column [ ] get primary key columns ( ) { return _ primary key columns ; }", "old_code_tokens": ["public", "column", "[", "]", "get", "primary", "key", "columns", "(", ")", "{", "return", "_", "primary", "key", "columns", ";", "}"], "new_code": "public string [ ] get primary key columns ( ) { return _ primary key columns ; }", "new_code_tokens": ["public", "string", "[", "]", "get", "primary", "key", "columns", "(", ")", "{", "return", "_", "primary", "key", "columns", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> column <REPLACE_NEW> string <REPLACE_END> <KEEP> [ ] get primary key columns ( ) { return _ primary key columns ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "column", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "primary", "key", "columns", "(", ")", "{", "return", "_", "primary", "key", "columns", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> columns <REPLACE_NEW> column names <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "columns", "<REPLACE_NEW>", "column", "names", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "column", "<REPLACE_NEW>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "primary", "<KEEP>", "key", "<KEEP>", "columns", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "primary", "<KEEP>", "key", "<KEEP>", "columns", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9477044426118676, "using": 1, "keep": 1}
{"id": "eclipse_skalli-19-4237", "old_comment": "a set of property identifiers , or an empty set , if the entity provides no properties .", "old_comment_tokens": ["a", "set", "of", "property", "identifiers", ",", "or", "an", "empty", "set", ",", "if", "the", "entity", "provides", "no", "properties", "."], "new_comment": "an immutable set of property names , or an empty set , if the entity has no properties .", "new_comment_tokens": ["an", "immutable", "set", "of", "property", "names", ",", "or", "an", "empty", "set", ",", "if", "the", "entity", "has", "no", "properties", "."], "old_code": "public set < string > get property names ( ) { return get property names ( get class ( ) ) ; }", "old_code_tokens": ["public", "set", "<", "string", ">", "get", "property", "names", "(", ")", "{", "return", "get", "property", "names", "(", "get", "class", "(", ")", ")", ";", "}"], "new_code": "public set < string > get property names ( ) { return get properties ( ) . key set ( ) ; }", "new_code_tokens": ["public", "set", "<", "string", ">", "get", "property", "names", "(", ")", "{", "return", "get", "properties", "(", ")", ".", "key", "set", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public set < string > get property names ( ) { return get <KEEP_END> <REPLACE_OLD> property names ( get class <REPLACE_NEW> properties <REPLACE_END> <KEEP> ( ) <KEEP_END> <INSERT> . key set ( <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "set", "<", "string", ">", "get", "property", "names", "(", ")", "{", "return", "get", "<KEEP_END>", "<REPLACE_OLD>", "property", "names", "(", "get", "class", "<REPLACE_NEW>", "properties", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<INSERT>", ".", "key", "set", "(", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a <REPLACE_NEW> an immutable <REPLACE_END> <REPLACE_OLD> identifiers <REPLACE_NEW> names <REPLACE_END> <REPLACE_OLD> provides <REPLACE_NEW> has <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "<REPLACE_NEW>", "an", "immutable", "<REPLACE_END>", "<REPLACE_OLD>", "identifiers", "<REPLACE_NEW>", "names", "<REPLACE_END>", "<REPLACE_OLD>", "provides", "<REPLACE_NEW>", "has", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "names", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", "names", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ".", "<INSERT>", "key", "<INSERT>", "set", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8769354056462311, "using": 1, "keep": 1}
{"id": "rmetzger_stratosphere-java-collectionbased-553-4578", "old_comment": "the secondary storage cost , in bytes to be written and read .", "old_comment_tokens": ["the", "secondary", "storage", "cost", ",", "in", "bytes", "to", "be", "written", "and", "read", "."], "new_comment": "the disk cost , in bytes to be written and read .", "new_comment_tokens": ["the", "disk", "cost", ",", "in", "bytes", "to", "be", "written", "and", "read", "."], "old_code": "public long get secondary storage cost ( ) { return secondary storage cost ; }", "old_code_tokens": ["public", "long", "get", "secondary", "storage", "cost", "(", ")", "{", "return", "secondary", "storage", "cost", ";", "}"], "new_code": "public long get secondary storage cost ( ) { return disk cost ; }", "new_code_tokens": ["public", "long", "get", "secondary", "storage", "cost", "(", ")", "{", "return", "disk", "cost", ";", "}"], "span_diff_code": "<KEEP> public long get secondary storage cost ( ) { return <KEEP_END> <REPLACE_OLD> secondary storage <REPLACE_NEW> disk <REPLACE_END> <KEEP> cost ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "secondary", "storage", "cost", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "secondary", "storage", "<REPLACE_NEW>", "disk", "<REPLACE_END>", "<KEEP>", "cost", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> secondary storage <REPLACE_NEW> disk <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "secondary", "storage", "<REPLACE_NEW>", "disk", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "secondary", "<KEEP>", "storage", "<KEEP>", "cost", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "secondary", "<REPLACE_OLD>", "storage", "<REPLACE_NEW>", "disk", "<KEEP>", "cost", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9885877097921685, "using": 2, "keep": 1}
{"id": "JetBrains_android-11-6834", "old_comment": "a map of dependency variable names to maven dependency urls .", "old_comment_tokens": ["a", "map", "of", "dependency", "variable", "names", "to", "maven", "dependency", "urls", "."], "new_comment": "a list of maven dependency urls", "new_comment_tokens": ["a", "list", "of", "maven", "dependency", "urls"], "old_code": "@ not null public map < string , string > get dependencies ( ) { final map < string , string > params = maps . new linked hash map ( ) ; node list dependencies = my document . get elements by tag name ( tag _ dependency ) ; for ( int index = num , max = dependencies . get length ( ) ; index < max ; index + + ) { element element = ( element ) dependencies . item ( index ) ; string dependency name = element . get attribute ( attr _ name ) ; string dependency version = element . get attribute ( attr _ version ) ; if ( dependency name . equals ( support _ library _ name ) ) { params . put ( attr _ android _ support _ url , template . get support maven url ( num , dependency version ) ) ; } else if ( dependency name . equals ( app _ compat _ library _ name ) ) { params . put ( attr _ app _ compat _ url , template . get app compat maven url ( num , dependency version ) ) ; } } return params ; }", "old_code_tokens": ["@", "not", "null", "public", "map", "<", "string", ",", "string", ">", "get", "dependencies", "(", ")", "{", "final", "map", "<", "string", ",", "string", ">", "params", "=", "maps", ".", "new", "linked", "hash", "map", "(", ")", ";", "node", "list", "dependencies", "=", "my", "document", ".", "get", "elements", "by", "tag", "name", "(", "tag", "_", "dependency", ")", ";", "for", "(", "int", "index", "=", "num", ",", "max", "=", "dependencies", ".", "get", "length", "(", ")", ";", "index", "<", "max", ";", "index", "+", "+", ")", "{", "element", "element", "=", "(", "element", ")", "dependencies", ".", "item", "(", "index", ")", ";", "string", "dependency", "name", "=", "element", ".", "get", "attribute", "(", "attr", "_", "name", ")", ";", "string", "dependency", "version", "=", "element", ".", "get", "attribute", "(", "attr", "_", "version", ")", ";", "if", "(", "dependency", "name", ".", "equals", "(", "support", "_", "library", "_", "name", ")", ")", "{", "params", ".", "put", "(", "attr", "_", "android", "_", "support", "_", "url", ",", "template", ".", "get", "support", "maven", "url", "(", "num", ",", "dependency", "version", ")", ")", ";", "}", "else", "if", "(", "dependency", "name", ".", "equals", "(", "app", "_", "compat", "_", "library", "_", "name", ")", ")", "{", "params", ".", "put", "(", "attr", "_", "app", "_", "compat", "_", "url", ",", "template", ".", "get", "app", "compat", "maven", "url", "(", "num", ",", "dependency", "version", ")", ")", ";", "}", "}", "return", "params", ";", "}"], "new_code": "@ not null public list < string > get dependencies ( ) { final list < string > dependency list = lists . new linked list ( ) ; node list dependencies = my document . get elements by tag name ( tag _ dependency ) ; for ( int index = num , max = dependencies . get length ( ) ; index < max ; index + + ) { element element = ( element ) dependencies . item ( index ) ; string dependency name = element . get attribute ( attr _ name ) ; string dependency version = element . get attribute ( attr _ version ) ; if ( dependency name . equals ( support _ id ) | | dependency name . equals ( app _ compat _ id ) | | dependency name . equals ( grid _ layout _ id ) ) { dependency list . add ( get library url ( dependency name , dependency version ) ) ; } } return dependency list ; }", "new_code_tokens": ["@", "not", "null", "public", "list", "<", "string", ">", "get", "dependencies", "(", ")", "{", "final", "list", "<", "string", ">", "dependency", "list", "=", "lists", ".", "new", "linked", "list", "(", ")", ";", "node", "list", "dependencies", "=", "my", "document", ".", "get", "elements", "by", "tag", "name", "(", "tag", "_", "dependency", ")", ";", "for", "(", "int", "index", "=", "num", ",", "max", "=", "dependencies", ".", "get", "length", "(", ")", ";", "index", "<", "max", ";", "index", "+", "+", ")", "{", "element", "element", "=", "(", "element", ")", "dependencies", ".", "item", "(", "index", ")", ";", "string", "dependency", "name", "=", "element", ".", "get", "attribute", "(", "attr", "_", "name", ")", ";", "string", "dependency", "version", "=", "element", ".", "get", "attribute", "(", "attr", "_", "version", ")", ";", "if", "(", "dependency", "name", ".", "equals", "(", "support", "_", "id", ")", "|", "|", "dependency", "name", ".", "equals", "(", "app", "_", "compat", "_", "id", ")", "|", "|", "dependency", "name", ".", "equals", "(", "grid", "_", "layout", "_", "id", ")", ")", "{", "dependency", "list", ".", "add", "(", "get", "library", "url", "(", "dependency", "name", ",", "dependency", "version", ")", ")", ";", "}", "}", "return", "dependency", "list", ";", "}"], "span_diff_code": "<KEEP> @ not null public <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> list <REPLACE_END> <KEEP> < <KEEP_END> <DELETE> string , <DELETE_END> <KEEP> string > get dependencies ( ) { final <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> list <REPLACE_END> <KEEP> < string <KEEP_END> <DELETE> , string <DELETE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> params <REPLACE_NEW> dependency list <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> maps <REPLACE_NEW> lists <REPLACE_END> <KEEP> . new linked <KEEP_END> <REPLACE_OLD> hash map <REPLACE_NEW> list <REPLACE_END> <KEEP> ( ) ; node list dependencies = my document . get elements by tag name ( tag _ dependency ) ; for ( int index = num , max = dependencies . get length ( ) ; index < max ; index + + ) { element element = ( element ) dependencies . item ( index ) ; string dependency name = element . get attribute ( attr _ name ) ; string dependency version = element . get attribute ( attr _ version ) ; if ( dependency name . equals ( support _ <KEEP_END> <REPLACE_OLD> library _ name <REPLACE_NEW> id <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> ) { params . put ( attr _ android _ support _ url , template . get support maven url ( num , dependency version ) ) ; } else if ( <REPLACE_NEW> | | <REPLACE_END> <KEEP> dependency name . equals ( app _ compat _ <KEEP_END> <REPLACE_OLD> library <REPLACE_NEW> id ) | | dependency name . equals ( grid <REPLACE_END> <KEEP> _ <KEEP_END> <REPLACE_OLD> name <REPLACE_NEW> layout _ id <REPLACE_END> <KEEP> ) ) { <KEEP_END> <REPLACE_OLD> params <REPLACE_NEW> dependency list <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> put <REPLACE_NEW> add <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> attr _ app _ compat _ url , template . <DELETE_END> <KEEP> get <KEEP_END> <REPLACE_OLD> app compat maven <REPLACE_NEW> library <REPLACE_END> <KEEP> url ( <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> dependency name <REPLACE_END> <KEEP> , dependency version ) ) ; } } return <KEEP_END> <REPLACE_OLD> params <REPLACE_NEW> dependency list <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "not", "null", "public", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<DELETE>", "string", ",", "<DELETE_END>", "<KEEP>", "string", ">", "get", "dependencies", "(", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "string", "<KEEP_END>", "<DELETE>", ",", "string", "<DELETE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "dependency", "list", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "maps", "<REPLACE_NEW>", "lists", "<REPLACE_END>", "<KEEP>", ".", "new", "linked", "<KEEP_END>", "<REPLACE_OLD>", "hash", "map", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "node", "list", "dependencies", "=", "my", "document", ".", "get", "elements", "by", "tag", "name", "(", "tag", "_", "dependency", ")", ";", "for", "(", "int", "index", "=", "num", ",", "max", "=", "dependencies", ".", "get", "length", "(", ")", ";", "index", "<", "max", ";", "index", "+", "+", ")", "{", "element", "element", "=", "(", "element", ")", "dependencies", ".", "item", "(", "index", ")", ";", "string", "dependency", "name", "=", "element", ".", "get", "attribute", "(", "attr", "_", "name", ")", ";", "string", "dependency", "version", "=", "element", ".", "get", "attribute", "(", "attr", "_", "version", ")", ";", "if", "(", "dependency", "name", ".", "equals", "(", "support", "_", "<KEEP_END>", "<REPLACE_OLD>", "library", "_", "name", "<REPLACE_NEW>", "id", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "params", ".", "put", "(", "attr", "_", "android", "_", "support", "_", "url", ",", "template", ".", "get", "support", "maven", "url", "(", "num", ",", "dependency", "version", ")", ")", ";", "}", "else", "if", "(", "<REPLACE_NEW>", "|", "|", "<REPLACE_END>", "<KEEP>", "dependency", "name", ".", "equals", "(", "app", "_", "compat", "_", "<KEEP_END>", "<REPLACE_OLD>", "library", "<REPLACE_NEW>", "id", ")", "|", "|", "dependency", "name", ".", "equals", "(", "grid", "<REPLACE_END>", "<KEEP>", "_", "<KEEP_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "layout", "_", "id", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "dependency", "list", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "add", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "attr", "_", "app", "_", "compat", "_", "url", ",", "template", ".", "<DELETE_END>", "<KEEP>", "get", "<KEEP_END>", "<REPLACE_OLD>", "app", "compat", "maven", "<REPLACE_NEW>", "library", "<REPLACE_END>", "<KEEP>", "url", "(", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "dependency", "name", "<REPLACE_END>", "<KEEP>", ",", "dependency", "version", ")", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "dependency", "list", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> list <REPLACE_END> <DELETE> dependency variable names to <DELETE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<DELETE>", "dependency", "variable", "names", "to", "<DELETE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "public", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<DELETE>", "string", "<DELETE>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "dependencies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "string", "<DELETE>", ",", "<DELETE>", "string", "<KEEP>", ">", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "dependency", "<REPLACE_NEW>", "list", "<KEEP>", "=", "<REPLACE_OLD>", "maps", "<REPLACE_NEW>", "lists", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "linked", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "list", "<KEEP>", "dependencies", "<KEEP>", "=", "<KEEP>", "my", "<KEEP>", "document", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "elements", "<KEEP>", "by", "<KEEP>", "tag", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "tag", "<KEEP>", "_", "<KEEP>", "dependency", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "max", "<KEEP>", "=", "<KEEP>", "dependencies", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "index", "<KEEP>", "<", "<KEEP>", "max", "<KEEP>", ";", "<KEEP>", "index", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "element", "<KEEP>", "element", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", "dependencies", "<KEEP>", ".", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "dependency", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "attr", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "dependency", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "attr", "<KEEP>", "_", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "dependency", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "support", "<KEEP>", "_", "<REPLACE_OLD>", "library", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "id", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "params", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "attr", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "android", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "support", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "template", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "support", "<REPLACE_OLD>", "maven", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "dependency", "<REPLACE_OLD>", "version", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<KEEP>", "dependency", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "_", "<KEEP>", "compat", "<KEEP>", "_", "<REPLACE_OLD>", "library", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "dependency", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "grid", "<KEEP>", "_", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "layout", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "dependency", "<REPLACE_NEW>", "list", "<KEEP>", ".", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "add", "<KEEP>", "(", "<DELETE>", "attr", "<DELETE>", "_", "<DELETE>", "app", "<DELETE>", "_", "<DELETE>", "compat", "<DELETE>", "_", "<DELETE>", "url", "<DELETE>", ",", "<DELETE>", "template", "<DELETE>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "compat", "<REPLACE_OLD>", "maven", "<REPLACE_NEW>", "library", "<KEEP>", "url", "<KEEP>", "(", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "dependency", "<REPLACE_NEW>", "name", "<KEEP>", ",", "<KEEP>", "dependency", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "dependency", "<REPLACE_NEW>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8425400086409025, "using": 2, "keep": 1}
{"id": "apache_shiro-91-6367", "old_comment": "the subject instance that represents the user and session data for the newly authenticated user .", "old_comment_tokens": ["the", "subject", "instance", "that", "represents", "the", "user", "and", "session", "data", "for", "the", "newly", "authenticated", "user", "."], "new_comment": "the subject instance that represents the context and session data for the newly authenticated subject .", "new_comment_tokens": ["the", "subject", "instance", "that", "represents", "the", "context", "and", "session", "data", "for", "the", "newly", "authenticated", "subject", "."], "old_code": "protected subject create subject ( authentication token token , authentication info info ) { map < string , object > context = new hash map < string , object > ( ) ; context . put ( subject factory . authenticated , boolean . true ) ; context . put ( subject factory . authentication _ token , token ) ; context . put ( subject factory . authentication _ info , info ) ; subject subject = get subject ( false ) ; if ( subject ! = null ) { context . put ( subject factory . subject , subject ) ; } return get subject ( context ) ; }", "old_code_tokens": ["protected", "subject", "create", "subject", "(", "authentication", "token", "token", ",", "authentication", "info", "info", ")", "{", "map", "<", "string", ",", "object", ">", "context", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authenticated", ",", "boolean", ".", "true", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authentication", "_", "token", ",", "token", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authentication", "_", "info", ",", "info", ")", ";", "subject", "subject", "=", "get", "subject", "(", "false", ")", ";", "if", "(", "subject", "!", "=", "null", ")", "{", "context", ".", "put", "(", "subject", "factory", ".", "subject", ",", "subject", ")", ";", "}", "return", "get", "subject", "(", "context", ")", ";", "}"], "new_code": "protected subject create subject ( authentication token token , authentication info info , subject existing ) { map < string , object > context = new hash map < string , object > ( ) ; context . put ( subject factory . authenticated , boolean . true ) ; context . put ( subject factory . authentication _ token , token ) ; context . put ( subject factory . authentication _ info , info ) ; if ( existing ! = null ) { context . put ( subject factory . subject , existing ) ; } return create subject ( context ) ; }", "new_code_tokens": ["protected", "subject", "create", "subject", "(", "authentication", "token", "token", ",", "authentication", "info", "info", ",", "subject", "existing", ")", "{", "map", "<", "string", ",", "object", ">", "context", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authenticated", ",", "boolean", ".", "true", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authentication", "_", "token", ",", "token", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authentication", "_", "info", ",", "info", ")", ";", "if", "(", "existing", "!", "=", "null", ")", "{", "context", ".", "put", "(", "subject", "factory", ".", "subject", ",", "existing", ")", ";", "}", "return", "create", "subject", "(", "context", ")", ";", "}"], "span_diff_code": "<KEEP> protected subject create subject ( authentication token token , authentication info info <KEEP_END> <INSERT> , subject existing <INSERT_END> <KEEP> ) { map < string , object > context = new hash map < string , object > ( ) ; context . put ( subject factory . authenticated , boolean . true ) ; context . put ( subject factory . authentication _ token , token ) ; context . put ( subject factory . authentication _ info , info ) ; <KEEP_END> <DELETE> subject subject = get subject ( false ) ; <DELETE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> subject <REPLACE_NEW> existing <REPLACE_END> <KEEP> ! = null ) { context . put ( subject factory . subject , <KEEP_END> <REPLACE_OLD> subject <REPLACE_NEW> existing <REPLACE_END> <KEEP> ) ; } return <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> create <REPLACE_END> <KEEP> subject ( context ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "subject", "create", "subject", "(", "authentication", "token", "token", ",", "authentication", "info", "info", "<KEEP_END>", "<INSERT>", ",", "subject", "existing", "<INSERT_END>", "<KEEP>", ")", "{", "map", "<", "string", ",", "object", ">", "context", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authenticated", ",", "boolean", ".", "true", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authentication", "_", "token", ",", "token", ")", ";", "context", ".", "put", "(", "subject", "factory", ".", "authentication", "_", "info", ",", "info", ")", ";", "<KEEP_END>", "<DELETE>", "subject", "subject", "=", "get", "subject", "(", "false", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "subject", "<REPLACE_NEW>", "existing", "<REPLACE_END>", "<KEEP>", "!", "=", "null", ")", "{", "context", ".", "put", "(", "subject", "factory", ".", "subject", ",", "<KEEP_END>", "<REPLACE_OLD>", "subject", "<REPLACE_NEW>", "existing", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "create", "<REPLACE_END>", "<KEEP>", "subject", "(", "context", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the user <REPLACE_NEW_KEEP_BEFORE> the context <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> authenticated user <REPLACE_NEW_KEEP_BEFORE> authenticated subject <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "user", "<REPLACE_NEW_KEEP_BEFORE>", "the", "context", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "authenticated", "user", "<REPLACE_NEW_KEEP_BEFORE>", "authenticated", "subject", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "subject", "<KEEP>", "create", "<KEEP>", "subject", "<KEEP>", "(", "<KEEP>", "authentication", "<KEEP>", "token", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "authentication", "<KEEP>", "info", "<KEEP>", "info", "<INSERT>", ",", "<INSERT>", "subject", "<INSERT>", "existing", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "subject", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "authenticated", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", ".", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "subject", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "authentication", "<KEEP>", "_", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "subject", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "authentication", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "subject", "<DELETE>", "subject", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "subject", "<DELETE>", "(", "<DELETE>", "false", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "subject", "<REPLACE_NEW>", "existing", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "subject", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "subject", "<KEEP>", ",", "<REPLACE_OLD>", "subject", "<REPLACE_NEW>", "existing", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "create", "<KEEP>", "subject", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8914950693208382, "using": 0, "keep": 1}
{"id": "mikepenz_Android-Iconics-0-1267", "old_comment": "the icon default color", "old_comment_tokens": ["the", "icon", "default", "color"], "new_comment": "the icon color", "new_comment_tokens": ["the", "icon", "color"], "old_code": "public int get color ( ) { return m icon color . get default color ( ) ; }", "old_code_tokens": ["public", "int", "get", "color", "(", ")", "{", "return", "m", "icon", "color", ".", "get", "default", "color", "(", ")", ";", "}"], "new_code": "@ color int public int get color ( ) { return m icon brush . get color for current state ( ) ; }", "new_code_tokens": ["@", "color", "int", "public", "int", "get", "color", "(", ")", "{", "return", "m", "icon", "brush", ".", "get", "color", "for", "current", "state", "(", ")", ";", "}"], "span_diff_code": "<INSERT> @ color int <INSERT_END> <KEEP> public int get color ( ) { return m icon <KEEP_END> <REPLACE_OLD> color <REPLACE_NEW> brush <REPLACE_END> <KEEP> . get <KEEP_END> <DELETE> default <DELETE_END> <KEEP> color <KEEP_END> <INSERT> for current state <INSERT_END> <KEEP> ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "color", "int", "<INSERT_END>", "<KEEP>", "public", "int", "get", "color", "(", ")", "{", "return", "m", "icon", "<KEEP_END>", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "brush", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<DELETE>", "default", "<DELETE_END>", "<KEEP>", "color", "<KEEP_END>", "<INSERT>", "for", "current", "state", "<INSERT_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> default <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "default", "<DELETE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "color", "<INSERT>", "int", "<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "icon", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "brush", "<KEEP>", ".", "<KEEP>", "get", "<DELETE>", "default", "<KEEP>", "color", "<INSERT>", "for", "<INSERT>", "current", "<INSERT>", "state", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9730511544317165, "using": 2, "keep": 1}
{"id": "RSB4760_apq8016_packages_apps_QuickSearchBox-0-5646", "old_comment": "the source result at the given position .", "old_comment_tokens": ["the", "source", "result", "at", "the", "given", "position", "."], "new_comment": "the source result for the given source . null if the source has not yet returned .", "new_comment_tokens": ["the", "source", "result", "for", "the", "given", "source", ".", "null", "if", "the", "source", "has", "not", "yet", "returned", "."], "old_code": "public suggestion cursor get source result ( int source pos ) { if ( m closed ) { throw new illegal state exception ( str + source pos + str ) ; } return m source results . get ( source pos ) ; }", "old_code_tokens": ["public", "suggestion", "cursor", "get", "source", "result", "(", "int", "source", "pos", ")", "{", "if", "(", "m", "closed", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "source", "pos", "+", "str", ")", ";", "}", "return", "m", "source", "results", ".", "get", "(", "source", "pos", ")", ";", "}"], "new_code": "public suggestion cursor get source result ( component name source ) { if ( m closed ) { throw new illegal state exception ( str + source + str ) ; } return m source results by source . get ( source ) ; }", "new_code_tokens": ["public", "suggestion", "cursor", "get", "source", "result", "(", "component", "name", "source", ")", "{", "if", "(", "m", "closed", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "source", "+", "str", ")", ";", "}", "return", "m", "source", "results", "by", "source", ".", "get", "(", "source", ")", ";", "}"], "span_diff_code": "<KEEP> public suggestion cursor get source result ( <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> component name <REPLACE_END> <KEEP> source <KEEP_END> <DELETE> pos <DELETE_END> <KEEP> ) { if ( m closed ) { throw new illegal state exception ( str + source <KEEP_END> <DELETE> pos <DELETE_END> <KEEP> + str ) ; } return m source results <KEEP_END> <INSERT> by source <INSERT_END> <KEEP> . get ( source <KEEP_END> <DELETE> pos <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "suggestion", "cursor", "get", "source", "result", "(", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "component", "name", "<REPLACE_END>", "<KEEP>", "source", "<KEEP_END>", "<DELETE>", "pos", "<DELETE_END>", "<KEEP>", ")", "{", "if", "(", "m", "closed", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "source", "<KEEP_END>", "<DELETE>", "pos", "<DELETE_END>", "<KEEP>", "+", "str", ")", ";", "}", "return", "m", "source", "results", "<KEEP_END>", "<INSERT>", "by", "source", "<INSERT_END>", "<KEEP>", ".", "get", "(", "source", "<KEEP_END>", "<DELETE>", "pos", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> at <REPLACE_NEW> for <REPLACE_END> <REPLACE_OLD> position <REPLACE_NEW> source <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . null if the source has not yet returned . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "at", "<REPLACE_NEW>", "for", "<REPLACE_END>", "<REPLACE_OLD>", "position", "<REPLACE_NEW>", "source", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "null", "if", "the", "source", "has", "not", "yet", "returned", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "suggestion", "<KEEP>", "cursor", "<KEEP>", "get", "<KEEP>", "source", "<KEEP>", "result", "<KEEP>", "(", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "component", "<REPLACE_NEW>", "name", "<KEEP>", "source", "<DELETE>", "pos", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "closed", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "source", "<DELETE>", "pos", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "source", "<KEEP>", "results", "<INSERT>", "by", "<INSERT>", "source", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "source", "<DELETE>", "pos", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7860053744993472, "using": 1, "keep": 1}
{"id": "softctrl_MyTracks-17-6490", "old_comment": "the id of the inserted statistics marker , or - 1 on error", "old_comment_tokens": ["the", "id", "of", "the", "inserted", "statistics", "marker", ",", "or", "-", "1", "on", "error"], "new_comment": "id of the inserted statistics marker .", "new_comment_tokens": ["id", "of", "the", "inserted", "statistics", "marker", "."], "old_code": "public long insert waypoint ( waypoint type type ) { if ( track recording service ! = null ) { try { long waypoint id = track recording service . insert waypoint ( type ) ; if ( waypoint id > = num ) { toast . make text ( this , r . string . status _ statistics _ inserted , toast . length _ long ) . show ( ) ; return waypoint id ; } else { toast . make text ( this , r . string . error _ unable _ to _ insert _ marker , toast . length _ long ) . show ( ) ; log . e ( my tracks constants . tag , str ) ; return - num ; } } catch ( exception e ) { toast . make text ( this , r . string . error _ unable _ to _ insert _ marker , toast . length _ long ) . show ( ) ; log . e ( my tracks constants . tag , str , e ) ; } return - num ; } return - num ; }", "old_code_tokens": ["public", "long", "insert", "waypoint", "(", "waypoint", "type", "type", ")", "{", "if", "(", "track", "recording", "service", "!", "=", "null", ")", "{", "try", "{", "long", "waypoint", "id", "=", "track", "recording", "service", ".", "insert", "waypoint", "(", "type", ")", ";", "if", "(", "waypoint", "id", ">", "=", "num", ")", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "status", "_", "statistics", "_", "inserted", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "return", "waypoint", "id", ";", "}", "else", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "error", "_", "unable", "_", "to", "_", "insert", "_", "marker", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "log", ".", "e", "(", "my", "tracks", "constants", ".", "tag", ",", "str", ")", ";", "return", "-", "num", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "error", "_", "unable", "_", "to", "_", "insert", "_", "marker", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "log", ".", "e", "(", "my", "tracks", "constants", ".", "tag", ",", "str", ",", "e", ")", ";", "}", "return", "-", "num", ";", "}", "return", "-", "num", ";", "}"], "new_code": "public long insert waypoint ( waypoint type type ) throws exception { if ( track recording service = = null ) { throw new illegal state exception ( str ) ; } try { long waypoint id = track recording service . insert waypoint ( type ) ; if ( waypoint id > = num ) { toast . make text ( this , r . string . status _ statistics _ inserted , toast . length _ long ) . show ( ) ; return waypoint id ; } else { toast . make text ( this , r . string . error _ unable _ to _ insert _ marker , toast . length _ long ) . show ( ) ; throw new exception ( str ) ; } } catch ( exception e ) { toast . make text ( this , r . string . error _ unable _ to _ insert _ marker , toast . length _ long ) . show ( ) ; throw e ; } }", "new_code_tokens": ["public", "long", "insert", "waypoint", "(", "waypoint", "type", "type", ")", "throws", "exception", "{", "if", "(", "track", "recording", "service", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "try", "{", "long", "waypoint", "id", "=", "track", "recording", "service", ".", "insert", "waypoint", "(", "type", ")", ";", "if", "(", "waypoint", "id", ">", "=", "num", ")", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "status", "_", "statistics", "_", "inserted", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "return", "waypoint", "id", ";", "}", "else", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "error", "_", "unable", "_", "to", "_", "insert", "_", "marker", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "throw", "new", "exception", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "error", "_", "unable", "_", "to", "_", "insert", "_", "marker", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "throw", "e", ";", "}", "}"], "span_diff_code": "<KEEP> public long insert waypoint ( waypoint type type ) <KEEP_END> <INSERT> throws exception <INSERT_END> <KEEP> { if ( track recording service <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> = <REPLACE_END> <KEEP> = null ) { <KEEP_END> <INSERT> throw new illegal state exception ( str ) ; } <INSERT_END> <KEEP> try { long waypoint id = track recording service . insert waypoint ( type ) ; if ( waypoint id > = num ) { toast . make text ( this , r . string . status _ statistics _ inserted , toast . length _ long ) . show ( ) ; return waypoint id ; } else { toast . make text ( this , r . string . error _ unable _ to _ insert _ marker , toast . length _ long ) . show ( ) ; <KEEP_END> <REPLACE_OLD> log . e <REPLACE_NEW> throw new exception <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> my tracks constants . tag , <DELETE_END> <KEEP> str ) <KEEP_END> <DELETE> ; return - num <DELETE_END> <KEEP> ; } } catch ( exception e ) { toast . make text ( this , r . string . error _ unable _ to _ insert _ marker , toast . length _ long ) . show ( ) ; <KEEP_END> <REPLACE_OLD> log . <REPLACE_NEW> throw <REPLACE_END> <KEEP> e <KEEP_END> <DELETE> ( my tracks constants . tag , str , e ) <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> return - num ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> return - num ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "insert", "waypoint", "(", "waypoint", "type", "type", ")", "<KEEP_END>", "<INSERT>", "throws", "exception", "<INSERT_END>", "<KEEP>", "{", "if", "(", "track", "recording", "service", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "=", "null", ")", "{", "<KEEP_END>", "<INSERT>", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "<INSERT_END>", "<KEEP>", "try", "{", "long", "waypoint", "id", "=", "track", "recording", "service", ".", "insert", "waypoint", "(", "type", ")", ";", "if", "(", "waypoint", "id", ">", "=", "num", ")", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "status", "_", "statistics", "_", "inserted", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "return", "waypoint", "id", ";", "}", "else", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "error", "_", "unable", "_", "to", "_", "insert", "_", "marker", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "log", ".", "e", "<REPLACE_NEW>", "throw", "new", "exception", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "my", "tracks", "constants", ".", "tag", ",", "<DELETE_END>", "<KEEP>", "str", ")", "<KEEP_END>", "<DELETE>", ";", "return", "-", "num", "<DELETE_END>", "<KEEP>", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "toast", ".", "make", "text", "(", "this", ",", "r", ".", "string", ".", "error", "_", "unable", "_", "to", "_", "insert", "_", "marker", ",", "toast", ".", "length", "_", "long", ")", ".", "show", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "log", ".", "<REPLACE_NEW>", "throw", "<REPLACE_END>", "<KEEP>", "e", "<KEEP_END>", "<DELETE>", "(", "my", "tracks", "constants", ".", "tag", ",", "str", ",", "e", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "-", "num", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "return", "-", "num", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> the id <REPLACE_NEW_DELETE_KEEP_AFTER> id <REPLACE_END> <REPLACE_OLD> , or - 1 on error <REPLACE_NEW> . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "the", "id", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "id", "<REPLACE_END>", "<REPLACE_OLD>", ",", "or", "-", "1", "on", "error", "<REPLACE_NEW>", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "insert", "<KEEP>", "waypoint", "<KEEP>", "(", "<KEEP>", "waypoint", "<KEEP>", "type", "<KEEP>", "type", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "track", "<KEEP>", "recording", "<KEEP>", "service", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "long", "<KEEP>", "waypoint", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "track", "<KEEP>", "recording", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "insert", "<KEEP>", "waypoint", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "waypoint", "<KEEP>", "id", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "toast", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "_", "<KEEP>", "statistics", "<KEEP>", "_", "<KEEP>", "inserted", "<KEEP>", ",", "<KEEP>", "toast", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "_", "<KEEP>", "long", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "show", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "waypoint", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "toast", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "_", "<KEEP>", "unable", "<KEEP>", "_", "<KEEP>", "to", "<KEEP>", "_", "<KEEP>", "insert", "<KEEP>", "_", "<KEEP>", "marker", "<KEEP>", ",", "<KEEP>", "toast", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "_", "<KEEP>", "long", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "show", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "exception", "<KEEP>", "(", "<DELETE>", "my", "<DELETE>", "tracks", "<DELETE>", "constants", "<DELETE>", ".", "<DELETE>", "tag", "<DELETE>", ",", "<KEEP>", "str", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "-", "<DELETE>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "toast", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "_", "<KEEP>", "unable", "<KEEP>", "_", "<KEEP>", "to", "<KEEP>", "_", "<KEEP>", "insert", "<KEEP>", "_", "<KEEP>", "marker", "<KEEP>", ",", "<KEEP>", "toast", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "_", "<KEEP>", "long", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "show", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "throw", "<KEEP>", "e", "<DELETE>", "(", "<DELETE>", "my", "<DELETE>", "tracks", "<DELETE>", "constants", "<DELETE>", ".", "<DELETE>", "tag", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "e", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.7857561379117932, "using": 2, "keep": 1}
{"id": "eclipse_elk-137-6006", "old_comment": "the adjusted insets .", "old_comment_tokens": ["the", "adjusted", "insets", "."], "new_comment": "the adjusted padding .", "new_comment_tokens": ["the", "adjusted", "padding", "."], "old_code": "public static elk padding calculate required node label space ( final node adapter < ? > node , final double label spacing , final elk padding node label insets , final map < label location , label group > label groups bounding boxes , final elk padding insets ) { if ( ! node . get labels ( ) . iterator ( ) . has next ( ) ) { return insets ; } final set < node label placement > node label placement = node . get property ( core options . node _ labels _ placement ) ; final label location node label location = label location . from node label placement ( node label placement ) ; for ( final label adapter < ? > label : node . get labels ( ) ) { label location label placement = label location . from node label placement ( label . get property ( core options . node _ labels _ placement ) ) ; if ( label placement = = label location . undefined ) { label placement = node label location ; } label . set volatile id ( label placement . ordinal ( ) ) ; final rectangle bounding box = retrieve label groups bounding box ( label groups bounding boxes , label placement ) ; bounding box . width = math . max ( bounding box . width , label . get size ( ) . x ) ; bounding box . height + = label . get size ( ) . y + label spacing ; } boolean h prio = node label placement . contains ( node label placement . h _ priority ) ; for ( final entry < label location , label group > entry : label groups bounding boxes . entry set ( ) ) { final rectangle bounding box = entry . get value ( ) ; bounding box . height - = label spacing ; switch ( entry . get key ( ) ) { case in _ t _ l : if ( h prio ) { insets . left = math . max ( insets . left , bounding box . width + label spacing + node label insets . left ) ; } else { insets . top = math . max ( insets . top , bounding box . height + label spacing + node label insets . top ) ; } break ; case in _ t _ c : insets . top = math . max ( insets . top , bounding box . height + label spacing + node label insets . top ) ; break ; case in _ t _ r : if ( h prio ) { insets . right = math . max ( insets . right , bounding box . width + label spacing + node label insets . right ) ; } else { insets . top = math . max ( insets . top , bounding box . height + label spacing + node label insets . top ) ; } break ; case in _ c _ l : insets . left = math . max ( insets . left , bounding box . width + label spacing + node label insets . left ) ; break ; case in _ c _ r : insets . right = math . max ( insets . right , bounding box . width + label spacing + node label insets . right ) ; break ; case in _ b _ l : if ( h prio ) { insets . left = math . max ( insets . left , bounding box . width + label spacing + node label insets . left ) ; } else { insets . bottom = math . max ( insets . bottom , bounding box . height + label spacing + node label insets . bottom ) ; } break ; case in _ b _ c : insets . bottom = math . max ( insets . bottom , bounding box . height + label spacing + node label insets . bottom ) ; break ; case in _ b _ r : if ( h prio ) { insets . right = math . max ( insets . right , bounding box . width + label spacing + node label insets . right ) ; } else { insets . bottom = math . max ( insets . bottom , bounding box . height + label spacing + node label insets . bottom ) ; } break ; default : } } insets . top = math . max ( insets . top , node label insets . top ) ; insets . left = math . max ( insets . left , node label insets . left ) ; insets . right = math . max ( insets . right , node label insets . right ) ; insets . bottom = math . max ( insets . bottom , node label insets . bottom ) ; return insets ; }", "old_code_tokens": ["public", "static", "elk", "padding", "calculate", "required", "node", "label", "space", "(", "final", "node", "adapter", "<", "?", ">", "node", ",", "final", "double", "label", "spacing", ",", "final", "elk", "padding", "node", "label", "insets", ",", "final", "map", "<", "label", "location", ",", "label", "group", ">", "label", "groups", "bounding", "boxes", ",", "final", "elk", "padding", "insets", ")", "{", "if", "(", "!", "node", ".", "get", "labels", "(", ")", ".", "iterator", "(", ")", ".", "has", "next", "(", ")", ")", "{", "return", "insets", ";", "}", "final", "set", "<", "node", "label", "placement", ">", "node", "label", "placement", "=", "node", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "placement", ")", ";", "final", "label", "location", "node", "label", "location", "=", "label", "location", ".", "from", "node", "label", "placement", "(", "node", "label", "placement", ")", ";", "for", "(", "final", "label", "adapter", "<", "?", ">", "label", ":", "node", ".", "get", "labels", "(", ")", ")", "{", "label", "location", "label", "placement", "=", "label", "location", ".", "from", "node", "label", "placement", "(", "label", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "placement", ")", ")", ";", "if", "(", "label", "placement", "=", "=", "label", "location", ".", "undefined", ")", "{", "label", "placement", "=", "node", "label", "location", ";", "}", "label", ".", "set", "volatile", "id", "(", "label", "placement", ".", "ordinal", "(", ")", ")", ";", "final", "rectangle", "bounding", "box", "=", "retrieve", "label", "groups", "bounding", "box", "(", "label", "groups", "bounding", "boxes", ",", "label", "placement", ")", ";", "bounding", "box", ".", "width", "=", "math", ".", "max", "(", "bounding", "box", ".", "width", ",", "label", ".", "get", "size", "(", ")", ".", "x", ")", ";", "bounding", "box", ".", "height", "+", "=", "label", ".", "get", "size", "(", ")", ".", "y", "+", "label", "spacing", ";", "}", "boolean", "h", "prio", "=", "node", "label", "placement", ".", "contains", "(", "node", "label", "placement", ".", "h", "_", "priority", ")", ";", "for", "(", "final", "entry", "<", "label", "location", ",", "label", "group", ">", "entry", ":", "label", "groups", "bounding", "boxes", ".", "entry", "set", "(", ")", ")", "{", "final", "rectangle", "bounding", "box", "=", "entry", ".", "get", "value", "(", ")", ";", "bounding", "box", ".", "height", "-", "=", "label", "spacing", ";", "switch", "(", "entry", ".", "get", "key", "(", ")", ")", "{", "case", "in", "_", "t", "_", "l", ":", "if", "(", "h", "prio", ")", "{", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "insets", ".", "left", ")", ";", "}", "else", "{", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "insets", ".", "top", ")", ";", "}", "break", ";", "case", "in", "_", "t", "_", "c", ":", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "insets", ".", "top", ")", ";", "break", ";", "case", "in", "_", "t", "_", "r", ":", "if", "(", "h", "prio", ")", "{", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "insets", ".", "right", ")", ";", "}", "else", "{", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "insets", ".", "top", ")", ";", "}", "break", ";", "case", "in", "_", "c", "_", "l", ":", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "insets", ".", "left", ")", ";", "break", ";", "case", "in", "_", "c", "_", "r", ":", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "insets", ".", "right", ")", ";", "break", ";", "case", "in", "_", "b", "_", "l", ":", "if", "(", "h", "prio", ")", "{", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "insets", ".", "left", ")", ";", "}", "else", "{", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "insets", ".", "bottom", ")", ";", "}", "break", ";", "case", "in", "_", "b", "_", "c", ":", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "insets", ".", "bottom", ")", ";", "break", ";", "case", "in", "_", "b", "_", "r", ":", "if", "(", "h", "prio", ")", "{", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "insets", ".", "right", ")", ";", "}", "else", "{", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "insets", ".", "bottom", ")", ";", "}", "break", ";", "default", ":", "}", "}", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", ".", "top", ",", "node", "label", "insets", ".", "top", ")", ";", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", ".", "left", ",", "node", "label", "insets", ".", "left", ")", ";", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", ".", "right", ",", "node", "label", "insets", ".", "right", ")", ";", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", ".", "bottom", ",", "node", "label", "insets", ".", "bottom", ")", ";", "return", "insets", ";", "}"], "new_code": "public static elk padding calculate required node label space ( final node adapter < ? > node , final double label spacing , final elk padding node label padding , final map < label location , label group > label groups bounding boxes , final elk padding padding ) { if ( ! node . get labels ( ) . iterator ( ) . has next ( ) ) { return padding ; } final set < node label placement > node label placement = node . get property ( core options . node _ labels _ placement ) ; final label location node label location = label location . from node label placement ( node label placement ) ; for ( final label adapter < ? > label : node . get labels ( ) ) { label location label placement = label location . from node label placement ( label . get property ( core options . node _ labels _ placement ) ) ; if ( label placement = = label location . undefined ) { label placement = node label location ; } label . set volatile id ( label placement . ordinal ( ) ) ; final rectangle bounding box = retrieve label groups bounding box ( label groups bounding boxes , label placement ) ; bounding box . width = math . max ( bounding box . width , label . get size ( ) . x ) ; bounding box . height + = label . get size ( ) . y + label spacing ; } boolean h prio = node label placement . contains ( node label placement . h _ priority ) ; for ( final entry < label location , label group > entry : label groups bounding boxes . entry set ( ) ) { final rectangle bounding box = entry . get value ( ) ; bounding box . height - = label spacing ; switch ( entry . get key ( ) ) { case in _ t _ l : if ( h prio ) { padding . left = math . max ( padding . left , bounding box . width + label spacing + node label padding . left ) ; } else { padding . top = math . max ( padding . top , bounding box . height + label spacing + node label padding . top ) ; } break ; case in _ t _ c : padding . top = math . max ( padding . top , bounding box . height + label spacing + node label padding . top ) ; break ; case in _ t _ r : if ( h prio ) { padding . right = math . max ( padding . right , bounding box . width + label spacing + node label padding . right ) ; } else { padding . top = math . max ( padding . top , bounding box . height + label spacing + node label padding . top ) ; } break ; case in _ c _ l : padding . left = math . max ( padding . left , bounding box . width + label spacing + node label padding . left ) ; break ; case in _ c _ r : padding . right = math . max ( padding . right , bounding box . width + label spacing + node label padding . right ) ; break ; case in _ b _ l : if ( h prio ) { padding . left = math . max ( padding . left , bounding box . width + label spacing + node label padding . left ) ; } else { padding . bottom = math . max ( padding . bottom , bounding box . height + label spacing + node label padding . bottom ) ; } break ; case in _ b _ c : padding . bottom = math . max ( padding . bottom , bounding box . height + label spacing + node label padding . bottom ) ; break ; case in _ b _ r : if ( h prio ) { padding . right = math . max ( padding . right , bounding box . width + label spacing + node label padding . right ) ; } else { padding . bottom = math . max ( padding . bottom , bounding box . height + label spacing + node label padding . bottom ) ; } break ; default : } } padding . top = math . max ( padding . top , node label padding . top ) ; padding . left = math . max ( padding . left , node label padding . left ) ; padding . right = math . max ( padding . right , node label padding . right ) ; padding . bottom = math . max ( padding . bottom , node label padding . bottom ) ; return padding ; }", "new_code_tokens": ["public", "static", "elk", "padding", "calculate", "required", "node", "label", "space", "(", "final", "node", "adapter", "<", "?", ">", "node", ",", "final", "double", "label", "spacing", ",", "final", "elk", "padding", "node", "label", "padding", ",", "final", "map", "<", "label", "location", ",", "label", "group", ">", "label", "groups", "bounding", "boxes", ",", "final", "elk", "padding", "padding", ")", "{", "if", "(", "!", "node", ".", "get", "labels", "(", ")", ".", "iterator", "(", ")", ".", "has", "next", "(", ")", ")", "{", "return", "padding", ";", "}", "final", "set", "<", "node", "label", "placement", ">", "node", "label", "placement", "=", "node", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "placement", ")", ";", "final", "label", "location", "node", "label", "location", "=", "label", "location", ".", "from", "node", "label", "placement", "(", "node", "label", "placement", ")", ";", "for", "(", "final", "label", "adapter", "<", "?", ">", "label", ":", "node", ".", "get", "labels", "(", ")", ")", "{", "label", "location", "label", "placement", "=", "label", "location", ".", "from", "node", "label", "placement", "(", "label", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "placement", ")", ")", ";", "if", "(", "label", "placement", "=", "=", "label", "location", ".", "undefined", ")", "{", "label", "placement", "=", "node", "label", "location", ";", "}", "label", ".", "set", "volatile", "id", "(", "label", "placement", ".", "ordinal", "(", ")", ")", ";", "final", "rectangle", "bounding", "box", "=", "retrieve", "label", "groups", "bounding", "box", "(", "label", "groups", "bounding", "boxes", ",", "label", "placement", ")", ";", "bounding", "box", ".", "width", "=", "math", ".", "max", "(", "bounding", "box", ".", "width", ",", "label", ".", "get", "size", "(", ")", ".", "x", ")", ";", "bounding", "box", ".", "height", "+", "=", "label", ".", "get", "size", "(", ")", ".", "y", "+", "label", "spacing", ";", "}", "boolean", "h", "prio", "=", "node", "label", "placement", ".", "contains", "(", "node", "label", "placement", ".", "h", "_", "priority", ")", ";", "for", "(", "final", "entry", "<", "label", "location", ",", "label", "group", ">", "entry", ":", "label", "groups", "bounding", "boxes", ".", "entry", "set", "(", ")", ")", "{", "final", "rectangle", "bounding", "box", "=", "entry", ".", "get", "value", "(", ")", ";", "bounding", "box", ".", "height", "-", "=", "label", "spacing", ";", "switch", "(", "entry", ".", "get", "key", "(", ")", ")", "{", "case", "in", "_", "t", "_", "l", ":", "if", "(", "h", "prio", ")", "{", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "padding", ".", "left", ")", ";", "}", "else", "{", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "padding", ".", "top", ")", ";", "}", "break", ";", "case", "in", "_", "t", "_", "c", ":", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "padding", ".", "top", ")", ";", "break", ";", "case", "in", "_", "t", "_", "r", ":", "if", "(", "h", "prio", ")", "{", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "padding", ".", "right", ")", ";", "}", "else", "{", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "padding", ".", "top", ")", ";", "}", "break", ";", "case", "in", "_", "c", "_", "l", ":", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "padding", ".", "left", ")", ";", "break", ";", "case", "in", "_", "c", "_", "r", ":", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "padding", ".", "right", ")", ";", "break", ";", "case", "in", "_", "b", "_", "l", ":", "if", "(", "h", "prio", ")", "{", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "padding", ".", "left", ")", ";", "}", "else", "{", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "padding", ".", "bottom", ")", ";", "}", "break", ";", "case", "in", "_", "b", "_", "c", ":", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "padding", ".", "bottom", ")", ";", "break", ";", "case", "in", "_", "b", "_", "r", ":", "if", "(", "h", "prio", ")", "{", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "padding", ".", "right", ")", ";", "}", "else", "{", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "padding", ".", "bottom", ")", ";", "}", "break", ";", "default", ":", "}", "}", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", ".", "top", ",", "node", "label", "padding", ".", "top", ")", ";", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", ".", "left", ",", "node", "label", "padding", ".", "left", ")", ";", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", ".", "right", ",", "node", "label", "padding", ".", "right", ")", ";", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", ".", "bottom", ",", "node", "label", "padding", ".", "bottom", ")", ";", "return", "padding", ";", "}"], "span_diff_code": "<KEEP> public static elk padding calculate required node label space ( final node adapter < ? > node , final double label spacing , final elk padding node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> , final map < label location , label group > label groups bounding boxes , final elk padding <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> ) { if ( ! node . get labels ( ) . iterator ( ) . has next ( ) ) { return <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> ; } final set < node label placement > node label placement = node . get property ( core options . node _ labels _ placement ) ; final label location node label location = label location . from node label placement ( node label placement ) ; for ( final label adapter < ? > label : node . get labels ( ) ) { label location label placement = label location . from node label placement ( label . get property ( core options . node _ labels _ placement ) ) ; if ( label placement = = label location . undefined ) { label placement = node label location ; } label . set volatile id ( label placement . ordinal ( ) ) ; final rectangle bounding box = retrieve label groups bounding box ( label groups bounding boxes , label placement ) ; bounding box . width = math . max ( bounding box . width , label . get size ( ) . x ) ; bounding box . height + = label . get size ( ) . y + label spacing ; } boolean h prio = node label placement . contains ( node label placement . h _ priority ) ; for ( final entry < label location , label group > entry : label groups bounding boxes . entry set ( ) ) { final rectangle bounding box = entry . get value ( ) ; bounding box . height - = label spacing ; switch ( entry . get key ( ) ) { case in _ t _ l : if ( h prio ) { <KEEP_END> <REPLACE_OLD> insets . left = math . max ( insets <REPLACE_NEW> padding . left = math . max ( padding <REPLACE_END> <KEEP> . left , bounding box . width + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . left ) ; } else { <KEEP_END> <REPLACE_OLD> insets . top = math . max ( insets <REPLACE_NEW> padding . top = math . max ( padding <REPLACE_END> <KEEP> . top , bounding box . height + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . top ) ; } break ; case in _ t _ c : <KEEP_END> <REPLACE_OLD> insets . top = math . max ( insets <REPLACE_NEW> padding . top = math . max ( padding <REPLACE_END> <KEEP> . top , bounding box . height + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . top ) ; break ; case in _ t _ r : if ( h prio ) { <KEEP_END> <REPLACE_OLD> insets . right = math . max ( insets <REPLACE_NEW> padding . right = math . max ( padding <REPLACE_END> <KEEP> . right , bounding box . width + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . right ) ; } else { <KEEP_END> <REPLACE_OLD> insets . top = math . max ( insets <REPLACE_NEW> padding . top = math . max ( padding <REPLACE_END> <KEEP> . top , bounding box . height + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . top ) ; } break ; case in _ c _ l : <KEEP_END> <REPLACE_OLD> insets . left = math . max ( insets <REPLACE_NEW> padding . left = math . max ( padding <REPLACE_END> <KEEP> . left , bounding box . width + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . left ) ; break ; case in _ c _ r : <KEEP_END> <REPLACE_OLD> insets . right = math . max ( insets <REPLACE_NEW> padding . right = math . max ( padding <REPLACE_END> <KEEP> . right , bounding box . width + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . right ) ; break ; case in _ b _ l : if ( h prio ) { <KEEP_END> <REPLACE_OLD> insets . left = math . max ( insets <REPLACE_NEW> padding . left = math . max ( padding <REPLACE_END> <KEEP> . left , bounding box . width + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . left ) ; } else { <KEEP_END> <REPLACE_OLD> insets . bottom = math . max ( insets <REPLACE_NEW> padding . bottom = math . max ( padding <REPLACE_END> <KEEP> . bottom , bounding box . height + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . bottom ) ; } break ; case in _ b _ c : <KEEP_END> <REPLACE_OLD> insets . bottom = math . max ( insets <REPLACE_NEW> padding . bottom = math . max ( padding <REPLACE_END> <KEEP> . bottom , bounding box . height + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . bottom ) ; break ; case in _ b _ r : if ( h prio ) { <KEEP_END> <REPLACE_OLD> insets . right = math . max ( insets <REPLACE_NEW> padding . right = math . max ( padding <REPLACE_END> <KEEP> . right , bounding box . width + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . right ) ; } else { <KEEP_END> <REPLACE_OLD> insets . bottom = math . max ( insets <REPLACE_NEW> padding . bottom = math . max ( padding <REPLACE_END> <KEEP> . bottom , bounding box . height + label spacing + node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> . bottom ) ; } break ; default : } } <KEEP_END> <REPLACE_OLD> insets . top = math . max ( insets . top , node label insets . top ) ; insets . left = math . max ( insets . left , node label insets . left ) ; insets . right = math . max ( insets . right , node label insets . right ) ; insets . bottom = math . max ( insets . bottom , node label insets <REPLACE_NEW> padding . top = math . max ( padding . top , node label padding . top ) ; padding . left = math . max ( padding . left , node label padding . left ) ; padding . right = math . max ( padding . right , node label padding . right ) ; padding . bottom = math . max ( padding . bottom , node label padding <REPLACE_END> <KEEP> . bottom ) ; return <KEEP_END> <REPLACE_OLD> insets ; } <REPLACE_NEW> padding ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "elk", "padding", "calculate", "required", "node", "label", "space", "(", "final", "node", "adapter", "<", "?", ">", "node", ",", "final", "double", "label", "spacing", ",", "final", "elk", "padding", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ",", "final", "map", "<", "label", "location", ",", "label", "group", ">", "label", "groups", "bounding", "boxes", ",", "final", "elk", "padding", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "!", "node", ".", "get", "labels", "(", ")", ".", "iterator", "(", ")", ".", "has", "next", "(", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ";", "}", "final", "set", "<", "node", "label", "placement", ">", "node", "label", "placement", "=", "node", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "placement", ")", ";", "final", "label", "location", "node", "label", "location", "=", "label", "location", ".", "from", "node", "label", "placement", "(", "node", "label", "placement", ")", ";", "for", "(", "final", "label", "adapter", "<", "?", ">", "label", ":", "node", ".", "get", "labels", "(", ")", ")", "{", "label", "location", "label", "placement", "=", "label", "location", ".", "from", "node", "label", "placement", "(", "label", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "placement", ")", ")", ";", "if", "(", "label", "placement", "=", "=", "label", "location", ".", "undefined", ")", "{", "label", "placement", "=", "node", "label", "location", ";", "}", "label", ".", "set", "volatile", "id", "(", "label", "placement", ".", "ordinal", "(", ")", ")", ";", "final", "rectangle", "bounding", "box", "=", "retrieve", "label", "groups", "bounding", "box", "(", "label", "groups", "bounding", "boxes", ",", "label", "placement", ")", ";", "bounding", "box", ".", "width", "=", "math", ".", "max", "(", "bounding", "box", ".", "width", ",", "label", ".", "get", "size", "(", ")", ".", "x", ")", ";", "bounding", "box", ".", "height", "+", "=", "label", ".", "get", "size", "(", ")", ".", "y", "+", "label", "spacing", ";", "}", "boolean", "h", "prio", "=", "node", "label", "placement", ".", "contains", "(", "node", "label", "placement", ".", "h", "_", "priority", ")", ";", "for", "(", "final", "entry", "<", "label", "location", ",", "label", "group", ">", "entry", ":", "label", "groups", "bounding", "boxes", ".", "entry", "set", "(", ")", ")", "{", "final", "rectangle", "bounding", "box", "=", "entry", ".", "get", "value", "(", ")", ";", "bounding", "box", ".", "height", "-", "=", "label", "spacing", ";", "switch", "(", "entry", ".", "get", "key", "(", ")", ")", "{", "case", "in", "_", "t", "_", "l", ":", "if", "(", "h", "prio", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "left", ")", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "top", ")", ";", "}", "break", ";", "case", "in", "_", "t", "_", "c", ":", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "top", ")", ";", "break", ";", "case", "in", "_", "t", "_", "r", ":", "if", "(", "h", "prio", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "right", ")", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "top", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "top", ")", ";", "}", "break", ";", "case", "in", "_", "c", "_", "l", ":", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "left", ")", ";", "break", ";", "case", "in", "_", "c", "_", "r", ":", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "right", ")", ";", "break", ";", "case", "in", "_", "b", "_", "l", ":", "if", "(", "h", "prio", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "left", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "left", ")", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ")", ";", "}", "break", ";", "case", "in", "_", "b", "_", "c", ":", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ")", ";", "break", ";", "case", "in", "_", "b", "_", "r", ":", "if", "(", "h", "prio", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "right", ",", "bounding", "box", ".", "width", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "right", ")", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", "<REPLACE_NEW>", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ",", "bounding", "box", ".", "height", "+", "label", "spacing", "+", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ")", ";", "}", "break", ";", "default", ":", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "insets", ".", "top", "=", "math", ".", "max", "(", "insets", ".", "top", ",", "node", "label", "insets", ".", "top", ")", ";", "insets", ".", "left", "=", "math", ".", "max", "(", "insets", ".", "left", ",", "node", "label", "insets", ".", "left", ")", ";", "insets", ".", "right", "=", "math", ".", "max", "(", "insets", ".", "right", ",", "node", "label", "insets", ".", "right", ")", ";", "insets", ".", "bottom", "=", "math", ".", "max", "(", "insets", ".", "bottom", ",", "node", "label", "insets", "<REPLACE_NEW>", "padding", ".", "top", "=", "math", ".", "max", "(", "padding", ".", "top", ",", "node", "label", "padding", ".", "top", ")", ";", "padding", ".", "left", "=", "math", ".", "max", "(", "padding", ".", "left", ",", "node", "label", "padding", ".", "left", ")", ";", "padding", ".", "right", "=", "math", ".", "max", "(", "padding", ".", "right", ",", "node", "label", "padding", ".", "right", ")", ";", "padding", ".", "bottom", "=", "math", ".", "max", "(", "padding", ".", "bottom", ",", "node", "label", "padding", "<REPLACE_END>", "<KEEP>", ".", "bottom", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "insets", ";", "}", "<REPLACE_NEW>", "padding", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "elk", "<KEEP>", "padding", "<KEEP>", "calculate", "<KEEP>", "required", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "node", "<KEEP>", "adapter", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "double", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "elk", "<KEEP>", "padding", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ",", "<KEEP>", "label", "<KEEP>", "group", "<KEEP>", ">", "<KEEP>", "label", "<KEEP>", "groups", "<KEEP>", "bounding", "<KEEP>", "boxes", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "elk", "<KEEP>", "padding", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "labels", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", ">", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "core", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "node", "<KEEP>", "_", "<KEEP>", "labels", "<KEEP>", "_", "<KEEP>", "placement", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", "=", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "label", "<KEEP>", "adapter", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "label", "<KEEP>", ":", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "labels", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", "=", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", "(", "<KEEP>", "label", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "core", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "node", "<KEEP>", "_", "<KEEP>", "labels", "<KEEP>", "_", "<KEEP>", "placement", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ".", "<KEEP>", "undefined", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "label", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "volatile", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", ".", "<KEEP>", "ordinal", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "rectangle", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", "=", "<KEEP>", "retrieve", "<KEEP>", "label", "<KEEP>", "groups", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", "(", "<KEEP>", "label", "<KEEP>", "groups", "<KEEP>", "bounding", "<KEEP>", "boxes", "<KEEP>", ",", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "=", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", ",", "<KEEP>", "label", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "label", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "boolean", "<KEEP>", "h", "<KEEP>", "prio", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "placement", "<KEEP>", ".", "<KEEP>", "h", "<KEEP>", "_", "<KEEP>", "priority", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ",", "<KEEP>", "label", "<KEEP>", "group", "<KEEP>", ">", "<KEEP>", "entry", "<KEEP>", ":", "<KEEP>", "label", "<KEEP>", "groups", "<KEEP>", "bounding", "<KEEP>", "boxes", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "rectangle", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", "=", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "-", "<KEEP>", "=", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "l", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "h", "<KEEP>", "prio", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "left", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "left", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "left", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "top", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "top", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "top", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "c", "<KEEP>", ":", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "top", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "top", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "top", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "r", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "h", "<KEEP>", "prio", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "right", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "right", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "right", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "top", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "top", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "top", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "c", "<KEEP>", "_", "<KEEP>", "l", "<KEEP>", ":", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "left", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "left", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "left", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "c", "<KEEP>", "_", "<KEEP>", "r", "<KEEP>", ":", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "right", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "right", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "right", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "b", "<KEEP>", "_", "<KEEP>", "l", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "h", "<KEEP>", "prio", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "left", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "left", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "left", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bottom", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bottom", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "b", "<KEEP>", "_", "<KEEP>", "c", "<KEEP>", ":", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bottom", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bottom", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "in", "<KEEP>", "_", "<KEEP>", "b", "<KEEP>", "_", "<KEEP>", "r", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "h", "<KEEP>", "prio", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "right", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "right", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "right", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bottom", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bottom", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ",", "<KEEP>", "bounding", "<KEEP>", "box", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", "+", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "top", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "top", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "top", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "left", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "left", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "left", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "right", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "right", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "right", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bottom", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bottom", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "left", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "left", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "left", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "right", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "right", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "right", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bottom", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bottom", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "padding", "<KEEP>", ".", "<KEEP>", "bottom", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "insets", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.9935953246408152, "using": 2, "keep": 1}
{"id": "guoguibing_librec-33-2578", "old_comment": "a matrix with results of c = a + b", "old_comment_tokens": ["a", "matrix", "with", "results", "of", "c", "=", "a", "+", "b"], "new_comment": "a new matrix with results of c = a + c", "new_comment_tokens": ["a", "new", "matrix", "with", "results", "of", "c", "=", "a", "+", "c"], "old_code": "public dense matrix add ( dense matrix mat ) { assert num rows = = mat . num rows ; assert num columns = = mat . num columns ; dense matrix result = new dense matrix ( num rows , num columns ) ; for ( int i = num ; i < num rows ; i + + ) for ( int j = num ; j < num columns ; j + + ) result . data [ i ] [ j ] = data [ i ] [ j ] + mat . data [ i ] [ j ] ; return result ; }", "old_code_tokens": ["public", "dense", "matrix", "add", "(", "dense", "matrix", "mat", ")", "{", "assert", "num", "rows", "=", "=", "mat", ".", "num", "rows", ";", "assert", "num", "columns", "=", "=", "mat", ".", "num", "columns", ";", "dense", "matrix", "result", "=", "new", "dense", "matrix", "(", "num", "rows", ",", "num", "columns", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", "rows", ";", "i", "+", "+", ")", "for", "(", "int", "j", "=", "num", ";", "j", "<", "num", "columns", ";", "j", "+", "+", ")", "result", ".", "data", "[", "i", "]", "[", "j", "]", "=", "data", "[", "i", "]", "[", "j", "]", "+", "mat", ".", "data", "[", "i", "]", "[", "j", "]", ";", "return", "result", ";", "}"], "new_code": "public dense matrix add ( double val ) { dense matrix res = new dense matrix ( num rows , num columns ) ; for ( int i = num ; i < num rows ; i + + ) for ( int j = num ; j < num columns ; j + + ) res . data [ i ] [ j ] = data [ i ] [ j ] + val ; return res ; }", "new_code_tokens": ["public", "dense", "matrix", "add", "(", "double", "val", ")", "{", "dense", "matrix", "res", "=", "new", "dense", "matrix", "(", "num", "rows", ",", "num", "columns", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", "rows", ";", "i", "+", "+", ")", "for", "(", "int", "j", "=", "num", ";", "j", "<", "num", "columns", ";", "j", "+", "+", ")", "res", ".", "data", "[", "i", "]", "[", "j", "]", "=", "data", "[", "i", "]", "[", "j", "]", "+", "val", ";", "return", "res", ";", "}"], "span_diff_code": "<KEEP> public dense matrix add ( <KEEP_END> <INSERT> double val ) { <INSERT_END> <KEEP> dense matrix <KEEP_END> <REPLACE_OLD> mat ) { assert num rows = = mat . num rows ; assert num columns = = mat . num columns ; dense matrix result <REPLACE_NEW> res <REPLACE_END> <KEEP> = new dense matrix ( num rows , num columns ) ; for ( int i = num ; i < num rows ; i + + ) for ( int j = num ; j < num columns ; j + + ) <KEEP_END> <REPLACE_OLD> result <REPLACE_NEW> res <REPLACE_END> <KEEP> . data [ i ] [ j ] = data [ i ] [ j ] + <KEEP_END> <REPLACE_OLD> mat . data [ i ] [ j ] <REPLACE_NEW> val <REPLACE_END> <KEEP> ; return <KEEP_END> <REPLACE_OLD> result <REPLACE_NEW> res <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "dense", "matrix", "add", "(", "<KEEP_END>", "<INSERT>", "double", "val", ")", "{", "<INSERT_END>", "<KEEP>", "dense", "matrix", "<KEEP_END>", "<REPLACE_OLD>", "mat", ")", "{", "assert", "num", "rows", "=", "=", "mat", ".", "num", "rows", ";", "assert", "num", "columns", "=", "=", "mat", ".", "num", "columns", ";", "dense", "matrix", "result", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", "=", "new", "dense", "matrix", "(", "num", "rows", ",", "num", "columns", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", "rows", ";", "i", "+", "+", ")", "for", "(", "int", "j", "=", "num", ";", "j", "<", "num", "columns", ";", "j", "+", "+", ")", "<KEEP_END>", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", ".", "data", "[", "i", "]", "[", "j", "]", "=", "data", "[", "i", "]", "[", "j", "]", "+", "<KEEP_END>", "<REPLACE_OLD>", "mat", ".", "data", "[", "i", "]", "[", "j", "]", "<REPLACE_NEW>", "val", "<REPLACE_END>", "<KEEP>", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> matrix <INSERT_NEW_KEEP_AFTER> new matrix <INSERT_END> <REPLACE_OLD> b <REPLACE_NEW> c <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "matrix", "<INSERT_NEW_KEEP_AFTER>", "new", "matrix", "<INSERT_END>", "<REPLACE_OLD>", "b", "<REPLACE_NEW>", "c", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "dense", "<KEEP>", "matrix", "<KEEP>", "add", "<KEEP>", "(", "<INSERT>", "double", "<INSERT>", "val", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "dense", "<KEEP>", "matrix", "<REPLACE_OLD>", "mat", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "assert", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "rows", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "mat", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "rows", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "assert", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "columns", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "mat", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "columns", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "dense", "<REPLACE_OLD>", "matrix", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "dense", "<KEEP>", "matrix", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "rows", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", "columns", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", "rows", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "j", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", "columns", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "j", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "j", "<KEEP>", "]", "<KEEP>", "+", "<REPLACE_OLD>", "mat", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "val", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "res", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.904008510949921, "using": 2, "keep": 1}
{"id": "Netflix_Hystrix-2-208", "old_comment": "this hystrix command builder", "old_comment_tokens": ["this", "hystrix", "command", "builder"], "new_comment": "this hystrix command builder . builder", "new_comment_tokens": ["this", "hystrix", "command", "builder", ".", "builder"], "old_code": "public hystrix command builder cache remove invocation context ( cache invocation context < cache remove > p cache remove invocation context ) { this . cache remove invocation context = p cache remove invocation context ; return this ; }", "old_code_tokens": ["public", "hystrix", "command", "builder", "cache", "remove", "invocation", "context", "(", "cache", "invocation", "context", "<", "cache", "remove", ">", "p", "cache", "remove", "invocation", "context", ")", "{", "this", ".", "cache", "remove", "invocation", "context", "=", "p", "cache", "remove", "invocation", "context", ";", "return", "this", ";", "}"], "new_code": "public builder cache remove invocation context ( cache invocation context < cache remove > p cache remove invocation context ) { this . cache remove invocation context = p cache remove invocation context ; return this ; }", "new_code_tokens": ["public", "builder", "cache", "remove", "invocation", "context", "(", "cache", "invocation", "context", "<", "cache", "remove", ">", "p", "cache", "remove", "invocation", "context", ")", "{", "this", ".", "cache", "remove", "invocation", "context", "=", "p", "cache", "remove", "invocation", "context", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hystrix command <DELETE_END> <KEEP> builder cache remove invocation context ( cache invocation context < cache remove > p cache remove invocation context ) { this . cache remove invocation context = p cache remove invocation context ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hystrix", "command", "<DELETE_END>", "<KEEP>", "builder", "cache", "remove", "invocation", "context", "(", "cache", "invocation", "context", "<", "cache", "remove", ">", "p", "cache", "remove", "invocation", "context", ")", "{", "this", ".", "cache", "remove", "invocation", "context", "=", "p", "cache", "remove", "invocation", "context", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> builder <INSERT_NEW_KEEP_BEFORE> builder . builder <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "builder", "<INSERT_NEW_KEEP_BEFORE>", "builder", ".", "builder", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hystrix", "<DELETE>", "command", "<KEEP>", "builder", "<KEEP>", "cache", "<KEEP>", "remove", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", "cache", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", "<", "<KEEP>", "cache", "<KEEP>", "remove", "<KEEP>", ">", "<KEEP>", "p", "<KEEP>", "cache", "<KEEP>", "remove", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "cache", "<KEEP>", "remove", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "cache", "<KEEP>", "remove", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9053812281436874, "using": 0, "keep": 1}
{"id": "azkaban_azkaban-18-2418", "old_comment": "true , if we have enabled metric manager from azkaban exec server", "old_comment_tokens": ["true", ",", "if", "we", "have", "enabled", "metric", "manager", "from", "azkaban", "exec", "server"], "new_comment": "true , if we have instantiated and enabled metric manager from azkaban exec server", "new_comment_tokens": ["true", ",", "if", "we", "have", "instantiated", "and", "enabled", "metric", "manager", "from", "azkaban", "exec", "server"], "old_code": "public static boolean is available ( ) { return instance ! = null & & is manager enabled ; }", "old_code_tokens": ["public", "static", "boolean", "is", "available", "(", ")", "{", "return", "instance", "!", "=", "null", "&", "&", "is", "manager", "enabled", ";", "}"], "new_code": "public static boolean is available ( ) { return is instantiated ( ) & & is manager enabled ; }", "new_code_tokens": ["public", "static", "boolean", "is", "available", "(", ")", "{", "return", "is", "instantiated", "(", ")", "&", "&", "is", "manager", "enabled", ";", "}"], "span_diff_code": "<KEEP> public static boolean is available ( ) { return <KEEP_END> <REPLACE_OLD> instance ! = null <REPLACE_NEW> is instantiated ( ) <REPLACE_END> <KEEP> & & is manager enabled ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "available", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "instance", "!", "=", "null", "<REPLACE_NEW>", "is", "instantiated", "(", ")", "<REPLACE_END>", "<KEEP>", "&", "&", "is", "manager", "enabled", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> have <INSERT_NEW_KEEP_BEFORE> have instantiated and <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "have", "<INSERT_NEW_KEEP_BEFORE>", "have", "instantiated", "and", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "available", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "instantiated", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "is", "<KEEP>", "manager", "<KEEP>", "enabled", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9848036490756272, "using": 2, "keep": 1}
{"id": "codehaus_aspectwerkz-117-4222", "old_comment": "the aspects", "old_comment_tokens": ["the", "aspects"], "new_comment": "the aspect containers", "new_comment_tokens": ["the", "aspect", "containers"], "old_code": "public object [ ] get aspect containers ( ) { initialize ( ) ; return m _ aspect containers ; }", "old_code_tokens": ["public", "object", "[", "]", "get", "aspect", "containers", "(", ")", "{", "initialize", "(", ")", ";", "return", "m", "_", "aspect", "containers", ";", "}"], "new_code": "public aspect container [ ] get aspect containers ( ) { initialize ( ) ; return m _ aspect containers ; }", "new_code_tokens": ["public", "aspect", "container", "[", "]", "get", "aspect", "containers", "(", ")", "{", "initialize", "(", ")", ";", "return", "m", "_", "aspect", "containers", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> object <REPLACE_NEW> aspect container <REPLACE_END> <KEEP> [ ] get aspect containers ( ) { initialize ( ) ; return m _ aspect containers ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "aspect", "container", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "aspect", "containers", "(", ")", "{", "initialize", "(", ")", ";", "return", "m", "_", "aspect", "containers", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> aspects <REPLACE_NEW> aspect containers <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "aspects", "<REPLACE_NEW>", "aspect", "containers", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "aspect", "<REPLACE_NEW>", "container", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "aspect", "<KEEP>", "containers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "initialize", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "aspect", "<KEEP>", "containers", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9125835815980606, "using": 2, "keep": 1}
{"id": "megacoder_rex-30-3927", "old_comment": "the argument .", "old_comment_tokens": ["the", "argument", "."], "new_comment": "the argument or null if there is no argument at the specified index .", "new_comment_tokens": ["the", "argument", "or", "null", "if", "there", "is", "no", "argument", "at", "the", "specified", "index", "."], "old_code": "string get argument ( int index ) { return this . arguments . get ( index ) ; }", "old_code_tokens": ["string", "get", "argument", "(", "int", "index", ")", "{", "return", "this", ".", "arguments", ".", "get", "(", "index", ")", ";", "}"], "new_code": "string get argument ( int index ) { if ( index < this . arguments . size ( ) ) { return this . arguments . get ( index ) ; } else { return null ; } }", "new_code_tokens": ["string", "get", "argument", "(", "int", "index", ")", "{", "if", "(", "index", "<", "this", ".", "arguments", ".", "size", "(", ")", ")", "{", "return", "this", ".", "arguments", ".", "get", "(", "index", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> string get argument ( int index <KEEP_END> <INSERT> ) { if ( index < this . arguments . size ( ) <INSERT_END> <KEEP> ) { return this . arguments . get ( index ) ; } <KEEP_END> <INSERT> else { return null ; } } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "string", "get", "argument", "(", "int", "index", "<KEEP_END>", "<INSERT>", ")", "{", "if", "(", "index", "<", "this", ".", "arguments", ".", "size", "(", ")", "<INSERT_END>", "<KEEP>", ")", "{", "return", "this", ".", "arguments", ".", "get", "(", "index", ")", ";", "}", "<KEEP_END>", "<INSERT>", "else", "{", "return", "null", ";", "}", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> argument <INSERT_NEW_KEEP_BEFORE> argument or null if there is no argument at the specified index <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "argument", "<INSERT_NEW_KEEP_BEFORE>", "argument", "or", "null", "if", "there", "is", "no", "argument", "at", "the", "specified", "index", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "argument", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "index", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "index", "<INSERT>", "<", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "arguments", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "arguments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.8562635091898573, "using": 2, "keep": 1}
{"id": "idega_com.idega.core-52-4226", "old_comment": "the id of the current user . if there is one associated with the current context . if there is none the method returns - 1 .", "old_comment_tokens": ["the", "id", "of", "the", "current", "user", ".", "if", "there", "is", "one", "associated", "with", "the", "current", "context", ".", "if", "there", "is", "none", "the", "method", "returns", "-", "1", "."], "new_comment": "the id of the current user . if there is one associated with the current context .", "new_comment_tokens": ["the", "id", "of", "the", "current", "user", ".", "if", "there", "is", "one", "associated", "with", "the", "current", "context", "."], "old_code": "public int get current user id ( ) { com . idega . user . data . user user = get current user ( ) ; if ( user ! = null ) { return ( ( integer ) user . get primary key ( ) ) . int value ( ) ; } return - num ; }", "old_code_tokens": ["public", "int", "get", "current", "user", "id", "(", ")", "{", "com", ".", "idega", ".", "user", ".", "data", ".", "user", "user", "=", "get", "current", "user", "(", ")", ";", "if", "(", "user", "!", "=", "null", ")", "{", "return", "(", "(", "integer", ")", "user", ".", "get", "primary", "key", "(", ")", ")", ".", "int", "value", "(", ")", ";", "}", "return", "-", "num", ";", "}"], "new_code": "public int get current user id ( ) { com . idega . user . data . user user = get current user ( ) ; return ( ( integer ) user . get primary key ( ) ) . int value ( ) ; }", "new_code_tokens": ["public", "int", "get", "current", "user", "id", "(", ")", "{", "com", ".", "idega", ".", "user", ".", "data", ".", "user", "user", "=", "get", "current", "user", "(", ")", ";", "return", "(", "(", "integer", ")", "user", ".", "get", "primary", "key", "(", ")", ")", ".", "int", "value", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public int get current user id ( ) { com . idega . user . data . user user = get current user ( ) ; <KEEP_END> <DELETE> if ( user ! = null ) { <DELETE_END> <KEEP> return ( ( integer ) user . get primary key ( ) ) . int value ( ) ; } <KEEP_END> <DELETE> return - num ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "current", "user", "id", "(", ")", "{", "com", ".", "idega", ".", "user", ".", "data", ".", "user", "user", "=", "get", "current", "user", "(", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "user", "!", "=", "null", ")", "{", "<DELETE_END>", "<KEEP>", "return", "(", "(", "integer", ")", "user", ".", "get", "primary", "key", "(", ")", ")", ".", "int", "value", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "-", "num", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> if there is none the method returns - 1 . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "if", "there", "is", "none", "the", "method", "returns", "-", "1", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "com", "<KEEP>", ".", "<KEEP>", "idega", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "user", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "user", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ")", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "primary", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.8091685349704886, "using": 1, "keep": 1}
{"id": "sonatype_sonatype-aether-12-7048", "old_comment": "this proxy for chaining , never null .", "old_comment_tokens": ["this", "proxy", "for", "chaining", ",", "never", "null", "."], "new_comment": "the new proxy , never null .", "new_comment_tokens": ["the", "new", "proxy", ",", "never", "null", "."], "old_code": "public proxy set port ( int port ) { this . port = port ; return this ; }", "old_code_tokens": ["public", "proxy", "set", "port", "(", "int", "port", ")", "{", "this", ".", "port", "=", "port", ";", "return", "this", ";", "}"], "new_code": "public proxy set port ( int port ) { return new proxy ( type , host , port , auth ) ; }", "new_code_tokens": ["public", "proxy", "set", "port", "(", "int", "port", ")", "{", "return", "new", "proxy", "(", "type", ",", "host", ",", "port", ",", "auth", ")", ";", "}"], "span_diff_code": "<KEEP> public proxy set port ( int port ) { <KEEP_END> <REPLACE_OLD> this . <REPLACE_NEW> return new proxy ( type , host , <REPLACE_END> <KEEP> port <KEEP_END> <REPLACE_OLD> = port ; return this <REPLACE_NEW> , auth ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "proxy", "set", "port", "(", "int", "port", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "this", ".", "<REPLACE_NEW>", "return", "new", "proxy", "(", "type", ",", "host", ",", "<REPLACE_END>", "<KEEP>", "port", "<KEEP_END>", "<REPLACE_OLD>", "=", "port", ";", "return", "this", "<REPLACE_NEW>", ",", "auth", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this <REPLACE_NEW> the new <REPLACE_END> <DELETE> for chaining <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "<REPLACE_NEW>", "the", "new", "<REPLACE_END>", "<DELETE>", "for", "chaining", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "proxy", "<KEEP>", "set", "<KEEP>", "port", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "port", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "proxy", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "host", "<REPLACE_NEW>", ",", "<KEEP>", "port", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "port", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "this", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "auth", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7895941357063652, "using": 1, "keep": 1}
{"id": "eclipse_eef-869-5298", "old_comment": "the properties edition component", "old_comment_tokens": ["the", "properties", "edition", "component"], "new_comment": "the parent properties edition component", "new_comment_tokens": ["the", "parent", "properties", "edition", "component"], "old_code": "public iproperties edition component get properties edition component ( ) { return properties edition component ; }", "old_code_tokens": ["public", "iproperties", "edition", "component", "get", "properties", "edition", "component", "(", ")", "{", "return", "properties", "edition", "component", ";", "}"], "new_code": "public iproperties edition component get properties edition component ( ) { return parent properties edition component ; }", "new_code_tokens": ["public", "iproperties", "edition", "component", "get", "properties", "edition", "component", "(", ")", "{", "return", "parent", "properties", "edition", "component", ";", "}"], "span_diff_code": "<KEEP> public iproperties edition component get properties edition component ( ) { return <KEEP_END> <INSERT> parent <INSERT_END> <KEEP> properties edition component ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iproperties", "edition", "component", "get", "properties", "edition", "component", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "parent", "<INSERT_END>", "<KEEP>", "properties", "edition", "component", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the parent <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "parent", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iproperties", "<KEEP>", "edition", "<KEEP>", "component", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "edition", "<KEEP>", "component", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "parent", "<KEEP>", "properties", "<KEEP>", "edition", "<KEEP>", "component", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9808927169999508, "using": 2, "keep": 1}
{"id": "cloudera_hcatalog-8-4584", "old_comment": "the base split", "old_comment_tokens": ["the", "base", "split"], "new_comment": "the base map red split", "new_comment_tokens": ["the", "base", "map", "red", "split"], "old_code": "public input split get base split ( ) { return base split ; }", "old_code_tokens": ["public", "input", "split", "get", "base", "split", "(", ")", "{", "return", "base", "split", ";", "}"], "new_code": "public org . apache . hadoop . mapred . input split get base split ( ) { return base map red split ; }", "new_code_tokens": ["public", "org", ".", "apache", ".", "hadoop", ".", "mapred", ".", "input", "split", "get", "base", "split", "(", ")", "{", "return", "base", "map", "red", "split", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> org . apache . hadoop . mapred . <INSERT_END> <KEEP> input split get base split ( ) { return base <KEEP_END> <INSERT> map red <INSERT_END> <KEEP> split ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "org", ".", "apache", ".", "hadoop", ".", "mapred", ".", "<INSERT_END>", "<KEEP>", "input", "split", "get", "base", "split", "(", ")", "{", "return", "base", "<KEEP_END>", "<INSERT>", "map", "red", "<INSERT_END>", "<KEEP>", "split", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> base <INSERT_NEW_KEEP_BEFORE> base map red <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "base", "<INSERT_NEW_KEEP_BEFORE>", "base", "map", "red", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "org", "<INSERT>", ".", "<INSERT>", "apache", "<INSERT>", ".", "<INSERT>", "hadoop", "<INSERT>", ".", "<INSERT>", "mapred", "<INSERT>", ".", "<KEEP>", "input", "<KEEP>", "split", "<KEEP>", "get", "<KEEP>", "base", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "base", "<INSERT>", "map", "<INSERT>", "red", "<KEEP>", "split", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9490068278178171, "using": 2, "keep": 1}
{"id": "nickman_UnsafeAdapter-19-6442", "old_comment": "an array of booleans indicating the current configuration", "old_comment_tokens": ["an", "array", "of", "booleans", "indicating", "the", "current", "configuration"], "new_comment": "an array of ints indicating the current configuration", "new_comment_tokens": ["an", "array", "of", "ints", "indicating", "the", "current", "configuration"], "old_code": "public static boolean [ ] get current configuration ( ) { final boolean [ ] current = new boolean [ num ] ; current [ num ] = ! unsafe adapter . get memory mbean ( ) . is safe memory ( ) ; current [ num ] = unsafe adapter . get memory mbean ( ) . is tracking enabled ( ) ; current [ num ] = unsafe adapter . get memory mbean ( ) . is alignment enabled ( ) ; current [ num ] = unsafe adapter . get memory mbean ( ) . is safe memory off heap ( ) ; return current ; }", "old_code_tokens": ["public", "static", "boolean", "[", "]", "get", "current", "configuration", "(", ")", "{", "final", "boolean", "[", "]", "current", "=", "new", "boolean", "[", "num", "]", ";", "current", "[", "num", "]", "=", "!", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "safe", "memory", "(", ")", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "tracking", "enabled", "(", ")", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "alignment", "enabled", "(", ")", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "safe", "memory", "off", "heap", "(", ")", ";", "return", "current", ";", "}"], "new_code": "public static int [ ] get current configuration ( ) { final int [ ] current = new int [ prop _ size ] ; current [ num ] = ! unsafe adapter . get memory mbean ( ) . is safe memory ( ) ? num : num ; current [ num ] = unsafe adapter . get memory mbean ( ) . is tracking enabled ( ) ? num : num ; current [ num ] = unsafe adapter . get memory mbean ( ) . is alignment enabled ( ) ? num : num ; current [ num ] = unsafe adapter . get memory mbean ( ) . is safe memory off heap ( ) ? num : num ; current [ num ] = allocation pointer operations . alloc _ size ; return current ; }", "new_code_tokens": ["public", "static", "int", "[", "]", "get", "current", "configuration", "(", ")", "{", "final", "int", "[", "]", "current", "=", "new", "int", "[", "prop", "_", "size", "]", ";", "current", "[", "num", "]", "=", "!", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "safe", "memory", "(", ")", "?", "num", ":", "num", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "tracking", "enabled", "(", ")", "?", "num", ":", "num", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "alignment", "enabled", "(", ")", "?", "num", ":", "num", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "safe", "memory", "off", "heap", "(", ")", "?", "num", ":", "num", ";", "current", "[", "num", "]", "=", "allocation", "pointer", "operations", ".", "alloc", "_", "size", ";", "return", "current", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> [ ] get current configuration ( ) { final <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> [ ] current = new <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> [ <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> prop _ size <REPLACE_END> <KEEP> ] ; current [ num ] = ! unsafe adapter . get memory mbean ( ) . is safe memory ( ) <KEEP_END> <INSERT> ? num : num <INSERT_END> <KEEP> ; current [ num ] = unsafe adapter . get memory mbean ( ) . is tracking enabled ( ) <KEEP_END> <INSERT> ? num : num <INSERT_END> <KEEP> ; current [ num ] = unsafe adapter . get memory mbean ( ) . is alignment enabled ( ) <KEEP_END> <INSERT> ? num : num <INSERT_END> <KEEP> ; current [ num ] = unsafe adapter . get memory mbean ( ) . is safe memory off heap ( ) <KEEP_END> <INSERT> ? num : num ; current [ num ] = allocation pointer operations . alloc _ size <INSERT_END> <KEEP> ; return current ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "current", "configuration", "(", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "]", "current", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "prop", "_", "size", "<REPLACE_END>", "<KEEP>", "]", ";", "current", "[", "num", "]", "=", "!", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "safe", "memory", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", "<INSERT_END>", "<KEEP>", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "tracking", "enabled", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", "<INSERT_END>", "<KEEP>", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "alignment", "enabled", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", "<INSERT_END>", "<KEEP>", ";", "current", "[", "num", "]", "=", "unsafe", "adapter", ".", "get", "memory", "mbean", "(", ")", ".", "is", "safe", "memory", "off", "heap", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", ";", "current", "[", "num", "]", "=", "allocation", "pointer", "operations", ".", "alloc", "_", "size", "<INSERT_END>", "<KEEP>", ";", "return", "current", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> booleans <REPLACE_NEW> ints <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "booleans", "<REPLACE_NEW>", "ints", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "current", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "prop", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "size", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "current", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "!", "<KEEP>", "unsafe", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "memory", "<KEEP>", "mbean", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "safe", "<KEEP>", "memory", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<KEEP>", ";", "<KEEP>", "current", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "unsafe", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "memory", "<KEEP>", "mbean", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "tracking", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<KEEP>", ";", "<KEEP>", "current", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "unsafe", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "memory", "<KEEP>", "mbean", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "alignment", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<KEEP>", ";", "<KEEP>", "current", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "unsafe", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "memory", "<KEEP>", "mbean", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "safe", "<KEEP>", "memory", "<KEEP>", "off", "<KEEP>", "heap", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "current", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "allocation", "<INSERT>", "pointer", "<INSERT>", "operations", "<INSERT>", ".", "<INSERT>", "alloc", "<INSERT>", "_", "<INSERT>", "size", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "current", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7933351068964934, "using": 2, "keep": 1}
{"id": "codehaus_coconut-23-4053", "old_comment": "a new equal filter", "old_comment_tokens": ["a", "new", "equal", "filter"], "new_comment": "a new equal predicate", "new_comment_tokens": ["a", "new", "equal", "predicate"], "old_code": "public static < e > filters . equals filter < e > equal ( e object ) { return new filters . equals filter < e > ( object ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "filters", ".", "equals", "filter", "<", "e", ">", "equal", "(", "e", "object", ")", "{", "return", "new", "filters", ".", "equals", "filter", "<", "e", ">", "(", "object", ")", ";", "}"], "new_code": "public static < e > predicates . equals predicate < e > equal ( e object ) { return new predicates . equals predicate < e > ( object ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "predicates", ".", "equals", "predicate", "<", "e", ">", "equal", "(", "e", "object", ")", "{", "return", "new", "predicates", ".", "equals", "predicate", "<", "e", ">", "(", "object", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> . equals <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > equal ( e object ) { return new <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> . equals <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > ( object ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ".", "equals", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "equal", "(", "e", "object", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ".", "equals", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "(", "object", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ".", "<KEEP>", "equals", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "equal", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ".", "<KEEP>", "equals", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9777676876656505, "using": 2, "keep": 1}
{"id": "Letractively_gtxcontentconnector-80-6388", "old_comment": "hashtable of configurations with keys or null if there are no containing sub configs", "old_comment_tokens": ["hashtable", "of", "configurations", "with", "keys", "or", "null", "if", "there", "are", "no", "containing", "sub", "configs"], "new_comment": "map of configurations with keys or null if there are no containing sub configs", "new_comment_tokens": ["map", "of", "configurations", "with", "keys", "or", "null", "if", "there", "are", "no", "containing", "sub", "configs"], "old_code": "public final hashtable < string , generic configuration > get sub configs ( ) { return subconfigs ; }", "old_code_tokens": ["public", "final", "hashtable", "<", "string", ",", "generic", "configuration", ">", "get", "sub", "configs", "(", ")", "{", "return", "subconfigs", ";", "}"], "new_code": "public final concurrent hash map < string , generic configuration > get sub configs ( ) { return subconfigs ; }", "new_code_tokens": ["public", "final", "concurrent", "hash", "map", "<", "string", ",", "generic", "configuration", ">", "get", "sub", "configs", "(", ")", "{", "return", "subconfigs", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> concurrent hash map <REPLACE_END> <KEEP> < string , generic configuration > get sub configs ( ) { return subconfigs ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "concurrent", "hash", "map", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "generic", "configuration", ">", "get", "sub", "configs", "(", ")", "{", "return", "subconfigs", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "concurrent", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "generic", "<KEEP>", "configuration", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "sub", "<KEEP>", "configs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "subconfigs", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9852608197064587, "using": 2, "keep": 1}
{"id": "linkedin_rest.li-28-3050", "old_comment": "a data map that will not have the \" fields \" query param , to ensure it does not get encoded twice", "old_comment_tokens": ["a", "data", "map", "that", "will", "not", "have", "the", "\"", "fields", "\"", "query", "param", ",", "to", "ensure", "it", "does", "not", "get", "encoded", "twice"], "new_comment": "a data map that will not have any of the projection fields query parameters set , to ensure they do not get encoded twice", "new_comment_tokens": ["a", "data", "map", "that", "will", "not", "have", "any", "of", "the", "projection", "fields", "query", "parameters", "set", ",", "to", "ensure", "they", "do", "not", "get", "encoded", "twice"], "old_code": "public static data map process projections ( data map data map , map < string , list < string > > result ) { if ( data map . contains key ( rest constants . fields _ param ) ) { data map projections map = data map . get data map ( rest constants . fields _ param ) ; string encoded fields = urimask util . encode mask for uri ( projections map ) ; result . put ( rest constants . fields _ param , collections . singleton list ( encoded fields ) ) ; data map data map clone ; try { data map clone = data map . clone ( ) ; data map clone . remove ( rest constants . fields _ param ) ; } catch ( clone not supported exception e ) { throw new assertion error ( e ) ; } return data map clone ; } else { return data map ; } }", "old_code_tokens": ["public", "static", "data", "map", "process", "projections", "(", "data", "map", "data", "map", ",", "map", "<", "string", ",", "list", "<", "string", ">", ">", "result", ")", "{", "if", "(", "data", "map", ".", "contains", "key", "(", "rest", "constants", ".", "fields", "_", "param", ")", ")", "{", "data", "map", "projections", "map", "=", "data", "map", ".", "get", "data", "map", "(", "rest", "constants", ".", "fields", "_", "param", ")", ";", "string", "encoded", "fields", "=", "urimask", "util", ".", "encode", "mask", "for", "uri", "(", "projections", "map", ")", ";", "result", ".", "put", "(", "rest", "constants", ".", "fields", "_", "param", ",", "collections", ".", "singleton", "list", "(", "encoded", "fields", ")", ")", ";", "data", "map", "data", "map", "clone", ";", "try", "{", "data", "map", "clone", "=", "data", "map", ".", "clone", "(", ")", ";", "data", "map", "clone", ".", "remove", "(", "rest", "constants", ".", "fields", "_", "param", ")", ";", "}", "catch", "(", "clone", "not", "supported", "exception", "e", ")", "{", "throw", "new", "assertion", "error", "(", "e", ")", ";", "}", "return", "data", "map", "clone", ";", "}", "else", "{", "return", "data", "map", ";", "}", "}"], "new_code": "public static data map process projections ( data map data map , map < string , list < string > > result ) { for ( final string parameter name : rest constants . projection _ parameters ) { if ( data map . contains key ( parameter name ) ) { data map = process individual projection ( data map , result , parameter name ) ; } } return data map ; }", "new_code_tokens": ["public", "static", "data", "map", "process", "projections", "(", "data", "map", "data", "map", ",", "map", "<", "string", ",", "list", "<", "string", ">", ">", "result", ")", "{", "for", "(", "final", "string", "parameter", "name", ":", "rest", "constants", ".", "projection", "_", "parameters", ")", "{", "if", "(", "data", "map", ".", "contains", "key", "(", "parameter", "name", ")", ")", "{", "data", "map", "=", "process", "individual", "projection", "(", "data", "map", ",", "result", ",", "parameter", "name", ")", ";", "}", "}", "return", "data", "map", ";", "}"], "span_diff_code": "<KEEP> public static data map process projections ( data map data map , map < string , list < string > > result ) { <KEEP_END> <INSERT> for ( final string parameter name : rest constants . projection _ parameters ) { <INSERT_END> <KEEP> if ( data map . contains key ( <KEEP_END> <REPLACE_OLD> rest constants . fields _ param <REPLACE_NEW> parameter name <REPLACE_END> <KEEP> ) ) { data map <KEEP_END> <DELETE> projections map <DELETE_END> <KEEP> = <KEEP_END> <INSERT> process individual projection ( <INSERT_END> <KEEP> data map <KEEP_END> <REPLACE_OLD> . get data map ( rest constants . fields _ param ) ; string encoded fields = urimask util . encode mask for uri ( projections map ) ; <REPLACE_NEW> , <REPLACE_END> <KEEP> result <KEEP_END> <DELETE> . put ( rest constants . fields _ param <DELETE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> collections . singleton list ( encoded fields ) ) ; data map data map clone ; try { data map clone = data map . clone ( ) ; data map clone . remove ( rest constants . fields _ param <REPLACE_NEW> parameter name <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> catch ( clone not supported exception e ) { throw new assertion error ( e ) ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> return data map clone ; } else { <DELETE_END> <KEEP> return data map ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "data", "map", "process", "projections", "(", "data", "map", "data", "map", ",", "map", "<", "string", ",", "list", "<", "string", ">", ">", "result", ")", "{", "<KEEP_END>", "<INSERT>", "for", "(", "final", "string", "parameter", "name", ":", "rest", "constants", ".", "projection", "_", "parameters", ")", "{", "<INSERT_END>", "<KEEP>", "if", "(", "data", "map", ".", "contains", "key", "(", "<KEEP_END>", "<REPLACE_OLD>", "rest", "constants", ".", "fields", "_", "param", "<REPLACE_NEW>", "parameter", "name", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "data", "map", "<KEEP_END>", "<DELETE>", "projections", "map", "<DELETE_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "process", "individual", "projection", "(", "<INSERT_END>", "<KEEP>", "data", "map", "<KEEP_END>", "<REPLACE_OLD>", ".", "get", "data", "map", "(", "rest", "constants", ".", "fields", "_", "param", ")", ";", "string", "encoded", "fields", "=", "urimask", "util", ".", "encode", "mask", "for", "uri", "(", "projections", "map", ")", ";", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<KEEP>", "result", "<KEEP_END>", "<DELETE>", ".", "put", "(", "rest", "constants", ".", "fields", "_", "param", "<DELETE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "collections", ".", "singleton", "list", "(", "encoded", "fields", ")", ")", ";", "data", "map", "data", "map", "clone", ";", "try", "{", "data", "map", "clone", "=", "data", "map", ".", "clone", "(", ")", ";", "data", "map", "clone", ".", "remove", "(", "rest", "constants", ".", "fields", "_", "param", "<REPLACE_NEW>", "parameter", "name", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "clone", "not", "supported", "exception", "e", ")", "{", "throw", "new", "assertion", "error", "(", "e", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "return", "data", "map", "clone", ";", "}", "else", "{", "<DELETE_END>", "<KEEP>", "return", "data", "map", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> have <INSERT_NEW_KEEP_BEFORE> have any of <INSERT_END> <REPLACE_OLD_KEEP_BEFORE> the \" <REPLACE_NEW_KEEP_BEFORE> the projection <REPLACE_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> fields \" <REPLACE_NEW_DELETE_KEEP_BEFORE> fields <REPLACE_END> <REPLACE_OLD> param <REPLACE_NEW> parameters set <REPLACE_END> <REPLACE_OLD> it does <REPLACE_NEW> they do <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "have", "<INSERT_NEW_KEEP_BEFORE>", "have", "any", "of", "<INSERT_END>", "<REPLACE_OLD_KEEP_BEFORE>", "the", "\"", "<REPLACE_NEW_KEEP_BEFORE>", "the", "projection", "<REPLACE_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", "fields", "\"", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "fields", "<REPLACE_END>", "<REPLACE_OLD>", "param", "<REPLACE_NEW>", "parameters", "set", "<REPLACE_END>", "<REPLACE_OLD>", "it", "does", "<REPLACE_NEW>", "they", "do", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", "process", "<KEEP>", "projections", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "final", "<INSERT>", "string", "<INSERT>", "parameter", "<INSERT>", "name", "<INSERT>", ":", "<INSERT>", "rest", "<INSERT>", "constants", "<INSERT>", ".", "<INSERT>", "projection", "<INSERT>", "_", "<INSERT>", "parameters", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "key", "<KEEP>", "(", "<REPLACE_OLD>", "rest", "<REPLACE_OLD>", "constants", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "fields", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "param", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "data", "<KEEP>", "map", "<DELETE>", "projections", "<DELETE>", "map", "<KEEP>", "=", "<INSERT>", "process", "<INSERT>", "individual", "<INSERT>", "projection", "<INSERT>", "(", "<KEEP>", "data", "<KEEP>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "rest", "<REPLACE_OLD>", "constants", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "fields", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "param", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "encoded", "<REPLACE_OLD>", "fields", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "urimask", "<REPLACE_OLD>", "util", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "encode", "<REPLACE_OLD>", "mask", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "uri", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "projections", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ",", "<KEEP>", "result", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "rest", "<DELETE>", "constants", "<DELETE>", ".", "<DELETE>", "fields", "<DELETE>", "_", "<DELETE>", "param", "<KEEP>", ",", "<REPLACE_OLD>", "collections", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "singleton", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "encoded", "<REPLACE_OLD>", "fields", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "clone", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "clone", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "clone", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "clone", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "remove", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "rest", "<REPLACE_OLD>", "constants", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "fields", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "param", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "clone", "<DELETE>", "not", "<DELETE>", "supported", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "assertion", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "data", "<DELETE>", "map", "<DELETE>", "clone", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "return", "<KEEP>", "data", "<KEEP>", "map", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "valid", "score": 0.7842308783598887, "using": 0, "keep": 1}
{"id": "eclipse_ocl-36-3716", "old_comment": "true if it is the ocl invalid ; false , otherwise", "old_comment_tokens": ["true", "if", "it", "is", "the", "ocl", "invalid", ";", "false", ",", "otherwise"], "new_comment": "true if it is the invalid ; false , otherwise", "new_comment_tokens": ["true", "if", "it", "is", "the", "invalid", ";", "false", ",", "otherwise"], "old_code": "public boolean is invalid ( object value ) { return get environment ( ) . get oclstandard library ( ) . get ocl invalid ( ) = = value ; }", "old_code_tokens": ["public", "boolean", "is", "invalid", "(", "object", "value", ")", "{", "return", "get", "environment", "(", ")", ".", "get", "oclstandard", "library", "(", ")", ".", "get", "ocl", "invalid", "(", ")", "=", "=", "value", ";", "}"], "new_code": "public boolean is invalid ( object value ) { return get environment ( ) . get oclstandard library ( ) . get invalid ( ) = = value ; }", "new_code_tokens": ["public", "boolean", "is", "invalid", "(", "object", "value", ")", "{", "return", "get", "environment", "(", ")", ".", "get", "oclstandard", "library", "(", ")", ".", "get", "invalid", "(", ")", "=", "=", "value", ";", "}"], "span_diff_code": "<KEEP> public boolean is invalid ( object value ) { return get environment ( ) . get oclstandard library ( ) . get <KEEP_END> <DELETE> ocl <DELETE_END> <KEEP> invalid ( ) = = value ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "invalid", "(", "object", "value", ")", "{", "return", "get", "environment", "(", ")", ".", "get", "oclstandard", "library", "(", ")", ".", "get", "<KEEP_END>", "<DELETE>", "ocl", "<DELETE_END>", "<KEEP>", "invalid", "(", ")", "=", "=", "value", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ocl <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "ocl", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "invalid", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "environment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "oclstandard", "<KEEP>", "library", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<DELETE>", "ocl", "<KEEP>", "invalid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9803993117538711, "using": 2, "keep": 1}
{"id": "eclipse_elk-51-6007", "old_comment": "an iterator visiting the given kedge and all connected edges in a ( n almost ) breadth first search fashion", "old_comment_tokens": ["an", "iterator", "visiting", "the", "given", "kedge", "and", "all", "connected", "edges", "in", "a", "(", "n", "almost", ")", "breadth", "first", "search", "fashion"], "new_comment": "an iterator visiting the given edge and all connected edges in a ( n almost ) breadth first search fashion", "new_comment_tokens": ["an", "iterator", "visiting", "the", "given", "edge", "and", "all", "connected", "edges", "in", "a", "(", "n", "almost", ")", "breadth", "first", "search", "fashion"], "old_code": "public static iterator < kgraph element > get connected elements ( final kedge kedge , final boolean add ports ) { final selection iterator source side it = new default selection iterator ( kedge , add ports , false ) ; final selection iterator target side it = new default selection iterator ( kedge , add ports , true ) ; return get connected elements ( kedge , source side it , target side it ) ; }", "old_code_tokens": ["public", "static", "iterator", "<", "kgraph", "element", ">", "get", "connected", "elements", "(", "final", "kedge", "kedge", ",", "final", "boolean", "add", "ports", ")", "{", "final", "selection", "iterator", "source", "side", "it", "=", "new", "default", "selection", "iterator", "(", "kedge", ",", "add", "ports", ",", "false", ")", ";", "final", "selection", "iterator", "target", "side", "it", "=", "new", "default", "selection", "iterator", "(", "kedge", ",", "add", "ports", ",", "true", ")", ";", "return", "get", "connected", "elements", "(", "kedge", ",", "source", "side", "it", ",", "target", "side", "it", ")", ";", "}"], "new_code": "public static iterator < elk graph element > get connected elements ( final elk edge edge , final boolean add ports ) { final selection iterator source side it = new default selection iterator ( edge , add ports , false ) ; final selection iterator target side it = new default selection iterator ( edge , add ports , true ) ; return get connected elements ( edge , source side it , target side it ) ; }", "new_code_tokens": ["public", "static", "iterator", "<", "elk", "graph", "element", ">", "get", "connected", "elements", "(", "final", "elk", "edge", "edge", ",", "final", "boolean", "add", "ports", ")", "{", "final", "selection", "iterator", "source", "side", "it", "=", "new", "default", "selection", "iterator", "(", "edge", ",", "add", "ports", ",", "false", ")", ";", "final", "selection", "iterator", "target", "side", "it", "=", "new", "default", "selection", "iterator", "(", "edge", ",", "add", "ports", ",", "true", ")", ";", "return", "get", "connected", "elements", "(", "edge", ",", "source", "side", "it", ",", "target", "side", "it", ")", ";", "}"], "span_diff_code": "<KEEP> public static iterator < <KEEP_END> <REPLACE_OLD> kgraph <REPLACE_NEW> elk graph <REPLACE_END> <KEEP> element > get connected elements ( final <KEEP_END> <REPLACE_OLD> kedge kedge <REPLACE_NEW> elk edge edge <REPLACE_END> <KEEP> , final boolean add ports ) { final selection iterator source side it = new default selection iterator ( <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> edge <REPLACE_END> <KEEP> , add ports , false ) ; final selection iterator target side it = new default selection iterator ( <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> edge <REPLACE_END> <KEEP> , add ports , true ) ; return get connected elements ( <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> edge <REPLACE_END> <KEEP> , source side it , target side it ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "iterator", "<", "<KEEP_END>", "<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "graph", "<REPLACE_END>", "<KEEP>", "element", ">", "get", "connected", "elements", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "kedge", "<REPLACE_NEW>", "elk", "edge", "edge", "<REPLACE_END>", "<KEEP>", ",", "final", "boolean", "add", "ports", ")", "{", "final", "selection", "iterator", "source", "side", "it", "=", "new", "default", "selection", "iterator", "(", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<REPLACE_END>", "<KEEP>", ",", "add", "ports", ",", "false", ")", ";", "final", "selection", "iterator", "target", "side", "it", "=", "new", "default", "selection", "iterator", "(", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<REPLACE_END>", "<KEEP>", ",", "add", "ports", ",", "true", ")", ";", "return", "get", "connected", "elements", "(", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<REPLACE_END>", "<KEEP>", ",", "source", "side", "it", ",", "target", "side", "it", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> kedge <REPLACE_NEW> edge <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "iterator", "<KEEP>", "<", "<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "graph", "<KEEP>", "element", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "elements", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "kedge", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<REPLACE_NEW>", "edge", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "boolean", "<KEEP>", "add", "<KEEP>", "ports", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "selection", "<KEEP>", "iterator", "<KEEP>", "source", "<KEEP>", "side", "<KEEP>", "it", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "selection", "<KEEP>", "iterator", "<KEEP>", "(", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<KEEP>", ",", "<KEEP>", "add", "<KEEP>", "ports", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "selection", "<KEEP>", "iterator", "<KEEP>", "target", "<KEEP>", "side", "<KEEP>", "it", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "selection", "<KEEP>", "iterator", "<KEEP>", "(", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<KEEP>", ",", "<KEEP>", "add", "<KEEP>", "ports", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "elements", "<KEEP>", "(", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<KEEP>", ",", "<KEEP>", "source", "<KEEP>", "side", "<KEEP>", "it", "<KEEP>", ",", "<KEEP>", "target", "<KEEP>", "side", "<KEEP>", "it", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9772797556415307, "using": 2, "keep": 1}
{"id": "sonatype_sonatype-aether-10-7046", "old_comment": "this proxy for chaining , never null .", "old_comment_tokens": ["this", "proxy", "for", "chaining", ",", "never", "null", "."], "new_comment": "the new proxy , never null .", "new_comment_tokens": ["the", "new", "proxy", ",", "never", "null", "."], "old_code": "public proxy set type ( string type ) { this . type = ( type ! = null ) ? type : str ; return this ; }", "old_code_tokens": ["public", "proxy", "set", "type", "(", "string", "type", ")", "{", "this", ".", "type", "=", "(", "type", "!", "=", "null", ")", "?", "type", ":", "str", ";", "return", "this", ";", "}"], "new_code": "public proxy set type ( string type ) { return new proxy ( type , host , port , auth ) ; }", "new_code_tokens": ["public", "proxy", "set", "type", "(", "string", "type", ")", "{", "return", "new", "proxy", "(", "type", ",", "host", ",", "port", ",", "auth", ")", ";", "}"], "span_diff_code": "<KEEP> public proxy set type ( string type ) { <KEEP_END> <REPLACE_OLD> this . type = <REPLACE_NEW> return new proxy <REPLACE_END> <KEEP> ( type <KEEP_END> <REPLACE_OLD> ! = null <REPLACE_NEW> , host , port , auth <REPLACE_END> <KEEP> ) <KEEP_END> <DELETE> ? type : str ; return this <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "proxy", "set", "type", "(", "string", "type", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "this", ".", "type", "=", "<REPLACE_NEW>", "return", "new", "proxy", "<REPLACE_END>", "<KEEP>", "(", "type", "<KEEP_END>", "<REPLACE_OLD>", "!", "=", "null", "<REPLACE_NEW>", ",", "host", ",", "port", ",", "auth", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "?", "type", ":", "str", ";", "return", "this", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this <REPLACE_NEW> the new <REPLACE_END> <DELETE> for chaining <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "<REPLACE_NEW>", "the", "new", "<REPLACE_END>", "<DELETE>", "for", "chaining", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "proxy", "<KEEP>", "set", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "proxy", "<KEEP>", "(", "<KEEP>", "type", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "host", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "port", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "auth", "<KEEP>", ")", "<DELETE>", "?", "<DELETE>", "type", "<DELETE>", ":", "<DELETE>", "str", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7853015318040282, "using": 1, "keep": 1}
{"id": "ffsouza_jfeaturelib-8-6788", "old_comment": "the fcth instance from lire", "old_comment_tokens": ["the", "fcth", "instance", "from", "lire"], "new_comment": "the fcth lire feature object", "new_comment_tokens": ["the", "fcth", "lire", "feature", "object"], "old_code": "public net . semanticmetadata . lire . imageanalysis . fcth get fcth ( ) { return fcth ; }", "old_code_tokens": ["public", "net", ".", "semanticmetadata", ".", "lire", ".", "imageanalysis", ".", "fcth", "get", "fcth", "(", ")", "{", "return", "fcth", ";", "}"], "new_code": "@ deprecated public net . semanticmetadata . lire . imageanalysis . fcth get fcth ( ) { return ( net . semanticmetadata . lire . imageanalysis . fcth ) get lire feature ( ) ; }", "new_code_tokens": ["@", "deprecated", "public", "net", ".", "semanticmetadata", ".", "lire", ".", "imageanalysis", ".", "fcth", "get", "fcth", "(", ")", "{", "return", "(", "net", ".", "semanticmetadata", ".", "lire", ".", "imageanalysis", ".", "fcth", ")", "get", "lire", "feature", "(", ")", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public net . semanticmetadata . lire . imageanalysis . fcth get fcth ( ) { return <KEEP_END> <INSERT> ( net . semanticmetadata . lire . imageanalysis . <INSERT_END> <KEEP> fcth <KEEP_END> <INSERT> ) get lire feature ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "net", ".", "semanticmetadata", ".", "lire", ".", "imageanalysis", ".", "fcth", "get", "fcth", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "(", "net", ".", "semanticmetadata", ".", "lire", ".", "imageanalysis", ".", "<INSERT_END>", "<KEEP>", "fcth", "<KEEP_END>", "<INSERT>", ")", "get", "lire", "feature", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> instance from <DELETE_END> <INSERT_OLD_KEEP_BEFORE> lire <INSERT_NEW_KEEP_BEFORE> lire feature object <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "instance", "from", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "lire", "<INSERT_NEW_KEEP_BEFORE>", "lire", "feature", "object", "<INSERT_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "net", "<KEEP>", ".", "<KEEP>", "semanticmetadata", "<KEEP>", ".", "<KEEP>", "lire", "<KEEP>", ".", "<KEEP>", "imageanalysis", "<KEEP>", ".", "<KEEP>", "fcth", "<KEEP>", "get", "<KEEP>", "fcth", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "(", "<INSERT>", "net", "<INSERT>", ".", "<INSERT>", "semanticmetadata", "<INSERT>", ".", "<INSERT>", "lire", "<INSERT>", ".", "<INSERT>", "imageanalysis", "<INSERT>", ".", "<KEEP>", "fcth", "<INSERT>", ")", "<INSERT>", "get", "<INSERT>", "lire", "<INSERT>", "feature", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8349932698729956, "using": 1, "keep": 1}
{"id": "idega_com.idega.core-110-4233", "old_comment": "an urlencoded ( utf - 8 ) string with request parameters , e . g . \" parameter1 = value1 & parameter2 = value1 & parameter2 = value2 \"", "old_comment_tokens": ["an", "urlencoded", "(", "utf", "-", "8", ")", "string", "with", "request", "parameters", ",", "e", ".", "g", ".", "\"", "parameter1", "=", "value1", "&", "parameter2", "=", "value1", "&", "parameter2", "=", "value2", "\""], "new_comment": "string with request parameters , e . g . \" parameter1 = value1 & parameter2 = value1 & parameter2 = value2 \"", "new_comment_tokens": ["string", "with", "request", "parameters", ",", "e", ".", "g", ".", "\"", "parameter1", "=", "value1", "&", "parameter2", "=", "value1", "&", "parameter2", "=", "value2", "\""], "old_code": "public static string get parameters string from request ( http servlet request request ) { string builder parameters string = new string builder ( ) ; try { map parameters = request . get parameter map ( ) ; if ( parameters ! = null & & ! parameters . is empty ( ) ) { set parameters set = parameters . key set ( ) ; for ( iterator iterator = parameters set . iterator ( ) ; iterator . has next ( ) ; ) { string key = ( string ) iterator . next ( ) ; string encoded key = urlencoder . encode ( key , core constants . encoding _ utf8 ) ; string [ ] values = request . get parameter values ( key ) ; if ( values ! = null & & values . length > num ) { for ( int j = num ; j < values . length ; j + + ) { parameters string . append ( encoded key ) . append ( urlencoder . encode ( values [ j ] , core constants . encoding _ utf8 ) ) . append ( str ) ; } } } } return parameters string . to string ( ) ; } catch ( unsupported encoding exception e ) { e . print stack trace ( ) ; } return parameters string . to string ( ) ; }", "old_code_tokens": ["public", "static", "string", "get", "parameters", "string", "from", "request", "(", "http", "servlet", "request", "request", ")", "{", "string", "builder", "parameters", "string", "=", "new", "string", "builder", "(", ")", ";", "try", "{", "map", "parameters", "=", "request", ".", "get", "parameter", "map", "(", ")", ";", "if", "(", "parameters", "!", "=", "null", "&", "&", "!", "parameters", ".", "is", "empty", "(", ")", ")", "{", "set", "parameters", "set", "=", "parameters", ".", "key", "set", "(", ")", ";", "for", "(", "iterator", "iterator", "=", "parameters", "set", ".", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "string", "key", "=", "(", "string", ")", "iterator", ".", "next", "(", ")", ";", "string", "encoded", "key", "=", "urlencoder", ".", "encode", "(", "key", ",", "core", "constants", ".", "encoding", "_", "utf8", ")", ";", "string", "[", "]", "values", "=", "request", ".", "get", "parameter", "values", "(", "key", ")", ";", "if", "(", "values", "!", "=", "null", "&", "&", "values", ".", "length", ">", "num", ")", "{", "for", "(", "int", "j", "=", "num", ";", "j", "<", "values", ".", "length", ";", "j", "+", "+", ")", "{", "parameters", "string", ".", "append", "(", "encoded", "key", ")", ".", "append", "(", "urlencoder", ".", "encode", "(", "values", "[", "j", "]", ",", "core", "constants", ".", "encoding", "_", "utf8", ")", ")", ".", "append", "(", "str", ")", ";", "}", "}", "}", "}", "return", "parameters", "string", ".", "to", "string", "(", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "parameters", "string", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public static string get parameters string from request ( http servlet request request ) { string builder parameters string = new string builder ( ) ; map parameters = request . get parameter map ( ) ; if ( parameters ! = null & & ! parameters . is empty ( ) ) { set < string > parameters set = parameters . key set ( ) ; for ( iterator iterator = parameters set . iterator ( ) ; iterator . has next ( ) ; ) { string key = ( string ) iterator . next ( ) ; string [ ] values = request . get parameter values ( key ) ; if ( values ! = null & & values . length > num ) { for ( int j = num ; j < values . length ; j + + ) { parameters string . append ( key ) . append ( str ) . append ( values [ j ] ) ; if ( j ! = ( values . length - num ) ) { parameters string . append ( str ) ; } } } } } return parameters string . to string ( ) ; }", "new_code_tokens": ["public", "static", "string", "get", "parameters", "string", "from", "request", "(", "http", "servlet", "request", "request", ")", "{", "string", "builder", "parameters", "string", "=", "new", "string", "builder", "(", ")", ";", "map", "parameters", "=", "request", ".", "get", "parameter", "map", "(", ")", ";", "if", "(", "parameters", "!", "=", "null", "&", "&", "!", "parameters", ".", "is", "empty", "(", ")", ")", "{", "set", "<", "string", ">", "parameters", "set", "=", "parameters", ".", "key", "set", "(", ")", ";", "for", "(", "iterator", "iterator", "=", "parameters", "set", ".", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "string", "key", "=", "(", "string", ")", "iterator", ".", "next", "(", ")", ";", "string", "[", "]", "values", "=", "request", ".", "get", "parameter", "values", "(", "key", ")", ";", "if", "(", "values", "!", "=", "null", "&", "&", "values", ".", "length", ">", "num", ")", "{", "for", "(", "int", "j", "=", "num", ";", "j", "<", "values", ".", "length", ";", "j", "+", "+", ")", "{", "parameters", "string", ".", "append", "(", "key", ")", ".", "append", "(", "str", ")", ".", "append", "(", "values", "[", "j", "]", ")", ";", "if", "(", "j", "!", "=", "(", "values", ".", "length", "-", "num", ")", ")", "{", "parameters", "string", ".", "append", "(", "str", ")", ";", "}", "}", "}", "}", "}", "return", "parameters", "string", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static string get parameters string from request ( http servlet request request ) { string builder parameters string = new string builder ( ) ; <KEEP_END> <DELETE> try { <DELETE_END> <KEEP> map parameters = request . get parameter map ( ) ; if ( parameters ! = null & & ! parameters . is empty ( ) ) { set <KEEP_END> <INSERT> < string > <INSERT_END> <KEEP> parameters set = parameters . key set ( ) ; for ( iterator iterator = parameters set . iterator ( ) ; iterator . has next ( ) ; ) { string key = ( string ) iterator . next ( <KEEP_END> <DELETE> ) ; string encoded key = urlencoder . encode ( key , core constants . encoding _ utf8 <DELETE_END> <KEEP> ) ; string [ ] values = request . get parameter values ( key ) ; if ( values ! = null & & values . length > num ) { for ( int j = num ; j < values . length ; j + + ) { parameters string . append ( <KEEP_END> <REPLACE_OLD> encoded key ) . append ( urlencoder . encode <REPLACE_NEW> key ) . append ( str ) . append <REPLACE_END> <KEEP> ( values [ j ] <KEEP_END> <REPLACE_OLD> , core constants . encoding _ utf8 ) ) <REPLACE_NEW> ) ; if ( j ! = ( values . length - num ) ) { parameters string <REPLACE_END> <KEEP> . append ( str ) ; } } } } <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return parameters string . to string ( ) ; } <KEEP_END> <DELETE> catch ( unsupported encoding exception e ) { e . print stack trace ( ) ; } return parameters string . to string ( ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "parameters", "string", "from", "request", "(", "http", "servlet", "request", "request", ")", "{", "string", "builder", "parameters", "string", "=", "new", "string", "builder", "(", ")", ";", "<KEEP_END>", "<DELETE>", "try", "{", "<DELETE_END>", "<KEEP>", "map", "parameters", "=", "request", ".", "get", "parameter", "map", "(", ")", ";", "if", "(", "parameters", "!", "=", "null", "&", "&", "!", "parameters", ".", "is", "empty", "(", ")", ")", "{", "set", "<KEEP_END>", "<INSERT>", "<", "string", ">", "<INSERT_END>", "<KEEP>", "parameters", "set", "=", "parameters", ".", "key", "set", "(", ")", ";", "for", "(", "iterator", "iterator", "=", "parameters", "set", ".", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "string", "key", "=", "(", "string", ")", "iterator", ".", "next", "(", "<KEEP_END>", "<DELETE>", ")", ";", "string", "encoded", "key", "=", "urlencoder", ".", "encode", "(", "key", ",", "core", "constants", ".", "encoding", "_", "utf8", "<DELETE_END>", "<KEEP>", ")", ";", "string", "[", "]", "values", "=", "request", ".", "get", "parameter", "values", "(", "key", ")", ";", "if", "(", "values", "!", "=", "null", "&", "&", "values", ".", "length", ">", "num", ")", "{", "for", "(", "int", "j", "=", "num", ";", "j", "<", "values", ".", "length", ";", "j", "+", "+", ")", "{", "parameters", "string", ".", "append", "(", "<KEEP_END>", "<REPLACE_OLD>", "encoded", "key", ")", ".", "append", "(", "urlencoder", ".", "encode", "<REPLACE_NEW>", "key", ")", ".", "append", "(", "str", ")", ".", "append", "<REPLACE_END>", "<KEEP>", "(", "values", "[", "j", "]", "<KEEP_END>", "<REPLACE_OLD>", ",", "core", "constants", ".", "encoding", "_", "utf8", ")", ")", "<REPLACE_NEW>", ")", ";", "if", "(", "j", "!", "=", "(", "values", ".", "length", "-", "num", ")", ")", "{", "parameters", "string", "<REPLACE_END>", "<KEEP>", ".", "append", "(", "str", ")", ";", "}", "}", "}", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "parameters", "string", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "parameters", "string", ".", "to", "string", "(", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> an urlencoded ( utf - 8 ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "an", "urlencoded", "(", "utf", "-", "8", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "string", "<KEEP>", "from", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "parameters", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "try", "<DELETE>", "{", "<KEEP>", "map", "<KEEP>", "parameters", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameter", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parameters", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "parameters", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<KEEP>", "parameters", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "parameters", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "parameters", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "encoded", "<DELETE>", "key", "<DELETE>", "=", "<DELETE>", "urlencoder", "<DELETE>", ".", "<DELETE>", "encode", "<DELETE>", "(", "<DELETE>", "key", "<DELETE>", ",", "<DELETE>", "core", "<DELETE>", "constants", "<DELETE>", ".", "<DELETE>", "encoding", "<DELETE>", "_", "<DELETE>", "utf8", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "values", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameter", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "j", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "<", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "parameters", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<REPLACE_OLD>", "encoded", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "append", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "urlencoder", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "encode", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "append", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "append", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "j", "<KEEP>", "]", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "core", "<REPLACE_OLD>", "constants", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "encoding", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "utf8", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "j", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "parameters", "<REPLACE_NEW>", "string", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "parameters", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "unsupported", "<DELETE>", "encoding", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "e", "<DELETE>", ".", "<DELETE>", "print", "<DELETE>", "stack", "<DELETE>", "trace", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "parameters", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.9496487900922191, "using": 2, "keep": 1}
{"id": "mongodb_stitch-android-sdk-4-5348", "old_comment": "a task that can be resolved upon registering the token with baa s .", "old_comment_tokens": ["a", "task", "that", "can", "be", "resolved", "upon", "registering", "the", "token", "with", "baa", "s", "."], "new_comment": "a task that can be resolved upon registering the token with stitch .", "new_comment_tokens": ["a", "task", "that", "can", "be", "resolved", "upon", "registering", "the", "token", "with", "stitch", "."], "old_code": "private task < void > register with server ( final string registration token ) { final map < string , object > request = get register push device request ( registration token ) ; return get baas client ( ) . execute pipeline ( new pipeline stage ( actions . register _ push , request ) ) . continue with ( new continuation < list < object > , void > ( ) { @ override public void then ( @ non null task < list < object > > task ) throws exception { if ( ! task . is successful ( ) ) { throw task . get exception ( ) ; } add info to configs ( _ info ) ; return null ; } } ) ; }", "old_code_tokens": ["private", "task", "<", "void", ">", "register", "with", "server", "(", "final", "string", "registration", "token", ")", "{", "final", "map", "<", "string", ",", "object", ">", "request", "=", "get", "register", "push", "device", "request", "(", "registration", "token", ")", ";", "return", "get", "baas", "client", "(", ")", ".", "execute", "pipeline", "(", "new", "pipeline", "stage", "(", "actions", ".", "register", "_", "push", ",", "request", ")", ")", ".", "continue", "with", "(", "new", "continuation", "<", "list", "<", "object", ">", ",", "void", ">", "(", ")", "{", "@", "override", "public", "void", "then", "(", "@", "non", "null", "task", "<", "list", "<", "object", ">", ">", "task", ")", "throws", "exception", "{", "if", "(", "!", "task", ".", "is", "successful", "(", ")", ")", "{", "throw", "task", ".", "get", "exception", "(", ")", ";", "}", "add", "info", "to", "configs", "(", "_", "info", ")", ";", "return", "null", ";", "}", "}", ")", ";", "}"], "new_code": "private task < void > register with server ( final string registration token ) { final map < string , object > request = get register push device request ( registration token ) ; return get stitch client ( ) . execute pipeline ( new pipeline stage ( actions . register _ push , request ) ) . continue with ( new continuation < list < object > , void > ( ) { @ override public void then ( @ non null task < list < object > > task ) throws exception { if ( ! task . is successful ( ) ) { throw task . get exception ( ) ; } add info to configs ( _ info ) ; return null ; } } ) ; }", "new_code_tokens": ["private", "task", "<", "void", ">", "register", "with", "server", "(", "final", "string", "registration", "token", ")", "{", "final", "map", "<", "string", ",", "object", ">", "request", "=", "get", "register", "push", "device", "request", "(", "registration", "token", ")", ";", "return", "get", "stitch", "client", "(", ")", ".", "execute", "pipeline", "(", "new", "pipeline", "stage", "(", "actions", ".", "register", "_", "push", ",", "request", ")", ")", ".", "continue", "with", "(", "new", "continuation", "<", "list", "<", "object", ">", ",", "void", ">", "(", ")", "{", "@", "override", "public", "void", "then", "(", "@", "non", "null", "task", "<", "list", "<", "object", ">", ">", "task", ")", "throws", "exception", "{", "if", "(", "!", "task", ".", "is", "successful", "(", ")", ")", "{", "throw", "task", ".", "get", "exception", "(", ")", ";", "}", "add", "info", "to", "configs", "(", "_", "info", ")", ";", "return", "null", ";", "}", "}", ")", ";", "}"], "span_diff_code": "<KEEP> private task < void > register with server ( final string registration token ) { final map < string , object > request = get register push device request ( registration token ) ; return get <KEEP_END> <REPLACE_OLD> baas <REPLACE_NEW> stitch <REPLACE_END> <KEEP> client ( ) . execute pipeline ( new pipeline stage ( actions . register _ push , request ) ) . continue with ( new continuation < list < object > , void > ( ) { @ override public void then ( @ non null task < list < object > > task ) throws exception { if ( ! task . is successful ( ) ) { throw task . get exception ( ) ; } add info to configs ( _ info ) ; return null ; } } ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "task", "<", "void", ">", "register", "with", "server", "(", "final", "string", "registration", "token", ")", "{", "final", "map", "<", "string", ",", "object", ">", "request", "=", "get", "register", "push", "device", "request", "(", "registration", "token", ")", ";", "return", "get", "<KEEP_END>", "<REPLACE_OLD>", "baas", "<REPLACE_NEW>", "stitch", "<REPLACE_END>", "<KEEP>", "client", "(", ")", ".", "execute", "pipeline", "(", "new", "pipeline", "stage", "(", "actions", ".", "register", "_", "push", ",", "request", ")", ")", ".", "continue", "with", "(", "new", "continuation", "<", "list", "<", "object", ">", ",", "void", ">", "(", ")", "{", "@", "override", "public", "void", "then", "(", "@", "non", "null", "task", "<", "list", "<", "object", ">", ">", "task", ")", "throws", "exception", "{", "if", "(", "!", "task", ".", "is", "successful", "(", ")", ")", "{", "throw", "task", ".", "get", "exception", "(", ")", ";", "}", "add", "info", "to", "configs", "(", "_", "info", ")", ";", "return", "null", ";", "}", "}", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> baa s <REPLACE_NEW> stitch <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "baa", "s", "<REPLACE_NEW>", "stitch", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "task", "<KEEP>", "<", "<KEEP>", "void", "<KEEP>", ">", "<KEEP>", "register", "<KEEP>", "with", "<KEEP>", "server", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "registration", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "register", "<KEEP>", "push", "<KEEP>", "device", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "registration", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "get", "<REPLACE_OLD>", "baas", "<REPLACE_NEW>", "stitch", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "pipeline", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "pipeline", "<KEEP>", "stage", "<KEEP>", "(", "<KEEP>", "actions", "<KEEP>", ".", "<KEEP>", "register", "<KEEP>", "_", "<KEEP>", "push", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "continue", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "continuation", "<KEEP>", "<", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ",", "<KEEP>", "void", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "then", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "task", "<KEEP>", "<", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "task", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "task", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "successful", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "task", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "add", "<KEEP>", "info", "<KEEP>", "to", "<KEEP>", "configs", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9867171576171752, "using": 2, "keep": 1}
{"id": "square_pollexor-2-5139", "old_comment": "unsafe uri for the current configuration .", "old_comment_tokens": ["unsafe", "uri", "for", "the", "current", "configuration", "."], "new_comment": "unsafe url for the current configuration .", "new_comment_tokens": ["unsafe", "url", "for", "the", "current", "configuration", "."], "old_code": "public string build unsafe ( ) { return new string builder ( str ) . append ( prefix _ unsafe ) . append ( str ) . append ( assemble config ( ) ) . append ( str ) . append ( target ) . to string ( ) ; }", "old_code_tokens": ["public", "string", "build", "unsafe", "(", ")", "{", "return", "new", "string", "builder", "(", "str", ")", ".", "append", "(", "prefix", "_", "unsafe", ")", ".", "append", "(", "str", ")", ".", "append", "(", "assemble", "config", "(", ")", ")", ".", "append", "(", "str", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public string build unsafe ( ) { return new string builder ( host ) . append ( str ) . append ( prefix _ unsafe ) . append ( str ) . append ( assemble config ( ) ) . append ( target ) . to string ( ) ; }", "new_code_tokens": ["public", "string", "build", "unsafe", "(", ")", "{", "return", "new", "string", "builder", "(", "host", ")", ".", "append", "(", "str", ")", ".", "append", "(", "prefix", "_", "unsafe", ")", ".", "append", "(", "str", ")", ".", "append", "(", "assemble", "config", "(", ")", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string build unsafe ( ) { return new string builder <KEEP_END> <INSERT> ( host ) . append <INSERT_END> <KEEP> ( str ) . append ( prefix _ unsafe ) . append ( str ) . append ( assemble config ( ) ) . append ( <KEEP_END> <DELETE> str ) . append ( <DELETE_END> <KEEP> target ) . to string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "build", "unsafe", "(", ")", "{", "return", "new", "string", "builder", "<KEEP_END>", "<INSERT>", "(", "host", ")", ".", "append", "<INSERT_END>", "<KEEP>", "(", "str", ")", ".", "append", "(", "prefix", "_", "unsafe", ")", ".", "append", "(", "str", ")", ".", "append", "(", "assemble", "config", "(", ")", ")", ".", "append", "(", "<KEEP_END>", "<DELETE>", "str", ")", ".", "append", "(", "<DELETE_END>", "<KEEP>", "target", ")", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> uri <REPLACE_NEW> url <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "url", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "build", "<KEEP>", "unsafe", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<INSERT>", "(", "<INSERT>", "host", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "prefix", "<KEEP>", "_", "<KEEP>", "unsafe", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "assemble", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<KEEP>", "target", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9290212651139133, "using": 0, "keep": 1}
{"id": "UnimibSoftEngCourse1516_lab4-es1-v.popescu2-7-4145", "old_comment": "a float [ ] which is the new centroid", "old_comment_tokens": ["a", "float", "[", "]", "which", "is", "the", "new", "centroid"], "new_comment": "the new centroid", "new_comment_tokens": ["the", "new", "centroid"], "old_code": "private float [ ] compute centroid ( ) { if ( num points = = num ) return point total ; else if ( centroid = = null ) { centroid = new float [ point total . length ] ; for ( int i = num ; i < point total . length ; i + + ) centroid [ i ] = new float ( point total [ i ] / num points ) ; } return centroid ; }", "old_code_tokens": ["private", "float", "[", "]", "compute", "centroid", "(", ")", "{", "if", "(", "num", "points", "=", "=", "num", ")", "return", "point", "total", ";", "else", "if", "(", "centroid", "=", "=", "null", ")", "{", "centroid", "=", "new", "float", "[", "point", "total", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "length", ";", "i", "+", "+", ")", "centroid", "[", "i", "]", "=", "new", "float", "(", "point", "total", "[", "i", "]", "/", "num", "points", ")", ";", "}", "return", "centroid", ";", "}"], "new_code": "private vector compute centroid ( ) { if ( num points = = num ) return point total ; else if ( centroid = = null ) { centroid = point total . divide ( num points ) ; } return centroid ; }", "new_code_tokens": ["private", "vector", "compute", "centroid", "(", ")", "{", "if", "(", "num", "points", "=", "=", "num", ")", "return", "point", "total", ";", "else", "if", "(", "centroid", "=", "=", "null", ")", "{", "centroid", "=", "point", "total", ".", "divide", "(", "num", "points", ")", ";", "}", "return", "centroid", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> float [ ] <REPLACE_NEW> vector <REPLACE_END> <KEEP> compute centroid ( ) { if ( num points = = num ) return point total ; else if ( centroid = = null ) { centroid = <KEEP_END> <DELETE> new float [ <DELETE_END> <KEEP> point total . <KEEP_END> <REPLACE_OLD> length ] ; for <REPLACE_NEW> divide <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> int i = num ; i < point total . length ; i + + ) centroid [ i ] = new float ( point total [ i ] / <DELETE_END> <KEEP> num points ) ; } return centroid ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "float", "[", "]", "<REPLACE_NEW>", "vector", "<REPLACE_END>", "<KEEP>", "compute", "centroid", "(", ")", "{", "if", "(", "num", "points", "=", "=", "num", ")", "return", "point", "total", ";", "else", "if", "(", "centroid", "=", "=", "null", ")", "{", "centroid", "=", "<KEEP_END>", "<DELETE>", "new", "float", "[", "<DELETE_END>", "<KEEP>", "point", "total", ".", "<KEEP_END>", "<REPLACE_OLD>", "length", "]", ";", "for", "<REPLACE_NEW>", "divide", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "length", ";", "i", "+", "+", ")", "centroid", "[", "i", "]", "=", "new", "float", "(", "point", "total", "[", "i", "]", "/", "<DELETE_END>", "<KEEP>", "num", "points", ")", ";", "}", "return", "centroid", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> a float [ ] which is <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "a", "float", "[", "]", "which", "is", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "vector", "<KEEP>", "compute", "<KEEP>", "centroid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "points", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "centroid", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "centroid", "<KEEP>", "=", "<DELETE>", "new", "<DELETE>", "float", "<DELETE>", "[", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "divide", "<KEEP>", "(", "<DELETE>", "int", "<DELETE>", "i", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "i", "<DELETE>", "<", "<DELETE>", "point", "<DELETE>", "total", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", ";", "<DELETE>", "i", "<DELETE>", "+", "<DELETE>", "+", "<DELETE>", ")", "<DELETE>", "centroid", "<DELETE>", "[", "<DELETE>", "i", "<DELETE>", "]", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "float", "<DELETE>", "(", "<DELETE>", "point", "<DELETE>", "total", "<DELETE>", "[", "<DELETE>", "i", "<DELETE>", "]", "<DELETE>", "/", "<KEEP>", "num", "<KEEP>", "points", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "centroid", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9619797149631103, "using": 2, "keep": 1}
{"id": "eclipse_pdt-75-6078", "old_comment": "the singleton php ast lexer5", "old_comment_tokens": ["the", "singleton", "php", "ast", "lexer5"], "new_comment": "the singleton org . eclipse . php . internal . core . ast . scanner . php4 . php ast lexer", "new_comment_tokens": ["the", "singleton", "org", ".", "eclipse", ".", "php", ".", "internal", ".", "core", ".", "ast", ".", "scanner", ".", "php4", ".", "php", "ast", "lexer"], "old_code": "private static php ast lexer4 get lexer4 ( reader reader ) throws ioexception { final php ast lexer4 php ast lexer4 = astparser . php _ ast _ lexer4 ; php ast lexer4 . yyreset ( reader ) ; php ast lexer4 . reset comment list ( ) ; return php ast lexer4 ; }", "old_code_tokens": ["private", "static", "php", "ast", "lexer4", "get", "lexer4", "(", "reader", "reader", ")", "throws", "ioexception", "{", "final", "php", "ast", "lexer4", "php", "ast", "lexer4", "=", "astparser", ".", "php", "_", "ast", "_", "lexer4", ";", "php", "ast", "lexer4", ".", "yyreset", "(", "reader", ")", ";", "php", "ast", "lexer4", ".", "reset", "comment", "list", "(", ")", ";", "return", "php", "ast", "lexer4", ";", "}"], "new_code": "private static org . eclipse . php . internal . core . ast . scanner . php4 . php ast lexer get lexer4 ( reader reader ) throws ioexception { final org . eclipse . php . internal . core . ast . scanner . php4 . php ast lexer php ast lexer4 = astparser . php _ ast _ lexer4 ; php ast lexer4 . yyreset ( reader ) ; php ast lexer4 . reset comment list ( ) ; return php ast lexer4 ; }", "new_code_tokens": ["private", "static", "org", ".", "eclipse", ".", "php", ".", "internal", ".", "core", ".", "ast", ".", "scanner", ".", "php4", ".", "php", "ast", "lexer", "get", "lexer4", "(", "reader", "reader", ")", "throws", "ioexception", "{", "final", "org", ".", "eclipse", ".", "php", ".", "internal", ".", "core", ".", "ast", ".", "scanner", ".", "php4", ".", "php", "ast", "lexer", "php", "ast", "lexer4", "=", "astparser", ".", "php", "_", "ast", "_", "lexer4", ";", "php", "ast", "lexer4", ".", "yyreset", "(", "reader", ")", ";", "php", "ast", "lexer4", ".", "reset", "comment", "list", "(", ")", ";", "return", "php", "ast", "lexer4", ";", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <INSERT> org . eclipse . php . internal . core . ast . scanner . php4 . <INSERT_END> <KEEP> php ast <KEEP_END> <REPLACE_OLD> lexer4 <REPLACE_NEW> lexer <REPLACE_END> <KEEP> get lexer4 ( reader reader ) throws ioexception { final <KEEP_END> <INSERT> org . eclipse . php . internal . core . ast . scanner . php4 . <INSERT_END> <KEEP> php ast <KEEP_END> <REPLACE_OLD> lexer4 <REPLACE_NEW> lexer <REPLACE_END> <KEEP> php ast lexer4 = astparser . php _ ast _ lexer4 ; php ast lexer4 . yyreset ( reader ) ; php ast lexer4 . reset comment list ( ) ; return php ast lexer4 ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<INSERT>", "org", ".", "eclipse", ".", "php", ".", "internal", ".", "core", ".", "ast", ".", "scanner", ".", "php4", ".", "<INSERT_END>", "<KEEP>", "php", "ast", "<KEEP_END>", "<REPLACE_OLD>", "lexer4", "<REPLACE_NEW>", "lexer", "<REPLACE_END>", "<KEEP>", "get", "lexer4", "(", "reader", "reader", ")", "throws", "ioexception", "{", "final", "<KEEP_END>", "<INSERT>", "org", ".", "eclipse", ".", "php", ".", "internal", ".", "core", ".", "ast", ".", "scanner", ".", "php4", ".", "<INSERT_END>", "<KEEP>", "php", "ast", "<KEEP_END>", "<REPLACE_OLD>", "lexer4", "<REPLACE_NEW>", "lexer", "<REPLACE_END>", "<KEEP>", "php", "ast", "lexer4", "=", "astparser", ".", "php", "_", "ast", "_", "lexer4", ";", "php", "ast", "lexer4", ".", "yyreset", "(", "reader", ")", ";", "php", "ast", "lexer4", ".", "reset", "comment", "list", "(", ")", ";", "return", "php", "ast", "lexer4", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> singleton <INSERT_NEW_KEEP_BEFORE> singleton org . eclipse . php . internal . core . ast . scanner . php4 . <INSERT_END> <REPLACE_OLD> lexer5 <REPLACE_NEW> lexer <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "singleton", "<INSERT_NEW_KEEP_BEFORE>", "singleton", "org", ".", "eclipse", ".", "php", ".", "internal", ".", "core", ".", "ast", ".", "scanner", ".", "php4", ".", "<INSERT_END>", "<REPLACE_OLD>", "lexer5", "<REPLACE_NEW>", "lexer", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<INSERT>", "org", "<INSERT>", ".", "<INSERT>", "eclipse", "<INSERT>", ".", "<INSERT>", "php", "<INSERT>", ".", "<INSERT>", "internal", "<INSERT>", ".", "<INSERT>", "core", "<INSERT>", ".", "<INSERT>", "ast", "<INSERT>", ".", "<INSERT>", "scanner", "<INSERT>", ".", "<INSERT>", "php4", "<INSERT>", ".", "<KEEP>", "php", "<KEEP>", "ast", "<REPLACE_OLD>", "lexer4", "<REPLACE_NEW>", "lexer", "<KEEP>", "get", "<KEEP>", "lexer4", "<KEEP>", "(", "<KEEP>", "reader", "<KEEP>", "reader", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "final", "<INSERT>", "org", "<INSERT>", ".", "<INSERT>", "eclipse", "<INSERT>", ".", "<INSERT>", "php", "<INSERT>", ".", "<INSERT>", "internal", "<INSERT>", ".", "<INSERT>", "core", "<INSERT>", ".", "<INSERT>", "ast", "<INSERT>", ".", "<INSERT>", "scanner", "<INSERT>", ".", "<INSERT>", "php4", "<INSERT>", ".", "<KEEP>", "php", "<KEEP>", "ast", "<REPLACE_OLD>", "lexer4", "<REPLACE_NEW>", "lexer", "<KEEP>", "php", "<KEEP>", "ast", "<KEEP>", "lexer4", "<KEEP>", "=", "<KEEP>", "astparser", "<KEEP>", ".", "<KEEP>", "php", "<KEEP>", "_", "<KEEP>", "ast", "<KEEP>", "_", "<KEEP>", "lexer4", "<KEEP>", ";", "<KEEP>", "php", "<KEEP>", "ast", "<KEEP>", "lexer4", "<KEEP>", ".", "<KEEP>", "yyreset", "<KEEP>", "(", "<KEEP>", "reader", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "php", "<KEEP>", "ast", "<KEEP>", "lexer4", "<KEEP>", ".", "<KEEP>", "reset", "<KEEP>", "comment", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "php", "<KEEP>", "ast", "<KEEP>", "lexer4", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8972822894587106, "using": 1, "keep": 1}
{"id": "pockethub_PocketHub-3-570", "old_comment": "repository issue or null if none found in given uri", "old_comment_tokens": ["repository", "issue", "or", "null", "if", "none", "found", "in", "given", "uri"], "new_comment": "issue or null if none found in given uri", "new_comment_tokens": ["issue", "or", "null", "if", "none", "found", "in", "given", "uri"], "old_code": "public static issue get issue ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; if ( ! str . equals ( segments . get ( num ) ) & & ! str . equals ( segments . get ( num ) ) ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; string number = segments . get ( num ) ; if ( text utils . is empty ( number ) ) return null ; int issue number ; try { issue number = integer . parse int ( number ) ; } catch ( number format exception nfe ) { return null ; } if ( issue number < num ) return null ; repo repo = new repo ( ) ; user owner = new user ( ) ; owner . login = repo owner ; repo . name = repo name ; repo . owner = owner ; issue issue = new issue ( ) ; issue . repository = repo ; issue . number = issue number ; return issue ; }", "old_code_tokens": ["public", "static", "issue", "get", "issue", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "if", "(", "!", "str", ".", "equals", "(", "segments", ".", "get", "(", "num", ")", ")", "&", "&", "!", "str", ".", "equals", "(", "segments", ".", "get", "(", "num", ")", ")", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "string", "number", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "text", "utils", ".", "is", "empty", "(", "number", ")", ")", "return", "null", ";", "int", "issue", "number", ";", "try", "{", "issue", "number", "=", "integer", ".", "parse", "int", "(", "number", ")", ";", "}", "catch", "(", "number", "format", "exception", "nfe", ")", "{", "return", "null", ";", "}", "if", "(", "issue", "number", "<", "num", ")", "return", "null", ";", "repo", "repo", "=", "new", "repo", "(", ")", ";", "user", "owner", "=", "new", "user", "(", ")", ";", "owner", ".", "login", "=", "repo", "owner", ";", "repo", ".", "name", "=", "repo", "name", ";", "repo", ".", "owner", "=", "owner", ";", "issue", "issue", "=", "new", "issue", "(", ")", ";", "issue", ".", "repository", "=", "repo", ";", "issue", ".", "number", "=", "issue", "number", ";", "return", "issue", ";", "}"], "new_code": "public static issue get issue ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; if ( ! str . equals ( segments . get ( num ) ) & & ! str . equals ( segments . get ( num ) ) ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; string number = segments . get ( num ) ; if ( text utils . is empty ( number ) ) return null ; int issue number ; try { issue number = integer . parse int ( number ) ; } catch ( number format exception nfe ) { return null ; } if ( issue number < num ) return null ; repository repo = info utils . create repo from data ( repo owner , repo name ) ; return issue . builder ( ) . repository ( repo ) . number ( issue number ) . build ( ) ; }", "new_code_tokens": ["public", "static", "issue", "get", "issue", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "if", "(", "!", "str", ".", "equals", "(", "segments", ".", "get", "(", "num", ")", ")", "&", "&", "!", "str", ".", "equals", "(", "segments", ".", "get", "(", "num", ")", ")", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "string", "number", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "text", "utils", ".", "is", "empty", "(", "number", ")", ")", "return", "null", ";", "int", "issue", "number", ";", "try", "{", "issue", "number", "=", "integer", ".", "parse", "int", "(", "number", ")", ";", "}", "catch", "(", "number", "format", "exception", "nfe", ")", "{", "return", "null", ";", "}", "if", "(", "issue", "number", "<", "num", ")", "return", "null", ";", "repository", "repo", "=", "info", "utils", ".", "create", "repo", "from", "data", "(", "repo", "owner", ",", "repo", "name", ")", ";", "return", "issue", ".", "builder", "(", ")", ".", "repository", "(", "repo", ")", ".", "number", "(", "issue", "number", ")", ".", "build", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static issue get issue ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; if ( ! str . equals ( segments . get ( num ) ) & & ! str . equals ( segments . get ( num ) ) ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; string number = segments . get ( num ) ; if ( text utils . is empty ( number ) ) return null ; int issue number ; try { issue number = integer . parse int ( number ) ; } catch ( number format exception nfe ) { return null ; } if ( issue number < num ) return null ; <KEEP_END> <REPLACE_OLD> repo repo = new repo ( ) ; user owner = new user ( ) ; owner . login = repo owner ; repo . <REPLACE_NEW> repository repo = info utils . create repo from data ( repo owner , repo <REPLACE_END> <KEEP> name <KEEP_END> <REPLACE_OLD> = repo name ; repo . owner = owner ; issue issue = new issue ( ) ; issue . repository = repo ; issue . number = issue number ; return issue <REPLACE_NEW> ) ; return issue . builder ( ) . repository ( repo ) . number ( issue number ) . build ( ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "issue", "get", "issue", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "if", "(", "!", "str", ".", "equals", "(", "segments", ".", "get", "(", "num", ")", ")", "&", "&", "!", "str", ".", "equals", "(", "segments", ".", "get", "(", "num", ")", ")", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "string", "number", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "text", "utils", ".", "is", "empty", "(", "number", ")", ")", "return", "null", ";", "int", "issue", "number", ";", "try", "{", "issue", "number", "=", "integer", ".", "parse", "int", "(", "number", ")", ";", "}", "catch", "(", "number", "format", "exception", "nfe", ")", "{", "return", "null", ";", "}", "if", "(", "issue", "number", "<", "num", ")", "return", "null", ";", "<KEEP_END>", "<REPLACE_OLD>", "repo", "repo", "=", "new", "repo", "(", ")", ";", "user", "owner", "=", "new", "user", "(", ")", ";", "owner", ".", "login", "=", "repo", "owner", ";", "repo", ".", "<REPLACE_NEW>", "repository", "repo", "=", "info", "utils", ".", "create", "repo", "from", "data", "(", "repo", "owner", ",", "repo", "<REPLACE_END>", "<KEEP>", "name", "<KEEP_END>", "<REPLACE_OLD>", "=", "repo", "name", ";", "repo", ".", "owner", "=", "owner", ";", "issue", "issue", "=", "new", "issue", "(", ")", ";", "issue", ".", "repository", "=", "repo", ";", "issue", ".", "number", "=", "issue", "number", ";", "return", "issue", "<REPLACE_NEW>", ")", ";", "return", "issue", ".", "builder", "(", ")", ".", "repository", "(", "repo", ")", ".", "number", "(", "issue", "number", ")", ".", "build", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> repository <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "repository", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "issue", "<KEEP>", "get", "<KEEP>", "issue", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "segments", "<KEEP>", "=", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "segments", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "repo", "<KEEP>", "owner", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "repository", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", "repo", "<KEEP>", "owner", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "repo", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "repository", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "repo", "<KEEP>", "(", "<KEEP>", "repo", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "number", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "text", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "issue", "<KEEP>", "number", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "issue", "<KEEP>", "number", "<KEEP>", "=", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "number", "<KEEP>", "format", "<KEEP>", "exception", "<KEEP>", "nfe", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "issue", "<KEEP>", "number", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "owner", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "owner", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "login", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", "owner", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "repository", "<REPLACE_NEW>", "repo", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "utils", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "repo", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "repo", "<REPLACE_NEW>", "owner", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "repo", "<KEEP>", "name", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "owner", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "owner", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "issue", "<REPLACE_OLD>", "issue", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "issue", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "issue", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "repository", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "issue", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "number", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "issue", "<REPLACE_OLD>", "number", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "issue", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "issue", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "repository", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "repo", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "number", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "issue", "<REPLACE_NEW>", "number", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9871179079821196, "using": 2, "keep": 1}
{"id": "graphhopper_graphhopper-93-3112", "old_comment": "the integer reference", "old_comment_tokens": ["the", "integer", "reference"], "new_comment": "the byte pointer to the name", "new_comment_tokens": ["the", "byte", "pointer", "to", "the", "name"], "old_code": "public int put ( string name ) { if ( name = = null | | name . is empty ( ) ) { return num ; } if ( name . equals ( last name ) ) { return last index ; } byte [ ] bytes = get bytes ( name ) ; int old pointer = byte pointer ; names . ensure capacity ( byte pointer + num + bytes . length ) ; byte [ ] size bytes = new byte [ ] { ( byte ) bytes . length } ; names . set bytes ( byte pointer , size bytes , size bytes . length ) ; byte pointer + + ; names . set bytes ( byte pointer , bytes , bytes . length ) ; byte pointer + = bytes . length ; if ( byte pointer < num ) { throw new illegal state exception ( str ) ; } last name = name ; last index = old pointer ; return old pointer ; }", "old_code_tokens": ["public", "int", "put", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "name", ".", "is", "empty", "(", ")", ")", "{", "return", "num", ";", "}", "if", "(", "name", ".", "equals", "(", "last", "name", ")", ")", "{", "return", "last", "index", ";", "}", "byte", "[", "]", "bytes", "=", "get", "bytes", "(", "name", ")", ";", "int", "old", "pointer", "=", "byte", "pointer", ";", "names", ".", "ensure", "capacity", "(", "byte", "pointer", "+", "num", "+", "bytes", ".", "length", ")", ";", "byte", "[", "]", "size", "bytes", "=", "new", "byte", "[", "]", "{", "(", "byte", ")", "bytes", ".", "length", "}", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "size", "bytes", ",", "size", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "+", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "bytes", ",", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "=", "bytes", ".", "length", ";", "if", "(", "byte", "pointer", "<", "num", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "last", "name", "=", "name", ";", "last", "index", "=", "old", "pointer", ";", "return", "old", "pointer", ";", "}"], "new_code": "public long put ( string name ) { if ( name = = null | | name . is empty ( ) ) { return num ; } if ( name . equals ( last name ) ) { return last index ; } byte [ ] bytes = get bytes ( name ) ; long old pointer = byte pointer ; names . ensure capacity ( byte pointer + num + bytes . length ) ; byte [ ] size bytes = new byte [ ] { ( byte ) bytes . length } ; names . set bytes ( byte pointer , size bytes , size bytes . length ) ; byte pointer + + ; names . set bytes ( byte pointer , bytes , bytes . length ) ; byte pointer + = bytes . length ; if ( byte pointer < num ) { throw new illegal state exception ( str ) ; } last name = name ; last index = old pointer ; return old pointer ; }", "new_code_tokens": ["public", "long", "put", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "name", ".", "is", "empty", "(", ")", ")", "{", "return", "num", ";", "}", "if", "(", "name", ".", "equals", "(", "last", "name", ")", ")", "{", "return", "last", "index", ";", "}", "byte", "[", "]", "bytes", "=", "get", "bytes", "(", "name", ")", ";", "long", "old", "pointer", "=", "byte", "pointer", ";", "names", ".", "ensure", "capacity", "(", "byte", "pointer", "+", "num", "+", "bytes", ".", "length", ")", ";", "byte", "[", "]", "size", "bytes", "=", "new", "byte", "[", "]", "{", "(", "byte", ")", "bytes", ".", "length", "}", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "size", "bytes", ",", "size", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "+", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "bytes", ",", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "=", "bytes", ".", "length", ";", "if", "(", "byte", "pointer", "<", "num", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "last", "name", "=", "name", ";", "last", "index", "=", "old", "pointer", ";", "return", "old", "pointer", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> put ( string name ) { if ( name = = null | | name . is empty ( ) ) { return num ; } if ( name . equals ( last name ) ) { return last index ; } byte [ ] bytes = get bytes ( name ) ; <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> old pointer = byte pointer ; names . ensure capacity ( byte pointer + num + bytes . length ) ; byte [ ] size bytes = new byte [ ] { ( byte ) bytes . length } ; names . set bytes ( byte pointer , size bytes , size bytes . length ) ; byte pointer + + ; names . set bytes ( byte pointer , bytes , bytes . length ) ; byte pointer + = bytes . length ; if ( byte pointer < num ) { throw new illegal state exception ( str ) ; } last name = name ; last index = old pointer ; return old pointer ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "put", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "name", ".", "is", "empty", "(", ")", ")", "{", "return", "num", ";", "}", "if", "(", "name", ".", "equals", "(", "last", "name", ")", ")", "{", "return", "last", "index", ";", "}", "byte", "[", "]", "bytes", "=", "get", "bytes", "(", "name", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "old", "pointer", "=", "byte", "pointer", ";", "names", ".", "ensure", "capacity", "(", "byte", "pointer", "+", "num", "+", "bytes", ".", "length", ")", ";", "byte", "[", "]", "size", "bytes", "=", "new", "byte", "[", "]", "{", "(", "byte", ")", "bytes", ".", "length", "}", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "size", "bytes", ",", "size", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "+", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "bytes", ",", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "=", "bytes", ".", "length", ";", "if", "(", "byte", "pointer", "<", "num", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "last", "name", "=", "name", ";", "last", "index", "=", "old", "pointer", ";", "return", "old", "pointer", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> integer reference <REPLACE_NEW> byte pointer to the name <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "integer", "reference", "<REPLACE_NEW>", "byte", "pointer", "to", "the", "name", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "last", "<KEEP>", "index", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "old", "<KEEP>", "pointer", "<KEEP>", "=", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", ";", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "ensure", "<KEEP>", "capacity", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", "+", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "size", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", ")", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", ",", "<KEEP>", "size", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "size", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "last", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "name", "<KEEP>", ";", "<KEEP>", "last", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "old", "<KEEP>", "pointer", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "old", "<KEEP>", "pointer", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8642413921252942, "using": 1, "keep": 1}
{"id": "mikepenz_Android-Iconics-16-1270", "old_comment": "the current icon ext drawable for chaining .", "old_comment_tokens": ["the", "current", "icon", "ext", "drawable", "for", "chaining", "."], "new_comment": "the current iconics drawable for chaining .", "new_comment_tokens": ["the", "current", "iconics", "drawable", "for", "chaining", "."], "old_code": "public iconics drawable icon text ( string icon ) { return icon text ( icon , typeface . default ) ; }", "old_code_tokens": ["public", "iconics", "drawable", "icon", "text", "(", "string", "icon", ")", "{", "return", "icon", "text", "(", "icon", ",", "typeface", ".", "default", ")", ";", "}"], "new_code": "public iconics drawable icon text ( string icon ) { return icon text ( icon , null ) ; }", "new_code_tokens": ["public", "iconics", "drawable", "icon", "text", "(", "string", "icon", ")", "{", "return", "icon", "text", "(", "icon", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public iconics drawable icon text ( string icon ) { return icon text ( icon , <KEEP_END> <REPLACE_OLD> typeface . default <REPLACE_NEW> null <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iconics", "drawable", "icon", "text", "(", "string", "icon", ")", "{", "return", "icon", "text", "(", "icon", ",", "<KEEP_END>", "<REPLACE_OLD>", "typeface", ".", "default", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> icon ext <REPLACE_NEW> iconics <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "icon", "ext", "<REPLACE_NEW>", "iconics", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iconics", "<KEEP>", "drawable", "<KEEP>", "icon", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "icon", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "icon", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "icon", "<KEEP>", ",", "<REPLACE_OLD>", "typeface", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "default", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9315647984151348, "using": 1, "keep": 1}
{"id": "apache_manifoldcf-integration-solr-4.x-65-3775", "old_comment": "an array of org . apache . lucene . document . fieldable", "old_comment_tokens": ["an", "array", "of", "org", ".", "apache", ".", "lucene", ".", "document", ".", "fieldable"], "new_comment": "an array of org . apache . lucene . index . indexable field", "new_comment_tokens": ["an", "array", "of", "org", ".", "apache", ".", "lucene", ".", "index", ".", "indexable", "field"], "old_code": "public fieldable [ ] create fields ( schema field field , object value , float boost ) { fieldable f = create field ( field , value , boost ) ; return f = = null ? new fieldable [ ] { } : new fieldable [ ] { f } ; }", "old_code_tokens": ["public", "fieldable", "[", "]", "create", "fields", "(", "schema", "field", "field", ",", "object", "value", ",", "float", "boost", ")", "{", "fieldable", "f", "=", "create", "field", "(", "field", ",", "value", ",", "boost", ")", ";", "return", "f", "=", "=", "null", "?", "new", "fieldable", "[", "]", "{", "}", ":", "new", "fieldable", "[", "]", "{", "f", "}", ";", "}"], "new_code": "public indexable field [ ] create fields ( schema field field , object value , float boost ) { indexable field f = create field ( field , value , boost ) ; return f = = null ? new indexable field [ ] { } : new indexable field [ ] { f } ; }", "new_code_tokens": ["public", "indexable", "field", "[", "]", "create", "fields", "(", "schema", "field", "field", ",", "object", "value", ",", "float", "boost", ")", "{", "indexable", "field", "f", "=", "create", "field", "(", "field", ",", "value", ",", "boost", ")", ";", "return", "f", "=", "=", "null", "?", "new", "indexable", "field", "[", "]", "{", "}", ":", "new", "indexable", "field", "[", "]", "{", "f", "}", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> fieldable <REPLACE_NEW> indexable field <REPLACE_END> <KEEP> [ ] create fields ( schema field field , object value , float boost ) { <KEEP_END> <REPLACE_OLD> fieldable <REPLACE_NEW> indexable field <REPLACE_END> <KEEP> f = create field ( field , value , boost ) ; return f = = null ? new <KEEP_END> <REPLACE_OLD> fieldable <REPLACE_NEW> indexable field <REPLACE_END> <KEEP> [ ] { } : new <KEEP_END> <REPLACE_OLD> fieldable <REPLACE_NEW> indexable field <REPLACE_END> <KEEP> [ ] { f } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "field", "<REPLACE_END>", "<KEEP>", "[", "]", "create", "fields", "(", "schema", "field", "field", ",", "object", "value", ",", "float", "boost", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "field", "<REPLACE_END>", "<KEEP>", "f", "=", "create", "field", "(", "field", ",", "value", ",", "boost", ")", ";", "return", "f", "=", "=", "null", "?", "new", "<KEEP_END>", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "field", "<REPLACE_END>", "<KEEP>", "[", "]", "{", "}", ":", "new", "<KEEP_END>", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "field", "<REPLACE_END>", "<KEEP>", "[", "]", "{", "f", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> document <REPLACE_NEW> index <REPLACE_END> <REPLACE_OLD> fieldable <REPLACE_NEW> indexable field <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "document", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "field", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "<REPLACE_NEW>", "field", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "create", "<KEEP>", "fields", "<KEEP>", "(", "<KEEP>", "schema", "<KEEP>", "field", "<KEEP>", "field", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "float", "<KEEP>", "boost", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "<REPLACE_NEW>", "field", "<KEEP>", "f", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "boost", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "f", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "new", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "<REPLACE_NEW>", "field", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", ":", "<KEEP>", "new", "<REPLACE_OLD>", "fieldable", "<REPLACE_NEW>", "indexable", "<REPLACE_NEW>", "field", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "f", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.883479048084851, "using": 1, "keep": 1}
{"id": "jenkinsci_github-plugin-4-7469", "old_comment": "predicate with true on apply if job is buildable", "old_comment_tokens": ["predicate", "with", "true", "on", "apply", "if", "job", "is", "buildable"], "new_comment": "predicate with true on apply if item is buildable", "new_comment_tokens": ["predicate", "with", "true", "on", "apply", "if", "item", "is", "buildable"], "old_code": "public static predicate < job > is buildable ( ) { return new predicate < job > ( ) { public boolean apply ( job job ) { return job ! = null & & job . is buildable ( ) ; } } ; }", "old_code_tokens": ["public", "static", "predicate", "<", "job", ">", "is", "buildable", "(", ")", "{", "return", "new", "predicate", "<", "job", ">", "(", ")", "{", "public", "boolean", "apply", "(", "job", "job", ")", "{", "return", "job", "!", "=", "null", "&", "&", "job", ".", "is", "buildable", "(", ")", ";", "}", "}", ";", "}"], "new_code": "public static < item extends item > predicate < item > is buildable ( ) { return new predicate < item > ( ) { public boolean apply ( item item ) { return item instanceof job ? ( ( job < ? , ? > ) item ) . is buildable ( ) : item instanceof buildable item ; } } ; }", "new_code_tokens": ["public", "static", "<", "item", "extends", "item", ">", "predicate", "<", "item", ">", "is", "buildable", "(", ")", "{", "return", "new", "predicate", "<", "item", ">", "(", ")", "{", "public", "boolean", "apply", "(", "item", "item", ")", "{", "return", "item", "instanceof", "job", "?", "(", "(", "job", "<", "?", ",", "?", ">", ")", "item", ")", ".", "is", "buildable", "(", ")", ":", "item", "instanceof", "buildable", "item", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> < item extends item > <INSERT_END> <KEEP> predicate < <KEEP_END> <REPLACE_OLD> job <REPLACE_NEW> item <REPLACE_END> <KEEP> > is buildable ( ) { return new predicate < <KEEP_END> <REPLACE_OLD> job <REPLACE_NEW> item <REPLACE_END> <KEEP> > ( ) { public boolean apply ( <KEEP_END> <REPLACE_OLD> job job <REPLACE_NEW> item item <REPLACE_END> <KEEP> ) { return <KEEP_END> <INSERT> item instanceof <INSERT_END> <KEEP> job <KEEP_END> <REPLACE_OLD> ! = null & & <REPLACE_NEW> ? ( ( <REPLACE_END> <KEEP> job <KEEP_END> <INSERT> < ? , ? > ) item ) <INSERT_END> <KEEP> . is buildable ( ) <KEEP_END> <INSERT> : item instanceof buildable item <INSERT_END> <KEEP> ; } } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "<", "item", "extends", "item", ">", "<INSERT_END>", "<KEEP>", "predicate", "<", "<KEEP_END>", "<REPLACE_OLD>", "job", "<REPLACE_NEW>", "item", "<REPLACE_END>", "<KEEP>", ">", "is", "buildable", "(", ")", "{", "return", "new", "predicate", "<", "<KEEP_END>", "<REPLACE_OLD>", "job", "<REPLACE_NEW>", "item", "<REPLACE_END>", "<KEEP>", ">", "(", ")", "{", "public", "boolean", "apply", "(", "<KEEP_END>", "<REPLACE_OLD>", "job", "job", "<REPLACE_NEW>", "item", "item", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "<KEEP_END>", "<INSERT>", "item", "instanceof", "<INSERT_END>", "<KEEP>", "job", "<KEEP_END>", "<REPLACE_OLD>", "!", "=", "null", "&", "&", "<REPLACE_NEW>", "?", "(", "(", "<REPLACE_END>", "<KEEP>", "job", "<KEEP_END>", "<INSERT>", "<", "?", ",", "?", ">", ")", "item", ")", "<INSERT_END>", "<KEEP>", ".", "is", "buildable", "(", ")", "<KEEP_END>", "<INSERT>", ":", "item", "instanceof", "buildable", "item", "<INSERT_END>", "<KEEP>", ";", "}", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> job <REPLACE_NEW> item <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "job", "<REPLACE_NEW>", "item", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "<", "<INSERT>", "item", "<INSERT>", "extends", "<INSERT>", "item", "<INSERT>", ">", "<KEEP>", "predicate", "<KEEP>", "<", "<REPLACE_OLD>", "job", "<REPLACE_NEW>", "item", "<KEEP>", ">", "<KEEP>", "is", "<KEEP>", "buildable", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "predicate", "<KEEP>", "<", "<REPLACE_OLD>", "job", "<REPLACE_NEW>", "item", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "apply", "<KEEP>", "(", "<REPLACE_OLD>", "job", "<REPLACE_OLD>", "job", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "item", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "item", "<INSERT>", "instanceof", "<KEEP>", "job", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<KEEP>", "job", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ",", "<INSERT>", "?", "<INSERT>", ">", "<INSERT>", ")", "<INSERT>", "item", "<INSERT>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "buildable", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ":", "<INSERT>", "item", "<INSERT>", "instanceof", "<INSERT>", "buildable", "<INSERT>", "item", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9797615751828204, "using": 2, "keep": 1}
{"id": "eclipse_objectteams-21-5100", "old_comment": "true iff local can only be null for this flow info", "old_comment_tokens": ["true", "iff", "local", "can", "only", "be", "null", "for", "this", "flow", "info"], "new_comment": "true iff field or local can only be null for this flow info", "new_comment_tokens": ["true", "iff", "field", "or", "local", "can", "only", "be", "null", "for", "this", "flow", "info"], "old_code": "public boolean can only be null ( local variable binding local ) { return is definitely null ( local ) | | is protected null ( local ) ; }", "old_code_tokens": ["public", "boolean", "can", "only", "be", "null", "(", "local", "variable", "binding", "local", ")", "{", "return", "is", "definitely", "null", "(", "local", ")", "|", "|", "is", "protected", "null", "(", "local", ")", ";", "}"], "new_code": "public boolean can only be null ( variable binding binding ) { return is definitely null ( binding ) | | is protected null ( binding ) ; }", "new_code_tokens": ["public", "boolean", "can", "only", "be", "null", "(", "variable", "binding", "binding", ")", "{", "return", "is", "definitely", "null", "(", "binding", ")", "|", "|", "is", "protected", "null", "(", "binding", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean can only be null ( <KEEP_END> <DELETE> local <DELETE_END> <KEEP> variable binding <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) { return is definitely null ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) | | is protected null ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "can", "only", "be", "null", "(", "<KEEP_END>", "<DELETE>", "local", "<DELETE_END>", "<KEEP>", "variable", "binding", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "is", "definitely", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "|", "|", "is", "protected", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> iff <INSERT_NEW_KEEP_BEFORE> iff field or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "iff", "<INSERT_NEW_KEEP_BEFORE>", "iff", "field", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "can", "<KEEP>", "only", "<KEEP>", "be", "<KEEP>", "null", "<KEEP>", "(", "<DELETE>", "local", "<KEEP>", "variable", "<KEEP>", "binding", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "is", "<KEEP>", "definitely", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "is", "<KEEP>", "protected", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9105524457658554, "using": 0, "keep": 1}
{"id": "eclipse_webtools.common-18-5969", "old_comment": "a non - null array of the @ see workbench modules that match the given module type id", "old_comment_tokens": ["a", "non", "-", "null", "array", "of", "the", "@", "see", "workbench", "modules", "that", "match", "the", "given", "module", "type", "id"], "new_comment": "a non - null array of the @ see workbench components that match the given module type id", "new_comment_tokens": ["a", "non", "-", "null", "array", "of", "the", "@", "see", "workbench", "components", "that", "match", "the", "given", "module", "type", "id"], "old_code": "public workbench module [ ] find workbench module by type ( string a module type id ) { workbench module [ ] available modules = get workbench modules ( ) ; module type module type ; list results = new array list ( ) ; for ( int i = num ; i < available modules . length ; i + + ) { module type = available modules [ i ] . get module type ( ) ; if ( module type ! = null & & a module type id . equals ( module type . get module type id ( ) ) ) results . add ( available modules [ i ] ) ; } if ( results . size ( ) = = num ) return no _ modules ; return ( workbench module [ ] ) results . to array ( new workbench module [ results . size ( ) ] ) ; }", "old_code_tokens": ["public", "workbench", "module", "[", "]", "find", "workbench", "module", "by", "type", "(", "string", "a", "module", "type", "id", ")", "{", "workbench", "module", "[", "]", "available", "modules", "=", "get", "workbench", "modules", "(", ")", ";", "module", "type", "module", "type", ";", "list", "results", "=", "new", "array", "list", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "available", "modules", ".", "length", ";", "i", "+", "+", ")", "{", "module", "type", "=", "available", "modules", "[", "i", "]", ".", "get", "module", "type", "(", ")", ";", "if", "(", "module", "type", "!", "=", "null", "&", "&", "a", "module", "type", "id", ".", "equals", "(", "module", "type", ".", "get", "module", "type", "id", "(", ")", ")", ")", "results", ".", "add", "(", "available", "modules", "[", "i", "]", ")", ";", "}", "if", "(", "results", ".", "size", "(", ")", "=", "=", "num", ")", "return", "no", "_", "modules", ";", "return", "(", "workbench", "module", "[", "]", ")", "results", ".", "to", "array", "(", "new", "workbench", "module", "[", "results", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public workbench component [ ] find workbench module by type ( string a module type id ) { workbench component [ ] available modules = get workbench modules ( ) ; component type module type ; list results = new array list ( ) ; for ( int i = num ; i < available modules . length ; i + + ) { module type = available modules [ i ] . get module type ( ) ; if ( module type ! = null & & a module type id . equals ( module type . get module type id ( ) ) ) results . add ( available modules [ i ] ) ; } if ( results . size ( ) = = num ) return no _ modules ; return ( workbench component [ ] ) results . to array ( new workbench component [ results . size ( ) ] ) ; }", "new_code_tokens": ["public", "workbench", "component", "[", "]", "find", "workbench", "module", "by", "type", "(", "string", "a", "module", "type", "id", ")", "{", "workbench", "component", "[", "]", "available", "modules", "=", "get", "workbench", "modules", "(", ")", ";", "component", "type", "module", "type", ";", "list", "results", "=", "new", "array", "list", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "available", "modules", ".", "length", ";", "i", "+", "+", ")", "{", "module", "type", "=", "available", "modules", "[", "i", "]", ".", "get", "module", "type", "(", ")", ";", "if", "(", "module", "type", "!", "=", "null", "&", "&", "a", "module", "type", "id", ".", "equals", "(", "module", "type", ".", "get", "module", "type", "id", "(", ")", ")", ")", "results", ".", "add", "(", "available", "modules", "[", "i", "]", ")", ";", "}", "if", "(", "results", ".", "size", "(", ")", "=", "=", "num", ")", "return", "no", "_", "modules", ";", "return", "(", "workbench", "component", "[", "]", ")", "results", ".", "to", "array", "(", "new", "workbench", "component", "[", "results", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public workbench <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> [ ] find workbench module by type ( string a module type id ) { workbench <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> [ ] available modules = get workbench modules ( ) ; <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> type module type ; list results = new array list ( ) ; for ( int i = num ; i < available modules . length ; i + + ) { module type = available modules [ i ] . get module type ( ) ; if ( module type ! = null & & a module type id . equals ( module type . get module type id ( ) ) ) results . add ( available modules [ i ] ) ; } if ( results . size ( ) = = num ) return no _ modules ; return ( workbench <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> [ ] ) results . to array ( new workbench <KEEP_END> <REPLACE_OLD> module <REPLACE_NEW> component <REPLACE_END> <KEEP> [ results . size ( ) ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "workbench", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "[", "]", "find", "workbench", "module", "by", "type", "(", "string", "a", "module", "type", "id", ")", "{", "workbench", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "[", "]", "available", "modules", "=", "get", "workbench", "modules", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "type", "module", "type", ";", "list", "results", "=", "new", "array", "list", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "available", "modules", ".", "length", ";", "i", "+", "+", ")", "{", "module", "type", "=", "available", "modules", "[", "i", "]", ".", "get", "module", "type", "(", ")", ";", "if", "(", "module", "type", "!", "=", "null", "&", "&", "a", "module", "type", "id", ".", "equals", "(", "module", "type", ".", "get", "module", "type", "id", "(", ")", ")", ")", "results", ".", "add", "(", "available", "modules", "[", "i", "]", ")", ";", "}", "if", "(", "results", ".", "size", "(", ")", "=", "=", "num", ")", "return", "no", "_", "modules", ";", "return", "(", "workbench", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "[", "]", ")", "results", ".", "to", "array", "(", "new", "workbench", "<KEEP_END>", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "[", "results", ".", "size", "(", ")", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> modules <REPLACE_NEW> components <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "modules", "<REPLACE_NEW>", "components", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "find", "<KEEP>", "workbench", "<KEEP>", "module", "<KEEP>", "by", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "available", "<KEEP>", "modules", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "workbench", "<KEEP>", "modules", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "type", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "results", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "available", "<KEEP>", "modules", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "available", "<KEEP>", "modules", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "a", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "module", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "available", "<KEEP>", "modules", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "no", "<KEEP>", "_", "<KEEP>", "modules", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "[", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9549442205338117, "using": 0, "keep": 1}
{"id": "apache_ignite-392-3975", "old_comment": "event spi .", "old_comment_tokens": ["event", "spi", "."], "new_comment": "event storage spi .", "new_comment_tokens": ["event", "storage", "spi", "."], "old_code": "public grid bi tuple < string , map < string , object > > event storage spi ( ) { return evt spi ; }", "old_code_tokens": ["public", "grid", "bi", "tuple", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "event", "storage", "spi", "(", ")", "{", "return", "evt", "spi", ";", "}"], "new_code": "public t2 < string , map < string , object > > event storage spi ( ) { return evt spi ; }", "new_code_tokens": ["public", "t2", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "event", "storage", "spi", "(", ")", "{", "return", "evt", "spi", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> grid bi tuple <REPLACE_NEW> t2 <REPLACE_END> <KEEP> < string , map < string , object > > event storage spi ( ) { return evt spi ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "grid", "bi", "tuple", "<REPLACE_NEW>", "t2", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "event", "storage", "spi", "(", ")", "{", "return", "evt", "spi", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> event <INSERT_NEW_KEEP_BEFORE> event storage <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "event", "<INSERT_NEW_KEEP_BEFORE>", "event", "storage", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "grid", "<REPLACE_OLD>", "bi", "<REPLACE_OLD>", "tuple", "<REPLACE_NEW>", "t2", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "event", "<KEEP>", "storage", "<KEEP>", "spi", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "evt", "<KEEP>", "spi", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8119402430191213, "using": 1, "keep": 1}
{"id": "Netflix_Hystrix-4-210", "old_comment": "this hystrix command builder", "old_comment_tokens": ["this", "hystrix", "command", "builder"], "new_comment": "this hystrix command builder . builder", "new_comment_tokens": ["this", "hystrix", "command", "builder", ".", "builder"], "old_code": "public hystrix command builder ignore exceptions ( class < ? extends throwable > [ ] p ignore exceptions ) { this . ignore exceptions = p ignore exceptions ; return this ; }", "old_code_tokens": ["public", "hystrix", "command", "builder", "ignore", "exceptions", "(", "class", "<", "?", "extends", "throwable", ">", "[", "]", "p", "ignore", "exceptions", ")", "{", "this", ".", "ignore", "exceptions", "=", "p", "ignore", "exceptions", ";", "return", "this", ";", "}"], "new_code": "public builder ignore exceptions ( class < ? extends throwable > [ ] p ignore exceptions ) { this . ignore exceptions = immutable list . copy of ( p ignore exceptions ) ; return this ; }", "new_code_tokens": ["public", "builder", "ignore", "exceptions", "(", "class", "<", "?", "extends", "throwable", ">", "[", "]", "p", "ignore", "exceptions", ")", "{", "this", ".", "ignore", "exceptions", "=", "immutable", "list", ".", "copy", "of", "(", "p", "ignore", "exceptions", ")", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hystrix command <DELETE_END> <KEEP> builder ignore exceptions ( class < ? extends throwable > [ ] p ignore exceptions ) { this . ignore exceptions = <KEEP_END> <INSERT> immutable list . copy of ( <INSERT_END> <KEEP> p ignore exceptions <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hystrix", "command", "<DELETE_END>", "<KEEP>", "builder", "ignore", "exceptions", "(", "class", "<", "?", "extends", "throwable", ">", "[", "]", "p", "ignore", "exceptions", ")", "{", "this", ".", "ignore", "exceptions", "=", "<KEEP_END>", "<INSERT>", "immutable", "list", ".", "copy", "of", "(", "<INSERT_END>", "<KEEP>", "p", "ignore", "exceptions", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> builder <INSERT_NEW_KEEP_BEFORE> builder . builder <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "builder", "<INSERT_NEW_KEEP_BEFORE>", "builder", ".", "builder", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hystrix", "<DELETE>", "command", "<KEEP>", "builder", "<KEEP>", "ignore", "<KEEP>", "exceptions", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "throwable", "<KEEP>", ">", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "p", "<KEEP>", "ignore", "<KEEP>", "exceptions", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "ignore", "<KEEP>", "exceptions", "<KEEP>", "=", "<INSERT>", "immutable", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "copy", "<INSERT>", "of", "<INSERT>", "(", "<KEEP>", "p", "<KEEP>", "ignore", "<KEEP>", "exceptions", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8586135853723874, "using": 0, "keep": 1}
{"id": "eclipse_objectteams-123-5101", "old_comment": "true if at least one binding was denied .", "old_comment_tokens": ["true", "if", "at", "least", "one", "binding", "was", "denied", "."], "new_comment": "the set of denied teams", "new_comment_tokens": ["the", "set", "of", "denied", "teams"], "old_code": "boolean check aspect permission denial ( bundle aspect bundle , aspect binding aspect binding , collection < team binding > teams for base ) { boolean has denial = false ; string aspect bundle name = aspect bundle . get symbolic name ( ) ; if ( aspect bundle name = = null ) { log ( istatus . error , str + aspect bundle ) ; } else { for ( team binding team for base : teams for base ) if ( ! check team binding ( aspect bundle name , aspect binding . base plugin name , team for base . team name ) ) { has denial = true ; try { aspect bundle . stop ( ) ; log ( istatus . error , str + aspect bundle name + str ) ; } catch ( throwable t ) { log ( t , str + aspect bundle name + str ) ; } } } return has denial ; }", "old_code_tokens": ["boolean", "check", "aspect", "permission", "denial", "(", "bundle", "aspect", "bundle", ",", "aspect", "binding", "aspect", "binding", ",", "collection", "<", "team", "binding", ">", "teams", "for", "base", ")", "{", "boolean", "has", "denial", "=", "false", ";", "string", "aspect", "bundle", "name", "=", "aspect", "bundle", ".", "get", "symbolic", "name", "(", ")", ";", "if", "(", "aspect", "bundle", "name", "=", "=", "null", ")", "{", "log", "(", "istatus", ".", "error", ",", "str", "+", "aspect", "bundle", ")", ";", "}", "else", "{", "for", "(", "team", "binding", "team", "for", "base", ":", "teams", "for", "base", ")", "if", "(", "!", "check", "team", "binding", "(", "aspect", "bundle", "name", ",", "aspect", "binding", ".", "base", "plugin", "name", ",", "team", "for", "base", ".", "team", "name", ")", ")", "{", "has", "denial", "=", "true", ";", "try", "{", "aspect", "bundle", ".", "stop", "(", ")", ";", "log", "(", "istatus", ".", "error", ",", "str", "+", "aspect", "bundle", "name", "+", "str", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "log", "(", "t", ",", "str", "+", "aspect", "bundle", "name", "+", "str", ")", ";", "}", "}", "}", "return", "has", "denial", ";", "}"], "new_code": "set < team binding > check aspect permission denial ( collection < team binding > teams for base ) { set < team binding > denied teams = new hash set < team binding > ( ) ; for ( team binding team for base : teams for base ) { aspect binding aspect binding = team for base . get aspect binding ( ) ; string aspect bundle name = aspect binding . aspect plugin ; if ( aspect binding . has been denied ) { denied teams . add ( team for base ) ; } else { if ( ! check forced exports ( aspect binding ) ) { denied teams . add ( team for base ) ; stop aspect bundle ( aspect binding , aspect bundle name , str ) ; } else if ( ! check team binding ( aspect bundle name , aspect binding . base plugin name , team for base ) ) { denied teams . add ( team for base ) ; stop aspect bundle ( aspect binding , aspect bundle name , str ) ; } } } return denied teams ; }", "new_code_tokens": ["set", "<", "team", "binding", ">", "check", "aspect", "permission", "denial", "(", "collection", "<", "team", "binding", ">", "teams", "for", "base", ")", "{", "set", "<", "team", "binding", ">", "denied", "teams", "=", "new", "hash", "set", "<", "team", "binding", ">", "(", ")", ";", "for", "(", "team", "binding", "team", "for", "base", ":", "teams", "for", "base", ")", "{", "aspect", "binding", "aspect", "binding", "=", "team", "for", "base", ".", "get", "aspect", "binding", "(", ")", ";", "string", "aspect", "bundle", "name", "=", "aspect", "binding", ".", "aspect", "plugin", ";", "if", "(", "aspect", "binding", ".", "has", "been", "denied", ")", "{", "denied", "teams", ".", "add", "(", "team", "for", "base", ")", ";", "}", "else", "{", "if", "(", "!", "check", "forced", "exports", "(", "aspect", "binding", ")", ")", "{", "denied", "teams", ".", "add", "(", "team", "for", "base", ")", ";", "stop", "aspect", "bundle", "(", "aspect", "binding", ",", "aspect", "bundle", "name", ",", "str", ")", ";", "}", "else", "if", "(", "!", "check", "team", "binding", "(", "aspect", "bundle", "name", ",", "aspect", "binding", ".", "base", "plugin", "name", ",", "team", "for", "base", ")", ")", "{", "denied", "teams", ".", "add", "(", "team", "for", "base", ")", ";", "stop", "aspect", "bundle", "(", "aspect", "binding", ",", "aspect", "bundle", "name", ",", "str", ")", ";", "}", "}", "}", "return", "denied", "teams", ";", "}"], "span_diff_code": "<REPLACE_OLD> boolean <REPLACE_NEW> set < team binding > <REPLACE_END> <KEEP> check aspect permission denial ( <KEEP_END> <DELETE> bundle aspect bundle , aspect binding aspect binding , <DELETE_END> <KEEP> collection < team binding > teams for base ) { <KEEP_END> <REPLACE_OLD> boolean has denial <REPLACE_NEW> set < team binding > denied teams <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> false ; string aspect bundle name = aspect bundle . get symbolic name <REPLACE_NEW> new hash set < team binding > <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <DELETE> if ( aspect bundle name = = null ) { log ( istatus . error , str + aspect bundle ) ; } else { <DELETE_END> <KEEP> for ( team binding team for base : teams for base ) <KEEP_END> <INSERT> { aspect binding aspect binding = team for base . get aspect binding ( ) ; string aspect bundle name = aspect binding . aspect plugin ; if ( aspect binding . has been denied ) { denied teams . add ( team for base ) ; } else { if ( ! check forced exports ( aspect binding ) ) { denied teams . add ( team for base ) ; stop aspect bundle ( aspect binding , aspect bundle name , str ) ; } else <INSERT_END> <KEEP> if ( ! check team binding ( aspect bundle name , aspect binding . base plugin name , team for base <KEEP_END> <DELETE> . team name <DELETE_END> <KEEP> ) ) { <KEEP_END> <REPLACE_OLD> has denial = true <REPLACE_NEW> denied teams . add ( team for base ) <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> try { <REPLACE_NEW> stop <REPLACE_END> <KEEP> aspect bundle <KEEP_END> <DELETE> . stop <DELETE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ) ; log ( istatus . error <REPLACE_NEW> aspect binding <REPLACE_END> <KEEP> , <KEEP_END> <DELETE> str + <DELETE_END> <KEEP> aspect bundle name <KEEP_END> <DELETE> + str ) ; } catch ( throwable t ) { log ( t <DELETE_END> <KEEP> , <KEEP_END> <DELETE> str + aspect bundle name + <DELETE_END> <KEEP> str ) ; } } } return <KEEP_END> <REPLACE_OLD> has denial <REPLACE_NEW> denied teams <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "set", "<", "team", "binding", ">", "<REPLACE_END>", "<KEEP>", "check", "aspect", "permission", "denial", "(", "<KEEP_END>", "<DELETE>", "bundle", "aspect", "bundle", ",", "aspect", "binding", "aspect", "binding", ",", "<DELETE_END>", "<KEEP>", "collection", "<", "team", "binding", ">", "teams", "for", "base", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "has", "denial", "<REPLACE_NEW>", "set", "<", "team", "binding", ">", "denied", "teams", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "false", ";", "string", "aspect", "bundle", "name", "=", "aspect", "bundle", ".", "get", "symbolic", "name", "<REPLACE_NEW>", "new", "hash", "set", "<", "team", "binding", ">", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "aspect", "bundle", "name", "=", "=", "null", ")", "{", "log", "(", "istatus", ".", "error", ",", "str", "+", "aspect", "bundle", ")", ";", "}", "else", "{", "<DELETE_END>", "<KEEP>", "for", "(", "team", "binding", "team", "for", "base", ":", "teams", "for", "base", ")", "<KEEP_END>", "<INSERT>", "{", "aspect", "binding", "aspect", "binding", "=", "team", "for", "base", ".", "get", "aspect", "binding", "(", ")", ";", "string", "aspect", "bundle", "name", "=", "aspect", "binding", ".", "aspect", "plugin", ";", "if", "(", "aspect", "binding", ".", "has", "been", "denied", ")", "{", "denied", "teams", ".", "add", "(", "team", "for", "base", ")", ";", "}", "else", "{", "if", "(", "!", "check", "forced", "exports", "(", "aspect", "binding", ")", ")", "{", "denied", "teams", ".", "add", "(", "team", "for", "base", ")", ";", "stop", "aspect", "bundle", "(", "aspect", "binding", ",", "aspect", "bundle", "name", ",", "str", ")", ";", "}", "else", "<INSERT_END>", "<KEEP>", "if", "(", "!", "check", "team", "binding", "(", "aspect", "bundle", "name", ",", "aspect", "binding", ".", "base", "plugin", "name", ",", "team", "for", "base", "<KEEP_END>", "<DELETE>", ".", "team", "name", "<DELETE_END>", "<KEEP>", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "has", "denial", "=", "true", "<REPLACE_NEW>", "denied", "teams", ".", "add", "(", "team", "for", "base", ")", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "try", "{", "<REPLACE_NEW>", "stop", "<REPLACE_END>", "<KEEP>", "aspect", "bundle", "<KEEP_END>", "<DELETE>", ".", "stop", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "log", "(", "istatus", ".", "error", "<REPLACE_NEW>", "aspect", "binding", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<DELETE>", "str", "+", "<DELETE_END>", "<KEEP>", "aspect", "bundle", "name", "<KEEP_END>", "<DELETE>", "+", "str", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "log", "(", "t", "<DELETE_END>", "<KEEP>", ",", "<KEEP_END>", "<DELETE>", "str", "+", "aspect", "bundle", "name", "+", "<DELETE_END>", "<KEEP>", "str", ")", ";", "}", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "has", "denial", "<REPLACE_NEW>", "denied", "teams", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true if at least one binding was <REPLACE_NEW> the set of <REPLACE_END> <REPLACE_OLD> . <REPLACE_NEW> teams <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "if", "at", "least", "one", "binding", "was", "<REPLACE_NEW>", "the", "set", "of", "<REPLACE_END>", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "teams", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "team", "<REPLACE_NEW>", "binding", "<REPLACE_NEW>", ">", "<KEEP>", "check", "<KEEP>", "aspect", "<KEEP>", "permission", "<KEEP>", "denial", "<KEEP>", "(", "<DELETE>", "bundle", "<DELETE>", "aspect", "<DELETE>", "bundle", "<DELETE>", ",", "<DELETE>", "aspect", "<DELETE>", "binding", "<DELETE>", "aspect", "<DELETE>", "binding", "<DELETE>", ",", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "team", "<KEEP>", "binding", "<KEEP>", ">", "<KEEP>", "teams", "<KEEP>", "for", "<KEEP>", "base", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "denial", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "team", "<REPLACE_NEW>", "binding", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "denied", "<REPLACE_NEW>", "teams", "<KEEP>", "=", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "aspect", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "aspect", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "symbolic", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "team", "<REPLACE_NEW>", "binding", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "aspect", "<DELETE>", "bundle", "<DELETE>", "name", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "log", "<DELETE>", "(", "<DELETE>", "istatus", "<DELETE>", ".", "<DELETE>", "error", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "aspect", "<DELETE>", "bundle", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "team", "<KEEP>", "binding", "<KEEP>", "team", "<KEEP>", "for", "<KEEP>", "base", "<KEEP>", ":", "<KEEP>", "teams", "<KEEP>", "for", "<KEEP>", "base", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", "=", "<INSERT>", "team", "<INSERT>", "for", "<INSERT>", "base", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "string", "<INSERT>", "aspect", "<INSERT>", "bundle", "<INSERT>", "name", "<INSERT>", "=", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", ".", "<INSERT>", "aspect", "<INSERT>", "plugin", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "been", "<INSERT>", "denied", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "denied", "<INSERT>", "teams", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<INSERT>", "team", "<INSERT>", "for", "<INSERT>", "base", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "check", "<INSERT>", "forced", "<INSERT>", "exports", "<INSERT>", "(", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "denied", "<INSERT>", "teams", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<INSERT>", "team", "<INSERT>", "for", "<INSERT>", "base", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "stop", "<INSERT>", "aspect", "<INSERT>", "bundle", "<INSERT>", "(", "<INSERT>", "aspect", "<INSERT>", "binding", "<INSERT>", ",", "<INSERT>", "aspect", "<INSERT>", "bundle", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "check", "<KEEP>", "team", "<KEEP>", "binding", "<KEEP>", "(", "<KEEP>", "aspect", "<KEEP>", "bundle", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "aspect", "<KEEP>", "binding", "<KEEP>", ".", "<KEEP>", "base", "<KEEP>", "plugin", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "team", "<KEEP>", "for", "<KEEP>", "base", "<DELETE>", ".", "<DELETE>", "team", "<DELETE>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "denial", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "denied", "<REPLACE_NEW>", "teams", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "team", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "base", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "stop", "<KEEP>", "aspect", "<KEEP>", "bundle", "<DELETE>", ".", "<DELETE>", "stop", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "istatus", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "aspect", "<REPLACE_NEW>", "binding", "<KEEP>", ",", "<DELETE>", "str", "<DELETE>", "+", "<KEEP>", "aspect", "<KEEP>", "bundle", "<KEEP>", "name", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "throwable", "<DELETE>", "t", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "log", "<DELETE>", "(", "<DELETE>", "t", "<KEEP>", ",", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "aspect", "<DELETE>", "bundle", "<DELETE>", "name", "<DELETE>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "denial", "<REPLACE_NEW>", "denied", "<REPLACE_NEW>", "teams", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8280883039909049, "using": 2, "keep": 1}
{"id": "tyzlmjj_PagerBottomTabStrip-0-2743", "old_comment": "controller ,", "old_comment_tokens": ["controller", ","], "new_comment": "navigation controller ,", "new_comment_tokens": ["navigation", "controller", ","], "old_code": "public controller build ( ) { if ( default color ! = num ) { for ( material item view v : items ) { v . set color ( default color ) ; } } int n = items . size ( ) ; for ( int i = num ; i < n ; i + + ) { final int final i = i ; items . get ( i ) . set on click listener ( new on click listener ( ) { @ override public void on click ( view v ) { checked ( final i ) ; } } ) ; page bottom tab layout . this . add view ( items . get ( i ) ) ; } m items = new array list < base tab item > ( items ) ; return null ; }", "old_code_tokens": ["public", "controller", "build", "(", ")", "{", "if", "(", "default", "color", "!", "=", "num", ")", "{", "for", "(", "material", "item", "view", "v", ":", "items", ")", "{", "v", ".", "set", "color", "(", "default", "color", ")", ";", "}", "}", "int", "n", "=", "items", ".", "size", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "n", ";", "i", "+", "+", ")", "{", "final", "int", "final", "i", "=", "i", ";", "items", ".", "get", "(", "i", ")", ".", "set", "on", "click", "listener", "(", "new", "on", "click", "listener", "(", ")", "{", "@", "override", "public", "void", "on", "click", "(", "view", "v", ")", "{", "checked", "(", "final", "i", ")", ";", "}", "}", ")", ";", "page", "bottom", "tab", "layout", ".", "this", ".", "add", "view", "(", "items", ".", "get", "(", "i", ")", ")", ";", "}", "m", "items", "=", "new", "array", "list", "<", "base", "tab", "item", ">", "(", "items", ")", ";", "return", "null", ";", "}"], "new_code": "public navigation controller build ( ) { if ( items . size ( ) = = num ) { return null ; } if ( default color ! = num ) { for ( material item view v : items ) { v . set color ( default color ) ; } } material item layout material item layout = new material item layout ( get context ( ) ) ; material item layout . initialize ( items , mode ) ; material item layout . set padding ( num , m tab padding top , num , m tab padding bottom ) ; page bottom tab layout . this . remove all views ( ) ; page bottom tab layout . this . add view ( material item layout ) ; return material item layout ; }", "new_code_tokens": ["public", "navigation", "controller", "build", "(", ")", "{", "if", "(", "items", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "null", ";", "}", "if", "(", "default", "color", "!", "=", "num", ")", "{", "for", "(", "material", "item", "view", "v", ":", "items", ")", "{", "v", ".", "set", "color", "(", "default", "color", ")", ";", "}", "}", "material", "item", "layout", "material", "item", "layout", "=", "new", "material", "item", "layout", "(", "get", "context", "(", ")", ")", ";", "material", "item", "layout", ".", "initialize", "(", "items", ",", "mode", ")", ";", "material", "item", "layout", ".", "set", "padding", "(", "num", ",", "m", "tab", "padding", "top", ",", "num", ",", "m", "tab", "padding", "bottom", ")", ";", "page", "bottom", "tab", "layout", ".", "this", ".", "remove", "all", "views", "(", ")", ";", "page", "bottom", "tab", "layout", ".", "this", ".", "add", "view", "(", "material", "item", "layout", ")", ";", "return", "material", "item", "layout", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> navigation <INSERT_END> <KEEP> controller build ( ) { <KEEP_END> <INSERT> if ( items . size ( ) = = num ) { return null ; } <INSERT_END> <KEEP> if ( default color ! = num ) { for ( material item view v : items ) { v . set color ( default color ) ; } } <KEEP_END> <REPLACE_OLD> int n <REPLACE_NEW> material item layout material item layout <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> items . size <REPLACE_NEW> new material item layout ( get context <REPLACE_END> <KEEP> ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> for <REPLACE_NEW> material item layout . initialize <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> int i = num <REPLACE_NEW> items , mode ) <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> i < n ; i + + ) { final int final i = i ; items . get ( i ) <REPLACE_NEW> material item layout <REPLACE_END> <KEEP> . set <KEEP_END> <REPLACE_OLD> on click listener <REPLACE_NEW> padding <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> new on click listener ( ) { @ override public void on click ( view v ) { checked ( final i <REPLACE_NEW> num , m tab padding top , num , m tab padding bottom <REPLACE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> } } <REPLACE_NEW> page bottom tab layout . this . remove all views ( <REPLACE_END> <KEEP> ) ; page bottom tab layout . this . add view ( <KEEP_END> <REPLACE_OLD> items . get ( i ) ) ; } m items = new array list < base tab <REPLACE_NEW> material <REPLACE_END> <KEEP> item <KEEP_END> <REPLACE_OLD> > ( items <REPLACE_NEW> layout <REPLACE_END> <KEEP> ) ; return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> material item layout <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "navigation", "<INSERT_END>", "<KEEP>", "controller", "build", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "items", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "null", ";", "}", "<INSERT_END>", "<KEEP>", "if", "(", "default", "color", "!", "=", "num", ")", "{", "for", "(", "material", "item", "view", "v", ":", "items", ")", "{", "v", ".", "set", "color", "(", "default", "color", ")", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "int", "n", "<REPLACE_NEW>", "material", "item", "layout", "material", "item", "layout", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "items", ".", "size", "<REPLACE_NEW>", "new", "material", "item", "layout", "(", "get", "context", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "material", "item", "layout", ".", "initialize", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "int", "i", "=", "num", "<REPLACE_NEW>", "items", ",", "mode", ")", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "i", "<", "n", ";", "i", "+", "+", ")", "{", "final", "int", "final", "i", "=", "i", ";", "items", ".", "get", "(", "i", ")", "<REPLACE_NEW>", "material", "item", "layout", "<REPLACE_END>", "<KEEP>", ".", "set", "<KEEP_END>", "<REPLACE_OLD>", "on", "click", "listener", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "on", "click", "listener", "(", ")", "{", "@", "override", "public", "void", "on", "click", "(", "view", "v", ")", "{", "checked", "(", "final", "i", "<REPLACE_NEW>", "num", ",", "m", "tab", "padding", "top", ",", "num", ",", "m", "tab", "padding", "bottom", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "}", "<REPLACE_NEW>", "page", "bottom", "tab", "layout", ".", "this", ".", "remove", "all", "views", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "page", "bottom", "tab", "layout", ".", "this", ".", "add", "view", "(", "<KEEP_END>", "<REPLACE_OLD>", "items", ".", "get", "(", "i", ")", ")", ";", "}", "m", "items", "=", "new", "array", "list", "<", "base", "tab", "<REPLACE_NEW>", "material", "<REPLACE_END>", "<KEEP>", "item", "<KEEP_END>", "<REPLACE_OLD>", ">", "(", "items", "<REPLACE_NEW>", "layout", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "material", "item", "layout", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> controller <INSERT_NEW_KEEP_AFTER> navigation controller <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "controller", "<INSERT_NEW_KEEP_AFTER>", "navigation", "controller", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "navigation", "<KEEP>", "controller", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "items", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "default", "<KEEP>", "color", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "material", "<KEEP>", "item", "<KEEP>", "view", "<KEEP>", "v", "<KEEP>", ":", "<KEEP>", "items", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "v", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", "default", "<KEEP>", "color", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "layout", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "layout", "<KEEP>", "=", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "layout", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "context", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "layout", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "initialize", "<KEEP>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "items", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "n", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "layout", "<KEEP>", ".", "<KEEP>", "set", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", "click", "<REPLACE_OLD>", "listener", "<REPLACE_NEW>", "padding", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", "click", "<REPLACE_OLD>", "listener", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "override", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", "click", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", "v", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "checked", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "tab", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "tab", "<REPLACE_NEW>", "padding", "<REPLACE_NEW>", "bottom", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "page", "<REPLACE_NEW>", "bottom", "<REPLACE_NEW>", "tab", "<REPLACE_NEW>", "layout", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "remove", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "views", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "page", "<KEEP>", "bottom", "<KEEP>", "tab", "<KEEP>", "layout", "<KEEP>", ".", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "view", "<KEEP>", "(", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "tab", "<REPLACE_NEW>", "material", "<KEEP>", "item", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "items", "<REPLACE_NEW>", "layout", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "layout", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.920436639090581, "using": 2, "keep": 1}
{"id": "codehaus_aspectwerkz-62-4220", "old_comment": "the pointcut", "old_comment_tokens": ["the", "pointcut"], "new_comment": "the expression", "new_comment_tokens": ["the", "expression"], "old_code": "public string get expression ( ) { return m _ expression ; }", "old_code_tokens": ["public", "string", "get", "expression", "(", ")", "{", "return", "m", "_", "expression", ";", "}"], "new_code": "public expression get expression ( ) { return m _ expression ; }", "new_code_tokens": ["public", "expression", "get", "expression", "(", ")", "{", "return", "m", "_", "expression", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> expression <REPLACE_END> <KEEP> get expression ( ) { return m _ expression ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "expression", "<REPLACE_END>", "<KEEP>", "get", "expression", "(", ")", "{", "return", "m", "_", "expression", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> pointcut <REPLACE_NEW> expression <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "pointcut", "<REPLACE_NEW>", "expression", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "expression", "<KEEP>", "get", "<KEEP>", "expression", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "expression", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8643546650005438, "using": 1, "keep": 1}
{"id": "jenkinsci_structs-plugin-2-4045", "old_comment": "the symbol annotation value for the class that object represents , or null if the annotation is not present .", "old_comment_tokens": ["the", "symbol", "annotation", "value", "for", "the", "class", "that", "object", "represents", ",", "or", "null", "if", "the", "annotation", "is", "not", "present", "."], "new_comment": "the symbol annotation value for the class ( generally a descriptor that object represents , or null if the annotation is not present .", "new_comment_tokens": ["the", "symbol", "annotation", "value", "for", "the", "class", "(", "generally", "a", "descriptor", "that", "object", "represents", ",", "or", "null", "if", "the", "annotation", "is", "not", "present", "."], "old_code": "public static string get symbol value ( object o ) { return get symbol value ( o . get class ( ) ) ; }", "old_code_tokens": ["public", "static", "string", "get", "symbol", "value", "(", "object", "o", ")", "{", "return", "get", "symbol", "value", "(", "o", ".", "get", "class", "(", ")", ")", ";", "}"], "new_code": "public static string get symbol value ( object o ) { if ( o instanceof describable ) { return get symbol value ( ( ( describable ) o ) . get descriptor ( ) . get class ( ) ) ; } else { return get symbol value ( o . get class ( ) ) ; } }", "new_code_tokens": ["public", "static", "string", "get", "symbol", "value", "(", "object", "o", ")", "{", "if", "(", "o", "instanceof", "describable", ")", "{", "return", "get", "symbol", "value", "(", "(", "(", "describable", ")", "o", ")", ".", "get", "descriptor", "(", ")", ".", "get", "class", "(", ")", ")", ";", "}", "else", "{", "return", "get", "symbol", "value", "(", "o", ".", "get", "class", "(", ")", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static string get symbol value ( object o ) <KEEP_END> <INSERT> { if ( o instanceof describable ) { return get symbol value ( ( ( describable ) o ) . get descriptor ( ) . get class ( ) ) ; } else <INSERT_END> <KEEP> { return get symbol value ( o . get class ( ) ) ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "symbol", "value", "(", "object", "o", ")", "<KEEP_END>", "<INSERT>", "{", "if", "(", "o", "instanceof", "describable", ")", "{", "return", "get", "symbol", "value", "(", "(", "(", "describable", ")", "o", ")", ".", "get", "descriptor", "(", ")", ".", "get", "class", "(", ")", ")", ";", "}", "else", "<INSERT_END>", "<KEEP>", "{", "return", "get", "symbol", "value", "(", "o", ".", "get", "class", "(", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> class <INSERT_NEW_KEEP_BEFORE> class ( generally a descriptor <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "class", "<INSERT_NEW_KEEP_BEFORE>", "class", "(", "generally", "a", "descriptor", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "symbol", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "o", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "o", "<INSERT>", "instanceof", "<INSERT>", "describable", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "get", "<INSERT>", "symbol", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "describable", "<INSERT>", ")", "<INSERT>", "o", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "descriptor", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "class", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "symbol", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "o", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.8052803625029755, "using": 2, "keep": 1}
{"id": "gnodet_wikitext-65-6891", "old_comment": "abstract task container category where the new task must be added to , or null if it must not be added to the task list", "old_comment_tokens": ["abstract", "task", "container", "category", "where", "the", "new", "task", "must", "be", "added", "to", ",", "or", "null", "if", "it", "must", "not", "be", "added", "to", "the", "task", "list"], "new_comment": "abstract task list element category where the new task must be added to , or null if it must not be added to the task list", "new_comment_tokens": ["abstract", "task", "list", "element", "category", "where", "the", "new", "task", "must", "be", "added", "to", ",", "or", "null", "if", "it", "must", "not", "be", "added", "to", "the", "task", "list"], "old_code": "@ suppress warnings ( str ) protected abstract task container get category ( ) { int index = category chooser . get selection index ( ) ; if ( add to category . get selection ( ) & & index ! = - num ) { if ( index = = num ) { return tasks ui plugin . get task list manager ( ) . get task list ( ) . get uncategorized category ( ) ; } return ( ( list < abstract task container > ) category chooser . get data ( ) ) . get ( index - num ) ; } return null ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "protected", "abstract", "task", "container", "get", "category", "(", ")", "{", "int", "index", "=", "category", "chooser", ".", "get", "selection", "index", "(", ")", ";", "if", "(", "add", "to", "category", ".", "get", "selection", "(", ")", "&", "&", "index", "!", "=", "-", "num", ")", "{", "if", "(", "index", "=", "=", "num", ")", "{", "return", "tasks", "ui", "plugin", ".", "get", "task", "list", "manager", "(", ")", ".", "get", "task", "list", "(", ")", ".", "get", "uncategorized", "category", "(", ")", ";", "}", "return", "(", "(", "list", "<", "abstract", "task", "container", ">", ")", "category", "chooser", ".", "get", "data", "(", ")", ")", ".", "get", "(", "index", "-", "num", ")", ";", "}", "return", "null", ";", "}"], "new_code": "@ suppress warnings ( str ) protected abstract task list element get category ( ) { int index = category chooser . get selection index ( ) ; if ( add to category . get selection ( ) & & index ! = - num ) { if ( index = = num ) { return tasks ui plugin . get task list manager ( ) . get task list ( ) . get uncategorized category ( ) ; } return ( ( list < abstract task list element > ) category chooser . get data ( ) ) . get ( index - num ) ; } return null ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "protected", "abstract", "task", "list", "element", "get", "category", "(", ")", "{", "int", "index", "=", "category", "chooser", ".", "get", "selection", "index", "(", ")", ";", "if", "(", "add", "to", "category", ".", "get", "selection", "(", ")", "&", "&", "index", "!", "=", "-", "num", ")", "{", "if", "(", "index", "=", "=", "num", ")", "{", "return", "tasks", "ui", "plugin", ".", "get", "task", "list", "manager", "(", ")", ".", "get", "task", "list", "(", ")", ".", "get", "uncategorized", "category", "(", ")", ";", "}", "return", "(", "(", "list", "<", "abstract", "task", "list", "element", ">", ")", "category", "chooser", ".", "get", "data", "(", ")", ")", ".", "get", "(", "index", "-", "num", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) protected abstract task <KEEP_END> <REPLACE_OLD> container <REPLACE_NEW> list element <REPLACE_END> <KEEP> get category ( ) { int index = category chooser . get selection index ( ) ; if ( add to category . get selection ( ) & & index ! = - num ) { if ( index = = num ) { return tasks ui plugin . get task list manager ( ) . get task list ( ) . get uncategorized category ( ) ; } return ( ( list < abstract task <KEEP_END> <REPLACE_OLD> container <REPLACE_NEW> list element <REPLACE_END> <KEEP> > ) category chooser . get data ( ) ) . get ( index - num ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "protected", "abstract", "task", "<KEEP_END>", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "list", "element", "<REPLACE_END>", "<KEEP>", "get", "category", "(", ")", "{", "int", "index", "=", "category", "chooser", ".", "get", "selection", "index", "(", ")", ";", "if", "(", "add", "to", "category", ".", "get", "selection", "(", ")", "&", "&", "index", "!", "=", "-", "num", ")", "{", "if", "(", "index", "=", "=", "num", ")", "{", "return", "tasks", "ui", "plugin", ".", "get", "task", "list", "manager", "(", ")", ".", "get", "task", "list", "(", ")", ".", "get", "uncategorized", "category", "(", ")", ";", "}", "return", "(", "(", "list", "<", "abstract", "task", "<KEEP_END>", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "list", "element", "<REPLACE_END>", "<KEEP>", ">", ")", "category", "chooser", ".", "get", "data", "(", ")", ")", ".", "get", "(", "index", "-", "num", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> container <REPLACE_NEW> list element <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "container", "<REPLACE_NEW>", "list", "element", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "protected", "<KEEP>", "abstract", "<KEEP>", "task", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "element", "<KEEP>", "get", "<KEEP>", "category", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "category", "<KEEP>", "chooser", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selection", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "add", "<KEEP>", "to", "<KEEP>", "category", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selection", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "index", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "tasks", "<KEEP>", "ui", "<KEEP>", "plugin", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "task", "<KEEP>", "list", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "task", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "uncategorized", "<KEEP>", "category", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "abstract", "<KEEP>", "task", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "element", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "category", "<KEEP>", "chooser", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9958610971624257, "using": 2, "keep": 1}
{"id": "ronmamo_reflections-0-3661", "old_comment": "the set of urls , not null", "old_comment_tokens": ["the", "set", "of", "urls", ",", "not", "null"], "new_comment": "the collection of urls , not null", "new_comment_tokens": ["the", "collection", "of", "urls", ",", "not", "null"], "old_code": "public static set < url > for class loader ( ) { return for class loader ( class loaders ( ) ) ; }", "old_code_tokens": ["public", "static", "set", "<", "url", ">", "for", "class", "loader", "(", ")", "{", "return", "for", "class", "loader", "(", "class", "loaders", "(", ")", ")", ";", "}"], "new_code": "public static collection < url > for class loader ( ) { return for class loader ( class loaders ( ) ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "url", ">", "for", "class", "loader", "(", ")", "{", "return", "for", "class", "loader", "(", "class", "loaders", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > for class loader ( ) { return for class loader ( class loaders ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "for", "class", "loader", "(", ")", "{", "return", "for", "class", "loader", "(", "class", "loaders", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "for", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "for", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "loaders", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9884490710867871, "using": 2, "keep": 1}
{"id": "eclipse_sapphire-1-4113", "old_comment": "all context button menu entries , which are executable .", "old_comment_tokens": ["all", "context", "button", "menu", "entries", ",", "which", "are", "executable", "."], "new_comment": "all action handlers , which are executable .", "new_comment_tokens": ["all", "action", "handlers", ",", "which", "are", "executable", "."], "old_code": "private list < context button entry > get executable menu entries ( ) { list < context button entry > context button menu entries = get entry ( ) . get context button menu entries ( ) ; list < context button entry > menu entries = new array list < context button entry > ( ) ; for ( context button entry context button entry : context button menu entries ) { if ( context button entry . can execute ( ) ) { menu entries . add ( context button entry ) ; } } return menu entries ; }", "old_code_tokens": ["private", "list", "<", "context", "button", "entry", ">", "get", "executable", "menu", "entries", "(", ")", "{", "list", "<", "context", "button", "entry", ">", "context", "button", "menu", "entries", "=", "get", "entry", "(", ")", ".", "get", "context", "button", "menu", "entries", "(", ")", ";", "list", "<", "context", "button", "entry", ">", "menu", "entries", "=", "new", "array", "list", "<", "context", "button", "entry", ">", "(", ")", ";", "for", "(", "context", "button", "entry", "context", "button", "entry", ":", "context", "button", "menu", "entries", ")", "{", "if", "(", "context", "button", "entry", ".", "can", "execute", "(", ")", ")", "{", "menu", "entries", ".", "add", "(", "context", "button", "entry", ")", ";", "}", "}", "return", "menu", "entries", ";", "}"], "new_code": "private list < sapphire action handler > get executable menu entries ( ) { list < sapphire action handler > active handlers = get sapphire action ( ) . get active handlers ( ) ; list < sapphire action handler > menu entries = new array list < sapphire action handler > ( ) ; for ( sapphire action handler handler : active handlers ) { if ( handler . is enabled ( ) ) { menu entries . add ( handler ) ; } } return menu entries ; }", "new_code_tokens": ["private", "list", "<", "sapphire", "action", "handler", ">", "get", "executable", "menu", "entries", "(", ")", "{", "list", "<", "sapphire", "action", "handler", ">", "active", "handlers", "=", "get", "sapphire", "action", "(", ")", ".", "get", "active", "handlers", "(", ")", ";", "list", "<", "sapphire", "action", "handler", ">", "menu", "entries", "=", "new", "array", "list", "<", "sapphire", "action", "handler", ">", "(", ")", ";", "for", "(", "sapphire", "action", "handler", "handler", ":", "active", "handlers", ")", "{", "if", "(", "handler", ".", "is", "enabled", "(", ")", ")", "{", "menu", "entries", ".", "add", "(", "handler", ")", ";", "}", "}", "return", "menu", "entries", ";", "}"], "span_diff_code": "<KEEP> private list < <KEEP_END> <REPLACE_OLD> context button entry <REPLACE_NEW> sapphire action handler <REPLACE_END> <KEEP> > get executable menu entries ( ) { list < <KEEP_END> <REPLACE_OLD> context button entry <REPLACE_NEW> sapphire action handler <REPLACE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> context button menu entries <REPLACE_NEW> active handlers <REPLACE_END> <KEEP> = get <KEEP_END> <REPLACE_OLD> entry <REPLACE_NEW> sapphire action <REPLACE_END> <KEEP> ( ) . get <KEEP_END> <REPLACE_OLD> context button menu entries <REPLACE_NEW> active handlers <REPLACE_END> <KEEP> ( ) ; list < <KEEP_END> <REPLACE_OLD> context button entry <REPLACE_NEW> sapphire action handler <REPLACE_END> <KEEP> > menu entries = new array list < <KEEP_END> <REPLACE_OLD> context button entry <REPLACE_NEW> sapphire action handler <REPLACE_END> <KEEP> > ( ) ; for ( <KEEP_END> <REPLACE_OLD> context button entry context button entry <REPLACE_NEW> sapphire action handler handler <REPLACE_END> <KEEP> : <KEEP_END> <REPLACE_OLD> context button menu entries <REPLACE_NEW> active handlers <REPLACE_END> <KEEP> ) { if ( <KEEP_END> <REPLACE_OLD> context button entry <REPLACE_NEW> handler <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> can execute <REPLACE_NEW> is enabled <REPLACE_END> <KEEP> ( ) ) { menu entries . add ( <KEEP_END> <REPLACE_OLD> context button entry <REPLACE_NEW> handler <REPLACE_END> <KEEP> ) ; } } return menu entries ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "<REPLACE_NEW>", "sapphire", "action", "handler", "<REPLACE_END>", "<KEEP>", ">", "get", "executable", "menu", "entries", "(", ")", "{", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "<REPLACE_NEW>", "sapphire", "action", "handler", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "menu", "entries", "<REPLACE_NEW>", "active", "handlers", "<REPLACE_END>", "<KEEP>", "=", "get", "<KEEP_END>", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "action", "<REPLACE_END>", "<KEEP>", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "menu", "entries", "<REPLACE_NEW>", "active", "handlers", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "<REPLACE_NEW>", "sapphire", "action", "handler", "<REPLACE_END>", "<KEEP>", ">", "menu", "entries", "=", "new", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "<REPLACE_NEW>", "sapphire", "action", "handler", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "context", "button", "entry", "<REPLACE_NEW>", "sapphire", "action", "handler", "handler", "<REPLACE_END>", "<KEEP>", ":", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "menu", "entries", "<REPLACE_NEW>", "active", "handlers", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "can", "execute", "<REPLACE_NEW>", "is", "enabled", "<REPLACE_END>", "<KEEP>", "(", ")", ")", "{", "menu", "entries", ".", "add", "(", "<KEEP_END>", "<REPLACE_OLD>", "context", "button", "entry", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "}", "return", "menu", "entries", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> context button menu entries <REPLACE_NEW> action handlers <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "context", "button", "menu", "entries", "<REPLACE_NEW>", "action", "handlers", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "handler", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "executable", "<KEEP>", "menu", "<KEEP>", "entries", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "handler", "<KEEP>", ">", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "menu", "<REPLACE_OLD>", "entries", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "handlers", "<KEEP>", "=", "<KEEP>", "get", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "<REPLACE_NEW>", "action", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "menu", "<REPLACE_OLD>", "entries", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "handlers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "handler", "<KEEP>", ">", "<KEEP>", "menu", "<KEEP>", "entries", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "handler", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "sapphire", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", "handler", "<KEEP>", ":", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "menu", "<REPLACE_OLD>", "entries", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "handlers", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "handler", "<KEEP>", ".", "<REPLACE_OLD>", "can", "<REPLACE_OLD>", "execute", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "menu", "<KEEP>", "entries", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", "button", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "handler", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "menu", "<KEEP>", "entries", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9482339819442568, "using": 2, "keep": 1}
{"id": "Raizlabs_DBFlow-240-3328", "old_comment": "a new model class", "old_comment_tokens": ["a", "new", "model", "class"], "new_comment": "a new tmodel", "new_comment_tokens": ["a", "new", "tmodel"], "old_code": "public model class load from cursor ( cursor cursor ) { model class model = new instance ( ) ; load from cursor ( cursor , model ) ; return model ; }", "old_code_tokens": ["public", "model", "class", "load", "from", "cursor", "(", "cursor", "cursor", ")", "{", "model", "class", "model", "=", "new", "instance", "(", ")", ";", "load", "from", "cursor", "(", "cursor", ",", "model", ")", ";", "return", "model", ";", "}"], "new_code": "public tmodel load from cursor ( cursor cursor ) { tmodel model = new instance ( ) ; load from cursor ( cursor , model ) ; return model ; }", "new_code_tokens": ["public", "tmodel", "load", "from", "cursor", "(", "cursor", "cursor", ")", "{", "tmodel", "model", "=", "new", "instance", "(", ")", ";", "load", "from", "cursor", "(", "cursor", ",", "model", ")", ";", "return", "model", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END> <KEEP> load from cursor ( cursor cursor ) { <KEEP_END> <REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END> <KEEP> model = new instance ( ) ; load from cursor ( cursor , model ) ; return model ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>", "<KEEP>", "load", "from", "cursor", "(", "cursor", "cursor", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>", "<KEEP>", "model", "=", "new", "instance", "(", ")", ";", "load", "from", "cursor", "(", "cursor", ",", "model", ")", ";", "return", "model", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "tmodel", "<KEEP>", "load", "<KEEP>", "from", "<KEEP>", "cursor", "<KEEP>", "(", "<KEEP>", "cursor", "<KEEP>", "cursor", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "tmodel", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "load", "<KEEP>", "from", "<KEEP>", "cursor", "<KEEP>", "(", "<KEEP>", "cursor", "<KEEP>", ",", "<KEEP>", "model", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "model", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9719756206904139, "using": 2, "keep": 1}
{"id": "rabbitmq_rabbitmq-jms-client-10-5474", "old_comment": "false if timeout was reached before latch opens ; true if latch is open or opens while we are waiting .", "old_comment_tokens": ["false", "if", "timeout", "was", "reached", "before", "latch", "opens", ";", "true", "if", "latch", "is", "open", "or", "opens", "while", "we", "are", "waiting", "."], "new_comment": "null if timeout was reached before latch opens ; completion object if latch is open or opens while we are waiting .", "new_comment_tokens": ["null", "if", "timeout", "was", "reached", "before", "latch", "opens", ";", "completion", "object", "if", "latch", "is", "open", "or", "opens", "while", "we", "are", "waiting", "."], "old_code": "public boolean await ( long timeout , time unit unit ) throws interrupted exception { return sync . try acquire shared nanos ( num , unit . to nanos ( timeout ) ) ; }", "old_code_tokens": ["public", "boolean", "await", "(", "long", "timeout", ",", "time", "unit", "unit", ")", "throws", "interrupted", "exception", "{", "return", "sync", ".", "try", "acquire", "shared", "nanos", "(", "num", ",", "unit", ".", "to", "nanos", "(", "timeout", ")", ")", ";", "}"], "new_code": "public completion await ( long timeout , time unit unit ) throws interrupted exception { if ( sync . try acquire shared nanos ( num , unit . to nanos ( timeout ) ) ) return new completion ( ) ; else return null ; }", "new_code_tokens": ["public", "completion", "await", "(", "long", "timeout", ",", "time", "unit", "unit", ")", "throws", "interrupted", "exception", "{", "if", "(", "sync", ".", "try", "acquire", "shared", "nanos", "(", "num", ",", "unit", ".", "to", "nanos", "(", "timeout", ")", ")", ")", "return", "new", "completion", "(", ")", ";", "else", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> completion <REPLACE_END> <KEEP> await ( long timeout , time unit unit ) throws interrupted exception { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> if ( <REPLACE_END> <KEEP> sync . try acquire shared nanos ( num , unit . to nanos ( timeout ) ) <KEEP_END> <INSERT> ) return new completion ( ) ; else return null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "completion", "<REPLACE_END>", "<KEEP>", "await", "(", "long", "timeout", ",", "time", "unit", "unit", ")", "throws", "interrupted", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "(", "<REPLACE_END>", "<KEEP>", "sync", ".", "try", "acquire", "shared", "nanos", "(", "num", ",", "unit", ".", "to", "nanos", "(", "timeout", ")", ")", "<KEEP_END>", "<INSERT>", ")", "return", "new", "completion", "(", ")", ";", "else", "return", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <REPLACE_OLD> true <REPLACE_NEW> completion object <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "completion", "object", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "completion", "<KEEP>", "await", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "timeout", "<KEEP>", ",", "<KEEP>", "time", "<KEEP>", "unit", "<KEEP>", "unit", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "sync", "<KEEP>", ".", "<KEEP>", "try", "<KEEP>", "acquire", "<KEEP>", "shared", "<KEEP>", "nanos", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "unit", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "nanos", "<KEEP>", "(", "<KEEP>", "timeout", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "completion", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "return", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8220505539881937, "using": 1, "keep": 1}
{"id": "ulikoehler_1x1-0-3779", "old_comment": "the cipher", "old_comment_tokens": ["the", "cipher"], "new_comment": "the cipher name", "new_comment_tokens": ["the", "cipher", "name"], "old_code": "public string get cipher ( ) { return cipher ; }", "old_code_tokens": ["public", "string", "get", "cipher", "(", ")", "{", "return", "cipher", ";", "}"], "new_code": "public string get cipher ( ) { return cipher name ; }", "new_code_tokens": ["public", "string", "get", "cipher", "(", ")", "{", "return", "cipher", "name", ";", "}"], "span_diff_code": "<KEEP> public string get cipher ( ) { return cipher <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "cipher", "(", ")", "{", "return", "cipher", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> cipher <INSERT_NEW_KEEP_BEFORE> cipher name <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "cipher", "<INSERT_NEW_KEEP_BEFORE>", "cipher", "name", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "cipher", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "cipher", "<INSERT>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9920213134511943, "using": 2, "keep": 1}
{"id": "Omegaphora_external_libphonenumber-8-4572", "old_comment": "a valid number for the specified country and type . returns null when the metadata does not contain such information .", "old_comment_tokens": ["a", "valid", "number", "for", "the", "specified", "country", "and", "type", ".", "returns", "null", "when", "the", "metadata", "does", "not", "contain", "such", "information", "."], "new_comment": "a valid number for the specified region and type . returns null when the metadata does not contain such information .", "new_comment_tokens": ["a", "valid", "number", "for", "the", "specified", "region", "and", "type", ".", "returns", "null", "when", "the", "metadata", "does", "not", "contain", "such", "information", "."], "old_code": "public phone number get example number for type ( string region code , phone number type type ) { phone number desc desc = get number desc by type ( get metadata for region ( region code ) , type ) ; try { if ( desc . has example number ( ) ) { return parse ( desc . get example number ( ) , region code ) ; } } catch ( number parse exception e ) { logger . log ( level . severe , e . to string ( ) ) ; } return null ; }", "old_code_tokens": ["public", "phone", "number", "get", "example", "number", "for", "type", "(", "string", "region", "code", ",", "phone", "number", "type", "type", ")", "{", "phone", "number", "desc", "desc", "=", "get", "number", "desc", "by", "type", "(", "get", "metadata", "for", "region", "(", "region", "code", ")", ",", "type", ")", ";", "try", "{", "if", "(", "desc", ".", "has", "example", "number", "(", ")", ")", "{", "return", "parse", "(", "desc", ".", "get", "example", "number", "(", ")", ",", "region", "code", ")", ";", "}", "}", "catch", "(", "number", "parse", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "e", ".", "to", "string", "(", ")", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public phone number get example number for type ( string region code , phone number type type ) { if ( ! is valid region code ( region code ) ) { logger . log ( level . warning , str ) ; return null ; } phone number desc desc = get number desc by type ( get metadata for region ( region code ) , type ) ; try { if ( desc . has example number ( ) ) { return parse ( desc . get example number ( ) , region code ) ; } } catch ( number parse exception e ) { logger . log ( level . severe , e . to string ( ) ) ; } return null ; }", "new_code_tokens": ["public", "phone", "number", "get", "example", "number", "for", "type", "(", "string", "region", "code", ",", "phone", "number", "type", "type", ")", "{", "if", "(", "!", "is", "valid", "region", "code", "(", "region", "code", ")", ")", "{", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ")", ";", "return", "null", ";", "}", "phone", "number", "desc", "desc", "=", "get", "number", "desc", "by", "type", "(", "get", "metadata", "for", "region", "(", "region", "code", ")", ",", "type", ")", ";", "try", "{", "if", "(", "desc", ".", "has", "example", "number", "(", ")", ")", "{", "return", "parse", "(", "desc", ".", "get", "example", "number", "(", ")", ",", "region", "code", ")", ";", "}", "}", "catch", "(", "number", "parse", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "e", ".", "to", "string", "(", ")", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public phone number get example number for type ( string region code , phone number type type ) { <KEEP_END> <INSERT> if ( ! is valid region code ( region code ) ) { logger . log ( level . warning , str ) ; return null ; } <INSERT_END> <KEEP> phone number desc desc = get number desc by type ( get metadata for region ( region code ) , type ) ; try { if ( desc . has example number ( ) ) { return parse ( desc . get example number ( ) , region code ) ; } } catch ( number parse exception e ) { logger . log ( level . severe , e . to string ( ) ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "phone", "number", "get", "example", "number", "for", "type", "(", "string", "region", "code", ",", "phone", "number", "type", "type", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "!", "is", "valid", "region", "code", "(", "region", "code", ")", ")", "{", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ")", ";", "return", "null", ";", "}", "<INSERT_END>", "<KEEP>", "phone", "number", "desc", "desc", "=", "get", "number", "desc", "by", "type", "(", "get", "metadata", "for", "region", "(", "region", "code", ")", ",", "type", ")", ";", "try", "{", "if", "(", "desc", ".", "has", "example", "number", "(", ")", ")", "{", "return", "parse", "(", "desc", ".", "get", "example", "number", "(", ")", ",", "region", "code", ")", ";", "}", "}", "catch", "(", "number", "parse", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "e", ".", "to", "string", "(", ")", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> country <REPLACE_NEW> region <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "country", "<REPLACE_NEW>", "region", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", "get", "<KEEP>", "example", "<KEEP>", "number", "<KEEP>", "for", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "region", "<KEEP>", "code", "<KEEP>", ",", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", "type", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "is", "<INSERT>", "valid", "<INSERT>", "region", "<INSERT>", "code", "<INSERT>", "(", "<INSERT>", "region", "<INSERT>", "code", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "log", "<INSERT>", "(", "<INSERT>", "level", "<INSERT>", ".", "<INSERT>", "warning", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", "desc", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "number", "<KEEP>", "desc", "<KEEP>", "by", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "metadata", "<KEEP>", "for", "<KEEP>", "region", "<KEEP>", "(", "<KEEP>", "region", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "example", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "example", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "region", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "number", "<KEEP>", "parse", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "severe", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8197571241823524, "using": 0, "keep": 1}
{"id": "eclipse_objectteams-65-5102", "old_comment": "true if the acc default flag flag is included", "old_comment_tokens": ["true", "if", "the", "acc", "default", "flag", "flag", "is", "included"], "new_comment": "true if the acc default method flag is included", "new_comment_tokens": ["true", "if", "the", "acc", "default", "method", "flag", "is", "included"], "old_code": "public static boolean is default method ( int flags ) { return ( flags & acc default flag ) ! = num ; }", "old_code_tokens": ["public", "static", "boolean", "is", "default", "method", "(", "int", "flags", ")", "{", "return", "(", "flags", "&", "acc", "default", "flag", ")", "!", "=", "num", ";", "}"], "new_code": "public static boolean is default method ( int flags ) { return ( flags & acc default method ) ! = num ; }", "new_code_tokens": ["public", "static", "boolean", "is", "default", "method", "(", "int", "flags", ")", "{", "return", "(", "flags", "&", "acc", "default", "method", ")", "!", "=", "num", ";", "}"], "span_diff_code": "<KEEP> public static boolean is default method ( int flags ) { return ( flags & acc default <KEEP_END> <REPLACE_OLD> flag <REPLACE_NEW> method <REPLACE_END> <KEEP> ) ! = num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "default", "method", "(", "int", "flags", ")", "{", "return", "(", "flags", "&", "acc", "default", "<KEEP_END>", "<REPLACE_OLD>", "flag", "<REPLACE_NEW>", "method", "<REPLACE_END>", "<KEEP>", ")", "!", "=", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> default flag <REPLACE_NEW_KEEP_BEFORE> default method <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "default", "flag", "<REPLACE_NEW_KEEP_BEFORE>", "default", "method", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "default", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "flags", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "flags", "<KEEP>", "&", "<KEEP>", "acc", "<KEEP>", "default", "<REPLACE_OLD>", "flag", "<REPLACE_NEW>", "method", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9436918115100289, "using": 1, "keep": 1}
{"id": "andyglick_jaudiotagger-104-6317", "old_comment": "the format", "old_comment_tokens": ["the", "format"], "new_comment": "the format of the audio ( i . e . mpeg - 1 layer3 )", "new_comment_tokens": ["the", "format", "of", "the", "audio", "(", "i", ".", "e", ".", "mpeg", "-", "1", "layer3", ")"], "old_code": "public string get format ( ) { return mp3 frame header . get version as string ( ) + mp3 frame header . get layer as string ( ) ; }", "old_code_tokens": ["public", "string", "get", "format", "(", ")", "{", "return", "mp3", "frame", "header", ".", "get", "version", "as", "string", "(", ")", "+", "mp3", "frame", "header", ".", "get", "layer", "as", "string", "(", ")", ";", "}"], "new_code": "public string get format ( ) { return mp3 frame header . get version as string ( ) + str + mp3 frame header . get layer as string ( ) ; }", "new_code_tokens": ["public", "string", "get", "format", "(", ")", "{", "return", "mp3", "frame", "header", ".", "get", "version", "as", "string", "(", ")", "+", "str", "+", "mp3", "frame", "header", ".", "get", "layer", "as", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string get format ( ) { return mp3 frame header . get version as string ( ) + <KEEP_END> <INSERT> str + <INSERT_END> <KEEP> mp3 frame header . get layer as string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "format", "(", ")", "{", "return", "mp3", "frame", "header", ".", "get", "version", "as", "string", "(", ")", "+", "<KEEP_END>", "<INSERT>", "str", "+", "<INSERT_END>", "<KEEP>", "mp3", "frame", "header", ".", "get", "layer", "as", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> format <INSERT_NEW_KEEP_BEFORE> format of the audio ( i . e . mpeg - 1 layer3 ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "format", "<INSERT_NEW_KEEP_BEFORE>", "format", "of", "the", "audio", "(", "i", ".", "e", ".", "mpeg", "-", "1", "layer3", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "mp3", "<KEEP>", "frame", "<KEEP>", "header", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "as", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<INSERT>", "str", "<INSERT>", "+", "<KEEP>", "mp3", "<KEEP>", "frame", "<KEEP>", "header", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "layer", "<KEEP>", "as", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8495685366801801, "using": 1, "keep": 1}
{"id": "eclipse_nebula-12-3972", "old_comment": "height of each row", "old_comment_tokens": ["height", "of", "each", "row"], "new_comment": "default height of items", "new_comment_tokens": ["default", "height", "of", "items"], "old_code": "public int get item height ( ) { check widget ( ) ; return row height ; }", "old_code_tokens": ["public", "int", "get", "item", "height", "(", ")", "{", "check", "widget", "(", ")", ";", "return", "row", "height", ";", "}"], "new_code": "public int get item height ( ) { check widget ( ) ; return item height ; }", "new_code_tokens": ["public", "int", "get", "item", "height", "(", ")", "{", "check", "widget", "(", ")", ";", "return", "item", "height", ";", "}"], "span_diff_code": "<KEEP> public int get item height ( ) { check widget ( ) ; return <KEEP_END> <REPLACE_OLD> row <REPLACE_NEW> item <REPLACE_END> <KEEP> height ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "item", "height", "(", ")", "{", "check", "widget", "(", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "row", "<REPLACE_NEW>", "item", "<REPLACE_END>", "<KEEP>", "height", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> height <INSERT_NEW_KEEP_AFTER> default height <INSERT_END> <REPLACE_OLD> each row <REPLACE_NEW> items <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "height", "<INSERT_NEW_KEEP_AFTER>", "default", "height", "<INSERT_END>", "<REPLACE_OLD>", "each", "row", "<REPLACE_NEW>", "items", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "item", "<KEEP>", "height", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "widget", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "row", "<REPLACE_NEW>", "item", "<KEEP>", "height", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8671982599555921, "using": 1, "keep": 1}
{"id": "nickman_UnsafeAdapter-17-6440", "old_comment": "the total byte size of the allocation pointer operations", "old_comment_tokens": ["the", "total", "byte", "size", "of", "the", "allocation", "pointer", "operations"], "new_comment": "the total byte size of the allocation pointer", "new_comment_tokens": ["the", "total", "byte", "size", "of", "the", "allocation", "pointer"], "old_code": "public static final long get end offset ( final long address ) { return get end address ( address ) - address ; }", "old_code_tokens": ["public", "static", "final", "long", "get", "end", "offset", "(", "final", "long", "address", ")", "{", "return", "get", "end", "address", "(", "address", ")", "-", "address", ";", "}"], "new_code": "public static final long get end offset ( final long address ) { return get end address ( address ) - get address of dim ( address ) ; }", "new_code_tokens": ["public", "static", "final", "long", "get", "end", "offset", "(", "final", "long", "address", ")", "{", "return", "get", "end", "address", "(", "address", ")", "-", "get", "address", "of", "dim", "(", "address", ")", ";", "}"], "span_diff_code": "<KEEP> public static final long get end offset ( final long address ) { return get end address ( address ) - <KEEP_END> <INSERT> get <INSERT_END> <KEEP> address <KEEP_END> <INSERT> of dim ( address ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "long", "get", "end", "offset", "(", "final", "long", "address", ")", "{", "return", "get", "end", "address", "(", "address", ")", "-", "<KEEP_END>", "<INSERT>", "get", "<INSERT_END>", "<KEEP>", "address", "<KEEP_END>", "<INSERT>", "of", "dim", "(", "address", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> operations <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "operations", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "end", "<KEEP>", "offset", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "long", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "end", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "-", "<INSERT>", "get", "<KEEP>", "address", "<INSERT>", "of", "<INSERT>", "dim", "<INSERT>", "(", "<INSERT>", "address", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8445411645969321, "using": 0, "keep": 1}
{"id": "truemped_heritrix3-27-6348", "old_comment": "true if directory successfully added to job configs", "old_comment_tokens": ["true", "if", "directory", "successfully", "added", "to", "job", "configs"], "new_comment": "true if directory successfully added , false for any failure", "new_comment_tokens": ["true", "if", "directory", "successfully", "added", ",", "false", "for", "any", "failure"], "old_code": "public boolean add job directory ( file dir , boolean user request ) { file [ ] candidate configs = dir . list files ( new filename filter ( ) { public boolean accept ( file dir , string name ) { return name . ends with ( str ) ; } } ) ; if ( candidate configs . length = = num ) { return false ; } for ( file cxml : candidate configs ) { try { crawl job cj = new crawl job ( cxml ) ; if ( ! job configs . contains key ( cj . get short name ( ) ) ) { job configs . put ( cj . get short name ( ) , cj ) ; if ( user request ) { write job path file ( dir . get absolute path ( ) ) ; } logger . log ( level . info , str + cj . get short name ( ) ) ; } else { if ( user request ) { logger . log ( level . info , str + cj . get short name ( ) ) ; } } return true ; } catch ( illegal argument exception iae ) { logger . log ( level . warning , str + cxml , iae ) ; } } return false ; }", "old_code_tokens": ["public", "boolean", "add", "job", "directory", "(", "file", "dir", ",", "boolean", "user", "request", ")", "{", "file", "[", "]", "candidate", "configs", "=", "dir", ".", "list", "files", "(", "new", "filename", "filter", "(", ")", "{", "public", "boolean", "accept", "(", "file", "dir", ",", "string", "name", ")", "{", "return", "name", ".", "ends", "with", "(", "str", ")", ";", "}", "}", ")", ";", "if", "(", "candidate", "configs", ".", "length", "=", "=", "num", ")", "{", "return", "false", ";", "}", "for", "(", "file", "cxml", ":", "candidate", "configs", ")", "{", "try", "{", "crawl", "job", "cj", "=", "new", "crawl", "job", "(", "cxml", ")", ";", "if", "(", "!", "job", "configs", ".", "contains", "key", "(", "cj", ".", "get", "short", "name", "(", ")", ")", ")", "{", "job", "configs", ".", "put", "(", "cj", ".", "get", "short", "name", "(", ")", ",", "cj", ")", ";", "if", "(", "user", "request", ")", "{", "write", "job", "path", "file", "(", "dir", ".", "get", "absolute", "path", "(", ")", ")", ";", "}", "logger", ".", "log", "(", "level", ".", "info", ",", "str", "+", "cj", ".", "get", "short", "name", "(", ")", ")", ";", "}", "else", "{", "if", "(", "user", "request", ")", "{", "logger", ".", "log", "(", "level", ".", "info", ",", "str", "+", "cj", ".", "get", "short", "name", "(", ")", ")", ";", "}", "}", "return", "true", ";", "}", "catch", "(", "illegal", "argument", "exception", "iae", ")", "{", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", "+", "cxml", ",", "iae", ")", ";", "}", "}", "return", "false", ";", "}"], "new_code": "public boolean add job directory ( file dir ) { if ( dir = = null ) { return false ; } file [ ] candidate configs = dir . list files ( new filename filter ( ) { public boolean accept ( file dir , string name ) { return name . ends with ( str ) ; } } ) ; if ( candidate configs . length = = num ) { return false ; } if ( job configs . contains key ( dir . get name ( ) ) ) { return false ; } for ( file cxml : candidate configs ) { try { crawl job cj = new crawl job ( cxml ) ; if ( ! cj . get job dir ( ) . get parent file ( ) . equals ( get jobs dir ( ) ) ) { write job path file ( cj ) ; } job configs . put ( cj . get short name ( ) , cj ) ; logger . log ( level . info , str + cj . get short name ( ) ) ; return true ; } catch ( ioexception iae ) { logger . log ( level . severe , str + dir , iae ) ; } catch ( illegal argument exception iae ) { logger . log ( level . severe , str + cxml , iae ) ; } } return false ; }", "new_code_tokens": ["public", "boolean", "add", "job", "directory", "(", "file", "dir", ")", "{", "if", "(", "dir", "=", "=", "null", ")", "{", "return", "false", ";", "}", "file", "[", "]", "candidate", "configs", "=", "dir", ".", "list", "files", "(", "new", "filename", "filter", "(", ")", "{", "public", "boolean", "accept", "(", "file", "dir", ",", "string", "name", ")", "{", "return", "name", ".", "ends", "with", "(", "str", ")", ";", "}", "}", ")", ";", "if", "(", "candidate", "configs", ".", "length", "=", "=", "num", ")", "{", "return", "false", ";", "}", "if", "(", "job", "configs", ".", "contains", "key", "(", "dir", ".", "get", "name", "(", ")", ")", ")", "{", "return", "false", ";", "}", "for", "(", "file", "cxml", ":", "candidate", "configs", ")", "{", "try", "{", "crawl", "job", "cj", "=", "new", "crawl", "job", "(", "cxml", ")", ";", "if", "(", "!", "cj", ".", "get", "job", "dir", "(", ")", ".", "get", "parent", "file", "(", ")", ".", "equals", "(", "get", "jobs", "dir", "(", ")", ")", ")", "{", "write", "job", "path", "file", "(", "cj", ")", ";", "}", "job", "configs", ".", "put", "(", "cj", ".", "get", "short", "name", "(", ")", ",", "cj", ")", ";", "logger", ".", "log", "(", "level", ".", "info", ",", "str", "+", "cj", ".", "get", "short", "name", "(", ")", ")", ";", "return", "true", ";", "}", "catch", "(", "ioexception", "iae", ")", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "str", "+", "dir", ",", "iae", ")", ";", "}", "catch", "(", "illegal", "argument", "exception", "iae", ")", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "str", "+", "cxml", ",", "iae", ")", ";", "}", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public boolean add job directory ( file dir <KEEP_END> <REPLACE_OLD> , boolean user request ) { <REPLACE_NEW> ) { if ( dir = = null ) { return false ; } <REPLACE_END> <KEEP> file [ ] candidate configs = dir . list files ( new filename filter ( ) { public boolean accept ( file dir , string name ) { return name . ends with ( str ) ; } } ) ; if ( candidate configs . length = = num ) { return false ; } <KEEP_END> <INSERT> if ( job configs . contains key ( dir . get name ( ) ) ) { return false ; } <INSERT_END> <KEEP> for ( file cxml : candidate configs ) { try { crawl job cj = new crawl job ( cxml ) ; if ( ! <KEEP_END> <REPLACE_OLD> job configs . contains key <REPLACE_NEW> cj . get job dir ( ) . get parent file ( ) . equals ( get jobs dir ( ) ) ) { write job path file ( cj ) ; } job configs . put <REPLACE_END> <KEEP> ( cj . get short name ( ) <KEEP_END> <REPLACE_OLD> ) ) { job configs . put ( <REPLACE_NEW> , cj ) ; logger . log ( level . info , str + <REPLACE_END> <KEEP> cj . get short name ( ) <KEEP_END> <REPLACE_OLD> , cj ) ; if ( user request ) { write job path file ( dir . get absolute path ( ) ) ; } <REPLACE_NEW> ) ; return true ; } catch ( ioexception iae ) { <REPLACE_END> <KEEP> logger . log ( level . <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> severe <REPLACE_END> <KEEP> , str + <KEEP_END> <REPLACE_OLD> cj . get short name ( ) ) ; } else { if ( user request ) { logger . log ( level . info , str + cj . get short name ( ) ) ; } } return true <REPLACE_NEW> dir , iae ) <REPLACE_END> <KEEP> ; } catch ( illegal argument exception iae ) { logger . log ( level . <KEEP_END> <REPLACE_OLD> warning <REPLACE_NEW> severe <REPLACE_END> <KEEP> , str + cxml , iae ) ; } } return false ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "add", "job", "directory", "(", "file", "dir", "<KEEP_END>", "<REPLACE_OLD>", ",", "boolean", "user", "request", ")", "{", "<REPLACE_NEW>", ")", "{", "if", "(", "dir", "=", "=", "null", ")", "{", "return", "false", ";", "}", "<REPLACE_END>", "<KEEP>", "file", "[", "]", "candidate", "configs", "=", "dir", ".", "list", "files", "(", "new", "filename", "filter", "(", ")", "{", "public", "boolean", "accept", "(", "file", "dir", ",", "string", "name", ")", "{", "return", "name", ".", "ends", "with", "(", "str", ")", ";", "}", "}", ")", ";", "if", "(", "candidate", "configs", ".", "length", "=", "=", "num", ")", "{", "return", "false", ";", "}", "<KEEP_END>", "<INSERT>", "if", "(", "job", "configs", ".", "contains", "key", "(", "dir", ".", "get", "name", "(", ")", ")", ")", "{", "return", "false", ";", "}", "<INSERT_END>", "<KEEP>", "for", "(", "file", "cxml", ":", "candidate", "configs", ")", "{", "try", "{", "crawl", "job", "cj", "=", "new", "crawl", "job", "(", "cxml", ")", ";", "if", "(", "!", "<KEEP_END>", "<REPLACE_OLD>", "job", "configs", ".", "contains", "key", "<REPLACE_NEW>", "cj", ".", "get", "job", "dir", "(", ")", ".", "get", "parent", "file", "(", ")", ".", "equals", "(", "get", "jobs", "dir", "(", ")", ")", ")", "{", "write", "job", "path", "file", "(", "cj", ")", ";", "}", "job", "configs", ".", "put", "<REPLACE_END>", "<KEEP>", "(", "cj", ".", "get", "short", "name", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", ")", "{", "job", "configs", ".", "put", "(", "<REPLACE_NEW>", ",", "cj", ")", ";", "logger", ".", "log", "(", "level", ".", "info", ",", "str", "+", "<REPLACE_END>", "<KEEP>", "cj", ".", "get", "short", "name", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "cj", ")", ";", "if", "(", "user", "request", ")", "{", "write", "job", "path", "file", "(", "dir", ".", "get", "absolute", "path", "(", ")", ")", ";", "}", "<REPLACE_NEW>", ")", ";", "return", "true", ";", "}", "catch", "(", "ioexception", "iae", ")", "{", "<REPLACE_END>", "<KEEP>", "logger", ".", "log", "(", "level", ".", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "severe", "<REPLACE_END>", "<KEEP>", ",", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "cj", ".", "get", "short", "name", "(", ")", ")", ";", "}", "else", "{", "if", "(", "user", "request", ")", "{", "logger", ".", "log", "(", "level", ".", "info", ",", "str", "+", "cj", ".", "get", "short", "name", "(", ")", ")", ";", "}", "}", "return", "true", "<REPLACE_NEW>", "dir", ",", "iae", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "illegal", "argument", "exception", "iae", ")", "{", "logger", ".", "log", "(", "level", ".", "<KEEP_END>", "<REPLACE_OLD>", "warning", "<REPLACE_NEW>", "severe", "<REPLACE_END>", "<KEEP>", ",", "str", "+", "cxml", ",", "iae", ")", ";", "}", "}", "return", "false", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> to job configs <REPLACE_NEW> , false for any failure <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "to", "job", "configs", "<REPLACE_NEW>", ",", "false", "for", "any", "failure", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "add", "<KEEP>", "job", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "dir", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "file", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "candidate", "<KEEP>", "configs", "<KEEP>", "=", "<KEEP>", "dir", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "files", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "filename", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "dir", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "ends", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "candidate", "<KEEP>", "configs", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "job", "<INSERT>", "configs", "<INSERT>", ".", "<INSERT>", "contains", "<INSERT>", "key", "<INSERT>", "(", "<INSERT>", "dir", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "cxml", "<KEEP>", ":", "<KEEP>", "candidate", "<KEEP>", "configs", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "crawl", "<KEEP>", "job", "<KEEP>", "cj", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "crawl", "<KEEP>", "job", "<KEEP>", "(", "<KEEP>", "cxml", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<REPLACE_OLD>", "job", "<REPLACE_OLD>", "configs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "contains", "<REPLACE_OLD>", "key", "<REPLACE_NEW>", "cj", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "job", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "parent", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "jobs", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "write", "<REPLACE_NEW>", "job", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cj", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "job", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<KEEP>", "(", "<KEEP>", "cj", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "short", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "job", "<REPLACE_OLD>", "configs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "cj", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "logger", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<KEEP>", "cj", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "short", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "cj", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "write", "<REPLACE_OLD>", "job", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "dir", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "absolute", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ioexception", "<REPLACE_NEW>", "iae", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "severe", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "cj", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "short", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "logger", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "level", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "info", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "cj", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "short", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "iae", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "iae", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<REPLACE_OLD>", "warning", "<REPLACE_NEW>", "severe", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "cxml", "<KEEP>", ",", "<KEEP>", "iae", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8650068102003685, "using": 2, "keep": 1}
{"id": "icco_GooGrade-22-7212", "old_comment": "the assignment", "old_comment_tokens": ["the", "assignment"], "new_comment": "the assignment id", "new_comment_tokens": ["the", "assignment", "id"], "old_code": "public assignment get assgn ( ) { return assignment ; }", "old_code_tokens": ["public", "assignment", "get", "assgn", "(", ")", "{", "return", "assignment", ";", "}"], "new_code": "public int get assgn ( ) { return assignment ; }", "new_code_tokens": ["public", "int", "get", "assgn", "(", ")", "{", "return", "assignment", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> assignment <REPLACE_NEW> int <REPLACE_END> <KEEP> get assgn ( ) { return assignment ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "assignment", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "assgn", "(", ")", "{", "return", "assignment", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> assignment <INSERT_NEW_KEEP_BEFORE> assignment id <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "assignment", "<INSERT_NEW_KEEP_BEFORE>", "assignment", "id", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "assignment", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "assgn", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "assignment", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.845588533156706, "using": 1, "keep": 1}
{"id": "Burgestrand_jotify-20-4086", "old_comment": "length in seconds or - 1 if not available .", "old_comment_tokens": ["length", "in", "seconds", "or", "-", "1", "if", "not", "available", "."], "new_comment": "length in milliseconds or - 1 if not available .", "new_comment_tokens": ["length", "in", "milliseconds", "or", "-", "1", "if", "not", "available", "."], "old_code": "public int length ( ) { if ( this . player ! = null ) { return this . player . length ( ) ; } return - num ; }", "old_code_tokens": ["public", "int", "length", "(", ")", "{", "if", "(", "this", ".", "player", "!", "=", "null", ")", "{", "return", "this", ".", "player", ".", "length", "(", ")", ";", "}", "return", "-", "num", ";", "}"], "new_code": "public int length ( ) { if ( this . ogg player ! = null ) { return this . ogg player . length ( ) ; } return - num ; }", "new_code_tokens": ["public", "int", "length", "(", ")", "{", "if", "(", "this", ".", "ogg", "player", "!", "=", "null", ")", "{", "return", "this", ".", "ogg", "player", ".", "length", "(", ")", ";", "}", "return", "-", "num", ";", "}"], "span_diff_code": "<KEEP> public int length ( ) { if ( this . <KEEP_END> <INSERT> ogg <INSERT_END> <KEEP> player ! = null ) { return this . <KEEP_END> <INSERT> ogg <INSERT_END> <KEEP> player . length ( ) ; } return - num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "length", "(", ")", "{", "if", "(", "this", ".", "<KEEP_END>", "<INSERT>", "ogg", "<INSERT_END>", "<KEEP>", "player", "!", "=", "null", ")", "{", "return", "this", ".", "<KEEP_END>", "<INSERT>", "ogg", "<INSERT_END>", "<KEEP>", "player", ".", "length", "(", ")", ";", "}", "return", "-", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> seconds <REPLACE_NEW> milliseconds <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "seconds", "<REPLACE_NEW>", "milliseconds", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<INSERT>", "ogg", "<KEEP>", "player", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<INSERT>", "ogg", "<KEEP>", "player", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7924963226320086, "using": 0, "keep": 1}
{"id": "svn2github_cytoscape-85-6863", "old_comment": "a vector of strings representing the species for which the data source contains information", "old_comment_tokens": ["a", "vector", "of", "strings", "representing", "the", "species", "for", "which", "the", "data", "source", "contains", "information"], "new_comment": "a vector of strings representing the taxid for which the data source contains information", "new_comment_tokens": ["a", "vector", "of", "strings", "representing", "the", "taxid", "for", "which", "the", "data", "source", "contains", "information"], "old_code": "public vector get supported species ( ) { string sql = str ; result set rs = query ( sql ) ; if ( rs = = null ) { return empty _ vector ; } vector species = new vector ( ) ; try { while ( rs . next ( ) ) { string sp = ( string ) rs . get object ( num ) ; species . add ( sp ) ; } } catch ( sqlexception e ) { e . print stack trace ( ) ; return species ; } return species ; }", "old_code_tokens": ["public", "vector", "get", "supported", "species", "(", ")", "{", "string", "sql", "=", "str", ";", "result", "set", "rs", "=", "query", "(", "sql", ")", ";", "if", "(", "rs", "=", "=", "null", ")", "{", "return", "empty", "_", "vector", ";", "}", "vector", "species", "=", "new", "vector", "(", ")", ";", "try", "{", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "string", "sp", "=", "(", "string", ")", "rs", ".", "get", "object", "(", "num", ")", ";", "species", ".", "add", "(", "sp", ")", ";", "}", "}", "catch", "(", "sqlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "return", "species", ";", "}", "return", "species", ";", "}"], "new_code": "public vector get supported species ( ) { string sql = str ; result set rs = query ( sql ) ; if ( rs = = null ) { return empty _ vector ; } vector taxid = new vector ( ) ; try { while ( rs . next ( ) ) { string sp = rs . get string ( num ) ; taxid . add ( sp ) ; } } catch ( sqlexception e ) { e . print stack trace ( ) ; return taxid ; } return taxid ; }", "new_code_tokens": ["public", "vector", "get", "supported", "species", "(", ")", "{", "string", "sql", "=", "str", ";", "result", "set", "rs", "=", "query", "(", "sql", ")", ";", "if", "(", "rs", "=", "=", "null", ")", "{", "return", "empty", "_", "vector", ";", "}", "vector", "taxid", "=", "new", "vector", "(", ")", ";", "try", "{", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "string", "sp", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "taxid", ".", "add", "(", "sp", ")", ";", "}", "}", "catch", "(", "sqlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "return", "taxid", ";", "}", "return", "taxid", ";", "}"], "span_diff_code": "<KEEP> public vector get supported species ( ) { string sql = str ; result set rs = query ( sql ) ; if ( rs = = null ) { return empty _ vector ; } vector <KEEP_END> <REPLACE_OLD> species <REPLACE_NEW> taxid <REPLACE_END> <KEEP> = new vector ( ) ; try { while ( rs . next ( ) ) { string sp = <KEEP_END> <DELETE> ( string ) <DELETE_END> <KEEP> rs . get <KEEP_END> <REPLACE_OLD> object <REPLACE_NEW> string <REPLACE_END> <KEEP> ( num ) ; <KEEP_END> <REPLACE_OLD> species <REPLACE_NEW> taxid <REPLACE_END> <KEEP> . add ( sp ) ; } } catch ( sqlexception e ) { e . print stack trace ( ) ; return <KEEP_END> <REPLACE_OLD> species <REPLACE_NEW> taxid <REPLACE_END> <KEEP> ; } return <KEEP_END> <REPLACE_OLD> species <REPLACE_NEW> taxid <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "vector", "get", "supported", "species", "(", ")", "{", "string", "sql", "=", "str", ";", "result", "set", "rs", "=", "query", "(", "sql", ")", ";", "if", "(", "rs", "=", "=", "null", ")", "{", "return", "empty", "_", "vector", ";", "}", "vector", "<KEEP_END>", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<REPLACE_END>", "<KEEP>", "=", "new", "vector", "(", ")", ";", "try", "{", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "string", "sp", "=", "<KEEP_END>", "<DELETE>", "(", "string", ")", "<DELETE_END>", "<KEEP>", "rs", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "(", "num", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "sp", ")", ";", "}", "}", "catch", "(", "sqlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> species <REPLACE_NEW> taxid <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "vector", "<KEEP>", "get", "<KEEP>", "supported", "<KEEP>", "species", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "sql", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "vector", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "vector", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "vector", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "sp", "<KEEP>", "=", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ")", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "string", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "sp", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "sqlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "species", "<REPLACE_NEW>", "taxid", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9807705181403042, "using": 2, "keep": 1}
{"id": "google_protobuf-dt-9-4869", "old_comment": "the options available for the given option container , or an empty collection if the are not any options available for the given option container .", "old_comment_tokens": ["the", "options", "available", "for", "the", "given", "option", "container", ",", "or", "an", "empty", "collection", "if", "the", "are", "not", "any", "options", "available", "for", "the", "given", "option", "container", "."], "new_comment": "the options available for the given option or option container , or an empty collection if the are not any options available for the given option container .", "new_comment_tokens": ["the", "options", "available", "for", "the", "given", "option", "or", "option", "container", ",", "or", "an", "empty", "collection", "if", "the", "are", "not", "any", "options", "available", "for", "the", "given", "option", "container", "."], "old_code": "public collection < property > available option properties for ( eobject option container ) { if ( option container instanceof protobuf ) return file options ( ) ; if ( option container instanceof enum ) return enum options ( ) ; if ( option container instanceof message ) return message options ( ) ; return empty list ( ) ; }", "old_code_tokens": ["public", "collection", "<", "property", ">", "available", "option", "properties", "for", "(", "eobject", "option", "container", ")", "{", "if", "(", "option", "container", "instanceof", "protobuf", ")", "return", "file", "options", "(", ")", ";", "if", "(", "option", "container", "instanceof", "enum", ")", "return", "enum", "options", "(", ")", ";", "if", "(", "option", "container", "instanceof", "message", ")", "return", "message", "options", "(", ")", ";", "return", "empty", "list", "(", ")", ";", "}"], "new_code": "public collection < property > available option properties for ( eobject o ) { eobject target = o ; if ( target instanceof built in option ) target = target . e container ( ) ; if ( target instanceof protobuf ) return file options ( ) ; if ( target instanceof enum ) return enum options ( ) ; if ( target instanceof message ) return message options ( ) ; return empty list ( ) ; }", "new_code_tokens": ["public", "collection", "<", "property", ">", "available", "option", "properties", "for", "(", "eobject", "o", ")", "{", "eobject", "target", "=", "o", ";", "if", "(", "target", "instanceof", "built", "in", "option", ")", "target", "=", "target", ".", "e", "container", "(", ")", ";", "if", "(", "target", "instanceof", "protobuf", ")", "return", "file", "options", "(", ")", ";", "if", "(", "target", "instanceof", "enum", ")", "return", "enum", "options", "(", ")", ";", "if", "(", "target", "instanceof", "message", ")", "return", "message", "options", "(", ")", ";", "return", "empty", "list", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public collection < property > available option properties for ( eobject <KEEP_END> <REPLACE_OLD> option container <REPLACE_NEW> o <REPLACE_END> <KEEP> ) { <KEEP_END> <INSERT> eobject target = o ; <INSERT_END> <KEEP> if ( <KEEP_END> <INSERT> target instanceof built in <INSERT_END> <KEEP> option <KEEP_END> <INSERT> ) target = target . e <INSERT_END> <KEEP> container <KEEP_END> <INSERT> ( ) ; if ( target <INSERT_END> <KEEP> instanceof protobuf ) return file options ( ) ; if ( <KEEP_END> <REPLACE_OLD> option container <REPLACE_NEW> target <REPLACE_END> <KEEP> instanceof enum ) return enum options ( ) ; if ( <KEEP_END> <REPLACE_OLD> option container <REPLACE_NEW> target <REPLACE_END> <KEEP> instanceof message ) return message options ( ) ; return empty list ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "collection", "<", "property", ">", "available", "option", "properties", "for", "(", "eobject", "<KEEP_END>", "<REPLACE_OLD>", "option", "container", "<REPLACE_NEW>", "o", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "eobject", "target", "=", "o", ";", "<INSERT_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<INSERT>", "target", "instanceof", "built", "in", "<INSERT_END>", "<KEEP>", "option", "<KEEP_END>", "<INSERT>", ")", "target", "=", "target", ".", "e", "<INSERT_END>", "<KEEP>", "container", "<KEEP_END>", "<INSERT>", "(", ")", ";", "if", "(", "target", "<INSERT_END>", "<KEEP>", "instanceof", "protobuf", ")", "return", "file", "options", "(", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "container", "<REPLACE_NEW>", "target", "<REPLACE_END>", "<KEEP>", "instanceof", "enum", ")", "return", "enum", "options", "(", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "container", "<REPLACE_NEW>", "target", "<REPLACE_END>", "<KEEP>", "instanceof", "message", ")", "return", "message", "options", "(", ")", ";", "return", "empty", "list", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the options available for the given <INSERT_NEW_KEEP_BEFORE> the options available for the given option or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "options", "available", "for", "the", "given", "<INSERT_NEW_KEEP_BEFORE>", "the", "options", "available", "for", "the", "given", "option", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "property", "<KEEP>", ">", "<KEEP>", "available", "<KEEP>", "option", "<KEEP>", "properties", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "eobject", "<REPLACE_OLD>", "option", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "o", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "eobject", "<INSERT>", "target", "<INSERT>", "=", "<INSERT>", "o", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "target", "<INSERT>", "instanceof", "<INSERT>", "built", "<INSERT>", "in", "<KEEP>", "option", "<INSERT>", ")", "<INSERT>", "target", "<INSERT>", "=", "<INSERT>", "target", "<INSERT>", ".", "<INSERT>", "e", "<KEEP>", "container", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "target", "<KEEP>", "instanceof", "<KEEP>", "protobuf", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "file", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "target", "<KEEP>", "instanceof", "<KEEP>", "enum", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "enum", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "target", "<KEEP>", "instanceof", "<KEEP>", "message", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "message", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "empty", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9417213309479452, "using": 0, "keep": 1}
{"id": "graphhopper_graphhopper-33-3109", "old_comment": "the delta time in milliseconds", "old_comment_tokens": ["the", "delta", "time", "in", "milliseconds"], "new_comment": "the delta nano time in milliseconds", "new_comment_tokens": ["the", "delta", "nano", "time", "in", "milliseconds"], "old_code": "public long get time ( ) { return time / num ; }", "old_code_tokens": ["public", "long", "get", "time", "(", ")", "{", "return", "time", "/", "num", ";", "}"], "new_code": "public long get time ( ) { return nano time / num ; }", "new_code_tokens": ["public", "long", "get", "time", "(", ")", "{", "return", "nano", "time", "/", "num", ";", "}"], "span_diff_code": "<KEEP> public long get time ( ) { return <KEEP_END> <INSERT> nano <INSERT_END> <KEEP> time / num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "time", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "nano", "<INSERT_END>", "<KEEP>", "time", "/", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> delta <INSERT_NEW_KEEP_BEFORE> delta nano <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "delta", "<INSERT_NEW_KEEP_BEFORE>", "delta", "nano", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "nano", "<KEEP>", "time", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9212345820579297, "using": 1, "keep": 1}
{"id": "nuxeo_nuxeo-liveconnect-4-6728", "old_comment": "the optional or optional # empty ( ) if it fails", "old_comment_tokens": ["the", "optional", "or", "optional", "#", "empty", "(", ")", "if", "it", "fails"], "new_comment": "the uri or null if it fails", "new_comment_tokens": ["the", "uri", "or", "null", "if", "it", "fails"], "old_code": "protected optional < uri > as uri ( string link ) { try { return optional . of ( new uri ( link ) ) ; } catch ( urisyntax exception e ) { log . error ( str + link , e ) ; return optional . empty ( ) ; } }", "old_code_tokens": ["protected", "optional", "<", "uri", ">", "as", "uri", "(", "string", "link", ")", "{", "try", "{", "return", "optional", ".", "of", "(", "new", "uri", "(", "link", ")", ")", ";", "}", "catch", "(", "urisyntax", "exception", "e", ")", "{", "log", ".", "error", "(", "str", "+", "link", ",", "e", ")", ";", "return", "optional", ".", "empty", "(", ")", ";", "}", "}"], "new_code": "protected uri as uri ( string link ) { try { return new uri ( link ) ; } catch ( urisyntax exception e ) { log . error ( str + link , e ) ; return null ; } }", "new_code_tokens": ["protected", "uri", "as", "uri", "(", "string", "link", ")", "{", "try", "{", "return", "new", "uri", "(", "link", ")", ";", "}", "catch", "(", "urisyntax", "exception", "e", ")", "{", "log", ".", "error", "(", "str", "+", "link", ",", "e", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <DELETE> optional < <DELETE_END> <KEEP> uri <KEEP_END> <DELETE> > <DELETE_END> <KEEP> as uri ( string link ) { try { return <KEEP_END> <DELETE> optional . of ( <DELETE_END> <KEEP> new uri ( link <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ) ; } catch ( urisyntax exception e ) { log . error ( str + link , e ) ; return <KEEP_END> <REPLACE_OLD> optional . empty ( ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<DELETE>", "optional", "<", "<DELETE_END>", "<KEEP>", "uri", "<KEEP_END>", "<DELETE>", ">", "<DELETE_END>", "<KEEP>", "as", "uri", "(", "string", "link", ")", "{", "try", "{", "return", "<KEEP_END>", "<DELETE>", "optional", ".", "of", "(", "<DELETE_END>", "<KEEP>", "new", "uri", "(", "link", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "urisyntax", "exception", "e", ")", "{", "log", ".", "error", "(", "str", "+", "link", ",", "e", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "optional", ".", "empty", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the optional <REPLACE_NEW_KEEP_BEFORE> the uri <REPLACE_END> <REPLACE_OLD> optional # empty ( ) <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "optional", "<REPLACE_NEW_KEEP_BEFORE>", "the", "uri", "<REPLACE_END>", "<REPLACE_OLD>", "optional", "#", "empty", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<DELETE>", "optional", "<DELETE>", "<", "<KEEP>", "uri", "<DELETE>", ">", "<KEEP>", "as", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "link", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "optional", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<KEEP>", "new", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "link", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "urisyntax", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "link", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "optional", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8661825133969271, "using": 1, "keep": 1}
{"id": "svn2github_projetseg-28-3948", "old_comment": "returns true if path traversal should be stopped when hitting one of this node .", "old_comment_tokens": ["returns", "true", "if", "path", "traversal", "should", "be", "stopped", "when", "hitting", "one", "of", "this", "node", "."], "new_comment": "true if path traversal should be stopped when hitting one of this node .", "new_comment_tokens": ["true", "if", "path", "traversal", "should", "be", "stopped", "when", "hitting", "one", "of", "this", "node", "."], "old_code": "public boolean is path stopper ( path node node ) { return ( node instanceof connect ) | | ( node instanceof and fork ) | | ( node instanceof and join ) | | ( node instanceof or fork ) | | ( node instanceof or join ) | | ( node instanceof stub ) ; }", "old_code_tokens": ["public", "boolean", "is", "path", "stopper", "(", "path", "node", "node", ")", "{", "return", "(", "node", "instanceof", "connect", ")", "|", "|", "(", "node", "instanceof", "and", "fork", ")", "|", "|", "(", "node", "instanceof", "and", "join", ")", "|", "|", "(", "node", "instanceof", "or", "fork", ")", "|", "|", "(", "node", "instanceof", "or", "join", ")", "|", "|", "(", "node", "instanceof", "stub", ")", ";", "}"], "new_code": "public boolean is path stopper ( path node node ) { return super . is path stopper ( node ) | | ( node instanceof or fork ) | | ( node instanceof or join ) | | ( node instanceof stub ) ; }", "new_code_tokens": ["public", "boolean", "is", "path", "stopper", "(", "path", "node", "node", ")", "{", "return", "super", ".", "is", "path", "stopper", "(", "node", ")", "|", "|", "(", "node", "instanceof", "or", "fork", ")", "|", "|", "(", "node", "instanceof", "or", "join", ")", "|", "|", "(", "node", "instanceof", "stub", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is path stopper ( path node node ) { return <KEEP_END> <INSERT> super . is path stopper <INSERT_END> <KEEP> ( node <KEEP_END> <DELETE> instanceof connect ) | | ( node instanceof and fork ) | | ( node instanceof and join <DELETE_END> <KEEP> ) | | ( node instanceof or fork ) | | ( node instanceof or join ) | | ( node instanceof stub ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "path", "stopper", "(", "path", "node", "node", ")", "{", "return", "<KEEP_END>", "<INSERT>", "super", ".", "is", "path", "stopper", "<INSERT_END>", "<KEEP>", "(", "node", "<KEEP_END>", "<DELETE>", "instanceof", "connect", ")", "|", "|", "(", "node", "instanceof", "and", "fork", ")", "|", "|", "(", "node", "instanceof", "and", "join", "<DELETE_END>", "<KEEP>", ")", "|", "|", "(", "node", "instanceof", "or", "fork", ")", "|", "|", "(", "node", "instanceof", "or", "join", ")", "|", "|", "(", "node", "instanceof", "stub", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> returns <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "returns", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "path", "<KEEP>", "stopper", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", "node", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "super", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "path", "<INSERT>", "stopper", "<KEEP>", "(", "<KEEP>", "node", "<DELETE>", "instanceof", "<DELETE>", "connect", "<DELETE>", ")", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "(", "<DELETE>", "node", "<DELETE>", "instanceof", "<DELETE>", "and", "<DELETE>", "fork", "<DELETE>", ")", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "(", "<DELETE>", "node", "<DELETE>", "instanceof", "<DELETE>", "and", "<DELETE>", "join", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "or", "<KEEP>", "fork", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "or", "<KEEP>", "join", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "stub", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8738435826758771, "using": 0, "keep": 1}
{"id": "apache_tez-19-4276", "old_comment": "edge manager descriptor if a custom edge was setup , null otherwise .", "old_comment_tokens": ["edge", "manager", "descriptor", "if", "a", "custom", "edge", "was", "setup", ",", "null", "otherwise", "."], "new_comment": "edge manager plugin descriptor if a custom edge was setup , null otherwise .", "new_comment_tokens": ["edge", "manager", "plugin", "descriptor", "if", "a", "custom", "edge", "was", "setup", ",", "null", "otherwise", "."], "old_code": "@ private public edge manager descriptor get edge manager descriptor ( ) { return edge manager descriptor ; }", "old_code_tokens": ["@", "private", "public", "edge", "manager", "descriptor", "get", "edge", "manager", "descriptor", "(", ")", "{", "return", "edge", "manager", "descriptor", ";", "}"], "new_code": "@ private public edge manager plugin descriptor get edge manager descriptor ( ) { return edge manager descriptor ; }", "new_code_tokens": ["@", "private", "public", "edge", "manager", "plugin", "descriptor", "get", "edge", "manager", "descriptor", "(", ")", "{", "return", "edge", "manager", "descriptor", ";", "}"], "span_diff_code": "<KEEP> @ private public edge manager <KEEP_END> <INSERT> plugin <INSERT_END> <KEEP> descriptor get edge manager descriptor ( ) { return edge manager descriptor ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "private", "public", "edge", "manager", "<KEEP_END>", "<INSERT>", "plugin", "<INSERT_END>", "<KEEP>", "descriptor", "get", "edge", "manager", "descriptor", "(", ")", "{", "return", "edge", "manager", "descriptor", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> manager <INSERT_NEW_KEEP_BEFORE> manager plugin <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "manager", "<INSERT_NEW_KEEP_BEFORE>", "manager", "plugin", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "private", "<KEEP>", "public", "<KEEP>", "edge", "<KEEP>", "manager", "<INSERT>", "plugin", "<KEEP>", "descriptor", "<KEEP>", "get", "<KEEP>", "edge", "<KEEP>", "manager", "<KEEP>", "descriptor", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "edge", "<KEEP>", "manager", "<KEEP>", "descriptor", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9934228024244729, "using": 2, "keep": 1}
{"id": "svn2github_icefaces-0-5183", "old_comment": "row panel expander child of the table , or null", "old_comment_tokens": ["row", "panel", "expander", "child", "of", "the", "table", ",", "or", "null"], "new_comment": "panel expansion child of the table , or null", "new_comment_tokens": ["panel", "expansion", "child", "of", "the", "table", ",", "or", "null"], "old_code": "public row panel expander get panel expansion ( ) { for ( uicomponent kid : get children ( ) ) if ( kid instanceof row panel expander ) return ( row panel expander ) kid ; return null ; }", "old_code_tokens": ["public", "row", "panel", "expander", "get", "panel", "expansion", "(", ")", "{", "for", "(", "uicomponent", "kid", ":", "get", "children", "(", ")", ")", "if", "(", "kid", "instanceof", "row", "panel", "expander", ")", "return", "(", "row", "panel", "expander", ")", "kid", ";", "return", "null", ";", "}"], "new_code": "public panel expansion get panel expansion ( ) { for ( uicomponent kid : get children ( ) ) if ( kid instanceof panel expansion ) return ( panel expansion ) kid ; return null ; }", "new_code_tokens": ["public", "panel", "expansion", "get", "panel", "expansion", "(", ")", "{", "for", "(", "uicomponent", "kid", ":", "get", "children", "(", ")", ")", "if", "(", "kid", "instanceof", "panel", "expansion", ")", "return", "(", "panel", "expansion", ")", "kid", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> row <DELETE_END> <KEEP> panel <KEEP_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END> <KEEP> get panel expansion ( ) { for ( uicomponent kid : get children ( ) ) if ( kid instanceof <KEEP_END> <DELETE> row <DELETE_END> <KEEP> panel <KEEP_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END> <KEEP> ) return ( <KEEP_END> <DELETE> row <DELETE_END> <KEEP> panel <KEEP_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END> <KEEP> ) kid ; return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "row", "<DELETE_END>", "<KEEP>", "panel", "<KEEP_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>", "<KEEP>", "get", "panel", "expansion", "(", ")", "{", "for", "(", "uicomponent", "kid", ":", "get", "children", "(", ")", ")", "if", "(", "kid", "instanceof", "<KEEP_END>", "<DELETE>", "row", "<DELETE_END>", "<KEEP>", "panel", "<KEEP_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>", "<KEEP>", ")", "return", "(", "<KEEP_END>", "<DELETE>", "row", "<DELETE_END>", "<KEEP>", "panel", "<KEEP_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>", "<KEEP>", ")", "kid", ";", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> row <DELETE_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "row", "<DELETE_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "row", "<KEEP>", "panel", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<KEEP>", "get", "<KEEP>", "panel", "<KEEP>", "expansion", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "uicomponent", "<KEEP>", "kid", "<KEEP>", ":", "<KEEP>", "get", "<KEEP>", "children", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "kid", "<KEEP>", "instanceof", "<DELETE>", "row", "<KEEP>", "panel", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "(", "<DELETE>", "row", "<KEEP>", "panel", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<KEEP>", ")", "<KEEP>", "kid", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9677174667450164, "using": 2, "keep": 1}
{"id": "apache_struts-sandbox-31-5536", "old_comment": "newly created factory of type configurable definitions factory .", "old_comment_tokens": ["newly", "created", "factory", "of", "type", "configurable", "definitions", "factory", "."], "new_comment": "newly created impl of type configurable definitions factory .", "new_comment_tokens": ["newly", "created", "impl", "of", "type", "configurable", "definitions", "factory", "."], "old_code": "public static definitions factory create definitions factory ( tiles application context tiles context , definitions factory config factory config ) throws definitions factory exception { return tiles util impl . create definitions factory ( tiles context , factory config ) ; }", "old_code_tokens": ["public", "static", "definitions", "factory", "create", "definitions", "factory", "(", "tiles", "application", "context", "tiles", "context", ",", "definitions", "factory", "config", "factory", "config", ")", "throws", "definitions", "factory", "exception", "{", "return", "tiles", "util", "impl", ".", "create", "definitions", "factory", "(", "tiles", "context", ",", "factory", "config", ")", ";", "}"], "new_code": "public static definitions factory create definitions factory ( definitions factory config factory config ) throws definitions factory exception { return tiles util impl . create definitions factory ( factory config ) ; }", "new_code_tokens": ["public", "static", "definitions", "factory", "create", "definitions", "factory", "(", "definitions", "factory", "config", "factory", "config", ")", "throws", "definitions", "factory", "exception", "{", "return", "tiles", "util", "impl", ".", "create", "definitions", "factory", "(", "factory", "config", ")", ";", "}"], "span_diff_code": "<KEEP> public static definitions factory create definitions factory ( <KEEP_END> <DELETE> tiles application context tiles context , <DELETE_END> <KEEP> definitions factory config factory config ) throws definitions factory exception { return tiles util impl . create definitions factory ( <KEEP_END> <DELETE> tiles context , <DELETE_END> <KEEP> factory config ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "definitions", "factory", "create", "definitions", "factory", "(", "<KEEP_END>", "<DELETE>", "tiles", "application", "context", "tiles", "context", ",", "<DELETE_END>", "<KEEP>", "definitions", "factory", "config", "factory", "config", ")", "throws", "definitions", "factory", "exception", "{", "return", "tiles", "util", "impl", ".", "create", "definitions", "factory", "(", "<KEEP_END>", "<DELETE>", "tiles", "context", ",", "<DELETE_END>", "<KEEP>", "factory", "config", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> created factory <REPLACE_NEW_KEEP_BEFORE> created impl <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "created", "factory", "<REPLACE_NEW_KEEP_BEFORE>", "created", "impl", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "create", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "(", "<DELETE>", "tiles", "<DELETE>", "application", "<DELETE>", "context", "<DELETE>", "tiles", "<DELETE>", "context", "<DELETE>", ",", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "config", "<KEEP>", "factory", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "tiles", "<KEEP>", "util", "<KEEP>", "impl", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "(", "<DELETE>", "tiles", "<DELETE>", "context", "<DELETE>", ",", "<KEEP>", "factory", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8122322403283068, "using": 1, "keep": 1}
{"id": "infinum_MjolnirRecyclerView-2-6496", "old_comment": "true if @ param header view id is not 0 , false otherwise", "old_comment_tokens": ["true", "if", "@", "param", "header", "view", "id", "is", "not", "0", ",", "false", "otherwise"], "new_comment": "true if @ param header view id is not 0 or if @ param header view is not null , false otherwise", "new_comment_tokens": ["true", "if", "@", "param", "header", "view", "id", "is", "not", "0", "or", "if", "@", "param", "header", "view", "is", "not", "null", ",", "false", "otherwise"], "old_code": "private boolean has header ( ) { return header view id ! = num | | footer view ! = null ; }", "old_code_tokens": ["private", "boolean", "has", "header", "(", ")", "{", "return", "header", "view", "id", "!", "=", "num", "|", "|", "footer", "view", "!", "=", "null", ";", "}"], "new_code": "private boolean has header ( ) { return header view id ! = num | | header view ! = null ; }", "new_code_tokens": ["private", "boolean", "has", "header", "(", ")", "{", "return", "header", "view", "id", "!", "=", "num", "|", "|", "header", "view", "!", "=", "null", ";", "}"], "span_diff_code": "<KEEP> private boolean has header ( ) { return header view id ! = num | | <KEEP_END> <REPLACE_OLD> footer <REPLACE_NEW> header <REPLACE_END> <KEEP> view ! = null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "has", "header", "(", ")", "{", "return", "header", "view", "id", "!", "=", "num", "|", "|", "<KEEP_END>", "<REPLACE_OLD>", "footer", "<REPLACE_NEW>", "header", "<REPLACE_END>", "<KEEP>", "view", "!", "=", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> 0 <INSERT_NEW_KEEP_BEFORE> 0 or if @ param header view is not null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "0", "<INSERT_NEW_KEEP_BEFORE>", "0", "or", "if", "@", "param", "header", "view", "is", "not", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "header", "<KEEP>", "view", "<KEEP>", "id", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<REPLACE_OLD>", "footer", "<REPLACE_NEW>", "header", "<KEEP>", "view", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9288689768788269, "using": 0, "keep": 1}
{"id": "apache_webservices-neethi-5-4274", "old_comment": "the wrapped omelement", "old_comment_tokens": ["the", "wrapped", "omelement"], "new_comment": "the wrapped element", "new_comment_tokens": ["the", "wrapped", "element"], "old_code": "public omelement get value ( ) { return element ; }", "old_code_tokens": ["public", "omelement", "get", "value", "(", ")", "{", "return", "element", ";", "}"], "new_code": "public element get value ( ) { return element ; }", "new_code_tokens": ["public", "element", "get", "value", "(", ")", "{", "return", "element", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> omelement <REPLACE_NEW> element <REPLACE_END> <KEEP> get value ( ) { return element ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "omelement", "<REPLACE_NEW>", "element", "<REPLACE_END>", "<KEEP>", "get", "value", "(", ")", "{", "return", "element", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> omelement <REPLACE_NEW> element <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "omelement", "<REPLACE_NEW>", "element", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "omelement", "<REPLACE_NEW>", "element", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "element", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9812794374559476, "using": 2, "keep": 1}
{"id": "apache_tez-18-4275", "old_comment": "the org . apache . tez . dag . api . edge manager context for the input", "old_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "dag", ".", "api", ".", "edge", "manager", "context", "for", "the", "input"], "new_comment": "the org . apache . tez . dag . api . edge manager plugin context for the input", "new_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "dag", ".", "api", ".", "edge", "manager", "plugin", "context", "for", "the", "input"], "old_code": "public edge manager context get context ( ) { return this . context ; }", "old_code_tokens": ["public", "edge", "manager", "context", "get", "context", "(", ")", "{", "return", "this", ".", "context", ";", "}"], "new_code": "public edge manager plugin context get context ( ) { return this . context ; }", "new_code_tokens": ["public", "edge", "manager", "plugin", "context", "get", "context", "(", ")", "{", "return", "this", ".", "context", ";", "}"], "span_diff_code": "<KEEP> public edge manager <KEEP_END> <INSERT> plugin <INSERT_END> <KEEP> context get context ( ) { return this . context ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "edge", "manager", "<KEEP_END>", "<INSERT>", "plugin", "<INSERT_END>", "<KEEP>", "context", "get", "context", "(", ")", "{", "return", "this", ".", "context", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> manager <INSERT_NEW_KEEP_BEFORE> manager plugin <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "manager", "<INSERT_NEW_KEEP_BEFORE>", "manager", "plugin", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "edge", "<KEEP>", "manager", "<INSERT>", "plugin", "<KEEP>", "context", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9942749262084375, "using": 2, "keep": 1}
{"id": "Ramblurr_Anki-Android-50-5848", "old_comment": "an int array , containing due , reps , time , current deckdue", "old_comment_tokens": ["an", "int", "array", ",", "containing", "due", ",", "reps", ",", "time", ",", "current", "deckdue"], "new_comment": "an int array , containing due , time , eta , current deckdue", "new_comment_tokens": ["an", "int", "array", ",", "containing", "due", ",", "time", ",", "eta", ",", "current", "deckdue"], "old_code": "public static int [ ] get widget small status ( context context ) { open dbif closed ( context ) ; cursor cursor = null ; int due = num ; int time = num ; int current deckdue = num ; int reps = num ; string current deck = pref settings . get shared prefs ( context ) . get string ( str , str ) ; try { cursor = m meta db . query ( str , new string [ ] { str , str , str , str , str , str } , null , null , null , null , null ) ; while ( cursor . move to next ( ) ) { int d = cursor . get int ( num ) + cursor . get int ( num ) + cursor . get int ( num ) ; due + = d ; reps + = cursor . get int ( num ) ; time + = cursor . get int ( num ) ; if ( current deck . equals ( cursor . get string ( num ) ) ) { current deckdue = d ; } } } finally { if ( cursor ! = null & & ! cursor . is closed ( ) ) { cursor . close ( ) ; } } return new int [ ] { due , reps , time , current deckdue } ; }", "old_code_tokens": ["public", "static", "int", "[", "]", "get", "widget", "small", "status", "(", "context", "context", ")", "{", "open", "dbif", "closed", "(", "context", ")", ";", "cursor", "cursor", "=", "null", ";", "int", "due", "=", "num", ";", "int", "time", "=", "num", ";", "int", "current", "deckdue", "=", "num", ";", "int", "reps", "=", "num", ";", "string", "current", "deck", "=", "pref", "settings", ".", "get", "shared", "prefs", "(", "context", ")", ".", "get", "string", "(", "str", ",", "str", ")", ";", "try", "{", "cursor", "=", "m", "meta", "db", ".", "query", "(", "str", ",", "new", "string", "[", "]", "{", "str", ",", "str", ",", "str", ",", "str", ",", "str", ",", "str", "}", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "while", "(", "cursor", ".", "move", "to", "next", "(", ")", ")", "{", "int", "d", "=", "cursor", ".", "get", "int", "(", "num", ")", "+", "cursor", ".", "get", "int", "(", "num", ")", "+", "cursor", ".", "get", "int", "(", "num", ")", ";", "due", "+", "=", "d", ";", "reps", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "time", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "if", "(", "current", "deck", ".", "equals", "(", "cursor", ".", "get", "string", "(", "num", ")", ")", ")", "{", "current", "deckdue", "=", "d", ";", "}", "}", "}", "finally", "{", "if", "(", "cursor", "!", "=", "null", "&", "&", "!", "cursor", ".", "is", "closed", "(", ")", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "return", "new", "int", "[", "]", "{", "due", ",", "reps", ",", "time", ",", "current", "deckdue", "}", ";", "}"], "new_code": "public static int [ ] get widget small status ( context context ) { open dbif closed ( context ) ; cursor cursor = null ; int due = num ; int eta = num ; int current deckdue = num ; int time = num ; string current deck = pref settings . get shared prefs ( context ) . get string ( str , str ) ; try { cursor = m meta db . query ( str , new string [ ] { str , str , str , str , str , str } , null , null , null , null , null ) ; while ( cursor . move to next ( ) ) { int d = cursor . get int ( num ) + cursor . get int ( num ) + cursor . get int ( num ) ; due + = d ; time + = cursor . get int ( num ) ; eta + = cursor . get int ( num ) ; if ( current deck . equals ( cursor . get string ( num ) ) ) { current deckdue = d ; } } } catch ( sqlite exception e ) { log . e ( anki droid app . tag , str , e ) ; } finally { if ( cursor ! = null & & ! cursor . is closed ( ) ) { cursor . close ( ) ; } } return new int [ ] { due , time , eta , current deckdue } ; }", "new_code_tokens": ["public", "static", "int", "[", "]", "get", "widget", "small", "status", "(", "context", "context", ")", "{", "open", "dbif", "closed", "(", "context", ")", ";", "cursor", "cursor", "=", "null", ";", "int", "due", "=", "num", ";", "int", "eta", "=", "num", ";", "int", "current", "deckdue", "=", "num", ";", "int", "time", "=", "num", ";", "string", "current", "deck", "=", "pref", "settings", ".", "get", "shared", "prefs", "(", "context", ")", ".", "get", "string", "(", "str", ",", "str", ")", ";", "try", "{", "cursor", "=", "m", "meta", "db", ".", "query", "(", "str", ",", "new", "string", "[", "]", "{", "str", ",", "str", ",", "str", ",", "str", ",", "str", ",", "str", "}", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "while", "(", "cursor", ".", "move", "to", "next", "(", ")", ")", "{", "int", "d", "=", "cursor", ".", "get", "int", "(", "num", ")", "+", "cursor", ".", "get", "int", "(", "num", ")", "+", "cursor", ".", "get", "int", "(", "num", ")", ";", "due", "+", "=", "d", ";", "time", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "eta", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "if", "(", "current", "deck", ".", "equals", "(", "cursor", ".", "get", "string", "(", "num", ")", ")", ")", "{", "current", "deckdue", "=", "d", ";", "}", "}", "}", "catch", "(", "sqlite", "exception", "e", ")", "{", "log", ".", "e", "(", "anki", "droid", "app", ".", "tag", ",", "str", ",", "e", ")", ";", "}", "finally", "{", "if", "(", "cursor", "!", "=", "null", "&", "&", "!", "cursor", ".", "is", "closed", "(", ")", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "return", "new", "int", "[", "]", "{", "due", ",", "time", ",", "eta", ",", "current", "deckdue", "}", ";", "}"], "span_diff_code": "<KEEP> public static int [ ] get widget small status ( context context ) { open dbif closed ( context ) ; cursor cursor = null ; int due = num ; int <KEEP_END> <INSERT> eta = num ; int current deckdue = num ; int <INSERT_END> <KEEP> time <KEEP_END> <DELETE> = num ; int current deckdue = num ; int reps <DELETE_END> <KEEP> = num ; string current deck = pref settings . get shared prefs ( context ) . get string ( str , str ) ; try { cursor = m meta db . query ( str , new string [ ] { str , str , str , str , str , str } , null , null , null , null , null ) ; while ( cursor . move to next ( ) ) { int d = cursor . get int ( num ) + cursor . get int ( num ) + cursor . get int ( num ) ; due + = d ; <KEEP_END> <DELETE> reps + = cursor . get int ( num ) ; <DELETE_END> <KEEP> time + = cursor . get int ( num ) ; <KEEP_END> <INSERT> eta + = cursor . get int ( num ) ; <INSERT_END> <KEEP> if ( current deck . equals ( cursor . get string ( num ) ) ) { current deckdue = d ; } } <KEEP_END> <INSERT> } catch ( sqlite exception e ) { log . e ( anki droid app . tag , str , e ) ; <INSERT_END> <KEEP> } finally { if ( cursor ! = null & & ! cursor . is closed ( ) ) { cursor . close ( ) ; } } return new int [ ] { due , <KEEP_END> <DELETE> reps , <DELETE_END> <KEEP> time , <KEEP_END> <INSERT> eta , <INSERT_END> <KEEP> current deckdue } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "int", "[", "]", "get", "widget", "small", "status", "(", "context", "context", ")", "{", "open", "dbif", "closed", "(", "context", ")", ";", "cursor", "cursor", "=", "null", ";", "int", "due", "=", "num", ";", "int", "<KEEP_END>", "<INSERT>", "eta", "=", "num", ";", "int", "current", "deckdue", "=", "num", ";", "int", "<INSERT_END>", "<KEEP>", "time", "<KEEP_END>", "<DELETE>", "=", "num", ";", "int", "current", "deckdue", "=", "num", ";", "int", "reps", "<DELETE_END>", "<KEEP>", "=", "num", ";", "string", "current", "deck", "=", "pref", "settings", ".", "get", "shared", "prefs", "(", "context", ")", ".", "get", "string", "(", "str", ",", "str", ")", ";", "try", "{", "cursor", "=", "m", "meta", "db", ".", "query", "(", "str", ",", "new", "string", "[", "]", "{", "str", ",", "str", ",", "str", ",", "str", ",", "str", ",", "str", "}", ",", "null", ",", "null", ",", "null", ",", "null", ",", "null", ")", ";", "while", "(", "cursor", ".", "move", "to", "next", "(", ")", ")", "{", "int", "d", "=", "cursor", ".", "get", "int", "(", "num", ")", "+", "cursor", ".", "get", "int", "(", "num", ")", "+", "cursor", ".", "get", "int", "(", "num", ")", ";", "due", "+", "=", "d", ";", "<KEEP_END>", "<DELETE>", "reps", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "<DELETE_END>", "<KEEP>", "time", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "<KEEP_END>", "<INSERT>", "eta", "+", "=", "cursor", ".", "get", "int", "(", "num", ")", ";", "<INSERT_END>", "<KEEP>", "if", "(", "current", "deck", ".", "equals", "(", "cursor", ".", "get", "string", "(", "num", ")", ")", ")", "{", "current", "deckdue", "=", "d", ";", "}", "}", "<KEEP_END>", "<INSERT>", "}", "catch", "(", "sqlite", "exception", "e", ")", "{", "log", ".", "e", "(", "anki", "droid", "app", ".", "tag", ",", "str", ",", "e", ")", ";", "<INSERT_END>", "<KEEP>", "}", "finally", "{", "if", "(", "cursor", "!", "=", "null", "&", "&", "!", "cursor", ".", "is", "closed", "(", ")", ")", "{", "cursor", ".", "close", "(", ")", ";", "}", "}", "return", "new", "int", "[", "]", "{", "due", ",", "<KEEP_END>", "<DELETE>", "reps", ",", "<DELETE_END>", "<KEEP>", "time", ",", "<KEEP_END>", "<INSERT>", "eta", ",", "<INSERT_END>", "<KEEP>", "current", "deckdue", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> reps <REPLACE_NEW> time <REPLACE_END> <REPLACE_OLD> time <REPLACE_NEW> eta <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "reps", "<REPLACE_NEW>", "time", "<REPLACE_END>", "<REPLACE_OLD>", "time", "<REPLACE_NEW>", "eta", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "widget", "<KEEP>", "small", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "open", "<KEEP>", "dbif", "<KEEP>", "closed", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cursor", "<KEEP>", "cursor", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "due", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "int", "<INSERT>", "eta", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "current", "<INSERT>", "deckdue", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "int", "<KEEP>", "time", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "int", "<DELETE>", "current", "<DELETE>", "deckdue", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "int", "<DELETE>", "reps", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "current", "<KEEP>", "deck", "<KEEP>", "=", "<KEEP>", "pref", "<KEEP>", "settings", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "shared", "<KEEP>", "prefs", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "cursor", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "meta", "<KEEP>", "db", "<KEEP>", ".", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "}", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "move", "<KEEP>", "to", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "d", "<KEEP>", "=", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "due", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "d", "<KEEP>", ";", "<DELETE>", "reps", "<DELETE>", "+", "<DELETE>", "=", "<DELETE>", "cursor", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "int", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "time", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "eta", "<INSERT>", "+", "<INSERT>", "=", "<INSERT>", "cursor", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "int", "<INSERT>", "(", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "deck", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "deckdue", "<KEEP>", "=", "<KEEP>", "d", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "sqlite", "<INSERT>", "exception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "log", "<INSERT>", ".", "<INSERT>", "e", "<INSERT>", "(", "<INSERT>", "anki", "<INSERT>", "droid", "<INSERT>", "app", "<INSERT>", ".", "<INSERT>", "tag", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "cursor", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "closed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "due", "<KEEP>", ",", "<DELETE>", "reps", "<DELETE>", ",", "<KEEP>", "time", "<KEEP>", ",", "<INSERT>", "eta", "<INSERT>", ",", "<KEEP>", "current", "<KEEP>", "deckdue", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9868216000830579, "using": 2, "keep": 1}
{"id": "softctrl_SCAndMoneyManagerEX-88-4885", "old_comment": "query object .", "old_comment_tokens": ["query", "object", "."], "new_comment": "select object .", "new_comment_tokens": ["select", "object", "."], "old_code": "public query where ( string selection ) { this . selection = selection ; return this ; }", "old_code_tokens": ["public", "query", "where", "(", "string", "selection", ")", "{", "this", ".", "selection", "=", "selection", ";", "return", "this", ";", "}"], "new_code": "public select where ( string selection ) { this . selection = selection ; return this ; }", "new_code_tokens": ["public", "select", "where", "(", "string", "selection", ")", "{", "this", ".", "selection", "=", "selection", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> query <REPLACE_NEW> select <REPLACE_END> <KEEP> where ( string selection ) { this . selection = selection ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "select", "<REPLACE_END>", "<KEEP>", "where", "(", "string", "selection", ")", "{", "this", ".", "selection", "=", "selection", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> query <REPLACE_NEW> select <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "query", "<REPLACE_NEW>", "select", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "select", "<KEEP>", "where", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "selection", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "selection", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9957523386787294, "using": 2, "keep": 1}
{"id": "apache_harmony-classlib-2-7159", "old_comment": "returns greater than zero when this . float value ( ) > object . float value ( ) , zero when this . float value ( ) = = object . float value ( ) , and less than zero when this . float value ( ) < object . float value ( )", "old_comment_tokens": ["returns", "greater", "than", "zero", "when", "this", ".", "float", "value", "(", ")", ">", "object", ".", "float", "value", "(", ")", ",", "zero", "when", "this", ".", "float", "value", "(", ")", "=", "=", "object", ".", "float", "value", "(", ")", ",", "and", "less", "than", "zero", "when", "this", ".", "float", "value", "(", ")", "<", "object", ".", "float", "value", "(", ")"], "new_comment": "returns greater than zero when this . float value ( ) is greater than object . float value ( ) , zero when this . float value ( ) equals object . float value ( ) , and less than zero when this . float value ( ) is less than object . float value ( )", "new_comment_tokens": ["returns", "greater", "than", "zero", "when", "this", ".", "float", "value", "(", ")", "is", "greater", "than", "object", ".", "float", "value", "(", ")", ",", "zero", "when", "this", ".", "float", "value", "(", ")", "equals", "object", ".", "float", "value", "(", ")", ",", "and", "less", "than", "zero", "when", "this", ".", "float", "value", "(", ")", "is", "less", "than", "object", ".", "float", "value", "(", ")"], "old_code": "public int compare to ( float object ) { return value > object . value ? num : ( value < object . value ? - num : num ) ; }", "old_code_tokens": ["public", "int", "compare", "to", "(", "float", "object", ")", "{", "return", "value", ">", "object", ".", "value", "?", "num", ":", "(", "value", "<", "object", ".", "value", "?", "-", "num", ":", "num", ")", ";", "}"], "new_code": "public int compare to ( float object ) { int f1 , f2 ; int na nbits = float . float to int bits ( float . na n ) ; if ( ( f1 = float . float to int bits ( value ) ) = = na nbits ) { if ( float . float to int bits ( object . value ) = = na nbits ) { return num ; } return num ; } if ( ( f2 = float . float to int bits ( object . value ) ) = = na nbits ) { return - num ; } if ( value = = object . value ) { if ( f1 = = f2 ) { return num ; } return f1 > f2 ? num : - num ; } return value > object . value ? num : - num ; }", "new_code_tokens": ["public", "int", "compare", "to", "(", "float", "object", ")", "{", "int", "f1", ",", "f2", ";", "int", "na", "nbits", "=", "float", ".", "float", "to", "int", "bits", "(", "float", ".", "na", "n", ")", ";", "if", "(", "(", "f1", "=", "float", ".", "float", "to", "int", "bits", "(", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "float", ".", "float", "to", "int", "bits", "(", "object", ".", "value", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "f2", "=", "float", ".", "float", "to", "int", "bits", "(", "object", ".", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "value", "=", "=", "object", ".", "value", ")", "{", "if", "(", "f1", "=", "=", "f2", ")", "{", "return", "num", ";", "}", "return", "f1", ">", "f2", "?", "num", ":", "-", "num", ";", "}", "return", "value", ">", "object", ".", "value", "?", "num", ":", "-", "num", ";", "}"], "span_diff_code": "<KEEP> public int compare to ( float object ) { <KEEP_END> <INSERT> int f1 , f2 ; int na nbits = float . float to int bits ( float . na n ) ; if ( ( f1 = float . float to int bits ( value ) ) = = na nbits ) { if ( float . float to int bits ( object . value ) = = na nbits ) { return num ; } return num ; } if ( ( f2 = float . float to int bits ( object . value ) ) = = na nbits ) { return - num ; } if ( value = = object . value ) { if ( f1 = = f2 ) { return num ; } return f1 > f2 ? num : - num ; } <INSERT_END> <KEEP> return value > object . value ? num : <KEEP_END> <DELETE> ( value < object . value ? <DELETE_END> <KEEP> - num <KEEP_END> <DELETE> : num ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "compare", "to", "(", "float", "object", ")", "{", "<KEEP_END>", "<INSERT>", "int", "f1", ",", "f2", ";", "int", "na", "nbits", "=", "float", ".", "float", "to", "int", "bits", "(", "float", ".", "na", "n", ")", ";", "if", "(", "(", "f1", "=", "float", ".", "float", "to", "int", "bits", "(", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "float", ".", "float", "to", "int", "bits", "(", "object", ".", "value", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "f2", "=", "float", ".", "float", "to", "int", "bits", "(", "object", ".", "value", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "value", "=", "=", "object", ".", "value", ")", "{", "if", "(", "f1", "=", "=", "f2", ")", "{", "return", "num", ";", "}", "return", "f1", ">", "f2", "?", "num", ":", "-", "num", ";", "}", "<INSERT_END>", "<KEEP>", "return", "value", ">", "object", ".", "value", "?", "num", ":", "<KEEP_END>", "<DELETE>", "(", "value", "<", "object", ".", "value", "?", "<DELETE_END>", "<KEEP>", "-", "num", "<KEEP_END>", "<DELETE>", ":", "num", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> > <REPLACE_NEW> is greater than <REPLACE_END> <REPLACE_OLD> = = <REPLACE_NEW> equals <REPLACE_END> <REPLACE_OLD> < <REPLACE_NEW> is less than <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ">", "<REPLACE_NEW>", "is", "greater", "than", "<REPLACE_END>", "<REPLACE_OLD>", "=", "=", "<REPLACE_NEW>", "equals", "<REPLACE_END>", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", "is", "less", "than", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "float", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "int", "<INSERT>", "f1", "<INSERT>", ",", "<INSERT>", "f2", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", "=", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "na", "<INSERT>", "n", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "f1", "<INSERT>", "=", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "f2", "<INSERT>", "=", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "value", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "object", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "f1", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "f2", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "f1", "<INSERT>", ">", "<INSERT>", "f2", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "value", "<KEEP>", ">", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "?", "<KEEP>", "num", "<KEEP>", ":", "<DELETE>", "(", "<DELETE>", "value", "<DELETE>", "<", "<DELETE>", "object", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", "?", "<KEEP>", "-", "<KEEP>", "num", "<DELETE>", ":", "<DELETE>", "num", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.868907586655853, "using": 0, "keep": 1}
{"id": "braintree_braintree_java-0-4091", "old_comment": "a paged collection .", "old_comment_tokens": ["a", "paged", "collection", "."], "new_comment": "a resource collection .", "new_comment_tokens": ["a", "resource", "collection", "."], "old_code": "public paged collection < customer > all ( ) { return all ( num ) ; }", "old_code_tokens": ["public", "paged", "collection", "<", "customer", ">", "all", "(", ")", "{", "return", "all", "(", "num", ")", ";", "}"], "new_code": "public resource collection < customer > all ( ) { return all ( num ) ; }", "new_code_tokens": ["public", "resource", "collection", "<", "customer", ">", "all", "(", ")", "{", "return", "all", "(", "num", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < customer > all ( ) { return all ( num ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "customer", ">", "all", "(", ")", "{", "return", "all", "(", "num", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "customer", "<KEEP>", ">", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9871043324613626, "using": 2, "keep": 1}
{"id": "jenkinsci_junit-plugin-24-6623", "old_comment": "a nonnull , possibly empty list of stage / parallel branch start node ids , innermost first .", "old_comment_tokens": ["a", "nonnull", ",", "possibly", "empty", "list", "of", "stage", "/", "parallel", "branch", "start", "node", "ids", ",", "innermost", "first", "."], "new_comment": "a nonnull , possibly empty list of stage / parallel branch start nodes , innermost first .", "new_comment_tokens": ["a", "nonnull", ",", "possibly", "empty", "list", "of", "stage", "/", "parallel", "branch", "start", "nodes", ",", "innermost", "first", "."], "old_code": "@ nonnull public static list < string > get enclosing stages and parallels ( flow node node ) { list < string > enclosing blocks = new array list < > ( ) ; for ( flow node enclosing : node . get enclosing blocks ( ) ) { if ( enclosing ! = null & & enclosing . get action ( label action . class ) ! = null ) { if ( ( enclosing instanceof step start node & & ( ( step start node ) enclosing ) . get descriptor ( ) instanceof stage step . descriptor impl ) | | ( enclosing . get action ( thread name action . class ) ! = null ) ) { enclosing blocks . add ( enclosing . get id ( ) ) ; } } } return enclosing blocks ; }", "old_code_tokens": ["@", "nonnull", "public", "static", "list", "<", "string", ">", "get", "enclosing", "stages", "and", "parallels", "(", "flow", "node", "node", ")", "{", "list", "<", "string", ">", "enclosing", "blocks", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "flow", "node", "enclosing", ":", "node", ".", "get", "enclosing", "blocks", "(", ")", ")", "{", "if", "(", "enclosing", "!", "=", "null", "&", "&", "enclosing", ".", "get", "action", "(", "label", "action", ".", "class", ")", "!", "=", "null", ")", "{", "if", "(", "(", "enclosing", "instanceof", "step", "start", "node", "&", "&", "(", "(", "step", "start", "node", ")", "enclosing", ")", ".", "get", "descriptor", "(", ")", "instanceof", "stage", "step", ".", "descriptor", "impl", ")", "|", "|", "(", "enclosing", ".", "get", "action", "(", "thread", "name", "action", ".", "class", ")", "!", "=", "null", ")", ")", "{", "enclosing", "blocks", ".", "add", "(", "enclosing", ".", "get", "id", "(", ")", ")", ";", "}", "}", "}", "return", "enclosing", "blocks", ";", "}"], "new_code": "@ nonnull public static list < flow node > get enclosing stages and parallels ( flow node node ) { list < flow node > enclosing blocks = new array list < > ( ) ; for ( flow node enclosing : node . get enclosing blocks ( ) ) { if ( enclosing ! = null & & enclosing . get action ( label action . class ) ! = null ) { if ( ( enclosing instanceof step start node & & ( ( step start node ) enclosing ) . get descriptor ( ) instanceof stage step . descriptor impl ) | | ( enclosing . get action ( thread name action . class ) ! = null ) ) { enclosing blocks . add ( enclosing ) ; } } } return enclosing blocks ; }", "new_code_tokens": ["@", "nonnull", "public", "static", "list", "<", "flow", "node", ">", "get", "enclosing", "stages", "and", "parallels", "(", "flow", "node", "node", ")", "{", "list", "<", "flow", "node", ">", "enclosing", "blocks", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "flow", "node", "enclosing", ":", "node", ".", "get", "enclosing", "blocks", "(", ")", ")", "{", "if", "(", "enclosing", "!", "=", "null", "&", "&", "enclosing", ".", "get", "action", "(", "label", "action", ".", "class", ")", "!", "=", "null", ")", "{", "if", "(", "(", "enclosing", "instanceof", "step", "start", "node", "&", "&", "(", "(", "step", "start", "node", ")", "enclosing", ")", ".", "get", "descriptor", "(", ")", "instanceof", "stage", "step", ".", "descriptor", "impl", ")", "|", "|", "(", "enclosing", ".", "get", "action", "(", "thread", "name", "action", ".", "class", ")", "!", "=", "null", ")", ")", "{", "enclosing", "blocks", ".", "add", "(", "enclosing", ")", ";", "}", "}", "}", "return", "enclosing", "blocks", ";", "}"], "span_diff_code": "<KEEP> @ nonnull public static list < <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> flow node <REPLACE_END> <KEEP> > get enclosing stages and parallels ( flow node node ) { list < <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> flow node <REPLACE_END> <KEEP> > enclosing blocks = new array list < > ( ) ; for ( flow node enclosing : node . get enclosing blocks ( ) ) { if ( enclosing ! = null & & enclosing . get action ( label action . class ) ! = null ) { if ( ( enclosing instanceof step start node & & ( ( step start node ) enclosing ) . get descriptor ( ) instanceof stage step . descriptor impl ) | | ( enclosing . get action ( thread name action . class ) ! = null ) ) { enclosing blocks . add ( enclosing <KEEP_END> <DELETE> . get id ( ) <DELETE_END> <KEEP> ) ; } } } return enclosing blocks ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nonnull", "public", "static", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "flow", "node", "<REPLACE_END>", "<KEEP>", ">", "get", "enclosing", "stages", "and", "parallels", "(", "flow", "node", "node", ")", "{", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "flow", "node", "<REPLACE_END>", "<KEEP>", ">", "enclosing", "blocks", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "flow", "node", "enclosing", ":", "node", ".", "get", "enclosing", "blocks", "(", ")", ")", "{", "if", "(", "enclosing", "!", "=", "null", "&", "&", "enclosing", ".", "get", "action", "(", "label", "action", ".", "class", ")", "!", "=", "null", ")", "{", "if", "(", "(", "enclosing", "instanceof", "step", "start", "node", "&", "&", "(", "(", "step", "start", "node", ")", "enclosing", ")", ".", "get", "descriptor", "(", ")", "instanceof", "stage", "step", ".", "descriptor", "impl", ")", "|", "|", "(", "enclosing", ".", "get", "action", "(", "thread", "name", "action", ".", "class", ")", "!", "=", "null", ")", ")", "{", "enclosing", "blocks", ".", "add", "(", "enclosing", "<KEEP_END>", "<DELETE>", ".", "get", "id", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "}", "}", "return", "enclosing", "blocks", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> node ids <REPLACE_NEW> nodes <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "node", "ids", "<REPLACE_NEW>", "nodes", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nonnull", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "flow", "<REPLACE_NEW>", "node", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "enclosing", "<KEEP>", "stages", "<KEEP>", "and", "<KEEP>", "parallels", "<KEEP>", "(", "<KEEP>", "flow", "<KEEP>", "node", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "flow", "<REPLACE_NEW>", "node", "<KEEP>", ">", "<KEEP>", "enclosing", "<KEEP>", "blocks", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "flow", "<KEEP>", "node", "<KEEP>", "enclosing", "<KEEP>", ":", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "enclosing", "<KEEP>", "blocks", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "enclosing", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "enclosing", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "action", "<KEEP>", "(", "<KEEP>", "label", "<KEEP>", "action", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "enclosing", "<KEEP>", "instanceof", "<KEEP>", "step", "<KEEP>", "start", "<KEEP>", "node", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "step", "<KEEP>", "start", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", "enclosing", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "descriptor", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "instanceof", "<KEEP>", "stage", "<KEEP>", "step", "<KEEP>", ".", "<KEEP>", "descriptor", "<KEEP>", "impl", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "enclosing", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "action", "<KEEP>", "(", "<KEEP>", "thread", "<KEEP>", "name", "<KEEP>", "action", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "enclosing", "<KEEP>", "blocks", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "enclosing", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "enclosing", "<KEEP>", "blocks", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9306512250199768, "using": 0, "keep": 1}
{"id": "toddlipcon_hadoop-135-4013", "old_comment": "true if native - zlib is loaded and initialized , else false", "old_comment_tokens": ["true", "if", "native", "-", "zlib", "is", "loaded", "and", "initialized", ",", "else", "false"], "new_comment": "true if native - zlib is loaded & initialized and can be loaded for this job , else false", "new_comment_tokens": ["true", "if", "native", "-", "zlib", "is", "loaded", "&", "initialized", "and", "can", "be", "loaded", "for", "this", "job", ",", "else", "false"], "old_code": "public static boolean is native zlib loaded ( ) { return native zlib loaded ; }", "old_code_tokens": ["public", "static", "boolean", "is", "native", "zlib", "loaded", "(", ")", "{", "return", "native", "zlib", "loaded", ";", "}"], "new_code": "public static boolean is native zlib loaded ( configuration conf ) { return native zlib loaded & & conf . get boolean ( str , true ) ; }", "new_code_tokens": ["public", "static", "boolean", "is", "native", "zlib", "loaded", "(", "configuration", "conf", ")", "{", "return", "native", "zlib", "loaded", "&", "&", "conf", ".", "get", "boolean", "(", "str", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean is native zlib loaded ( <KEEP_END> <INSERT> configuration conf <INSERT_END> <KEEP> ) { return native zlib loaded <KEEP_END> <INSERT> & & conf . get boolean ( str , true ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "native", "zlib", "loaded", "(", "<KEEP_END>", "<INSERT>", "configuration", "conf", "<INSERT_END>", "<KEEP>", ")", "{", "return", "native", "zlib", "loaded", "<KEEP_END>", "<INSERT>", "&", "&", "conf", ".", "get", "boolean", "(", "str", ",", "true", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> loaded <INSERT_NEW_KEEP_BEFORE> loaded & initialized <INSERT_END> <REPLACE_OLD> initialized <REPLACE_NEW> can be loaded for this job <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "loaded", "<INSERT_NEW_KEEP_BEFORE>", "loaded", "&", "initialized", "<INSERT_END>", "<REPLACE_OLD>", "initialized", "<REPLACE_NEW>", "can", "be", "loaded", "for", "this", "job", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "native", "<KEEP>", "zlib", "<KEEP>", "loaded", "<KEEP>", "(", "<INSERT>", "configuration", "<INSERT>", "conf", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "native", "<KEEP>", "zlib", "<KEEP>", "loaded", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "conf", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "boolean", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "true", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.846212847798189, "using": 0, "keep": 1}
{"id": "nickman_apmrouter-34-4126", "old_comment": "the sender singleton instance", "old_comment_tokens": ["the", "sender", "singleton", "instance"], "new_comment": "the sender factory singleton instance", "new_comment_tokens": ["the", "sender", "factory", "singleton", "instance"], "old_code": "public static sender get instance ( ) { if ( instance = = null ) { synchronized ( lock ) { if ( instance = = null ) { instance = new sender ( ) ; } } } return instance ; }", "old_code_tokens": ["public", "static", "sender", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "synchronized", "(", "lock", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "instance", "=", "new", "sender", "(", ")", ";", "}", "}", "}", "return", "instance", ";", "}"], "new_code": "public static sender factory get instance ( ) { if ( instance = = null ) { synchronized ( lock ) { if ( instance = = null ) { instance = new sender factory ( ) ; } } } return instance ; }", "new_code_tokens": ["public", "static", "sender", "factory", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "synchronized", "(", "lock", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "instance", "=", "new", "sender", "factory", "(", ")", ";", "}", "}", "}", "return", "instance", ";", "}"], "span_diff_code": "<KEEP> public static sender <KEEP_END> <INSERT> factory <INSERT_END> <KEEP> get instance ( ) { if ( instance = = null ) { synchronized ( lock ) { if ( instance = = null ) { instance = new sender <KEEP_END> <INSERT> factory <INSERT_END> <KEEP> ( ) ; } } } return instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "sender", "<KEEP_END>", "<INSERT>", "factory", "<INSERT_END>", "<KEEP>", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "synchronized", "(", "lock", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "instance", "=", "new", "sender", "<KEEP_END>", "<INSERT>", "factory", "<INSERT_END>", "<KEEP>", "(", ")", ";", "}", "}", "}", "return", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> sender <INSERT_NEW_KEEP_BEFORE> sender factory <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "sender", "<INSERT_NEW_KEEP_BEFORE>", "sender", "factory", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "sender", "<INSERT>", "factory", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "lock", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "sender", "<INSERT>", "factory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9844019332303093, "using": 2, "keep": 1}
{"id": "eclipse_milo-6-7209", "old_comment": "an opc xml data type codec , or null if none was found .", "old_comment_tokens": ["an", "opc", "xml", "data", "type", "codec", ",", "or", "null", "if", "none", "was", "found", "."], "new_comment": "an opc ua xml data type codec , or null if none was found .", "new_comment_tokens": ["an", "opc", "ua", "xml", "data", "type", "codec", ",", "or", "null", "if", "none", "was", "found", "."], "old_code": "@ nullable default opc xml data type codec < ? > get xml codec ( string namespace uri , string description ) { data type codec codec = get codec ( namespace uri , description ) ; if ( codec instanceof opc xml data type codec ) { return ( opc xml data type codec < ? > ) codec ; } else { return null ; } }", "old_code_tokens": ["@", "nullable", "default", "opc", "xml", "data", "type", "codec", "<", "?", ">", "get", "xml", "codec", "(", "string", "namespace", "uri", ",", "string", "description", ")", "{", "data", "type", "codec", "codec", "=", "get", "codec", "(", "namespace", "uri", ",", "description", ")", ";", "if", "(", "codec", "instanceof", "opc", "xml", "data", "type", "codec", ")", "{", "return", "(", "opc", "xml", "data", "type", "codec", "<", "?", ">", ")", "codec", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "new_code": "@ nullable default opc ua xml data type codec < ? > get xml codec ( string namespace uri , string description ) { data type codec codec = get codec ( namespace uri , description ) ; if ( codec instanceof opc ua xml data type codec ) { return ( opc ua xml data type codec < ? > ) codec ; } else { return null ; } }", "new_code_tokens": ["@", "nullable", "default", "opc", "ua", "xml", "data", "type", "codec", "<", "?", ">", "get", "xml", "codec", "(", "string", "namespace", "uri", ",", "string", "description", ")", "{", "data", "type", "codec", "codec", "=", "get", "codec", "(", "namespace", "uri", ",", "description", ")", ";", "if", "(", "codec", "instanceof", "opc", "ua", "xml", "data", "type", "codec", ")", "{", "return", "(", "opc", "ua", "xml", "data", "type", "codec", "<", "?", ">", ")", "codec", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> @ nullable default opc <KEEP_END> <INSERT> ua <INSERT_END> <KEEP> xml data type codec < ? > get xml codec ( string namespace uri , string description ) { data type codec codec = get codec ( namespace uri , description ) ; if ( codec instanceof opc <KEEP_END> <INSERT> ua <INSERT_END> <KEEP> xml data type codec ) { return ( opc <KEEP_END> <INSERT> ua <INSERT_END> <KEEP> xml data type codec < ? > ) codec ; } else { return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nullable", "default", "opc", "<KEEP_END>", "<INSERT>", "ua", "<INSERT_END>", "<KEEP>", "xml", "data", "type", "codec", "<", "?", ">", "get", "xml", "codec", "(", "string", "namespace", "uri", ",", "string", "description", ")", "{", "data", "type", "codec", "codec", "=", "get", "codec", "(", "namespace", "uri", ",", "description", ")", ";", "if", "(", "codec", "instanceof", "opc", "<KEEP_END>", "<INSERT>", "ua", "<INSERT_END>", "<KEEP>", "xml", "data", "type", "codec", ")", "{", "return", "(", "opc", "<KEEP_END>", "<INSERT>", "ua", "<INSERT_END>", "<KEEP>", "xml", "data", "type", "codec", "<", "?", ">", ")", "codec", ";", "}", "else", "{", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> opc <INSERT_NEW_KEEP_BEFORE> opc ua <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "opc", "<INSERT_NEW_KEEP_BEFORE>", "opc", "ua", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "default", "<KEEP>", "opc", "<INSERT>", "ua", "<KEEP>", "xml", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "codec", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "namespace", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "description", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", "codec", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "codec", "<KEEP>", "(", "<KEEP>", "namespace", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "description", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "codec", "<KEEP>", "instanceof", "<KEEP>", "opc", "<INSERT>", "ua", "<KEEP>", "xml", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "opc", "<INSERT>", "ua", "<KEEP>", "xml", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "codec", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9974077069178673, "using": 2, "keep": 1}
{"id": "zxing_zxing-38-3608", "old_comment": "formatted interpretation of raw content as a hashtable mapping one result metadata type to appropriate value , or null if not known", "old_comment_tokens": ["formatted", "interpretation", "of", "raw", "content", "as", "a", "hashtable", "mapping", "one", "result", "metadata", "type", "to", "appropriate", "value", ",", "or", "null", "if", "not", "known"], "new_comment": "formatted interpretation of raw content as a map mapping one result metadata type to appropriate value , or null if not known", "new_comment_tokens": ["formatted", "interpretation", "of", "raw", "content", "as", "a", "map", "mapping", "one", "result", "metadata", "type", "to", "appropriate", "value", ",", "or", "null", "if", "not", "known"], "old_code": "private static hashtable parse extension string ( string raw ) { result metadata type type ; object value ; switch ( raw . length ( ) ) { case num : type = result metadata type . issue _ number ; value = parse extension2 string ( raw ) ; break ; case num : type = result metadata type . suggested _ price ; value = parse extension5 string ( raw ) ; break ; default : return null ; } if ( value = = null ) { return null ; } hashtable result = new hashtable ( num ) ; result . put ( type , value ) ; return result ; }", "old_code_tokens": ["private", "static", "hashtable", "parse", "extension", "string", "(", "string", "raw", ")", "{", "result", "metadata", "type", "type", ";", "object", "value", ";", "switch", "(", "raw", ".", "length", "(", ")", ")", "{", "case", "num", ":", "type", "=", "result", "metadata", "type", ".", "issue", "_", "number", ";", "value", "=", "parse", "extension2", "string", "(", "raw", ")", ";", "break", ";", "case", "num", ":", "type", "=", "result", "metadata", "type", ".", "suggested", "_", "price", ";", "value", "=", "parse", "extension5", "string", "(", "raw", ")", ";", "break", ";", "default", ":", "return", "null", ";", "}", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "hashtable", "result", "=", "new", "hashtable", "(", "num", ")", ";", "result", ".", "put", "(", "type", ",", "value", ")", ";", "return", "result", ";", "}"], "new_code": "private static map < result metadata type , object > parse extension string ( string raw ) { result metadata type type ; object value ; switch ( raw . length ( ) ) { case num : type = result metadata type . issue _ number ; value = parse extension2 string ( raw ) ; break ; case num : type = result metadata type . suggested _ price ; value = parse extension5 string ( raw ) ; break ; default : return null ; } if ( value = = null ) { return null ; } map < result metadata type , object > result = new enum map < result metadata type , object > ( result metadata type . class ) ; result . put ( type , value ) ; return result ; }", "new_code_tokens": ["private", "static", "map", "<", "result", "metadata", "type", ",", "object", ">", "parse", "extension", "string", "(", "string", "raw", ")", "{", "result", "metadata", "type", "type", ";", "object", "value", ";", "switch", "(", "raw", ".", "length", "(", ")", ")", "{", "case", "num", ":", "type", "=", "result", "metadata", "type", ".", "issue", "_", "number", ";", "value", "=", "parse", "extension2", "string", "(", "raw", ")", ";", "break", ";", "case", "num", ":", "type", "=", "result", "metadata", "type", ".", "suggested", "_", "price", ";", "value", "=", "parse", "extension5", "string", "(", "raw", ")", ";", "break", ";", "default", ":", "return", "null", ";", "}", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "map", "<", "result", "metadata", "type", ",", "object", ">", "result", "=", "new", "enum", "map", "<", "result", "metadata", "type", ",", "object", ">", "(", "result", "metadata", "type", ".", "class", ")", ";", "result", ".", "put", "(", "type", ",", "value", ")", ";", "return", "result", ";", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> map < result metadata type , object > <REPLACE_END> <KEEP> parse extension string ( string raw ) { result metadata type type ; object value ; switch ( raw . length ( ) ) { case num : type = result metadata type . issue _ number ; value = parse extension2 string ( raw ) ; break ; case num : type = result metadata type . suggested _ price ; value = parse extension5 string ( raw ) ; break ; default : return null ; } if ( value = = null ) { return null ; } <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> map < result metadata type , object > <REPLACE_END> <KEEP> result = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> enum map < result metadata type , object > <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> result metadata type . class <REPLACE_END> <KEEP> ) ; result . put ( type , value ) ; return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<", "result", "metadata", "type", ",", "object", ">", "<REPLACE_END>", "<KEEP>", "parse", "extension", "string", "(", "string", "raw", ")", "{", "result", "metadata", "type", "type", ";", "object", "value", ";", "switch", "(", "raw", ".", "length", "(", ")", ")", "{", "case", "num", ":", "type", "=", "result", "metadata", "type", ".", "issue", "_", "number", ";", "value", "=", "parse", "extension2", "string", "(", "raw", ")", ";", "break", ";", "case", "num", ":", "type", "=", "result", "metadata", "type", ".", "suggested", "_", "price", ";", "value", "=", "parse", "extension5", "string", "(", "raw", ")", ";", "break", ";", "default", ":", "return", "null", ";", "}", "if", "(", "value", "=", "=", "null", ")", "{", "return", "null", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<", "result", "metadata", "type", ",", "object", ">", "<REPLACE_END>", "<KEEP>", "result", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "enum", "map", "<", "result", "metadata", "type", ",", "object", ">", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "result", "metadata", "type", ".", "class", "<REPLACE_END>", "<KEEP>", ")", ";", "result", ".", "put", "(", "type", ",", "value", ")", ";", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<KEEP>", "parse", "<KEEP>", "extension", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "raw", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", "metadata", "<KEEP>", "type", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "raw", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", "metadata", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "issue", "<KEEP>", "_", "<KEEP>", "number", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "parse", "<KEEP>", "extension2", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "raw", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", "metadata", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "suggested", "<KEEP>", "_", "<KEEP>", "price", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "parse", "<KEEP>", "extension5", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "raw", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "enum", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9883025877727647, "using": 2, "keep": 1}
{"id": "uber_AutoDispose-4-2839", "old_comment": "a lifecycle scope provider against this view .", "old_comment_tokens": ["a", "lifecycle", "scope", "provider", "against", "this", "view", "."], "new_comment": "a scope provider against this view .", "new_comment_tokens": ["a", "scope", "provider", "against", "this", "view", "."], "old_code": "public static lifecycle scope provider < view lifecycle event > from ( view view ) { if ( view = = null ) { throw new null pointer exception ( str ) ; } return new view scope provider ( view ) ; }", "old_code_tokens": ["public", "static", "lifecycle", "scope", "provider", "<", "view", "lifecycle", "event", ">", "from", "(", "view", "view", ")", "{", "if", "(", "view", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "return", "new", "view", "scope", "provider", "(", "view", ")", ";", "}"], "new_code": "public static scope provider from ( view view ) { if ( view = = null ) { throw new null pointer exception ( str ) ; } return new view scope provider ( view ) ; }", "new_code_tokens": ["public", "static", "scope", "provider", "from", "(", "view", "view", ")", "{", "if", "(", "view", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "return", "new", "view", "scope", "provider", "(", "view", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <DELETE> lifecycle <DELETE_END> <KEEP> scope provider <KEEP_END> <DELETE> < view lifecycle event > <DELETE_END> <KEEP> from ( view view ) { if ( view = = null ) { throw new null pointer exception ( str ) ; } return new view scope provider ( view ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<DELETE>", "lifecycle", "<DELETE_END>", "<KEEP>", "scope", "provider", "<KEEP_END>", "<DELETE>", "<", "view", "lifecycle", "event", ">", "<DELETE_END>", "<KEEP>", "from", "(", "view", "view", ")", "{", "if", "(", "view", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "return", "new", "view", "scope", "provider", "(", "view", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> lifecycle <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "lifecycle", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<DELETE>", "lifecycle", "<KEEP>", "scope", "<KEEP>", "provider", "<DELETE>", "<", "<DELETE>", "view", "<DELETE>", "lifecycle", "<DELETE>", "event", "<DELETE>", ">", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "view", "<KEEP>", "scope", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9832431584334655, "using": 2, "keep": 1}
{"id": "eclipse_rt.equinox.framework-125-6533", "old_comment": "hashtable of aliases .", "old_comment_tokens": ["hashtable", "of", "aliases", "."], "new_comment": "map of aliases .", "new_comment_tokens": ["map", "of", "aliases", "."], "old_code": "protected static hashtable init aliases ( input stream in ) { hashtable aliases = new hashtable ( num ) ; try { buffered reader br ; try { br = new buffered reader ( new input stream reader ( in , str ) ) ; } catch ( unsupported encoding exception e ) { br = new buffered reader ( new input stream reader ( in ) ) ; } while ( true ) { string line = br . read line ( ) ; if ( line = = null ) { break ; } tokenizer tokenizer = new tokenizer ( line ) ; string master = tokenizer . get string ( str ) ; if ( master ! = null ) { aliases . put ( master . to lower case ( ) , master ) ; parseloop : while ( true ) { string alias = tokenizer . get string ( str ) ; if ( alias = = null ) { break parseloop ; } string lower case alias = alias . to lower case ( ) ; object stored master = aliases . get ( lower case alias ) ; if ( stored master = = null ) { aliases . put ( lower case alias , master ) ; } else if ( stored master instanceof string ) { vector new master = new vector ( ) ; new master . add ( stored master ) ; new master . add ( master ) ; aliases . put ( lower case alias , new master ) ; } else { ( ( vector ) stored master ) . add ( master ) ; aliases . put ( lower case alias , stored master ) ; } } } } } catch ( ioexception e ) { if ( debug . debug _ general ) { debug . print stack trace ( e ) ; } } return ( aliases ) ; }", "old_code_tokens": ["protected", "static", "hashtable", "init", "aliases", "(", "input", "stream", "in", ")", "{", "hashtable", "aliases", "=", "new", "hashtable", "(", "num", ")", ";", "try", "{", "buffered", "reader", "br", ";", "try", "{", "br", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "in", ",", "str", ")", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "br", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "in", ")", ")", ";", "}", "while", "(", "true", ")", "{", "string", "line", "=", "br", ".", "read", "line", "(", ")", ";", "if", "(", "line", "=", "=", "null", ")", "{", "break", ";", "}", "tokenizer", "tokenizer", "=", "new", "tokenizer", "(", "line", ")", ";", "string", "master", "=", "tokenizer", ".", "get", "string", "(", "str", ")", ";", "if", "(", "master", "!", "=", "null", ")", "{", "aliases", ".", "put", "(", "master", ".", "to", "lower", "case", "(", ")", ",", "master", ")", ";", "parseloop", ":", "while", "(", "true", ")", "{", "string", "alias", "=", "tokenizer", ".", "get", "string", "(", "str", ")", ";", "if", "(", "alias", "=", "=", "null", ")", "{", "break", "parseloop", ";", "}", "string", "lower", "case", "alias", "=", "alias", ".", "to", "lower", "case", "(", ")", ";", "object", "stored", "master", "=", "aliases", ".", "get", "(", "lower", "case", "alias", ")", ";", "if", "(", "stored", "master", "=", "=", "null", ")", "{", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "master", ")", ";", "}", "else", "if", "(", "stored", "master", "instanceof", "string", ")", "{", "vector", "new", "master", "=", "new", "vector", "(", ")", ";", "new", "master", ".", "add", "(", "stored", "master", ")", ";", "new", "master", ".", "add", "(", "master", ")", ";", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "new", "master", ")", ";", "}", "else", "{", "(", "(", "vector", ")", "stored", "master", ")", ".", "add", "(", "master", ")", ";", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "stored", "master", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "if", "(", "debug", ".", "debug", "_", "general", ")", "{", "debug", ".", "print", "stack", "trace", "(", "e", ")", ";", "}", "}", "return", "(", "aliases", ")", ";", "}"], "new_code": "protected static map < string , object > init aliases ( input stream in ) { map < string , object > aliases = new hash map < string , object > ( num ) ; try { buffered reader br ; try { br = new buffered reader ( new input stream reader ( in , str ) ) ; } catch ( unsupported encoding exception e ) { br = new buffered reader ( new input stream reader ( in ) ) ; } while ( true ) { string line = br . read line ( ) ; if ( line = = null ) { break ; } tokenizer tokenizer = new tokenizer ( line ) ; string master = tokenizer . get string ( str ) ; if ( master ! = null ) { aliases . put ( master . to lower case ( ) , master ) ; parseloop : while ( true ) { string alias = tokenizer . get string ( str ) ; if ( alias = = null ) { break parseloop ; } string lower case alias = alias . to lower case ( ) ; object stored master = aliases . get ( lower case alias ) ; if ( stored master = = null ) { aliases . put ( lower case alias , master ) ; } else if ( stored master instanceof string ) { list < string > new master = new array list < string > ( ) ; new master . add ( ( string ) stored master ) ; new master . add ( master ) ; aliases . put ( lower case alias , new master ) ; } else { @ suppress warnings ( str ) list < string > new master = ( ( list < string > ) stored master ) ; new master . add ( master ) ; } } } } } catch ( ioexception e ) { if ( debug . debug _ general ) { debug . print stack trace ( e ) ; } } return aliases ; }", "new_code_tokens": ["protected", "static", "map", "<", "string", ",", "object", ">", "init", "aliases", "(", "input", "stream", "in", ")", "{", "map", "<", "string", ",", "object", ">", "aliases", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "num", ")", ";", "try", "{", "buffered", "reader", "br", ";", "try", "{", "br", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "in", ",", "str", ")", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "br", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "in", ")", ")", ";", "}", "while", "(", "true", ")", "{", "string", "line", "=", "br", ".", "read", "line", "(", ")", ";", "if", "(", "line", "=", "=", "null", ")", "{", "break", ";", "}", "tokenizer", "tokenizer", "=", "new", "tokenizer", "(", "line", ")", ";", "string", "master", "=", "tokenizer", ".", "get", "string", "(", "str", ")", ";", "if", "(", "master", "!", "=", "null", ")", "{", "aliases", ".", "put", "(", "master", ".", "to", "lower", "case", "(", ")", ",", "master", ")", ";", "parseloop", ":", "while", "(", "true", ")", "{", "string", "alias", "=", "tokenizer", ".", "get", "string", "(", "str", ")", ";", "if", "(", "alias", "=", "=", "null", ")", "{", "break", "parseloop", ";", "}", "string", "lower", "case", "alias", "=", "alias", ".", "to", "lower", "case", "(", ")", ";", "object", "stored", "master", "=", "aliases", ".", "get", "(", "lower", "case", "alias", ")", ";", "if", "(", "stored", "master", "=", "=", "null", ")", "{", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "master", ")", ";", "}", "else", "if", "(", "stored", "master", "instanceof", "string", ")", "{", "list", "<", "string", ">", "new", "master", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "new", "master", ".", "add", "(", "(", "string", ")", "stored", "master", ")", ";", "new", "master", ".", "add", "(", "master", ")", ";", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "new", "master", ")", ";", "}", "else", "{", "@", "suppress", "warnings", "(", "str", ")", "list", "<", "string", ">", "new", "master", "=", "(", "(", "list", "<", "string", ">", ")", "stored", "master", ")", ";", "new", "master", ".", "add", "(", "master", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "if", "(", "debug", ".", "debug", "_", "general", ")", "{", "debug", ".", "print", "stack", "trace", "(", "e", ")", ";", "}", "}", "return", "aliases", ";", "}"], "span_diff_code": "<KEEP> protected static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> map < string , object > <REPLACE_END> <KEEP> init aliases ( input stream in ) { <KEEP_END> <REPLACE_OLD> hashtable aliases = new hashtable <REPLACE_NEW> map < string , object > aliases = new hash map < string , object > <REPLACE_END> <KEEP> ( num ) ; try { buffered reader br ; try { br = new buffered reader ( new input stream reader ( in , str ) ) ; } catch ( unsupported encoding exception e ) { br = new buffered reader ( new input stream reader ( in ) ) ; } while ( true ) { string line = br . read line ( ) ; if ( line = = null ) { break ; } tokenizer tokenizer = new tokenizer ( line ) ; string master = tokenizer . get string ( str ) ; if ( master ! = null ) { aliases . put ( master . to lower case ( ) , master ) ; parseloop : while ( true ) { string alias = tokenizer . get string ( str ) ; if ( alias = = null ) { break parseloop ; } string lower case alias = alias . to lower case ( ) ; object stored master = aliases . get ( lower case alias ) ; if ( stored master = = null ) { aliases . put ( lower case alias , master ) ; } else if ( stored master instanceof string ) { <KEEP_END> <REPLACE_OLD> vector new master = new vector <REPLACE_NEW> list < string > new master = new array list < string > <REPLACE_END> <KEEP> ( ) ; new master . add ( <KEEP_END> <INSERT> ( string ) <INSERT_END> <KEEP> stored master ) ; new master . add ( master ) ; aliases . put ( lower case alias , new master ) ; } else { <KEEP_END> <REPLACE_OLD> ( ( vector ) stored master ) <REPLACE_NEW> @ suppress warnings ( str ) list < string > new master = ( ( list < string > ) stored master ) ; new master <REPLACE_END> <KEEP> . add ( <KEEP_END> <DELETE> master ) ; aliases . put ( lower case alias , stored <DELETE_END> <KEEP> master ) ; } } } } } catch ( ioexception e ) { if ( debug . debug _ general ) { debug . print stack trace ( e ) ; } } return <KEEP_END> <REPLACE_OLD> ( aliases ) ; } <REPLACE_NEW> aliases ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<", "string", ",", "object", ">", "<REPLACE_END>", "<KEEP>", "init", "aliases", "(", "input", "stream", "in", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "aliases", "=", "new", "hashtable", "<REPLACE_NEW>", "map", "<", "string", ",", "object", ">", "aliases", "=", "new", "hash", "map", "<", "string", ",", "object", ">", "<REPLACE_END>", "<KEEP>", "(", "num", ")", ";", "try", "{", "buffered", "reader", "br", ";", "try", "{", "br", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "in", ",", "str", ")", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "br", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "in", ")", ")", ";", "}", "while", "(", "true", ")", "{", "string", "line", "=", "br", ".", "read", "line", "(", ")", ";", "if", "(", "line", "=", "=", "null", ")", "{", "break", ";", "}", "tokenizer", "tokenizer", "=", "new", "tokenizer", "(", "line", ")", ";", "string", "master", "=", "tokenizer", ".", "get", "string", "(", "str", ")", ";", "if", "(", "master", "!", "=", "null", ")", "{", "aliases", ".", "put", "(", "master", ".", "to", "lower", "case", "(", ")", ",", "master", ")", ";", "parseloop", ":", "while", "(", "true", ")", "{", "string", "alias", "=", "tokenizer", ".", "get", "string", "(", "str", ")", ";", "if", "(", "alias", "=", "=", "null", ")", "{", "break", "parseloop", ";", "}", "string", "lower", "case", "alias", "=", "alias", ".", "to", "lower", "case", "(", ")", ";", "object", "stored", "master", "=", "aliases", ".", "get", "(", "lower", "case", "alias", ")", ";", "if", "(", "stored", "master", "=", "=", "null", ")", "{", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "master", ")", ";", "}", "else", "if", "(", "stored", "master", "instanceof", "string", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "vector", "new", "master", "=", "new", "vector", "<REPLACE_NEW>", "list", "<", "string", ">", "new", "master", "=", "new", "array", "list", "<", "string", ">", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "new", "master", ".", "add", "(", "<KEEP_END>", "<INSERT>", "(", "string", ")", "<INSERT_END>", "<KEEP>", "stored", "master", ")", ";", "new", "master", ".", "add", "(", "master", ")", ";", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "new", "master", ")", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "(", "(", "vector", ")", "stored", "master", ")", "<REPLACE_NEW>", "@", "suppress", "warnings", "(", "str", ")", "list", "<", "string", ">", "new", "master", "=", "(", "(", "list", "<", "string", ">", ")", "stored", "master", ")", ";", "new", "master", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "<KEEP_END>", "<DELETE>", "master", ")", ";", "aliases", ".", "put", "(", "lower", "case", "alias", ",", "stored", "<DELETE_END>", "<KEEP>", "master", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "if", "(", "debug", ".", "debug", "_", "general", ")", "{", "debug", ".", "print", "stack", "trace", "(", "e", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "(", "aliases", ")", ";", "}", "<REPLACE_NEW>", "aliases", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<KEEP>", "init", "<KEEP>", "aliases", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_OLD>", "aliases", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "aliases", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "br", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "br", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "unsupported", "<KEEP>", "encoding", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "br", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", "=", "<KEEP>", "br", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "line", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "tokenizer", "<KEEP>", "tokenizer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "tokenizer", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "master", "<KEEP>", "=", "<KEEP>", "tokenizer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "master", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "aliases", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "master", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "master", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "parseloop", "<KEEP>", ":", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "alias", "<KEEP>", "=", "<KEEP>", "tokenizer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "alias", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "break", "<KEEP>", "parseloop", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "alias", "<KEEP>", "=", "<KEEP>", "alias", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "object", "<KEEP>", "stored", "<KEEP>", "master", "<KEEP>", "=", "<KEEP>", "aliases", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "alias", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "stored", "<KEEP>", "master", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "aliases", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "alias", "<KEEP>", ",", "<KEEP>", "master", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "stored", "<KEEP>", "master", "<KEEP>", "instanceof", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "vector", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "master", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "master", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "new", "<KEEP>", "master", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<INSERT>", "(", "<INSERT>", "string", "<INSERT>", ")", "<KEEP>", "stored", "<KEEP>", "master", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "new", "<KEEP>", "master", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "master", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "aliases", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "alias", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "master", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "vector", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "stored", "<REPLACE_OLD>", "master", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "@", "<REPLACE_NEW>", "suppress", "<REPLACE_NEW>", "warnings", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "master", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "stored", "<REPLACE_NEW>", "master", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "master", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<DELETE>", "master", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "aliases", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "lower", "<DELETE>", "case", "<DELETE>", "alias", "<DELETE>", ",", "<DELETE>", "stored", "<KEEP>", "master", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "debug", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "_", "<KEEP>", "general", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "debug", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "aliases", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "aliases", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.9691918695753202, "using": 2, "keep": 1}
{"id": "svn2github_projetseg-0-3947", "old_comment": "the map we are editing .", "old_comment_tokens": ["the", "map", "we", "are", "editing", "."], "new_comment": "the model we are editing .", "new_comment_tokens": ["the", "model", "we", "are", "editing", "."], "old_code": "private map get model ( ) { return ucm ; }", "old_code_tokens": ["private", "map", "get", "model", "(", ")", "{", "return", "ucm", ";", "}"], "new_code": "private urnspec get model ( ) { return model ; }", "new_code_tokens": ["private", "urnspec", "get", "model", "(", ")", "{", "return", "model", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> urnspec <REPLACE_END> <KEEP> get model ( ) { return <KEEP_END> <REPLACE_OLD> ucm <REPLACE_NEW> model <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "urnspec", "<REPLACE_END>", "<KEEP>", "get", "model", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "ucm", "<REPLACE_NEW>", "model", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> model <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "model", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "urnspec", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "ucm", "<REPLACE_NEW>", "model", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9620200113635213, "using": 2, "keep": 1}
{"id": "cloudera_logredactor-0-7156", "old_comment": "the redacted message , if anything changed .", "old_comment_tokens": ["the", "redacted", "message", ",", "if", "anything", "changed", "."], "new_comment": "the ( potentially ) redacted message .", "new_comment_tokens": ["the", "(", "potentially", ")", "redacted", "message", "."], "old_code": "public string redact ( string msg ) { boolean matched = false ; for ( map . entry < string , list < matcher replacement > > entry : mr tl . get ( ) . entry set ( ) ) { string key = entry . get key ( ) ; for ( matcher replacement mr : entry . get value ( ) ) { if ( has trigger ( key , msg ) ) { mr . matcher . reset ( msg ) ; if ( mr . matcher . find ( ) ) { msg = mr . matcher . replace all ( mr . replacement ) ; matched = true ; } } } } return ( matched ) ? msg : null ; }", "old_code_tokens": ["public", "string", "redact", "(", "string", "msg", ")", "{", "boolean", "matched", "=", "false", ";", "for", "(", "map", ".", "entry", "<", "string", ",", "list", "<", "matcher", "replacement", ">", ">", "entry", ":", "mr", "tl", ".", "get", "(", ")", ".", "entry", "set", "(", ")", ")", "{", "string", "key", "=", "entry", ".", "get", "key", "(", ")", ";", "for", "(", "matcher", "replacement", "mr", ":", "entry", ".", "get", "value", "(", ")", ")", "{", "if", "(", "has", "trigger", "(", "key", ",", "msg", ")", ")", "{", "mr", ".", "matcher", ".", "reset", "(", "msg", ")", ";", "if", "(", "mr", ".", "matcher", ".", "find", "(", ")", ")", "{", "msg", "=", "mr", ".", "matcher", ".", "replace", "all", "(", "mr", ".", "replacement", ")", ";", "matched", "=", "true", ";", "}", "}", "}", "}", "return", "(", "matched", ")", "?", "msg", ":", "null", ";", "}"], "new_code": "public string redact ( string msg ) { for ( map . entry < string , list < matcher replacement > > entry : mr tl . get ( ) . entry set ( ) ) { string key = entry . get key ( ) ; for ( matcher replacement mr : entry . get value ( ) ) { if ( has trigger ( key , msg ) ) { mr . matcher . reset ( msg ) ; if ( mr . matcher . find ( ) ) { msg = mr . matcher . replace all ( mr . replacement ) ; } } } } return msg ; }", "new_code_tokens": ["public", "string", "redact", "(", "string", "msg", ")", "{", "for", "(", "map", ".", "entry", "<", "string", ",", "list", "<", "matcher", "replacement", ">", ">", "entry", ":", "mr", "tl", ".", "get", "(", ")", ".", "entry", "set", "(", ")", ")", "{", "string", "key", "=", "entry", ".", "get", "key", "(", ")", ";", "for", "(", "matcher", "replacement", "mr", ":", "entry", ".", "get", "value", "(", ")", ")", "{", "if", "(", "has", "trigger", "(", "key", ",", "msg", ")", ")", "{", "mr", ".", "matcher", ".", "reset", "(", "msg", ")", ";", "if", "(", "mr", ".", "matcher", ".", "find", "(", ")", ")", "{", "msg", "=", "mr", ".", "matcher", ".", "replace", "all", "(", "mr", ".", "replacement", ")", ";", "}", "}", "}", "}", "return", "msg", ";", "}"], "span_diff_code": "<KEEP> public string redact ( string msg ) { <KEEP_END> <DELETE> boolean matched = false ; <DELETE_END> <KEEP> for ( map . entry < string , list < matcher replacement > > entry : mr tl . get ( ) . entry set ( ) ) { string key = entry . get key ( ) ; for ( matcher replacement mr : entry . get value ( ) ) { if ( has trigger ( key , msg ) ) { mr . matcher . reset ( msg ) ; if ( mr . matcher . find ( ) ) { msg = mr . matcher . replace all ( mr . replacement ) ; <KEEP_END> <DELETE> matched = true ; <DELETE_END> <KEEP> } } } } return <KEEP_END> <DELETE> ( matched ) ? <DELETE_END> <KEEP> msg <KEEP_END> <DELETE> : null <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "redact", "(", "string", "msg", ")", "{", "<KEEP_END>", "<DELETE>", "boolean", "matched", "=", "false", ";", "<DELETE_END>", "<KEEP>", "for", "(", "map", ".", "entry", "<", "string", ",", "list", "<", "matcher", "replacement", ">", ">", "entry", ":", "mr", "tl", ".", "get", "(", ")", ".", "entry", "set", "(", ")", ")", "{", "string", "key", "=", "entry", ".", "get", "key", "(", ")", ";", "for", "(", "matcher", "replacement", "mr", ":", "entry", ".", "get", "value", "(", ")", ")", "{", "if", "(", "has", "trigger", "(", "key", ",", "msg", ")", ")", "{", "mr", ".", "matcher", ".", "reset", "(", "msg", ")", ";", "if", "(", "mr", ".", "matcher", ".", "find", "(", ")", ")", "{", "msg", "=", "mr", ".", "matcher", ".", "replace", "all", "(", "mr", ".", "replacement", ")", ";", "<KEEP_END>", "<DELETE>", "matched", "=", "true", ";", "<DELETE_END>", "<KEEP>", "}", "}", "}", "}", "return", "<KEEP_END>", "<DELETE>", "(", "matched", ")", "?", "<DELETE_END>", "<KEEP>", "msg", "<KEEP_END>", "<DELETE>", ":", "null", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the ( potentially ) <INSERT_END> <DELETE> , if anything changed <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "(", "potentially", ")", "<INSERT_END>", "<DELETE>", ",", "if", "anything", "changed", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "redact", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "msg", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "boolean", "<DELETE>", "matched", "<DELETE>", "=", "<DELETE>", "false", "<DELETE>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "matcher", "<KEEP>", "replacement", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "entry", "<KEEP>", ":", "<KEEP>", "mr", "<KEEP>", "tl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", "replacement", "<KEEP>", "mr", "<KEEP>", ":", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "has", "<KEEP>", "trigger", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "msg", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "mr", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "reset", "<KEEP>", "(", "<KEEP>", "msg", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mr", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "msg", "<KEEP>", "=", "<KEEP>", "mr", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "mr", "<KEEP>", ".", "<KEEP>", "replacement", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "matched", "<DELETE>", "=", "<DELETE>", "true", "<DELETE>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "matched", "<DELETE>", ")", "<DELETE>", "?", "<KEEP>", "msg", "<DELETE>", ":", "<DELETE>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8327042803123038, "using": 0, "keep": 1}
{"id": "bitcoinj_bitcoinj-0-1476", "old_comment": "the script type .", "old_comment_tokens": ["the", "script", "type", "."], "new_comment": "the script type , or null if the script is of unknown type", "new_comment_tokens": ["the", "script", "type", ",", "or", "null", "if", "the", "script", "is", "of", "unknown", "type"], "old_code": "public script type get script type ( ) { script type type = script type . no _ type ; if ( script pattern . is pay to pub key hash ( this ) ) { type = script type . p2 pkh ; } else if ( script pattern . is pay to pub key ( this ) ) { type = script type . p2 pk ; } else if ( script pattern . is pay to script hash ( this ) ) { type = script type . p2 sh ; } return type ; }", "old_code_tokens": ["public", "script", "type", "get", "script", "type", "(", ")", "{", "script", "type", "type", "=", "script", "type", ".", "no", "_", "type", ";", "if", "(", "script", "pattern", ".", "is", "pay", "to", "pub", "key", "hash", "(", "this", ")", ")", "{", "type", "=", "script", "type", ".", "p2", "pkh", ";", "}", "else", "if", "(", "script", "pattern", ".", "is", "pay", "to", "pub", "key", "(", "this", ")", ")", "{", "type", "=", "script", "type", ".", "p2", "pk", ";", "}", "else", "if", "(", "script", "pattern", ".", "is", "pay", "to", "script", "hash", "(", "this", ")", ")", "{", "type", "=", "script", "type", ".", "p2", "sh", ";", "}", "return", "type", ";", "}"], "new_code": "@ nullable public script type get script type ( ) { if ( script pattern . is pay to pub key hash ( this ) ) return script type . p2 pkh ; if ( script pattern . is pay to pub key ( this ) ) return script type . p2 pk ; if ( script pattern . is pay to script hash ( this ) ) return script type . p2 sh ; return null ; }", "new_code_tokens": ["@", "nullable", "public", "script", "type", "get", "script", "type", "(", ")", "{", "if", "(", "script", "pattern", ".", "is", "pay", "to", "pub", "key", "hash", "(", "this", ")", ")", "return", "script", "type", ".", "p2", "pkh", ";", "if", "(", "script", "pattern", ".", "is", "pay", "to", "pub", "key", "(", "this", ")", ")", "return", "script", "type", ".", "p2", "pk", ";", "if", "(", "script", "pattern", ".", "is", "pay", "to", "script", "hash", "(", "this", ")", ")", "return", "script", "type", ".", "p2", "sh", ";", "return", "null", ";", "}"], "span_diff_code": "<INSERT> @ nullable <INSERT_END> <KEEP> public script type get script type ( ) { <KEEP_END> <DELETE> script type type = script type . no _ type ; <DELETE_END> <KEEP> if ( script pattern . is pay to pub key hash ( this ) ) <KEEP_END> <REPLACE_OLD> { type = <REPLACE_NEW> return <REPLACE_END> <KEEP> script type . p2 pkh ; <KEEP_END> <DELETE> } else <DELETE_END> <KEEP> if ( script pattern . is pay to pub key ( this ) ) <KEEP_END> <REPLACE_OLD> { type = <REPLACE_NEW> return <REPLACE_END> <KEEP> script type . p2 pk ; <KEEP_END> <DELETE> } else <DELETE_END> <KEEP> if ( script pattern . is pay to script hash ( this ) ) <KEEP_END> <REPLACE_OLD> { type = <REPLACE_NEW> return <REPLACE_END> <KEEP> script type . p2 sh ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> type <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "nullable", "<INSERT_END>", "<KEEP>", "public", "script", "type", "get", "script", "type", "(", ")", "{", "<KEEP_END>", "<DELETE>", "script", "type", "type", "=", "script", "type", ".", "no", "_", "type", ";", "<DELETE_END>", "<KEEP>", "if", "(", "script", "pattern", ".", "is", "pay", "to", "pub", "key", "hash", "(", "this", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "type", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "script", "type", ".", "p2", "pkh", ";", "<KEEP_END>", "<DELETE>", "}", "else", "<DELETE_END>", "<KEEP>", "if", "(", "script", "pattern", ".", "is", "pay", "to", "pub", "key", "(", "this", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "type", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "script", "type", ".", "p2", "pk", ";", "<KEEP_END>", "<DELETE>", "}", "else", "<DELETE_END>", "<KEEP>", "if", "(", "script", "pattern", ".", "is", "pay", "to", "script", "hash", "(", "this", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "type", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "script", "type", ".", "p2", "sh", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> . <REPLACE_NEW> , or null if the script is of unknown type <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ".", "<REPLACE_NEW>", ",", "or", "null", "if", "the", "script", "is", "of", "unknown", "type", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "nullable", "<KEEP>", "public", "<KEEP>", "script", "<KEEP>", "type", "<KEEP>", "get", "<KEEP>", "script", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "script", "<DELETE>", "type", "<DELETE>", "type", "<DELETE>", "=", "<DELETE>", "script", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "no", "<DELETE>", "_", "<DELETE>", "type", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "script", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "pay", "<KEEP>", "to", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "hash", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "script", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "p2", "<KEEP>", "pkh", "<KEEP>", ";", "<DELETE>", "}", "<DELETE>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "script", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "pay", "<KEEP>", "to", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "script", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "p2", "<KEEP>", "pk", "<KEEP>", ";", "<DELETE>", "}", "<DELETE>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "script", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "pay", "<KEEP>", "to", "<KEEP>", "script", "<KEEP>", "hash", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "script", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "p2", "<KEEP>", "sh", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7968752136114674, "using": 2, "keep": 1}
{"id": "apache_tez-71-4282", "old_comment": "the array of source vertices names", "old_comment_tokens": ["the", "array", "of", "source", "vertices", "names"], "new_comment": "the array of source vertices ( or source vertex group ) names", "new_comment_tokens": ["the", "array", "of", "source", "vertices", "(", "or", "source", "vertex", "group", ")", "names"], "old_code": "public list < string > get source vertices ( ) { return collections . unmodifiable list ( arrays . as list ( source vertices ) ) ; }", "old_code_tokens": ["public", "list", "<", "string", ">", "get", "source", "vertices", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "arrays", ".", "as", "list", "(", "source", "vertices", ")", ")", ";", "}"], "new_code": "public list < string > get source vertices ( ) { return collections . unmodifiable list ( arrays . as list ( sources ) ) ; }", "new_code_tokens": ["public", "list", "<", "string", ">", "get", "source", "vertices", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "arrays", ".", "as", "list", "(", "sources", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public list < string > get source vertices ( ) { return collections . unmodifiable list ( arrays . as list ( <KEEP_END> <REPLACE_OLD> source vertices <REPLACE_NEW> sources <REPLACE_END> <KEEP> ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "string", ">", "get", "source", "vertices", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "arrays", ".", "as", "list", "(", "<KEEP_END>", "<REPLACE_OLD>", "source", "vertices", "<REPLACE_NEW>", "sources", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> vertices <INSERT_NEW_KEEP_BEFORE> vertices ( or source vertex group ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "vertices", "<INSERT_NEW_KEEP_BEFORE>", "vertices", "(", "or", "source", "vertex", "group", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "source", "<KEEP>", "vertices", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "list", "<KEEP>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "vertices", "<REPLACE_NEW>", "sources", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8926143725342293, "using": 0, "keep": 1}
{"id": "niklasb_pse-broadcast-encryption-10-5603", "old_comment": "the new user if he has been added successfully , else absent is returned .", "old_comment_tokens": ["the", "new", "user", "if", "he", "has", "been", "added", "successfully", ",", "else", "absent", "is", "returned", "."], "new_comment": "the new user if it has been added successfully or the already existing user object with the given name .", "new_comment_tokens": ["the", "new", "user", "if", "it", "has", "been", "added", "successfully", "or", "the", "already", "existing", "user", "object", "with", "the", "given", "name", "."], "old_code": "public optional < user < id > > create new user ( string name ) { if ( name = = null | | get user by name ( name ) . is present ( ) ) { return optional . absent ( ) ; } id user ident = users . get identity ( added users + + ) ; user < id > new one = new user < id > ( name , user ident ) ; user by name . put ( name , new one ) ; user by id . put ( user ident , new one ) ; return optional . of ( new one ) ; }", "old_code_tokens": ["public", "optional", "<", "user", "<", "id", ">", ">", "create", "new", "user", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "get", "user", "by", "name", "(", "name", ")", ".", "is", "present", "(", ")", ")", "{", "return", "optional", ".", "absent", "(", ")", ";", "}", "id", "user", "ident", "=", "users", ".", "get", "identity", "(", "added", "users", "+", "+", ")", ";", "user", "<", "id", ">", "new", "one", "=", "new", "user", "<", "id", ">", "(", "name", ",", "user", "ident", ")", ";", "user", "by", "name", ".", "put", "(", "name", ",", "new", "one", ")", ";", "user", "by", "id", ".", "put", "(", "user", "ident", ",", "new", "one", ")", ";", "return", "optional", ".", "of", "(", "new", "one", ")", ";", "}"], "new_code": "public user < id > create new user ( string name ) { user < id > already there = user by name . get ( name ) ; if ( already there ! = null ) { return already there ; } id user ident = users . get identity ( added users + + ) ; user < id > new one = new user < id > ( name , user ident ) ; user by name . put ( name , new one ) ; user by id . put ( user ident , new one ) ; return new one ; }", "new_code_tokens": ["public", "user", "<", "id", ">", "create", "new", "user", "(", "string", "name", ")", "{", "user", "<", "id", ">", "already", "there", "=", "user", "by", "name", ".", "get", "(", "name", ")", ";", "if", "(", "already", "there", "!", "=", "null", ")", "{", "return", "already", "there", ";", "}", "id", "user", "ident", "=", "users", ".", "get", "identity", "(", "added", "users", "+", "+", ")", ";", "user", "<", "id", ">", "new", "one", "=", "new", "user", "<", "id", ">", "(", "name", ",", "user", "ident", ")", ";", "user", "by", "name", ".", "put", "(", "name", ",", "new", "one", ")", ";", "user", "by", "id", ".", "put", "(", "user", "ident", ",", "new", "one", ")", ";", "return", "new", "one", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> optional < <DELETE_END> <KEEP> user < id <KEEP_END> <DELETE> > <DELETE_END> <KEEP> > create new user ( string name ) { <KEEP_END> <REPLACE_OLD> if ( name <REPLACE_NEW> user < id > already there <REPLACE_END> <KEEP> = <KEEP_END> <DELETE> = null | | get <DELETE_END> <KEEP> user by name <KEEP_END> <INSERT> . get <INSERT_END> <KEEP> ( name ) <KEEP_END> <REPLACE_OLD> . is present <REPLACE_NEW> ; if <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> already there ! = null <REPLACE_END> <KEEP> ) { return <KEEP_END> <REPLACE_OLD> optional . absent ( ) <REPLACE_NEW> already there <REPLACE_END> <KEEP> ; } id user ident = users . get identity ( added users + + ) ; user < id > new one = new user < id > ( name , user ident ) ; user by name . put ( name , new one ) ; user by id . put ( user ident , new one ) ; return <KEEP_END> <DELETE> optional . of ( <DELETE_END> <KEEP> new one <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "optional", "<", "<DELETE_END>", "<KEEP>", "user", "<", "id", "<KEEP_END>", "<DELETE>", ">", "<DELETE_END>", "<KEEP>", ">", "create", "new", "user", "(", "string", "name", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "name", "<REPLACE_NEW>", "user", "<", "id", ">", "already", "there", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<DELETE>", "=", "null", "|", "|", "get", "<DELETE_END>", "<KEEP>", "user", "by", "name", "<KEEP_END>", "<INSERT>", ".", "get", "<INSERT_END>", "<KEEP>", "(", "name", ")", "<KEEP_END>", "<REPLACE_OLD>", ".", "is", "present", "<REPLACE_NEW>", ";", "if", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "already", "there", "!", "=", "null", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "optional", ".", "absent", "(", ")", "<REPLACE_NEW>", "already", "there", "<REPLACE_END>", "<KEEP>", ";", "}", "id", "user", "ident", "=", "users", ".", "get", "identity", "(", "added", "users", "+", "+", ")", ";", "user", "<", "id", ">", "new", "one", "=", "new", "user", "<", "id", ">", "(", "name", ",", "user", "ident", ")", ";", "user", "by", "name", ".", "put", "(", "name", ",", "new", "one", ")", ";", "user", "by", "id", ".", "put", "(", "user", "ident", ",", "new", "one", ")", ";", "return", "<KEEP_END>", "<DELETE>", "optional", ".", "of", "(", "<DELETE_END>", "<KEEP>", "new", "one", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> he <REPLACE_NEW> it <REPLACE_END> <REPLACE_OLD> , else absent is returned <REPLACE_NEW> or the already existing user object with the given name <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "he", "<REPLACE_NEW>", "it", "<REPLACE_END>", "<REPLACE_OLD>", ",", "else", "absent", "is", "returned", "<REPLACE_NEW>", "or", "the", "already", "existing", "user", "object", "with", "the", "given", "name", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "optional", "<DELETE>", "<", "<KEEP>", "user", "<KEEP>", "<", "<KEEP>", "id", "<DELETE>", ">", "<KEEP>", ">", "<KEEP>", "create", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "already", "<REPLACE_NEW>", "there", "<KEEP>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "get", "<KEEP>", "user", "<KEEP>", "by", "<KEEP>", "name", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "present", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "already", "<REPLACE_NEW>", "there", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "optional", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "absent", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "already", "<REPLACE_NEW>", "there", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "id", "<KEEP>", "user", "<KEEP>", "ident", "<KEEP>", "=", "<KEEP>", "users", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "identity", "<KEEP>", "(", "<KEEP>", "added", "<KEEP>", "users", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "<", "<KEEP>", "id", "<KEEP>", ">", "<KEEP>", "new", "<KEEP>", "one", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "<", "<KEEP>", "id", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "user", "<KEEP>", "ident", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "by", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "by", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "ident", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "optional", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<KEEP>", "new", "<KEEP>", "one", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8009875801025214, "using": 1, "keep": 1}
{"id": "apache_struts-sandbox-32-5535", "old_comment": "definitions factory or null if not found .", "old_comment_tokens": ["definitions", "factory", "or", "null", "if", "not", "found", "."], "new_comment": "definitions impl or null if not found .", "new_comment_tokens": ["definitions", "impl", "or", "null", "if", "not", "found", "."], "old_code": "public definitions factory get definitions factory ( tiles application context tiles context ) { return ( definitions factory ) tiles context . get application scope ( ) . get ( definitions _ factory ) ; }", "old_code_tokens": ["public", "definitions", "factory", "get", "definitions", "factory", "(", "tiles", "application", "context", "tiles", "context", ")", "{", "return", "(", "definitions", "factory", ")", "tiles", "context", ".", "get", "application", "scope", "(", ")", ".", "get", "(", "definitions", "_", "factory", ")", ";", "}"], "new_code": "public definitions factory get definitions factory ( ) { return ( definitions factory ) application context . get application scope ( ) . get ( definitions _ factory ) ; }", "new_code_tokens": ["public", "definitions", "factory", "get", "definitions", "factory", "(", ")", "{", "return", "(", "definitions", "factory", ")", "application", "context", ".", "get", "application", "scope", "(", ")", ".", "get", "(", "definitions", "_", "factory", ")", ";", "}"], "span_diff_code": "<KEEP> public definitions factory get definitions factory ( <KEEP_END> <DELETE> tiles application context tiles context <DELETE_END> <KEEP> ) { return ( definitions factory ) <KEEP_END> <REPLACE_OLD> tiles <REPLACE_NEW> application <REPLACE_END> <KEEP> context . get application scope ( ) . get ( definitions _ factory ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "definitions", "factory", "get", "definitions", "factory", "(", "<KEEP_END>", "<DELETE>", "tiles", "application", "context", "tiles", "context", "<DELETE_END>", "<KEEP>", ")", "{", "return", "(", "definitions", "factory", ")", "<KEEP_END>", "<REPLACE_OLD>", "tiles", "<REPLACE_NEW>", "application", "<REPLACE_END>", "<KEEP>", "context", ".", "get", "application", "scope", "(", ")", ".", "get", "(", "definitions", "_", "factory", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> factory <REPLACE_NEW> impl <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "factory", "<REPLACE_NEW>", "impl", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "get", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", "(", "<DELETE>", "tiles", "<DELETE>", "application", "<DELETE>", "context", "<DELETE>", "tiles", "<DELETE>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "definitions", "<KEEP>", "factory", "<KEEP>", ")", "<REPLACE_OLD>", "tiles", "<REPLACE_NEW>", "application", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "application", "<KEEP>", "scope", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "definitions", "<KEEP>", "_", "<KEEP>", "factory", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8446595936592077, "using": 1, "keep": 1}
{"id": "Dimezis_BlurView-0-2779", "old_comment": "controller settings to setup needed params .", "old_comment_tokens": ["controller", "settings", "to", "setup", "needed", "params", "."], "new_comment": "blur view to setup needed params .", "new_comment_tokens": ["blur", "view", "to", "setup", "needed", "params", "."], "old_code": "public controller settings setup with ( @ non null view group root view ) { blur controller blur controller = new blocking blur controller ( this , root view ) ; set blur controller ( blur controller ) ; if ( ! is hardware accelerated ( ) ) { blur controller . set blur auto update ( false ) ; } return new controller settings ( blur controller ) ; }", "old_code_tokens": ["public", "controller", "settings", "setup", "with", "(", "@", "non", "null", "view", "group", "root", "view", ")", "{", "blur", "controller", "blur", "controller", "=", "new", "blocking", "blur", "controller", "(", "this", ",", "root", "view", ")", ";", "set", "blur", "controller", "(", "blur", "controller", ")", ";", "if", "(", "!", "is", "hardware", "accelerated", "(", ")", ")", "{", "blur", "controller", ".", "set", "blur", "auto", "update", "(", "false", ")", ";", "}", "return", "new", "controller", "settings", "(", "blur", "controller", ")", ";", "}"], "new_code": "public blur view setup with ( @ non null view group root view ) { blur controller blur controller = new blocking blur controller ( this , root view ) ; set blur controller ( blur controller ) ; if ( ! is hardware accelerated ( ) ) { blur controller . set blur auto update ( false ) ; } return this ; }", "new_code_tokens": ["public", "blur", "view", "setup", "with", "(", "@", "non", "null", "view", "group", "root", "view", ")", "{", "blur", "controller", "blur", "controller", "=", "new", "blocking", "blur", "controller", "(", "this", ",", "root", "view", ")", ";", "set", "blur", "controller", "(", "blur", "controller", ")", ";", "if", "(", "!", "is", "hardware", "accelerated", "(", ")", ")", "{", "blur", "controller", ".", "set", "blur", "auto", "update", "(", "false", ")", ";", "}", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> controller settings <REPLACE_NEW> blur view <REPLACE_END> <KEEP> setup with ( @ non null view group root view ) { blur controller blur controller = new blocking blur controller ( this , root view ) ; set blur controller ( blur controller ) ; if ( ! is hardware accelerated ( ) ) { blur controller . set blur auto update ( false ) ; } return <KEEP_END> <REPLACE_OLD> new controller settings ( blur controller ) <REPLACE_NEW> this <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "controller", "settings", "<REPLACE_NEW>", "blur", "view", "<REPLACE_END>", "<KEEP>", "setup", "with", "(", "@", "non", "null", "view", "group", "root", "view", ")", "{", "blur", "controller", "blur", "controller", "=", "new", "blocking", "blur", "controller", "(", "this", ",", "root", "view", ")", ";", "set", "blur", "controller", "(", "blur", "controller", ")", ";", "if", "(", "!", "is", "hardware", "accelerated", "(", ")", ")", "{", "blur", "controller", ".", "set", "blur", "auto", "update", "(", "false", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "controller", "settings", "(", "blur", "controller", ")", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> controller settings <REPLACE_NEW> blur view <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "controller", "settings", "<REPLACE_NEW>", "blur", "view", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "controller", "<REPLACE_OLD>", "settings", "<REPLACE_NEW>", "blur", "<REPLACE_NEW>", "view", "<KEEP>", "setup", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "view", "<KEEP>", "group", "<KEEP>", "root", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "blur", "<KEEP>", "controller", "<KEEP>", "blur", "<KEEP>", "controller", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "blocking", "<KEEP>", "blur", "<KEEP>", "controller", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "root", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "set", "<KEEP>", "blur", "<KEEP>", "controller", "<KEEP>", "(", "<KEEP>", "blur", "<KEEP>", "controller", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "is", "<KEEP>", "hardware", "<KEEP>", "accelerated", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "blur", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "blur", "<KEEP>", "auto", "<KEEP>", "update", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "controller", "<REPLACE_OLD>", "settings", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "blur", "<REPLACE_OLD>", "controller", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.982718860337831, "using": 2, "keep": 1}
{"id": "mwanji_toml4j-3-7361", "old_comment": "an empty list if no value is found for key .", "old_comment_tokens": ["an", "empty", "list", "if", "no", "value", "is", "found", "for", "key", "."], "new_comment": "a list of toml instances or null if no value is found for key .", "new_comment_tokens": ["a", "list", "of", "toml", "instances", "or", "null", "if", "no", "value", "is", "found", "for", "key", "."], "old_code": "@ suppress warnings ( str ) public list < toml > get tables ( string key ) { list < map < string , object > > table array = ( list < map < string , object > > ) get ( key ) ; if ( table array = = null ) { return collections . empty list ( ) ; } array list < toml > tables = new array list < toml > ( ) ; for ( map < string , object > table : table array ) { tables . add ( new toml ( null , table ) ) ; } return tables ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "list", "<", "toml", ">", "get", "tables", "(", "string", "key", ")", "{", "list", "<", "map", "<", "string", ",", "object", ">", ">", "table", "array", "=", "(", "list", "<", "map", "<", "string", ",", "object", ">", ">", ")", "get", "(", "key", ")", ";", "if", "(", "table", "array", "=", "=", "null", ")", "{", "return", "collections", ".", "empty", "list", "(", ")", ";", "}", "array", "list", "<", "toml", ">", "tables", "=", "new", "array", "list", "<", "toml", ">", "(", ")", ";", "for", "(", "map", "<", "string", ",", "object", ">", "table", ":", "table", "array", ")", "{", "tables", ".", "add", "(", "new", "toml", "(", "null", ",", "table", ")", ")", ";", "}", "return", "tables", ";", "}"], "new_code": "@ suppress warnings ( str ) public list < toml > get tables ( string key ) { list < map < string , object > > table array = ( list < map < string , object > > ) get ( key ) ; if ( table array = = null ) { return null ; } array list < toml > tables = new array list < toml > ( ) ; for ( map < string , object > table : table array ) { tables . add ( new toml ( null , table ) ) ; } return tables ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "list", "<", "toml", ">", "get", "tables", "(", "string", "key", ")", "{", "list", "<", "map", "<", "string", ",", "object", ">", ">", "table", "array", "=", "(", "list", "<", "map", "<", "string", ",", "object", ">", ">", ")", "get", "(", "key", ")", ";", "if", "(", "table", "array", "=", "=", "null", ")", "{", "return", "null", ";", "}", "array", "list", "<", "toml", ">", "tables", "=", "new", "array", "list", "<", "toml", ">", "(", ")", ";", "for", "(", "map", "<", "string", ",", "object", ">", "table", ":", "table", "array", ")", "{", "tables", ".", "add", "(", "new", "toml", "(", "null", ",", "table", ")", ")", ";", "}", "return", "tables", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) public list < toml > get tables ( string key ) { list < map < string , object > > table array = ( list < map < string , object > > ) get ( key ) ; if ( table array = = null ) { return <KEEP_END> <REPLACE_OLD> collections . empty list ( ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } array list < toml > tables = new array list < toml > ( ) ; for ( map < string , object > table : table array ) { tables . add ( new toml ( null , table ) ) ; } return tables ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "public", "list", "<", "toml", ">", "get", "tables", "(", "string", "key", ")", "{", "list", "<", "map", "<", "string", ",", "object", ">", ">", "table", "array", "=", "(", "list", "<", "map", "<", "string", ",", "object", ">", ">", ")", "get", "(", "key", ")", ";", "if", "(", "table", "array", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "collections", ".", "empty", "list", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "array", "list", "<", "toml", ">", "tables", "=", "new", "array", "list", "<", "toml", ">", "(", ")", ";", "for", "(", "map", "<", "string", ",", "object", ">", "table", ":", "table", "array", ")", "{", "tables", ".", "add", "(", "new", "toml", "(", "null", ",", "table", ")", ")", ";", "}", "return", "tables", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an empty <REPLACE_NEW> a <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> list <INSERT_NEW_KEEP_BEFORE> list of toml instances or null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "empty", "<REPLACE_NEW>", "a", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "list", "<INSERT_NEW_KEEP_BEFORE>", "list", "of", "toml", "instances", "or", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "toml", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "tables", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "table", "<KEEP>", "array", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "array", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "collections", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "toml", "<KEEP>", ">", "<KEEP>", "tables", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "toml", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "table", "<KEEP>", ":", "<KEEP>", "table", "<KEEP>", "array", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tables", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "toml", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "table", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "tables", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8926461194439834, "using": 1, "keep": 1}
{"id": "eclipse_ecf-48-4514", "old_comment": "iroster entry that is current workbenchwindow selection . returns null if nothing is selected .", "old_comment_tokens": ["iroster", "entry", "that", "is", "current", "workbenchwindow", "selection", ".", "returns", "null", "if", "nothing", "is", "selected", "."], "new_comment": "iroster entry that is current workbenchwindow selection . returns null if nothing is selected or if something other than iroster entry is selected .", "new_comment_tokens": ["iroster", "entry", "that", "is", "current", "workbenchwindow", "selection", ".", "returns", "null", "if", "nothing", "is", "selected", "or", "if", "something", "other", "than", "iroster", "entry", "is", "selected", "."], "old_code": "protected iroster entry get selected roster entry ( ) { return ( iroster entry ) get selection ( ) ; }", "old_code_tokens": ["protected", "iroster", "entry", "get", "selected", "roster", "entry", "(", ")", "{", "return", "(", "iroster", "entry", ")", "get", "selection", "(", ")", ";", "}"], "new_code": "protected iroster entry get selected roster entry ( ) { object selection = get selection ( ) ; if ( selection instanceof iroster entry ) return ( iroster entry ) selection ; return null ; }", "new_code_tokens": ["protected", "iroster", "entry", "get", "selected", "roster", "entry", "(", ")", "{", "object", "selection", "=", "get", "selection", "(", ")", ";", "if", "(", "selection", "instanceof", "iroster", "entry", ")", "return", "(", "iroster", "entry", ")", "selection", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> protected iroster entry get selected roster entry ( ) { <KEEP_END> <INSERT> object selection = get selection ( ) ; if ( selection instanceof iroster entry ) <INSERT_END> <KEEP> return ( iroster entry ) <KEEP_END> <DELETE> get <DELETE_END> <KEEP> selection <KEEP_END> <REPLACE_OLD> ( ) <REPLACE_NEW> ; return null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "iroster", "entry", "get", "selected", "roster", "entry", "(", ")", "{", "<KEEP_END>", "<INSERT>", "object", "selection", "=", "get", "selection", "(", ")", ";", "if", "(", "selection", "instanceof", "iroster", "entry", ")", "<INSERT_END>", "<KEEP>", "return", "(", "iroster", "entry", ")", "<KEEP_END>", "<DELETE>", "get", "<DELETE_END>", "<KEEP>", "selection", "<KEEP_END>", "<REPLACE_OLD>", "(", ")", "<REPLACE_NEW>", ";", "return", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> selected <INSERT_NEW_KEEP_BEFORE> selected or if something other than iroster entry is selected <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "selected", "<INSERT_NEW_KEEP_BEFORE>", "selected", "or", "if", "something", "other", "than", "iroster", "entry", "is", "selected", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "iroster", "<KEEP>", "entry", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "roster", "<KEEP>", "entry", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "object", "<INSERT>", "selection", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "selection", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "selection", "<INSERT>", "instanceof", "<INSERT>", "iroster", "<INSERT>", "entry", "<INSERT>", ")", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "iroster", "<KEEP>", "entry", "<KEEP>", ")", "<DELETE>", "get", "<KEEP>", "selection", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8840047705687576, "using": 0, "keep": 1}
{"id": "mwanji_toml4j-2-7360", "old_comment": "a new toml instance . empty if no value is found for key .", "old_comment_tokens": ["a", "new", "toml", "instance", ".", "empty", "if", "no", "value", "is", "found", "for", "key", "."], "new_comment": "a new toml instance or null if no value is found for key .", "new_comment_tokens": ["a", "new", "toml", "instance", "or", "null", "if", "no", "value", "is", "found", "for", "key", "."], "old_code": "@ suppress warnings ( str ) public toml get table ( string key ) { return new toml ( null , ( map < string , object > ) get ( key ) ) ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "toml", "get", "table", "(", "string", "key", ")", "{", "return", "new", "toml", "(", "null", ",", "(", "map", "<", "string", ",", "object", ">", ")", "get", "(", "key", ")", ")", ";", "}"], "new_code": "@ suppress warnings ( str ) public toml get table ( string key ) { map < string , object > map = ( map < string , object > ) get ( key ) ; return map ! = null ? new toml ( null , map ) : null ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "toml", "get", "table", "(", "string", "key", ")", "{", "map", "<", "string", ",", "object", ">", "map", "=", "(", "map", "<", "string", ",", "object", ">", ")", "get", "(", "key", ")", ";", "return", "map", "!", "=", "null", "?", "new", "toml", "(", "null", ",", "map", ")", ":", "null", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) public toml get table ( string key ) { <KEEP_END> <REPLACE_OLD> return new toml ( null <REPLACE_NEW> map < string <REPLACE_END> <KEEP> , <KEEP_END> <INSERT> object > map = <INSERT_END> <KEEP> ( map < string , object > ) get ( key ) <KEEP_END> <INSERT> ; return map ! = null ? new toml ( null , map <INSERT_END> <KEEP> ) <KEEP_END> <INSERT> : null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "public", "toml", "get", "table", "(", "string", "key", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "new", "toml", "(", "null", "<REPLACE_NEW>", "map", "<", "string", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<INSERT>", "object", ">", "map", "=", "<INSERT_END>", "<KEEP>", "(", "map", "<", "string", ",", "object", ">", ")", "get", "(", "key", ")", "<KEEP_END>", "<INSERT>", ";", "return", "map", "!", "=", "null", "?", "new", "toml", "(", "null", ",", "map", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", ":", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> . empty <REPLACE_NEW> or null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ".", "empty", "<REPLACE_NEW>", "or", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "toml", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "toml", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<KEEP>", ",", "<INSERT>", "object", "<INSERT>", ">", "<INSERT>", "map", "<INSERT>", "=", "<KEEP>", "(", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "map", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "new", "<INSERT>", "toml", "<INSERT>", "(", "<INSERT>", "null", "<INSERT>", ",", "<INSERT>", "map", "<KEEP>", ")", "<INSERT>", ":", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9375901818909467, "using": 0, "keep": 1}
{"id": "rtreffer_minidns-10-6352", "old_comment": "the server array .", "old_comment_tokens": ["the", "server", "array", "."], "new_comment": "a list of dns server ip addresses configured for this system .", "new_comment_tokens": ["a", "list", "of", "dns", "server", "ip", "addresses", "configured", "for", "this", "system", "."], "old_code": "public static synchronized string [ ] find dns ( ) { string [ ] res array = null ; for ( dnsserver lookup mechanism mechanism : lookup _ mechanisms ) { res array = mechanism . get dns server addresses ( ) ; if ( res array = = null ) { continue ; } list < string > res = new array list < > ( arrays . as list ( res array ) ) ; iterator < string > it = res . iterator ( ) ; while ( it . has next ( ) ) { string potential dns server = it . next ( ) ; if ( blacklisted dns servers . contains ( potential dns server ) ) { logger . fine ( str + mechanism . get name ( ) + str + potential dns server + str ) ; it . remove ( ) ; } } if ( ! res . is empty ( ) ) { break ; } } return res array ; }", "old_code_tokens": ["public", "static", "synchronized", "string", "[", "]", "find", "dns", "(", ")", "{", "string", "[", "]", "res", "array", "=", "null", ";", "for", "(", "dnsserver", "lookup", "mechanism", "mechanism", ":", "lookup", "_", "mechanisms", ")", "{", "res", "array", "=", "mechanism", ".", "get", "dns", "server", "addresses", "(", ")", ";", "if", "(", "res", "array", "=", "=", "null", ")", "{", "continue", ";", "}", "list", "<", "string", ">", "res", "=", "new", "array", "list", "<", ">", "(", "arrays", ".", "as", "list", "(", "res", "array", ")", ")", ";", "iterator", "<", "string", ">", "it", "=", "res", ".", "iterator", "(", ")", ";", "while", "(", "it", ".", "has", "next", "(", ")", ")", "{", "string", "potential", "dns", "server", "=", "it", ".", "next", "(", ")", ";", "if", "(", "blacklisted", "dns", "servers", ".", "contains", "(", "potential", "dns", "server", ")", ")", "{", "logger", ".", "fine", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", "+", "potential", "dns", "server", "+", "str", ")", ";", "it", ".", "remove", "(", ")", ";", "}", "}", "if", "(", "!", "res", ".", "is", "empty", "(", ")", ")", "{", "break", ";", "}", "}", "return", "res", "array", ";", "}"], "new_code": "public static list < string > find dns ( ) { list < string > res = null ; for ( dnsserver lookup mechanism mechanism : lookup _ mechanisms ) { res = mechanism . get dns server addresses ( ) ; if ( res = = null ) { continue ; } assert ( ! res . is empty ( ) ) ; iterator < string > it = res . iterator ( ) ; while ( it . has next ( ) ) { string potential dns server = it . next ( ) ; if ( ! inet address util . is ip address ( potential dns server ) ) { logger . warning ( str + mechanism . get name ( ) + str + potential dns server + str ) ; it . remove ( ) ; } else if ( blacklisted dns servers . contains ( potential dns server ) ) { logger . fine ( str + mechanism . get name ( ) + str + potential dns server + str ) ; it . remove ( ) ; } } if ( ! res . is empty ( ) ) { break ; } else { logger . warning ( str + mechanism . get name ( ) + str ) ; } } return res ; }", "new_code_tokens": ["public", "static", "list", "<", "string", ">", "find", "dns", "(", ")", "{", "list", "<", "string", ">", "res", "=", "null", ";", "for", "(", "dnsserver", "lookup", "mechanism", "mechanism", ":", "lookup", "_", "mechanisms", ")", "{", "res", "=", "mechanism", ".", "get", "dns", "server", "addresses", "(", ")", ";", "if", "(", "res", "=", "=", "null", ")", "{", "continue", ";", "}", "assert", "(", "!", "res", ".", "is", "empty", "(", ")", ")", ";", "iterator", "<", "string", ">", "it", "=", "res", ".", "iterator", "(", ")", ";", "while", "(", "it", ".", "has", "next", "(", ")", ")", "{", "string", "potential", "dns", "server", "=", "it", ".", "next", "(", ")", ";", "if", "(", "!", "inet", "address", "util", ".", "is", "ip", "address", "(", "potential", "dns", "server", ")", ")", "{", "logger", ".", "warning", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", "+", "potential", "dns", "server", "+", "str", ")", ";", "it", ".", "remove", "(", ")", ";", "}", "else", "if", "(", "blacklisted", "dns", "servers", ".", "contains", "(", "potential", "dns", "server", ")", ")", "{", "logger", ".", "fine", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", "+", "potential", "dns", "server", "+", "str", ")", ";", "it", ".", "remove", "(", ")", ";", "}", "}", "if", "(", "!", "res", ".", "is", "empty", "(", ")", ")", "{", "break", ";", "}", "else", "{", "logger", ".", "warning", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "}", "return", "res", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> synchronized string [ ] <REPLACE_NEW> list < string > <REPLACE_END> <KEEP> find dns ( ) { <KEEP_END> <REPLACE_OLD> string [ ] res array <REPLACE_NEW> list < string > res <REPLACE_END> <KEEP> = null ; for ( dnsserver lookup mechanism mechanism : lookup _ mechanisms ) { res <KEEP_END> <DELETE> array <DELETE_END> <KEEP> = mechanism . get dns server addresses ( ) ; if ( res <KEEP_END> <DELETE> array <DELETE_END> <KEEP> = = null ) { continue ; } <KEEP_END> <REPLACE_OLD> list < string > res = new array list < > ( arrays . as list ( res array <REPLACE_NEW> assert ( ! res . is empty ( <REPLACE_END> <KEEP> ) ) ; iterator < string > it = res . iterator ( ) ; while ( it . has next ( ) ) { string potential dns server = it . next ( ) ; if ( <KEEP_END> <INSERT> ! inet address util . is ip address ( potential dns server ) ) { logger . warning ( str + mechanism . get name ( ) + str + potential dns server + str ) ; it . remove ( ) ; } else if ( <INSERT_END> <KEEP> blacklisted dns servers . contains ( potential dns server ) ) { logger . fine ( str + mechanism . get name ( ) + str + potential dns server + str ) ; it . remove ( ) ; } } if ( ! res . is empty ( ) ) { break ; } <KEEP_END> <INSERT> else { logger . warning ( str + mechanism . get name ( ) + str ) ; } <INSERT_END> <KEEP> } return res <KEEP_END> <REPLACE_OLD> array ; } <REPLACE_NEW> ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "synchronized", "string", "[", "]", "<REPLACE_NEW>", "list", "<", "string", ">", "<REPLACE_END>", "<KEEP>", "find", "dns", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "[", "]", "res", "array", "<REPLACE_NEW>", "list", "<", "string", ">", "res", "<REPLACE_END>", "<KEEP>", "=", "null", ";", "for", "(", "dnsserver", "lookup", "mechanism", "mechanism", ":", "lookup", "_", "mechanisms", ")", "{", "res", "<KEEP_END>", "<DELETE>", "array", "<DELETE_END>", "<KEEP>", "=", "mechanism", ".", "get", "dns", "server", "addresses", "(", ")", ";", "if", "(", "res", "<KEEP_END>", "<DELETE>", "array", "<DELETE_END>", "<KEEP>", "=", "=", "null", ")", "{", "continue", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "string", ">", "res", "=", "new", "array", "list", "<", ">", "(", "arrays", ".", "as", "list", "(", "res", "array", "<REPLACE_NEW>", "assert", "(", "!", "res", ".", "is", "empty", "(", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "iterator", "<", "string", ">", "it", "=", "res", ".", "iterator", "(", ")", ";", "while", "(", "it", ".", "has", "next", "(", ")", ")", "{", "string", "potential", "dns", "server", "=", "it", ".", "next", "(", ")", ";", "if", "(", "<KEEP_END>", "<INSERT>", "!", "inet", "address", "util", ".", "is", "ip", "address", "(", "potential", "dns", "server", ")", ")", "{", "logger", ".", "warning", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", "+", "potential", "dns", "server", "+", "str", ")", ";", "it", ".", "remove", "(", ")", ";", "}", "else", "if", "(", "<INSERT_END>", "<KEEP>", "blacklisted", "dns", "servers", ".", "contains", "(", "potential", "dns", "server", ")", ")", "{", "logger", ".", "fine", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", "+", "potential", "dns", "server", "+", "str", ")", ";", "it", ".", "remove", "(", ")", ";", "}", "}", "if", "(", "!", "res", ".", "is", "empty", "(", ")", ")", "{", "break", ";", "}", "<KEEP_END>", "<INSERT>", "else", "{", "logger", ".", "warning", "(", "str", "+", "mechanism", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "<INSERT_END>", "<KEEP>", "}", "return", "res", "<KEEP_END>", "<REPLACE_OLD>", "array", ";", "}", "<REPLACE_NEW>", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the <REPLACE_NEW> a list of dns <REPLACE_END> <REPLACE_OLD> array <REPLACE_NEW> ip addresses configured for this system <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "<REPLACE_NEW>", "a", "list", "of", "dns", "<REPLACE_END>", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "ip", "addresses", "configured", "for", "this", "system", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "synchronized", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<KEEP>", "find", "<KEEP>", "dns", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "res", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "dnsserver", "<KEEP>", "lookup", "<KEEP>", "mechanism", "<KEEP>", "mechanism", "<KEEP>", ":", "<KEEP>", "lookup", "<KEEP>", "_", "<KEEP>", "mechanisms", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "res", "<DELETE>", "array", "<KEEP>", "=", "<KEEP>", "mechanism", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "dns", "<KEEP>", "server", "<KEEP>", "addresses", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "res", "<DELETE>", "array", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "arrays", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "assert", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "res", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "empty", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "it", "<KEEP>", "=", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "it", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "potential", "<KEEP>", "dns", "<KEEP>", "server", "<KEEP>", "=", "<KEEP>", "it", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "!", "<INSERT>", "inet", "<INSERT>", "address", "<INSERT>", "util", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "ip", "<INSERT>", "address", "<INSERT>", "(", "<INSERT>", "potential", "<INSERT>", "dns", "<INSERT>", "server", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "warning", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "mechanism", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "potential", "<INSERT>", "dns", "<INSERT>", "server", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "it", "<INSERT>", ".", "<INSERT>", "remove", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<KEEP>", "blacklisted", "<KEEP>", "dns", "<KEEP>", "servers", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "potential", "<KEEP>", "dns", "<KEEP>", "server", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "fine", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "mechanism", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "potential", "<KEEP>", "dns", "<KEEP>", "server", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "it", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "warning", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "mechanism", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "res", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.817747522126303, "using": 2, "keep": 1}
{"id": "networknt_light-4j-2-2862", "old_comment": "a validation report containing accumulated validation errors", "old_comment_tokens": ["a", "validation", "report", "containing", "accumulated", "validation", "errors"], "new_comment": "a status containing error code and description", "new_comment_tokens": ["a", "status", "containing", "error", "code", "and", "description"], "old_code": "public validation report validate ( final string value , final property schema ) { return do validate ( value , schema ) ; }", "old_code_tokens": ["public", "validation", "report", "validate", "(", "final", "string", "value", ",", "final", "property", "schema", ")", "{", "return", "do", "validate", "(", "value", ",", "schema", ")", ";", "}"], "new_code": "public status validate ( final string value , final property schema ) { return do validate ( value , schema ) ; }", "new_code_tokens": ["public", "status", "validate", "(", "final", "string", "value", ",", "final", "property", "schema", ")", "{", "return", "do", "validate", "(", "value", ",", "schema", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> validation report <REPLACE_NEW> status <REPLACE_END> <KEEP> validate ( final string value , final property schema ) { return do validate ( value , schema ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<KEEP>", "validate", "(", "final", "string", "value", ",", "final", "property", "schema", ")", "{", "return", "do", "validate", "(", "value", ",", "schema", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> validation report <REPLACE_NEW> status <REPLACE_END> <REPLACE_OLD> accumulated validation errors <REPLACE_NEW> error code and description <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<REPLACE_OLD>", "accumulated", "validation", "errors", "<REPLACE_NEW>", "error", "code", "and", "description", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_NEW>", "status", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "property", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "do", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8280546800873853, "using": 1, "keep": 1}
{"id": "UnimibSoftEngCourse1516_lab4-es1-v.popescu2-246-4148", "old_comment": "the log likelihood of the correct answer as estimated by the current model . this will always be < = 0 and larger ( closer to 0 ) indicates better accuracy . in order to simplify code that maintains running averages , we bound this value at - 100 .", "old_comment_tokens": ["the", "log", "likelihood", "of", "the", "correct", "answer", "as", "estimated", "by", "the", "current", "model", ".", "this", "will", "always", "be", "<", "=", "0", "and", "larger", "(", "closer", "to", "0", ")", "indicates", "better", "accuracy", ".", "in", "order", "to", "simplify", "code", "that", "maintains", "running", "averages", ",", "we", "bound", "this", "value", "at", "-", "100", "."], "new_comment": "the log likelihood of the correct answer as estimated by the current model . this will always be < = 0 and larger ( closer to 0 ) indicates better accuracy . in order to simplify code that maintains eunning averages , we bound this value at - 100 .", "new_comment_tokens": ["the", "log", "likelihood", "of", "the", "correct", "answer", "as", "estimated", "by", "the", "current", "model", ".", "this", "will", "always", "be", "<", "=", "0", "and", "larger", "(", "closer", "to", "0", ")", "indicates", "better", "accuracy", ".", "in", "order", "to", "simplify", "code", "that", "maintains", "eunning", "averages", ",", "we", "bound", "this", "value", "at", "-", "100", "."], "old_code": "public double log likelihood ( int actual , vector data ) { if ( num categories ( ) = = num ) { double p = classify scalar ( data ) ; if ( actual > num ) { return math . max ( - num , math . log ( p ) ) ; } else { return math . max ( - num , math . log1p ( - p ) ) ; } } else { vector p = classify ( data ) ; if ( actual > num ) { return math . max ( - num , math . log ( p . get ( actual - num ) ) ) ; } else { return math . max ( - num , math . log1p ( - p . z sum ( ) ) ) ; } } }", "old_code_tokens": ["public", "double", "log", "likelihood", "(", "int", "actual", ",", "vector", "data", ")", "{", "if", "(", "num", "categories", "(", ")", "=", "=", "num", ")", "{", "double", "p", "=", "classify", "scalar", "(", "data", ")", ";", "if", "(", "actual", ">", "num", ")", "{", "return", "math", ".", "max", "(", "-", "num", ",", "math", ".", "log", "(", "p", ")", ")", ";", "}", "else", "{", "return", "math", ".", "max", "(", "-", "num", ",", "math", ".", "log1p", "(", "-", "p", ")", ")", ";", "}", "}", "else", "{", "vector", "p", "=", "classify", "(", "data", ")", ";", "if", "(", "actual", ">", "num", ")", "{", "return", "math", ".", "max", "(", "-", "num", ",", "math", ".", "log", "(", "p", ".", "get", "(", "actual", "-", "num", ")", ")", ")", ";", "}", "else", "{", "return", "math", ".", "max", "(", "-", "num", ",", "math", ".", "log1p", "(", "-", "p", ".", "z", "sum", "(", ")", ")", ")", ";", "}", "}", "}"], "new_code": "public double log likelihood ( int actual , vector data ) { if ( num categories ( ) = = num ) { double p = classify scalar ( data ) ; if ( actual > num ) { return math . max ( min _ log _ likelihood , math . log ( p ) ) ; } else { return math . max ( min _ log _ likelihood , math . log1p ( - p ) ) ; } } else { vector p = classify ( data ) ; if ( actual > num ) { return math . max ( min _ log _ likelihood , math . log ( p . get ( actual - num ) ) ) ; } else { return math . max ( min _ log _ likelihood , math . log1p ( - p . z sum ( ) ) ) ; } } }", "new_code_tokens": ["public", "double", "log", "likelihood", "(", "int", "actual", ",", "vector", "data", ")", "{", "if", "(", "num", "categories", "(", ")", "=", "=", "num", ")", "{", "double", "p", "=", "classify", "scalar", "(", "data", ")", ";", "if", "(", "actual", ">", "num", ")", "{", "return", "math", ".", "max", "(", "min", "_", "log", "_", "likelihood", ",", "math", ".", "log", "(", "p", ")", ")", ";", "}", "else", "{", "return", "math", ".", "max", "(", "min", "_", "log", "_", "likelihood", ",", "math", ".", "log1p", "(", "-", "p", ")", ")", ";", "}", "}", "else", "{", "vector", "p", "=", "classify", "(", "data", ")", ";", "if", "(", "actual", ">", "num", ")", "{", "return", "math", ".", "max", "(", "min", "_", "log", "_", "likelihood", ",", "math", ".", "log", "(", "p", ".", "get", "(", "actual", "-", "num", ")", ")", ")", ";", "}", "else", "{", "return", "math", ".", "max", "(", "min", "_", "log", "_", "likelihood", ",", "math", ".", "log1p", "(", "-", "p", ".", "z", "sum", "(", ")", ")", ")", ";", "}", "}", "}"], "span_diff_code": "<KEEP> public double log likelihood ( int actual , vector data ) { if ( num categories ( ) = = num ) { double p = classify scalar ( data ) ; if ( actual > num ) { return math . max ( <KEEP_END> <REPLACE_OLD> - num <REPLACE_NEW> min _ log _ likelihood <REPLACE_END> <KEEP> , math . log ( p ) ) ; } else { return math . max ( <KEEP_END> <REPLACE_OLD> - num <REPLACE_NEW> min _ log _ likelihood <REPLACE_END> <KEEP> , math . log1p ( - p ) ) ; } } else { vector p = classify ( data ) ; if ( actual > num ) { return math . max ( <KEEP_END> <REPLACE_OLD> - num <REPLACE_NEW> min _ log _ likelihood <REPLACE_END> <KEEP> , math . log ( p . get ( actual - num ) ) ) ; } else { return math . max ( <KEEP_END> <REPLACE_OLD> - num <REPLACE_NEW> min _ log _ likelihood <REPLACE_END> <KEEP> , math . log1p ( - p . z sum ( ) ) ) ; } } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "log", "likelihood", "(", "int", "actual", ",", "vector", "data", ")", "{", "if", "(", "num", "categories", "(", ")", "=", "=", "num", ")", "{", "double", "p", "=", "classify", "scalar", "(", "data", ")", ";", "if", "(", "actual", ">", "num", ")", "{", "return", "math", ".", "max", "(", "<KEEP_END>", "<REPLACE_OLD>", "-", "num", "<REPLACE_NEW>", "min", "_", "log", "_", "likelihood", "<REPLACE_END>", "<KEEP>", ",", "math", ".", "log", "(", "p", ")", ")", ";", "}", "else", "{", "return", "math", ".", "max", "(", "<KEEP_END>", "<REPLACE_OLD>", "-", "num", "<REPLACE_NEW>", "min", "_", "log", "_", "likelihood", "<REPLACE_END>", "<KEEP>", ",", "math", ".", "log1p", "(", "-", "p", ")", ")", ";", "}", "}", "else", "{", "vector", "p", "=", "classify", "(", "data", ")", ";", "if", "(", "actual", ">", "num", ")", "{", "return", "math", ".", "max", "(", "<KEEP_END>", "<REPLACE_OLD>", "-", "num", "<REPLACE_NEW>", "min", "_", "log", "_", "likelihood", "<REPLACE_END>", "<KEEP>", ",", "math", ".", "log", "(", "p", ".", "get", "(", "actual", "-", "num", ")", ")", ")", ";", "}", "else", "{", "return", "math", ".", "max", "(", "<KEEP_END>", "<REPLACE_OLD>", "-", "num", "<REPLACE_NEW>", "min", "_", "log", "_", "likelihood", "<REPLACE_END>", "<KEEP>", ",", "math", ".", "log1p", "(", "-", "p", ".", "z", "sum", "(", ")", ")", ")", ";", "}", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> running <REPLACE_NEW> eunning <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "running", "<REPLACE_NEW>", "eunning", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "log", "<KEEP>", "likelihood", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "actual", "<KEEP>", ",", "<KEEP>", "vector", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "categories", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "double", "<KEEP>", "p", "<KEEP>", "=", "<KEEP>", "classify", "<KEEP>", "scalar", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "actual", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "min", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "likelihood", "<KEEP>", ",", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "p", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "min", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "likelihood", "<KEEP>", ",", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "log1p", "<KEEP>", "(", "<KEEP>", "-", "<KEEP>", "p", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "vector", "<KEEP>", "p", "<KEEP>", "=", "<KEEP>", "classify", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "actual", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "min", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "likelihood", "<KEEP>", ",", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "p", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "actual", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "min", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "likelihood", "<KEEP>", ",", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "log1p", "<KEEP>", "(", "<KEEP>", "-", "<KEEP>", "p", "<KEEP>", ".", "<KEEP>", "z", "<KEEP>", "sum", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8437119300720652, "using": 0, "keep": 1}
{"id": "eclipse_tycho-9-6527", "old_comment": "the maven coordinates stored in the given descriptor , or null", "old_comment_tokens": ["the", "maven", "coordinates", "stored", "in", "the", "given", "descriptor", ",", "or", "null"], "new_comment": "the maven coordinates stored in the properties of the given descriptor , or null", "new_comment_tokens": ["the", "maven", "coordinates", "stored", "in", "the", "properties", "of", "the", "given", "descriptor", ",", "or", "null"], "old_code": "public static maven artifact coordinates read maven coordinate properties ( iartifact descriptor descriptor ) { gav gav = repository layout helper . get gav ( descriptor . get properties ( ) ) ; if ( gav = = null ) { return null ; } string classifier = repository layout helper . get classifier ( descriptor . get properties ( ) ) ; string extension = repository layout helper . get extension ( descriptor . get properties ( ) ) ; return new maven artifact coordinates ( gav , classifier , extension ) ; }", "old_code_tokens": ["public", "static", "maven", "artifact", "coordinates", "read", "maven", "coordinate", "properties", "(", "iartifact", "descriptor", "descriptor", ")", "{", "gav", "gav", "=", "repository", "layout", "helper", ".", "get", "gav", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "if", "(", "gav", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "classifier", "=", "repository", "layout", "helper", ".", "get", "classifier", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "string", "extension", "=", "repository", "layout", "helper", ".", "get", "extension", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "return", "new", "maven", "artifact", "coordinates", "(", "gav", ",", "classifier", ",", "extension", ")", ";", "}"], "new_code": "public static maven repository coordinates read maven coordinate properties ( iartifact descriptor descriptor ) { gav gav = repository layout helper . get gav ( descriptor . get properties ( ) ) ; if ( gav = = null ) { return null ; } string classifier = repository layout helper . get classifier ( descriptor . get properties ( ) ) ; string extension = repository layout helper . get extension ( descriptor . get properties ( ) ) ; return new maven repository coordinates ( gav , classifier , extension ) ; }", "new_code_tokens": ["public", "static", "maven", "repository", "coordinates", "read", "maven", "coordinate", "properties", "(", "iartifact", "descriptor", "descriptor", ")", "{", "gav", "gav", "=", "repository", "layout", "helper", ".", "get", "gav", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "if", "(", "gav", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "classifier", "=", "repository", "layout", "helper", ".", "get", "classifier", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "string", "extension", "=", "repository", "layout", "helper", ".", "get", "extension", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "return", "new", "maven", "repository", "coordinates", "(", "gav", ",", "classifier", ",", "extension", ")", ";", "}"], "span_diff_code": "<KEEP> public static maven <KEEP_END> <REPLACE_OLD> artifact <REPLACE_NEW> repository <REPLACE_END> <KEEP> coordinates read maven coordinate properties ( iartifact descriptor descriptor ) { gav gav = repository layout helper . get gav ( descriptor . get properties ( ) ) ; if ( gav = = null ) { return null ; } string classifier = repository layout helper . get classifier ( descriptor . get properties ( ) ) ; string extension = repository layout helper . get extension ( descriptor . get properties ( ) ) ; return new maven <KEEP_END> <REPLACE_OLD> artifact <REPLACE_NEW> repository <REPLACE_END> <KEEP> coordinates ( gav , classifier , extension ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "maven", "<KEEP_END>", "<REPLACE_OLD>", "artifact", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "coordinates", "read", "maven", "coordinate", "properties", "(", "iartifact", "descriptor", "descriptor", ")", "{", "gav", "gav", "=", "repository", "layout", "helper", ".", "get", "gav", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "if", "(", "gav", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "classifier", "=", "repository", "layout", "helper", ".", "get", "classifier", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "string", "extension", "=", "repository", "layout", "helper", ".", "get", "extension", "(", "descriptor", ".", "get", "properties", "(", ")", ")", ";", "return", "new", "maven", "<KEEP_END>", "<REPLACE_OLD>", "artifact", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "coordinates", "(", "gav", ",", "classifier", ",", "extension", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the properties of the <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "properties", "of", "the", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "maven", "<REPLACE_OLD>", "artifact", "<REPLACE_NEW>", "repository", "<KEEP>", "coordinates", "<KEEP>", "read", "<KEEP>", "maven", "<KEEP>", "coordinate", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", "iartifact", "<KEEP>", "descriptor", "<KEEP>", "descriptor", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "gav", "<KEEP>", "gav", "<KEEP>", "=", "<KEEP>", "repository", "<KEEP>", "layout", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "gav", "<KEEP>", "(", "<KEEP>", "descriptor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "gav", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "classifier", "<KEEP>", "=", "<KEEP>", "repository", "<KEEP>", "layout", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "classifier", "<KEEP>", "(", "<KEEP>", "descriptor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "extension", "<KEEP>", "=", "<KEEP>", "repository", "<KEEP>", "layout", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "extension", "<KEEP>", "(", "<KEEP>", "descriptor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "maven", "<REPLACE_OLD>", "artifact", "<REPLACE_NEW>", "repository", "<KEEP>", "coordinates", "<KEEP>", "(", "<KEEP>", "gav", "<KEEP>", ",", "<KEEP>", "classifier", "<KEEP>", ",", "<KEEP>", "extension", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9716284551913024, "using": 0, "keep": 1}
{"id": "CalebFenton_simplify-0-2988", "old_comment": "builder method for method descriptor or null if not found", "old_comment_tokens": ["builder", "method", "for", "method", "descriptor", "or", "null", "if", "not", "found"], "new_comment": "builder method for method signature or null if not found", "new_comment_tokens": ["builder", "method", "for", "method", "signature", "or", "null", "if", "not", "found"], "old_code": "public builder method get method ( string method descriptor ) { dexify class if necessary ( method descriptor ) ; return method descriptor to method . get ( method descriptor ) ; }", "old_code_tokens": ["public", "builder", "method", "get", "method", "(", "string", "method", "descriptor", ")", "{", "dexify", "class", "if", "necessary", "(", "method", "descriptor", ")", ";", "return", "method", "descriptor", "to", "method", ".", "get", "(", "method", "descriptor", ")", ";", "}"], "new_code": "public builder method get method ( string method signature ) { dexify class if necessary ( method signature ) ; return method signature to method . get ( method signature ) ; }", "new_code_tokens": ["public", "builder", "method", "get", "method", "(", "string", "method", "signature", ")", "{", "dexify", "class", "if", "necessary", "(", "method", "signature", ")", ";", "return", "method", "signature", "to", "method", ".", "get", "(", "method", "signature", ")", ";", "}"], "span_diff_code": "<KEEP> public builder method get method ( string method <KEEP_END> <REPLACE_OLD> descriptor <REPLACE_NEW> signature <REPLACE_END> <KEEP> ) { dexify class if necessary ( method <KEEP_END> <REPLACE_OLD> descriptor <REPLACE_NEW> signature <REPLACE_END> <KEEP> ) ; return method <KEEP_END> <REPLACE_OLD> descriptor <REPLACE_NEW> signature <REPLACE_END> <KEEP> to method . get ( method <KEEP_END> <REPLACE_OLD> descriptor <REPLACE_NEW> signature <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "builder", "method", "get", "method", "(", "string", "method", "<KEEP_END>", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<REPLACE_END>", "<KEEP>", ")", "{", "dexify", "class", "if", "necessary", "(", "method", "<KEEP_END>", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "method", "<KEEP_END>", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<REPLACE_END>", "<KEEP>", "to", "method", ".", "get", "(", "method", "<KEEP_END>", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> descriptor <REPLACE_NEW> signature <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "builder", "<KEEP>", "method", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "method", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "dexify", "<KEEP>", "class", "<KEEP>", "if", "<KEEP>", "necessary", "<KEEP>", "(", "<KEEP>", "method", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "method", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<KEEP>", "to", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "method", "<REPLACE_OLD>", "descriptor", "<REPLACE_NEW>", "signature", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.981084085141266, "using": 2, "keep": 1}
{"id": "softctrl_SCAndMoneyManagerEX-50-4888", "old_comment": "the m shown balance", "old_comment_tokens": ["the", "m", "shown", "balance"], "new_comment": "the m show balance", "new_comment_tokens": ["the", "m", "show", "balance"], "old_code": "public boolean is shown balance ( ) { return m shown balance ; }", "old_code_tokens": ["public", "boolean", "is", "shown", "balance", "(", ")", "{", "return", "m", "shown", "balance", ";", "}"], "new_code": "public boolean is shown balance ( ) { return m show balance ; }", "new_code_tokens": ["public", "boolean", "is", "shown", "balance", "(", ")", "{", "return", "m", "show", "balance", ";", "}"], "span_diff_code": "<KEEP> public boolean is shown balance ( ) { return m <KEEP_END> <REPLACE_OLD> shown <REPLACE_NEW> show <REPLACE_END> <KEEP> balance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "shown", "balance", "(", ")", "{", "return", "m", "<KEEP_END>", "<REPLACE_OLD>", "shown", "<REPLACE_NEW>", "show", "<REPLACE_END>", "<KEEP>", "balance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> shown <REPLACE_NEW> show <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "shown", "<REPLACE_NEW>", "show", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "shown", "<KEEP>", "balance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<REPLACE_OLD>", "shown", "<REPLACE_NEW>", "show", "<KEEP>", "balance", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9944531788721004, "using": 2, "keep": 1}
{"id": "codehaus_controlhaus-5-6678", "old_comment": "an annotation processor for the given annotation types , or null if the types are not supported or the processor cannot be created", "old_comment_tokens": ["an", "annotation", "processor", "for", "the", "given", "annotation", "types", ",", "or", "null", "if", "the", "types", "are", "not", "supported", "or", "the", "processor", "cannot", "be", "created"], "new_comment": "an jdbc control annotation processor", "new_comment_tokens": ["an", "jdbc", "control", "annotation", "processor"], "old_code": "public annotation processor get processor for ( set < annotation type declaration > atds , annotation processor environment env ) { return new sql annotation processor ( env ) ; }", "old_code_tokens": ["public", "annotation", "processor", "get", "processor", "for", "(", "set", "<", "annotation", "type", "declaration", ">", "atds", ",", "annotation", "processor", "environment", "env", ")", "{", "return", "new", "sql", "annotation", "processor", "(", "env", ")", ";", "}"], "new_code": "public annotation processor get processor for ( set < annotation type declaration > atds , annotation processor environment env ) { return new jdbc control annotation processor ( env ) ; }", "new_code_tokens": ["public", "annotation", "processor", "get", "processor", "for", "(", "set", "<", "annotation", "type", "declaration", ">", "atds", ",", "annotation", "processor", "environment", "env", ")", "{", "return", "new", "jdbc", "control", "annotation", "processor", "(", "env", ")", ";", "}"], "span_diff_code": "<KEEP> public annotation processor get processor for ( set < annotation type declaration > atds , annotation processor environment env ) { return new <KEEP_END> <REPLACE_OLD> sql <REPLACE_NEW> jdbc control <REPLACE_END> <KEEP> annotation processor ( env ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "annotation", "processor", "get", "processor", "for", "(", "set", "<", "annotation", "type", "declaration", ">", "atds", ",", "annotation", "processor", "environment", "env", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "sql", "<REPLACE_NEW>", "jdbc", "control", "<REPLACE_END>", "<KEEP>", "annotation", "processor", "(", "env", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> an <INSERT_NEW_KEEP_BEFORE> an jdbc control <INSERT_END> <DELETE> for the given annotation types , or null if the types are not supported or the processor cannot be created <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "an", "<INSERT_NEW_KEEP_BEFORE>", "an", "jdbc", "control", "<INSERT_END>", "<DELETE>", "for", "the", "given", "annotation", "types", ",", "or", "null", "if", "the", "types", "are", "not", "supported", "or", "the", "processor", "cannot", "be", "created", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "annotation", "<KEEP>", "processor", "<KEEP>", "get", "<KEEP>", "processor", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "annotation", "<KEEP>", "type", "<KEEP>", "declaration", "<KEEP>", ">", "<KEEP>", "atds", "<KEEP>", ",", "<KEEP>", "annotation", "<KEEP>", "processor", "<KEEP>", "environment", "<KEEP>", "env", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "sql", "<REPLACE_NEW>", "jdbc", "<REPLACE_NEW>", "control", "<KEEP>", "annotation", "<KEEP>", "processor", "<KEEP>", "(", "<KEEP>", "env", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8171212724335196, "using": 1, "keep": 1}
{"id": "ronmamo_reflections-3-3663", "old_comment": "the set of urls , not null", "old_comment_tokens": ["the", "set", "of", "urls", ",", "not", "null"], "new_comment": "the collection of urls , not null", "new_comment_tokens": ["the", "collection", "of", "urls", ",", "not", "null"], "old_code": "public static set < url > for manifest ( ) { return for manifest ( for class loader ( ) ) ; }", "old_code_tokens": ["public", "static", "set", "<", "url", ">", "for", "manifest", "(", ")", "{", "return", "for", "manifest", "(", "for", "class", "loader", "(", ")", ")", ";", "}"], "new_code": "public static collection < url > for manifest ( ) { return for manifest ( for class loader ( ) ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "url", ">", "for", "manifest", "(", ")", "{", "return", "for", "manifest", "(", "for", "class", "loader", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > for manifest ( ) { return for manifest ( for class loader ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "for", "manifest", "(", ")", "{", "return", "for", "manifest", "(", "for", "class", "loader", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "for", "<KEEP>", "manifest", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "for", "<KEEP>", "manifest", "<KEEP>", "(", "<KEEP>", "for", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9899068861799522, "using": 2, "keep": 1}
{"id": "ronmamo_reflections-4-3664", "old_comment": "the set of urls , not null", "old_comment_tokens": ["the", "set", "of", "urls", ",", "not", "null"], "new_comment": "the collection of urls , not null", "new_comment_tokens": ["the", "collection", "of", "urls", ",", "not", "null"], "old_code": "public static set < url > for manifest ( final url url ) { final set < url > result = sets . new linked hash set ( ) ; result . add ( url ) ; try { final string part = clean path ( url ) ; file jar file = new file ( part ) ; jar file my jar = new jar file ( part ) ; url valid url = try to get valid url ( jar file . get path ( ) , new file ( part ) . get parent ( ) , part ) ; if ( valid url ! = null ) { result . add ( valid url ) ; } final manifest manifest = my jar . get manifest ( ) ; if ( manifest ! = null ) { final string class path = manifest . get main attributes ( ) . get value ( new attributes . name ( str ) ) ; if ( class path ! = null ) { for ( string jar : class path . split ( str ) ) { valid url = try to get valid url ( jar file . get path ( ) , new file ( part ) . get parent ( ) , jar ) ; if ( valid url ! = null ) { result . add ( valid url ) ; } } } } } catch ( ioexception e ) { } return result ; }", "old_code_tokens": ["public", "static", "set", "<", "url", ">", "for", "manifest", "(", "final", "url", "url", ")", "{", "final", "set", "<", "url", ">", "result", "=", "sets", ".", "new", "linked", "hash", "set", "(", ")", ";", "result", ".", "add", "(", "url", ")", ";", "try", "{", "final", "string", "part", "=", "clean", "path", "(", "url", ")", ";", "file", "jar", "file", "=", "new", "file", "(", "part", ")", ";", "jar", "file", "my", "jar", "=", "new", "jar", "file", "(", "part", ")", ";", "url", "valid", "url", "=", "try", "to", "get", "valid", "url", "(", "jar", "file", ".", "get", "path", "(", ")", ",", "new", "file", "(", "part", ")", ".", "get", "parent", "(", ")", ",", "part", ")", ";", "if", "(", "valid", "url", "!", "=", "null", ")", "{", "result", ".", "add", "(", "valid", "url", ")", ";", "}", "final", "manifest", "manifest", "=", "my", "jar", ".", "get", "manifest", "(", ")", ";", "if", "(", "manifest", "!", "=", "null", ")", "{", "final", "string", "class", "path", "=", "manifest", ".", "get", "main", "attributes", "(", ")", ".", "get", "value", "(", "new", "attributes", ".", "name", "(", "str", ")", ")", ";", "if", "(", "class", "path", "!", "=", "null", ")", "{", "for", "(", "string", "jar", ":", "class", "path", ".", "split", "(", "str", ")", ")", "{", "valid", "url", "=", "try", "to", "get", "valid", "url", "(", "jar", "file", ".", "get", "path", "(", ")", ",", "new", "file", "(", "part", ")", ".", "get", "parent", "(", ")", ",", "jar", ")", ";", "if", "(", "valid", "url", "!", "=", "null", ")", "{", "result", ".", "add", "(", "valid", "url", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "}", "return", "result", ";", "}"], "new_code": "public static collection < url > for manifest ( final url url ) { final collection < url > result = new array list < url > ( ) ; result . add ( url ) ; try { final string part = clean path ( url ) ; file jar file = new file ( part ) ; jar file my jar = new jar file ( part ) ; url valid url = try to get valid url ( jar file . get path ( ) , new file ( part ) . get parent ( ) , part ) ; if ( valid url ! = null ) { result . add ( valid url ) ; } final manifest manifest = my jar . get manifest ( ) ; if ( manifest ! = null ) { final string class path = manifest . get main attributes ( ) . get value ( new attributes . name ( str ) ) ; if ( class path ! = null ) { for ( string jar : class path . split ( str ) ) { valid url = try to get valid url ( jar file . get path ( ) , new file ( part ) . get parent ( ) , jar ) ; if ( valid url ! = null ) { result . add ( valid url ) ; } } } } } catch ( ioexception e ) { } return distinct urls ( result ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "url", ">", "for", "manifest", "(", "final", "url", "url", ")", "{", "final", "collection", "<", "url", ">", "result", "=", "new", "array", "list", "<", "url", ">", "(", ")", ";", "result", ".", "add", "(", "url", ")", ";", "try", "{", "final", "string", "part", "=", "clean", "path", "(", "url", ")", ";", "file", "jar", "file", "=", "new", "file", "(", "part", ")", ";", "jar", "file", "my", "jar", "=", "new", "jar", "file", "(", "part", ")", ";", "url", "valid", "url", "=", "try", "to", "get", "valid", "url", "(", "jar", "file", ".", "get", "path", "(", ")", ",", "new", "file", "(", "part", ")", ".", "get", "parent", "(", ")", ",", "part", ")", ";", "if", "(", "valid", "url", "!", "=", "null", ")", "{", "result", ".", "add", "(", "valid", "url", ")", ";", "}", "final", "manifest", "manifest", "=", "my", "jar", ".", "get", "manifest", "(", ")", ";", "if", "(", "manifest", "!", "=", "null", ")", "{", "final", "string", "class", "path", "=", "manifest", ".", "get", "main", "attributes", "(", ")", ".", "get", "value", "(", "new", "attributes", ".", "name", "(", "str", ")", ")", ";", "if", "(", "class", "path", "!", "=", "null", ")", "{", "for", "(", "string", "jar", ":", "class", "path", ".", "split", "(", "str", ")", ")", "{", "valid", "url", "=", "try", "to", "get", "valid", "url", "(", "jar", "file", ".", "get", "path", "(", ")", ",", "new", "file", "(", "part", ")", ".", "get", "parent", "(", ")", ",", "jar", ")", ";", "if", "(", "valid", "url", "!", "=", "null", ")", "{", "result", ".", "add", "(", "valid", "url", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "}", "return", "distinct", "urls", "(", "result", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > for manifest ( final url url ) { final <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > result = <KEEP_END> <REPLACE_OLD> sets . new linked hash set <REPLACE_NEW> new array list < url > <REPLACE_END> <KEEP> ( ) ; result . add ( url ) ; try { final string part = clean path ( url ) ; file jar file = new file ( part ) ; jar file my jar = new jar file ( part ) ; url valid url = try to get valid url ( jar file . get path ( ) , new file ( part ) . get parent ( ) , part ) ; if ( valid url ! = null ) { result . add ( valid url ) ; } final manifest manifest = my jar . get manifest ( ) ; if ( manifest ! = null ) { final string class path = manifest . get main attributes ( ) . get value ( new attributes . name ( str ) ) ; if ( class path ! = null ) { for ( string jar : class path . split ( str ) ) { valid url = try to get valid url ( jar file . get path ( ) , new file ( part ) . get parent ( ) , jar ) ; if ( valid url ! = null ) { result . add ( valid url ) ; } } } } } catch ( ioexception e ) { } return <KEEP_END> <REPLACE_OLD> result ; } <REPLACE_NEW> distinct urls ( result ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "for", "manifest", "(", "final", "url", "url", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "result", "=", "<KEEP_END>", "<REPLACE_OLD>", "sets", ".", "new", "linked", "hash", "set", "<REPLACE_NEW>", "new", "array", "list", "<", "url", ">", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "result", ".", "add", "(", "url", ")", ";", "try", "{", "final", "string", "part", "=", "clean", "path", "(", "url", ")", ";", "file", "jar", "file", "=", "new", "file", "(", "part", ")", ";", "jar", "file", "my", "jar", "=", "new", "jar", "file", "(", "part", ")", ";", "url", "valid", "url", "=", "try", "to", "get", "valid", "url", "(", "jar", "file", ".", "get", "path", "(", ")", ",", "new", "file", "(", "part", ")", ".", "get", "parent", "(", ")", ",", "part", ")", ";", "if", "(", "valid", "url", "!", "=", "null", ")", "{", "result", ".", "add", "(", "valid", "url", ")", ";", "}", "final", "manifest", "manifest", "=", "my", "jar", ".", "get", "manifest", "(", ")", ";", "if", "(", "manifest", "!", "=", "null", ")", "{", "final", "string", "class", "path", "=", "manifest", ".", "get", "main", "attributes", "(", ")", ".", "get", "value", "(", "new", "attributes", ".", "name", "(", "str", ")", ")", ";", "if", "(", "class", "path", "!", "=", "null", ")", "{", "for", "(", "string", "jar", ":", "class", "path", ".", "split", "(", "str", ")", ")", "{", "valid", "url", "=", "try", "to", "get", "valid", "url", "(", "jar", "file", ".", "get", "path", "(", ")", ",", "new", "file", "(", "part", ")", ".", "get", "parent", "(", ")", ",", "jar", ")", ";", "if", "(", "valid", "url", "!", "=", "null", ")", "{", "result", ".", "add", "(", "valid", "url", ")", ";", "}", "}", "}", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "result", ";", "}", "<REPLACE_NEW>", "distinct", "urls", "(", "result", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "for", "<KEEP>", "manifest", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "url", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", "=", "<REPLACE_OLD>", "sets", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "linked", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "part", "<KEEP>", "=", "<KEEP>", "clean", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "part", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", "my", "<KEEP>", "jar", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "part", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "url", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "try", "<KEEP>", "to", "<KEEP>", "get", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "part", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "part", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "manifest", "<KEEP>", "manifest", "<KEEP>", "=", "<KEEP>", "my", "<KEEP>", "jar", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "manifest", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "manifest", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "manifest", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "main", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "jar", "<KEEP>", ":", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", ".", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "try", "<KEEP>", "to", "<KEEP>", "get", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "part", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "jar", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "valid", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "distinct", "<REPLACE_NEW>", "urls", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.9852663737157449, "using": 2, "keep": 1}
{"id": "eclipse_ecf-13-4511", "old_comment": "shared object description [ ] to determine replica descriptions for each receiver . a null return value indicates that no replicas are to be created . if the returned array is not null , then it must be of same length as the receivers parameter .", "old_comment_tokens": ["shared", "object", "description", "[", "]", "to", "determine", "replica", "descriptions", "for", "each", "receiver", ".", "a", "null", "return", "value", "indicates", "that", "no", "replicas", "are", "to", "be", "created", ".", "if", "the", "returned", "array", "is", "not", "null", ",", "then", "it", "must", "be", "of", "same", "length", "as", "the", "receivers", "parameter", "."], "new_comment": "remote shared object descriptions [ ] to determine replica descriptions for each receiver . a null return value indicates that no replicas are to be created . if the returned array is not null , then it must be of same length as the receivers parameter .", "new_comment_tokens": ["remote", "shared", "object", "descriptions", "[", "]", "to", "determine", "replica", "descriptions", "for", "each", "receiver", ".", "a", "null", "return", "value", "indicates", "that", "no", "replicas", "are", "to", "be", "created", ".", "if", "the", "returned", "array", "is", "not", "null", ",", "then", "it", "must", "be", "of", "same", "length", "as", "the", "receivers", "parameter", "."], "old_code": "protected shared object description [ ] get replica descriptions ( id [ ] receivers ) { shared object description [ ] descriptions = null ; if ( receivers = = null | | receivers . length = = num ) { descriptions = new shared object description [ num ] ; descriptions [ num ] = get replica description ( ( receivers = = null ) ? null : receivers [ num ] ) ; } else { descriptions = new shared object description [ receivers . length ] ; for ( int i = num ; i < receivers . length ; i + + ) { descriptions [ i ] = get replica description ( receivers [ i ] ) ; } } return descriptions ; }", "old_code_tokens": ["protected", "shared", "object", "description", "[", "]", "get", "replica", "descriptions", "(", "id", "[", "]", "receivers", ")", "{", "shared", "object", "description", "[", "]", "descriptions", "=", "null", ";", "if", "(", "receivers", "=", "=", "null", "|", "|", "receivers", ".", "length", "=", "=", "num", ")", "{", "descriptions", "=", "new", "shared", "object", "description", "[", "num", "]", ";", "descriptions", "[", "num", "]", "=", "get", "replica", "description", "(", "(", "receivers", "=", "=", "null", ")", "?", "null", ":", "receivers", "[", "num", "]", ")", ";", "}", "else", "{", "descriptions", "=", "new", "shared", "object", "description", "[", "receivers", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "receivers", ".", "length", ";", "i", "+", "+", ")", "{", "descriptions", "[", "i", "]", "=", "get", "replica", "description", "(", "receivers", "[", "i", "]", ")", ";", "}", "}", "return", "descriptions", ";", "}"], "new_code": "protected remote shared object description [ ] get replica descriptions ( id [ ] receivers ) { remote shared object description [ ] descriptions = null ; if ( receivers = = null | | receivers . length = = num ) { descriptions = new remote shared object description [ num ] ; descriptions [ num ] = get replica description ( ( receivers = = null ) ? null : receivers [ num ] ) ; } else { descriptions = new remote shared object description [ receivers . length ] ; for ( int i = num ; i < receivers . length ; i + + ) { descriptions [ i ] = get replica description ( receivers [ i ] ) ; } } return descriptions ; }", "new_code_tokens": ["protected", "remote", "shared", "object", "description", "[", "]", "get", "replica", "descriptions", "(", "id", "[", "]", "receivers", ")", "{", "remote", "shared", "object", "description", "[", "]", "descriptions", "=", "null", ";", "if", "(", "receivers", "=", "=", "null", "|", "|", "receivers", ".", "length", "=", "=", "num", ")", "{", "descriptions", "=", "new", "remote", "shared", "object", "description", "[", "num", "]", ";", "descriptions", "[", "num", "]", "=", "get", "replica", "description", "(", "(", "receivers", "=", "=", "null", ")", "?", "null", ":", "receivers", "[", "num", "]", ")", ";", "}", "else", "{", "descriptions", "=", "new", "remote", "shared", "object", "description", "[", "receivers", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "receivers", ".", "length", ";", "i", "+", "+", ")", "{", "descriptions", "[", "i", "]", "=", "get", "replica", "description", "(", "receivers", "[", "i", "]", ")", ";", "}", "}", "return", "descriptions", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <INSERT> remote <INSERT_END> <KEEP> shared object description [ ] get replica descriptions ( id [ ] receivers ) { <KEEP_END> <INSERT> remote <INSERT_END> <KEEP> shared object description [ ] descriptions = null ; if ( receivers = = null | | receivers . length = = num ) { descriptions = new <KEEP_END> <INSERT> remote <INSERT_END> <KEEP> shared object description [ num ] ; descriptions [ num ] = get replica description ( ( receivers = = null ) ? null : receivers [ num ] ) ; } else { descriptions = new <KEEP_END> <INSERT> remote <INSERT_END> <KEEP> shared object description [ receivers . length ] ; for ( int i = num ; i < receivers . length ; i + + ) { descriptions [ i ] = get replica description ( receivers [ i ] ) ; } } return descriptions ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<INSERT>", "remote", "<INSERT_END>", "<KEEP>", "shared", "object", "description", "[", "]", "get", "replica", "descriptions", "(", "id", "[", "]", "receivers", ")", "{", "<KEEP_END>", "<INSERT>", "remote", "<INSERT_END>", "<KEEP>", "shared", "object", "description", "[", "]", "descriptions", "=", "null", ";", "if", "(", "receivers", "=", "=", "null", "|", "|", "receivers", ".", "length", "=", "=", "num", ")", "{", "descriptions", "=", "new", "<KEEP_END>", "<INSERT>", "remote", "<INSERT_END>", "<KEEP>", "shared", "object", "description", "[", "num", "]", ";", "descriptions", "[", "num", "]", "=", "get", "replica", "description", "(", "(", "receivers", "=", "=", "null", ")", "?", "null", ":", "receivers", "[", "num", "]", ")", ";", "}", "else", "{", "descriptions", "=", "new", "<KEEP_END>", "<INSERT>", "remote", "<INSERT_END>", "<KEEP>", "shared", "object", "description", "[", "receivers", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "receivers", ".", "length", ";", "i", "+", "+", ")", "{", "descriptions", "[", "i", "]", "=", "get", "replica", "description", "(", "receivers", "[", "i", "]", ")", ";", "}", "}", "return", "descriptions", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> shared <INSERT_NEW_KEEP_AFTER> remote shared <INSERT_END> <REPLACE_OLD> description <REPLACE_NEW> descriptions <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "shared", "<INSERT_NEW_KEEP_AFTER>", "remote", "shared", "<INSERT_END>", "<REPLACE_OLD>", "description", "<REPLACE_NEW>", "descriptions", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<INSERT>", "remote", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "descriptions", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "receivers", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "remote", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "descriptions", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "receivers", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "receivers", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "descriptions", "<KEEP>", "=", "<KEEP>", "new", "<INSERT>", "remote", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "descriptions", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "receivers", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "receivers", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "descriptions", "<KEEP>", "=", "<KEEP>", "new", "<INSERT>", "remote", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "receivers", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "receivers", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "descriptions", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", "receivers", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "descriptions", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.937782940198601, "using": 0, "keep": 1}
{"id": "apache_bookkeeper-38-4967", "old_comment": "null if the statuscode is unknown .", "old_comment_tokens": ["null", "if", "the", "statuscode", "is", "unknown", "."], "new_comment": "bkexception . code . uninitialized if the statuscode is unknown .", "new_comment_tokens": ["bkexception", ".", "code", ".", "uninitialized", "if", "the", "statuscode", "is", "unknown", "."], "old_code": "private integer status code to exception code ( status code status ) { integer rc to ret = null ; switch ( status ) { case eok : rc to ret = bkexception . code . ok ; break ; case enoentry : rc to ret = bkexception . code . no such entry exception ; break ; case enoledger : rc to ret = bkexception . code . no such ledger exists exception ; break ; case ebadversion : rc to ret = bkexception . code . protocol version exception ; break ; case eua : rc to ret = bkexception . code . unauthorized access exception ; break ; case efenced : rc to ret = bkexception . code . ledger fenced exception ; break ; case ereadonly : rc to ret = bkexception . code . write on read only bookie exception ; break ; case etoomanyrequests : rc to ret = bkexception . code . too many requests exception ; break ; default : break ; } return rc to ret ; }", "old_code_tokens": ["private", "integer", "status", "code", "to", "exception", "code", "(", "status", "code", "status", ")", "{", "integer", "rc", "to", "ret", "=", "null", ";", "switch", "(", "status", ")", "{", "case", "eok", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "ok", ";", "break", ";", "case", "enoentry", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "no", "such", "entry", "exception", ";", "break", ";", "case", "enoledger", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "no", "such", "ledger", "exists", "exception", ";", "break", ";", "case", "ebadversion", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "protocol", "version", "exception", ";", "break", ";", "case", "eua", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "unauthorized", "access", "exception", ";", "break", ";", "case", "efenced", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "ledger", "fenced", "exception", ";", "break", ";", "case", "ereadonly", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "write", "on", "read", "only", "bookie", "exception", ";", "break", ";", "case", "etoomanyrequests", ":", "rc", "to", "ret", "=", "bkexception", ".", "code", ".", "too", "many", "requests", "exception", ";", "break", ";", "default", ":", "break", ";", "}", "return", "rc", "to", "ret", ";", "}"], "new_code": "private int status code to exception code ( status code status ) { switch ( status ) { case eok : return bkexception . code . ok ; case enoentry : return bkexception . code . no such entry exception ; case enoledger : return bkexception . code . no such ledger exists exception ; case ebadversion : return bkexception . code . protocol version exception ; case eua : return bkexception . code . unauthorized access exception ; case efenced : return bkexception . code . ledger fenced exception ; case ereadonly : return bkexception . code . write on read only bookie exception ; case etoomanyrequests : return bkexception . code . too many requests exception ; default : return bkexception . code . uninitialized ; } }", "new_code_tokens": ["private", "int", "status", "code", "to", "exception", "code", "(", "status", "code", "status", ")", "{", "switch", "(", "status", ")", "{", "case", "eok", ":", "return", "bkexception", ".", "code", ".", "ok", ";", "case", "enoentry", ":", "return", "bkexception", ".", "code", ".", "no", "such", "entry", "exception", ";", "case", "enoledger", ":", "return", "bkexception", ".", "code", ".", "no", "such", "ledger", "exists", "exception", ";", "case", "ebadversion", ":", "return", "bkexception", ".", "code", ".", "protocol", "version", "exception", ";", "case", "eua", ":", "return", "bkexception", ".", "code", ".", "unauthorized", "access", "exception", ";", "case", "efenced", ":", "return", "bkexception", ".", "code", ".", "ledger", "fenced", "exception", ";", "case", "ereadonly", ":", "return", "bkexception", ".", "code", ".", "write", "on", "read", "only", "bookie", "exception", ";", "case", "etoomanyrequests", ":", "return", "bkexception", ".", "code", ".", "too", "many", "requests", "exception", ";", "default", ":", "return", "bkexception", ".", "code", ".", "uninitialized", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> int <REPLACE_END> <KEEP> status code to exception code ( status code status ) { <KEEP_END> <DELETE> integer rc to ret = null ; <DELETE_END> <KEEP> switch ( status ) { case eok : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . ok ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case enoentry : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . no such entry exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case enoledger : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . no such ledger exists exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case ebadversion : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . protocol version exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case eua : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . unauthorized access exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case efenced : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . ledger fenced exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case ereadonly : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . write on read only bookie exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> case etoomanyrequests : <KEEP_END> <REPLACE_OLD> rc to ret = <REPLACE_NEW> return <REPLACE_END> <KEEP> bkexception . code . too many requests exception ; <KEEP_END> <DELETE> break ; <DELETE_END> <KEEP> default : <KEEP_END> <REPLACE_OLD> break <REPLACE_NEW> return bkexception . code . uninitialized <REPLACE_END> <KEEP> ; } <KEEP_END> <DELETE> return rc to ret ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "status", "code", "to", "exception", "code", "(", "status", "code", "status", ")", "{", "<KEEP_END>", "<DELETE>", "integer", "rc", "to", "ret", "=", "null", ";", "<DELETE_END>", "<KEEP>", "switch", "(", "status", ")", "{", "case", "eok", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "ok", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "enoentry", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "no", "such", "entry", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "enoledger", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "no", "such", "ledger", "exists", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "ebadversion", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "protocol", "version", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "eua", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "unauthorized", "access", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "efenced", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "ledger", "fenced", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "ereadonly", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "write", "on", "read", "only", "bookie", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "case", "etoomanyrequests", ":", "<KEEP_END>", "<REPLACE_OLD>", "rc", "to", "ret", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "bkexception", ".", "code", ".", "too", "many", "requests", "exception", ";", "<KEEP_END>", "<DELETE>", "break", ";", "<DELETE_END>", "<KEEP>", "default", ":", "<KEEP_END>", "<REPLACE_OLD>", "break", "<REPLACE_NEW>", "return", "bkexception", ".", "code", ".", "uninitialized", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "rc", "to", "ret", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> bkexception . code . uninitialized <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "bkexception", ".", "code", ".", "uninitialized", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "to", "<KEEP>", "exception", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "status", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "integer", "<DELETE>", "rc", "<DELETE>", "to", "<DELETE>", "ret", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "eok", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "ok", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "enoentry", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "no", "<KEEP>", "such", "<KEEP>", "entry", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "enoledger", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "no", "<KEEP>", "such", "<KEEP>", "ledger", "<KEEP>", "exists", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "ebadversion", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "eua", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "unauthorized", "<KEEP>", "access", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "efenced", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "ledger", "<KEEP>", "fenced", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "ereadonly", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "on", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", "bookie", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "case", "<KEEP>", "etoomanyrequests", "<KEEP>", ":", "<REPLACE_OLD>", "rc", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "ret", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "bkexception", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "too", "<KEEP>", "many", "<KEEP>", "requests", "<KEEP>", "exception", "<KEEP>", ";", "<DELETE>", "break", "<DELETE>", ";", "<KEEP>", "default", "<KEEP>", ":", "<REPLACE_OLD>", "break", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "bkexception", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "uninitialized", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "rc", "<DELETE>", "to", "<DELETE>", "ret", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9825622322058584, "using": 2, "keep": 1}
{"id": "eclipse_gmf-runtime-106-7153", "old_comment": "true if matching activities are enabled", "old_comment_tokens": ["true", "if", "matching", "activities", "are", "enabled"], "new_comment": "true if at least one matching activity is enabled", "new_comment_tokens": ["true", "if", "at", "least", "one", "matching", "activity", "is", "enabled"], "old_code": "private boolean are activities enabled ( ) { if ( ! workbench activity helper . is filtering ( ) ) return true ; iworkbench activity support workbench activity support = platform ui . get workbench ( ) . get activity support ( ) ; iidentifier id = workbench activity support . get activity manager ( ) . get identifier ( workbench activity helper . create unified id ( get plugin contribution ( ) ) ) ; if ( id ! = null & & ! id . is enabled ( ) ) { return false ; } return true ; }", "old_code_tokens": ["private", "boolean", "are", "activities", "enabled", "(", ")", "{", "if", "(", "!", "workbench", "activity", "helper", ".", "is", "filtering", "(", ")", ")", "return", "true", ";", "iworkbench", "activity", "support", "workbench", "activity", "support", "=", "platform", "ui", ".", "get", "workbench", "(", ")", ".", "get", "activity", "support", "(", ")", ";", "iidentifier", "id", "=", "workbench", "activity", "support", ".", "get", "activity", "manager", "(", ")", ".", "get", "identifier", "(", "workbench", "activity", "helper", ".", "create", "unified", "id", "(", "get", "plugin", "contribution", "(", ")", ")", ")", ";", "if", "(", "id", "!", "=", "null", "&", "&", "!", "id", ".", "is", "enabled", "(", ")", ")", "{", "return", "false", ";", "}", "return", "true", ";", "}"], "new_code": "private boolean are activities enabled ( final string item id ) { if ( ! workbench activity helper . is filtering ( ) ) return true ; iworkbench activity support workbench activity support = platform ui . get workbench ( ) . get activity support ( ) ; iidentifier id = workbench activity support . get activity manager ( ) . get identifier ( workbench activity helper . create unified id ( get plugin contribution ( ) ) ) ; if ( id ! = null & & ! id . is enabled ( ) ) { return false ; } id = workbench activity support . get activity manager ( ) . get identifier ( workbench activity helper . create unified id ( new iplugin contribution ( ) { public string get local id ( ) { return item id ; } public string get plugin id ( ) { return get plugin contribution ( ) . get plugin id ( ) ; } } ) ) ; if ( id ! = null & & ! id . is enabled ( ) ) { return false ; } return true ; }", "new_code_tokens": ["private", "boolean", "are", "activities", "enabled", "(", "final", "string", "item", "id", ")", "{", "if", "(", "!", "workbench", "activity", "helper", ".", "is", "filtering", "(", ")", ")", "return", "true", ";", "iworkbench", "activity", "support", "workbench", "activity", "support", "=", "platform", "ui", ".", "get", "workbench", "(", ")", ".", "get", "activity", "support", "(", ")", ";", "iidentifier", "id", "=", "workbench", "activity", "support", ".", "get", "activity", "manager", "(", ")", ".", "get", "identifier", "(", "workbench", "activity", "helper", ".", "create", "unified", "id", "(", "get", "plugin", "contribution", "(", ")", ")", ")", ";", "if", "(", "id", "!", "=", "null", "&", "&", "!", "id", ".", "is", "enabled", "(", ")", ")", "{", "return", "false", ";", "}", "id", "=", "workbench", "activity", "support", ".", "get", "activity", "manager", "(", ")", ".", "get", "identifier", "(", "workbench", "activity", "helper", ".", "create", "unified", "id", "(", "new", "iplugin", "contribution", "(", ")", "{", "public", "string", "get", "local", "id", "(", ")", "{", "return", "item", "id", ";", "}", "public", "string", "get", "plugin", "id", "(", ")", "{", "return", "get", "plugin", "contribution", "(", ")", ".", "get", "plugin", "id", "(", ")", ";", "}", "}", ")", ")", ";", "if", "(", "id", "!", "=", "null", "&", "&", "!", "id", ".", "is", "enabled", "(", ")", ")", "{", "return", "false", ";", "}", "return", "true", ";", "}"], "span_diff_code": "<KEEP> private boolean are activities enabled ( <KEEP_END> <INSERT> final string item id <INSERT_END> <KEEP> ) { if ( ! workbench activity helper . is filtering ( ) ) return true ; iworkbench activity support workbench activity support = platform ui . get workbench ( ) . get activity support ( ) ; iidentifier id = workbench activity support . get activity manager ( ) . get identifier ( workbench activity helper . create unified id ( get plugin contribution ( ) ) ) ; if ( id ! = null & & ! id . is enabled ( ) ) { return false ; } <KEEP_END> <INSERT> id = workbench activity support . get activity manager ( ) . get identifier ( workbench activity helper . create unified id ( new iplugin contribution ( ) { public string get local id ( ) { return item id ; } public string get plugin id ( ) { return get plugin contribution ( ) . get plugin id ( ) ; } } ) ) ; if ( id ! = null & & ! id . is enabled ( ) ) { return false ; } <INSERT_END> <KEEP> return true ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "are", "activities", "enabled", "(", "<KEEP_END>", "<INSERT>", "final", "string", "item", "id", "<INSERT_END>", "<KEEP>", ")", "{", "if", "(", "!", "workbench", "activity", "helper", ".", "is", "filtering", "(", ")", ")", "return", "true", ";", "iworkbench", "activity", "support", "workbench", "activity", "support", "=", "platform", "ui", ".", "get", "workbench", "(", ")", ".", "get", "activity", "support", "(", ")", ";", "iidentifier", "id", "=", "workbench", "activity", "support", ".", "get", "activity", "manager", "(", ")", ".", "get", "identifier", "(", "workbench", "activity", "helper", ".", "create", "unified", "id", "(", "get", "plugin", "contribution", "(", ")", ")", ")", ";", "if", "(", "id", "!", "=", "null", "&", "&", "!", "id", ".", "is", "enabled", "(", ")", ")", "{", "return", "false", ";", "}", "<KEEP_END>", "<INSERT>", "id", "=", "workbench", "activity", "support", ".", "get", "activity", "manager", "(", ")", ".", "get", "identifier", "(", "workbench", "activity", "helper", ".", "create", "unified", "id", "(", "new", "iplugin", "contribution", "(", ")", "{", "public", "string", "get", "local", "id", "(", ")", "{", "return", "item", "id", ";", "}", "public", "string", "get", "plugin", "id", "(", ")", "{", "return", "get", "plugin", "contribution", "(", ")", ".", "get", "plugin", "id", "(", ")", ";", "}", "}", ")", ")", ";", "if", "(", "id", "!", "=", "null", "&", "&", "!", "id", ".", "is", "enabled", "(", ")", ")", "{", "return", "false", ";", "}", "<INSERT_END>", "<KEEP>", "return", "true", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> if <INSERT_NEW_KEEP_BEFORE> if at least one <INSERT_END> <REPLACE_OLD> activities are <REPLACE_NEW> activity is <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "if", "<INSERT_NEW_KEEP_BEFORE>", "if", "at", "least", "one", "<INSERT_END>", "<REPLACE_OLD>", "activities", "are", "<REPLACE_NEW>", "activity", "is", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "are", "<KEEP>", "activities", "<KEEP>", "enabled", "<KEEP>", "(", "<INSERT>", "final", "<INSERT>", "string", "<INSERT>", "item", "<INSERT>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "workbench", "<KEEP>", "activity", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "filtering", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "iworkbench", "<KEEP>", "activity", "<KEEP>", "support", "<KEEP>", "workbench", "<KEEP>", "activity", "<KEEP>", "support", "<KEEP>", "=", "<KEEP>", "platform", "<KEEP>", "ui", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "workbench", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "activity", "<KEEP>", "support", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iidentifier", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "workbench", "<KEEP>", "activity", "<KEEP>", "support", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "activity", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "identifier", "<KEEP>", "(", "<KEEP>", "workbench", "<KEEP>", "activity", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "unified", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "plugin", "<KEEP>", "contribution", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "id", "<INSERT>", "=", "<INSERT>", "workbench", "<INSERT>", "activity", "<INSERT>", "support", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "activity", "<INSERT>", "manager", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "identifier", "<INSERT>", "(", "<INSERT>", "workbench", "<INSERT>", "activity", "<INSERT>", "helper", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "unified", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "iplugin", "<INSERT>", "contribution", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "public", "<INSERT>", "string", "<INSERT>", "get", "<INSERT>", "local", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "item", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "public", "<INSERT>", "string", "<INSERT>", "get", "<INSERT>", "plugin", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "get", "<INSERT>", "plugin", "<INSERT>", "contribution", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "plugin", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "id", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "!", "<INSERT>", "id", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "enabled", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8611600128528087, "using": 0, "keep": 1}
{"id": "apache_wss4j-34-5676", "old_comment": "the result fetched from the result vector , null if the result could not be found", "old_comment_tokens": ["the", "result", "fetched", "from", "the", "result", "vector", ",", "null", "if", "the", "result", "could", "not", "be", "found"], "new_comment": "the result fetched from the result list , null if the result could not be found", "new_comment_tokens": ["the", "result", "fetched", "from", "the", "result", "list", ",", "null", "if", "the", "result", "could", "not", "be", "found"], "old_code": "public static vector fetch all action results ( vector ws result vector , int action , vector results ) { for ( int i = num ; i < ws result vector . size ( ) ; i + + ) { wssecurity engine result result = ( wssecurity engine result ) ws result vector . get ( i ) ; int result action = ( ( java . lang . integer ) result . get ( wssecurity engine result . tag _ action ) ) . int value ( ) ; if ( result action = = action ) { results . add ( ws result vector . get ( i ) ) ; } } return results ; }", "old_code_tokens": ["public", "static", "vector", "fetch", "all", "action", "results", "(", "vector", "ws", "result", "vector", ",", "int", "action", ",", "vector", "results", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "ws", "result", "vector", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "wssecurity", "engine", "result", "result", "=", "(", "wssecurity", "engine", "result", ")", "ws", "result", "vector", ".", "get", "(", "i", ")", ";", "int", "result", "action", "=", "(", "(", "java", ".", "lang", ".", "integer", ")", "result", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "action", ")", ")", ".", "int", "value", "(", ")", ";", "if", "(", "result", "action", "=", "=", "action", ")", "{", "results", ".", "add", "(", "ws", "result", "vector", ".", "get", "(", "i", ")", ")", ";", "}", "}", "return", "results", ";", "}"], "new_code": "public static list fetch all action results ( list result list , int action , list action result list ) { for ( int i = num ; i < result list . size ( ) ; i + + ) { wssecurity engine result result = ( wssecurity engine result ) result list . get ( i ) ; int result action = ( ( java . lang . integer ) result . get ( wssecurity engine result . tag _ action ) ) . int value ( ) ; if ( result action = = action ) { action result list . add ( result ) ; } } return action result list ; }", "new_code_tokens": ["public", "static", "list", "fetch", "all", "action", "results", "(", "list", "result", "list", ",", "int", "action", ",", "list", "action", "result", "list", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "result", "list", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "wssecurity", "engine", "result", "result", "=", "(", "wssecurity", "engine", "result", ")", "result", "list", ".", "get", "(", "i", ")", ";", "int", "result", "action", "=", "(", "(", "java", ".", "lang", ".", "integer", ")", "result", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "action", ")", ")", ".", "int", "value", "(", ")", ";", "if", "(", "result", "action", "=", "=", "action", ")", "{", "action", "result", "list", ".", "add", "(", "result", ")", ";", "}", "}", "return", "action", "result", "list", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> fetch all action results ( <KEEP_END> <REPLACE_OLD> vector ws <REPLACE_NEW> list <REPLACE_END> <KEEP> result <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> , int action , <KEEP_END> <REPLACE_OLD> vector results <REPLACE_NEW> list action result list <REPLACE_END> <KEEP> ) { for ( int i = num ; i < <KEEP_END> <DELETE> ws <DELETE_END> <KEEP> result <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> . size ( ) ; i + + ) { wssecurity engine result result = ( wssecurity engine result ) <KEEP_END> <DELETE> ws <DELETE_END> <KEEP> result <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> . get ( i ) ; int result action = ( ( java . lang . integer ) result . get ( wssecurity engine result . tag _ action ) ) . int value ( ) ; if ( result action = = action ) { <KEEP_END> <REPLACE_OLD> results <REPLACE_NEW> action result list <REPLACE_END> <KEEP> . add ( <KEEP_END> <DELETE> ws <DELETE_END> <KEEP> result <KEEP_END> <DELETE> vector . get ( i ) <DELETE_END> <KEEP> ) ; } } return <KEEP_END> <REPLACE_OLD> results <REPLACE_NEW> action result list <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "fetch", "all", "action", "results", "(", "<KEEP_END>", "<REPLACE_OLD>", "vector", "ws", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "result", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", ",", "int", "action", ",", "<KEEP_END>", "<REPLACE_OLD>", "vector", "results", "<REPLACE_NEW>", "list", "action", "result", "list", "<REPLACE_END>", "<KEEP>", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "<KEEP_END>", "<DELETE>", "ws", "<DELETE_END>", "<KEEP>", "result", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "wssecurity", "engine", "result", "result", "=", "(", "wssecurity", "engine", "result", ")", "<KEEP_END>", "<DELETE>", "ws", "<DELETE_END>", "<KEEP>", "result", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", ".", "get", "(", "i", ")", ";", "int", "result", "action", "=", "(", "(", "java", ".", "lang", ".", "integer", ")", "result", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "action", ")", ")", ".", "int", "value", "(", ")", ";", "if", "(", "result", "action", "=", "=", "action", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "results", "<REPLACE_NEW>", "action", "result", "list", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "<KEEP_END>", "<DELETE>", "ws", "<DELETE_END>", "<KEEP>", "result", "<KEEP_END>", "<DELETE>", "vector", ".", "get", "(", "i", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "results", "<REPLACE_NEW>", "action", "result", "list", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", "fetch", "<KEEP>", "all", "<KEEP>", "action", "<KEEP>", "results", "<KEEP>", "(", "<REPLACE_OLD>", "vector", "<REPLACE_OLD>", "ws", "<REPLACE_NEW>", "list", "<KEEP>", "result", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "action", "<KEEP>", ",", "<REPLACE_OLD>", "vector", "<REPLACE_OLD>", "results", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "list", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<DELETE>", "ws", "<KEEP>", "result", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", ")", "<DELETE>", "ws", "<KEEP>", "result", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "result", "<KEEP>", "action", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "java", "<KEEP>", ".", "<KEEP>", "lang", "<KEEP>", ".", "<KEEP>", "integer", "<KEEP>", ")", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", "_", "<KEEP>", "action", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", "action", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "action", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "results", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "list", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<DELETE>", "ws", "<KEEP>", "result", "<DELETE>", "vector", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "i", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "results", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9831941846453315, "using": 2, "keep": 1}
{"id": "azkaban_azkaban-16-2416", "old_comment": "de - serialized object from json or empty object if the response doesn ' t have a body .", "old_comment_tokens": ["de", "-", "serialized", "object", "from", "json", "or", "empty", "object", "if", "the", "response", "doesn", "'", "t", "have", "a", "body", "."], "new_comment": "de - serialized object from json or null if the response doesn ' t have a body .", "new_comment_tokens": ["de", "-", "serialized", "object", "from", "json", "or", "null", "if", "the", "response", "doesn", "'", "t", "have", "a", "body", "."], "old_code": "@ suppress warnings ( str ) @ override protected map < string , object > parse response ( http response response ) throws http response exception , ioexception { final status line status line = response . get status line ( ) ; string response body = response . get entity ( ) ! = null ? entity utils . to string ( response . get entity ( ) ) : str ; if ( status line . get status code ( ) > = num ) { logger . error ( string . format ( str , status line . get status code ( ) ) ) ; throw new http response exception ( status line . get status code ( ) , response body ) ; } final http entity entity = response . get entity ( ) ; if ( null ! = entity ) { object return val = jsonutils . parse jsonfrom string ( entity utils . to string ( entity ) ) ; if ( null ! = return val ) { return ( map < string , object > ) return val ; } } return new hash map < string , object > ( ) ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "@", "override", "protected", "map", "<", "string", ",", "object", ">", "parse", "response", "(", "http", "response", "response", ")", "throws", "http", "response", "exception", ",", "ioexception", "{", "final", "status", "line", "status", "line", "=", "response", ".", "get", "status", "line", "(", ")", ";", "string", "response", "body", "=", "response", ".", "get", "entity", "(", ")", "!", "=", "null", "?", "entity", "utils", ".", "to", "string", "(", "response", ".", "get", "entity", "(", ")", ")", ":", "str", ";", "if", "(", "status", "line", ".", "get", "status", "code", "(", ")", ">", "=", "num", ")", "{", "logger", ".", "error", "(", "string", ".", "format", "(", "str", ",", "status", "line", ".", "get", "status", "code", "(", ")", ")", ")", ";", "throw", "new", "http", "response", "exception", "(", "status", "line", ".", "get", "status", "code", "(", ")", ",", "response", "body", ")", ";", "}", "final", "http", "entity", "entity", "=", "response", ".", "get", "entity", "(", ")", ";", "if", "(", "null", "!", "=", "entity", ")", "{", "object", "return", "val", "=", "jsonutils", ".", "parse", "jsonfrom", "string", "(", "entity", "utils", ".", "to", "string", "(", "entity", ")", ")", ";", "if", "(", "null", "!", "=", "return", "val", ")", "{", "return", "(", "map", "<", "string", ",", "object", ">", ")", "return", "val", ";", "}", "}", "return", "new", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "}"], "new_code": "@ override protected t parse response ( http response response ) throws http response exception , ioexception { final status line status line = response . get status line ( ) ; string response body = response . get entity ( ) ! = null ? entity utils . to string ( response . get entity ( ) ) : str ; if ( status line . get status code ( ) > = num ) { logger . error ( string . format ( str , status line . get status code ( ) ) ) ; throw new http response exception ( status line . get status code ( ) , response body ) ; } final http entity entity = response . get entity ( ) ; if ( null = = entity | | entity . get content length ( ) > = integer . max _ value ) { logger . error ( str ) ; return null ; } return new object mapper ( ) . read value ( entity utils . to string ( entity ) , this . type ofclass ) ; }", "new_code_tokens": ["@", "override", "protected", "t", "parse", "response", "(", "http", "response", "response", ")", "throws", "http", "response", "exception", ",", "ioexception", "{", "final", "status", "line", "status", "line", "=", "response", ".", "get", "status", "line", "(", ")", ";", "string", "response", "body", "=", "response", ".", "get", "entity", "(", ")", "!", "=", "null", "?", "entity", "utils", ".", "to", "string", "(", "response", ".", "get", "entity", "(", ")", ")", ":", "str", ";", "if", "(", "status", "line", ".", "get", "status", "code", "(", ")", ">", "=", "num", ")", "{", "logger", ".", "error", "(", "string", ".", "format", "(", "str", ",", "status", "line", ".", "get", "status", "code", "(", ")", ")", ")", ";", "throw", "new", "http", "response", "exception", "(", "status", "line", ".", "get", "status", "code", "(", ")", ",", "response", "body", ")", ";", "}", "final", "http", "entity", "entity", "=", "response", ".", "get", "entity", "(", ")", ";", "if", "(", "null", "=", "=", "entity", "|", "|", "entity", ".", "get", "content", "length", "(", ")", ">", "=", "integer", ".", "max", "_", "value", ")", "{", "logger", ".", "error", "(", "str", ")", ";", "return", "null", ";", "}", "return", "new", "object", "mapper", "(", ")", ".", "read", "value", "(", "entity", "utils", ".", "to", "string", "(", "entity", ")", ",", "this", ".", "type", "ofclass", ")", ";", "}"], "span_diff_code": "<DELETE> @ suppress warnings ( str ) <DELETE_END> <KEEP> @ override protected <KEEP_END> <REPLACE_OLD> map < string , object > <REPLACE_NEW> t <REPLACE_END> <KEEP> parse response ( http response response ) throws http response exception , ioexception { final status line status line = response . get status line ( ) ; string response body = response . get entity ( ) ! = null ? entity utils . to string ( response . get entity ( ) ) : str ; if ( status line . get status code ( ) > = num ) { logger . error ( string . format ( str , status line . get status code ( ) ) ) ; throw new http response exception ( status line . get status code ( ) , response body ) ; } final http entity entity = response . get entity ( ) ; if ( null <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> = <REPLACE_END> <KEEP> = entity <KEEP_END> <INSERT> | | entity . get content length ( ) > = integer . max _ value <INSERT_END> <KEEP> ) { <KEEP_END> <INSERT> logger . error ( str ) ; return null ; } return new <INSERT_END> <KEEP> object <KEEP_END> <REPLACE_OLD> return val = jsonutils <REPLACE_NEW> mapper ( ) <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> parse jsonfrom string <REPLACE_NEW> read value <REPLACE_END> <KEEP> ( entity utils . to string ( entity ) <KEEP_END> <DELETE> ) ; if ( null ! = return val ) { return ( map < string <DELETE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> object > ) return val ; } } return new hash map < string , object > ( <REPLACE_NEW> this . type ofclass <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<DELETE>", "@", "suppress", "warnings", "(", "str", ")", "<DELETE_END>", "<KEEP>", "@", "override", "protected", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "object", ">", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", "parse", "response", "(", "http", "response", "response", ")", "throws", "http", "response", "exception", ",", "ioexception", "{", "final", "status", "line", "status", "line", "=", "response", ".", "get", "status", "line", "(", ")", ";", "string", "response", "body", "=", "response", ".", "get", "entity", "(", ")", "!", "=", "null", "?", "entity", "utils", ".", "to", "string", "(", "response", ".", "get", "entity", "(", ")", ")", ":", "str", ";", "if", "(", "status", "line", ".", "get", "status", "code", "(", ")", ">", "=", "num", ")", "{", "logger", ".", "error", "(", "string", ".", "format", "(", "str", ",", "status", "line", ".", "get", "status", "code", "(", ")", ")", ")", ";", "throw", "new", "http", "response", "exception", "(", "status", "line", ".", "get", "status", "code", "(", ")", ",", "response", "body", ")", ";", "}", "final", "http", "entity", "entity", "=", "response", ".", "get", "entity", "(", ")", ";", "if", "(", "null", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "=", "entity", "<KEEP_END>", "<INSERT>", "|", "|", "entity", ".", "get", "content", "length", "(", ")", ">", "=", "integer", ".", "max", "_", "value", "<INSERT_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "logger", ".", "error", "(", "str", ")", ";", "return", "null", ";", "}", "return", "new", "<INSERT_END>", "<KEEP>", "object", "<KEEP_END>", "<REPLACE_OLD>", "return", "val", "=", "jsonutils", "<REPLACE_NEW>", "mapper", "(", ")", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "parse", "jsonfrom", "string", "<REPLACE_NEW>", "read", "value", "<REPLACE_END>", "<KEEP>", "(", "entity", "utils", ".", "to", "string", "(", "entity", ")", "<KEEP_END>", "<DELETE>", ")", ";", "if", "(", "null", "!", "=", "return", "val", ")", "{", "return", "(", "map", "<", "string", "<DELETE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "object", ">", ")", "return", "val", ";", "}", "}", "return", "new", "hash", "map", "<", "string", ",", "object", ">", "(", "<REPLACE_NEW>", "this", ".", "type", "ofclass", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> empty object <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "empty", "object", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<DELETE>", "@", "<DELETE>", "suppress", "<DELETE>", "warnings", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "protected", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "t", "<KEEP>", "parse", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "http", "<KEEP>", "entity", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "null", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "entity", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "entity", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "content", "<INSERT>", "length", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ">", "<INSERT>", "=", "<INSERT>", "integer", "<INSERT>", ".", "<INSERT>", "max", "<INSERT>", "_", "<INSERT>", "value", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "new", "<KEEP>", "object", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "jsonutils", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "jsonfrom", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "read", "<REPLACE_NEW>", "value", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "null", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "return", "<DELETE>", "val", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "(", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<KEEP>", ",", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "ofclass", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9063381961295366, "using": 0, "keep": 1}
{"id": "svn2github_hapi-hl7-50-6331", "old_comment": "true if the service was created by this class", "old_comment_tokens": ["true", "if", "the", "service", "was", "created", "by", "this", "class"], "new_comment": "true if the service is not null and was created by this class", "new_comment_tokens": ["true", "if", "the", "service", "is", "not", "null", "and", "was", "created", "by", "this", "class"], "old_code": "public static boolean is default service ( executor service service ) { return service = = default executor service ; }", "old_code_tokens": ["public", "static", "boolean", "is", "default", "service", "(", "executor", "service", "service", ")", "{", "return", "service", "=", "=", "default", "executor", "service", ";", "}"], "new_code": "public static boolean is default service ( executor service service ) { return service ! = null & & service = = default executor service ; }", "new_code_tokens": ["public", "static", "boolean", "is", "default", "service", "(", "executor", "service", "service", ")", "{", "return", "service", "!", "=", "null", "&", "&", "service", "=", "=", "default", "executor", "service", ";", "}"], "span_diff_code": "<KEEP> public static boolean is default service ( executor service service ) { return service <KEEP_END> <INSERT> ! = null & & service <INSERT_END> <KEEP> = = default executor service ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "default", "service", "(", "executor", "service", "service", ")", "{", "return", "service", "<KEEP_END>", "<INSERT>", "!", "=", "null", "&", "&", "service", "<INSERT_END>", "<KEEP>", "=", "=", "default", "executor", "service", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> service <INSERT_NEW_KEEP_BEFORE> service is not null and <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "service", "<INSERT_NEW_KEEP_BEFORE>", "service", "is", "not", "null", "and", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "default", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "executor", "<KEEP>", "service", "<KEEP>", "service", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "service", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "service", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "default", "<KEEP>", "executor", "<KEEP>", "service", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9805821088443795, "using": 2, "keep": 1}
{"id": "mirror_jpcsp-3-4721", "old_comment": "null if the inputstream is null , a string otherwise", "old_comment_tokens": ["null", "if", "the", "inputstream", "is", "null", ",", "a", "string", "otherwise"], "new_comment": "a string", "new_comment_tokens": ["a", "string"], "old_code": "public static string to string ( input stream input stream , boolean close ) throws ioexception { if ( input stream = = null ) { return null ; } string string ; string builder output builder = new string builder ( ) ; try { buffered reader reader = new buffered reader ( new input stream reader ( input stream , str ) ) ; while ( null ! = ( string = reader . read line ( ) ) ) { output builder . append ( string ) . append ( str ) ; } } finally { if ( close ) { close ( input stream ) ; } } return output builder . to string ( ) ; }", "old_code_tokens": ["public", "static", "string", "to", "string", "(", "input", "stream", "input", "stream", ",", "boolean", "close", ")", "throws", "ioexception", "{", "if", "(", "input", "stream", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "string", ";", "string", "builder", "output", "builder", "=", "new", "string", "builder", "(", ")", ";", "try", "{", "buffered", "reader", "reader", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "input", "stream", ",", "str", ")", ")", ";", "while", "(", "null", "!", "=", "(", "string", "=", "reader", ".", "read", "line", "(", ")", ")", ")", "{", "output", "builder", ".", "append", "(", "string", ")", ".", "append", "(", "str", ")", ";", "}", "}", "finally", "{", "if", "(", "close", ")", "{", "close", "(", "input", "stream", ")", ";", "}", "}", "return", "output", "builder", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public static string to string ( input stream input stream , boolean close ) throws ioexception { if ( input stream = = null ) { throw new null pointer exception ( str ) ; } string string ; string builder output builder = new string builder ( ) ; try { buffered reader reader = new buffered reader ( new input stream reader ( input stream , str ) ) ; while ( null ! = ( string = reader . read line ( ) ) ) { output builder . append ( string ) . append ( str ) ; } } finally { if ( close ) { close ( input stream ) ; } } return output builder . to string ( ) ; }", "new_code_tokens": ["public", "static", "string", "to", "string", "(", "input", "stream", "input", "stream", ",", "boolean", "close", ")", "throws", "ioexception", "{", "if", "(", "input", "stream", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "string", "string", ";", "string", "builder", "output", "builder", "=", "new", "string", "builder", "(", ")", ";", "try", "{", "buffered", "reader", "reader", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "input", "stream", ",", "str", ")", ")", ";", "while", "(", "null", "!", "=", "(", "string", "=", "reader", ".", "read", "line", "(", ")", ")", ")", "{", "output", "builder", ".", "append", "(", "string", ")", ".", "append", "(", "str", ")", ";", "}", "}", "finally", "{", "if", "(", "close", ")", "{", "close", "(", "input", "stream", ")", ";", "}", "}", "return", "output", "builder", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static string to string ( input stream input stream , boolean close ) throws ioexception { if ( input stream = = null ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> throw new <REPLACE_END> <KEEP> null <KEEP_END> <INSERT> pointer exception ( str ) <INSERT_END> <KEEP> ; } string string ; string builder output builder = new string builder ( ) ; try { buffered reader reader = new buffered reader ( new input stream reader ( input stream , str ) ) ; while ( null ! = ( string = reader . read line ( ) ) ) { output builder . append ( string ) . append ( str ) ; } } finally { if ( close ) { close ( input stream ) ; } } return output builder . to string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "to", "string", "(", "input", "stream", "input", "stream", ",", "boolean", "close", ")", "throws", "ioexception", "{", "if", "(", "input", "stream", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "throw", "new", "<REPLACE_END>", "<KEEP>", "null", "<KEEP_END>", "<INSERT>", "pointer", "exception", "(", "str", ")", "<INSERT_END>", "<KEEP>", ";", "}", "string", "string", ";", "string", "builder", "output", "builder", "=", "new", "string", "builder", "(", ")", ";", "try", "{", "buffered", "reader", "reader", "=", "new", "buffered", "reader", "(", "new", "input", "stream", "reader", "(", "input", "stream", ",", "str", ")", ")", ";", "while", "(", "null", "!", "=", "(", "string", "=", "reader", ".", "read", "line", "(", ")", ")", ")", "{", "output", "builder", ".", "append", "(", "string", ")", ".", "append", "(", "str", ")", ";", "}", "}", "finally", "{", "if", "(", "close", ")", "{", "close", "(", "input", "stream", ")", ";", "}", "}", "return", "output", "builder", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> null if the inputstream is null , <DELETE_END> <DELETE> otherwise <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "null", "if", "the", "inputstream", "is", "null", ",", "<DELETE_END>", "<DELETE>", "otherwise", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "close", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<KEEP>", "null", "<INSERT>", "pointer", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "string", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "output", "<KEEP>", "builder", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "reader", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "reader", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "line", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "output", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "close", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "output", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7955953062809109, "using": 1, "keep": 1}
{"id": "nuxeo_gwt-527-6373", "old_comment": "a mocked up version of this mediator ' s resolver .", "old_comment_tokens": ["a", "mocked", "up", "version", "of", "this", "mediator", "'", "s", "resolver", "."], "new_comment": "a mocked up version of this updater ' s resolver .", "new_comment_tokens": ["a", "mocked", "up", "version", "of", "this", "updater", "'", "s", "resolver", "."], "old_code": "public resolver get mock resolver ( ) { return new type oracle mediator resolver ( new type oracle build context ( new method arg names lookup ( ) ) ) ; }", "old_code_tokens": ["public", "resolver", "get", "mock", "resolver", "(", ")", "{", "return", "new", "type", "oracle", "mediator", "resolver", "(", "new", "type", "oracle", "build", "context", "(", "new", "method", "arg", "names", "lookup", "(", ")", ")", ")", ";", "}"], "new_code": "public resolver get mock resolver ( ) { return new compilation unit type oracle resolver ( new type oracle build context ( new method arg names lookup ( ) ) ) ; }", "new_code_tokens": ["public", "resolver", "get", "mock", "resolver", "(", ")", "{", "return", "new", "compilation", "unit", "type", "oracle", "resolver", "(", "new", "type", "oracle", "build", "context", "(", "new", "method", "arg", "names", "lookup", "(", ")", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public resolver get mock resolver ( ) { return new <KEEP_END> <INSERT> compilation unit <INSERT_END> <KEEP> type oracle <KEEP_END> <DELETE> mediator <DELETE_END> <KEEP> resolver ( new type oracle build context ( new method arg names lookup ( ) ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "resolver", "get", "mock", "resolver", "(", ")", "{", "return", "new", "<KEEP_END>", "<INSERT>", "compilation", "unit", "<INSERT_END>", "<KEEP>", "type", "oracle", "<KEEP_END>", "<DELETE>", "mediator", "<DELETE_END>", "<KEEP>", "resolver", "(", "new", "type", "oracle", "build", "context", "(", "new", "method", "arg", "names", "lookup", "(", ")", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> mediator <REPLACE_NEW> updater <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "mediator", "<REPLACE_NEW>", "updater", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "resolver", "<KEEP>", "get", "<KEEP>", "mock", "<KEEP>", "resolver", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<INSERT>", "compilation", "<INSERT>", "unit", "<KEEP>", "type", "<KEEP>", "oracle", "<DELETE>", "mediator", "<KEEP>", "resolver", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "type", "<KEEP>", "oracle", "<KEEP>", "build", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "method", "<KEEP>", "arg", "<KEEP>", "names", "<KEEP>", "lookup", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8862097534544455, "using": 1, "keep": 1}
{"id": "softctrl_MyTracks-79-6491", "old_comment": "the format for the decimal format for this series", "old_comment_tokens": ["the", "format", "for", "the", "decimal", "format", "for", "this", "series"], "new_comment": "the number format for this series", "new_comment_tokens": ["the", "number", "format", "for", "this", "series"], "old_code": "decimal format get format ( ) { return format ; }", "old_code_tokens": ["decimal", "format", "get", "format", "(", ")", "{", "return", "format", ";", "}"], "new_code": "number format get format ( ) { return format ; }", "new_code_tokens": ["number", "format", "get", "format", "(", ")", "{", "return", "format", ";", "}"], "span_diff_code": "<REPLACE_OLD> decimal <REPLACE_NEW> number <REPLACE_END> <KEEP> format get format ( ) { return format ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "decimal", "<REPLACE_NEW>", "number", "<REPLACE_END>", "<KEEP>", "format", "get", "format", "(", ")", "{", "return", "format", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> format for the decimal <REPLACE_NEW> number <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "format", "for", "the", "decimal", "<REPLACE_NEW>", "number", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "decimal", "<REPLACE_NEW>", "number", "<KEEP>", "format", "<KEEP>", "get", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "format", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8875450700577657, "using": 1, "keep": 1}
{"id": "apache_pig-44-6680", "old_comment": "collection of values , or null if the key is not in the map .", "old_comment_tokens": ["collection", "of", "values", ",", "or", "null", "if", "the", "key", "is", "not", "in", "the", "map", "."], "new_comment": "list of values , or null if the key is not in the map .", "new_comment_tokens": ["list", "of", "values", ",", "or", "null", "if", "the", "key", "is", "not", "in", "the", "map", "."], "old_code": "public collection < v > get ( k key ) { return m map . get ( key ) ; }", "old_code_tokens": ["public", "collection", "<", "v", ">", "get", "(", "k", "key", ")", "{", "return", "m", "map", ".", "get", "(", "key", ")", ";", "}"], "new_code": "public list < v > get ( k key ) { return m map . get ( key ) ; }", "new_code_tokens": ["public", "list", "<", "v", ">", "get", "(", "k", "key", ")", "{", "return", "m", "map", ".", "get", "(", "key", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < v > get ( k key ) { return m map . get ( key ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "v", ">", "get", "(", "k", "key", ")", "{", "return", "m", "map", ".", "get", "(", "key", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "v", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "k", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.983245250207688, "using": 2, "keep": 1}
{"id": "mockito_mockito-13-3658", "old_comment": "the new mockito generic metadata .", "old_comment_tokens": ["the", "new", "mockito", "generic", "metadata", "."], "new_comment": "the new generic metadata support .", "new_comment_tokens": ["the", "new", "generic", "metadata", "support", "."], "old_code": "public static mockito generic metadata from ( type type ) { checks . check not null ( type , str ) ; if ( type instanceof class ) { return new from class mockito generic metadata ( ( class < ? > ) type ) ; } if ( type instanceof parameterized type ) { return new from parameterized type mockito generic metadata ( ( parameterized type ) type ) ; } throw new mockito exception ( str + type . get class ( ) . get canonical name ( ) + str + type ) ; }", "old_code_tokens": ["public", "static", "mockito", "generic", "metadata", "from", "(", "type", "type", ")", "{", "checks", ".", "check", "not", "null", "(", "type", ",", "str", ")", ";", "if", "(", "type", "instanceof", "class", ")", "{", "return", "new", "from", "class", "mockito", "generic", "metadata", "(", "(", "class", "<", "?", ">", ")", "type", ")", ";", "}", "if", "(", "type", "instanceof", "parameterized", "type", ")", "{", "return", "new", "from", "parameterized", "type", "mockito", "generic", "metadata", "(", "(", "parameterized", "type", ")", "type", ")", ";", "}", "throw", "new", "mockito", "exception", "(", "str", "+", "type", ".", "get", "class", "(", ")", ".", "get", "canonical", "name", "(", ")", "+", "str", "+", "type", ")", ";", "}"], "new_code": "public static generic metadata support from ( type type ) { checks . check not null ( type , str ) ; if ( type instanceof class ) { return new from class generic metadata support ( ( class < ? > ) type ) ; } if ( type instanceof parameterized type ) { return new from parameterized type generic metadata support ( ( parameterized type ) type ) ; } throw new mockito exception ( str + type . get class ( ) . get canonical name ( ) + str + type ) ; }", "new_code_tokens": ["public", "static", "generic", "metadata", "support", "from", "(", "type", "type", ")", "{", "checks", ".", "check", "not", "null", "(", "type", ",", "str", ")", ";", "if", "(", "type", "instanceof", "class", ")", "{", "return", "new", "from", "class", "generic", "metadata", "support", "(", "(", "class", "<", "?", ">", ")", "type", ")", ";", "}", "if", "(", "type", "instanceof", "parameterized", "type", ")", "{", "return", "new", "from", "parameterized", "type", "generic", "metadata", "support", "(", "(", "parameterized", "type", ")", "type", ")", ";", "}", "throw", "new", "mockito", "exception", "(", "str", "+", "type", ".", "get", "class", "(", ")", ".", "get", "canonical", "name", "(", ")", "+", "str", "+", "type", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <DELETE> mockito <DELETE_END> <KEEP> generic metadata <KEEP_END> <INSERT> support <INSERT_END> <KEEP> from ( type type ) { checks . check not null ( type , str ) ; if ( type instanceof class ) { return new from class <KEEP_END> <DELETE> mockito <DELETE_END> <KEEP> generic metadata <KEEP_END> <INSERT> support <INSERT_END> <KEEP> ( ( class < ? > ) type ) ; } if ( type instanceof parameterized type ) { return new from parameterized type <KEEP_END> <DELETE> mockito <DELETE_END> <KEEP> generic metadata <KEEP_END> <INSERT> support <INSERT_END> <KEEP> ( ( parameterized type ) type ) ; } throw new mockito exception ( str + type . get class ( ) . get canonical name ( ) + str + type ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<DELETE>", "mockito", "<DELETE_END>", "<KEEP>", "generic", "metadata", "<KEEP_END>", "<INSERT>", "support", "<INSERT_END>", "<KEEP>", "from", "(", "type", "type", ")", "{", "checks", ".", "check", "not", "null", "(", "type", ",", "str", ")", ";", "if", "(", "type", "instanceof", "class", ")", "{", "return", "new", "from", "class", "<KEEP_END>", "<DELETE>", "mockito", "<DELETE_END>", "<KEEP>", "generic", "metadata", "<KEEP_END>", "<INSERT>", "support", "<INSERT_END>", "<KEEP>", "(", "(", "class", "<", "?", ">", ")", "type", ")", ";", "}", "if", "(", "type", "instanceof", "parameterized", "type", ")", "{", "return", "new", "from", "parameterized", "type", "<KEEP_END>", "<DELETE>", "mockito", "<DELETE_END>", "<KEEP>", "generic", "metadata", "<KEEP_END>", "<INSERT>", "support", "<INSERT_END>", "<KEEP>", "(", "(", "parameterized", "type", ")", "type", ")", ";", "}", "throw", "new", "mockito", "exception", "(", "str", "+", "type", ".", "get", "class", "(", ")", ".", "get", "canonical", "name", "(", ")", "+", "str", "+", "type", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> mockito <DELETE_END> <INSERT_OLD_KEEP_BEFORE> metadata <INSERT_NEW_KEEP_BEFORE> metadata support <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "mockito", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "metadata", "<INSERT_NEW_KEEP_BEFORE>", "metadata", "support", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<DELETE>", "mockito", "<KEEP>", "generic", "<KEEP>", "metadata", "<INSERT>", "support", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "checks", "<KEEP>", ".", "<KEEP>", "check", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "from", "<KEEP>", "class", "<DELETE>", "mockito", "<KEEP>", "generic", "<KEEP>", "metadata", "<INSERT>", "support", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "parameterized", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "from", "<KEEP>", "parameterized", "<KEEP>", "type", "<DELETE>", "mockito", "<KEEP>", "generic", "<KEEP>", "metadata", "<INSERT>", "support", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "parameterized", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "mockito", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "canonical", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8235654515445291, "using": 1, "keep": 1}
{"id": "codehaus_milyn-51-5842", "old_comment": "content delivery unit creator for the resource .", "old_comment_tokens": ["content", "delivery", "unit", "creator", "for", "the", "resource", "."], "new_comment": "org . milyn . delivery . content handler factory for the resource .", "new_comment_tokens": ["org", ".", "milyn", ".", "delivery", ".", "content", "handler", "factory", "for", "the", "resource", "."], "old_code": "public content delivery unit creator get content delivery unit creator ( string type ) throws unsupported content delivery unit type exception { if ( type = = null ) { throw new illegal argument exception ( str ) ; } for ( int i = num ; i < config lists . size ( ) ; i + + ) { smooks resource configuration list list = config lists . get ( i ) ; for ( int ii = num ; ii < list . size ( ) ; ii + + ) { smooks resource configuration config = list . get ( ii ) ; string selector = config . get selector ( ) ; if ( str . equals ( selector ) & & type . equals ignore case ( config . get string parameter ( content delivery unit creator . param _ restype ) ) ) { return ( content delivery unit creator ) get object ( config ) ; } } } throw new unsupported content delivery unit type exception ( type ) ; }", "old_code_tokens": ["public", "content", "delivery", "unit", "creator", "get", "content", "delivery", "unit", "creator", "(", "string", "type", ")", "throws", "unsupported", "content", "delivery", "unit", "type", "exception", "{", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "config", "lists", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "smooks", "resource", "configuration", "list", "list", "=", "config", "lists", ".", "get", "(", "i", ")", ";", "for", "(", "int", "ii", "=", "num", ";", "ii", "<", "list", ".", "size", "(", ")", ";", "ii", "+", "+", ")", "{", "smooks", "resource", "configuration", "config", "=", "list", ".", "get", "(", "ii", ")", ";", "string", "selector", "=", "config", ".", "get", "selector", "(", ")", ";", "if", "(", "str", ".", "equals", "(", "selector", ")", "&", "&", "type", ".", "equals", "ignore", "case", "(", "config", ".", "get", "string", "parameter", "(", "content", "delivery", "unit", "creator", ".", "param", "_", "restype", ")", ")", ")", "{", "return", "(", "content", "delivery", "unit", "creator", ")", "get", "object", "(", "config", ")", ";", "}", "}", "}", "throw", "new", "unsupported", "content", "delivery", "unit", "type", "exception", "(", "type", ")", ";", "}"], "new_code": "public content handler factory get content delivery unit creator ( string type ) throws unsupported content handler type exception { if ( type = = null ) { throw new illegal argument exception ( str ) ; } for ( int i = num ; i < config lists . size ( ) ; i + + ) { smooks resource configuration list list = config lists . get ( i ) ; for ( int ii = num ; ii < list . size ( ) ; ii + + ) { smooks resource configuration config = list . get ( ii ) ; string selector = config . get selector ( ) ; if ( str . equals ( selector ) & & type . equals ignore case ( config . get string parameter ( content handler factory . param _ restype ) ) ) { return ( content handler factory ) get object ( config ) ; } } } throw new unsupported content handler type exception ( type ) ; }", "new_code_tokens": ["public", "content", "handler", "factory", "get", "content", "delivery", "unit", "creator", "(", "string", "type", ")", "throws", "unsupported", "content", "handler", "type", "exception", "{", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "config", "lists", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "smooks", "resource", "configuration", "list", "list", "=", "config", "lists", ".", "get", "(", "i", ")", ";", "for", "(", "int", "ii", "=", "num", ";", "ii", "<", "list", ".", "size", "(", ")", ";", "ii", "+", "+", ")", "{", "smooks", "resource", "configuration", "config", "=", "list", ".", "get", "(", "ii", ")", ";", "string", "selector", "=", "config", ".", "get", "selector", "(", ")", ";", "if", "(", "str", ".", "equals", "(", "selector", ")", "&", "&", "type", ".", "equals", "ignore", "case", "(", "config", ".", "get", "string", "parameter", "(", "content", "handler", "factory", ".", "param", "_", "restype", ")", ")", ")", "{", "return", "(", "content", "handler", "factory", ")", "get", "object", "(", "config", ")", ";", "}", "}", "}", "throw", "new", "unsupported", "content", "handler", "type", "exception", "(", "type", ")", ";", "}"], "span_diff_code": "<KEEP> public content <KEEP_END> <REPLACE_OLD> delivery unit creator <REPLACE_NEW> handler factory <REPLACE_END> <KEEP> get content delivery unit creator ( string type ) throws unsupported content <KEEP_END> <REPLACE_OLD> delivery unit <REPLACE_NEW> handler <REPLACE_END> <KEEP> type exception { if ( type = = null ) { throw new illegal argument exception ( str ) ; } for ( int i = num ; i < config lists . size ( ) ; i + + ) { smooks resource configuration list list = config lists . get ( i ) ; for ( int ii = num ; ii < list . size ( ) ; ii + + ) { smooks resource configuration config = list . get ( ii ) ; string selector = config . get selector ( ) ; if ( str . equals ( selector ) & & type . equals ignore case ( config . get string parameter ( content <KEEP_END> <REPLACE_OLD> delivery unit creator <REPLACE_NEW> handler factory <REPLACE_END> <KEEP> . param _ restype ) ) ) { return ( content <KEEP_END> <REPLACE_OLD> delivery unit creator <REPLACE_NEW> handler factory <REPLACE_END> <KEEP> ) get object ( config ) ; } } } throw new unsupported content <KEEP_END> <REPLACE_OLD> delivery unit <REPLACE_NEW> handler <REPLACE_END> <KEEP> type exception ( type ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "content", "<KEEP_END>", "<REPLACE_OLD>", "delivery", "unit", "creator", "<REPLACE_NEW>", "handler", "factory", "<REPLACE_END>", "<KEEP>", "get", "content", "delivery", "unit", "creator", "(", "string", "type", ")", "throws", "unsupported", "content", "<KEEP_END>", "<REPLACE_OLD>", "delivery", "unit", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<KEEP>", "type", "exception", "{", "if", "(", "type", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "config", "lists", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "smooks", "resource", "configuration", "list", "list", "=", "config", "lists", ".", "get", "(", "i", ")", ";", "for", "(", "int", "ii", "=", "num", ";", "ii", "<", "list", ".", "size", "(", ")", ";", "ii", "+", "+", ")", "{", "smooks", "resource", "configuration", "config", "=", "list", ".", "get", "(", "ii", ")", ";", "string", "selector", "=", "config", ".", "get", "selector", "(", ")", ";", "if", "(", "str", ".", "equals", "(", "selector", ")", "&", "&", "type", ".", "equals", "ignore", "case", "(", "config", ".", "get", "string", "parameter", "(", "content", "<KEEP_END>", "<REPLACE_OLD>", "delivery", "unit", "creator", "<REPLACE_NEW>", "handler", "factory", "<REPLACE_END>", "<KEEP>", ".", "param", "_", "restype", ")", ")", ")", "{", "return", "(", "content", "<KEEP_END>", "<REPLACE_OLD>", "delivery", "unit", "creator", "<REPLACE_NEW>", "handler", "factory", "<REPLACE_END>", "<KEEP>", ")", "get", "object", "(", "config", ")", ";", "}", "}", "}", "throw", "new", "unsupported", "content", "<KEEP_END>", "<REPLACE_OLD>", "delivery", "unit", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<KEEP>", "type", "exception", "(", "type", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> content <INSERT_NEW_KEEP_AFTER> org . milyn . delivery . content <INSERT_END> <REPLACE_OLD> delivery unit creator <REPLACE_NEW> handler factory <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "content", "<INSERT_NEW_KEEP_AFTER>", "org", ".", "milyn", ".", "delivery", ".", "content", "<INSERT_END>", "<REPLACE_OLD>", "delivery", "unit", "creator", "<REPLACE_NEW>", "handler", "factory", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "content", "<REPLACE_OLD>", "delivery", "<REPLACE_OLD>", "unit", "<REPLACE_OLD>", "creator", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", "factory", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "delivery", "<KEEP>", "unit", "<KEEP>", "creator", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "unsupported", "<KEEP>", "content", "<REPLACE_OLD>", "delivery", "<REPLACE_OLD>", "unit", "<REPLACE_NEW>", "handler", "<KEEP>", "type", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "config", "<KEEP>", "lists", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "smooks", "<KEEP>", "resource", "<KEEP>", "configuration", "<KEEP>", "list", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "config", "<KEEP>", "lists", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "ii", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "ii", "<KEEP>", "<", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ii", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "smooks", "<KEEP>", "resource", "<KEEP>", "configuration", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "ii", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "selector", "<KEEP>", "=", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selector", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "selector", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "content", "<REPLACE_OLD>", "delivery", "<REPLACE_OLD>", "unit", "<REPLACE_OLD>", "creator", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", "factory", "<KEEP>", ".", "<KEEP>", "param", "<KEEP>", "_", "<KEEP>", "restype", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "content", "<REPLACE_OLD>", "delivery", "<REPLACE_OLD>", "unit", "<REPLACE_OLD>", "creator", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", "factory", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "unsupported", "<KEEP>", "content", "<REPLACE_OLD>", "delivery", "<REPLACE_OLD>", "unit", "<REPLACE_NEW>", "handler", "<KEEP>", "type", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9015439409597091, "using": 2, "keep": 1}
{"id": "eclipse_rt.equinox.framework-47-6534", "old_comment": "the array of string tokens or null if there are none", "old_comment_tokens": ["the", "array", "of", "string", "tokens", "or", "null", "if", "there", "are", "none"], "new_comment": "the array of string tokens . if there are none then an empty array is returned .", "new_comment_tokens": ["the", "array", "of", "string", "tokens", ".", "if", "there", "are", "none", "then", "an", "empty", "array", "is", "returned", "."], "old_code": "public static string [ ] get array from list ( string string list , string separator ) { if ( string list = = null | | string list . trim ( ) . equals ( str ) ) return null ; vector list = new vector ( ) ; string tokenizer tokens = new string tokenizer ( string list , separator ) ; while ( tokens . has more tokens ( ) ) { string token = tokens . next token ( ) . trim ( ) ; if ( ! token . equals ( str ) ) list . add element ( token ) ; } return list . is empty ( ) ? new string [ num ] : ( string [ ] ) list . to array ( new string [ list . size ( ) ] ) ; }", "old_code_tokens": ["public", "static", "string", "[", "]", "get", "array", "from", "list", "(", "string", "string", "list", ",", "string", "separator", ")", "{", "if", "(", "string", "list", "=", "=", "null", "|", "|", "string", "list", ".", "trim", "(", ")", ".", "equals", "(", "str", ")", ")", "return", "null", ";", "vector", "list", "=", "new", "vector", "(", ")", ";", "string", "tokenizer", "tokens", "=", "new", "string", "tokenizer", "(", "string", "list", ",", "separator", ")", ";", "while", "(", "tokens", ".", "has", "more", "tokens", "(", ")", ")", "{", "string", "token", "=", "tokens", ".", "next", "token", "(", ")", ".", "trim", "(", ")", ";", "if", "(", "!", "token", ".", "equals", "(", "str", ")", ")", "list", ".", "add", "element", "(", "token", ")", ";", "}", "return", "list", ".", "is", "empty", "(", ")", "?", "new", "string", "[", "num", "]", ":", "(", "string", "[", "]", ")", "list", ".", "to", "array", "(", "new", "string", "[", "list", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public static string [ ] get array from list ( string string list , string separator ) { if ( string list = = null | | string list . trim ( ) . length ( ) = = num ) return new string [ num ] ; array list list = new array list ( ) ; string tokenizer tokens = new string tokenizer ( string list , separator ) ; while ( tokens . has more tokens ( ) ) { string token = tokens . next token ( ) . trim ( ) ; if ( token . length ( ) ! = num ) list . add ( token ) ; } return ( string [ ] ) list . to array ( new string [ list . size ( ) ] ) ; }", "new_code_tokens": ["public", "static", "string", "[", "]", "get", "array", "from", "list", "(", "string", "string", "list", ",", "string", "separator", ")", "{", "if", "(", "string", "list", "=", "=", "null", "|", "|", "string", "list", ".", "trim", "(", ")", ".", "length", "(", ")", "=", "=", "num", ")", "return", "new", "string", "[", "num", "]", ";", "array", "list", "list", "=", "new", "array", "list", "(", ")", ";", "string", "tokenizer", "tokens", "=", "new", "string", "tokenizer", "(", "string", "list", ",", "separator", ")", ";", "while", "(", "tokens", ".", "has", "more", "tokens", "(", ")", ")", "{", "string", "token", "=", "tokens", ".", "next", "token", "(", ")", ".", "trim", "(", ")", ";", "if", "(", "token", ".", "length", "(", ")", "!", "=", "num", ")", "list", ".", "add", "(", "token", ")", ";", "}", "return", "(", "string", "[", "]", ")", "list", ".", "to", "array", "(", "new", "string", "[", "list", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public static string [ ] get array from list ( string string list , string separator ) { if ( string list = = null | | string list . trim ( ) . <KEEP_END> <REPLACE_OLD> equals <REPLACE_NEW> length <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> str <DELETE_END> <KEEP> ) <KEEP_END> <INSERT> = = num <INSERT_END> <KEEP> ) return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new string [ num ] <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> array list <REPLACE_END> <KEEP> list = new <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> array list <REPLACE_END> <KEEP> ( ) ; string tokenizer tokens = new string tokenizer ( string list , separator ) ; while ( tokens . has more tokens ( ) ) { string token = tokens . next token ( ) . trim ( ) ; if ( <KEEP_END> <DELETE> ! <DELETE_END> <KEEP> token . <KEEP_END> <REPLACE_OLD> equals <REPLACE_NEW> length <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> str <DELETE_END> <KEEP> ) <KEEP_END> <INSERT> ! = num <INSERT_END> <KEEP> ) list . add <KEEP_END> <DELETE> element <DELETE_END> <KEEP> ( token ) ; } return <KEEP_END> <DELETE> list . is empty ( ) ? new string [ num ] : <DELETE_END> <KEEP> ( string [ ] ) list . to array ( new string [ list . size ( ) ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "[", "]", "get", "array", "from", "list", "(", "string", "string", "list", ",", "string", "separator", ")", "{", "if", "(", "string", "list", "=", "=", "null", "|", "|", "string", "list", ".", "trim", "(", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "length", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "str", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", "=", "=", "num", "<INSERT_END>", "<KEEP>", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "string", "[", "num", "]", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "list", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "string", "tokenizer", "tokens", "=", "new", "string", "tokenizer", "(", "string", "list", ",", "separator", ")", ";", "while", "(", "tokens", ".", "has", "more", "tokens", "(", ")", ")", "{", "string", "token", "=", "tokens", ".", "next", "token", "(", ")", ".", "trim", "(", ")", ";", "if", "(", "<KEEP_END>", "<DELETE>", "!", "<DELETE_END>", "<KEEP>", "token", ".", "<KEEP_END>", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "length", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "str", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", "!", "=", "num", "<INSERT_END>", "<KEEP>", ")", "list", ".", "add", "<KEEP_END>", "<DELETE>", "element", "<DELETE_END>", "<KEEP>", "(", "token", ")", ";", "}", "return", "<KEEP_END>", "<DELETE>", "list", ".", "is", "empty", "(", ")", "?", "new", "string", "[", "num", "]", ":", "<DELETE_END>", "<KEEP>", "(", "string", "[", "]", ")", "list", ".", "to", "array", "(", "new", "string", "[", "list", ".", "size", "(", ")", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> or null <REPLACE_NEW> . <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> none <INSERT_NEW_KEEP_BEFORE> none then an empty array is returned . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "or", "null", "<REPLACE_NEW>", ".", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "none", "<INSERT_NEW_KEEP_BEFORE>", "none", "then", "an", "empty", "array", "is", "returned", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "array", "<KEEP>", "from", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "string", "<KEEP>", "list", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "separator", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "string", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "length", "<KEEP>", "(", "<DELETE>", "str", "<KEEP>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "num", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<KEEP>", ";", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "tokenizer", "<KEEP>", "tokens", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "tokenizer", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "list", "<KEEP>", ",", "<KEEP>", "separator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "tokens", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "more", "<KEEP>", "tokens", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "tokens", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "!", "<KEEP>", "token", "<KEEP>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "length", "<KEEP>", "(", "<DELETE>", "str", "<KEEP>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "num", "<KEEP>", ")", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "add", "<DELETE>", "element", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "list", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "empty", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "?", "<DELETE>", "new", "<DELETE>", "string", "<DELETE>", "[", "<DELETE>", "num", "<DELETE>", "]", "<DELETE>", ":", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8433854093110037, "using": 2, "keep": 1}
{"id": "b3log_solo-3-761", "old_comment": "upload token , returns null if not found", "old_comment_tokens": ["upload", "token", ",", "returns", "null", "if", "not", "found"], "new_comment": "upload token and url , returns null if not found", "new_comment_tokens": ["upload", "token", "and", "url", ",", "returns", "null", "if", "not", "found"], "old_code": "public static string get upload token ( final request context context ) { try { final jsonobject current user = get current user ( context . get request ( ) , context . get response ( ) ) ; if ( null = = current user ) { return null ; } final string user name = current user . opt string ( user . user _ name ) ; final string user b3 key = current user . opt string ( user ext . user _ b3 _ key ) ; if ( string utils . is blank ( user b3 key ) ) { return null ; } final jsonobject request json = new jsonobject ( ) . put ( user . user _ name , user name ) . put ( user ext . user _ b3 _ key , user b3 key ) ; final http response res = http request . post ( str ) . trust all certs ( true ) . body ( request json . to string ( ) ) . connection timeout ( num ) . timeout ( num ) . header ( str , solos . user _ agent ) . send ( ) ; if ( http servlet response . sc _ ok ! = res . status code ( ) ) { return null ; } res . charset ( str ) ; final jsonobject result = new jsonobject ( res . body text ( ) ) ; if ( num ! = result . opt int ( keys . code ) ) { return null ; } final jsonobject data = result . opt jsonobject ( common . data ) ; return data . opt string ( str ) ; } catch ( final exception e ) { logger . log ( level . error , str , e ) ; return null ; } }", "old_code_tokens": ["public", "static", "string", "get", "upload", "token", "(", "final", "request", "context", "context", ")", "{", "try", "{", "final", "jsonobject", "current", "user", "=", "get", "current", "user", "(", "context", ".", "get", "request", "(", ")", ",", "context", ".", "get", "response", "(", ")", ")", ";", "if", "(", "null", "=", "=", "current", "user", ")", "{", "return", "null", ";", "}", "final", "string", "user", "name", "=", "current", "user", ".", "opt", "string", "(", "user", ".", "user", "_", "name", ")", ";", "final", "string", "user", "b3", "key", "=", "current", "user", ".", "opt", "string", "(", "user", "ext", ".", "user", "_", "b3", "_", "key", ")", ";", "if", "(", "string", "utils", ".", "is", "blank", "(", "user", "b3", "key", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "request", "json", "=", "new", "jsonobject", "(", ")", ".", "put", "(", "user", ".", "user", "_", "name", ",", "user", "name", ")", ".", "put", "(", "user", "ext", ".", "user", "_", "b3", "_", "key", ",", "user", "b3", "key", ")", ";", "final", "http", "response", "res", "=", "http", "request", ".", "post", "(", "str", ")", ".", "trust", "all", "certs", "(", "true", ")", ".", "body", "(", "request", "json", ".", "to", "string", "(", ")", ")", ".", "connection", "timeout", "(", "num", ")", ".", "timeout", "(", "num", ")", ".", "header", "(", "str", ",", "solos", ".", "user", "_", "agent", ")", ".", "send", "(", ")", ";", "if", "(", "http", "servlet", "response", ".", "sc", "_", "ok", "!", "=", "res", ".", "status", "code", "(", ")", ")", "{", "return", "null", ";", "}", "res", ".", "charset", "(", "str", ")", ";", "final", "jsonobject", "result", "=", "new", "jsonobject", "(", "res", ".", "body", "text", "(", ")", ")", ";", "if", "(", "num", "!", "=", "result", ".", "opt", "int", "(", "keys", ".", "code", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "data", "=", "result", ".", "opt", "jsonobject", "(", "common", ".", "data", ")", ";", "return", "data", ".", "opt", "string", "(", "str", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", ",", "e", ")", ";", "return", "null", ";", "}", "}"], "new_code": "public static jsonobject get upload token ( final request context context ) { try { final jsonobject current user = get current user ( context . get request ( ) , context . get response ( ) ) ; if ( null = = current user ) { return null ; } final string user name = current user . opt string ( user . user _ name ) ; final string user b3 key = current user . opt string ( user ext . user _ b3 _ key ) ; if ( string utils . is blank ( user b3 key ) ) { return null ; } final jsonobject request json = new jsonobject ( ) . put ( user . user _ name , user name ) . put ( user ext . user _ b3 _ key , user b3 key ) ; final http response res = http request . post ( str ) . trust all certs ( true ) . body ( request json . to string ( ) ) . connection timeout ( num ) . timeout ( num ) . header ( str , solos . user _ agent ) . send ( ) ; if ( http servlet response . sc _ ok ! = res . status code ( ) ) { return null ; } res . charset ( str ) ; final jsonobject result = new jsonobject ( res . body text ( ) ) ; if ( num ! = result . opt int ( keys . code ) ) { return null ; } final jsonobject data = result . opt jsonobject ( common . data ) ; return new jsonobject ( ) . put ( common . upload _ token , data . opt string ( str ) ) . put ( common . upload _ url , data . opt string ( str ) ) ; } catch ( final exception e ) { logger . log ( level . error , str , e ) ; return null ; } }", "new_code_tokens": ["public", "static", "jsonobject", "get", "upload", "token", "(", "final", "request", "context", "context", ")", "{", "try", "{", "final", "jsonobject", "current", "user", "=", "get", "current", "user", "(", "context", ".", "get", "request", "(", ")", ",", "context", ".", "get", "response", "(", ")", ")", ";", "if", "(", "null", "=", "=", "current", "user", ")", "{", "return", "null", ";", "}", "final", "string", "user", "name", "=", "current", "user", ".", "opt", "string", "(", "user", ".", "user", "_", "name", ")", ";", "final", "string", "user", "b3", "key", "=", "current", "user", ".", "opt", "string", "(", "user", "ext", ".", "user", "_", "b3", "_", "key", ")", ";", "if", "(", "string", "utils", ".", "is", "blank", "(", "user", "b3", "key", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "request", "json", "=", "new", "jsonobject", "(", ")", ".", "put", "(", "user", ".", "user", "_", "name", ",", "user", "name", ")", ".", "put", "(", "user", "ext", ".", "user", "_", "b3", "_", "key", ",", "user", "b3", "key", ")", ";", "final", "http", "response", "res", "=", "http", "request", ".", "post", "(", "str", ")", ".", "trust", "all", "certs", "(", "true", ")", ".", "body", "(", "request", "json", ".", "to", "string", "(", ")", ")", ".", "connection", "timeout", "(", "num", ")", ".", "timeout", "(", "num", ")", ".", "header", "(", "str", ",", "solos", ".", "user", "_", "agent", ")", ".", "send", "(", ")", ";", "if", "(", "http", "servlet", "response", ".", "sc", "_", "ok", "!", "=", "res", ".", "status", "code", "(", ")", ")", "{", "return", "null", ";", "}", "res", ".", "charset", "(", "str", ")", ";", "final", "jsonobject", "result", "=", "new", "jsonobject", "(", "res", ".", "body", "text", "(", ")", ")", ";", "if", "(", "num", "!", "=", "result", ".", "opt", "int", "(", "keys", ".", "code", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "data", "=", "result", ".", "opt", "jsonobject", "(", "common", ".", "data", ")", ";", "return", "new", "jsonobject", "(", ")", ".", "put", "(", "common", ".", "upload", "_", "token", ",", "data", ".", "opt", "string", "(", "str", ")", ")", ".", "put", "(", "common", ".", "upload", "_", "url", ",", "data", ".", "opt", "string", "(", "str", ")", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", ",", "e", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> jsonobject <REPLACE_END> <KEEP> get upload token ( final request context context ) { try { final jsonobject current user = get current user ( context . get request ( ) , context . get response ( ) ) ; if ( null = = current user ) { return null ; } final string user name = current user . opt string ( user . user _ name ) ; final string user b3 key = current user . opt string ( user ext . user _ b3 _ key ) ; if ( string utils . is blank ( user b3 key ) ) { return null ; } final jsonobject request json = new jsonobject ( ) . put ( user . user _ name , user name ) . put ( user ext . user _ b3 _ key , user b3 key ) ; final http response res = http request . post ( str ) . trust all certs ( true ) . body ( request json . to string ( ) ) . connection timeout ( num ) . timeout ( num ) . header ( str , solos . user _ agent ) . send ( ) ; if ( http servlet response . sc _ ok ! = res . status code ( ) ) { return null ; } res . charset ( str ) ; final jsonobject result = new jsonobject ( res . body text ( ) ) ; if ( num ! = result . opt int ( keys . code ) ) { return null ; } final jsonobject data = result . opt jsonobject ( common . data ) ; return <KEEP_END> <INSERT> new jsonobject ( ) . put ( common . upload _ token , <INSERT_END> <KEEP> data . opt string ( str <KEEP_END> <INSERT> ) ) . put ( common . upload _ url , data . opt string ( str ) <INSERT_END> <KEEP> ) ; } catch ( final exception e ) { logger . log ( level . error , str , e ) ; return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "jsonobject", "<REPLACE_END>", "<KEEP>", "get", "upload", "token", "(", "final", "request", "context", "context", ")", "{", "try", "{", "final", "jsonobject", "current", "user", "=", "get", "current", "user", "(", "context", ".", "get", "request", "(", ")", ",", "context", ".", "get", "response", "(", ")", ")", ";", "if", "(", "null", "=", "=", "current", "user", ")", "{", "return", "null", ";", "}", "final", "string", "user", "name", "=", "current", "user", ".", "opt", "string", "(", "user", ".", "user", "_", "name", ")", ";", "final", "string", "user", "b3", "key", "=", "current", "user", ".", "opt", "string", "(", "user", "ext", ".", "user", "_", "b3", "_", "key", ")", ";", "if", "(", "string", "utils", ".", "is", "blank", "(", "user", "b3", "key", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "request", "json", "=", "new", "jsonobject", "(", ")", ".", "put", "(", "user", ".", "user", "_", "name", ",", "user", "name", ")", ".", "put", "(", "user", "ext", ".", "user", "_", "b3", "_", "key", ",", "user", "b3", "key", ")", ";", "final", "http", "response", "res", "=", "http", "request", ".", "post", "(", "str", ")", ".", "trust", "all", "certs", "(", "true", ")", ".", "body", "(", "request", "json", ".", "to", "string", "(", ")", ")", ".", "connection", "timeout", "(", "num", ")", ".", "timeout", "(", "num", ")", ".", "header", "(", "str", ",", "solos", ".", "user", "_", "agent", ")", ".", "send", "(", ")", ";", "if", "(", "http", "servlet", "response", ".", "sc", "_", "ok", "!", "=", "res", ".", "status", "code", "(", ")", ")", "{", "return", "null", ";", "}", "res", ".", "charset", "(", "str", ")", ";", "final", "jsonobject", "result", "=", "new", "jsonobject", "(", "res", ".", "body", "text", "(", ")", ")", ";", "if", "(", "num", "!", "=", "result", ".", "opt", "int", "(", "keys", ".", "code", ")", ")", "{", "return", "null", ";", "}", "final", "jsonobject", "data", "=", "result", ".", "opt", "jsonobject", "(", "common", ".", "data", ")", ";", "return", "<KEEP_END>", "<INSERT>", "new", "jsonobject", "(", ")", ".", "put", "(", "common", ".", "upload", "_", "token", ",", "<INSERT_END>", "<KEEP>", "data", ".", "opt", "string", "(", "str", "<KEEP_END>", "<INSERT>", ")", ")", ".", "put", "(", "common", ".", "upload", "_", "url", ",", "data", ".", "opt", "string", "(", "str", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "error", ",", "str", ",", "e", ")", ";", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> token <INSERT_NEW_KEEP_BEFORE> token and url <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "token", "<INSERT_NEW_KEEP_BEFORE>", "token", "and", "url", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "jsonobject", "<KEEP>", "get", "<KEEP>", "upload", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "request", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "user", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "user", "<KEEP>", "b3", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "ext", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "b3", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "blank", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "b3", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "request", "<KEEP>", "json", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "user", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "ext", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "b3", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "user", "<KEEP>", "b3", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "res", "<KEEP>", "=", "<KEEP>", "http", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "trust", "<KEEP>", "all", "<KEEP>", "certs", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "body", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "connection", "<KEEP>", "timeout", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "timeout", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "solos", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "agent", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "send", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "sc", "<KEEP>", "_", "<KEEP>", "ok", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "charset", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "res", "<KEEP>", ".", "<KEEP>", "body", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "jsonobject", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "common", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "new", "<INSERT>", "jsonobject", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "common", "<INSERT>", ".", "<INSERT>", "upload", "<INSERT>", "_", "<INSERT>", "token", "<INSERT>", ",", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "opt", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "common", "<INSERT>", ".", "<INSERT>", "upload", "<INSERT>", "_", "<INSERT>", "url", "<INSERT>", ",", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "opt", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.997700313497504, "using": 2, "keep": 1}
{"id": "eclipse_gmf-runtime-97-7152", "old_comment": "returns the msl copying resource set .", "old_comment_tokens": ["returns", "the", "msl", "copying", "resource", "set", "."], "new_comment": "returns the copying resource set .", "new_comment_tokens": ["returns", "the", "copying", "resource", "set", "."], "old_code": "public copying resource set get msl copying resource set ( ) { return msl copying resource set ; }", "old_code_tokens": ["public", "copying", "resource", "set", "get", "msl", "copying", "resource", "set", "(", ")", "{", "return", "msl", "copying", "resource", "set", ";", "}"], "new_code": "public copying resource set get msl copying resource set ( ) { return copying resource set ; }", "new_code_tokens": ["public", "copying", "resource", "set", "get", "msl", "copying", "resource", "set", "(", ")", "{", "return", "copying", "resource", "set", ";", "}"], "span_diff_code": "<KEEP> public copying resource set get msl copying resource set ( ) { return <KEEP_END> <DELETE> msl <DELETE_END> <KEEP> copying resource set ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "copying", "resource", "set", "get", "msl", "copying", "resource", "set", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "msl", "<DELETE_END>", "<KEEP>", "copying", "resource", "set", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> msl <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "msl", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "copying", "<KEEP>", "resource", "<KEEP>", "set", "<KEEP>", "get", "<KEEP>", "msl", "<KEEP>", "copying", "<KEEP>", "resource", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "msl", "<KEEP>", "copying", "<KEEP>", "resource", "<KEEP>", "set", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9925665806937132, "using": 2, "keep": 1}
{"id": "eclipse_rt.equinox.p2-42-4250", "old_comment": "an array of urls in the given spec , or null", "old_comment_tokens": ["an", "array", "of", "urls", "in", "the", "given", "spec", ",", "or", "null"], "new_comment": "an array of uris in the given spec , or null", "new_comment_tokens": ["an", "array", "of", "uris", "in", "the", "given", "spec", ",", "or", "null"], "old_code": "private static url [ ] get urls ( string spec ) { string [ ] url specs = get array from string ( spec , str ) ; array list result = new array list ( url specs . length ) ; for ( int i = num ; i < url specs . length ; i + + ) { try { result . add ( new url ( url specs [ i ] ) ) ; } catch ( malformed urlexception e ) { log helper . log ( new status ( istatus . error , installer activator . pi _ installer , str + url specs [ i ] , e ) ) ; } } if ( result . is empty ( ) ) return null ; return ( url [ ] ) result . to array ( new url [ result . size ( ) ] ) ; }", "old_code_tokens": ["private", "static", "url", "[", "]", "get", "urls", "(", "string", "spec", ")", "{", "string", "[", "]", "url", "specs", "=", "get", "array", "from", "string", "(", "spec", ",", "str", ")", ";", "array", "list", "result", "=", "new", "array", "list", "(", "url", "specs", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "url", "specs", ".", "length", ";", "i", "+", "+", ")", "{", "try", "{", "result", ".", "add", "(", "new", "url", "(", "url", "specs", "[", "i", "]", ")", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "log", "helper", ".", "log", "(", "new", "status", "(", "istatus", ".", "error", ",", "installer", "activator", ".", "pi", "_", "installer", ",", "str", "+", "url", "specs", "[", "i", "]", ",", "e", ")", ")", ";", "}", "}", "if", "(", "result", ".", "is", "empty", "(", ")", ")", "return", "null", ";", "return", "(", "url", "[", "]", ")", "result", ".", "to", "array", "(", "new", "url", "[", "result", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "private static uri [ ] get urls ( string spec ) { string [ ] url specs = get array from string ( spec , str ) ; array list result = new array list ( url specs . length ) ; for ( int i = num ; i < url specs . length ; i + + ) { try { result . add ( new uri ( url specs [ i ] ) ) ; } catch ( urisyntax exception e ) { log helper . log ( new status ( istatus . error , installer activator . pi _ installer , str + url specs [ i ] , e ) ) ; } } if ( result . is empty ( ) ) return null ; return ( uri [ ] ) result . to array ( new uri [ result . size ( ) ] ) ; }", "new_code_tokens": ["private", "static", "uri", "[", "]", "get", "urls", "(", "string", "spec", ")", "{", "string", "[", "]", "url", "specs", "=", "get", "array", "from", "string", "(", "spec", ",", "str", ")", ";", "array", "list", "result", "=", "new", "array", "list", "(", "url", "specs", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "url", "specs", ".", "length", ";", "i", "+", "+", ")", "{", "try", "{", "result", ".", "add", "(", "new", "uri", "(", "url", "specs", "[", "i", "]", ")", ")", ";", "}", "catch", "(", "urisyntax", "exception", "e", ")", "{", "log", "helper", ".", "log", "(", "new", "status", "(", "istatus", ".", "error", ",", "installer", "activator", ".", "pi", "_", "installer", ",", "str", "+", "url", "specs", "[", "i", "]", ",", "e", ")", ")", ";", "}", "}", "if", "(", "result", ".", "is", "empty", "(", ")", ")", "return", "null", ";", "return", "(", "uri", "[", "]", ")", "result", ".", "to", "array", "(", "new", "uri", "[", "result", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> uri <REPLACE_END> <KEEP> [ ] get urls ( string spec ) { string [ ] url specs = get array from string ( spec , str ) ; array list result = new array list ( url specs . length ) ; for ( int i = num ; i < url specs . length ; i + + ) { try { result . add ( new <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> uri <REPLACE_END> <KEEP> ( url specs [ i ] ) ) ; } catch ( <KEEP_END> <REPLACE_OLD> malformed urlexception <REPLACE_NEW> urisyntax exception <REPLACE_END> <KEEP> e ) { log helper . log ( new status ( istatus . error , installer activator . pi _ installer , str + url specs [ i ] , e ) ) ; } } if ( result . is empty ( ) ) return null ; return ( <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> uri <REPLACE_END> <KEEP> [ ] ) result . to array ( new <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> uri <REPLACE_END> <KEEP> [ result . size ( ) ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "urls", "(", "string", "spec", ")", "{", "string", "[", "]", "url", "specs", "=", "get", "array", "from", "string", "(", "spec", ",", "str", ")", ";", "array", "list", "result", "=", "new", "array", "list", "(", "url", "specs", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "url", "specs", ".", "length", ";", "i", "+", "+", ")", "{", "try", "{", "result", ".", "add", "(", "new", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<REPLACE_END>", "<KEEP>", "(", "url", "specs", "[", "i", "]", ")", ")", ";", "}", "catch", "(", "<KEEP_END>", "<REPLACE_OLD>", "malformed", "urlexception", "<REPLACE_NEW>", "urisyntax", "exception", "<REPLACE_END>", "<KEEP>", "e", ")", "{", "log", "helper", ".", "log", "(", "new", "status", "(", "istatus", ".", "error", ",", "installer", "activator", ".", "pi", "_", "installer", ",", "str", "+", "url", "specs", "[", "i", "]", ",", "e", ")", ")", ";", "}", "}", "if", "(", "result", ".", "is", "empty", "(", ")", ")", "return", "null", ";", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<REPLACE_END>", "<KEEP>", "[", "]", ")", "result", ".", "to", "array", "(", "new", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<REPLACE_END>", "<KEEP>", "[", "result", ".", "size", "(", ")", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> urls <REPLACE_NEW> uris <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "urls", "<REPLACE_NEW>", "uris", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "urls", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "spec", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "url", "<KEEP>", "specs", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "array", "<KEEP>", "from", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "spec", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", "specs", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", "specs", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", "specs", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<REPLACE_OLD>", "malformed", "<REPLACE_OLD>", "urlexception", "<REPLACE_NEW>", "urisyntax", "<REPLACE_NEW>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "istatus", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "installer", "<KEEP>", "activator", "<KEEP>", ".", "<KEEP>", "pi", "<KEEP>", "_", "<KEEP>", "installer", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "url", "<KEEP>", "specs", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "uri", "<KEEP>", "[", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8837509923236242, "using": 0, "keep": 1}
{"id": "Netflix_Hystrix-1-207", "old_comment": "this hystrix command builder", "old_comment_tokens": ["this", "hystrix", "command", "builder"], "new_comment": "this hystrix command builder . builder", "new_comment_tokens": ["this", "hystrix", "command", "builder", ".", "builder"], "old_code": "public hystrix command builder cache result invocation context ( cache invocation context < cache result > p cache result invocation context ) { this . cache result invocation context = p cache result invocation context ; return this ; }", "old_code_tokens": ["public", "hystrix", "command", "builder", "cache", "result", "invocation", "context", "(", "cache", "invocation", "context", "<", "cache", "result", ">", "p", "cache", "result", "invocation", "context", ")", "{", "this", ".", "cache", "result", "invocation", "context", "=", "p", "cache", "result", "invocation", "context", ";", "return", "this", ";", "}"], "new_code": "public builder cache result invocation context ( cache invocation context < cache result > p cache result invocation context ) { this . cache result invocation context = p cache result invocation context ; return this ; }", "new_code_tokens": ["public", "builder", "cache", "result", "invocation", "context", "(", "cache", "invocation", "context", "<", "cache", "result", ">", "p", "cache", "result", "invocation", "context", ")", "{", "this", ".", "cache", "result", "invocation", "context", "=", "p", "cache", "result", "invocation", "context", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hystrix command <DELETE_END> <KEEP> builder cache result invocation context ( cache invocation context < cache result > p cache result invocation context ) { this . cache result invocation context = p cache result invocation context ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hystrix", "command", "<DELETE_END>", "<KEEP>", "builder", "cache", "result", "invocation", "context", "(", "cache", "invocation", "context", "<", "cache", "result", ">", "p", "cache", "result", "invocation", "context", ")", "{", "this", ".", "cache", "result", "invocation", "context", "=", "p", "cache", "result", "invocation", "context", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> builder <INSERT_NEW_KEEP_BEFORE> builder . builder <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "builder", "<INSERT_NEW_KEEP_BEFORE>", "builder", ".", "builder", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hystrix", "<DELETE>", "command", "<KEEP>", "builder", "<KEEP>", "cache", "<KEEP>", "result", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", "cache", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", "<", "<KEEP>", "cache", "<KEEP>", "result", "<KEEP>", ">", "<KEEP>", "p", "<KEEP>", "cache", "<KEEP>", "result", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "cache", "<KEEP>", "result", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "cache", "<KEEP>", "result", "<KEEP>", "invocation", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9053042781161933, "using": 0, "keep": 1}
{"id": "sonatype_goodies-0-7214", "old_comment": "ordered map of parsed query string parameters .", "old_comment_tokens": ["ordered", "map", "of", "parsed", "query", "string", "parameters", "."], "new_comment": "ordered multimap of parsed query string parameters .", "new_comment_tokens": ["ordered", "multimap", "of", "parsed", "query", "string", "parameters", "."], "old_code": "public static map < string , string > parse ( final string input ) { check not null ( input ) ; map < string , string > result = maps . new linked hash map ( ) ; string [ ] fields = input . split ( field _ separator ) ; for ( string field : fields ) { string key , value ; int i = field . index of ( value _ separator ) ; if ( i = = - num ) { key = field ; value = null ; } else { key = field . substring ( num , i ) ; value = field . substring ( i + num , field . length ( ) ) ; } result . put ( key , value ) ; } return result ; }", "old_code_tokens": ["public", "static", "map", "<", "string", ",", "string", ">", "parse", "(", "final", "string", "input", ")", "{", "check", "not", "null", "(", "input", ")", ";", "map", "<", "string", ",", "string", ">", "result", "=", "maps", ".", "new", "linked", "hash", "map", "(", ")", ";", "string", "[", "]", "fields", "=", "input", ".", "split", "(", "field", "_", "separator", ")", ";", "for", "(", "string", "field", ":", "fields", ")", "{", "string", "key", ",", "value", ";", "int", "i", "=", "field", ".", "index", "of", "(", "value", "_", "separator", ")", ";", "if", "(", "i", "=", "=", "-", "num", ")", "{", "key", "=", "field", ";", "value", "=", "null", ";", "}", "else", "{", "key", "=", "field", ".", "substring", "(", "num", ",", "i", ")", ";", "value", "=", "field", ".", "substring", "(", "i", "+", "num", ",", "field", ".", "length", "(", ")", ")", ";", "}", "result", ".", "put", "(", "key", ",", "value", ")", ";", "}", "return", "result", ";", "}"], "new_code": "public static multimap < string , string > parse ( final string input ) { check not null ( input ) ; multimap < string , string > result = linked hash multimap . create ( ) ; string [ ] fields = input . split ( field _ separator ) ; for ( string field : fields ) { string key , value ; int i = field . index of ( value _ separator ) ; if ( i = = - num ) { key = field ; value = null ; } else { key = field . substring ( num , i ) ; value = field . substring ( i + num , field . length ( ) ) ; } result . put ( key , value ) ; } return result ; }", "new_code_tokens": ["public", "static", "multimap", "<", "string", ",", "string", ">", "parse", "(", "final", "string", "input", ")", "{", "check", "not", "null", "(", "input", ")", ";", "multimap", "<", "string", ",", "string", ">", "result", "=", "linked", "hash", "multimap", ".", "create", "(", ")", ";", "string", "[", "]", "fields", "=", "input", ".", "split", "(", "field", "_", "separator", ")", ";", "for", "(", "string", "field", ":", "fields", ")", "{", "string", "key", ",", "value", ";", "int", "i", "=", "field", ".", "index", "of", "(", "value", "_", "separator", ")", ";", "if", "(", "i", "=", "=", "-", "num", ")", "{", "key", "=", "field", ";", "value", "=", "null", ";", "}", "else", "{", "key", "=", "field", ".", "substring", "(", "num", ",", "i", ")", ";", "value", "=", "field", ".", "substring", "(", "i", "+", "num", ",", "field", ".", "length", "(", ")", ")", ";", "}", "result", ".", "put", "(", "key", ",", "value", ")", ";", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> multimap <REPLACE_END> <KEEP> < string , string > parse ( final string input ) { check not null ( input ) ; <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> multimap <REPLACE_END> <KEEP> < string , string > result = <KEEP_END> <DELETE> maps . new <DELETE_END> <KEEP> linked hash <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> multimap . create <REPLACE_END> <KEEP> ( ) ; string [ ] fields = input . split ( field _ separator ) ; for ( string field : fields ) { string key , value ; int i = field . index of ( value _ separator ) ; if ( i = = - num ) { key = field ; value = null ; } else { key = field . substring ( num , i ) ; value = field . substring ( i + num , field . length ( ) ) ; } result . put ( key , value ) ; } return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "string", ">", "parse", "(", "final", "string", "input", ")", "{", "check", "not", "null", "(", "input", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "string", ">", "result", "=", "<KEEP_END>", "<DELETE>", "maps", ".", "new", "<DELETE_END>", "<KEEP>", "linked", "hash", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", ".", "create", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "string", "[", "]", "fields", "=", "input", ".", "split", "(", "field", "_", "separator", ")", ";", "for", "(", "string", "field", ":", "fields", ")", "{", "string", "key", ",", "value", ";", "int", "i", "=", "field", ".", "index", "of", "(", "value", "_", "separator", ")", ";", "if", "(", "i", "=", "=", "-", "num", ")", "{", "key", "=", "field", ";", "value", "=", "null", ";", "}", "else", "{", "key", "=", "field", ".", "substring", "(", "num", ",", "i", ")", ";", "value", "=", "field", ".", "substring", "(", "i", "+", "num", ",", "field", ".", "length", "(", ")", ")", ";", "}", "result", ".", "put", "(", "key", ",", "value", ")", ";", "}", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> multimap <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", "=", "<DELETE>", "maps", "<DELETE>", ".", "<DELETE>", "new", "<KEEP>", "linked", "<KEEP>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "multimap", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "fields", "<KEEP>", "=", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "_", "<KEEP>", "separator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "field", "<KEEP>", ":", "<KEEP>", "fields", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "separator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "field", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9752937709900438, "using": 2, "keep": 1}
{"id": "eclipse_elk-49-6004", "old_comment": "an iterator visiting the given kedges and all ( transitively ) connected ones .", "old_comment_tokens": ["an", "iterator", "visiting", "the", "given", "kedges", "and", "all", "(", "transitively", ")", "connected", "ones", "."], "new_comment": "an iterator visiting the given edges and all ( transitively ) connected ones .", "new_comment_tokens": ["an", "iterator", "visiting", "the", "given", "edges", "and", "all", "(", "transitively", ")", "connected", "ones", "."], "old_code": "public static iterator < kedge > get connected edges ( final iterable < kedge > kedges ) { return iterators . concat ( iterators . transform ( kedges . iterator ( ) , new function < kedge , iterator < kedge > > ( ) { public iterator < kedge > apply ( final kedge kedge ) { return get connected edges ( kedge ) ; } } ) ) ; }", "old_code_tokens": ["public", "static", "iterator", "<", "kedge", ">", "get", "connected", "edges", "(", "final", "iterable", "<", "kedge", ">", "kedges", ")", "{", "return", "iterators", ".", "concat", "(", "iterators", ".", "transform", "(", "kedges", ".", "iterator", "(", ")", ",", "new", "function", "<", "kedge", ",", "iterator", "<", "kedge", ">", ">", "(", ")", "{", "public", "iterator", "<", "kedge", ">", "apply", "(", "final", "kedge", "kedge", ")", "{", "return", "get", "connected", "edges", "(", "kedge", ")", ";", "}", "}", ")", ")", ";", "}"], "new_code": "public static iterator < elk edge > get connected edges ( final iterable < elk edge > edges ) { return iterators . concat ( iterators . transform ( edges . iterator ( ) , new function < elk edge , iterator < elk edge > > ( ) { public iterator < elk edge > apply ( final elk edge kedge ) { return get connected edges ( kedge ) ; } } ) ) ; }", "new_code_tokens": ["public", "static", "iterator", "<", "elk", "edge", ">", "get", "connected", "edges", "(", "final", "iterable", "<", "elk", "edge", ">", "edges", ")", "{", "return", "iterators", ".", "concat", "(", "iterators", ".", "transform", "(", "edges", ".", "iterator", "(", ")", ",", "new", "function", "<", "elk", "edge", ",", "iterator", "<", "elk", "edge", ">", ">", "(", ")", "{", "public", "iterator", "<", "elk", "edge", ">", "apply", "(", "final", "elk", "edge", "kedge", ")", "{", "return", "get", "connected", "edges", "(", "kedge", ")", ";", "}", "}", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static iterator < <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> > get connected edges ( final iterable < <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> kedges <REPLACE_NEW> edges <REPLACE_END> <KEEP> ) { return iterators . concat ( iterators . transform ( <KEEP_END> <REPLACE_OLD> kedges <REPLACE_NEW> edges <REPLACE_END> <KEEP> . iterator ( ) , new function < <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> , iterator < <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> > > ( ) { public iterator < <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> > apply ( final <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> kedge ) { return get connected edges ( kedge ) ; } } ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "iterator", "<", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ">", "get", "connected", "edges", "(", "final", "iterable", "<", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "kedges", "<REPLACE_NEW>", "edges", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "iterators", ".", "concat", "(", "iterators", ".", "transform", "(", "<KEEP_END>", "<REPLACE_OLD>", "kedges", "<REPLACE_NEW>", "edges", "<REPLACE_END>", "<KEEP>", ".", "iterator", "(", ")", ",", "new", "function", "<", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ",", "iterator", "<", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ">", ">", "(", ")", "{", "public", "iterator", "<", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ">", "apply", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", "kedge", ")", "{", "return", "get", "connected", "edges", "(", "kedge", ")", ";", "}", "}", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> kedges <REPLACE_NEW> edges <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "kedges", "<REPLACE_NEW>", "edges", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "iterator", "<KEEP>", "<", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "edges", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "iterable", "<KEEP>", "<", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ">", "<REPLACE_OLD>", "kedges", "<REPLACE_NEW>", "edges", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "iterators", "<KEEP>", ".", "<KEEP>", "concat", "<KEEP>", "(", "<KEEP>", "iterators", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<REPLACE_OLD>", "kedges", "<REPLACE_NEW>", "edges", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "function", "<KEEP>", "<", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ",", "<KEEP>", "iterator", "<KEEP>", "<", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "iterator", "<KEEP>", "<", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ">", "<KEEP>", "apply", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", "kedge", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "edges", "<KEEP>", "(", "<KEEP>", "kedge", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9805572677487091, "using": 2, "keep": 1}
{"id": "google_tink-3-741", "old_comment": "key data with a new gcp kms aead key proto", "old_comment_tokens": ["key", "data", "with", "a", "new", "gcp", "kms", "aead", "key", "proto"], "new_comment": "key data with a new kms aead key proto", "new_comment_tokens": ["key", "data", "with", "a", "new", "kms", "aead", "key", "proto"], "old_code": "@ override public key data new key data ( byte string serialized key format ) throws general security exception { throw new general security exception ( str ) ; }", "old_code_tokens": ["@", "override", "public", "key", "data", "new", "key", "data", "(", "byte", "string", "serialized", "key", "format", ")", "throws", "general", "security", "exception", "{", "throw", "new", "general", "security", "exception", "(", "str", ")", ";", "}"], "new_code": "@ override public key data new key data ( byte string serialized key format ) throws general security exception { kms aead key key = ( kms aead key ) new key ( serialized key format ) ; return key data . new builder ( ) . set type url ( type _ url ) . set value ( key . to byte string ( ) ) . set key material type ( key data . key material type . remote ) . build ( ) ; }", "new_code_tokens": ["@", "override", "public", "key", "data", "new", "key", "data", "(", "byte", "string", "serialized", "key", "format", ")", "throws", "general", "security", "exception", "{", "kms", "aead", "key", "key", "=", "(", "kms", "aead", "key", ")", "new", "key", "(", "serialized", "key", "format", ")", ";", "return", "key", "data", ".", "new", "builder", "(", ")", ".", "set", "type", "url", "(", "type", "_", "url", ")", ".", "set", "value", "(", "key", ".", "to", "byte", "string", "(", ")", ")", ".", "set", "key", "material", "type", "(", "key", "data", ".", "key", "material", "type", ".", "remote", ")", ".", "build", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public key data new key data ( byte string serialized key format ) throws general security exception { <KEEP_END> <REPLACE_OLD> throw <REPLACE_NEW> kms aead key key = ( kms aead key ) <REPLACE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> general security exception <REPLACE_NEW> key <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> serialized key format ) ; return key data . new builder ( ) . set type url ( type _ url ) . set value ( key . to byte string ( ) ) . set key material type ( key data . key material type . remote ) . build ( <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "key", "data", "new", "key", "data", "(", "byte", "string", "serialized", "key", "format", ")", "throws", "general", "security", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "throw", "<REPLACE_NEW>", "kms", "aead", "key", "key", "=", "(", "kms", "aead", "key", ")", "<REPLACE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "general", "security", "exception", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "serialized", "key", "format", ")", ";", "return", "key", "data", ".", "new", "builder", "(", ")", ".", "set", "type", "url", "(", "type", "_", "url", ")", ".", "set", "value", "(", "key", ".", "to", "byte", "string", "(", ")", ")", ".", "set", "key", "material", "type", "(", "key", "data", ".", "key", "material", "type", ".", "remote", ")", ".", "build", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> gcp <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "gcp", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "key", "<KEEP>", "data", "<KEEP>", "new", "<KEEP>", "key", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", "serialized", "<KEEP>", "key", "<KEEP>", "format", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "general", "<KEEP>", "security", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_NEW>", "kms", "<REPLACE_NEW>", "aead", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "kms", "<REPLACE_NEW>", "aead", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ")", "<KEEP>", "new", "<REPLACE_OLD>", "general", "<REPLACE_OLD>", "security", "<REPLACE_OLD>", "exception", "<REPLACE_NEW>", "key", "<KEEP>", "(", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "serialized", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "format", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "material", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "remote", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8037233092339976, "using": 1, "keep": 1}
{"id": "jhaals_vault-java-0-5576", "old_comment": "status containing shares , progress , shards and seal status", "old_comment_tokens": ["status", "containing", "shares", ",", "progress", ",", "shards", "and", "seal", "status"], "new_comment": "vault status containing shares , progress , shards and seal status", "new_comment_tokens": ["vault", "status", "containing", "shares", ",", "progress", ",", "shards", "and", "seal", "status"], "old_code": "public status get status ( ) { web target target = base target . path ( str ) ; response response = null ; try { response = target . request ( ) . accept ( str ) . header ( str , this . vault token ) . get ( ) ; if ( response . get status ( ) ! = num ) { error response error = response . read entity ( error response . class ) ; throw new vault exception ( response . get status ( ) , error . get errors ( ) ) ; } return response . read entity ( status . class ) ; } finally { if ( response ! = null ) { response . close ( ) ; } } }", "old_code_tokens": ["public", "status", "get", "status", "(", ")", "{", "web", "target", "target", "=", "base", "target", ".", "path", "(", "str", ")", ";", "response", "response", "=", "null", ";", "try", "{", "response", "=", "target", ".", "request", "(", ")", ".", "accept", "(", "str", ")", ".", "header", "(", "str", ",", "this", ".", "vault", "token", ")", ".", "get", "(", ")", ";", "if", "(", "response", ".", "get", "status", "(", ")", "!", "=", "num", ")", "{", "error", "response", "error", "=", "response", ".", "read", "entity", "(", "error", "response", ".", "class", ")", ";", "throw", "new", "vault", "exception", "(", "response", ".", "get", "status", "(", ")", ",", "error", ".", "get", "errors", "(", ")", ")", ";", "}", "return", "response", ".", "read", "entity", "(", "status", ".", "class", ")", ";", "}", "finally", "{", "if", "(", "response", "!", "=", "null", ")", "{", "response", ".", "close", "(", ")", ";", "}", "}", "}"], "new_code": "public vault status get status ( ) { web target target = base target . path ( str ) ; response response = null ; try { response = target . request ( ) . accept ( str ) . header ( str , this . vault token ) . get ( ) ; if ( response . get status ( ) ! = num ) { error response error = response . read entity ( error response . class ) ; throw new vault exception ( response . get status ( ) , error . get errors ( ) ) ; } return response . read entity ( vault status . class ) ; } finally { if ( response ! = null ) { response . close ( ) ; } } }", "new_code_tokens": ["public", "vault", "status", "get", "status", "(", ")", "{", "web", "target", "target", "=", "base", "target", ".", "path", "(", "str", ")", ";", "response", "response", "=", "null", ";", "try", "{", "response", "=", "target", ".", "request", "(", ")", ".", "accept", "(", "str", ")", ".", "header", "(", "str", ",", "this", ".", "vault", "token", ")", ".", "get", "(", ")", ";", "if", "(", "response", ".", "get", "status", "(", ")", "!", "=", "num", ")", "{", "error", "response", "error", "=", "response", ".", "read", "entity", "(", "error", "response", ".", "class", ")", ";", "throw", "new", "vault", "exception", "(", "response", ".", "get", "status", "(", ")", ",", "error", ".", "get", "errors", "(", ")", ")", ";", "}", "return", "response", ".", "read", "entity", "(", "vault", "status", ".", "class", ")", ";", "}", "finally", "{", "if", "(", "response", "!", "=", "null", ")", "{", "response", ".", "close", "(", ")", ";", "}", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> vault <INSERT_END> <KEEP> status get status ( ) { web target target = base target . path ( str ) ; response response = null ; try { response = target . request ( ) . accept ( str ) . header ( str , this . vault token ) . get ( ) ; if ( response . get status ( ) ! = num ) { error response error = response . read entity ( error response . class ) ; throw new vault exception ( response . get status ( ) , error . get errors ( ) ) ; } return response . read entity ( <KEEP_END> <INSERT> vault <INSERT_END> <KEEP> status . class ) ; } finally { if ( response ! = null ) { response . close ( ) ; } } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "vault", "<INSERT_END>", "<KEEP>", "status", "get", "status", "(", ")", "{", "web", "target", "target", "=", "base", "target", ".", "path", "(", "str", ")", ";", "response", "response", "=", "null", ";", "try", "{", "response", "=", "target", ".", "request", "(", ")", ".", "accept", "(", "str", ")", ".", "header", "(", "str", ",", "this", ".", "vault", "token", ")", ".", "get", "(", ")", ";", "if", "(", "response", ".", "get", "status", "(", ")", "!", "=", "num", ")", "{", "error", "response", "error", "=", "response", ".", "read", "entity", "(", "error", "response", ".", "class", ")", ";", "throw", "new", "vault", "exception", "(", "response", ".", "get", "status", "(", ")", ",", "error", ".", "get", "errors", "(", ")", ")", ";", "}", "return", "response", ".", "read", "entity", "(", "<KEEP_END>", "<INSERT>", "vault", "<INSERT_END>", "<KEEP>", "status", ".", "class", ")", ";", "}", "finally", "{", "if", "(", "response", "!", "=", "null", ")", "{", "response", ".", "close", "(", ")", ";", "}", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> status containing <INSERT_NEW_KEEP_AFTER> vault status containing <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "status", "containing", "<INSERT_NEW_KEEP_AFTER>", "vault", "status", "containing", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "vault", "<KEEP>", "status", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "web", "<KEEP>", "target", "<KEEP>", "target", "<KEEP>", "=", "<KEEP>", "base", "<KEEP>", "target", "<KEEP>", ".", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "response", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "target", "<KEEP>", ".", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "vault", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "error", "<KEEP>", "response", "<KEEP>", "error", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "error", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "vault", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "error", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "errors", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "entity", "<KEEP>", "(", "<INSERT>", "vault", "<KEEP>", "status", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8435711505763257, "using": 0, "keep": 1}
{"id": "hibernate_hibernate-orm-141-3072", "old_comment": "the copy - entity mappings", "old_comment_tokens": ["the", "copy", "-", "entity", "mappings"], "new_comment": "an unmodifiable map view of the copy - entity mappings", "new_comment_tokens": ["an", "unmodifiable", "map", "view", "of", "the", "copy", "-", "entity", "mappings"], "old_code": "public map invert map ( ) { return copy to entity map ; }", "old_code_tokens": ["public", "map", "invert", "map", "(", ")", "{", "return", "copy", "to", "entity", "map", ";", "}"], "new_code": "public map invert map ( ) { return collections . unmodifiable map ( copy to entity map ) ; }", "new_code_tokens": ["public", "map", "invert", "map", "(", ")", "{", "return", "collections", ".", "unmodifiable", "map", "(", "copy", "to", "entity", "map", ")", ";", "}"], "span_diff_code": "<KEEP> public map invert map ( ) { return <KEEP_END> <INSERT> collections . unmodifiable map ( <INSERT_END> <KEEP> copy to entity map <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "map", "invert", "map", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "map", "(", "<INSERT_END>", "<KEEP>", "copy", "to", "entity", "map", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the <INSERT_NEW_KEEP_AFTER> an unmodifiable map view of the <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "<INSERT_NEW_KEEP_AFTER>", "an", "unmodifiable", "map", "view", "of", "the", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "map", "<KEEP>", "invert", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "map", "<INSERT>", "(", "<KEEP>", "copy", "<KEEP>", "to", "<KEEP>", "entity", "<KEEP>", "map", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8199485673195371, "using": 2, "keep": 1}
{"id": "dianping_cat-0-705", "old_comment": "a printable , displayable , portable , transmittable representation of the object , beginning with & nbsp ; ( left brace ) and ending with & nbsp ; ( right brace ) .", "old_comment_tokens": ["a", "printable", ",", "displayable", ",", "portable", ",", "transmittable", "representation", "of", "the", "object", ",", "beginning", "with", "&", "nbsp", ";", "(", "left", "brace", ")", "and", "ending", "with", "&", "nbsp", ";", "(", "right", "brace", ")", "."], "new_comment": "the string \" null \" .", "new_comment_tokens": ["the", "string", "\"", "null", "\"", "."], "old_code": "public string to string ( ) { string builder sb = new string builder ( get serialized size ( ) ) ; return append ( sb ) . to string ( ) ; }", "old_code_tokens": ["public", "string", "to", "string", "(", ")", "{", "string", "builder", "sb", "=", "new", "string", "builder", "(", "get", "serialized", "size", "(", ")", ")", ";", "return", "append", "(", "sb", ")", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public string to string ( ) { return str ; }", "new_code_tokens": ["public", "string", "to", "string", "(", ")", "{", "return", "str", ";", "}"], "span_diff_code": "<KEEP> public string to string ( ) { <KEEP_END> <DELETE> string builder sb = new string builder ( get serialized size ( ) ) ; <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> append ( sb ) . to string ( ) <REPLACE_NEW> str <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "to", "string", "(", ")", "{", "<KEEP_END>", "<DELETE>", "string", "builder", "sb", "=", "new", "string", "builder", "(", "get", "serialized", "size", "(", ")", ")", ";", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "append", "(", "sb", ")", ".", "to", "string", "(", ")", "<REPLACE_NEW>", "str", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> a printable , displayable , portable , transmittable representation of <DELETE_END> <REPLACE_OLD> object , beginning with & nbsp ; ( left brace ) and ending with & nbsp ; ( right brace ) <REPLACE_NEW> string \" null \" <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "a", "printable", ",", "displayable", ",", "portable", ",", "transmittable", "representation", "of", "<DELETE_END>", "<REPLACE_OLD>", "object", ",", "beginning", "with", "&", "nbsp", ";", "(", "left", "brace", ")", "and", "ending", "with", "&", "nbsp", ";", "(", "right", "brace", ")", "<REPLACE_NEW>", "string", "\"", "null", "\"", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "string", "<DELETE>", "builder", "<DELETE>", "sb", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "string", "<DELETE>", "builder", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "serialized", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "append", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "sb", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "str", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.812710574334784, "using": 1, "keep": 1}
{"id": "eclipse_ecf-88-4515", "old_comment": "an iterator the unfiled roster entries .", "old_comment_tokens": ["an", "iterator", "the", "unfiled", "roster", "entries", "."], "new_comment": "the unfiled roster entries .", "new_comment_tokens": ["the", "unfiled", "roster", "entries", "."], "old_code": "public iterator get unfiled entries ( ) { synchronized ( unfiled entries ) { return collections . unmodifiable list ( new array list ( unfiled entries ) ) . iterator ( ) ; } }", "old_code_tokens": ["public", "iterator", "get", "unfiled", "entries", "(", ")", "{", "synchronized", "(", "unfiled", "entries", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "new", "array", "list", "(", "unfiled", "entries", ")", ")", ".", "iterator", "(", ")", ";", "}", "}"], "new_code": "public collection < roster entry > get unfiled entries ( ) { return collections . unmodifiable list ( unfiled entries ) ; }", "new_code_tokens": ["public", "collection", "<", "roster", "entry", ">", "get", "unfiled", "entries", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "unfiled", "entries", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> iterator <REPLACE_NEW> collection < roster entry > <REPLACE_END> <KEEP> get unfiled entries ( <KEEP_END> <DELETE> ) { synchronized ( unfiled entries <DELETE_END> <KEEP> ) { return collections . unmodifiable list ( <KEEP_END> <DELETE> new array list ( <DELETE_END> <KEEP> unfiled entries ) <KEEP_END> <DELETE> ) . iterator ( ) <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "collection", "<", "roster", "entry", ">", "<REPLACE_END>", "<KEEP>", "get", "unfiled", "entries", "(", "<KEEP_END>", "<DELETE>", ")", "{", "synchronized", "(", "unfiled", "entries", "<DELETE_END>", "<KEEP>", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "<KEEP_END>", "<DELETE>", "new", "array", "list", "(", "<DELETE_END>", "<KEEP>", "unfiled", "entries", ")", "<KEEP_END>", "<DELETE>", ")", ".", "iterator", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> an iterator <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "an", "iterator", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "collection", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "roster", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "unfiled", "<KEEP>", "entries", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "synchronized", "<DELETE>", "(", "<DELETE>", "unfiled", "<DELETE>", "entries", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "list", "<KEEP>", "(", "<DELETE>", "new", "<DELETE>", "array", "<DELETE>", "list", "<DELETE>", "(", "<KEEP>", "unfiled", "<KEEP>", "entries", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "iterator", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "valid", "score": 0.9482628413451981, "using": 2, "keep": 1}
{"id": "mulesoft_intacct-connector-1-4524", "old_comment": "possible object is customerid", "old_comment_tokens": ["possible", "object", "is", "customerid"], "new_comment": "possible object is string", "new_comment_tokens": ["possible", "object", "is", "string"], "old_code": "public customerid get customerid ( ) { return customerid ; }", "old_code_tokens": ["public", "customerid", "get", "customerid", "(", ")", "{", "return", "customerid", ";", "}"], "new_code": "public string get customerid ( ) { return customerid ; }", "new_code_tokens": ["public", "string", "get", "customerid", "(", ")", "{", "return", "customerid", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> customerid <REPLACE_NEW> string <REPLACE_END> <KEEP> get customerid ( ) { return customerid ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "customerid", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "customerid", "(", ")", "{", "return", "customerid", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> customerid <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "customerid", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "customerid", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "customerid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "customerid", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9911542324754231, "using": 2, "keep": 1}
{"id": "apache_tez-25-4279", "old_comment": "the org . apache . tez . runtime . api . tez root input initializer context for the input", "old_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "runtime", ".", "api", ".", "tez", "root", "input", "initializer", "context", "for", "the", "input"], "new_comment": "the org . apache . tez . runtime . api . input initializer context for the initializer", "new_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "runtime", ".", "api", ".", "input", "initializer", "context", "for", "the", "initializer"], "old_code": "public final tez root input initializer context get context ( ) { return this . initializer context ; }", "old_code_tokens": ["public", "final", "tez", "root", "input", "initializer", "context", "get", "context", "(", ")", "{", "return", "this", ".", "initializer", "context", ";", "}"], "new_code": "public final input initializer context get context ( ) { return this . initializer context ; }", "new_code_tokens": ["public", "final", "input", "initializer", "context", "get", "context", "(", ")", "{", "return", "this", ".", "initializer", "context", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <DELETE> tez root <DELETE_END> <KEEP> input initializer context get context ( ) { return this . initializer context ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<DELETE>", "tez", "root", "<DELETE_END>", "<KEEP>", "input", "initializer", "context", "get", "context", "(", ")", "{", "return", "this", ".", "initializer", "context", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> tez root <DELETE_END> <REPLACE_OLD_KEEP_BEFORE> the input <REPLACE_NEW_KEEP_BEFORE> the initializer <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "tez", "root", "<DELETE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "the", "input", "<REPLACE_NEW_KEEP_BEFORE>", "the", "initializer", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<DELETE>", "tez", "<DELETE>", "root", "<KEEP>", "input", "<KEEP>", "initializer", "<KEEP>", "context", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "initializer", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9180410936869192, "using": 1, "keep": 1}
{"id": "pockethub_PocketHub-2-569", "old_comment": "repo or null if unparseable", "old_comment_tokens": ["repo", "or", "null", "if", "unparseable"], "new_comment": "repository or null if unparseable", "new_comment_tokens": ["repository", "or", "null", "if", "unparseable"], "old_code": "public static repo get repository ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; repo repository = new repo ( ) ; user owner = new user ( ) ; owner . login = repo owner ; repository . name = repo name ; repository . owner = owner ; return repository ; }", "old_code_tokens": ["public", "static", "repo", "get", "repository", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "repo", "repository", "=", "new", "repo", "(", ")", ";", "user", "owner", "=", "new", "user", "(", ")", ";", "owner", ".", "login", "=", "repo", "owner", ";", "repository", ".", "name", "=", "repo", "name", ";", "repository", ".", "owner", "=", "owner", ";", "return", "repository", ";", "}"], "new_code": "public static repository get repository ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; return info utils . create repo from data ( repo owner , repo name ) ; }", "new_code_tokens": ["public", "static", "repository", "get", "repository", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "return", "info", "utils", ".", "create", "repo", "from", "data", "(", "repo", "owner", ",", "repo", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> repo <REPLACE_NEW> repository <REPLACE_END> <KEEP> get repository ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; <KEEP_END> <INSERT> return info utils . create <INSERT_END> <KEEP> repo <KEEP_END> <REPLACE_OLD> repository = new <REPLACE_NEW> from data ( <REPLACE_END> <KEEP> repo <KEEP_END> <REPLACE_OLD> ( <REPLACE_NEW> owner , repo name <REPLACE_END> <KEEP> ) ; <KEEP_END> <DELETE> user owner = new user ( ) ; owner . login = repo owner ; repository . name = repo name ; repository . owner = owner ; return repository ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "get", "repository", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "<KEEP_END>", "<INSERT>", "return", "info", "utils", ".", "create", "<INSERT_END>", "<KEEP>", "repo", "<KEEP_END>", "<REPLACE_OLD>", "repository", "=", "new", "<REPLACE_NEW>", "from", "data", "(", "<REPLACE_END>", "<KEEP>", "repo", "<KEEP_END>", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "owner", ",", "repo", "name", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "user", "owner", "=", "new", "user", "(", ")", ";", "owner", ".", "login", "=", "repo", "owner", ";", "repository", ".", "name", "=", "repo", "name", ";", "repository", ".", "owner", "=", "owner", ";", "return", "repository", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> repo <REPLACE_NEW> repository <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<KEEP>", "get", "<KEEP>", "repository", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "segments", "<KEEP>", "=", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "segments", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "repo", "<KEEP>", "owner", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "repository", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", "repo", "<KEEP>", "owner", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "repo", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "repository", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "repo", "<KEEP>", "(", "<KEEP>", "repo", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "info", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "create", "<KEEP>", "repo", "<REPLACE_OLD>", "repository", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<KEEP>", "repo", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "owner", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "repo", "<REPLACE_NEW>", "name", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "user", "<DELETE>", "owner", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "user", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "owner", "<DELETE>", ".", "<DELETE>", "login", "<DELETE>", "=", "<DELETE>", "repo", "<DELETE>", "owner", "<DELETE>", ";", "<DELETE>", "repository", "<DELETE>", ".", "<DELETE>", "name", "<DELETE>", "=", "<DELETE>", "repo", "<DELETE>", "name", "<DELETE>", ";", "<DELETE>", "repository", "<DELETE>", ".", "<DELETE>", "owner", "<DELETE>", "=", "<DELETE>", "owner", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "repository", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9765396879888257, "using": 2, "keep": 1}
{"id": "eclipse_gmf-runtime-22-7150", "old_comment": "the gated pane figure", "old_comment_tokens": ["the", "gated", "pane", "figure"], "new_comment": "the bordered figure", "new_comment_tokens": ["the", "bordered", "figure"], "old_code": "protected final gated pane figure get gated pane figure ( ) { return ( gated pane figure ) get figure ( ) ; }", "old_code_tokens": ["protected", "final", "gated", "pane", "figure", "get", "gated", "pane", "figure", "(", ")", "{", "return", "(", "gated", "pane", "figure", ")", "get", "figure", "(", ")", ";", "}"], "new_code": "protected final bordered figure get gated pane figure ( ) { return ( bordered figure ) get figure ( ) ; }", "new_code_tokens": ["protected", "final", "bordered", "figure", "get", "gated", "pane", "figure", "(", ")", "{", "return", "(", "bordered", "figure", ")", "get", "figure", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected final <KEEP_END> <REPLACE_OLD> gated pane <REPLACE_NEW> bordered <REPLACE_END> <KEEP> figure get gated pane figure ( ) { return ( <KEEP_END> <REPLACE_OLD> gated pane <REPLACE_NEW> bordered <REPLACE_END> <KEEP> figure ) get figure ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "final", "<KEEP_END>", "<REPLACE_OLD>", "gated", "pane", "<REPLACE_NEW>", "bordered", "<REPLACE_END>", "<KEEP>", "figure", "get", "gated", "pane", "figure", "(", ")", "{", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "gated", "pane", "<REPLACE_NEW>", "bordered", "<REPLACE_END>", "<KEEP>", "figure", ")", "get", "figure", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> gated pane <REPLACE_NEW> bordered <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "gated", "pane", "<REPLACE_NEW>", "bordered", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "final", "<REPLACE_OLD>", "gated", "<REPLACE_OLD>", "pane", "<REPLACE_NEW>", "bordered", "<KEEP>", "figure", "<KEEP>", "get", "<KEEP>", "gated", "<KEEP>", "pane", "<KEEP>", "figure", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "gated", "<REPLACE_OLD>", "pane", "<REPLACE_NEW>", "bordered", "<KEEP>", "figure", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "figure", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9682098134182727, "using": 2, "keep": 1}
{"id": "codahale_xsalsa20poly1305-0-4525", "old_comment": "the original plaintext", "old_comment_tokens": ["the", "original", "plaintext"], "new_comment": "an optional of the original plaintext , or if either the key , nonce , or ciphertext was modified , an empty optional", "new_comment_tokens": ["an", "optional", "of", "the", "original", "plaintext", ",", "or", "if", "either", "the", "key", ",", "nonce", ",", "or", "ciphertext", "was", "modified", ",", "an", "empty", "optional"], "old_code": "public byte [ ] open ( byte [ ] nonce , byte [ ] ciphertext ) throws invalid ciphertext exception { final xsalsa20 engine xsalsa20 = new xsalsa20 engine ( ) ; final poly1305 poly1305 = new poly1305 ( ) ; xsalsa20 . init ( false , new parameters with iv ( new key parameter ( key ) , nonce ) ) ; final byte [ ] sk = new byte [ num ] ; xsalsa20 . process bytes ( sk , num , sk . length , sk , num ) ; poly1305 . init ( new key parameter ( sk ) ) ; final int len = math . max ( ciphertext . length - num , num ) ; poly1305 . update ( ciphertext , num , len ) ; final byte [ ] calculated mac = new byte [ num ] ; poly1305 . do final ( calculated mac , num ) ; final byte [ ] presented mac = new byte [ num ] ; system . arraycopy ( ciphertext , num , presented mac , num , math . min ( ciphertext . length , num ) ) ; if ( ! message digest . is equal ( calculated mac , presented mac ) ) { throw new invalid ciphertext exception ( ) ; } final byte [ ] plaintext = new byte [ len ] ; xsalsa20 . process bytes ( ciphertext , num , plaintext . length , plaintext , num ) ; return plaintext ; }", "old_code_tokens": ["public", "byte", "[", "]", "open", "(", "byte", "[", "]", "nonce", ",", "byte", "[", "]", "ciphertext", ")", "throws", "invalid", "ciphertext", "exception", "{", "final", "xsalsa20", "engine", "xsalsa20", "=", "new", "xsalsa20", "engine", "(", ")", ";", "final", "poly1305", "poly1305", "=", "new", "poly1305", "(", ")", ";", "xsalsa20", ".", "init", "(", "false", ",", "new", "parameters", "with", "iv", "(", "new", "key", "parameter", "(", "key", ")", ",", "nonce", ")", ")", ";", "final", "byte", "[", "]", "sk", "=", "new", "byte", "[", "num", "]", ";", "xsalsa20", ".", "process", "bytes", "(", "sk", ",", "num", ",", "sk", ".", "length", ",", "sk", ",", "num", ")", ";", "poly1305", ".", "init", "(", "new", "key", "parameter", "(", "sk", ")", ")", ";", "final", "int", "len", "=", "math", ".", "max", "(", "ciphertext", ".", "length", "-", "num", ",", "num", ")", ";", "poly1305", ".", "update", "(", "ciphertext", ",", "num", ",", "len", ")", ";", "final", "byte", "[", "]", "calculated", "mac", "=", "new", "byte", "[", "num", "]", ";", "poly1305", ".", "do", "final", "(", "calculated", "mac", ",", "num", ")", ";", "final", "byte", "[", "]", "presented", "mac", "=", "new", "byte", "[", "num", "]", ";", "system", ".", "arraycopy", "(", "ciphertext", ",", "num", ",", "presented", "mac", ",", "num", ",", "math", ".", "min", "(", "ciphertext", ".", "length", ",", "num", ")", ")", ";", "if", "(", "!", "message", "digest", ".", "is", "equal", "(", "calculated", "mac", ",", "presented", "mac", ")", ")", "{", "throw", "new", "invalid", "ciphertext", "exception", "(", ")", ";", "}", "final", "byte", "[", "]", "plaintext", "=", "new", "byte", "[", "len", "]", ";", "xsalsa20", ".", "process", "bytes", "(", "ciphertext", ",", "num", ",", "plaintext", ".", "length", ",", "plaintext", ",", "num", ")", ";", "return", "plaintext", ";", "}"], "new_code": "public optional < byte [ ] > open ( byte [ ] nonce , byte [ ] ciphertext ) { final xsalsa20 engine xsalsa20 = new xsalsa20 engine ( ) ; final poly1305 poly1305 = new poly1305 ( ) ; xsalsa20 . init ( false , new parameters with iv ( new key parameter ( key ) , nonce ) ) ; final byte [ ] sk = new byte [ num ] ; xsalsa20 . process bytes ( sk , num , sk . length , sk , num ) ; poly1305 . init ( new key parameter ( sk ) ) ; final int len = math . max ( ciphertext . length - num , num ) ; poly1305 . update ( ciphertext , num , len ) ; final byte [ ] calculated mac = new byte [ num ] ; poly1305 . do final ( calculated mac , num ) ; final byte [ ] presented mac = new byte [ num ] ; system . arraycopy ( ciphertext , num , presented mac , num , math . min ( ciphertext . length , num ) ) ; if ( ! message digest . is equal ( calculated mac , presented mac ) ) { return optional . empty ( ) ; } final byte [ ] plaintext = new byte [ len ] ; xsalsa20 . process bytes ( ciphertext , num , plaintext . length , plaintext , num ) ; return optional . of ( plaintext ) ; }", "new_code_tokens": ["public", "optional", "<", "byte", "[", "]", ">", "open", "(", "byte", "[", "]", "nonce", ",", "byte", "[", "]", "ciphertext", ")", "{", "final", "xsalsa20", "engine", "xsalsa20", "=", "new", "xsalsa20", "engine", "(", ")", ";", "final", "poly1305", "poly1305", "=", "new", "poly1305", "(", ")", ";", "xsalsa20", ".", "init", "(", "false", ",", "new", "parameters", "with", "iv", "(", "new", "key", "parameter", "(", "key", ")", ",", "nonce", ")", ")", ";", "final", "byte", "[", "]", "sk", "=", "new", "byte", "[", "num", "]", ";", "xsalsa20", ".", "process", "bytes", "(", "sk", ",", "num", ",", "sk", ".", "length", ",", "sk", ",", "num", ")", ";", "poly1305", ".", "init", "(", "new", "key", "parameter", "(", "sk", ")", ")", ";", "final", "int", "len", "=", "math", ".", "max", "(", "ciphertext", ".", "length", "-", "num", ",", "num", ")", ";", "poly1305", ".", "update", "(", "ciphertext", ",", "num", ",", "len", ")", ";", "final", "byte", "[", "]", "calculated", "mac", "=", "new", "byte", "[", "num", "]", ";", "poly1305", ".", "do", "final", "(", "calculated", "mac", ",", "num", ")", ";", "final", "byte", "[", "]", "presented", "mac", "=", "new", "byte", "[", "num", "]", ";", "system", ".", "arraycopy", "(", "ciphertext", ",", "num", ",", "presented", "mac", ",", "num", ",", "math", ".", "min", "(", "ciphertext", ".", "length", ",", "num", ")", ")", ";", "if", "(", "!", "message", "digest", ".", "is", "equal", "(", "calculated", "mac", ",", "presented", "mac", ")", ")", "{", "return", "optional", ".", "empty", "(", ")", ";", "}", "final", "byte", "[", "]", "plaintext", "=", "new", "byte", "[", "len", "]", ";", "xsalsa20", ".", "process", "bytes", "(", "ciphertext", ",", "num", ",", "plaintext", ".", "length", ",", "plaintext", ",", "num", ")", ";", "return", "optional", ".", "of", "(", "plaintext", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> byte [ ] <REPLACE_NEW> optional < byte [ ] > <REPLACE_END> <KEEP> open ( byte [ ] nonce , byte [ ] ciphertext ) <KEEP_END> <DELETE> throws invalid ciphertext exception <DELETE_END> <KEEP> { final xsalsa20 engine xsalsa20 = new xsalsa20 engine ( ) ; final poly1305 poly1305 = new poly1305 ( ) ; xsalsa20 . init ( false , new parameters with iv ( new key parameter ( key ) , nonce ) ) ; final byte [ ] sk = new byte [ num ] ; xsalsa20 . process bytes ( sk , num , sk . length , sk , num ) ; poly1305 . init ( new key parameter ( sk ) ) ; final int len = math . max ( ciphertext . length - num , num ) ; poly1305 . update ( ciphertext , num , len ) ; final byte [ ] calculated mac = new byte [ num ] ; poly1305 . do final ( calculated mac , num ) ; final byte [ ] presented mac = new byte [ num ] ; system . arraycopy ( ciphertext , num , presented mac , num , math . min ( ciphertext . length , num ) ) ; if ( ! message digest . is equal ( calculated mac , presented mac ) ) { <KEEP_END> <REPLACE_OLD> throw new invalid ciphertext exception <REPLACE_NEW> return optional . empty <REPLACE_END> <KEEP> ( ) ; } final byte [ ] plaintext = new byte [ len ] ; xsalsa20 . process bytes ( ciphertext , num , plaintext . length , plaintext , num ) ; return <KEEP_END> <REPLACE_OLD> plaintext <REPLACE_NEW> optional . of ( plaintext ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "byte", "[", "]", "<REPLACE_NEW>", "optional", "<", "byte", "[", "]", ">", "<REPLACE_END>", "<KEEP>", "open", "(", "byte", "[", "]", "nonce", ",", "byte", "[", "]", "ciphertext", ")", "<KEEP_END>", "<DELETE>", "throws", "invalid", "ciphertext", "exception", "<DELETE_END>", "<KEEP>", "{", "final", "xsalsa20", "engine", "xsalsa20", "=", "new", "xsalsa20", "engine", "(", ")", ";", "final", "poly1305", "poly1305", "=", "new", "poly1305", "(", ")", ";", "xsalsa20", ".", "init", "(", "false", ",", "new", "parameters", "with", "iv", "(", "new", "key", "parameter", "(", "key", ")", ",", "nonce", ")", ")", ";", "final", "byte", "[", "]", "sk", "=", "new", "byte", "[", "num", "]", ";", "xsalsa20", ".", "process", "bytes", "(", "sk", ",", "num", ",", "sk", ".", "length", ",", "sk", ",", "num", ")", ";", "poly1305", ".", "init", "(", "new", "key", "parameter", "(", "sk", ")", ")", ";", "final", "int", "len", "=", "math", ".", "max", "(", "ciphertext", ".", "length", "-", "num", ",", "num", ")", ";", "poly1305", ".", "update", "(", "ciphertext", ",", "num", ",", "len", ")", ";", "final", "byte", "[", "]", "calculated", "mac", "=", "new", "byte", "[", "num", "]", ";", "poly1305", ".", "do", "final", "(", "calculated", "mac", ",", "num", ")", ";", "final", "byte", "[", "]", "presented", "mac", "=", "new", "byte", "[", "num", "]", ";", "system", ".", "arraycopy", "(", "ciphertext", ",", "num", ",", "presented", "mac", ",", "num", ",", "math", ".", "min", "(", "ciphertext", ".", "length", ",", "num", ")", ")", ";", "if", "(", "!", "message", "digest", ".", "is", "equal", "(", "calculated", "mac", ",", "presented", "mac", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "throw", "new", "invalid", "ciphertext", "exception", "<REPLACE_NEW>", "return", "optional", ".", "empty", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "}", "final", "byte", "[", "]", "plaintext", "=", "new", "byte", "[", "len", "]", ";", "xsalsa20", ".", "process", "bytes", "(", "ciphertext", ",", "num", ",", "plaintext", ".", "length", ",", "plaintext", ",", "num", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "optional", ".", "of", "(", "plaintext", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the <INSERT_NEW_KEEP_AFTER> an optional of the <INSERT_END> <INSERT_OLD_KEEP_BEFORE> plaintext <INSERT_NEW_KEEP_BEFORE> plaintext , or if either the key , nonce , or ciphertext was modified , an empty optional <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "<INSERT_NEW_KEEP_AFTER>", "an", "optional", "of", "the", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "plaintext", "<INSERT_NEW_KEEP_BEFORE>", "plaintext", ",", "or", "if", "either", "the", "key", ",", "nonce", ",", "or", "ciphertext", "was", "modified", ",", "an", "empty", "optional", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "optional", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "open", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "nonce", "<KEEP>", ",", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "ciphertext", "<KEEP>", ")", "<DELETE>", "throws", "<DELETE>", "invalid", "<DELETE>", "ciphertext", "<DELETE>", "exception", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "xsalsa20", "<KEEP>", "engine", "<KEEP>", "xsalsa20", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "xsalsa20", "<KEEP>", "engine", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "poly1305", "<KEEP>", "poly1305", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "poly1305", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "xsalsa20", "<KEEP>", ".", "<KEEP>", "init", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "parameters", "<KEEP>", "with", "<KEEP>", "iv", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "key", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "nonce", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "sk", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "xsalsa20", "<KEEP>", ".", "<KEEP>", "process", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "sk", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "sk", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ",", "<KEEP>", "sk", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "poly1305", "<KEEP>", ".", "<KEEP>", "init", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "key", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "sk", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "len", "<KEEP>", "=", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<KEEP>", "ciphertext", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "poly1305", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "(", "<KEEP>", "ciphertext", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "len", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "calculated", "<KEEP>", "mac", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "poly1305", "<KEEP>", ".", "<KEEP>", "do", "<KEEP>", "final", "<KEEP>", "(", "<KEEP>", "calculated", "<KEEP>", "mac", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "presented", "<KEEP>", "mac", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "arraycopy", "<KEEP>", "(", "<KEEP>", "ciphertext", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "presented", "<KEEP>", "mac", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "min", "<KEEP>", "(", "<KEEP>", "ciphertext", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "message", "<KEEP>", "digest", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "equal", "<KEEP>", "(", "<KEEP>", "calculated", "<KEEP>", "mac", "<KEEP>", ",", "<KEEP>", "presented", "<KEEP>", "mac", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "invalid", "<REPLACE_OLD>", "ciphertext", "<REPLACE_OLD>", "exception", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "optional", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "plaintext", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "len", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "xsalsa20", "<KEEP>", ".", "<KEEP>", "process", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "ciphertext", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "plaintext", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ",", "<KEEP>", "plaintext", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "optional", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "plaintext", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8075482915881235, "using": 2, "keep": 1}
{"id": "apache_systemml-191-6831", "old_comment": "output lop of maxpool operation with same parameters as this hop", "old_comment_tokens": ["output", "lop", "of", "maxpool", "operation", "with", "same", "parameters", "as", "this", "hop"], "new_comment": "output lop of max _ pool / avg _ pool operation with same parameters as this hop", "new_comment_tokens": ["output", "lop", "of", "max", "_", "pool", "/", "avg", "_", "pool", "operation", "with", "same", "parameters", "as", "this", "hop"], "old_code": "private lop get max pool output lop ( ) throws hops exception , lops exception { if ( op ! = conv op . max _ pooling _ backward ) return null ; hop input image = get input ( ) . get ( num ) ; for ( hop tmp parent : input image . get parent ( ) ) { if ( ! ( tmp parent instanceof convolution op ) ) continue ; convolution op parent = ( convolution op ) tmp parent ; if ( parent . get op ( ) = = conv op . max _ pooling & & is pooling parameters equal and known ( parent . _ cached params , _ cached params ) ) { return parent . construct lops ( ) ; } } return null ; }", "old_code_tokens": ["private", "lop", "get", "max", "pool", "output", "lop", "(", ")", "throws", "hops", "exception", ",", "lops", "exception", "{", "if", "(", "op", "!", "=", "conv", "op", ".", "max", "_", "pooling", "_", "backward", ")", "return", "null", ";", "hop", "input", "image", "=", "get", "input", "(", ")", ".", "get", "(", "num", ")", ";", "for", "(", "hop", "tmp", "parent", ":", "input", "image", ".", "get", "parent", "(", ")", ")", "{", "if", "(", "!", "(", "tmp", "parent", "instanceof", "convolution", "op", ")", ")", "continue", ";", "convolution", "op", "parent", "=", "(", "convolution", "op", ")", "tmp", "parent", ";", "if", "(", "parent", ".", "get", "op", "(", ")", "=", "=", "conv", "op", ".", "max", "_", "pooling", "&", "&", "is", "pooling", "parameters", "equal", "and", "known", "(", "parent", ".", "_", "cached", "params", ",", "_", "cached", "params", ")", ")", "{", "return", "parent", ".", "construct", "lops", "(", ")", ";", "}", "}", "return", "null", ";", "}"], "new_code": "private lop get max pool output lop ( ) throws hops exception , lops exception { if ( op = = conv op . max _ pooling _ backward | | op = = conv op . avg _ pooling _ backward ) { conv op op type = ( op = = conv op . max _ pooling _ backward ) ? conv op . max _ pooling : conv op . avg _ pooling ; hop input image = get input ( ) . get ( num ) ; for ( hop tmp parent : input image . get parent ( ) ) { if ( ! ( tmp parent instanceof convolution op ) ) continue ; convolution op parent = ( convolution op ) tmp parent ; if ( parent . get op ( ) = = op type & & is pooling parameters equal and known ( parent . _ cached params , _ cached params ) ) { return parent . construct lops ( ) ; } } } return null ; }", "new_code_tokens": ["private", "lop", "get", "max", "pool", "output", "lop", "(", ")", "throws", "hops", "exception", ",", "lops", "exception", "{", "if", "(", "op", "=", "=", "conv", "op", ".", "max", "_", "pooling", "_", "backward", "|", "|", "op", "=", "=", "conv", "op", ".", "avg", "_", "pooling", "_", "backward", ")", "{", "conv", "op", "op", "type", "=", "(", "op", "=", "=", "conv", "op", ".", "max", "_", "pooling", "_", "backward", ")", "?", "conv", "op", ".", "max", "_", "pooling", ":", "conv", "op", ".", "avg", "_", "pooling", ";", "hop", "input", "image", "=", "get", "input", "(", ")", ".", "get", "(", "num", ")", ";", "for", "(", "hop", "tmp", "parent", ":", "input", "image", ".", "get", "parent", "(", ")", ")", "{", "if", "(", "!", "(", "tmp", "parent", "instanceof", "convolution", "op", ")", ")", "continue", ";", "convolution", "op", "parent", "=", "(", "convolution", "op", ")", "tmp", "parent", ";", "if", "(", "parent", ".", "get", "op", "(", ")", "=", "=", "op", "type", "&", "&", "is", "pooling", "parameters", "equal", "and", "known", "(", "parent", ".", "_", "cached", "params", ",", "_", "cached", "params", ")", ")", "{", "return", "parent", ".", "construct", "lops", "(", ")", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> private lop get max pool output lop ( ) throws hops exception , lops exception { if ( op <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> = = conv op . max _ pooling _ backward | | op = = conv op . avg _ pooling _ backward ) { conv op op type = ( op = <REPLACE_END> <KEEP> = conv op . max _ pooling _ backward ) <KEEP_END> <REPLACE_OLD> return null <REPLACE_NEW> ? conv op . max _ pooling : conv op . avg _ pooling <REPLACE_END> <KEEP> ; hop input image = get input ( ) . get ( num ) ; for ( hop tmp parent : input image . get parent ( ) ) { if ( ! ( tmp parent instanceof convolution op ) ) continue ; convolution op parent = ( convolution op ) tmp parent ; if ( parent . get op ( ) = = <KEEP_END> <DELETE> conv <DELETE_END> <KEEP> op <KEEP_END> <REPLACE_OLD> . max _ pooling <REPLACE_NEW> type <REPLACE_END> <KEEP> & & is pooling parameters equal and known ( parent . _ cached params , _ cached params ) ) { return parent . construct lops ( ) ; } } <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "lop", "get", "max", "pool", "output", "lop", "(", ")", "throws", "hops", "exception", ",", "lops", "exception", "{", "if", "(", "op", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "=", "conv", "op", ".", "max", "_", "pooling", "_", "backward", "|", "|", "op", "=", "=", "conv", "op", ".", "avg", "_", "pooling", "_", "backward", ")", "{", "conv", "op", "op", "type", "=", "(", "op", "=", "<REPLACE_END>", "<KEEP>", "=", "conv", "op", ".", "max", "_", "pooling", "_", "backward", ")", "<KEEP_END>", "<REPLACE_OLD>", "return", "null", "<REPLACE_NEW>", "?", "conv", "op", ".", "max", "_", "pooling", ":", "conv", "op", ".", "avg", "_", "pooling", "<REPLACE_END>", "<KEEP>", ";", "hop", "input", "image", "=", "get", "input", "(", ")", ".", "get", "(", "num", ")", ";", "for", "(", "hop", "tmp", "parent", ":", "input", "image", ".", "get", "parent", "(", ")", ")", "{", "if", "(", "!", "(", "tmp", "parent", "instanceof", "convolution", "op", ")", ")", "continue", ";", "convolution", "op", "parent", "=", "(", "convolution", "op", ")", "tmp", "parent", ";", "if", "(", "parent", ".", "get", "op", "(", ")", "=", "=", "<KEEP_END>", "<DELETE>", "conv", "<DELETE_END>", "<KEEP>", "op", "<KEEP_END>", "<REPLACE_OLD>", ".", "max", "_", "pooling", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "&", "&", "is", "pooling", "parameters", "equal", "and", "known", "(", "parent", ".", "_", "cached", "params", ",", "_", "cached", "params", ")", ")", "{", "return", "parent", ".", "construct", "lops", "(", ")", ";", "}", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> maxpool <REPLACE_NEW> max _ pool / avg _ pool <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "maxpool", "<REPLACE_NEW>", "max", "_", "pool", "/", "avg", "_", "pool", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "lop", "<KEEP>", "get", "<KEEP>", "max", "<KEEP>", "pool", "<KEEP>", "output", "<KEEP>", "lop", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "hops", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "lops", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "conv", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "pooling", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "backward", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "conv", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "avg", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "pooling", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "backward", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "conv", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "conv", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "_", "<KEEP>", "pooling", "<KEEP>", "_", "<KEEP>", "backward", "<KEEP>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "conv", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "pooling", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "conv", "<REPLACE_NEW>", "op", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "avg", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "pooling", "<KEEP>", ";", "<KEEP>", "hop", "<KEEP>", "input", "<KEEP>", "image", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "hop", "<KEEP>", "tmp", "<KEEP>", "parent", "<KEEP>", ":", "<KEEP>", "input", "<KEEP>", "image", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "(", "<KEEP>", "tmp", "<KEEP>", "parent", "<KEEP>", "instanceof", "<KEEP>", "convolution", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "convolution", "<KEEP>", "op", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "convolution", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", "tmp", "<KEEP>", "parent", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "op", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<DELETE>", "conv", "<KEEP>", "op", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "pooling", "<REPLACE_NEW>", "type", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "is", "<KEEP>", "pooling", "<KEEP>", "parameters", "<KEEP>", "equal", "<KEEP>", "and", "<KEEP>", "known", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "_", "<KEEP>", "cached", "<KEEP>", "params", "<KEEP>", ",", "<KEEP>", "_", "<KEEP>", "cached", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "construct", "<KEEP>", "lops", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8142817405940148, "using": 0, "keep": 1}
{"id": "eclipse_ecf-12-4513", "old_comment": "shared object description to be associated with given receiver . a non - null shared object description must be returned .", "old_comment_tokens": ["shared", "object", "description", "to", "be", "associated", "with", "given", "receiver", ".", "a", "non", "-", "null", "shared", "object", "description", "must", "be", "returned", "."], "new_comment": "remote shared object description to be associated with given receiver . a non - null remote shared object description must be returned .", "new_comment_tokens": ["remote", "shared", "object", "description", "to", "be", "associated", "with", "given", "receiver", ".", "a", "non", "-", "null", "remote", "shared", "object", "description", "must", "be", "returned", "."], "old_code": "protected shared object description get replica description ( id receiver ) { return new shared object description ( get id ( ) , get class ( ) . get name ( ) , get config ( ) . get properties ( ) ) ; }", "old_code_tokens": ["protected", "shared", "object", "description", "get", "replica", "description", "(", "id", "receiver", ")", "{", "return", "new", "shared", "object", "description", "(", "get", "id", "(", ")", ",", "get", "class", "(", ")", ".", "get", "name", "(", ")", ",", "get", "config", "(", ")", ".", "get", "properties", "(", ")", ")", ";", "}"], "new_code": "protected remote shared object description get replica description ( id receiver ) { return new remote shared object description ( get id ( ) , get class ( ) . get name ( ) , get config ( ) . get properties ( ) ) ; }", "new_code_tokens": ["protected", "remote", "shared", "object", "description", "get", "replica", "description", "(", "id", "receiver", ")", "{", "return", "new", "remote", "shared", "object", "description", "(", "get", "id", "(", ")", ",", "get", "class", "(", ")", ".", "get", "name", "(", ")", ",", "get", "config", "(", ")", ".", "get", "properties", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <INSERT> remote <INSERT_END> <KEEP> shared object description get replica description ( id receiver ) { return new <KEEP_END> <INSERT> remote <INSERT_END> <KEEP> shared object description ( get id ( ) , get class ( ) . get name ( ) , get config ( ) . get properties ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<INSERT>", "remote", "<INSERT_END>", "<KEEP>", "shared", "object", "description", "get", "replica", "description", "(", "id", "receiver", ")", "{", "return", "new", "<KEEP_END>", "<INSERT>", "remote", "<INSERT_END>", "<KEEP>", "shared", "object", "description", "(", "get", "id", "(", ")", ",", "get", "class", "(", ")", ".", "get", "name", "(", ")", ",", "get", "config", "(", ")", ".", "get", "properties", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> shared object description to <INSERT_NEW_KEEP_AFTER> remote shared object description to <INSERT_END> <INSERT_OLD_KEEP_BEFORE> null <INSERT_NEW_KEEP_BEFORE> null remote <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "shared", "object", "description", "to", "<INSERT_NEW_KEEP_AFTER>", "remote", "shared", "object", "description", "to", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "null", "<INSERT_NEW_KEEP_BEFORE>", "null", "remote", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<INSERT>", "remote", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", "receiver", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<INSERT>", "remote", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9131965894681537, "using": 0, "keep": 1}
{"id": "hibernate_hibernate-orm-138-3069", "old_comment": "set view of the entity - to - copy mappings contained in this event cache", "old_comment_tokens": ["set", "view", "of", "the", "entity", "-", "to", "-", "copy", "mappings", "contained", "in", "this", "event", "cache"], "new_comment": "an unmodifiable set view of the entity - to - copy mappings contained in this event cache", "new_comment_tokens": ["an", "unmodifiable", "set", "view", "of", "the", "entity", "-", "to", "-", "copy", "mappings", "contained", "in", "this", "event", "cache"], "old_code": "public set entry set ( ) { return entity to copy map . entry set ( ) ; }", "old_code_tokens": ["public", "set", "entry", "set", "(", ")", "{", "return", "entity", "to", "copy", "map", ".", "entry", "set", "(", ")", ";", "}"], "new_code": "public set entry set ( ) { return collections . unmodifiable set ( entity to copy map . entry set ( ) ) ; }", "new_code_tokens": ["public", "set", "entry", "set", "(", ")", "{", "return", "collections", ".", "unmodifiable", "set", "(", "entity", "to", "copy", "map", ".", "entry", "set", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public set entry set ( ) { return <KEEP_END> <INSERT> collections . unmodifiable set ( <INSERT_END> <KEEP> entity to copy map . entry set ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "set", "entry", "set", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "set", "(", "<INSERT_END>", "<KEEP>", "entity", "to", "copy", "map", ".", "entry", "set", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> set <INSERT_NEW_KEEP_AFTER> an unmodifiable set <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "set", "<INSERT_NEW_KEEP_AFTER>", "an", "unmodifiable", "set", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "set", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "set", "<INSERT>", "(", "<KEEP>", "entity", "<KEEP>", "to", "<KEEP>", "copy", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9780402264837936, "using": 2, "keep": 1}
{"id": "braintree_braintree_java-2-4092", "old_comment": "paged collection or null if the current page is the last page", "old_comment_tokens": ["paged", "collection", "or", "null", "if", "the", "current", "page", "is", "the", "last", "page"], "new_comment": "resource collection or null if the current page is the last page", "new_comment_tokens": ["resource", "collection", "or", "null", "if", "the", "current", "page", "is", "the", "last", "page"], "old_code": "private paged collection < t > get next page ( ) { if ( is last page ( ) ) { return null ; } return pager . get page ( current page number + num ) ; }", "old_code_tokens": ["private", "paged", "collection", "<", "t", ">", "get", "next", "page", "(", ")", "{", "if", "(", "is", "last", "page", "(", ")", ")", "{", "return", "null", ";", "}", "return", "pager", ".", "get", "page", "(", "current", "page", "number", "+", "num", ")", ";", "}"], "new_code": "private resource collection < t > get next page ( ) { if ( is last page ( ) ) { return null ; } return pager . get page ( current page number + num ) ; }", "new_code_tokens": ["private", "resource", "collection", "<", "t", ">", "get", "next", "page", "(", ")", "{", "if", "(", "is", "last", "page", "(", ")", ")", "{", "return", "null", ";", "}", "return", "pager", ".", "get", "page", "(", "current", "page", "number", "+", "num", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < t > get next page ( ) { if ( is last page ( ) ) { return null ; } return pager . get page ( current page number + num ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "t", ">", "get", "next", "page", "(", ")", "{", "if", "(", "is", "last", "page", "(", ")", ")", "{", "return", "null", ";", "}", "return", "pager", ".", "get", "page", "(", "current", "page", "number", "+", "num", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "next", "<KEEP>", "page", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "last", "<KEEP>", "page", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "pager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "page", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "page", "<KEEP>", "number", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9939542720356674, "using": 2, "keep": 1}
{"id": "softctrl_SCAndMoneyManagerEX-81-4890", "old_comment": "the default directory where to store the database", "old_comment_tokens": ["the", "default", "directory", "where", "to", "store", "the", "database"], "new_comment": "the default database directory", "new_comment_tokens": ["the", "default", "database", "directory"], "old_code": "public file get database storage directory ( ) { file external storage ; external storage = environment . get external storage directory ( ) ; if ( external storage = = null | | ! external storage . exists ( ) | | ! external storage . is directory ( ) | | ! external storage . can write ( ) ) { return get context ( ) . get files dir ( ) ; } file folder output = new file ( external storage + file . separator + get context ( ) . get package name ( ) ) ; if ( ! folder output . exists ( ) ) { folder output = new file ( external storage + str ) ; if ( ! folder output . exists ( ) ) { if ( ! folder output . mkdirs ( ) ) { return get context ( ) . get files dir ( ) ; } } } return folder output ; }", "old_code_tokens": ["public", "file", "get", "database", "storage", "directory", "(", ")", "{", "file", "external", "storage", ";", "external", "storage", "=", "environment", ".", "get", "external", "storage", "directory", "(", ")", ";", "if", "(", "external", "storage", "=", "=", "null", "|", "|", "!", "external", "storage", ".", "exists", "(", ")", "|", "|", "!", "external", "storage", ".", "is", "directory", "(", ")", "|", "|", "!", "external", "storage", ".", "can", "write", "(", ")", ")", "{", "return", "get", "context", "(", ")", ".", "get", "files", "dir", "(", ")", ";", "}", "file", "folder", "output", "=", "new", "file", "(", "external", "storage", "+", "file", ".", "separator", "+", "get", "context", "(", ")", ".", "get", "package", "name", "(", ")", ")", ";", "if", "(", "!", "folder", "output", ".", "exists", "(", ")", ")", "{", "folder", "output", "=", "new", "file", "(", "external", "storage", "+", "str", ")", ";", "if", "(", "!", "folder", "output", ".", "exists", "(", ")", ")", "{", "if", "(", "!", "folder", "output", ".", "mkdirs", "(", ")", ")", "{", "return", "get", "context", "(", ")", ".", "get", "files", "dir", "(", ")", ";", "}", "}", "}", "return", "folder", "output", ";", "}"], "new_code": "public string get database storage directory ( ) { file external storage ; external storage = environment . get external storage directory ( ) ; if ( external storage = = null | | ! external storage . exists ( ) | | ! external storage . is directory ( ) | | ! external storage . can write ( ) ) { return get context ( ) . get files dir ( ) . get absolute path ( ) ; } file default folder = new file ( external storage + file . separator + get context ( ) . get package name ( ) ) ; if ( ! default folder . exists ( ) ) { default folder = new file ( external storage + str ) ; if ( ! default folder . exists ( ) ) { if ( ! default folder . mkdirs ( ) ) { return get context ( ) . get files dir ( ) . get absolute path ( ) ; } } } string database path ; if ( default folder . get absolute file ( ) . exists ( ) ) { database path = default folder . to string ( ) ; } else { string internal folder ; if ( android . os . build . version . sdk _ int > = android . os . build . version _ codes . jelly _ bean _ mr1 ) { internal folder = get context ( ) . get application info ( ) . data dir ; } else { internal folder = str + get context ( ) . get application context ( ) . get package name ( ) ; } internal folder + = str ; database path = internal folder ; } return database path ; }", "new_code_tokens": ["public", "string", "get", "database", "storage", "directory", "(", ")", "{", "file", "external", "storage", ";", "external", "storage", "=", "environment", ".", "get", "external", "storage", "directory", "(", ")", ";", "if", "(", "external", "storage", "=", "=", "null", "|", "|", "!", "external", "storage", ".", "exists", "(", ")", "|", "|", "!", "external", "storage", ".", "is", "directory", "(", ")", "|", "|", "!", "external", "storage", ".", "can", "write", "(", ")", ")", "{", "return", "get", "context", "(", ")", ".", "get", "files", "dir", "(", ")", ".", "get", "absolute", "path", "(", ")", ";", "}", "file", "default", "folder", "=", "new", "file", "(", "external", "storage", "+", "file", ".", "separator", "+", "get", "context", "(", ")", ".", "get", "package", "name", "(", ")", ")", ";", "if", "(", "!", "default", "folder", ".", "exists", "(", ")", ")", "{", "default", "folder", "=", "new", "file", "(", "external", "storage", "+", "str", ")", ";", "if", "(", "!", "default", "folder", ".", "exists", "(", ")", ")", "{", "if", "(", "!", "default", "folder", ".", "mkdirs", "(", ")", ")", "{", "return", "get", "context", "(", ")", ".", "get", "files", "dir", "(", ")", ".", "get", "absolute", "path", "(", ")", ";", "}", "}", "}", "string", "database", "path", ";", "if", "(", "default", "folder", ".", "get", "absolute", "file", "(", ")", ".", "exists", "(", ")", ")", "{", "database", "path", "=", "default", "folder", ".", "to", "string", "(", ")", ";", "}", "else", "{", "string", "internal", "folder", ";", "if", "(", "android", ".", "os", ".", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "android", ".", "os", ".", "build", ".", "version", "_", "codes", ".", "jelly", "_", "bean", "_", "mr1", ")", "{", "internal", "folder", "=", "get", "context", "(", ")", ".", "get", "application", "info", "(", ")", ".", "data", "dir", ";", "}", "else", "{", "internal", "folder", "=", "str", "+", "get", "context", "(", ")", ".", "get", "application", "context", "(", ")", ".", "get", "package", "name", "(", ")", ";", "}", "internal", "folder", "+", "=", "str", ";", "database", "path", "=", "internal", "folder", ";", "}", "return", "database", "path", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> file <REPLACE_NEW> string <REPLACE_END> <KEEP> get database storage directory ( ) { file external storage ; external storage = environment . get external storage directory ( ) ; if ( external storage = = null | | ! external storage . exists ( ) | | ! external storage . is directory ( ) | | ! external storage . can write ( ) ) { return get context ( ) . get files dir ( ) <KEEP_END> <REPLACE_OLD> ; } file folder output <REPLACE_NEW> . get absolute path ( ) ; } file default folder <REPLACE_END> <KEEP> = new file ( external storage + file . separator + get context ( ) . get package name ( ) ) ; if ( ! <KEEP_END> <REPLACE_OLD> folder output <REPLACE_NEW> default folder <REPLACE_END> <KEEP> . exists ( ) ) { <KEEP_END> <REPLACE_OLD> folder output <REPLACE_NEW> default folder <REPLACE_END> <KEEP> = new file ( external storage + str ) ; if ( ! <KEEP_END> <REPLACE_OLD> folder output <REPLACE_NEW> default folder <REPLACE_END> <KEEP> . exists ( ) ) { if ( ! <KEEP_END> <REPLACE_OLD> folder output <REPLACE_NEW> default folder <REPLACE_END> <KEEP> . mkdirs ( ) ) { return get context ( ) . get files dir ( ) <KEEP_END> <REPLACE_OLD> ; } } <REPLACE_NEW> . get absolute path ( ) ; } } } string database path ; if ( default folder . get absolute file ( ) . exists ( ) ) { database path = default folder . to string ( ) ; } else { string internal folder ; if ( android . os . build . version . sdk _ int > = android . os . build . version _ codes . jelly _ bean _ mr1 ) { internal folder = get context ( ) . get application info ( ) . data dir ; } else { internal folder = str + get context ( ) . get application context ( ) . get package name ( ) ; } internal folder + = str ; database path = internal folder ; <REPLACE_END> <KEEP> } return <KEEP_END> <REPLACE_OLD> folder output ; } <REPLACE_NEW> database path ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "database", "storage", "directory", "(", ")", "{", "file", "external", "storage", ";", "external", "storage", "=", "environment", ".", "get", "external", "storage", "directory", "(", ")", ";", "if", "(", "external", "storage", "=", "=", "null", "|", "|", "!", "external", "storage", ".", "exists", "(", ")", "|", "|", "!", "external", "storage", ".", "is", "directory", "(", ")", "|", "|", "!", "external", "storage", ".", "can", "write", "(", ")", ")", "{", "return", "get", "context", "(", ")", ".", "get", "files", "dir", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "file", "folder", "output", "<REPLACE_NEW>", ".", "get", "absolute", "path", "(", ")", ";", "}", "file", "default", "folder", "<REPLACE_END>", "<KEEP>", "=", "new", "file", "(", "external", "storage", "+", "file", ".", "separator", "+", "get", "context", "(", ")", ".", "get", "package", "name", "(", ")", ")", ";", "if", "(", "!", "<KEEP_END>", "<REPLACE_OLD>", "folder", "output", "<REPLACE_NEW>", "default", "folder", "<REPLACE_END>", "<KEEP>", ".", "exists", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "folder", "output", "<REPLACE_NEW>", "default", "folder", "<REPLACE_END>", "<KEEP>", "=", "new", "file", "(", "external", "storage", "+", "str", ")", ";", "if", "(", "!", "<KEEP_END>", "<REPLACE_OLD>", "folder", "output", "<REPLACE_NEW>", "default", "folder", "<REPLACE_END>", "<KEEP>", ".", "exists", "(", ")", ")", "{", "if", "(", "!", "<KEEP_END>", "<REPLACE_OLD>", "folder", "output", "<REPLACE_NEW>", "default", "folder", "<REPLACE_END>", "<KEEP>", ".", "mkdirs", "(", ")", ")", "{", "return", "get", "context", "(", ")", ".", "get", "files", "dir", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "}", "<REPLACE_NEW>", ".", "get", "absolute", "path", "(", ")", ";", "}", "}", "}", "string", "database", "path", ";", "if", "(", "default", "folder", ".", "get", "absolute", "file", "(", ")", ".", "exists", "(", ")", ")", "{", "database", "path", "=", "default", "folder", ".", "to", "string", "(", ")", ";", "}", "else", "{", "string", "internal", "folder", ";", "if", "(", "android", ".", "os", ".", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "android", ".", "os", ".", "build", ".", "version", "_", "codes", ".", "jelly", "_", "bean", "_", "mr1", ")", "{", "internal", "folder", "=", "get", "context", "(", ")", ".", "get", "application", "info", "(", ")", ".", "data", "dir", ";", "}", "else", "{", "internal", "folder", "=", "str", "+", "get", "context", "(", ")", ".", "get", "application", "context", "(", ")", ".", "get", "package", "name", "(", ")", ";", "}", "internal", "folder", "+", "=", "str", ";", "database", "path", "=", "internal", "folder", ";", "<REPLACE_END>", "<KEEP>", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "folder", "output", ";", "}", "<REPLACE_NEW>", "database", "path", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> default <INSERT_NEW_KEEP_BEFORE> default database <INSERT_END> <DELETE> where to store the database <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "default", "<INSERT_NEW_KEEP_BEFORE>", "default", "database", "<INSERT_END>", "<DELETE>", "where", "to", "store", "the", "database", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "database", "<KEEP>", "storage", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "file", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", ";", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", "=", "<KEEP>", "environment", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "!", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "!", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "!", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", ".", "<KEEP>", "can", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "files", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "folder", "<REPLACE_OLD>", "output", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "absolute", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", "+", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "separator", "<KEEP>", "+", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "package", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<REPLACE_OLD>", "folder", "<REPLACE_OLD>", "output", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "folder", "<REPLACE_OLD>", "output", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "external", "<KEEP>", "storage", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<REPLACE_OLD>", "folder", "<REPLACE_OLD>", "output", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<REPLACE_OLD>", "folder", "<REPLACE_OLD>", "output", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<KEEP>", ".", "<KEEP>", "mkdirs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "files", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "absolute", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "database", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "absolute", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "exists", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "database", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "android", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "os", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "sdk", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "android", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "os", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "codes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "jelly", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "bean", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "mr1", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "package", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "database", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "folder", "<REPLACE_NEW>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "folder", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "database", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8479550912828037, "using": 2, "keep": 1}
{"id": "jenkinsci_nodejs-plugin-1-3782", "old_comment": "the nodejs executable in the system is exists , null otherwise .", "old_comment_tokens": ["the", "nodejs", "executable", "in", "the", "system", "is", "exists", ",", "null", "otherwise", "."], "new_comment": "the nodejs executable in the executable system is exists , null otherwise .", "new_comment_tokens": ["the", "nodejs", "executable", "in", "the", "executable", "system", "is", "exists", ",", "null", "otherwise", "."], "old_code": "public string get executable ( final launcher launcher ) throws interrupted exception , ioexception { return launcher . get channel ( ) . call ( new master to slave callable < string , ioexception > ( ) { private static final long serial version uid = - num ; @ override public string call ( ) throws ioexception { node node = computer . current computer ( ) . get node ( ) ; if ( node ! = null ) { final platform platform = platform . of ( node ) ; file exe = get exe file ( platform ) ; if ( exe . exists ( ) ) { return exe . get path ( ) ; } } return null ; } } ) ; }", "old_code_tokens": ["public", "string", "get", "executable", "(", "final", "launcher", "launcher", ")", "throws", "interrupted", "exception", ",", "ioexception", "{", "return", "launcher", ".", "get", "channel", "(", ")", ".", "call", "(", "new", "master", "to", "slave", "callable", "<", "string", ",", "ioexception", ">", "(", ")", "{", "private", "static", "final", "long", "serial", "version", "uid", "=", "-", "num", ";", "@", "override", "public", "string", "call", "(", ")", "throws", "ioexception", "{", "node", "node", "=", "computer", ".", "current", "computer", "(", ")", ".", "get", "node", "(", ")", ";", "if", "(", "node", "!", "=", "null", ")", "{", "final", "platform", "platform", "=", "platform", ".", "of", "(", "node", ")", ";", "file", "exe", "=", "get", "exe", "file", "(", "platform", ")", ";", "if", "(", "exe", ".", "exists", "(", ")", ")", "{", "return", "exe", ".", "get", "path", "(", ")", ";", "}", "}", "return", "null", ";", "}", "}", ")", ";", "}"], "new_code": "public string get executable ( ) throws ioexception { file exe = get exe file ( get platform ( ) ) ; if ( exe . exists ( ) ) { return exe . get path ( ) ; } return null ; }", "new_code_tokens": ["public", "string", "get", "executable", "(", ")", "throws", "ioexception", "{", "file", "exe", "=", "get", "exe", "file", "(", "get", "platform", "(", ")", ")", ";", "if", "(", "exe", ".", "exists", "(", ")", ")", "{", "return", "exe", ".", "get", "path", "(", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public string get executable ( <KEEP_END> <DELETE> final launcher launcher ) throws interrupted exception , ioexception { return launcher . get channel ( ) . call ( new master to slave callable < string , ioexception > ( ) { private static final long serial version uid = - num ; @ override public string call ( <DELETE_END> <KEEP> ) throws ioexception { <KEEP_END> <DELETE> node node = computer . current computer ( ) . get node ( ) ; if ( node ! = null ) { final platform platform = platform . of ( node ) ; <DELETE_END> <KEEP> file exe = get exe file ( <KEEP_END> <INSERT> get <INSERT_END> <KEEP> platform <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) ; if ( exe . exists ( ) ) { return exe . get path ( ) ; } <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return null ; } <KEEP_END> <DELETE> } ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "executable", "(", "<KEEP_END>", "<DELETE>", "final", "launcher", "launcher", ")", "throws", "interrupted", "exception", ",", "ioexception", "{", "return", "launcher", ".", "get", "channel", "(", ")", ".", "call", "(", "new", "master", "to", "slave", "callable", "<", "string", ",", "ioexception", ">", "(", ")", "{", "private", "static", "final", "long", "serial", "version", "uid", "=", "-", "num", ";", "@", "override", "public", "string", "call", "(", "<DELETE_END>", "<KEEP>", ")", "throws", "ioexception", "{", "<KEEP_END>", "<DELETE>", "node", "node", "=", "computer", ".", "current", "computer", "(", ")", ".", "get", "node", "(", ")", ";", "if", "(", "node", "!", "=", "null", ")", "{", "final", "platform", "platform", "=", "platform", ".", "of", "(", "node", ")", ";", "<DELETE_END>", "<KEEP>", "file", "exe", "=", "get", "exe", "file", "(", "<KEEP_END>", "<INSERT>", "get", "<INSERT_END>", "<KEEP>", "platform", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "if", "(", "exe", ".", "exists", "(", ")", ")", "{", "return", "exe", ".", "get", "path", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "null", ";", "}", "<KEEP_END>", "<DELETE>", "}", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the executable <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "executable", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "executable", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "launcher", "<DELETE>", "launcher", "<DELETE>", ")", "<DELETE>", "throws", "<DELETE>", "interrupted", "<DELETE>", "exception", "<DELETE>", ",", "<DELETE>", "ioexception", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "launcher", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "channel", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "call", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "master", "<DELETE>", "to", "<DELETE>", "slave", "<DELETE>", "callable", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "ioexception", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "private", "<DELETE>", "static", "<DELETE>", "final", "<DELETE>", "long", "<DELETE>", "serial", "<DELETE>", "version", "<DELETE>", "uid", "<DELETE>", "=", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "@", "<DELETE>", "override", "<DELETE>", "public", "<DELETE>", "string", "<DELETE>", "call", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<DELETE>", "node", "<DELETE>", "node", "<DELETE>", "=", "<DELETE>", "computer", "<DELETE>", ".", "<DELETE>", "current", "<DELETE>", "computer", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "node", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "node", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "final", "<DELETE>", "platform", "<DELETE>", "platform", "<DELETE>", "=", "<DELETE>", "platform", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<DELETE>", "node", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "file", "<KEEP>", "exe", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "exe", "<KEEP>", "file", "<KEEP>", "(", "<INSERT>", "get", "<KEEP>", "platform", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "exe", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "exe", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.8480234053949357, "using": 0, "keep": 1}
{"id": "eclipse_elk-50-6005", "old_comment": "an iterator visiting the given kedge and all connected edges in a ( n almost ) breadth first search fashion", "old_comment_tokens": ["an", "iterator", "visiting", "the", "given", "kedge", "and", "all", "connected", "edges", "in", "a", "(", "n", "almost", ")", "breadth", "first", "search", "fashion"], "new_comment": "an iterator visiting the given edge and all connected edges in a ( n almost ) breadth first search fashion", "new_comment_tokens": ["an", "iterator", "visiting", "the", "given", "edge", "and", "all", "connected", "edges", "in", "a", "(", "n", "almost", ")", "breadth", "first", "search", "fashion"], "old_code": "public static iterator < kedge > get connected edges ( final kedge kedge ) { return iterators . filter ( get connected elements ( kedge , false ) , kedge . class ) ; }", "old_code_tokens": ["public", "static", "iterator", "<", "kedge", ">", "get", "connected", "edges", "(", "final", "kedge", "kedge", ")", "{", "return", "iterators", ".", "filter", "(", "get", "connected", "elements", "(", "kedge", ",", "false", ")", ",", "kedge", ".", "class", ")", ";", "}"], "new_code": "public static iterator < elk edge > get connected edges ( final elk edge edge ) { return iterators . filter ( get connected elements ( edge , false ) , elk edge . class ) ; }", "new_code_tokens": ["public", "static", "iterator", "<", "elk", "edge", ">", "get", "connected", "edges", "(", "final", "elk", "edge", "edge", ")", "{", "return", "iterators", ".", "filter", "(", "get", "connected", "elements", "(", "edge", ",", "false", ")", ",", "elk", "edge", ".", "class", ")", ";", "}"], "span_diff_code": "<KEEP> public static iterator < <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> > get connected edges ( final <KEEP_END> <REPLACE_OLD> kedge kedge <REPLACE_NEW> elk edge edge <REPLACE_END> <KEEP> ) { return iterators . filter ( get connected elements ( <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> edge <REPLACE_END> <KEEP> , false ) , <KEEP_END> <REPLACE_OLD> kedge <REPLACE_NEW> elk edge <REPLACE_END> <KEEP> . class ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "iterator", "<", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ">", "get", "connected", "edges", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "kedge", "<REPLACE_NEW>", "elk", "edge", "edge", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "iterators", ".", "filter", "(", "get", "connected", "elements", "(", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<REPLACE_END>", "<KEEP>", ",", "false", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "edge", "<REPLACE_END>", "<KEEP>", ".", "class", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> kedge <REPLACE_NEW> edge <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "iterator", "<KEEP>", "<", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "edges", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "kedge", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<REPLACE_NEW>", "edge", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "iterators", "<KEEP>", ".", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "elements", "<KEEP>", "(", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "edge", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "kedge", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "edge", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9604270653548014, "using": 2, "keep": 1}
{"id": "codehaus_coconut-55-4056", "old_comment": "an event processor wrapping an offerable", "old_comment_tokens": ["an", "event", "processor", "wrapping", "an", "offerable"], "new_comment": "an procedure wrapping an offerable", "new_comment_tokens": ["an", "procedure", "wrapping", "an", "offerable"], "old_code": "public static < e > procedure < e > from offerable ( final offerable < e > offerable ) { return new offerable2 event processor < e > ( offerable ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "procedure", "<", "e", ">", "from", "offerable", "(", "final", "offerable", "<", "e", ">", "offerable", ")", "{", "return", "new", "offerable2", "event", "processor", "<", "e", ">", "(", "offerable", ")", ";", "}"], "new_code": "public static < e > procedure < e > from offerable ( final offerable < e > offerable ) { return new offerable2 procedure < e > ( offerable ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "procedure", "<", "e", ">", "from", "offerable", "(", "final", "offerable", "<", "e", ">", "offerable", ")", "{", "return", "new", "offerable2", "procedure", "<", "e", ">", "(", "offerable", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > procedure < e > from offerable ( final offerable < e > offerable ) { return new offerable2 <KEEP_END> <REPLACE_OLD> event processor <REPLACE_NEW> procedure <REPLACE_END> <KEEP> < e > ( offerable ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "procedure", "<", "e", ">", "from", "offerable", "(", "final", "offerable", "<", "e", ">", "offerable", ")", "{", "return", "new", "offerable2", "<KEEP_END>", "<REPLACE_OLD>", "event", "processor", "<REPLACE_NEW>", "procedure", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "(", "offerable", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> event processor <REPLACE_NEW> procedure <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "event", "processor", "<REPLACE_NEW>", "procedure", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "procedure", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "from", "<KEEP>", "offerable", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "offerable", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "offerable", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "offerable2", "<REPLACE_OLD>", "event", "<REPLACE_OLD>", "processor", "<REPLACE_NEW>", "procedure", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "offerable", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9588427628697984, "using": 2, "keep": 1}
{"id": "rzel_google-collections-73-5663", "old_comment": "an immutable set instance containing those elements , minus duplicates", "old_comment_tokens": ["an", "immutable", "set", "instance", "containing", "those", "elements", ",", "minus", "duplicates"], "new_comment": "an immutable set containing those elements , minus duplicates", "new_comment_tokens": ["an", "immutable", "set", "containing", "those", "elements", ",", "minus", "duplicates"], "old_code": "public static < e extends enum < e > > immutable set < e > immutable enum set ( iterable < e > elements ) { iterator < e > iterator = elements . iterator ( ) ; if ( ! iterator . has next ( ) ) { return immutable set . of ( ) ; } e first = iterator . next ( ) ; enum set < e > set = enum set . of ( first ) ; while ( iterator . has next ( ) ) { set . add ( iterator . next ( ) ) ; } return new immutable set . forwarding immutable set < e > ( set ) ; }", "old_code_tokens": ["public", "static", "<", "e", "extends", "enum", "<", "e", ">", ">", "immutable", "set", "<", "e", ">", "immutable", "enum", "set", "(", "iterable", "<", "e", ">", "elements", ")", "{", "iterator", "<", "e", ">", "iterator", "=", "elements", ".", "iterator", "(", ")", ";", "if", "(", "!", "iterator", ".", "has", "next", "(", ")", ")", "{", "return", "immutable", "set", ".", "of", "(", ")", ";", "}", "e", "first", "=", "iterator", ".", "next", "(", ")", ";", "enum", "set", "<", "e", ">", "set", "=", "enum", "set", ".", "of", "(", "first", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "set", ".", "add", "(", "iterator", ".", "next", "(", ")", ")", ";", "}", "return", "new", "immutable", "set", ".", "forwarding", "immutable", "set", "<", "e", ">", "(", "set", ")", ";", "}"], "new_code": "@ gwt compatible ( serializable = false ) public static < e extends enum < e > > immutable set < e > immutable enum set ( iterable < e > elements ) { iterator < e > iterator = elements . iterator ( ) ; if ( ! iterator . has next ( ) ) { return immutable set . of ( ) ; } if ( elements instanceof enum set ) { enum set < e > enum set clone = enum set . copy of ( ( enum set < e > ) elements ) ; return new immutable set . immutable enum set < e > ( enum set clone ) ; } e first = iterator . next ( ) ; enum set < e > set = enum set . of ( first ) ; while ( iterator . has next ( ) ) { set . add ( iterator . next ( ) ) ; } return new immutable set . immutable enum set < e > ( set ) ; }", "new_code_tokens": ["@", "gwt", "compatible", "(", "serializable", "=", "false", ")", "public", "static", "<", "e", "extends", "enum", "<", "e", ">", ">", "immutable", "set", "<", "e", ">", "immutable", "enum", "set", "(", "iterable", "<", "e", ">", "elements", ")", "{", "iterator", "<", "e", ">", "iterator", "=", "elements", ".", "iterator", "(", ")", ";", "if", "(", "!", "iterator", ".", "has", "next", "(", ")", ")", "{", "return", "immutable", "set", ".", "of", "(", ")", ";", "}", "if", "(", "elements", "instanceof", "enum", "set", ")", "{", "enum", "set", "<", "e", ">", "enum", "set", "clone", "=", "enum", "set", ".", "copy", "of", "(", "(", "enum", "set", "<", "e", ">", ")", "elements", ")", ";", "return", "new", "immutable", "set", ".", "immutable", "enum", "set", "<", "e", ">", "(", "enum", "set", "clone", ")", ";", "}", "e", "first", "=", "iterator", ".", "next", "(", ")", ";", "enum", "set", "<", "e", ">", "set", "=", "enum", "set", ".", "of", "(", "first", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "set", ".", "add", "(", "iterator", ".", "next", "(", ")", ")", ";", "}", "return", "new", "immutable", "set", ".", "immutable", "enum", "set", "<", "e", ">", "(", "set", ")", ";", "}"], "span_diff_code": "<INSERT> @ gwt compatible ( serializable = false ) <INSERT_END> <KEEP> public static < e extends enum < e > > immutable set < e > immutable enum set ( iterable < e > elements ) { iterator < e > iterator = elements . iterator ( ) ; if ( ! iterator . has next ( ) ) { return immutable set . of ( ) ; } <KEEP_END> <INSERT> if ( elements instanceof enum set ) { enum set < e > enum set clone = enum set . copy of ( ( enum set < e > ) elements ) ; return new immutable set . immutable enum set < e > ( enum set clone ) ; } <INSERT_END> <KEEP> e first = iterator . next ( ) ; enum set < e > set = enum set . of ( first ) ; while ( iterator . has next ( ) ) { set . add ( iterator . next ( ) ) ; } return new immutable set . <KEEP_END> <DELETE> forwarding <DELETE_END> <KEEP> immutable <KEEP_END> <INSERT> enum <INSERT_END> <KEEP> set < e > ( set ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "gwt", "compatible", "(", "serializable", "=", "false", ")", "<INSERT_END>", "<KEEP>", "public", "static", "<", "e", "extends", "enum", "<", "e", ">", ">", "immutable", "set", "<", "e", ">", "immutable", "enum", "set", "(", "iterable", "<", "e", ">", "elements", ")", "{", "iterator", "<", "e", ">", "iterator", "=", "elements", ".", "iterator", "(", ")", ";", "if", "(", "!", "iterator", ".", "has", "next", "(", ")", ")", "{", "return", "immutable", "set", ".", "of", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "if", "(", "elements", "instanceof", "enum", "set", ")", "{", "enum", "set", "<", "e", ">", "enum", "set", "clone", "=", "enum", "set", ".", "copy", "of", "(", "(", "enum", "set", "<", "e", ">", ")", "elements", ")", ";", "return", "new", "immutable", "set", ".", "immutable", "enum", "set", "<", "e", ">", "(", "enum", "set", "clone", ")", ";", "}", "<INSERT_END>", "<KEEP>", "e", "first", "=", "iterator", ".", "next", "(", ")", ";", "enum", "set", "<", "e", ">", "set", "=", "enum", "set", ".", "of", "(", "first", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "set", ".", "add", "(", "iterator", ".", "next", "(", ")", ")", ";", "}", "return", "new", "immutable", "set", ".", "<KEEP_END>", "<DELETE>", "forwarding", "<DELETE_END>", "<KEEP>", "immutable", "<KEEP_END>", "<INSERT>", "enum", "<INSERT_END>", "<KEEP>", "set", "<", "e", ">", "(", "set", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> instance <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "instance", "<DELETE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "gwt", "<INSERT>", "compatible", "<INSERT>", "(", "<INSERT>", "serializable", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", "extends", "<KEEP>", "enum", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "immutable", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "immutable", "<KEEP>", "enum", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "iterable", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "elements", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "elements", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "immutable", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "elements", "<INSERT>", "instanceof", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", "<", "<INSERT>", "e", "<INSERT>", ">", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", "clone", "<INSERT>", "=", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", ".", "<INSERT>", "copy", "<INSERT>", "of", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", "<", "<INSERT>", "e", "<INSERT>", ">", "<INSERT>", ")", "<INSERT>", "elements", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "immutable", "<INSERT>", "set", "<INSERT>", ".", "<INSERT>", "immutable", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", "<", "<INSERT>", "e", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", "enum", "<INSERT>", "set", "<INSERT>", "clone", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "e", "<KEEP>", "first", "<KEEP>", "=", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "enum", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "enum", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "first", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "immutable", "<KEEP>", "set", "<KEEP>", ".", "<DELETE>", "forwarding", "<KEEP>", "immutable", "<INSERT>", "enum", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9957153185768249, "using": 2, "keep": 1}
{"id": "codehaus_milyn-54-5843", "old_comment": "the org . milyn . delivery . content delivery unit .", "old_comment_tokens": ["the", "org", ".", "milyn", ".", "delivery", ".", "content", "delivery", "unit", "."], "new_comment": "the content handler .", "new_comment_tokens": ["the", "content", "handler", "."], "old_code": "public content delivery unit get content delivery unit ( ) { return content delivery unit ; }", "old_code_tokens": ["public", "content", "delivery", "unit", "get", "content", "delivery", "unit", "(", ")", "{", "return", "content", "delivery", "unit", ";", "}"], "new_code": "public content handler get content delivery unit ( ) { return content delivery unit ; }", "new_code_tokens": ["public", "content", "handler", "get", "content", "delivery", "unit", "(", ")", "{", "return", "content", "delivery", "unit", ";", "}"], "span_diff_code": "<KEEP> public content <KEEP_END> <REPLACE_OLD> delivery unit <REPLACE_NEW> handler <REPLACE_END> <KEEP> get content delivery unit ( ) { return content delivery unit ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "content", "<KEEP_END>", "<REPLACE_OLD>", "delivery", "unit", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<KEEP>", "get", "content", "delivery", "unit", "(", ")", "{", "return", "content", "delivery", "unit", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> org <REPLACE_NEW> content handler <REPLACE_END> <DELETE> milyn . delivery . content delivery unit . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "org", "<REPLACE_NEW>", "content", "handler", "<REPLACE_END>", "<DELETE>", "milyn", ".", "delivery", ".", "content", "delivery", "unit", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "content", "<REPLACE_OLD>", "delivery", "<REPLACE_OLD>", "unit", "<REPLACE_NEW>", "handler", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "delivery", "<KEEP>", "unit", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "content", "<KEEP>", "delivery", "<KEEP>", "unit", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9085900565722695, "using": 1, "keep": 1}
{"id": "jenkinsci_java-client-api-11-5660", "old_comment": "the jenkins version .", "old_comment_tokens": ["the", "jenkins", "version", "."], "new_comment": "jenkins version", "new_comment_tokens": ["jenkins", "version"], "old_code": "public string get version ( ) { if ( client . get jenkins version ( ) . is empty ( ) ) { is running ( ) ; } return client . get jenkins version ( ) ; }", "old_code_tokens": ["public", "string", "get", "version", "(", ")", "{", "if", "(", "client", ".", "get", "jenkins", "version", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "is", "running", "(", ")", ";", "}", "return", "client", ".", "get", "jenkins", "version", "(", ")", ";", "}"], "new_code": "public jenkins version get version ( ) { if ( client . get jenkins version ( ) . is empty ( ) ) { is running ( ) ; } jenkins version jv = new jenkins version ( client . get jenkins version ( ) ) ; return jv ; }", "new_code_tokens": ["public", "jenkins", "version", "get", "version", "(", ")", "{", "if", "(", "client", ".", "get", "jenkins", "version", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "is", "running", "(", ")", ";", "}", "jenkins", "version", "jv", "=", "new", "jenkins", "version", "(", "client", ".", "get", "jenkins", "version", "(", ")", ")", ";", "return", "jv", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> jenkins version <REPLACE_END> <KEEP> get version ( ) { if ( client . get jenkins version ( ) . is empty ( ) ) { is running ( ) ; } <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> jenkins version jv = new jenkins version ( <REPLACE_END> <KEEP> client . get jenkins version ( ) <KEEP_END> <INSERT> ) ; return jv <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "jenkins", "version", "<REPLACE_END>", "<KEEP>", "get", "version", "(", ")", "{", "if", "(", "client", ".", "get", "jenkins", "version", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "is", "running", "(", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "jenkins", "version", "jv", "=", "new", "jenkins", "version", "(", "<REPLACE_END>", "<KEEP>", "client", ".", "get", "jenkins", "version", "(", ")", "<KEEP_END>", "<INSERT>", ")", ";", "return", "jv", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> the <DELETE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "<DELETE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "jenkins", "<REPLACE_NEW>", "version", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jenkins", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "is", "<KEEP>", "running", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "jenkins", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", "jv", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "jenkins", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", "(", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jenkins", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "jv", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8370303144824605, "using": 0, "keep": 1}
{"id": "simplegeo_simplegeo-java-client-0-5638", "old_comment": "the instance of com . simplegeo . client . http . simple geo handler that is associated with the type", "old_comment_tokens": ["the", "instance", "of", "com", ".", "simplegeo", ".", "client", ".", "http", ".", "simple", "geo", "handler", "that", "is", "associated", "with", "the", "type"], "new_comment": "the instance of com . simplegeo . client . handler . simple geo jsonhandler ifc that is associated with the type", "new_comment_tokens": ["the", "instance", "of", "com", ".", "simplegeo", ".", "client", ".", "handler", ".", "simple", "geo", "jsonhandler", "ifc", "that", "is", "associated", "with", "the", "type"], "old_code": "public simple geo handler get handler ( handler type ) { simple geo handler handler = null ; switch ( type ) { case geojson : handler = geo jsonhandler ; break ; case record : handler = record handler ; break ; case json : handler = json handler ; break ; default : break ; } return handler ; }", "old_code_tokens": ["public", "simple", "geo", "handler", "get", "handler", "(", "handler", "type", ")", "{", "simple", "geo", "handler", "handler", "=", "null", ";", "switch", "(", "type", ")", "{", "case", "geojson", ":", "handler", "=", "geo", "jsonhandler", ";", "break", ";", "case", "record", ":", "handler", "=", "record", "handler", ";", "break", ";", "case", "json", ":", "handler", "=", "json", "handler", ";", "break", ";", "default", ":", "break", ";", "}", "return", "handler", ";", "}"], "new_code": "public simple geo jsonhandler ifc get handler ( handler type ) { simple geo jsonhandler ifc handler = null ; switch ( type ) { case geojson : handler = geo jsonhandler ; break ; case record : handler = record handler ; break ; case json : handler = json handler ; break ; default : break ; } return handler ; }", "new_code_tokens": ["public", "simple", "geo", "jsonhandler", "ifc", "get", "handler", "(", "handler", "type", ")", "{", "simple", "geo", "jsonhandler", "ifc", "handler", "=", "null", ";", "switch", "(", "type", ")", "{", "case", "geojson", ":", "handler", "=", "geo", "jsonhandler", ";", "break", ";", "case", "record", ":", "handler", "=", "record", "handler", ";", "break", ";", "case", "json", ":", "handler", "=", "json", "handler", ";", "break", ";", "default", ":", "break", ";", "}", "return", "handler", ";", "}"], "span_diff_code": "<KEEP> public simple geo <KEEP_END> <REPLACE_OLD> handler <REPLACE_NEW> jsonhandler ifc <REPLACE_END> <KEEP> get handler ( handler type ) { simple geo <KEEP_END> <REPLACE_OLD> handler <REPLACE_NEW> jsonhandler ifc <REPLACE_END> <KEEP> handler = null ; switch ( type ) { case geojson : handler = geo jsonhandler ; break ; case record : handler = record handler ; break ; case json : handler = json handler ; break ; default : break ; } return handler ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "simple", "geo", "<KEEP_END>", "<REPLACE_OLD>", "handler", "<REPLACE_NEW>", "jsonhandler", "ifc", "<REPLACE_END>", "<KEEP>", "get", "handler", "(", "handler", "type", ")", "{", "simple", "geo", "<KEEP_END>", "<REPLACE_OLD>", "handler", "<REPLACE_NEW>", "jsonhandler", "ifc", "<REPLACE_END>", "<KEEP>", "handler", "=", "null", ";", "switch", "(", "type", ")", "{", "case", "geojson", ":", "handler", "=", "geo", "jsonhandler", ";", "break", ";", "case", "record", ":", "handler", "=", "record", "handler", ";", "break", ";", "case", "json", ":", "handler", "=", "json", "handler", ";", "break", ";", "default", ":", "break", ";", "}", "return", "handler", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> http <REPLACE_NEW> handler <REPLACE_END> <REPLACE_OLD> handler <REPLACE_NEW> jsonhandler ifc <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "http", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<REPLACE_OLD>", "handler", "<REPLACE_NEW>", "jsonhandler", "ifc", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "simple", "<KEEP>", "geo", "<REPLACE_OLD>", "handler", "<REPLACE_NEW>", "jsonhandler", "<REPLACE_NEW>", "ifc", "<KEEP>", "get", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "simple", "<KEEP>", "geo", "<REPLACE_OLD>", "handler", "<REPLACE_NEW>", "jsonhandler", "<REPLACE_NEW>", "ifc", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "geojson", "<KEEP>", ":", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "geo", "<KEEP>", "jsonhandler", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "record", "<KEEP>", ":", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "record", "<KEEP>", "handler", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "json", "<KEEP>", ":", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "json", "<KEEP>", "handler", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "handler", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9055406899795817, "using": 1, "keep": 1}
{"id": "toddlipcon_hadoop-167-4020", "old_comment": "list of files to compact", "old_comment_tokens": ["list", "of", "files", "to", "compact"], "new_comment": "list of files to compact sorted so most recent comes first .", "new_comment_tokens": ["list", "of", "files", "to", "compact", "sorted", "so", "most", "recent", "comes", "first", "."], "old_code": "private vector < hstore file > get files to compact ( ) { vector < hstore file > to compact files = null ; this . lock . obtain write lock ( ) ; try { to compact files = new vector < hstore file > ( storefiles . values ( ) ) ; } finally { this . lock . release write lock ( ) ; } return to compact files ; }", "old_code_tokens": ["private", "vector", "<", "hstore", "file", ">", "get", "files", "to", "compact", "(", ")", "{", "vector", "<", "hstore", "file", ">", "to", "compact", "files", "=", "null", ";", "this", ".", "lock", ".", "obtain", "write", "lock", "(", ")", ";", "try", "{", "to", "compact", "files", "=", "new", "vector", "<", "hstore", "file", ">", "(", "storefiles", ".", "values", "(", ")", ")", ";", "}", "finally", "{", "this", ".", "lock", ".", "release", "write", "lock", "(", ")", ";", "}", "return", "to", "compact", "files", ";", "}"], "new_code": "private list < hstore file > get files to compact ( ) { list < hstore file > files to compact = null ; this . lock . obtain write lock ( ) ; try { files to compact = new array list < hstore file > ( this . storefiles . values ( ) ) ; collections . reverse ( files to compact ) ; } finally { this . lock . release write lock ( ) ; } return files to compact ; }", "new_code_tokens": ["private", "list", "<", "hstore", "file", ">", "get", "files", "to", "compact", "(", ")", "{", "list", "<", "hstore", "file", ">", "files", "to", "compact", "=", "null", ";", "this", ".", "lock", ".", "obtain", "write", "lock", "(", ")", ";", "try", "{", "files", "to", "compact", "=", "new", "array", "list", "<", "hstore", "file", ">", "(", "this", ".", "storefiles", ".", "values", "(", ")", ")", ";", "collections", ".", "reverse", "(", "files", "to", "compact", ")", ";", "}", "finally", "{", "this", ".", "lock", ".", "release", "write", "lock", "(", ")", ";", "}", "return", "files", "to", "compact", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> < hstore file > get files to compact ( ) { <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> < hstore file > <KEEP_END> <INSERT> files <INSERT_END> <KEEP> to compact <KEEP_END> <DELETE> files <DELETE_END> <KEEP> = null ; this . lock . obtain write lock ( ) ; try { <KEEP_END> <INSERT> files <INSERT_END> <KEEP> to compact <KEEP_END> <DELETE> files <DELETE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> array list <REPLACE_END> <KEEP> < hstore file > ( <KEEP_END> <INSERT> this . <INSERT_END> <KEEP> storefiles . values ( ) <KEEP_END> <INSERT> ) ; collections . reverse ( files to compact <INSERT_END> <KEEP> ) ; } finally { this . lock . release write lock ( ) ; } return <KEEP_END> <INSERT> files <INSERT_END> <KEEP> to compact <KEEP_END> <DELETE> files <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "hstore", "file", ">", "get", "files", "to", "compact", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "hstore", "file", ">", "<KEEP_END>", "<INSERT>", "files", "<INSERT_END>", "<KEEP>", "to", "compact", "<KEEP_END>", "<DELETE>", "files", "<DELETE_END>", "<KEEP>", "=", "null", ";", "this", ".", "lock", ".", "obtain", "write", "lock", "(", ")", ";", "try", "{", "<KEEP_END>", "<INSERT>", "files", "<INSERT_END>", "<KEEP>", "to", "compact", "<KEEP_END>", "<DELETE>", "files", "<DELETE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "<", "hstore", "file", ">", "(", "<KEEP_END>", "<INSERT>", "this", ".", "<INSERT_END>", "<KEEP>", "storefiles", ".", "values", "(", ")", "<KEEP_END>", "<INSERT>", ")", ";", "collections", ".", "reverse", "(", "files", "to", "compact", "<INSERT_END>", "<KEEP>", ")", ";", "}", "finally", "{", "this", ".", "lock", ".", "release", "write", "lock", "(", ")", ";", "}", "return", "<KEEP_END>", "<INSERT>", "files", "<INSERT_END>", "<KEEP>", "to", "compact", "<KEEP_END>", "<DELETE>", "files", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> compact <INSERT_NEW_KEEP_BEFORE> compact sorted so most recent comes first . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "compact", "<INSERT_NEW_KEEP_BEFORE>", "compact", "sorted", "so", "most", "recent", "comes", "first", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "hstore", "<KEEP>", "file", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "files", "<KEEP>", "to", "<KEEP>", "compact", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "hstore", "<KEEP>", "file", "<KEEP>", ">", "<INSERT>", "files", "<KEEP>", "to", "<KEEP>", "compact", "<DELETE>", "files", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "lock", "<KEEP>", ".", "<KEEP>", "obtain", "<KEEP>", "write", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<INSERT>", "files", "<KEEP>", "to", "<KEEP>", "compact", "<DELETE>", "files", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "hstore", "<KEEP>", "file", "<KEEP>", ">", "<KEEP>", "(", "<INSERT>", "this", "<INSERT>", ".", "<KEEP>", "storefiles", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "reverse", "<INSERT>", "(", "<INSERT>", "files", "<INSERT>", "to", "<INSERT>", "compact", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "lock", "<KEEP>", ".", "<KEEP>", "release", "<KEEP>", "write", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "files", "<KEEP>", "to", "<KEEP>", "compact", "<DELETE>", "files", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7882326611370936, "using": 1, "keep": 1}
{"id": "rektide_jstyx-8-6502", "old_comment": "the number of bytes returned in the message", "old_comment_tokens": ["the", "number", "of", "bytes", "returned", "in", "the", "message"], "new_comment": "the number of bytes returned in the message ( i . e . the payload size )", "new_comment_tokens": ["the", "number", "of", "bytes", "returned", "in", "the", "message", "(", "i", ".", "e", ".", "the", "payload", "size", ")"], "old_code": "public long get count ( ) { return this . count ; }", "old_code_tokens": ["public", "long", "get", "count", "(", ")", "{", "return", "this", ".", "count", ";", "}"], "new_code": "public int get count ( ) { return this . count ; }", "new_code_tokens": ["public", "int", "get", "count", "(", ")", "{", "return", "this", ".", "count", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> int <REPLACE_END> <KEEP> get count ( ) { return this . count ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "count", "(", ")", "{", "return", "this", ".", "count", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> message <INSERT_NEW_KEEP_BEFORE> message ( i . e . the payload size ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "message", "<INSERT_NEW_KEEP_BEFORE>", "message", "(", "i", ".", "e", ".", "the", "payload", "size", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "count", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8924671818246502, "using": 1, "keep": 1}
{"id": "android_platform_frameworks_support-449-6557", "old_comment": "lifecycle provider for the whole application .", "old_comment_tokens": ["lifecycle", "provider", "for", "the", "whole", "application", "."], "new_comment": "lifecycle owner for the whole application .", "new_comment_tokens": ["lifecycle", "owner", "for", "the", "whole", "application", "."], "old_code": "public static lifecycle provider get ( ) { return s instance ; }", "old_code_tokens": ["public", "static", "lifecycle", "provider", "get", "(", ")", "{", "return", "s", "instance", ";", "}"], "new_code": "public static lifecycle owner get ( ) { return s instance ; }", "new_code_tokens": ["public", "static", "lifecycle", "owner", "get", "(", ")", "{", "return", "s", "instance", ";", "}"], "span_diff_code": "<KEEP> public static lifecycle <KEEP_END> <REPLACE_OLD> provider <REPLACE_NEW> owner <REPLACE_END> <KEEP> get ( ) { return s instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "lifecycle", "<KEEP_END>", "<REPLACE_OLD>", "provider", "<REPLACE_NEW>", "owner", "<REPLACE_END>", "<KEEP>", "get", "(", ")", "{", "return", "s", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> provider <REPLACE_NEW> owner <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "provider", "<REPLACE_NEW>", "owner", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "lifecycle", "<REPLACE_OLD>", "provider", "<REPLACE_NEW>", "owner", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "s", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9858692720034404, "using": 2, "keep": 1}
{"id": "akutz_nvn-1-6821", "old_comment": "the project ' s build configurations .", "old_comment_tokens": ["the", "project", "'", "s", "build", "configurations", "."], "new_comment": "the project ' s build configurations indexed by name .", "new_comment_tokens": ["the", "project", "'", "s", "build", "configurations", "indexed", "by", "name", "."], "old_code": "public build configuration [ ] get build configurations ( ) { return this . build configurations ; }", "old_code_tokens": ["public", "build", "configuration", "[", "]", "get", "build", "configurations", "(", ")", "{", "return", "this", ".", "build", "configurations", ";", "}"], "new_code": "public map < string , build configuration > get build configurations ( ) { return this . build configurations ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "build", "configuration", ">", "get", "build", "configurations", "(", ")", "{", "return", "this", ".", "build", "configurations", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> map < string , <INSERT_END> <KEEP> build configuration <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> > <REPLACE_END> <KEEP> get build configurations ( ) { return this . build configurations ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "map", "<", "string", ",", "<INSERT_END>", "<KEEP>", "build", "configuration", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "get", "build", "configurations", "(", ")", "{", "return", "this", ".", "build", "configurations", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> configurations <INSERT_NEW_KEEP_BEFORE> configurations indexed by name <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "configurations", "<INSERT_NEW_KEEP_BEFORE>", "configurations", "indexed", "by", "name", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "build", "<KEEP>", "configuration", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "build", "<KEEP>", "configurations", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "configurations", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7872642079781887, "using": 1, "keep": 1}
{"id": "Angel-ML_angel-3-1284", "old_comment": "partition updater param the partition parameter of the update udf", "old_comment_tokens": ["partition", "updater", "param", "the", "partition", "parameter", "of", "the", "update", "udf"], "new_comment": "partition update param the partition parameter of the update udf", "new_comment_tokens": ["partition", "update", "param", "the", "partition", "parameter", "of", "the", "update", "udf"], "old_code": "public partition updater param get part param ( ) { return part param ; }", "old_code_tokens": ["public", "partition", "updater", "param", "get", "part", "param", "(", ")", "{", "return", "part", "param", ";", "}"], "new_code": "public partition update param get part param ( ) { return part param ; }", "new_code_tokens": ["public", "partition", "update", "param", "get", "part", "param", "(", ")", "{", "return", "part", "param", ";", "}"], "span_diff_code": "<KEEP> public partition <KEEP_END> <REPLACE_OLD> updater <REPLACE_NEW> update <REPLACE_END> <KEEP> param get part param ( ) { return part param ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "partition", "<KEEP_END>", "<REPLACE_OLD>", "updater", "<REPLACE_NEW>", "update", "<REPLACE_END>", "<KEEP>", "param", "get", "part", "param", "(", ")", "{", "return", "part", "param", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> updater <REPLACE_NEW> update <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "updater", "<REPLACE_NEW>", "update", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "partition", "<REPLACE_OLD>", "updater", "<REPLACE_NEW>", "update", "<KEEP>", "param", "<KEEP>", "get", "<KEEP>", "part", "<KEEP>", "param", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "part", "<KEEP>", "param", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9978931632958439, "using": 2, "keep": 1}
{"id": "apache_manifoldcf-integration-solr-4.x-58-3774", "old_comment": "a list of fields defined in this document", "old_comment_tokens": ["a", "list", "of", "fields", "defined", "in", "this", "document"], "new_comment": "a list of field names defined in this document - this collection is directly backed by this solr document .", "new_comment_tokens": ["a", "list", "of", "field", "names", "defined", "in", "this", "document", "-", "this", "collection", "is", "directly", "backed", "by", "this", "solr", "document", "."], "old_code": "public collection < string > get field names ( ) { return _ fields . key set ( ) ; }", "old_code_tokens": ["public", "collection", "<", "string", ">", "get", "field", "names", "(", ")", "{", "return", "_", "fields", ".", "key", "set", "(", ")", ";", "}"], "new_code": "public collection < string > get field names ( ) { return this . key set ( ) ; }", "new_code_tokens": ["public", "collection", "<", "string", ">", "get", "field", "names", "(", ")", "{", "return", "this", ".", "key", "set", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public collection < string > get field names ( ) { return <KEEP_END> <REPLACE_OLD> _ fields <REPLACE_NEW> this <REPLACE_END> <KEEP> . key set ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "collection", "<", "string", ">", "get", "field", "names", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "_", "fields", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ".", "key", "set", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> fields <REPLACE_NEW> field names <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> document <INSERT_NEW_KEEP_BEFORE> document - this collection is directly backed by this solr document . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "fields", "<REPLACE_NEW>", "field", "names", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "document", "<INSERT_NEW_KEEP_BEFORE>", "document", "-", "this", "collection", "is", "directly", "backed", "by", "this", "solr", "document", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "field", "<KEEP>", "names", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "fields", "<REPLACE_NEW>", "this", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8861194698360518, "using": 1, "keep": 1}
{"id": "grpc_grpc-java-3-3529", "old_comment": "the parsed metadata entry or null if not defined", "old_comment_tokens": ["the", "parsed", "metadata", "entry", "or", "null", "if", "not", "defined"], "new_comment": "the parsed metadata entry or null if there are none .", "new_comment_tokens": ["the", "parsed", "metadata", "entry", "or", "null", "if", "there", "are", "none", "."], "old_code": "public < t > t get ( key < t > key ) { metadata entry metadata entry = iterables . get last ( store . get ( key . name ( ) ) ) ; return metadata entry = = null ? null : metadata entry . get parsed ( key ) ; }", "old_code_tokens": ["public", "<", "t", ">", "t", "get", "(", "key", "<", "t", ">", "key", ")", "{", "metadata", "entry", "metadata", "entry", "=", "iterables", ".", "get", "last", "(", "store", ".", "get", "(", "key", ".", "name", "(", ")", ")", ")", ";", "return", "metadata", "entry", "=", "=", "null", "?", "null", ":", "metadata", "entry", ".", "get", "parsed", "(", "key", ")", ";", "}"], "new_code": "public < t > t get ( key < t > key ) { if ( contains key ( key ) ) { metadata entry metadata entry = iterables . get last ( store . get ( key . name ( ) ) ) ; return metadata entry . get parsed ( key ) ; } return null ; }", "new_code_tokens": ["public", "<", "t", ">", "t", "get", "(", "key", "<", "t", ">", "key", ")", "{", "if", "(", "contains", "key", "(", "key", ")", ")", "{", "metadata", "entry", "metadata", "entry", "=", "iterables", ".", "get", "last", "(", "store", ".", "get", "(", "key", ".", "name", "(", ")", ")", ")", ";", "return", "metadata", "entry", ".", "get", "parsed", "(", "key", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public < t > t get ( key < t > key <KEEP_END> <INSERT> ) { if ( contains key ( key ) <INSERT_END> <KEEP> ) { metadata entry metadata entry = iterables . get last ( store . get ( key . name ( ) ) ) ; return metadata entry <KEEP_END> <DELETE> = = null ? null : metadata entry <DELETE_END> <KEEP> . get parsed ( key ) ; } <KEEP_END> <INSERT> return null ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<", "t", ">", "t", "get", "(", "key", "<", "t", ">", "key", "<KEEP_END>", "<INSERT>", ")", "{", "if", "(", "contains", "key", "(", "key", ")", "<INSERT_END>", "<KEEP>", ")", "{", "metadata", "entry", "metadata", "entry", "=", "iterables", ".", "get", "last", "(", "store", ".", "get", "(", "key", ".", "name", "(", ")", ")", ")", ";", "return", "metadata", "entry", "<KEEP_END>", "<DELETE>", "=", "=", "null", "?", "null", ":", "metadata", "entry", "<DELETE_END>", "<KEEP>", ".", "get", "parsed", "(", "key", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "null", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> not defined <REPLACE_NEW> there are none . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "not", "defined", "<REPLACE_NEW>", "there", "are", "none", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "t", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "key", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "contains", "<INSERT>", "key", "<INSERT>", "(", "<INSERT>", "key", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "metadata", "<KEEP>", "entry", "<KEEP>", "metadata", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "iterables", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "last", "<KEEP>", "(", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "metadata", "<KEEP>", "entry", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "?", "<DELETE>", "null", "<DELETE>", ":", "<DELETE>", "metadata", "<DELETE>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parsed", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}"], "split": "valid", "score": 0.8240253163920532, "using": 0, "keep": 1}
{"id": "eclipse_milo-7-7210", "old_comment": "a nonce of the appropriate length for the given algorithm .", "old_comment_tokens": ["a", "nonce", "of", "the", "appropriate", "length", "for", "the", "given", "algorithm", "."], "new_comment": "a nonce of the appropriate length for the given security policy .", "new_comment_tokens": ["a", "nonce", "of", "the", "appropriate", "length", "for", "the", "given", "security", "policy", "."], "old_code": "public static byte string generate nonce ( security algorithm algorithm ) { return generate nonce ( get nonce length ( algorithm ) ) ; }", "old_code_tokens": ["public", "static", "byte", "string", "generate", "nonce", "(", "security", "algorithm", "algorithm", ")", "{", "return", "generate", "nonce", "(", "get", "nonce", "length", "(", "algorithm", ")", ")", ";", "}"], "new_code": "public static byte string generate nonce ( security policy security policy ) { return generate nonce ( get nonce length ( security policy ) ) ; }", "new_code_tokens": ["public", "static", "byte", "string", "generate", "nonce", "(", "security", "policy", "security", "policy", ")", "{", "return", "generate", "nonce", "(", "get", "nonce", "length", "(", "security", "policy", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static byte string generate nonce ( security <KEEP_END> <REPLACE_OLD> algorithm algorithm <REPLACE_NEW> policy security policy <REPLACE_END> <KEEP> ) { return generate nonce ( get nonce length ( <KEEP_END> <REPLACE_OLD> algorithm <REPLACE_NEW> security policy <REPLACE_END> <KEEP> ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "byte", "string", "generate", "nonce", "(", "security", "<KEEP_END>", "<REPLACE_OLD>", "algorithm", "algorithm", "<REPLACE_NEW>", "policy", "security", "policy", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "generate", "nonce", "(", "get", "nonce", "length", "(", "<KEEP_END>", "<REPLACE_OLD>", "algorithm", "<REPLACE_NEW>", "security", "policy", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> algorithm <REPLACE_NEW> security policy <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "algorithm", "<REPLACE_NEW>", "security", "policy", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", "generate", "<KEEP>", "nonce", "<KEEP>", "(", "<KEEP>", "security", "<REPLACE_OLD>", "algorithm", "<REPLACE_OLD>", "algorithm", "<REPLACE_NEW>", "policy", "<REPLACE_NEW>", "security", "<REPLACE_NEW>", "policy", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "generate", "<KEEP>", "nonce", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "nonce", "<KEEP>", "length", "<KEEP>", "(", "<REPLACE_OLD>", "algorithm", "<REPLACE_NEW>", "security", "<REPLACE_NEW>", "policy", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9852453499155865, "using": 2, "keep": 1}
{"id": "pockethub_PocketHub-5-572", "old_comment": "repository or null if unparseable", "old_comment_tokens": ["repository", "or", "null", "if", "unparseable"], "new_comment": "repo or null if unparseable", "new_comment_tokens": ["repo", "or", "null", "if", "unparseable"], "old_code": "public static repository get repository ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; repository repository = new repository ( ) ; repository . set name ( repo name ) ; repository . set owner ( new user ( ) . set login ( repo owner ) ) ; return repository ; }", "old_code_tokens": ["public", "static", "repository", "get", "repository", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "repository", "repository", "=", "new", "repository", "(", ")", ";", "repository", ".", "set", "name", "(", "repo", "name", ")", ";", "repository", ".", "set", "owner", "(", "new", "user", "(", ")", ".", "set", "login", "(", "repo", "owner", ")", ")", ";", "return", "repository", ";", "}"], "new_code": "public static repo get repository ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; repo repository = new repo ( ) ; user owner = new user ( ) ; owner . login = repo owner ; repository . name = repo name ; repository . owner = owner ; return repository ; }", "new_code_tokens": ["public", "static", "repo", "get", "repository", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "repo", "repository", "=", "new", "repo", "(", ")", ";", "user", "owner", "=", "new", "user", "(", ")", ";", "owner", ".", "login", "=", "repo", "owner", ";", "repository", ".", "name", "=", "repo", "name", ";", "repository", ".", "owner", "=", "owner", ";", "return", "repository", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> repository <REPLACE_NEW> repo <REPLACE_END> <KEEP> get repository ( uri uri ) { list < string > segments = uri . get path segments ( ) ; if ( segments = = null ) return null ; if ( segments . size ( ) < num ) return null ; string repo owner = segments . get ( num ) ; if ( ! repository utils . is valid owner ( repo owner ) ) return null ; string repo name = segments . get ( num ) ; if ( ! repository utils . is valid repo ( repo name ) ) return null ; <KEEP_END> <REPLACE_OLD> repository <REPLACE_NEW> repo <REPLACE_END> <KEEP> repository = new <KEEP_END> <REPLACE_OLD> repository <REPLACE_NEW> repo <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <REPLACE_OLD> repository . set name ( repo name ) ; repository . set <REPLACE_NEW> user <REPLACE_END> <KEEP> owner <KEEP_END> <REPLACE_OLD> ( <REPLACE_NEW> = <REPLACE_END> <KEEP> new user ( ) <KEEP_END> <INSERT> ; owner <INSERT_END> <KEEP> . <KEEP_END> <DELETE> set <DELETE_END> <KEEP> login <KEEP_END> <REPLACE_OLD> ( <REPLACE_NEW> = <REPLACE_END> <KEEP> repo owner <KEEP_END> <REPLACE_OLD> ) ) <REPLACE_NEW> ; repository . name = repo name ; repository . owner = owner <REPLACE_END> <KEEP> ; return repository ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "get", "repository", "(", "uri", "uri", ")", "{", "list", "<", "string", ">", "segments", "=", "uri", ".", "get", "path", "segments", "(", ")", ";", "if", "(", "segments", "=", "=", "null", ")", "return", "null", ";", "if", "(", "segments", ".", "size", "(", ")", "<", "num", ")", "return", "null", ";", "string", "repo", "owner", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "owner", "(", "repo", "owner", ")", ")", "return", "null", ";", "string", "repo", "name", "=", "segments", ".", "get", "(", "num", ")", ";", "if", "(", "!", "repository", "utils", ".", "is", "valid", "repo", "(", "repo", "name", ")", ")", "return", "null", ";", "<KEEP_END>", "<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "repository", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "repository", ".", "set", "name", "(", "repo", "name", ")", ";", "repository", ".", "set", "<REPLACE_NEW>", "user", "<REPLACE_END>", "<KEEP>", "owner", "<KEEP_END>", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "new", "user", "(", ")", "<KEEP_END>", "<INSERT>", ";", "owner", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<DELETE>", "set", "<DELETE_END>", "<KEEP>", "login", "<KEEP_END>", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "repo", "owner", "<KEEP_END>", "<REPLACE_OLD>", ")", ")", "<REPLACE_NEW>", ";", "repository", ".", "name", "=", "repo", "name", ";", "repository", ".", "owner", "=", "owner", "<REPLACE_END>", "<KEEP>", ";", "return", "repository", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> repository <REPLACE_NEW> repo <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<KEEP>", "get", "<KEEP>", "repository", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "segments", "<KEEP>", "=", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "segments", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "repo", "<KEEP>", "owner", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "repository", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", "repo", "<KEEP>", "owner", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "repo", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "segments", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "repository", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "repo", "<KEEP>", "(", "<KEEP>", "repo", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<KEEP>", "repository", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "repository", "<REPLACE_NEW>", "repo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "repository", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "repo", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "repository", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "user", "<KEEP>", "owner", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "=", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "owner", "<KEEP>", ".", "<DELETE>", "set", "<KEEP>", "login", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "=", "<KEEP>", "repo", "<KEEP>", "owner", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "repository", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "repo", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "repository", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "owner", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "owner", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "repository", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9892812138124979, "using": 2, "keep": 1}
{"id": "bitcoinj_bitcoinj-70-3632", "old_comment": "either the total fee paid ( assuming all existing inputs had a connected output ) or null if we cannot afford the transaction .", "old_comment_tokens": ["either", "the", "total", "fee", "paid", "(", "assuming", "all", "existing", "inputs", "had", "a", "connected", "output", ")", "or", "null", "if", "we", "cannot", "afford", "the", "transaction", "."], "new_comment": "whether or not the requested send is affordable .", "new_comment_tokens": ["whether", "or", "not", "the", "requested", "send", "is", "affordable", "."], "old_code": "public big integer complete tx ( send request req ) { lock . lock ( ) ; try { preconditions . check argument ( ! req . completed , str ) ; big integer value = big integer . zero ; for ( transaction output output : req . tx . get outputs ( ) ) { value = value . add ( output . get value ( ) ) ; } big integer total output = value ; log . info ( str , req . tx . get outputs ( ) . size ( ) , bitcoin value to friendly string ( value ) ) ; big integer total input = big integer . zero ; for ( transaction input input : req . tx . get inputs ( ) ) if ( input . get connected output ( ) ! = null ) total input = total input . add ( input . get connected output ( ) . get value ( ) ) ; else log . warn ( str ) ; value = value . subtract ( total input ) ; list < transaction input > original inputs = new array list < transaction input > ( req . tx . get inputs ( ) ) ; boolean need at least reference fee = false ; if ( req . ensure min required fee ) { for ( transaction output output : req . tx . get outputs ( ) ) if ( output . get value ( ) . compare to ( utils . cent ) < num ) { need at least reference fee = true ; break ; } } linked list < transaction output > candidates = calculate spend candidates ( true ) ; address change address = req . change address ; int min size = num ; big integer additional value for next category = null ; coin selection selection3 = null ; coin selection selection2 = null ; transaction output selection2 change = null ; coin selection selection1 = null ; transaction output selection1 change = null ; while ( true ) { req . tx . clear inputs ( ) ; for ( transaction input input : original inputs ) req . tx . add input ( input ) ; big integer fees = req . fee . add ( big integer . value of ( min size / num ) . multiply ( req . fee per kb ) ) ; if ( need at least reference fee & & fees . compare to ( transaction . reference _ default _ min _ tx _ fee ) < num ) fees = transaction . reference _ default _ min _ tx _ fee ; big integer value needed = value . add ( fees ) ; if ( additional value for next category ! = null ) value needed = value needed . add ( additional value for next category ) ; big integer additional value selected = additional value for next category ; coin selection selection = coin selector . select ( value needed , candidates ) ; if ( selection . value gathered . compare to ( value needed ) < num ) break ; check state ( selection . gathered . size ( ) > num | | original inputs . size ( ) > num ) ; int size = num ; boolean either category2 or3 = false ; boolean is category3 = false ; big integer change = selection . value gathered . subtract ( value needed ) ; if ( additional value selected ! = null ) change = change . add ( additional value selected ) ; transaction output change output = null ; if ( req . ensure min required fee & & ! change . equals ( big integer . zero ) & & change . compare to ( utils . cent ) < num & & fees . compare to ( transaction . reference _ default _ min _ tx _ fee ) < num ) { either category2 or3 = true ; additional value for next category = utils . cent ; change = change . subtract ( transaction . reference _ default _ min _ tx _ fee . subtract ( fees ) ) ; } if ( change . compare to ( big integer . zero ) > num ) { if ( change address = = null ) change address = get change address ( ) ; change output = new transaction output ( params , req . tx , change , change address ) ; if ( req . ensure min required fee & & transaction . min _ nondust _ output . compare to ( change ) > = num ) { is category3 = true ; additional value for next category = transaction . reference _ default _ min _ tx _ fee . add ( transaction . min _ nondust _ output . add ( big integer . one ) ) ; } else { size + = change output . bitcoin serialize ( ) . length + var int . size of ( req . tx . get outputs ( ) . size ( ) ) - var int . size of ( req . tx . get outputs ( ) . size ( ) - num ) ; if ( ! either category2 or3 ) additional value for next category = null ; } } else { if ( either category2 or3 ) { is category3 = true ; additional value for next category = transaction . reference _ default _ min _ tx _ fee . add ( big integer . one ) ; } } for ( transaction output output : selection . gathered ) { req . tx . add input ( output ) ; check state ( req . tx . get input ( req . tx . get inputs ( ) . size ( ) - num ) . get script bytes ( ) . length = = num ) ; try { if ( output . get script pub key ( ) . is sent to address ( ) ) { size + = this . find key from pub hash ( output . get script pub key ( ) . get pub key hash ( ) ) . get pub key ( ) . length + num ; } else if ( output . get script pub key ( ) . is sent to raw pub key ( ) ) size + = num ; else throw new runtime exception ( str ) ; } catch ( script exception e ) { throw new runtime exception ( e ) ; } } size + = req . tx . bitcoin serialize ( ) . length ; if ( size / num > min size / num & & req . fee per kb . compare to ( big integer . zero ) > num ) { min size = size ; additional value for next category = additional value selected ; continue ; } if ( is category3 ) { if ( selection3 = = null ) selection3 = selection ; } else if ( either category2 or3 ) { check state ( selection2 = = null ) ; check state ( additional value for next category . equals ( utils . cent ) ) ; selection2 = selection ; selection2 change = check not null ( change output ) ; } else { check state ( selection1 = = null ) ; check state ( additional value for next category = = null ) ; selection1 = selection ; selection1 change = change output ; } if ( additional value for next category ! = null ) { if ( additional value selected ! = null ) check state ( additional value for next category . compare to ( additional value selected ) > num ) ; continue ; } break ; } req . tx . clear inputs ( ) ; for ( transaction input input : original inputs ) req . tx . add input ( input ) ; if ( selection3 = = null & & selection2 = = null & & selection1 = = null ) { log . warn ( str ) ; return null ; } big integer lowest fee = null ; coin selection best coin selection = null ; transaction output best change output = null ; if ( selection1 ! = null ) { if ( selection1 change ! = null ) lowest fee = selection1 . value gathered . subtract ( selection1 change . get value ( ) ) ; else lowest fee = selection1 . value gathered ; best coin selection = selection1 ; best change output = selection1 change ; } if ( selection2 ! = null ) { big integer fee = selection2 . value gathered . subtract ( check not null ( selection2 change ) . get value ( ) ) ; if ( lowest fee = = null | | fee . compare to ( lowest fee ) < num ) { lowest fee = fee ; best coin selection = selection2 ; best change output = selection2 change ; } } if ( selection3 ! = null ) { if ( lowest fee = = null | | selection3 . value gathered . compare to ( lowest fee ) < num ) { best coin selection = selection3 ; best change output = null ; } } for ( transaction output output : best coin selection . gathered ) req . tx . add input ( output ) ; total input = total input . add ( best coin selection . value gathered ) ; req . tx . get confidence ( ) . set confidence type ( confidence type . pending ) ; if ( best change output ! = null ) { req . tx . add output ( best change output ) ; total output = total output . add ( best change output . get value ( ) ) ; log . info ( str , bitcoin value to friendly string ( best change output . get value ( ) ) ) ; } try { req . tx . sign inputs ( transaction . sig hash . all , this , req . aes key ) ; } catch ( script exception e ) { throw new runtime exception ( e ) ; } int size = req . tx . bitcoin serialize ( ) . length ; if ( size > transaction . max _ standard _ tx _ size ) { log . error ( str , size , transaction . max _ standard _ tx _ size ) ; return null ; } req . tx . get confidence ( ) . set source ( transaction confidence . source . self ) ; req . completed = true ; log . info ( str , req . tx . get hash as string ( ) , req . tx . get inputs ( ) . size ( ) ) ; return total input . subtract ( total output ) ; } finally { lock . unlock ( ) ; } }", "old_code_tokens": ["public", "big", "integer", "complete", "tx", "(", "send", "request", "req", ")", "{", "lock", ".", "lock", "(", ")", ";", "try", "{", "preconditions", ".", "check", "argument", "(", "!", "req", ".", "completed", ",", "str", ")", ";", "big", "integer", "value", "=", "big", "integer", ".", "zero", ";", "for", "(", "transaction", "output", "output", ":", "req", ".", "tx", ".", "get", "outputs", "(", ")", ")", "{", "value", "=", "value", ".", "add", "(", "output", ".", "get", "value", "(", ")", ")", ";", "}", "big", "integer", "total", "output", "=", "value", ";", "log", ".", "info", "(", "str", ",", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", ",", "bitcoin", "value", "to", "friendly", "string", "(", "value", ")", ")", ";", "big", "integer", "total", "input", "=", "big", "integer", ".", "zero", ";", "for", "(", "transaction", "input", "input", ":", "req", ".", "tx", ".", "get", "inputs", "(", ")", ")", "if", "(", "input", ".", "get", "connected", "output", "(", ")", "!", "=", "null", ")", "total", "input", "=", "total", "input", ".", "add", "(", "input", ".", "get", "connected", "output", "(", ")", ".", "get", "value", "(", ")", ")", ";", "else", "log", ".", "warn", "(", "str", ")", ";", "value", "=", "value", ".", "subtract", "(", "total", "input", ")", ";", "list", "<", "transaction", "input", ">", "original", "inputs", "=", "new", "array", "list", "<", "transaction", "input", ">", "(", "req", ".", "tx", ".", "get", "inputs", "(", ")", ")", ";", "boolean", "need", "at", "least", "reference", "fee", "=", "false", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", ")", "{", "for", "(", "transaction", "output", "output", ":", "req", ".", "tx", ".", "get", "outputs", "(", ")", ")", "if", "(", "output", ".", "get", "value", "(", ")", ".", "compare", "to", "(", "utils", ".", "cent", ")", "<", "num", ")", "{", "need", "at", "least", "reference", "fee", "=", "true", ";", "break", ";", "}", "}", "linked", "list", "<", "transaction", "output", ">", "candidates", "=", "calculate", "spend", "candidates", "(", "true", ")", ";", "address", "change", "address", "=", "req", ".", "change", "address", ";", "int", "min", "size", "=", "num", ";", "big", "integer", "additional", "value", "for", "next", "category", "=", "null", ";", "coin", "selection", "selection3", "=", "null", ";", "coin", "selection", "selection2", "=", "null", ";", "transaction", "output", "selection2", "change", "=", "null", ";", "coin", "selection", "selection1", "=", "null", ";", "transaction", "output", "selection1", "change", "=", "null", ";", "while", "(", "true", ")", "{", "req", ".", "tx", ".", "clear", "inputs", "(", ")", ";", "for", "(", "transaction", "input", "input", ":", "original", "inputs", ")", "req", ".", "tx", ".", "add", "input", "(", "input", ")", ";", "big", "integer", "fees", "=", "req", ".", "fee", ".", "add", "(", "big", "integer", ".", "value", "of", "(", "min", "size", "/", "num", ")", ".", "multiply", "(", "req", ".", "fee", "per", "kb", ")", ")", ";", "if", "(", "need", "at", "least", "reference", "fee", "&", "&", "fees", ".", "compare", "to", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ")", "<", "num", ")", "fees", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ";", "big", "integer", "value", "needed", "=", "value", ".", "add", "(", "fees", ")", ";", "if", "(", "additional", "value", "for", "next", "category", "!", "=", "null", ")", "value", "needed", "=", "value", "needed", ".", "add", "(", "additional", "value", "for", "next", "category", ")", ";", "big", "integer", "additional", "value", "selected", "=", "additional", "value", "for", "next", "category", ";", "coin", "selection", "selection", "=", "coin", "selector", ".", "select", "(", "value", "needed", ",", "candidates", ")", ";", "if", "(", "selection", ".", "value", "gathered", ".", "compare", "to", "(", "value", "needed", ")", "<", "num", ")", "break", ";", "check", "state", "(", "selection", ".", "gathered", ".", "size", "(", ")", ">", "num", "|", "|", "original", "inputs", ".", "size", "(", ")", ">", "num", ")", ";", "int", "size", "=", "num", ";", "boolean", "either", "category2", "or3", "=", "false", ";", "boolean", "is", "category3", "=", "false", ";", "big", "integer", "change", "=", "selection", ".", "value", "gathered", ".", "subtract", "(", "value", "needed", ")", ";", "if", "(", "additional", "value", "selected", "!", "=", "null", ")", "change", "=", "change", ".", "add", "(", "additional", "value", "selected", ")", ";", "transaction", "output", "change", "output", "=", "null", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", "&", "&", "!", "change", ".", "equals", "(", "big", "integer", ".", "zero", ")", "&", "&", "change", ".", "compare", "to", "(", "utils", ".", "cent", ")", "<", "num", "&", "&", "fees", ".", "compare", "to", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ")", "<", "num", ")", "{", "either", "category2", "or3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "utils", ".", "cent", ";", "change", "=", "change", ".", "subtract", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "subtract", "(", "fees", ")", ")", ";", "}", "if", "(", "change", ".", "compare", "to", "(", "big", "integer", ".", "zero", ")", ">", "num", ")", "{", "if", "(", "change", "address", "=", "=", "null", ")", "change", "address", "=", "get", "change", "address", "(", ")", ";", "change", "output", "=", "new", "transaction", "output", "(", "params", ",", "req", ".", "tx", ",", "change", ",", "change", "address", ")", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", "&", "&", "transaction", ".", "min", "_", "nondust", "_", "output", ".", "compare", "to", "(", "change", ")", ">", "=", "num", ")", "{", "is", "category3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "add", "(", "transaction", ".", "min", "_", "nondust", "_", "output", ".", "add", "(", "big", "integer", ".", "one", ")", ")", ";", "}", "else", "{", "size", "+", "=", "change", "output", ".", "bitcoin", "serialize", "(", ")", ".", "length", "+", "var", "int", ".", "size", "of", "(", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", ")", "-", "var", "int", ".", "size", "of", "(", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", "-", "num", ")", ";", "if", "(", "!", "either", "category2", "or3", ")", "additional", "value", "for", "next", "category", "=", "null", ";", "}", "}", "else", "{", "if", "(", "either", "category2", "or3", ")", "{", "is", "category3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "add", "(", "big", "integer", ".", "one", ")", ";", "}", "}", "for", "(", "transaction", "output", "output", ":", "selection", ".", "gathered", ")", "{", "req", ".", "tx", ".", "add", "input", "(", "output", ")", ";", "check", "state", "(", "req", ".", "tx", ".", "get", "input", "(", "req", ".", "tx", ".", "get", "inputs", "(", ")", ".", "size", "(", ")", "-", "num", ")", ".", "get", "script", "bytes", "(", ")", ".", "length", "=", "=", "num", ")", ";", "try", "{", "if", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "is", "sent", "to", "address", "(", ")", ")", "{", "size", "+", "=", "this", ".", "find", "key", "from", "pub", "hash", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "get", "pub", "key", "hash", "(", ")", ")", ".", "get", "pub", "key", "(", ")", ".", "length", "+", "num", ";", "}", "else", "if", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "is", "sent", "to", "raw", "pub", "key", "(", ")", ")", "size", "+", "=", "num", ";", "else", "throw", "new", "runtime", "exception", "(", "str", ")", ";", "}", "catch", "(", "script", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "size", "+", "=", "req", ".", "tx", ".", "bitcoin", "serialize", "(", ")", ".", "length", ";", "if", "(", "size", "/", "num", ">", "min", "size", "/", "num", "&", "&", "req", ".", "fee", "per", "kb", ".", "compare", "to", "(", "big", "integer", ".", "zero", ")", ">", "num", ")", "{", "min", "size", "=", "size", ";", "additional", "value", "for", "next", "category", "=", "additional", "value", "selected", ";", "continue", ";", "}", "if", "(", "is", "category3", ")", "{", "if", "(", "selection3", "=", "=", "null", ")", "selection3", "=", "selection", ";", "}", "else", "if", "(", "either", "category2", "or3", ")", "{", "check", "state", "(", "selection2", "=", "=", "null", ")", ";", "check", "state", "(", "additional", "value", "for", "next", "category", ".", "equals", "(", "utils", ".", "cent", ")", ")", ";", "selection2", "=", "selection", ";", "selection2", "change", "=", "check", "not", "null", "(", "change", "output", ")", ";", "}", "else", "{", "check", "state", "(", "selection1", "=", "=", "null", ")", ";", "check", "state", "(", "additional", "value", "for", "next", "category", "=", "=", "null", ")", ";", "selection1", "=", "selection", ";", "selection1", "change", "=", "change", "output", ";", "}", "if", "(", "additional", "value", "for", "next", "category", "!", "=", "null", ")", "{", "if", "(", "additional", "value", "selected", "!", "=", "null", ")", "check", "state", "(", "additional", "value", "for", "next", "category", ".", "compare", "to", "(", "additional", "value", "selected", ")", ">", "num", ")", ";", "continue", ";", "}", "break", ";", "}", "req", ".", "tx", ".", "clear", "inputs", "(", ")", ";", "for", "(", "transaction", "input", "input", ":", "original", "inputs", ")", "req", ".", "tx", ".", "add", "input", "(", "input", ")", ";", "if", "(", "selection3", "=", "=", "null", "&", "&", "selection2", "=", "=", "null", "&", "&", "selection1", "=", "=", "null", ")", "{", "log", ".", "warn", "(", "str", ")", ";", "return", "null", ";", "}", "big", "integer", "lowest", "fee", "=", "null", ";", "coin", "selection", "best", "coin", "selection", "=", "null", ";", "transaction", "output", "best", "change", "output", "=", "null", ";", "if", "(", "selection1", "!", "=", "null", ")", "{", "if", "(", "selection1", "change", "!", "=", "null", ")", "lowest", "fee", "=", "selection1", ".", "value", "gathered", ".", "subtract", "(", "selection1", "change", ".", "get", "value", "(", ")", ")", ";", "else", "lowest", "fee", "=", "selection1", ".", "value", "gathered", ";", "best", "coin", "selection", "=", "selection1", ";", "best", "change", "output", "=", "selection1", "change", ";", "}", "if", "(", "selection2", "!", "=", "null", ")", "{", "big", "integer", "fee", "=", "selection2", ".", "value", "gathered", ".", "subtract", "(", "check", "not", "null", "(", "selection2", "change", ")", ".", "get", "value", "(", ")", ")", ";", "if", "(", "lowest", "fee", "=", "=", "null", "|", "|", "fee", ".", "compare", "to", "(", "lowest", "fee", ")", "<", "num", ")", "{", "lowest", "fee", "=", "fee", ";", "best", "coin", "selection", "=", "selection2", ";", "best", "change", "output", "=", "selection2", "change", ";", "}", "}", "if", "(", "selection3", "!", "=", "null", ")", "{", "if", "(", "lowest", "fee", "=", "=", "null", "|", "|", "selection3", ".", "value", "gathered", ".", "compare", "to", "(", "lowest", "fee", ")", "<", "num", ")", "{", "best", "coin", "selection", "=", "selection3", ";", "best", "change", "output", "=", "null", ";", "}", "}", "for", "(", "transaction", "output", "output", ":", "best", "coin", "selection", ".", "gathered", ")", "req", ".", "tx", ".", "add", "input", "(", "output", ")", ";", "total", "input", "=", "total", "input", ".", "add", "(", "best", "coin", "selection", ".", "value", "gathered", ")", ";", "req", ".", "tx", ".", "get", "confidence", "(", ")", ".", "set", "confidence", "type", "(", "confidence", "type", ".", "pending", ")", ";", "if", "(", "best", "change", "output", "!", "=", "null", ")", "{", "req", ".", "tx", ".", "add", "output", "(", "best", "change", "output", ")", ";", "total", "output", "=", "total", "output", ".", "add", "(", "best", "change", "output", ".", "get", "value", "(", ")", ")", ";", "log", ".", "info", "(", "str", ",", "bitcoin", "value", "to", "friendly", "string", "(", "best", "change", "output", ".", "get", "value", "(", ")", ")", ")", ";", "}", "try", "{", "req", ".", "tx", ".", "sign", "inputs", "(", "transaction", ".", "sig", "hash", ".", "all", ",", "this", ",", "req", ".", "aes", "key", ")", ";", "}", "catch", "(", "script", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "int", "size", "=", "req", ".", "tx", ".", "bitcoin", "serialize", "(", ")", ".", "length", ";", "if", "(", "size", ">", "transaction", ".", "max", "_", "standard", "_", "tx", "_", "size", ")", "{", "log", ".", "error", "(", "str", ",", "size", ",", "transaction", ".", "max", "_", "standard", "_", "tx", "_", "size", ")", ";", "return", "null", ";", "}", "req", ".", "tx", ".", "get", "confidence", "(", ")", ".", "set", "source", "(", "transaction", "confidence", ".", "source", ".", "self", ")", ";", "req", ".", "completed", "=", "true", ";", "log", ".", "info", "(", "str", ",", "req", ".", "tx", ".", "get", "hash", "as", "string", "(", ")", ",", "req", ".", "tx", ".", "get", "inputs", "(", ")", ".", "size", "(", ")", ")", ";", "return", "total", "input", ".", "subtract", "(", "total", "output", ")", ";", "}", "finally", "{", "lock", ".", "unlock", "(", ")", ";", "}", "}"], "new_code": "public boolean complete tx ( send request req ) { lock . lock ( ) ; try { preconditions . check argument ( ! req . completed , str ) ; big integer value = big integer . zero ; for ( transaction output output : req . tx . get outputs ( ) ) { value = value . add ( output . get value ( ) ) ; } big integer total output = value ; log . info ( str , req . tx . get outputs ( ) . size ( ) , bitcoin value to friendly string ( value ) ) ; big integer total input = big integer . zero ; for ( transaction input input : req . tx . get inputs ( ) ) if ( input . get connected output ( ) ! = null ) total input = total input . add ( input . get connected output ( ) . get value ( ) ) ; else log . warn ( str ) ; value = value . subtract ( total input ) ; list < transaction input > original inputs = new array list < transaction input > ( req . tx . get inputs ( ) ) ; boolean need at least reference fee = false ; if ( req . ensure min required fee ) { for ( transaction output output : req . tx . get outputs ( ) ) if ( output . get value ( ) . compare to ( utils . cent ) < num ) { need at least reference fee = true ; break ; } } linked list < transaction output > candidates = calculate spend candidates ( true ) ; address change address = req . change address ; int min size = num ; big integer additional value for next category = null ; coin selection selection3 = null ; coin selection selection2 = null ; transaction output selection2 change = null ; coin selection selection1 = null ; transaction output selection1 change = null ; while ( true ) { req . tx . clear inputs ( ) ; for ( transaction input input : original inputs ) req . tx . add input ( input ) ; big integer fees = req . fee . add ( big integer . value of ( min size / num ) . multiply ( req . fee per kb ) ) ; if ( need at least reference fee & & fees . compare to ( transaction . reference _ default _ min _ tx _ fee ) < num ) fees = transaction . reference _ default _ min _ tx _ fee ; big integer value needed = value . add ( fees ) ; if ( additional value for next category ! = null ) value needed = value needed . add ( additional value for next category ) ; big integer additional value selected = additional value for next category ; coin selection selection = coin selector . select ( value needed , candidates ) ; if ( selection . value gathered . compare to ( value needed ) < num ) break ; check state ( selection . gathered . size ( ) > num | | original inputs . size ( ) > num ) ; int size = num ; boolean either category2 or3 = false ; boolean is category3 = false ; big integer change = selection . value gathered . subtract ( value needed ) ; if ( additional value selected ! = null ) change = change . add ( additional value selected ) ; transaction output change output = null ; if ( req . ensure min required fee & & ! change . equals ( big integer . zero ) & & change . compare to ( utils . cent ) < num & & fees . compare to ( transaction . reference _ default _ min _ tx _ fee ) < num ) { either category2 or3 = true ; additional value for next category = utils . cent ; change = change . subtract ( transaction . reference _ default _ min _ tx _ fee . subtract ( fees ) ) ; } if ( change . compare to ( big integer . zero ) > num ) { if ( change address = = null ) change address = get change address ( ) ; change output = new transaction output ( params , req . tx , change , change address ) ; if ( req . ensure min required fee & & transaction . min _ nondust _ output . compare to ( change ) > = num ) { is category3 = true ; additional value for next category = transaction . reference _ default _ min _ tx _ fee . add ( transaction . min _ nondust _ output . add ( big integer . one ) ) ; } else { size + = change output . bitcoin serialize ( ) . length + var int . size of ( req . tx . get outputs ( ) . size ( ) ) - var int . size of ( req . tx . get outputs ( ) . size ( ) - num ) ; if ( ! either category2 or3 ) additional value for next category = null ; } } else { if ( either category2 or3 ) { is category3 = true ; additional value for next category = transaction . reference _ default _ min _ tx _ fee . add ( big integer . one ) ; } } for ( transaction output output : selection . gathered ) { req . tx . add input ( output ) ; check state ( req . tx . get input ( req . tx . get inputs ( ) . size ( ) - num ) . get script bytes ( ) . length = = num ) ; try { if ( output . get script pub key ( ) . is sent to address ( ) ) { size + = this . find key from pub hash ( output . get script pub key ( ) . get pub key hash ( ) ) . get pub key ( ) . length + num ; } else if ( output . get script pub key ( ) . is sent to raw pub key ( ) ) size + = num ; else throw new runtime exception ( str ) ; } catch ( script exception e ) { throw new runtime exception ( e ) ; } } size + = req . tx . bitcoin serialize ( ) . length ; if ( size / num > min size / num & & req . fee per kb . compare to ( big integer . zero ) > num ) { min size = size ; additional value for next category = additional value selected ; continue ; } if ( is category3 ) { if ( selection3 = = null ) selection3 = selection ; } else if ( either category2 or3 ) { check state ( selection2 = = null ) ; check state ( additional value for next category . equals ( utils . cent ) ) ; selection2 = selection ; selection2 change = check not null ( change output ) ; } else { check state ( selection1 = = null ) ; check state ( additional value for next category = = null ) ; selection1 = selection ; selection1 change = change output ; } if ( additional value for next category ! = null ) { if ( additional value selected ! = null ) check state ( additional value for next category . compare to ( additional value selected ) > num ) ; continue ; } break ; } req . tx . clear inputs ( ) ; for ( transaction input input : original inputs ) req . tx . add input ( input ) ; if ( selection3 = = null & & selection2 = = null & & selection1 = = null ) { log . warn ( str ) ; return false ; } big integer lowest fee = null ; coin selection best coin selection = null ; transaction output best change output = null ; if ( selection1 ! = null ) { if ( selection1 change ! = null ) lowest fee = selection1 . value gathered . subtract ( selection1 change . get value ( ) ) ; else lowest fee = selection1 . value gathered ; best coin selection = selection1 ; best change output = selection1 change ; } if ( selection2 ! = null ) { big integer fee = selection2 . value gathered . subtract ( check not null ( selection2 change ) . get value ( ) ) ; if ( lowest fee = = null | | fee . compare to ( lowest fee ) < num ) { lowest fee = fee ; best coin selection = selection2 ; best change output = selection2 change ; } } if ( selection3 ! = null ) { if ( lowest fee = = null | | selection3 . value gathered . compare to ( lowest fee ) < num ) { best coin selection = selection3 ; best change output = null ; } } for ( transaction output output : best coin selection . gathered ) req . tx . add input ( output ) ; total input = total input . add ( best coin selection . value gathered ) ; req . tx . get confidence ( ) . set confidence type ( confidence type . pending ) ; if ( best change output ! = null ) { req . tx . add output ( best change output ) ; total output = total output . add ( best change output . get value ( ) ) ; log . info ( str , bitcoin value to friendly string ( best change output . get value ( ) ) ) ; } try { req . tx . sign inputs ( transaction . sig hash . all , this , req . aes key ) ; } catch ( script exception e ) { throw new runtime exception ( e ) ; } int size = req . tx . bitcoin serialize ( ) . length ; if ( size > transaction . max _ standard _ tx _ size ) { log . error ( str , size , transaction . max _ standard _ tx _ size ) ; return false ; } req . tx . get confidence ( ) . set source ( transaction confidence . source . self ) ; req . completed = true ; req . fee = total input . subtract ( total output ) ; log . info ( str , req . tx . get hash as string ( ) , req . tx . get inputs ( ) . size ( ) ) ; return true ; } finally { lock . unlock ( ) ; } }", "new_code_tokens": ["public", "boolean", "complete", "tx", "(", "send", "request", "req", ")", "{", "lock", ".", "lock", "(", ")", ";", "try", "{", "preconditions", ".", "check", "argument", "(", "!", "req", ".", "completed", ",", "str", ")", ";", "big", "integer", "value", "=", "big", "integer", ".", "zero", ";", "for", "(", "transaction", "output", "output", ":", "req", ".", "tx", ".", "get", "outputs", "(", ")", ")", "{", "value", "=", "value", ".", "add", "(", "output", ".", "get", "value", "(", ")", ")", ";", "}", "big", "integer", "total", "output", "=", "value", ";", "log", ".", "info", "(", "str", ",", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", ",", "bitcoin", "value", "to", "friendly", "string", "(", "value", ")", ")", ";", "big", "integer", "total", "input", "=", "big", "integer", ".", "zero", ";", "for", "(", "transaction", "input", "input", ":", "req", ".", "tx", ".", "get", "inputs", "(", ")", ")", "if", "(", "input", ".", "get", "connected", "output", "(", ")", "!", "=", "null", ")", "total", "input", "=", "total", "input", ".", "add", "(", "input", ".", "get", "connected", "output", "(", ")", ".", "get", "value", "(", ")", ")", ";", "else", "log", ".", "warn", "(", "str", ")", ";", "value", "=", "value", ".", "subtract", "(", "total", "input", ")", ";", "list", "<", "transaction", "input", ">", "original", "inputs", "=", "new", "array", "list", "<", "transaction", "input", ">", "(", "req", ".", "tx", ".", "get", "inputs", "(", ")", ")", ";", "boolean", "need", "at", "least", "reference", "fee", "=", "false", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", ")", "{", "for", "(", "transaction", "output", "output", ":", "req", ".", "tx", ".", "get", "outputs", "(", ")", ")", "if", "(", "output", ".", "get", "value", "(", ")", ".", "compare", "to", "(", "utils", ".", "cent", ")", "<", "num", ")", "{", "need", "at", "least", "reference", "fee", "=", "true", ";", "break", ";", "}", "}", "linked", "list", "<", "transaction", "output", ">", "candidates", "=", "calculate", "spend", "candidates", "(", "true", ")", ";", "address", "change", "address", "=", "req", ".", "change", "address", ";", "int", "min", "size", "=", "num", ";", "big", "integer", "additional", "value", "for", "next", "category", "=", "null", ";", "coin", "selection", "selection3", "=", "null", ";", "coin", "selection", "selection2", "=", "null", ";", "transaction", "output", "selection2", "change", "=", "null", ";", "coin", "selection", "selection1", "=", "null", ";", "transaction", "output", "selection1", "change", "=", "null", ";", "while", "(", "true", ")", "{", "req", ".", "tx", ".", "clear", "inputs", "(", ")", ";", "for", "(", "transaction", "input", "input", ":", "original", "inputs", ")", "req", ".", "tx", ".", "add", "input", "(", "input", ")", ";", "big", "integer", "fees", "=", "req", ".", "fee", ".", "add", "(", "big", "integer", ".", "value", "of", "(", "min", "size", "/", "num", ")", ".", "multiply", "(", "req", ".", "fee", "per", "kb", ")", ")", ";", "if", "(", "need", "at", "least", "reference", "fee", "&", "&", "fees", ".", "compare", "to", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ")", "<", "num", ")", "fees", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ";", "big", "integer", "value", "needed", "=", "value", ".", "add", "(", "fees", ")", ";", "if", "(", "additional", "value", "for", "next", "category", "!", "=", "null", ")", "value", "needed", "=", "value", "needed", ".", "add", "(", "additional", "value", "for", "next", "category", ")", ";", "big", "integer", "additional", "value", "selected", "=", "additional", "value", "for", "next", "category", ";", "coin", "selection", "selection", "=", "coin", "selector", ".", "select", "(", "value", "needed", ",", "candidates", ")", ";", "if", "(", "selection", ".", "value", "gathered", ".", "compare", "to", "(", "value", "needed", ")", "<", "num", ")", "break", ";", "check", "state", "(", "selection", ".", "gathered", ".", "size", "(", ")", ">", "num", "|", "|", "original", "inputs", ".", "size", "(", ")", ">", "num", ")", ";", "int", "size", "=", "num", ";", "boolean", "either", "category2", "or3", "=", "false", ";", "boolean", "is", "category3", "=", "false", ";", "big", "integer", "change", "=", "selection", ".", "value", "gathered", ".", "subtract", "(", "value", "needed", ")", ";", "if", "(", "additional", "value", "selected", "!", "=", "null", ")", "change", "=", "change", ".", "add", "(", "additional", "value", "selected", ")", ";", "transaction", "output", "change", "output", "=", "null", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", "&", "&", "!", "change", ".", "equals", "(", "big", "integer", ".", "zero", ")", "&", "&", "change", ".", "compare", "to", "(", "utils", ".", "cent", ")", "<", "num", "&", "&", "fees", ".", "compare", "to", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ")", "<", "num", ")", "{", "either", "category2", "or3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "utils", ".", "cent", ";", "change", "=", "change", ".", "subtract", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "subtract", "(", "fees", ")", ")", ";", "}", "if", "(", "change", ".", "compare", "to", "(", "big", "integer", ".", "zero", ")", ">", "num", ")", "{", "if", "(", "change", "address", "=", "=", "null", ")", "change", "address", "=", "get", "change", "address", "(", ")", ";", "change", "output", "=", "new", "transaction", "output", "(", "params", ",", "req", ".", "tx", ",", "change", ",", "change", "address", ")", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", "&", "&", "transaction", ".", "min", "_", "nondust", "_", "output", ".", "compare", "to", "(", "change", ")", ">", "=", "num", ")", "{", "is", "category3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "add", "(", "transaction", ".", "min", "_", "nondust", "_", "output", ".", "add", "(", "big", "integer", ".", "one", ")", ")", ";", "}", "else", "{", "size", "+", "=", "change", "output", ".", "bitcoin", "serialize", "(", ")", ".", "length", "+", "var", "int", ".", "size", "of", "(", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", ")", "-", "var", "int", ".", "size", "of", "(", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", "-", "num", ")", ";", "if", "(", "!", "either", "category2", "or3", ")", "additional", "value", "for", "next", "category", "=", "null", ";", "}", "}", "else", "{", "if", "(", "either", "category2", "or3", ")", "{", "is", "category3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "add", "(", "big", "integer", ".", "one", ")", ";", "}", "}", "for", "(", "transaction", "output", "output", ":", "selection", ".", "gathered", ")", "{", "req", ".", "tx", ".", "add", "input", "(", "output", ")", ";", "check", "state", "(", "req", ".", "tx", ".", "get", "input", "(", "req", ".", "tx", ".", "get", "inputs", "(", ")", ".", "size", "(", ")", "-", "num", ")", ".", "get", "script", "bytes", "(", ")", ".", "length", "=", "=", "num", ")", ";", "try", "{", "if", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "is", "sent", "to", "address", "(", ")", ")", "{", "size", "+", "=", "this", ".", "find", "key", "from", "pub", "hash", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "get", "pub", "key", "hash", "(", ")", ")", ".", "get", "pub", "key", "(", ")", ".", "length", "+", "num", ";", "}", "else", "if", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "is", "sent", "to", "raw", "pub", "key", "(", ")", ")", "size", "+", "=", "num", ";", "else", "throw", "new", "runtime", "exception", "(", "str", ")", ";", "}", "catch", "(", "script", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "size", "+", "=", "req", ".", "tx", ".", "bitcoin", "serialize", "(", ")", ".", "length", ";", "if", "(", "size", "/", "num", ">", "min", "size", "/", "num", "&", "&", "req", ".", "fee", "per", "kb", ".", "compare", "to", "(", "big", "integer", ".", "zero", ")", ">", "num", ")", "{", "min", "size", "=", "size", ";", "additional", "value", "for", "next", "category", "=", "additional", "value", "selected", ";", "continue", ";", "}", "if", "(", "is", "category3", ")", "{", "if", "(", "selection3", "=", "=", "null", ")", "selection3", "=", "selection", ";", "}", "else", "if", "(", "either", "category2", "or3", ")", "{", "check", "state", "(", "selection2", "=", "=", "null", ")", ";", "check", "state", "(", "additional", "value", "for", "next", "category", ".", "equals", "(", "utils", ".", "cent", ")", ")", ";", "selection2", "=", "selection", ";", "selection2", "change", "=", "check", "not", "null", "(", "change", "output", ")", ";", "}", "else", "{", "check", "state", "(", "selection1", "=", "=", "null", ")", ";", "check", "state", "(", "additional", "value", "for", "next", "category", "=", "=", "null", ")", ";", "selection1", "=", "selection", ";", "selection1", "change", "=", "change", "output", ";", "}", "if", "(", "additional", "value", "for", "next", "category", "!", "=", "null", ")", "{", "if", "(", "additional", "value", "selected", "!", "=", "null", ")", "check", "state", "(", "additional", "value", "for", "next", "category", ".", "compare", "to", "(", "additional", "value", "selected", ")", ">", "num", ")", ";", "continue", ";", "}", "break", ";", "}", "req", ".", "tx", ".", "clear", "inputs", "(", ")", ";", "for", "(", "transaction", "input", "input", ":", "original", "inputs", ")", "req", ".", "tx", ".", "add", "input", "(", "input", ")", ";", "if", "(", "selection3", "=", "=", "null", "&", "&", "selection2", "=", "=", "null", "&", "&", "selection1", "=", "=", "null", ")", "{", "log", ".", "warn", "(", "str", ")", ";", "return", "false", ";", "}", "big", "integer", "lowest", "fee", "=", "null", ";", "coin", "selection", "best", "coin", "selection", "=", "null", ";", "transaction", "output", "best", "change", "output", "=", "null", ";", "if", "(", "selection1", "!", "=", "null", ")", "{", "if", "(", "selection1", "change", "!", "=", "null", ")", "lowest", "fee", "=", "selection1", ".", "value", "gathered", ".", "subtract", "(", "selection1", "change", ".", "get", "value", "(", ")", ")", ";", "else", "lowest", "fee", "=", "selection1", ".", "value", "gathered", ";", "best", "coin", "selection", "=", "selection1", ";", "best", "change", "output", "=", "selection1", "change", ";", "}", "if", "(", "selection2", "!", "=", "null", ")", "{", "big", "integer", "fee", "=", "selection2", ".", "value", "gathered", ".", "subtract", "(", "check", "not", "null", "(", "selection2", "change", ")", ".", "get", "value", "(", ")", ")", ";", "if", "(", "lowest", "fee", "=", "=", "null", "|", "|", "fee", ".", "compare", "to", "(", "lowest", "fee", ")", "<", "num", ")", "{", "lowest", "fee", "=", "fee", ";", "best", "coin", "selection", "=", "selection2", ";", "best", "change", "output", "=", "selection2", "change", ";", "}", "}", "if", "(", "selection3", "!", "=", "null", ")", "{", "if", "(", "lowest", "fee", "=", "=", "null", "|", "|", "selection3", ".", "value", "gathered", ".", "compare", "to", "(", "lowest", "fee", ")", "<", "num", ")", "{", "best", "coin", "selection", "=", "selection3", ";", "best", "change", "output", "=", "null", ";", "}", "}", "for", "(", "transaction", "output", "output", ":", "best", "coin", "selection", ".", "gathered", ")", "req", ".", "tx", ".", "add", "input", "(", "output", ")", ";", "total", "input", "=", "total", "input", ".", "add", "(", "best", "coin", "selection", ".", "value", "gathered", ")", ";", "req", ".", "tx", ".", "get", "confidence", "(", ")", ".", "set", "confidence", "type", "(", "confidence", "type", ".", "pending", ")", ";", "if", "(", "best", "change", "output", "!", "=", "null", ")", "{", "req", ".", "tx", ".", "add", "output", "(", "best", "change", "output", ")", ";", "total", "output", "=", "total", "output", ".", "add", "(", "best", "change", "output", ".", "get", "value", "(", ")", ")", ";", "log", ".", "info", "(", "str", ",", "bitcoin", "value", "to", "friendly", "string", "(", "best", "change", "output", ".", "get", "value", "(", ")", ")", ")", ";", "}", "try", "{", "req", ".", "tx", ".", "sign", "inputs", "(", "transaction", ".", "sig", "hash", ".", "all", ",", "this", ",", "req", ".", "aes", "key", ")", ";", "}", "catch", "(", "script", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "int", "size", "=", "req", ".", "tx", ".", "bitcoin", "serialize", "(", ")", ".", "length", ";", "if", "(", "size", ">", "transaction", ".", "max", "_", "standard", "_", "tx", "_", "size", ")", "{", "log", ".", "error", "(", "str", ",", "size", ",", "transaction", ".", "max", "_", "standard", "_", "tx", "_", "size", ")", ";", "return", "false", ";", "}", "req", ".", "tx", ".", "get", "confidence", "(", ")", ".", "set", "source", "(", "transaction", "confidence", ".", "source", ".", "self", ")", ";", "req", ".", "completed", "=", "true", ";", "req", ".", "fee", "=", "total", "input", ".", "subtract", "(", "total", "output", ")", ";", "log", ".", "info", "(", "str", ",", "req", ".", "tx", ".", "get", "hash", "as", "string", "(", ")", ",", "req", ".", "tx", ".", "get", "inputs", "(", ")", ".", "size", "(", ")", ")", ";", "return", "true", ";", "}", "finally", "{", "lock", ".", "unlock", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> big integer <REPLACE_NEW> boolean <REPLACE_END> <KEEP> complete tx ( send request req ) { lock . lock ( ) ; try { preconditions . check argument ( ! req . completed , str ) ; big integer value = big integer . zero ; for ( transaction output output : req . tx . get outputs ( ) ) { value = value . add ( output . get value ( ) ) ; } big integer total output = value ; log . info ( str , req . tx . get outputs ( ) . size ( ) , bitcoin value to friendly string ( value ) ) ; big integer total input = big integer . zero ; for ( transaction input input : req . tx . get inputs ( ) ) if ( input . get connected output ( ) ! = null ) total input = total input . add ( input . get connected output ( ) . get value ( ) ) ; else log . warn ( str ) ; value = value . subtract ( total input ) ; list < transaction input > original inputs = new array list < transaction input > ( req . tx . get inputs ( ) ) ; boolean need at least reference fee = false ; if ( req . ensure min required fee ) { for ( transaction output output : req . tx . get outputs ( ) ) if ( output . get value ( ) . compare to ( utils . cent ) < num ) { need at least reference fee = true ; break ; } } linked list < transaction output > candidates = calculate spend candidates ( true ) ; address change address = req . change address ; int min size = num ; big integer additional value for next category = null ; coin selection selection3 = null ; coin selection selection2 = null ; transaction output selection2 change = null ; coin selection selection1 = null ; transaction output selection1 change = null ; while ( true ) { req . tx . clear inputs ( ) ; for ( transaction input input : original inputs ) req . tx . add input ( input ) ; big integer fees = req . fee . add ( big integer . value of ( min size / num ) . multiply ( req . fee per kb ) ) ; if ( need at least reference fee & & fees . compare to ( transaction . reference _ default _ min _ tx _ fee ) < num ) fees = transaction . reference _ default _ min _ tx _ fee ; big integer value needed = value . add ( fees ) ; if ( additional value for next category ! = null ) value needed = value needed . add ( additional value for next category ) ; big integer additional value selected = additional value for next category ; coin selection selection = coin selector . select ( value needed , candidates ) ; if ( selection . value gathered . compare to ( value needed ) < num ) break ; check state ( selection . gathered . size ( ) > num | | original inputs . size ( ) > num ) ; int size = num ; boolean either category2 or3 = false ; boolean is category3 = false ; big integer change = selection . value gathered . subtract ( value needed ) ; if ( additional value selected ! = null ) change = change . add ( additional value selected ) ; transaction output change output = null ; if ( req . ensure min required fee & & ! change . equals ( big integer . zero ) & & change . compare to ( utils . cent ) < num & & fees . compare to ( transaction . reference _ default _ min _ tx _ fee ) < num ) { either category2 or3 = true ; additional value for next category = utils . cent ; change = change . subtract ( transaction . reference _ default _ min _ tx _ fee . subtract ( fees ) ) ; } if ( change . compare to ( big integer . zero ) > num ) { if ( change address = = null ) change address = get change address ( ) ; change output = new transaction output ( params , req . tx , change , change address ) ; if ( req . ensure min required fee & & transaction . min _ nondust _ output . compare to ( change ) > = num ) { is category3 = true ; additional value for next category = transaction . reference _ default _ min _ tx _ fee . add ( transaction . min _ nondust _ output . add ( big integer . one ) ) ; } else { size + = change output . bitcoin serialize ( ) . length + var int . size of ( req . tx . get outputs ( ) . size ( ) ) - var int . size of ( req . tx . get outputs ( ) . size ( ) - num ) ; if ( ! either category2 or3 ) additional value for next category = null ; } } else { if ( either category2 or3 ) { is category3 = true ; additional value for next category = transaction . reference _ default _ min _ tx _ fee . add ( big integer . one ) ; } } for ( transaction output output : selection . gathered ) { req . tx . add input ( output ) ; check state ( req . tx . get input ( req . tx . get inputs ( ) . size ( ) - num ) . get script bytes ( ) . length = = num ) ; try { if ( output . get script pub key ( ) . is sent to address ( ) ) { size + = this . find key from pub hash ( output . get script pub key ( ) . get pub key hash ( ) ) . get pub key ( ) . length + num ; } else if ( output . get script pub key ( ) . is sent to raw pub key ( ) ) size + = num ; else throw new runtime exception ( str ) ; } catch ( script exception e ) { throw new runtime exception ( e ) ; } } size + = req . tx . bitcoin serialize ( ) . length ; if ( size / num > min size / num & & req . fee per kb . compare to ( big integer . zero ) > num ) { min size = size ; additional value for next category = additional value selected ; continue ; } if ( is category3 ) { if ( selection3 = = null ) selection3 = selection ; } else if ( either category2 or3 ) { check state ( selection2 = = null ) ; check state ( additional value for next category . equals ( utils . cent ) ) ; selection2 = selection ; selection2 change = check not null ( change output ) ; } else { check state ( selection1 = = null ) ; check state ( additional value for next category = = null ) ; selection1 = selection ; selection1 change = change output ; } if ( additional value for next category ! = null ) { if ( additional value selected ! = null ) check state ( additional value for next category . compare to ( additional value selected ) > num ) ; continue ; } break ; } req . tx . clear inputs ( ) ; for ( transaction input input : original inputs ) req . tx . add input ( input ) ; if ( selection3 = = null & & selection2 = = null & & selection1 = = null ) { log . warn ( str ) ; return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } big integer lowest fee = null ; coin selection best coin selection = null ; transaction output best change output = null ; if ( selection1 ! = null ) { if ( selection1 change ! = null ) lowest fee = selection1 . value gathered . subtract ( selection1 change . get value ( ) ) ; else lowest fee = selection1 . value gathered ; best coin selection = selection1 ; best change output = selection1 change ; } if ( selection2 ! = null ) { big integer fee = selection2 . value gathered . subtract ( check not null ( selection2 change ) . get value ( ) ) ; if ( lowest fee = = null | | fee . compare to ( lowest fee ) < num ) { lowest fee = fee ; best coin selection = selection2 ; best change output = selection2 change ; } } if ( selection3 ! = null ) { if ( lowest fee = = null | | selection3 . value gathered . compare to ( lowest fee ) < num ) { best coin selection = selection3 ; best change output = null ; } } for ( transaction output output : best coin selection . gathered ) req . tx . add input ( output ) ; total input = total input . add ( best coin selection . value gathered ) ; req . tx . get confidence ( ) . set confidence type ( confidence type . pending ) ; if ( best change output ! = null ) { req . tx . add output ( best change output ) ; total output = total output . add ( best change output . get value ( ) ) ; log . info ( str , bitcoin value to friendly string ( best change output . get value ( ) ) ) ; } try { req . tx . sign inputs ( transaction . sig hash . all , this , req . aes key ) ; } catch ( script exception e ) { throw new runtime exception ( e ) ; } int size = req . tx . bitcoin serialize ( ) . length ; if ( size > transaction . max _ standard _ tx _ size ) { log . error ( str , size , transaction . max _ standard _ tx _ size ) ; return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } req . tx . get confidence ( ) . set source ( transaction confidence . source . self ) ; req . completed = true <KEEP_END> <INSERT> ; req . fee = total input . subtract ( total output ) <INSERT_END> <KEEP> ; log . info ( str , req . tx . get hash as string ( ) , req . tx . get inputs ( ) . size ( ) ) ; return <KEEP_END> <REPLACE_OLD> total input . subtract ( total output ) <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } finally { lock . unlock ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "big", "integer", "<REPLACE_NEW>", "boolean", "<REPLACE_END>", "<KEEP>", "complete", "tx", "(", "send", "request", "req", ")", "{", "lock", ".", "lock", "(", ")", ";", "try", "{", "preconditions", ".", "check", "argument", "(", "!", "req", ".", "completed", ",", "str", ")", ";", "big", "integer", "value", "=", "big", "integer", ".", "zero", ";", "for", "(", "transaction", "output", "output", ":", "req", ".", "tx", ".", "get", "outputs", "(", ")", ")", "{", "value", "=", "value", ".", "add", "(", "output", ".", "get", "value", "(", ")", ")", ";", "}", "big", "integer", "total", "output", "=", "value", ";", "log", ".", "info", "(", "str", ",", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", ",", "bitcoin", "value", "to", "friendly", "string", "(", "value", ")", ")", ";", "big", "integer", "total", "input", "=", "big", "integer", ".", "zero", ";", "for", "(", "transaction", "input", "input", ":", "req", ".", "tx", ".", "get", "inputs", "(", ")", ")", "if", "(", "input", ".", "get", "connected", "output", "(", ")", "!", "=", "null", ")", "total", "input", "=", "total", "input", ".", "add", "(", "input", ".", "get", "connected", "output", "(", ")", ".", "get", "value", "(", ")", ")", ";", "else", "log", ".", "warn", "(", "str", ")", ";", "value", "=", "value", ".", "subtract", "(", "total", "input", ")", ";", "list", "<", "transaction", "input", ">", "original", "inputs", "=", "new", "array", "list", "<", "transaction", "input", ">", "(", "req", ".", "tx", ".", "get", "inputs", "(", ")", ")", ";", "boolean", "need", "at", "least", "reference", "fee", "=", "false", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", ")", "{", "for", "(", "transaction", "output", "output", ":", "req", ".", "tx", ".", "get", "outputs", "(", ")", ")", "if", "(", "output", ".", "get", "value", "(", ")", ".", "compare", "to", "(", "utils", ".", "cent", ")", "<", "num", ")", "{", "need", "at", "least", "reference", "fee", "=", "true", ";", "break", ";", "}", "}", "linked", "list", "<", "transaction", "output", ">", "candidates", "=", "calculate", "spend", "candidates", "(", "true", ")", ";", "address", "change", "address", "=", "req", ".", "change", "address", ";", "int", "min", "size", "=", "num", ";", "big", "integer", "additional", "value", "for", "next", "category", "=", "null", ";", "coin", "selection", "selection3", "=", "null", ";", "coin", "selection", "selection2", "=", "null", ";", "transaction", "output", "selection2", "change", "=", "null", ";", "coin", "selection", "selection1", "=", "null", ";", "transaction", "output", "selection1", "change", "=", "null", ";", "while", "(", "true", ")", "{", "req", ".", "tx", ".", "clear", "inputs", "(", ")", ";", "for", "(", "transaction", "input", "input", ":", "original", "inputs", ")", "req", ".", "tx", ".", "add", "input", "(", "input", ")", ";", "big", "integer", "fees", "=", "req", ".", "fee", ".", "add", "(", "big", "integer", ".", "value", "of", "(", "min", "size", "/", "num", ")", ".", "multiply", "(", "req", ".", "fee", "per", "kb", ")", ")", ";", "if", "(", "need", "at", "least", "reference", "fee", "&", "&", "fees", ".", "compare", "to", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ")", "<", "num", ")", "fees", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ";", "big", "integer", "value", "needed", "=", "value", ".", "add", "(", "fees", ")", ";", "if", "(", "additional", "value", "for", "next", "category", "!", "=", "null", ")", "value", "needed", "=", "value", "needed", ".", "add", "(", "additional", "value", "for", "next", "category", ")", ";", "big", "integer", "additional", "value", "selected", "=", "additional", "value", "for", "next", "category", ";", "coin", "selection", "selection", "=", "coin", "selector", ".", "select", "(", "value", "needed", ",", "candidates", ")", ";", "if", "(", "selection", ".", "value", "gathered", ".", "compare", "to", "(", "value", "needed", ")", "<", "num", ")", "break", ";", "check", "state", "(", "selection", ".", "gathered", ".", "size", "(", ")", ">", "num", "|", "|", "original", "inputs", ".", "size", "(", ")", ">", "num", ")", ";", "int", "size", "=", "num", ";", "boolean", "either", "category2", "or3", "=", "false", ";", "boolean", "is", "category3", "=", "false", ";", "big", "integer", "change", "=", "selection", ".", "value", "gathered", ".", "subtract", "(", "value", "needed", ")", ";", "if", "(", "additional", "value", "selected", "!", "=", "null", ")", "change", "=", "change", ".", "add", "(", "additional", "value", "selected", ")", ";", "transaction", "output", "change", "output", "=", "null", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", "&", "&", "!", "change", ".", "equals", "(", "big", "integer", ".", "zero", ")", "&", "&", "change", ".", "compare", "to", "(", "utils", ".", "cent", ")", "<", "num", "&", "&", "fees", ".", "compare", "to", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ")", "<", "num", ")", "{", "either", "category2", "or3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "utils", ".", "cent", ";", "change", "=", "change", ".", "subtract", "(", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "subtract", "(", "fees", ")", ")", ";", "}", "if", "(", "change", ".", "compare", "to", "(", "big", "integer", ".", "zero", ")", ">", "num", ")", "{", "if", "(", "change", "address", "=", "=", "null", ")", "change", "address", "=", "get", "change", "address", "(", ")", ";", "change", "output", "=", "new", "transaction", "output", "(", "params", ",", "req", ".", "tx", ",", "change", ",", "change", "address", ")", ";", "if", "(", "req", ".", "ensure", "min", "required", "fee", "&", "&", "transaction", ".", "min", "_", "nondust", "_", "output", ".", "compare", "to", "(", "change", ")", ">", "=", "num", ")", "{", "is", "category3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "add", "(", "transaction", ".", "min", "_", "nondust", "_", "output", ".", "add", "(", "big", "integer", ".", "one", ")", ")", ";", "}", "else", "{", "size", "+", "=", "change", "output", ".", "bitcoin", "serialize", "(", ")", ".", "length", "+", "var", "int", ".", "size", "of", "(", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", ")", "-", "var", "int", ".", "size", "of", "(", "req", ".", "tx", ".", "get", "outputs", "(", ")", ".", "size", "(", ")", "-", "num", ")", ";", "if", "(", "!", "either", "category2", "or3", ")", "additional", "value", "for", "next", "category", "=", "null", ";", "}", "}", "else", "{", "if", "(", "either", "category2", "or3", ")", "{", "is", "category3", "=", "true", ";", "additional", "value", "for", "next", "category", "=", "transaction", ".", "reference", "_", "default", "_", "min", "_", "tx", "_", "fee", ".", "add", "(", "big", "integer", ".", "one", ")", ";", "}", "}", "for", "(", "transaction", "output", "output", ":", "selection", ".", "gathered", ")", "{", "req", ".", "tx", ".", "add", "input", "(", "output", ")", ";", "check", "state", "(", "req", ".", "tx", ".", "get", "input", "(", "req", ".", "tx", ".", "get", "inputs", "(", ")", ".", "size", "(", ")", "-", "num", ")", ".", "get", "script", "bytes", "(", ")", ".", "length", "=", "=", "num", ")", ";", "try", "{", "if", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "is", "sent", "to", "address", "(", ")", ")", "{", "size", "+", "=", "this", ".", "find", "key", "from", "pub", "hash", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "get", "pub", "key", "hash", "(", ")", ")", ".", "get", "pub", "key", "(", ")", ".", "length", "+", "num", ";", "}", "else", "if", "(", "output", ".", "get", "script", "pub", "key", "(", ")", ".", "is", "sent", "to", "raw", "pub", "key", "(", ")", ")", "size", "+", "=", "num", ";", "else", "throw", "new", "runtime", "exception", "(", "str", ")", ";", "}", "catch", "(", "script", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "size", "+", "=", "req", ".", "tx", ".", "bitcoin", "serialize", "(", ")", ".", "length", ";", "if", "(", "size", "/", "num", ">", "min", "size", "/", "num", "&", "&", "req", ".", "fee", "per", "kb", ".", "compare", "to", "(", "big", "integer", ".", "zero", ")", ">", "num", ")", "{", "min", "size", "=", "size", ";", "additional", "value", "for", "next", "category", "=", "additional", "value", "selected", ";", "continue", ";", "}", "if", "(", "is", "category3", ")", "{", "if", "(", "selection3", "=", "=", "null", ")", "selection3", "=", "selection", ";", "}", "else", "if", "(", "either", "category2", "or3", ")", "{", "check", "state", "(", "selection2", "=", "=", "null", ")", ";", "check", "state", "(", "additional", "value", "for", "next", "category", ".", "equals", "(", "utils", ".", "cent", ")", ")", ";", "selection2", "=", "selection", ";", "selection2", "change", "=", "check", "not", "null", "(", "change", "output", ")", ";", "}", "else", "{", "check", "state", "(", "selection1", "=", "=", "null", ")", ";", "check", "state", "(", "additional", "value", "for", "next", "category", "=", "=", "null", ")", ";", "selection1", "=", "selection", ";", "selection1", "change", "=", "change", "output", ";", "}", "if", "(", "additional", "value", "for", "next", "category", "!", "=", "null", ")", "{", "if", "(", "additional", "value", "selected", "!", "=", "null", ")", "check", "state", "(", "additional", "value", "for", "next", "category", ".", "compare", "to", "(", "additional", "value", "selected", ")", ">", "num", ")", ";", "continue", ";", "}", "break", ";", "}", "req", ".", "tx", ".", "clear", "inputs", "(", ")", ";", "for", "(", "transaction", "input", "input", ":", "original", "inputs", ")", "req", ".", "tx", ".", "add", "input", "(", "input", ")", ";", "if", "(", "selection3", "=", "=", "null", "&", "&", "selection2", "=", "=", "null", "&", "&", "selection1", "=", "=", "null", ")", "{", "log", ".", "warn", "(", "str", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "big", "integer", "lowest", "fee", "=", "null", ";", "coin", "selection", "best", "coin", "selection", "=", "null", ";", "transaction", "output", "best", "change", "output", "=", "null", ";", "if", "(", "selection1", "!", "=", "null", ")", "{", "if", "(", "selection1", "change", "!", "=", "null", ")", "lowest", "fee", "=", "selection1", ".", "value", "gathered", ".", "subtract", "(", "selection1", "change", ".", "get", "value", "(", ")", ")", ";", "else", "lowest", "fee", "=", "selection1", ".", "value", "gathered", ";", "best", "coin", "selection", "=", "selection1", ";", "best", "change", "output", "=", "selection1", "change", ";", "}", "if", "(", "selection2", "!", "=", "null", ")", "{", "big", "integer", "fee", "=", "selection2", ".", "value", "gathered", ".", "subtract", "(", "check", "not", "null", "(", "selection2", "change", ")", ".", "get", "value", "(", ")", ")", ";", "if", "(", "lowest", "fee", "=", "=", "null", "|", "|", "fee", ".", "compare", "to", "(", "lowest", "fee", ")", "<", "num", ")", "{", "lowest", "fee", "=", "fee", ";", "best", "coin", "selection", "=", "selection2", ";", "best", "change", "output", "=", "selection2", "change", ";", "}", "}", "if", "(", "selection3", "!", "=", "null", ")", "{", "if", "(", "lowest", "fee", "=", "=", "null", "|", "|", "selection3", ".", "value", "gathered", ".", "compare", "to", "(", "lowest", "fee", ")", "<", "num", ")", "{", "best", "coin", "selection", "=", "selection3", ";", "best", "change", "output", "=", "null", ";", "}", "}", "for", "(", "transaction", "output", "output", ":", "best", "coin", "selection", ".", "gathered", ")", "req", ".", "tx", ".", "add", "input", "(", "output", ")", ";", "total", "input", "=", "total", "input", ".", "add", "(", "best", "coin", "selection", ".", "value", "gathered", ")", ";", "req", ".", "tx", ".", "get", "confidence", "(", ")", ".", "set", "confidence", "type", "(", "confidence", "type", ".", "pending", ")", ";", "if", "(", "best", "change", "output", "!", "=", "null", ")", "{", "req", ".", "tx", ".", "add", "output", "(", "best", "change", "output", ")", ";", "total", "output", "=", "total", "output", ".", "add", "(", "best", "change", "output", ".", "get", "value", "(", ")", ")", ";", "log", ".", "info", "(", "str", ",", "bitcoin", "value", "to", "friendly", "string", "(", "best", "change", "output", ".", "get", "value", "(", ")", ")", ")", ";", "}", "try", "{", "req", ".", "tx", ".", "sign", "inputs", "(", "transaction", ".", "sig", "hash", ".", "all", ",", "this", ",", "req", ".", "aes", "key", ")", ";", "}", "catch", "(", "script", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "int", "size", "=", "req", ".", "tx", ".", "bitcoin", "serialize", "(", ")", ".", "length", ";", "if", "(", "size", ">", "transaction", ".", "max", "_", "standard", "_", "tx", "_", "size", ")", "{", "log", ".", "error", "(", "str", ",", "size", ",", "transaction", ".", "max", "_", "standard", "_", "tx", "_", "size", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "req", ".", "tx", ".", "get", "confidence", "(", ")", ".", "set", "source", "(", "transaction", "confidence", ".", "source", ".", "self", ")", ";", "req", ".", "completed", "=", "true", "<KEEP_END>", "<INSERT>", ";", "req", ".", "fee", "=", "total", "input", ".", "subtract", "(", "total", "output", ")", "<INSERT_END>", "<KEEP>", ";", "log", ".", "info", "(", "str", ",", "req", ".", "tx", ".", "get", "hash", "as", "string", "(", ")", ",", "req", ".", "tx", ".", "get", "inputs", "(", ")", ".", "size", "(", ")", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "total", "input", ".", "subtract", "(", "total", "output", ")", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "finally", "{", "lock", ".", "unlock", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> either <REPLACE_NEW> whether or not <REPLACE_END> <REPLACE_OLD> total fee paid ( assuming all existing inputs had a connected output ) or null if we cannot afford the transaction <REPLACE_NEW> requested send is affordable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "either", "<REPLACE_NEW>", "whether", "or", "not", "<REPLACE_END>", "<REPLACE_OLD>", "total", "fee", "paid", "(", "assuming", "all", "existing", "inputs", "had", "a", "connected", "output", ")", "or", "null", "if", "we", "cannot", "afford", "the", "transaction", "<REPLACE_NEW>", "requested", "send", "is", "affordable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "big", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "boolean", "<KEEP>", "complete", "<KEEP>", "tx", "<KEEP>", "(", "<KEEP>", "send", "<KEEP>", "request", "<KEEP>", "req", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "lock", "<KEEP>", ".", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "preconditions", "<KEEP>", ".", "<KEEP>", "check", "<KEEP>", "argument", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "completed", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "zero", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "output", "<KEEP>", ":", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "outputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "total", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "outputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "bitcoin", "<KEEP>", "value", "<KEEP>", "to", "<KEEP>", "friendly", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "total", "<KEEP>", "input", "<KEEP>", "=", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "zero", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "input", "<KEEP>", "input", "<KEEP>", ":", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "total", "<KEEP>", "input", "<KEEP>", "=", "<KEEP>", "total", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "warn", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "subtract", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "transaction", "<KEEP>", "input", "<KEEP>", ">", "<KEEP>", "original", "<KEEP>", "inputs", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "transaction", "<KEEP>", "input", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "need", "<KEEP>", "at", "<KEEP>", "least", "<KEEP>", "reference", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "ensure", "<KEEP>", "min", "<KEEP>", "required", "<KEEP>", "fee", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "output", "<KEEP>", ":", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "outputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "cent", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "need", "<KEEP>", "at", "<KEEP>", "least", "<KEEP>", "reference", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", ">", "<KEEP>", "candidates", "<KEEP>", "=", "<KEEP>", "calculate", "<KEEP>", "spend", "<KEEP>", "candidates", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "address", "<KEEP>", "change", "<KEEP>", "address", "<KEEP>", "=", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "change", "<KEEP>", "address", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "min", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "selection3", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "selection2", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "selection2", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "selection1", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "selection1", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "input", "<KEEP>", "input", "<KEEP>", ":", "<KEEP>", "original", "<KEEP>", "inputs", "<KEEP>", ")", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "fees", "<KEEP>", "=", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "fee", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "min", "<KEEP>", "size", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "multiply", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "fee", "<KEEP>", "per", "<KEEP>", "kb", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "need", "<KEEP>", "at", "<KEEP>", "least", "<KEEP>", "reference", "<KEEP>", "fee", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "fees", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "reference", "<KEEP>", "_", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "fee", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "fees", "<KEEP>", "=", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "reference", "<KEEP>", "_", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "fee", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "value", "<KEEP>", "needed", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "fees", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "value", "<KEEP>", "needed", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", "needed", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "selected", "<KEEP>", "=", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", ";", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "coin", "<KEEP>", "selector", "<KEEP>", ".", "<KEEP>", "select", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "needed", "<KEEP>", ",", "<KEEP>", "candidates", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "needed", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "gathered", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "original", "<KEEP>", "inputs", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "either", "<KEEP>", "category2", "<KEEP>", "or3", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "category3", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ".", "<KEEP>", "subtract", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "needed", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "selected", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "selected", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "ensure", "<KEEP>", "min", "<KEEP>", "required", "<KEEP>", "fee", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "zero", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "cent", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "fees", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "reference", "<KEEP>", "_", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "fee", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "either", "<KEEP>", "category2", "<KEEP>", "or3", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "cent", "<KEEP>", ";", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "subtract", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "reference", "<KEEP>", "_", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "fee", "<KEEP>", ".", "<KEEP>", "subtract", "<KEEP>", "(", "<KEEP>", "fees", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "zero", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "change", "<KEEP>", "address", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "change", "<KEEP>", "address", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "change", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", "params", "<KEEP>", ",", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ",", "<KEEP>", "change", "<KEEP>", ",", "<KEEP>", "change", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "ensure", "<KEEP>", "min", "<KEEP>", "required", "<KEEP>", "fee", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "nondust", "<KEEP>", "_", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "change", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "is", "<KEEP>", "category3", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "reference", "<KEEP>", "_", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "fee", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "nondust", "<KEEP>", "_", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "size", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "bitcoin", "<KEEP>", "serialize", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "+", "<KEEP>", "var", "<KEEP>", "int", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "outputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "var", "<KEEP>", "int", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "outputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "either", "<KEEP>", "category2", "<KEEP>", "or3", "<KEEP>", ")", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "either", "<KEEP>", "category2", "<KEEP>", "or3", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "is", "<KEEP>", "category3", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "reference", "<KEEP>", "_", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "fee", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "output", "<KEEP>", ":", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "gathered", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "script", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "script", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "sent", "<KEEP>", "to", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "size", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "key", "<KEEP>", "from", "<KEEP>", "pub", "<KEEP>", "hash", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "script", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "hash", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "script", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "sent", "<KEEP>", "to", "<KEEP>", "raw", "<KEEP>", "pub", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "size", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "script", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "size", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "bitcoin", "<KEEP>", "serialize", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "size", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", ">", "<KEEP>", "min", "<KEEP>", "size", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "fee", "<KEEP>", "per", "<KEEP>", "kb", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "zero", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "min", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "size", "<KEEP>", ";", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "selected", "<KEEP>", ";", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "category3", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection3", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "selection3", "<KEEP>", "=", "<KEEP>", "selection", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "either", "<KEEP>", "category2", "<KEEP>", "or3", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "selection2", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "cent", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "selection2", "<KEEP>", "=", "<KEEP>", "selection", "<KEEP>", ";", "<KEEP>", "selection2", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "check", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "selection1", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "selection1", "<KEEP>", "=", "<KEEP>", "selection", "<KEEP>", ";", "<KEEP>", "selection1", "<KEEP>", "change", "<KEEP>", "=", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "selected", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "check", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "for", "<KEEP>", "next", "<KEEP>", "category", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "value", "<KEEP>", "selected", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "input", "<KEEP>", "input", "<KEEP>", ":", "<KEEP>", "original", "<KEEP>", "inputs", "<KEEP>", ")", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection3", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "selection2", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "selection1", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "warn", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "best", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection1", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection1", "<KEEP>", "change", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "selection1", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ".", "<KEEP>", "subtract", "<KEEP>", "(", "<KEEP>", "selection1", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "selection1", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ";", "<KEEP>", "best", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "selection1", "<KEEP>", ";", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "selection1", "<KEEP>", "change", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection2", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "selection2", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ".", "<KEEP>", "subtract", "<KEEP>", "(", "<KEEP>", "check", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "selection2", "<KEEP>", "change", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "fee", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "fee", "<KEEP>", ";", "<KEEP>", "best", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "selection2", "<KEEP>", ";", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "selection2", "<KEEP>", "change", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection3", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "selection3", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "lowest", "<KEEP>", "fee", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "best", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "selection3", "<KEEP>", ";", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "output", "<KEEP>", "output", "<KEEP>", ":", "<KEEP>", "best", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "gathered", "<KEEP>", ")", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "input", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "total", "<KEEP>", "input", "<KEEP>", "=", "<KEEP>", "total", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "best", "<KEEP>", "coin", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "gathered", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "confidence", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "confidence", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "confidence", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "pending", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "total", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "total", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "bitcoin", "<KEEP>", "value", "<KEEP>", "to", "<KEEP>", "friendly", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "best", "<KEEP>", "change", "<KEEP>", "output", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "sign", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "sig", "<KEEP>", "hash", "<KEEP>", ".", "<KEEP>", "all", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "aes", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "script", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "int", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "bitcoin", "<KEEP>", "serialize", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "size", "<KEEP>", ">", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "_", "<KEEP>", "standard", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "size", "<KEEP>", ",", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "_", "<KEEP>", "standard", "<KEEP>", "_", "<KEEP>", "tx", "<KEEP>", "_", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "confidence", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "transaction", "<KEEP>", "confidence", "<KEEP>", ".", "<KEEP>", "source", "<KEEP>", ".", "<KEEP>", "self", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "completed", "<KEEP>", "=", "<KEEP>", "true", "<INSERT>", ";", "<INSERT>", "req", "<INSERT>", ".", "<INSERT>", "fee", "<INSERT>", "=", "<INSERT>", "total", "<INSERT>", "input", "<INSERT>", ".", "<INSERT>", "subtract", "<INSERT>", "(", "<INSERT>", "total", "<INSERT>", "output", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "hash", "<KEEP>", "as", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "req", "<KEEP>", ".", "<KEEP>", "tx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inputs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "total", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "subtract", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "total", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "lock", "<KEEP>", ".", "<KEEP>", "unlock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8291608476429704, "using": 1, "keep": 1}
{"id": "vbehar_rundeck-api-java-client-0-5973", "old_comment": "the duration of the execution in seconds ( or null if the duration is still running , or has been aborted )", "old_comment_tokens": ["the", "duration", "of", "the", "execution", "in", "seconds", "(", "or", "null", "if", "the", "duration", "is", "still", "running", ",", "or", "has", "been", "aborted", ")"], "new_comment": "the duration of the execution in seconds ( or null if the execution is still running , or has been aborted )", "new_comment_tokens": ["the", "duration", "of", "the", "execution", "in", "seconds", "(", "or", "null", "if", "the", "execution", "is", "still", "running", ",", "or", "has", "been", "aborted", ")"], "old_code": "public long get duration in seconds ( ) { long duration in millis = get duration in millis ( ) ; if ( duration in millis = = null ) { return null ; } return time unit . milliseconds . to seconds ( duration in millis ) ; }", "old_code_tokens": ["public", "long", "get", "duration", "in", "seconds", "(", ")", "{", "long", "duration", "in", "millis", "=", "get", "duration", "in", "millis", "(", ")", ";", "if", "(", "duration", "in", "millis", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "time", "unit", ".", "milliseconds", ".", "to", "seconds", "(", "duration", "in", "millis", ")", ";", "}"], "new_code": "public long get duration in seconds ( ) { long duration in millis = get duration in millis ( ) ; return duration in millis ! = null ? time unit . milliseconds . to seconds ( duration in millis ) : null ; }", "new_code_tokens": ["public", "long", "get", "duration", "in", "seconds", "(", ")", "{", "long", "duration", "in", "millis", "=", "get", "duration", "in", "millis", "(", ")", ";", "return", "duration", "in", "millis", "!", "=", "null", "?", "time", "unit", ".", "milliseconds", ".", "to", "seconds", "(", "duration", "in", "millis", ")", ":", "null", ";", "}"], "span_diff_code": "<KEEP> public long get duration in seconds ( ) { long duration in millis = get duration in millis ( ) ; <KEEP_END> <REPLACE_OLD> if ( <REPLACE_NEW> return <REPLACE_END> <KEEP> duration in millis <KEEP_END> <REPLACE_OLD> = <REPLACE_NEW> ! <REPLACE_END> <KEEP> = null <KEEP_END> <REPLACE_OLD> ) { return null ; } return <REPLACE_NEW> ? <REPLACE_END> <KEEP> time unit . milliseconds . to seconds ( duration in millis ) <KEEP_END> <INSERT> : null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "duration", "in", "seconds", "(", ")", "{", "long", "duration", "in", "millis", "=", "get", "duration", "in", "millis", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "duration", "in", "millis", "<KEEP_END>", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "!", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "return", "null", ";", "}", "return", "<REPLACE_NEW>", "?", "<REPLACE_END>", "<KEEP>", "time", "unit", ".", "milliseconds", ".", "to", "seconds", "(", "duration", "in", "millis", ")", "<KEEP_END>", "<INSERT>", ":", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> if the duration <REPLACE_NEW_KEEP_BEFORE> if the execution <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "if", "the", "duration", "<REPLACE_NEW_KEEP_BEFORE>", "if", "the", "execution", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "duration", "<KEEP>", "in", "<KEEP>", "seconds", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "long", "<KEEP>", "duration", "<KEEP>", "in", "<KEEP>", "millis", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "duration", "<KEEP>", "in", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "return", "<KEEP>", "duration", "<KEEP>", "in", "<KEEP>", "millis", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "!", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "?", "<KEEP>", "time", "<KEEP>", "unit", "<KEEP>", ".", "<KEEP>", "milliseconds", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "seconds", "<KEEP>", "(", "<KEEP>", "duration", "<KEEP>", "in", "<KEEP>", "millis", "<KEEP>", ")", "<INSERT>", ":", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9621079219056361, "using": 0, "keep": 1}
{"id": "google_protobuf-dt-2-4870", "old_comment": "the name of the language .", "old_comment_tokens": ["the", "name", "of", "the", "language", "."], "new_comment": "the language .", "new_comment_tokens": ["the", "language", "."], "old_code": "public string language ( ) { return language . language name ( ) ; }", "old_code_tokens": ["public", "string", "language", "(", ")", "{", "return", "language", ".", "language", "name", "(", ")", ";", "}"], "new_code": "public target language language ( ) { return language ; }", "new_code_tokens": ["public", "target", "language", "language", "(", ")", "{", "return", "language", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> target language <REPLACE_END> <KEEP> language ( ) { return language <KEEP_END> <DELETE> . language name ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "target", "language", "<REPLACE_END>", "<KEEP>", "language", "(", ")", "{", "return", "language", "<KEEP_END>", "<DELETE>", ".", "language", "name", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> the name of <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "name", "of", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "language", "<KEEP>", "language", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "language", "<DELETE>", ".", "<DELETE>", "language", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9565569681619993, "using": 2, "keep": 1}
{"id": "eclipse_objectteams-20-5099", "old_comment": "true iff local cannot be null for this flow info", "old_comment_tokens": ["true", "iff", "local", "cannot", "be", "null", "for", "this", "flow", "info"], "new_comment": "true iff field or local cannot be null for this flow info", "new_comment_tokens": ["true", "iff", "field", "or", "local", "cannot", "be", "null", "for", "this", "flow", "info"], "old_code": "public boolean cannot be null ( local variable binding local ) { return is definitely non null ( local ) | | is protected non null ( local ) ; }", "old_code_tokens": ["public", "boolean", "cannot", "be", "null", "(", "local", "variable", "binding", "local", ")", "{", "return", "is", "definitely", "non", "null", "(", "local", ")", "|", "|", "is", "protected", "non", "null", "(", "local", ")", ";", "}"], "new_code": "public boolean cannot be null ( variable binding binding ) { return is definitely non null ( binding ) | | is protected non null ( binding ) ; }", "new_code_tokens": ["public", "boolean", "cannot", "be", "null", "(", "variable", "binding", "binding", ")", "{", "return", "is", "definitely", "non", "null", "(", "binding", ")", "|", "|", "is", "protected", "non", "null", "(", "binding", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean cannot be null ( <KEEP_END> <DELETE> local <DELETE_END> <KEEP> variable binding <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) { return is definitely non null ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) | | is protected non null ( <KEEP_END> <REPLACE_OLD> local <REPLACE_NEW> binding <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "cannot", "be", "null", "(", "<KEEP_END>", "<DELETE>", "local", "<DELETE_END>", "<KEEP>", "variable", "binding", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "is", "definitely", "non", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", "|", "|", "is", "protected", "non", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> iff <INSERT_NEW_KEEP_BEFORE> iff field or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "iff", "<INSERT_NEW_KEEP_BEFORE>", "iff", "field", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "cannot", "<KEEP>", "be", "<KEEP>", "null", "<KEEP>", "(", "<DELETE>", "local", "<KEEP>", "variable", "<KEEP>", "binding", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "is", "<KEEP>", "definitely", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "is", "<KEEP>", "protected", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "local", "<REPLACE_NEW>", "binding", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8817545450103427, "using": 0, "keep": 1}
{"id": "languagetool-org_languagetool-3-2289", "old_comment": "true if the string is whitespace - only", "old_comment_tokens": ["true", "if", "the", "string", "is", "whitespace", "-", "only"], "new_comment": "true if the string is a whitespace character", "new_comment_tokens": ["true", "if", "the", "string", "is", "a", "whitespace", "character"], "old_code": "public static boolean is whitespace ( final string str ) { if ( str . equals ( str ) | | str . equals ( str ) ) { return false ; } final string trim str = str . trim ( ) ; if ( is empty ( trim str ) ) { return true ; } if ( trim str . length ( ) = = num ) { if ( str . equals ( str ) ) { return true ; } return character . is whitespace ( trim str . char at ( num ) ) ; } return false ; }", "old_code_tokens": ["public", "static", "boolean", "is", "whitespace", "(", "final", "string", "str", ")", "{", "if", "(", "str", ".", "equals", "(", "str", ")", "|", "|", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "final", "string", "trim", "str", "=", "str", ".", "trim", "(", ")", ";", "if", "(", "is", "empty", "(", "trim", "str", ")", ")", "{", "return", "true", ";", "}", "if", "(", "trim", "str", ".", "length", "(", ")", "=", "=", "num", ")", "{", "if", "(", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "true", ";", "}", "return", "character", ".", "is", "whitespace", "(", "trim", "str", ".", "char", "at", "(", "num", ")", ")", ";", "}", "return", "false", ";", "}"], "new_code": "public static boolean is whitespace ( final string str ) { if ( str . equals ( str ) | | str . equals ( str ) ) { return false ; } final string trim str = str . trim ( ) ; if ( is empty ( trim str ) ) { return true ; } if ( trim str . length ( ) = = num ) { if ( str . equals ( str ) ) { return true ; } else if ( str . equals ( str ) | | str . equals ( str ) ) { return true ; } return character . is whitespace ( trim str . char at ( num ) ) ; } return false ; }", "new_code_tokens": ["public", "static", "boolean", "is", "whitespace", "(", "final", "string", "str", ")", "{", "if", "(", "str", ".", "equals", "(", "str", ")", "|", "|", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "final", "string", "trim", "str", "=", "str", ".", "trim", "(", ")", ";", "if", "(", "is", "empty", "(", "trim", "str", ")", ")", "{", "return", "true", ";", "}", "if", "(", "trim", "str", ".", "length", "(", ")", "=", "=", "num", ")", "{", "if", "(", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "true", ";", "}", "else", "if", "(", "str", ".", "equals", "(", "str", ")", "|", "|", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "true", ";", "}", "return", "character", ".", "is", "whitespace", "(", "trim", "str", ".", "char", "at", "(", "num", ")", ")", ";", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public static boolean is whitespace ( final string str ) { if ( str . equals ( str ) | | str . equals ( str ) ) { return false ; } final string trim str = str . trim ( ) ; if ( is empty ( trim str ) ) { return true ; } if ( trim str . length ( ) = = num ) { if ( str . equals ( str ) ) { return true ; } <KEEP_END> <INSERT> else if ( str . equals ( str ) | | str . equals ( str ) ) { return true ; } <INSERT_END> <KEEP> return character . is whitespace ( trim str . char at ( num ) ) ; } return false ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "whitespace", "(", "final", "string", "str", ")", "{", "if", "(", "str", ".", "equals", "(", "str", ")", "|", "|", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "final", "string", "trim", "str", "=", "str", ".", "trim", "(", ")", ";", "if", "(", "is", "empty", "(", "trim", "str", ")", ")", "{", "return", "true", ";", "}", "if", "(", "trim", "str", ".", "length", "(", ")", "=", "=", "num", ")", "{", "if", "(", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "true", ";", "}", "<KEEP_END>", "<INSERT>", "else", "if", "(", "str", ".", "equals", "(", "str", ")", "|", "|", "str", ".", "equals", "(", "str", ")", ")", "{", "return", "true", ";", "}", "<INSERT_END>", "<KEEP>", "return", "character", ".", "is", "whitespace", "(", "trim", "str", ".", "char", "at", "(", "num", ")", ")", ";", "}", "return", "false", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> is <INSERT_NEW_KEEP_BEFORE> is a <INSERT_END> <REPLACE_OLD> - only <REPLACE_NEW> character <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "is", "<INSERT_NEW_KEEP_BEFORE>", "is", "a", "<INSERT_END>", "<REPLACE_OLD>", "-", "only", "<REPLACE_NEW>", "character", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "whitespace", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "trim", "<KEEP>", "str", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "trim", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "trim", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "str", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "character", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "whitespace", "<KEEP>", "(", "<KEEP>", "trim", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "char", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7912779699311634, "using": 0, "keep": 1}
{"id": "javirosa_javirosa1912-odkcollectvariant-7-3767", "old_comment": "true if the current view represents a question in the form", "old_comment_tokens": ["true", "if", "the", "current", "view", "represents", "a", "question", "in", "the", "form"], "new_comment": "true if the current view represents a question or group folio in the form", "new_comment_tokens": ["true", "if", "the", "current", "view", "represents", "a", "question", "or", "group", "folio", "in", "the", "form"], "old_code": "private boolean current prompt is question ( ) { return ( m form entry model . get event ( ) = = form entry controller . event _ question ) ; }", "old_code_tokens": ["private", "boolean", "current", "prompt", "is", "question", "(", ")", "{", "return", "(", "m", "form", "entry", "model", ".", "get", "event", "(", ")", "=", "=", "form", "entry", "controller", ".", "event", "_", "question", ")", ";", "}"], "new_code": "private boolean current prompt is question ( ) { return ( m form entry model . get event ( ) = = form entry controller . event _ question ) | | current prompt is group folio ( ) ; }", "new_code_tokens": ["private", "boolean", "current", "prompt", "is", "question", "(", ")", "{", "return", "(", "m", "form", "entry", "model", ".", "get", "event", "(", ")", "=", "=", "form", "entry", "controller", ".", "event", "_", "question", ")", "|", "|", "current", "prompt", "is", "group", "folio", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean current prompt is question ( ) { return ( m form entry model . get event ( ) = = form entry controller . event _ question ) <KEEP_END> <INSERT> | | current prompt is group folio ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "current", "prompt", "is", "question", "(", ")", "{", "return", "(", "m", "form", "entry", "model", ".", "get", "event", "(", ")", "=", "=", "form", "entry", "controller", ".", "event", "_", "question", ")", "<KEEP_END>", "<INSERT>", "|", "|", "current", "prompt", "is", "group", "folio", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> question <INSERT_NEW_KEEP_BEFORE> question or group folio <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "question", "<INSERT_NEW_KEEP_BEFORE>", "question", "or", "group", "folio", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "current", "<KEEP>", "prompt", "<KEEP>", "is", "<KEEP>", "question", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "form", "<KEEP>", "entry", "<KEEP>", "model", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "event", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "form", "<KEEP>", "entry", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "event", "<KEEP>", "_", "<KEEP>", "question", "<KEEP>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "current", "<INSERT>", "prompt", "<INSERT>", "is", "<INSERT>", "group", "<INSERT>", "folio", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9750708027495525, "using": 2, "keep": 1}
{"id": "Letractively_choosel-12-6923", "old_comment": "delta - type of change", "old_comment_tokens": ["delta", "-", "type", "of", "change"], "new_comment": "delta type - type of change", "new_comment_tokens": ["delta", "type", "-", "type", "of", "change"], "old_code": "public delta get delta ( ) { return delta ; }", "old_code_tokens": ["public", "delta", "get", "delta", "(", ")", "{", "return", "delta", ";", "}"], "new_code": "public delta type get delta ( ) { return delta ; }", "new_code_tokens": ["public", "delta", "type", "get", "delta", "(", ")", "{", "return", "delta", ";", "}"], "span_diff_code": "<KEEP> public delta <KEEP_END> <INSERT> type <INSERT_END> <KEEP> get delta ( ) { return delta ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "delta", "<KEEP_END>", "<INSERT>", "type", "<INSERT_END>", "<KEEP>", "get", "delta", "(", ")", "{", "return", "delta", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> delta <INSERT_NEW_KEEP_BEFORE> delta type <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "delta", "<INSERT_NEW_KEEP_BEFORE>", "delta", "type", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "delta", "<INSERT>", "type", "<KEEP>", "get", "<KEEP>", "delta", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "delta", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9923328601227468, "using": 2, "keep": 1}
{"id": "graphhopper_graphhopper-6-3107", "old_comment": "edge pointer which is edge id * edge entry size", "old_comment_tokens": ["edge", "pointer", "which", "is", "edge", "id", "*", "edge", "entry", "size"], "new_comment": "edge id pointer which is edge id * edge entry size", "new_comment_tokens": ["edge", "id", "pointer", "which", "is", "edge", "id", "*", "edge", "entry", "size"], "old_code": "protected long internal edge add ( int from node id , int to node id , double dist , int flags ) { int new or existing edge = next edge ( ) ; connect new edge ( from node id , new or existing edge ) ; connect new edge ( to node id , new or existing edge ) ; return write edge ( new or existing edge , from node id , to node id , empty _ link , empty _ link , dist , flags ) ; }", "old_code_tokens": ["protected", "long", "internal", "edge", "add", "(", "int", "from", "node", "id", ",", "int", "to", "node", "id", ",", "double", "dist", ",", "int", "flags", ")", "{", "int", "new", "or", "existing", "edge", "=", "next", "edge", "(", ")", ";", "connect", "new", "edge", "(", "from", "node", "id", ",", "new", "or", "existing", "edge", ")", ";", "connect", "new", "edge", "(", "to", "node", "id", ",", "new", "or", "existing", "edge", ")", ";", "return", "write", "edge", "(", "new", "or", "existing", "edge", ",", "from", "node", "id", ",", "to", "node", "id", ",", "empty", "_", "link", ",", "empty", "_", "link", ",", "dist", ",", "flags", ")", ";", "}"], "new_code": "protected int internal edge add ( int from node id , int to node id , double dist , int flags ) { int new or existing edge = next edge ( ) ; connect new edge ( from node id , new or existing edge ) ; connect new edge ( to node id , new or existing edge ) ; write edge ( new or existing edge , from node id , to node id , empty _ link , empty _ link , dist , flags ) ; return new or existing edge ; }", "new_code_tokens": ["protected", "int", "internal", "edge", "add", "(", "int", "from", "node", "id", ",", "int", "to", "node", "id", ",", "double", "dist", ",", "int", "flags", ")", "{", "int", "new", "or", "existing", "edge", "=", "next", "edge", "(", ")", ";", "connect", "new", "edge", "(", "from", "node", "id", ",", "new", "or", "existing", "edge", ")", ";", "connect", "new", "edge", "(", "to", "node", "id", ",", "new", "or", "existing", "edge", ")", ";", "write", "edge", "(", "new", "or", "existing", "edge", ",", "from", "node", "id", ",", "to", "node", "id", ",", "empty", "_", "link", ",", "empty", "_", "link", ",", "dist", ",", "flags", ")", ";", "return", "new", "or", "existing", "edge", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> int <REPLACE_END> <KEEP> internal edge add ( int from node id , int to node id , double dist , int flags ) { int new or existing edge = next edge ( ) ; connect new edge ( from node id , new or existing edge ) ; connect new edge ( to node id , new or existing edge ) ; <KEEP_END> <DELETE> return <DELETE_END> <KEEP> write edge ( new or existing edge , from node id , to node id , empty _ link , empty _ link , dist , flags ) ; <KEEP_END> <INSERT> return new or existing edge ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "internal", "edge", "add", "(", "int", "from", "node", "id", ",", "int", "to", "node", "id", ",", "double", "dist", ",", "int", "flags", ")", "{", "int", "new", "or", "existing", "edge", "=", "next", "edge", "(", ")", ";", "connect", "new", "edge", "(", "from", "node", "id", ",", "new", "or", "existing", "edge", ")", ";", "connect", "new", "edge", "(", "to", "node", "id", ",", "new", "or", "existing", "edge", ")", ";", "<KEEP_END>", "<DELETE>", "return", "<DELETE_END>", "<KEEP>", "write", "edge", "(", "new", "or", "existing", "edge", ",", "from", "node", "id", ",", "to", "node", "id", ",", "empty", "_", "link", ",", "empty", "_", "link", ",", "dist", ",", "flags", ")", ";", "<KEEP_END>", "<INSERT>", "return", "new", "or", "existing", "edge", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> pointer <INSERT_NEW_KEEP_AFTER> id pointer <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "pointer", "<INSERT_NEW_KEEP_AFTER>", "id", "pointer", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<KEEP>", "internal", "<KEEP>", "edge", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "from", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "to", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "double", "<KEEP>", "dist", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "flags", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "new", "<KEEP>", "or", "<KEEP>", "existing", "<KEEP>", "edge", "<KEEP>", "=", "<KEEP>", "next", "<KEEP>", "edge", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "connect", "<KEEP>", "new", "<KEEP>", "edge", "<KEEP>", "(", "<KEEP>", "from", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "or", "<KEEP>", "existing", "<KEEP>", "edge", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "connect", "<KEEP>", "new", "<KEEP>", "edge", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "or", "<KEEP>", "existing", "<KEEP>", "edge", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<KEEP>", "write", "<KEEP>", "edge", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "or", "<KEEP>", "existing", "<KEEP>", "edge", "<KEEP>", ",", "<KEEP>", "from", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "to", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "link", "<KEEP>", ",", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "link", "<KEEP>", ",", "<KEEP>", "dist", "<KEEP>", ",", "<KEEP>", "flags", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "or", "<INSERT>", "existing", "<INSERT>", "edge", "<INSERT>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.975417147835671, "using": 0, "keep": 1}
{"id": "rtreffer_minidns-2-6349", "old_comment": "the binary size of the string ( length + 2 ) .", "old_comment_tokens": ["the", "binary", "size", "of", "the", "string", "(", "length", "+", "2", ")", "."], "new_comment": "the binary size of the string .", "new_comment_tokens": ["the", "binary", "size", "of", "the", "string", "."], "old_code": "public static int size ( string name ) { return name . length ( ) + num ; }", "old_code_tokens": ["public", "static", "int", "size", "(", "string", "name", ")", "{", "return", "name", ".", "length", "(", ")", "+", "num", ";", "}"], "new_code": "public static int size ( string name ) { if ( name . is empty ( ) ) return num ; return name . length ( ) + num ; }", "new_code_tokens": ["public", "static", "int", "size", "(", "string", "name", ")", "{", "if", "(", "name", ".", "is", "empty", "(", ")", ")", "return", "num", ";", "return", "name", ".", "length", "(", ")", "+", "num", ";", "}"], "span_diff_code": "<KEEP> public static int size ( string name ) { <KEEP_END> <INSERT> if ( name . is empty ( ) ) return num ; <INSERT_END> <KEEP> return name . length ( ) + num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "int", "size", "(", "string", "name", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "name", ".", "is", "empty", "(", ")", ")", "return", "num", ";", "<INSERT_END>", "<KEEP>", "return", "name", ".", "length", "(", ")", "+", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ( length + 2 ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "length", "+", "2", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "name", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8643005520036324, "using": 0, "keep": 1}
{"id": "UnimibSoftEngCourse1516_lab4-es1-v.popescu2-64-4147", "old_comment": "an empty fast set if the method param was null or the unmodified method param .", "old_comment_tokens": ["an", "empty", "fast", "set", "if", "the", "method", "param", "was", "null", "or", "the", "unmodified", "method", "param", "."], "new_comment": "an empty collection if the method param was null or the unmodified method param .", "new_comment_tokens": ["an", "empty", "collection", "if", "the", "method", "param", "was", "null", "or", "the", "unmodified", "method", "param", "."], "old_code": "public static collection < refreshable > build refreshed ( collection < refreshable > current already refreshed ) { return current already refreshed = = null ? new fast set < refreshable > ( num ) : current already refreshed ; }", "old_code_tokens": ["public", "static", "collection", "<", "refreshable", ">", "build", "refreshed", "(", "collection", "<", "refreshable", ">", "current", "already", "refreshed", ")", "{", "return", "current", "already", "refreshed", "=", "=", "null", "?", "new", "fast", "set", "<", "refreshable", ">", "(", "num", ")", ":", "current", "already", "refreshed", ";", "}"], "new_code": "public static collection < refreshable > build refreshed ( collection < refreshable > current already refreshed ) { return current already refreshed = = null ? new hash set < refreshable > ( num ) : current already refreshed ; }", "new_code_tokens": ["public", "static", "collection", "<", "refreshable", ">", "build", "refreshed", "(", "collection", "<", "refreshable", ">", "current", "already", "refreshed", ")", "{", "return", "current", "already", "refreshed", "=", "=", "null", "?", "new", "hash", "set", "<", "refreshable", ">", "(", "num", ")", ":", "current", "already", "refreshed", ";", "}"], "span_diff_code": "<KEEP> public static collection < refreshable > build refreshed ( collection < refreshable > current already refreshed ) { return current already refreshed = = null ? new <KEEP_END> <REPLACE_OLD> fast <REPLACE_NEW> hash <REPLACE_END> <KEEP> set < refreshable > ( num ) : current already refreshed ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "collection", "<", "refreshable", ">", "build", "refreshed", "(", "collection", "<", "refreshable", ">", "current", "already", "refreshed", ")", "{", "return", "current", "already", "refreshed", "=", "=", "null", "?", "new", "<KEEP_END>", "<REPLACE_OLD>", "fast", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", "set", "<", "refreshable", ">", "(", "num", ")", ":", "current", "already", "refreshed", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> fast set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "fast", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "refreshable", "<KEEP>", ">", "<KEEP>", "build", "<KEEP>", "refreshed", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "refreshable", "<KEEP>", ">", "<KEEP>", "current", "<KEEP>", "already", "<KEEP>", "refreshed", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "current", "<KEEP>", "already", "<KEEP>", "refreshed", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "new", "<REPLACE_OLD>", "fast", "<REPLACE_NEW>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "refreshable", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "current", "<KEEP>", "already", "<KEEP>", "refreshed", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8314889311598864, "using": 1, "keep": 1}
{"id": "Bukkit_Bukkit-11-3615", "old_comment": "priority queue the looked up or create queue matching the requested type", "old_comment_tokens": ["priority", "queue", "the", "looked", "up", "or", "create", "queue", "matching", "the", "requested", "type"], "new_comment": "sorted set the looked up or create queue matching the requested type", "new_comment_tokens": ["sorted", "set", "the", "looked", "up", "or", "create", "queue", "matching", "the", "requested", "type"], "old_code": "private priority queue < registered listener > get event listeners ( event . type type ) { priority queue < registered listener > event listeners = listeners . get ( type ) ; if ( event listeners ! = null ) { return event listeners ; } event listeners = new priority queue < registered listener > ( num , new comparator < registered listener > ( ) { public int compare ( registered listener i , registered listener j ) { return i . get priority ( ) . compare to ( j . get priority ( ) ) ; } } ) ; listeners . put ( type , event listeners ) ; return event listeners ; }", "old_code_tokens": ["private", "priority", "queue", "<", "registered", "listener", ">", "get", "event", "listeners", "(", "event", ".", "type", "type", ")", "{", "priority", "queue", "<", "registered", "listener", ">", "event", "listeners", "=", "listeners", ".", "get", "(", "type", ")", ";", "if", "(", "event", "listeners", "!", "=", "null", ")", "{", "return", "event", "listeners", ";", "}", "event", "listeners", "=", "new", "priority", "queue", "<", "registered", "listener", ">", "(", "num", ",", "new", "comparator", "<", "registered", "listener", ">", "(", ")", "{", "public", "int", "compare", "(", "registered", "listener", "i", ",", "registered", "listener", "j", ")", "{", "return", "i", ".", "get", "priority", "(", ")", ".", "compare", "to", "(", "j", ".", "get", "priority", "(", ")", ")", ";", "}", "}", ")", ";", "listeners", ".", "put", "(", "type", ",", "event", "listeners", ")", ";", "return", "event", "listeners", ";", "}"], "new_code": "private sorted set < registered listener > get event listeners ( event . type type ) { sorted set < registered listener > event listeners = listeners . get ( type ) ; if ( event listeners ! = null ) { return event listeners ; } event listeners = new tree set < registered listener > ( comparer ) ; listeners . put ( type , event listeners ) ; return event listeners ; }", "new_code_tokens": ["private", "sorted", "set", "<", "registered", "listener", ">", "get", "event", "listeners", "(", "event", ".", "type", "type", ")", "{", "sorted", "set", "<", "registered", "listener", ">", "event", "listeners", "=", "listeners", ".", "get", "(", "type", ")", ";", "if", "(", "event", "listeners", "!", "=", "null", ")", "{", "return", "event", "listeners", ";", "}", "event", "listeners", "=", "new", "tree", "set", "<", "registered", "listener", ">", "(", "comparer", ")", ";", "listeners", ".", "put", "(", "type", ",", "event", "listeners", ")", ";", "return", "event", "listeners", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> priority queue <REPLACE_NEW> sorted set <REPLACE_END> <KEEP> < registered listener > get event listeners ( event . type type ) { <KEEP_END> <REPLACE_OLD> priority queue <REPLACE_NEW> sorted set <REPLACE_END> <KEEP> < registered listener > event listeners = listeners . get ( type ) ; if ( event listeners ! = null ) { return event listeners ; } event listeners = new <KEEP_END> <REPLACE_OLD> priority queue <REPLACE_NEW> tree set <REPLACE_END> <KEEP> < registered listener > ( <KEEP_END> <REPLACE_OLD> num , new comparator < registered listener > ( ) { public int compare ( registered listener i , registered listener j ) { return i . get priority ( ) . compare to ( j . get priority ( ) ) ; } } <REPLACE_NEW> comparer <REPLACE_END> <KEEP> ) ; listeners . put ( type , event listeners ) ; return event listeners ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "priority", "queue", "<REPLACE_NEW>", "sorted", "set", "<REPLACE_END>", "<KEEP>", "<", "registered", "listener", ">", "get", "event", "listeners", "(", "event", ".", "type", "type", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "priority", "queue", "<REPLACE_NEW>", "sorted", "set", "<REPLACE_END>", "<KEEP>", "<", "registered", "listener", ">", "event", "listeners", "=", "listeners", ".", "get", "(", "type", ")", ";", "if", "(", "event", "listeners", "!", "=", "null", ")", "{", "return", "event", "listeners", ";", "}", "event", "listeners", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "priority", "queue", "<REPLACE_NEW>", "tree", "set", "<REPLACE_END>", "<KEEP>", "<", "registered", "listener", ">", "(", "<KEEP_END>", "<REPLACE_OLD>", "num", ",", "new", "comparator", "<", "registered", "listener", ">", "(", ")", "{", "public", "int", "compare", "(", "registered", "listener", "i", ",", "registered", "listener", "j", ")", "{", "return", "i", ".", "get", "priority", "(", ")", ".", "compare", "to", "(", "j", ".", "get", "priority", "(", ")", ")", ";", "}", "}", "<REPLACE_NEW>", "comparer", "<REPLACE_END>", "<KEEP>", ")", ";", "listeners", ".", "put", "(", "type", ",", "event", "listeners", ")", ";", "return", "event", "listeners", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> priority queue <REPLACE_NEW> sorted set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "priority", "queue", "<REPLACE_NEW>", "sorted", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "queue", "<REPLACE_NEW>", "sorted", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "listener", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", "(", "<KEEP>", "event", "<KEEP>", ".", "<KEEP>", "type", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "queue", "<REPLACE_NEW>", "sorted", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "listener", "<KEEP>", ">", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", "=", "<KEEP>", "listeners", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "queue", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "registered", "<KEEP>", "listener", "<KEEP>", ">", "<KEEP>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "comparator", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "registered", "<REPLACE_OLD>", "listener", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "compare", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "registered", "<REPLACE_OLD>", "listener", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "registered", "<REPLACE_OLD>", "listener", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "compare", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "comparer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "listeners", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "event", "<KEEP>", "listeners", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9711832346978393, "using": 2, "keep": 1}
{"id": "svn2github_icefaces-1-5184", "old_comment": "row expander child of the table , or null", "old_comment_tokens": ["row", "expander", "child", "of", "the", "table", ",", "or", "null"], "new_comment": "row expansion child of the table , or null", "new_comment_tokens": ["row", "expansion", "child", "of", "the", "table", ",", "or", "null"], "old_code": "public row expander get row expansion ( ) { for ( uicomponent kid : get children ( ) ) if ( kid instanceof row expander ) return ( row expander ) kid ; return null ; }", "old_code_tokens": ["public", "row", "expander", "get", "row", "expansion", "(", ")", "{", "for", "(", "uicomponent", "kid", ":", "get", "children", "(", ")", ")", "if", "(", "kid", "instanceof", "row", "expander", ")", "return", "(", "row", "expander", ")", "kid", ";", "return", "null", ";", "}"], "new_code": "public row expansion get row expansion ( ) { for ( uicomponent kid : get children ( ) ) if ( kid instanceof row expansion ) return ( row expansion ) kid ; return null ; }", "new_code_tokens": ["public", "row", "expansion", "get", "row", "expansion", "(", ")", "{", "for", "(", "uicomponent", "kid", ":", "get", "children", "(", ")", ")", "if", "(", "kid", "instanceof", "row", "expansion", ")", "return", "(", "row", "expansion", ")", "kid", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public row <KEEP_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END> <KEEP> get row expansion ( ) { for ( uicomponent kid : get children ( ) ) if ( kid instanceof row <KEEP_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END> <KEEP> ) return ( row <KEEP_END> <REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END> <KEEP> ) kid ; return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "row", "<KEEP_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>", "<KEEP>", "get", "row", "expansion", "(", ")", "{", "for", "(", "uicomponent", "kid", ":", "get", "children", "(", ")", ")", "if", "(", "kid", "instanceof", "row", "<KEEP_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>", "<KEEP>", ")", "return", "(", "row", "<KEEP_END>", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>", "<KEEP>", ")", "kid", ";", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> expander <REPLACE_NEW> expansion <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "row", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "expansion", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "uicomponent", "<KEEP>", "kid", "<KEEP>", ":", "<KEEP>", "get", "<KEEP>", "children", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "kid", "<KEEP>", "instanceof", "<KEEP>", "row", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "row", "<REPLACE_OLD>", "expander", "<REPLACE_NEW>", "expansion", "<KEEP>", ")", "<KEEP>", "kid", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9806780496963569, "using": 2, "keep": 1}
{"id": "apache_ddlutils-115-7142", "old_comment": "the changes", "old_comment_tokens": ["the", "changes"], "new_comment": "the change or null if the columns are the same", "new_comment_tokens": ["the", "change", "or", "null", "if", "the", "columns", "are", "the", "same"], "old_code": "public list compare columns ( table source table , column source column , table target table , column target column ) { array list changes = new array list ( ) ; if ( _ platform info . get target jdbc type ( target column . get type code ( ) ) ! = source column . get type code ( ) ) { changes . add ( new column data type change ( source table , source column , target column . get type code ( ) ) ) ; } boolean size matters = _ platform info . has size ( source column . get type code ( ) ) ; boolean scale matters = _ platform info . has precision and scale ( source column . get type code ( ) ) ; if ( size matters & & ! string utils . equals ( source column . get size ( ) , target column . get size ( ) ) ) { changes . add ( new column size change ( source table , source column , target column . get size as int ( ) , target column . get scale ( ) ) ) ; } else if ( scale matters & & ( ! string utils . equals ( source column . get size ( ) , target column . get size ( ) ) | | ( source column . get scale ( ) ! = target column . get scale ( ) ) ) ) { changes . add ( new column size change ( source table , source column , target column . get size as int ( ) , target column . get scale ( ) ) ) ; } object source default value = source column . get parsed default value ( ) ; object target default value = target column . get parsed default value ( ) ; if ( ( ( source default value = = null ) & & ( target default value ! = null ) ) | | ( ( source default value ! = null ) & & ! source default value . equals ( target default value ) ) ) { changes . add ( new column default value change ( source table , source column , target column . get default value ( ) ) ) ; } if ( source column . is required ( ) ! = target column . is required ( ) ) { changes . add ( new column required change ( source table , source column ) ) ; } if ( source column . is auto increment ( ) ! = target column . is auto increment ( ) ) { changes . add ( new column auto increment change ( source table , source column ) ) ; } return changes ; }", "old_code_tokens": ["public", "list", "compare", "columns", "(", "table", "source", "table", ",", "column", "source", "column", ",", "table", "target", "table", ",", "column", "target", "column", ")", "{", "array", "list", "changes", "=", "new", "array", "list", "(", ")", ";", "if", "(", "_", "platform", "info", ".", "get", "target", "jdbc", "type", "(", "target", "column", ".", "get", "type", "code", "(", ")", ")", "!", "=", "source", "column", ".", "get", "type", "code", "(", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "data", "type", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "type", "code", "(", ")", ")", ")", ";", "}", "boolean", "size", "matters", "=", "_", "platform", "info", ".", "has", "size", "(", "source", "column", ".", "get", "type", "code", "(", ")", ")", ";", "boolean", "scale", "matters", "=", "_", "platform", "info", ".", "has", "precision", "and", "scale", "(", "source", "column", ".", "get", "type", "code", "(", ")", ")", ";", "if", "(", "size", "matters", "&", "&", "!", "string", "utils", ".", "equals", "(", "source", "column", ".", "get", "size", "(", ")", ",", "target", "column", ".", "get", "size", "(", ")", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "size", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "size", "as", "int", "(", ")", ",", "target", "column", ".", "get", "scale", "(", ")", ")", ")", ";", "}", "else", "if", "(", "scale", "matters", "&", "&", "(", "!", "string", "utils", ".", "equals", "(", "source", "column", ".", "get", "size", "(", ")", ",", "target", "column", ".", "get", "size", "(", ")", ")", "|", "|", "(", "source", "column", ".", "get", "scale", "(", ")", "!", "=", "target", "column", ".", "get", "scale", "(", ")", ")", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "size", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "size", "as", "int", "(", ")", ",", "target", "column", ".", "get", "scale", "(", ")", ")", ")", ";", "}", "object", "source", "default", "value", "=", "source", "column", ".", "get", "parsed", "default", "value", "(", ")", ";", "object", "target", "default", "value", "=", "target", "column", ".", "get", "parsed", "default", "value", "(", ")", ";", "if", "(", "(", "(", "source", "default", "value", "=", "=", "null", ")", "&", "&", "(", "target", "default", "value", "!", "=", "null", ")", ")", "|", "|", "(", "(", "source", "default", "value", "!", "=", "null", ")", "&", "&", "!", "source", "default", "value", ".", "equals", "(", "target", "default", "value", ")", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "default", "value", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "default", "value", "(", ")", ")", ")", ";", "}", "if", "(", "source", "column", ".", "is", "required", "(", ")", "!", "=", "target", "column", ".", "is", "required", "(", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "required", "change", "(", "source", "table", ",", "source", "column", ")", ")", ";", "}", "if", "(", "source", "column", ".", "is", "auto", "increment", "(", ")", "!", "=", "target", "column", ".", "is", "auto", "increment", "(", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "auto", "increment", "change", "(", "source", "table", ",", "source", "column", ")", ")", ";", "}", "return", "changes", ";", "}"], "new_code": "protected column definition change compare columns ( table source table , column source column , table target table , column target column ) { if ( column definition change . is changed ( get platform info ( ) , source column , target column ) ) { column new column def = _ clone helper . clone ( source column , true ) ; int target type code = _ platform info . get target jdbc type ( target column . get type code ( ) ) ; boolean size matters = _ platform info . has size ( target type code ) ; boolean scale matters = _ platform info . has precision and scale ( target type code ) ; new column def . set type code ( target column . get type code ( ) ) ; new column def . set size ( size matters | | scale matters ? target column . get size ( ) : null ) ; new column def . set auto increment ( target column . is auto increment ( ) ) ; new column def . set required ( target column . is required ( ) ) ; new column def . set description ( target column . get description ( ) ) ; new column def . set default value ( target column . get default value ( ) ) ; return new column definition change ( source table . get name ( ) , source column . get name ( ) , new column def ) ; } else { return null ; } }", "new_code_tokens": ["protected", "column", "definition", "change", "compare", "columns", "(", "table", "source", "table", ",", "column", "source", "column", ",", "table", "target", "table", ",", "column", "target", "column", ")", "{", "if", "(", "column", "definition", "change", ".", "is", "changed", "(", "get", "platform", "info", "(", ")", ",", "source", "column", ",", "target", "column", ")", ")", "{", "column", "new", "column", "def", "=", "_", "clone", "helper", ".", "clone", "(", "source", "column", ",", "true", ")", ";", "int", "target", "type", "code", "=", "_", "platform", "info", ".", "get", "target", "jdbc", "type", "(", "target", "column", ".", "get", "type", "code", "(", ")", ")", ";", "boolean", "size", "matters", "=", "_", "platform", "info", ".", "has", "size", "(", "target", "type", "code", ")", ";", "boolean", "scale", "matters", "=", "_", "platform", "info", ".", "has", "precision", "and", "scale", "(", "target", "type", "code", ")", ";", "new", "column", "def", ".", "set", "type", "code", "(", "target", "column", ".", "get", "type", "code", "(", ")", ")", ";", "new", "column", "def", ".", "set", "size", "(", "size", "matters", "|", "|", "scale", "matters", "?", "target", "column", ".", "get", "size", "(", ")", ":", "null", ")", ";", "new", "column", "def", ".", "set", "auto", "increment", "(", "target", "column", ".", "is", "auto", "increment", "(", ")", ")", ";", "new", "column", "def", ".", "set", "required", "(", "target", "column", ".", "is", "required", "(", ")", ")", ";", "new", "column", "def", ".", "set", "description", "(", "target", "column", ".", "get", "description", "(", ")", ")", ";", "new", "column", "def", ".", "set", "default", "value", "(", "target", "column", ".", "get", "default", "value", "(", ")", ")", ";", "return", "new", "column", "definition", "change", "(", "source", "table", ".", "get", "name", "(", ")", ",", "source", "column", ".", "get", "name", "(", ")", ",", "new", "column", "def", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<REPLACE_OLD> public list <REPLACE_NEW> protected column definition change <REPLACE_END> <KEEP> compare columns ( table source table , column source column , table target table , column target column ) { <KEEP_END> <DELETE> array list changes = new array list ( ) ; <DELETE_END> <KEEP> if ( <KEEP_END> <INSERT> column definition change . is changed ( get platform info ( ) , source column , target column ) ) { column new column def = _ clone helper . clone ( source column , true ) ; int target type code = <INSERT_END> <KEEP> _ platform info . get target jdbc type ( target column . get type code ( ) ) <KEEP_END> <REPLACE_OLD> ! = source column . get type code ( ) ) { changes . add ( new column data type change ( source table , source column , target column . get type code ( ) ) ) ; } <REPLACE_NEW> ; <REPLACE_END> <KEEP> boolean size matters = _ platform info . has size ( <KEEP_END> <REPLACE_OLD> source column . get type code ( ) <REPLACE_NEW> target type code <REPLACE_END> <KEEP> ) ; boolean scale matters = _ platform info . has precision and scale ( <KEEP_END> <REPLACE_OLD> source column . get type code ( ) ) ; if ( size matters & & ! string utils . equals ( source column . get size ( ) , target column . get size ( ) ) ) { changes . add ( new column size change ( source table , source column , target column . get size as int ( ) , target column . get scale ( ) ) ) ; } else if ( scale matters & & ( ! string utils . equals ( source column . get size ( ) , target column . get size ( ) ) <REPLACE_NEW> target type code ) ; new column def . set type code ( target column . get type code ( ) ) ; new column def . set size ( size matters <REPLACE_END> <KEEP> | | <KEEP_END> <DELETE> ( source column . get <DELETE_END> <KEEP> scale <KEEP_END> <REPLACE_OLD> ( ) ! = target column . get scale ( ) ) ) ) { changes . add ( new column size change ( source table , source column , target column . get size as int ( ) , target column . get scale ( ) ) ) ; } object source default value = source column . get parsed default value ( ) ; object target default value = target column . get parsed default value ( ) ; if ( ( ( source default value = = <REPLACE_NEW> matters ? target column . get size ( ) : <REPLACE_END> <KEEP> null ) <KEEP_END> <REPLACE_OLD> & & ( target default value ! = null ) ) | | ( ( source default value ! = null ) & & ! source default value . equals ( target default value ) ) ) { changes . add ( new column default value change ( source table , source column , target column . get default value ( ) ) ) ; } if ( source column . is required ( ) ! = target column . is required ( ) ) { changes . add ( new column required change ( source table , source column ) ) ; } if ( source <REPLACE_NEW> ; new column def . set auto increment ( target <REPLACE_END> <KEEP> column . is auto increment ( ) <KEEP_END> <REPLACE_OLD> ! = <REPLACE_NEW> ) ; new column def . set required ( <REPLACE_END> <KEEP> target column . is <KEEP_END> <REPLACE_OLD> auto increment ( ) ) <REPLACE_NEW> required ( ) ) ; new column def . set description ( target column . get description ( ) ) ; new column def . set default value ( target column . get default value ( ) ) ; return new column definition change ( source table . get name ( ) , source column . get name ( ) , new column def ) ; } else <REPLACE_END> <KEEP> { <KEEP_END> <REPLACE_OLD> changes . add ( new column auto increment change ( source table , source column ) ) <REPLACE_NEW> return null <REPLACE_END> <KEEP> ; } <KEEP_END> <DELETE> return changes ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "public", "list", "<REPLACE_NEW>", "protected", "column", "definition", "change", "<REPLACE_END>", "<KEEP>", "compare", "columns", "(", "table", "source", "table", ",", "column", "source", "column", ",", "table", "target", "table", ",", "column", "target", "column", ")", "{", "<KEEP_END>", "<DELETE>", "array", "list", "changes", "=", "new", "array", "list", "(", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<INSERT>", "column", "definition", "change", ".", "is", "changed", "(", "get", "platform", "info", "(", ")", ",", "source", "column", ",", "target", "column", ")", ")", "{", "column", "new", "column", "def", "=", "_", "clone", "helper", ".", "clone", "(", "source", "column", ",", "true", ")", ";", "int", "target", "type", "code", "=", "<INSERT_END>", "<KEEP>", "_", "platform", "info", ".", "get", "target", "jdbc", "type", "(", "target", "column", ".", "get", "type", "code", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "!", "=", "source", "column", ".", "get", "type", "code", "(", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "data", "type", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "type", "code", "(", ")", ")", ")", ";", "}", "<REPLACE_NEW>", ";", "<REPLACE_END>", "<KEEP>", "boolean", "size", "matters", "=", "_", "platform", "info", ".", "has", "size", "(", "<KEEP_END>", "<REPLACE_OLD>", "source", "column", ".", "get", "type", "code", "(", ")", "<REPLACE_NEW>", "target", "type", "code", "<REPLACE_END>", "<KEEP>", ")", ";", "boolean", "scale", "matters", "=", "_", "platform", "info", ".", "has", "precision", "and", "scale", "(", "<KEEP_END>", "<REPLACE_OLD>", "source", "column", ".", "get", "type", "code", "(", ")", ")", ";", "if", "(", "size", "matters", "&", "&", "!", "string", "utils", ".", "equals", "(", "source", "column", ".", "get", "size", "(", ")", ",", "target", "column", ".", "get", "size", "(", ")", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "size", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "size", "as", "int", "(", ")", ",", "target", "column", ".", "get", "scale", "(", ")", ")", ")", ";", "}", "else", "if", "(", "scale", "matters", "&", "&", "(", "!", "string", "utils", ".", "equals", "(", "source", "column", ".", "get", "size", "(", ")", ",", "target", "column", ".", "get", "size", "(", ")", ")", "<REPLACE_NEW>", "target", "type", "code", ")", ";", "new", "column", "def", ".", "set", "type", "code", "(", "target", "column", ".", "get", "type", "code", "(", ")", ")", ";", "new", "column", "def", ".", "set", "size", "(", "size", "matters", "<REPLACE_END>", "<KEEP>", "|", "|", "<KEEP_END>", "<DELETE>", "(", "source", "column", ".", "get", "<DELETE_END>", "<KEEP>", "scale", "<KEEP_END>", "<REPLACE_OLD>", "(", ")", "!", "=", "target", "column", ".", "get", "scale", "(", ")", ")", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "size", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "size", "as", "int", "(", ")", ",", "target", "column", ".", "get", "scale", "(", ")", ")", ")", ";", "}", "object", "source", "default", "value", "=", "source", "column", ".", "get", "parsed", "default", "value", "(", ")", ";", "object", "target", "default", "value", "=", "target", "column", ".", "get", "parsed", "default", "value", "(", ")", ";", "if", "(", "(", "(", "source", "default", "value", "=", "=", "<REPLACE_NEW>", "matters", "?", "target", "column", ".", "get", "size", "(", ")", ":", "<REPLACE_END>", "<KEEP>", "null", ")", "<KEEP_END>", "<REPLACE_OLD>", "&", "&", "(", "target", "default", "value", "!", "=", "null", ")", ")", "|", "|", "(", "(", "source", "default", "value", "!", "=", "null", ")", "&", "&", "!", "source", "default", "value", ".", "equals", "(", "target", "default", "value", ")", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "default", "value", "change", "(", "source", "table", ",", "source", "column", ",", "target", "column", ".", "get", "default", "value", "(", ")", ")", ")", ";", "}", "if", "(", "source", "column", ".", "is", "required", "(", ")", "!", "=", "target", "column", ".", "is", "required", "(", ")", ")", "{", "changes", ".", "add", "(", "new", "column", "required", "change", "(", "source", "table", ",", "source", "column", ")", ")", ";", "}", "if", "(", "source", "<REPLACE_NEW>", ";", "new", "column", "def", ".", "set", "auto", "increment", "(", "target", "<REPLACE_END>", "<KEEP>", "column", ".", "is", "auto", "increment", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", "!", "=", "<REPLACE_NEW>", ")", ";", "new", "column", "def", ".", "set", "required", "(", "<REPLACE_END>", "<KEEP>", "target", "column", ".", "is", "<KEEP_END>", "<REPLACE_OLD>", "auto", "increment", "(", ")", ")", "<REPLACE_NEW>", "required", "(", ")", ")", ";", "new", "column", "def", ".", "set", "description", "(", "target", "column", ".", "get", "description", "(", ")", ")", ";", "new", "column", "def", ".", "set", "default", "value", "(", "target", "column", ".", "get", "default", "value", "(", ")", ")", ";", "return", "new", "column", "definition", "change", "(", "source", "table", ".", "get", "name", "(", ")", ",", "source", "column", ".", "get", "name", "(", ")", ",", "new", "column", "def", ")", ";", "}", "else", "<REPLACE_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "changes", ".", "add", "(", "new", "column", "auto", "increment", "change", "(", "source", "table", ",", "source", "column", ")", ")", "<REPLACE_NEW>", "return", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "changes", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> changes <REPLACE_NEW> change or null if the columns are the same <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "changes", "<REPLACE_NEW>", "change", "or", "null", "if", "the", "columns", "are", "the", "same", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "protected", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "definition", "<REPLACE_NEW>", "change", "<KEEP>", "compare", "<KEEP>", "columns", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "source", "<KEEP>", "table", "<KEEP>", ",", "<KEEP>", "column", "<KEEP>", "source", "<KEEP>", "column", "<KEEP>", ",", "<KEEP>", "table", "<KEEP>", "target", "<KEEP>", "table", "<KEEP>", ",", "<KEEP>", "column", "<KEEP>", "target", "<KEEP>", "column", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "array", "<DELETE>", "list", "<DELETE>", "changes", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "array", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "column", "<INSERT>", "definition", "<INSERT>", "change", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "changed", "<INSERT>", "(", "<INSERT>", "get", "<INSERT>", "platform", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "source", "<INSERT>", "column", "<INSERT>", ",", "<INSERT>", "target", "<INSERT>", "column", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "column", "<INSERT>", "new", "<INSERT>", "column", "<INSERT>", "def", "<INSERT>", "=", "<INSERT>", "_", "<INSERT>", "clone", "<INSERT>", "helper", "<INSERT>", ".", "<INSERT>", "clone", "<INSERT>", "(", "<INSERT>", "source", "<INSERT>", "column", "<INSERT>", ",", "<INSERT>", "true", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "target", "<INSERT>", "type", "<INSERT>", "code", "<INSERT>", "=", "<KEEP>", "_", "<KEEP>", "platform", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "target", "<KEEP>", "jdbc", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", "column", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "changes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "change", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ";", "<KEEP>", "boolean", "<KEEP>", "size", "<KEEP>", "matters", "<KEEP>", "=", "<KEEP>", "_", "<KEEP>", "platform", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "size", "<KEEP>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "code", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "scale", "<KEEP>", "matters", "<KEEP>", "=", "<KEEP>", "_", "<KEEP>", "platform", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "precision", "<KEEP>", "and", "<KEEP>", "scale", "<KEEP>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "matters", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "changes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "change", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", "matters", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "matters", "<KEEP>", "|", "<KEEP>", "|", "<DELETE>", "(", "<DELETE>", "source", "<DELETE>", "column", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "scale", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "changes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "change", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "parsed", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "parsed", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "matters", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ":", "<KEEP>", "null", "<KEEP>", ")", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "changes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "change", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "required", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "target", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "required", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "changes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "required", "<REPLACE_OLD>", "change", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "auto", "<REPLACE_NEW>", "increment", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "target", "<KEEP>", "column", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "auto", "<KEEP>", "increment", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "required", "<REPLACE_NEW>", "(", "<KEEP>", "target", "<KEEP>", "column", "<KEEP>", ".", "<KEEP>", "is", "<REPLACE_OLD>", "auto", "<REPLACE_OLD>", "increment", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "required", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "description", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "description", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "definition", "<REPLACE_NEW>", "change", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "def", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "changes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "auto", "<REPLACE_OLD>", "increment", "<REPLACE_OLD>", "change", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "changes", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8379398567118341, "using": 2, "keep": 1}
{"id": "eclipse_webtools.webservices-12-4547", "old_comment": "empty array if no web components", "old_comment_tokens": ["empty", "array", "if", "no", "web", "components"], "new_comment": "empty array if no web components ; must not return null", "new_comment_tokens": ["empty", "array", "if", "no", "web", "components", ";", "must", "not", "return", "null"], "old_code": "public static ivirtual component [ ] get web components ( iproject project ) { structure edit mc = null ; ivirtual component [ ] components = null ; try { mc = structure edit . get structure edit for read ( project ) ; if ( mc ! = null ) { workbench component [ ] wbcs = mc . get workbench modules ( ) ; components = new ivirtual component [ wbcs . length ] ; for ( int i = num ; i < wbcs . length ; i + + ) { if ( is web component ( project , wbcs [ i ] . get name ( ) ) ) components [ i ] = component core . create component ( project , wbcs [ i ] . get name ( ) ) ; } } } catch ( exception e ) { } finally { if ( mc ! = null ) mc . dispose ( ) ; } return components ; }", "old_code_tokens": ["public", "static", "ivirtual", "component", "[", "]", "get", "web", "components", "(", "iproject", "project", ")", "{", "structure", "edit", "mc", "=", "null", ";", "ivirtual", "component", "[", "]", "components", "=", "null", ";", "try", "{", "mc", "=", "structure", "edit", ".", "get", "structure", "edit", "for", "read", "(", "project", ")", ";", "if", "(", "mc", "!", "=", "null", ")", "{", "workbench", "component", "[", "]", "wbcs", "=", "mc", ".", "get", "workbench", "modules", "(", ")", ";", "components", "=", "new", "ivirtual", "component", "[", "wbcs", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "wbcs", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "is", "web", "component", "(", "project", ",", "wbcs", "[", "i", "]", ".", "get", "name", "(", ")", ")", ")", "components", "[", "i", "]", "=", "component", "core", ".", "create", "component", "(", "project", ",", "wbcs", "[", "i", "]", ".", "get", "name", "(", ")", ")", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "finally", "{", "if", "(", "mc", "!", "=", "null", ")", "mc", ".", "dispose", "(", ")", ";", "}", "return", "components", ";", "}"], "new_code": "public static ivirtual component [ ] get web components ( iproject project ) { vector v = new vector ( ) ; try { iflexible project flex = component core . create flexible project ( project ) ; ivirtual component [ ] components = flex . get components ( ) ; for ( int i = num ; i < components . length ; i + + ) { if ( is web component ( project , components [ i ] . get name ( ) ) ) { v . add ( components [ i ] ) ; } } } catch ( exception e ) { } return ( ivirtual component [ ] ) v . to array ( new ivirtual component [ num ] ) ; }", "new_code_tokens": ["public", "static", "ivirtual", "component", "[", "]", "get", "web", "components", "(", "iproject", "project", ")", "{", "vector", "v", "=", "new", "vector", "(", ")", ";", "try", "{", "iflexible", "project", "flex", "=", "component", "core", ".", "create", "flexible", "project", "(", "project", ")", ";", "ivirtual", "component", "[", "]", "components", "=", "flex", ".", "get", "components", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "components", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "is", "web", "component", "(", "project", ",", "components", "[", "i", "]", ".", "get", "name", "(", ")", ")", ")", "{", "v", ".", "add", "(", "components", "[", "i", "]", ")", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "return", "(", "ivirtual", "component", "[", "]", ")", "v", ".", "to", "array", "(", "new", "ivirtual", "component", "[", "num", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public static ivirtual component [ ] get web components ( iproject project ) { <KEEP_END> <REPLACE_OLD> structure edit mc <REPLACE_NEW> vector v <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new vector ( ) ; try { iflexible project flex = component core . create flexible project ( project ) <REPLACE_END> <KEEP> ; ivirtual component [ ] components = <KEEP_END> <REPLACE_OLD> null ; try { mc = structure edit <REPLACE_NEW> flex <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> structure edit for read ( project ) ; if ( mc ! = null ) { workbench component [ ] wbcs = mc . get workbench modules <REPLACE_NEW> components <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> ; components = new ivirtual component [ wbcs . length ] <DELETE_END> <KEEP> ; for ( int i = num ; i < <KEEP_END> <REPLACE_OLD> wbcs <REPLACE_NEW> components <REPLACE_END> <KEEP> . length ; i + + ) { if ( is web component ( project , <KEEP_END> <REPLACE_OLD> wbcs <REPLACE_NEW> components <REPLACE_END> <KEEP> [ i ] . get name ( ) ) ) <KEEP_END> <INSERT> { v . add ( <INSERT_END> <KEEP> components [ i ] <KEEP_END> <DELETE> = component core . create component ( project , wbcs [ i ] . get name ( ) <DELETE_END> <KEEP> ) ; } } } catch ( exception e ) { } <KEEP_END> <REPLACE_OLD> finally { if <REPLACE_NEW> return <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> mc ! = null <REPLACE_NEW> ivirtual component [ ] <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> mc <REPLACE_NEW> v <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> dispose <REPLACE_NEW> to array <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> new ivirtual component [ num ] <INSERT_END> <KEEP> ) ; } <KEEP_END> <DELETE> return components ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "ivirtual", "component", "[", "]", "get", "web", "components", "(", "iproject", "project", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "structure", "edit", "mc", "<REPLACE_NEW>", "vector", "v", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "vector", "(", ")", ";", "try", "{", "iflexible", "project", "flex", "=", "component", "core", ".", "create", "flexible", "project", "(", "project", ")", "<REPLACE_END>", "<KEEP>", ";", "ivirtual", "component", "[", "]", "components", "=", "<KEEP_END>", "<REPLACE_OLD>", "null", ";", "try", "{", "mc", "=", "structure", "edit", "<REPLACE_NEW>", "flex", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "structure", "edit", "for", "read", "(", "project", ")", ";", "if", "(", "mc", "!", "=", "null", ")", "{", "workbench", "component", "[", "]", "wbcs", "=", "mc", ".", "get", "workbench", "modules", "<REPLACE_NEW>", "components", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ";", "components", "=", "new", "ivirtual", "component", "[", "wbcs", ".", "length", "]", "<DELETE_END>", "<KEEP>", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "<KEEP_END>", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<REPLACE_END>", "<KEEP>", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "is", "web", "component", "(", "project", ",", "<KEEP_END>", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<REPLACE_END>", "<KEEP>", "[", "i", "]", ".", "get", "name", "(", ")", ")", ")", "<KEEP_END>", "<INSERT>", "{", "v", ".", "add", "(", "<INSERT_END>", "<KEEP>", "components", "[", "i", "]", "<KEEP_END>", "<DELETE>", "=", "component", "core", ".", "create", "component", "(", "project", ",", "wbcs", "[", "i", "]", ".", "get", "name", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "<KEEP_END>", "<REPLACE_OLD>", "finally", "{", "if", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "mc", "!", "=", "null", "<REPLACE_NEW>", "ivirtual", "component", "[", "]", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "mc", "<REPLACE_NEW>", "v", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "dispose", "<REPLACE_NEW>", "to", "array", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "new", "ivirtual", "component", "[", "num", "]", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "components", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> components <INSERT_NEW_KEEP_BEFORE> components ; must not return null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "components", "<INSERT_NEW_KEEP_BEFORE>", "components", ";", "must", "not", "return", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "ivirtual", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "web", "<KEEP>", "components", "<KEEP>", "(", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "structure", "<REPLACE_OLD>", "edit", "<REPLACE_OLD>", "mc", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "v", "<KEEP>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "iflexible", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "flex", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "component", "<REPLACE_NEW>", "core", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "flexible", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "ivirtual", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "components", "<KEEP>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "structure", "<REPLACE_OLD>", "edit", "<REPLACE_NEW>", "flex", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "structure", "<REPLACE_OLD>", "edit", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "read", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "workbench", "<REPLACE_OLD>", "component", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "wbcs", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "workbench", "<REPLACE_OLD>", "modules", "<REPLACE_NEW>", "components", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "components", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "ivirtual", "<DELETE>", "component", "<DELETE>", "[", "<DELETE>", "wbcs", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "web", "<KEEP>", "component", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", ",", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "v", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<KEEP>", "components", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<DELETE>", "=", "<DELETE>", "component", "<DELETE>", "core", "<DELETE>", ".", "<DELETE>", "create", "<DELETE>", "component", "<DELETE>", "(", "<DELETE>", "project", "<DELETE>", ",", "<DELETE>", "wbcs", "<DELETE>", "[", "<DELETE>", "i", "<DELETE>", "]", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<REPLACE_OLD>", "finally", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "ivirtual", "<REPLACE_NEW>", "component", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<KEEP>", ")", "<REPLACE_OLD>", "mc", "<REPLACE_NEW>", "v", "<KEEP>", ".", "<REPLACE_OLD>", "dispose", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "array", "<KEEP>", "(", "<INSERT>", "new", "<INSERT>", "ivirtual", "<INSERT>", "component", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "components", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.8976499702958257, "using": 2, "keep": 1}
{"id": "svn2github_icefaces-10-5185", "old_comment": "jsp . generated interface class ( ) , or if not specified , then meta class ' name removing \" meta \" suffix , adding \" i \" prefix to simple name part . eg : org . mypackage . my comp meta - > org . mypackage . imy comp", "old_comment_tokens": ["jsp", ".", "generated", "interface", "class", "(", ")", ",", "or", "if", "not", "specified", ",", "then", "meta", "class", "'", "name", "removing", "\"", "meta", "\"", "suffix", ",", "adding", "\"", "i", "\"", "prefix", "to", "simple", "name", "part", ".", "eg", ":", "org", ".", "mypackage", ".", "my", "comp", "meta", "-", ">", "org", ".", "mypackage", ".", "imy", "comp"], "new_comment": "if the meta class has a jsp annotation , then check for jsp . generated interface class ( ) , or if not specified , then meta class ' name removing \" meta \" suffix , adding \" i \" prefix to simple name part . eg : org . mypackage . my comp meta - > org . mypackage . imy comp", "new_comment_tokens": ["if", "the", "meta", "class", "has", "a", "jsp", "annotation", ",", "then", "check", "for", "jsp", ".", "generated", "interface", "class", "(", ")", ",", "or", "if", "not", "specified", ",", "then", "meta", "class", "'", "name", "removing", "\"", "meta", "\"", "suffix", ",", "adding", "\"", "i", "\"", "prefix", "to", "simple", "name", "part", ".", "eg", ":", "org", ".", "mypackage", ".", "my", "comp", "meta", "-", ">", "org", ".", "mypackage", ".", "imy", "comp"], "old_code": "public static string get generated interface class name ( class meta class , jsp jsp ) { return get specified or alternate ( jsp . generated interface class ( ) , jsp . empty , meta class . get name ( ) , str , str , str ) ; }", "old_code_tokens": ["public", "static", "string", "get", "generated", "interface", "class", "name", "(", "class", "meta", "class", ",", "jsp", "jsp", ")", "{", "return", "get", "specified", "or", "alternate", "(", "jsp", ".", "generated", "interface", "class", "(", ")", ",", "jsp", ".", "empty", ",", "meta", "class", ".", "get", "name", "(", ")", ",", "str", ",", "str", ",", "str", ")", ";", "}"], "new_code": "public static string get generated interface class name ( class meta class ) { string jsp generated interface class = jsp . empty ; if ( meta class . is annotation present ( jsp . class ) ) { jsp jsp = ( jsp ) meta class . get annotation ( jsp . class ) ; jsp generated interface class = jsp . generated interface class ( ) ; } return get specified or alternate ( jsp generated interface class , jsp . empty , meta class . get name ( ) , str , str , str ) ; }", "new_code_tokens": ["public", "static", "string", "get", "generated", "interface", "class", "name", "(", "class", "meta", "class", ")", "{", "string", "jsp", "generated", "interface", "class", "=", "jsp", ".", "empty", ";", "if", "(", "meta", "class", ".", "is", "annotation", "present", "(", "jsp", ".", "class", ")", ")", "{", "jsp", "jsp", "=", "(", "jsp", ")", "meta", "class", ".", "get", "annotation", "(", "jsp", ".", "class", ")", ";", "jsp", "generated", "interface", "class", "=", "jsp", ".", "generated", "interface", "class", "(", ")", ";", "}", "return", "get", "specified", "or", "alternate", "(", "jsp", "generated", "interface", "class", ",", "jsp", ".", "empty", ",", "meta", "class", ".", "get", "name", "(", ")", ",", "str", ",", "str", ",", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public static string get generated interface class name ( class meta class <KEEP_END> <REPLACE_OLD> , <REPLACE_NEW> ) { string jsp generated interface class = jsp . empty ; if ( meta class . is annotation present ( jsp . class ) ) { <REPLACE_END> <KEEP> jsp jsp <KEEP_END> <INSERT> = ( jsp <INSERT_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> { <REPLACE_NEW> meta class . get annotation ( jsp . class ) ; jsp generated interface class = jsp . generated interface class ( ) ; } <REPLACE_END> <KEEP> return get specified or alternate ( jsp <KEEP_END> <DELETE> . <DELETE_END> <KEEP> generated interface class <KEEP_END> <DELETE> ( ) <DELETE_END> <KEEP> , jsp . empty , meta class . get name ( ) , str , str , str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "generated", "interface", "class", "name", "(", "class", "meta", "class", "<KEEP_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "{", "string", "jsp", "generated", "interface", "class", "=", "jsp", ".", "empty", ";", "if", "(", "meta", "class", ".", "is", "annotation", "present", "(", "jsp", ".", "class", ")", ")", "{", "<REPLACE_END>", "<KEEP>", "jsp", "jsp", "<KEEP_END>", "<INSERT>", "=", "(", "jsp", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "meta", "class", ".", "get", "annotation", "(", "jsp", ".", "class", ")", ";", "jsp", "generated", "interface", "class", "=", "jsp", ".", "generated", "interface", "class", "(", ")", ";", "}", "<REPLACE_END>", "<KEEP>", "return", "get", "specified", "or", "alternate", "(", "jsp", "<KEEP_END>", "<DELETE>", ".", "<DELETE_END>", "<KEEP>", "generated", "interface", "class", "<KEEP_END>", "<DELETE>", "(", ")", "<DELETE_END>", "<KEEP>", ",", "jsp", ".", "empty", ",", "meta", "class", ".", "get", "name", "(", ")", ",", "str", ",", "str", ",", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> jsp <INSERT_NEW_KEEP_AFTER> if the meta class has a jsp annotation , then check for jsp <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "jsp", "<INSERT_NEW_KEEP_AFTER>", "if", "the", "meta", "class", "has", "a", "jsp", "annotation", ",", "then", "check", "for", "jsp", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "generated", "<KEEP>", "interface", "<KEEP>", "class", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "meta", "<KEEP>", "class", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "jsp", "<REPLACE_NEW>", "generated", "<REPLACE_NEW>", "interface", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "jsp", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "empty", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "annotation", "<REPLACE_NEW>", "present", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "jsp", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "jsp", "<KEEP>", "jsp", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "jsp", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "annotation", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "jsp", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "jsp", "<REPLACE_NEW>", "generated", "<REPLACE_NEW>", "interface", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "jsp", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "generated", "<REPLACE_NEW>", "interface", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "specified", "<KEEP>", "or", "<KEEP>", "alternate", "<KEEP>", "(", "<KEEP>", "jsp", "<DELETE>", ".", "<KEEP>", "generated", "<KEEP>", "interface", "<KEEP>", "class", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ",", "<KEEP>", "jsp", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", ",", "<KEEP>", "meta", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8923618435840402, "using": 0, "keep": 1}
{"id": "guoguibing_librec-1-2572", "old_comment": "a new dense vector with results of c = a - b", "old_comment_tokens": ["a", "new", "dense", "vector", "with", "results", "of", "c", "=", "a", "-", "b"], "new_comment": "a new vector", "new_comment_tokens": ["a", "new", "vector"], "old_code": "public dense vector minus ( dense vector vec ) { assert size = = vec . size ; dense vector result = new dense vector ( size ) ; for ( int i = num ; i < vec . size ; i + + ) result . data [ i ] = this . data [ i ] - vec . data [ i ] ; return result ; }", "old_code_tokens": ["public", "dense", "vector", "minus", "(", "dense", "vector", "vec", ")", "{", "assert", "size", "=", "=", "vec", ".", "size", ";", "dense", "vector", "result", "=", "new", "dense", "vector", "(", "size", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "vec", ".", "size", ";", "i", "+", "+", ")", "result", ".", "data", "[", "i", "]", "=", "this", ".", "data", "[", "i", "]", "-", "vec", ".", "data", "[", "i", "]", ";", "return", "result", ";", "}"], "new_code": "public dense vector minus ( vector vector ) { dense vector result vector = new vector based dense vector ( cardinality ( ) ) ; for ( vector entry vector entry : vector ) { int index = vector entry . index ( ) ; result vector . set ( index , get ( index ) - vector entry . get ( ) ) ; } return result vector ; }", "new_code_tokens": ["public", "dense", "vector", "minus", "(", "vector", "vector", ")", "{", "dense", "vector", "result", "vector", "=", "new", "vector", "based", "dense", "vector", "(", "cardinality", "(", ")", ")", ";", "for", "(", "vector", "entry", "vector", "entry", ":", "vector", ")", "{", "int", "index", "=", "vector", "entry", ".", "index", "(", ")", ";", "result", "vector", ".", "set", "(", "index", ",", "get", "(", "index", ")", "-", "vector", "entry", ".", "get", "(", ")", ")", ";", "}", "return", "result", "vector", ";", "}"], "span_diff_code": "<KEEP> public dense vector minus ( <KEEP_END> <DELETE> dense <DELETE_END> <KEEP> vector <KEEP_END> <REPLACE_OLD> vec <REPLACE_NEW> vector <REPLACE_END> <KEEP> ) { <KEEP_END> <DELETE> assert size = = vec . size ; <DELETE_END> <KEEP> dense vector result <KEEP_END> <INSERT> vector <INSERT_END> <KEEP> = new <KEEP_END> <INSERT> vector based <INSERT_END> <KEEP> dense vector ( <KEEP_END> <REPLACE_OLD> size <REPLACE_NEW> cardinality ( ) <REPLACE_END> <KEEP> ) ; for ( <KEEP_END> <INSERT> vector entry vector entry : vector ) { <INSERT_END> <KEEP> int <KEEP_END> <REPLACE_OLD> i <REPLACE_NEW> index <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> vector entry . index ( ) <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> i < vec <REPLACE_NEW> result vector <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> size <REPLACE_NEW> set ( index , get ( index ) - vector entry . get ( ) ) <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> i + + ) result . data [ i ] = this . data [ i ] - vec . data [ i ] ; <REPLACE_NEW> } <REPLACE_END> <KEEP> return result <KEEP_END> <INSERT> vector <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "dense", "vector", "minus", "(", "<KEEP_END>", "<DELETE>", "dense", "<DELETE_END>", "<KEEP>", "vector", "<KEEP_END>", "<REPLACE_OLD>", "vec", "<REPLACE_NEW>", "vector", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<DELETE>", "assert", "size", "=", "=", "vec", ".", "size", ";", "<DELETE_END>", "<KEEP>", "dense", "vector", "result", "<KEEP_END>", "<INSERT>", "vector", "<INSERT_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<INSERT>", "vector", "based", "<INSERT_END>", "<KEEP>", "dense", "vector", "(", "<KEEP_END>", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "cardinality", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "for", "(", "<KEEP_END>", "<INSERT>", "vector", "entry", "vector", "entry", ":", "vector", ")", "{", "<INSERT_END>", "<KEEP>", "int", "<KEEP_END>", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "vector", "entry", ".", "index", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "i", "<", "vec", "<REPLACE_NEW>", "result", "vector", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "set", "(", "index", ",", "get", "(", "index", ")", "-", "vector", "entry", ".", "get", "(", ")", ")", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "i", "+", "+", ")", "result", ".", "data", "[", "i", "]", "=", "this", ".", "data", "[", "i", "]", "-", "vec", ".", "data", "[", "i", "]", ";", "<REPLACE_NEW>", "}", "<REPLACE_END>", "<KEEP>", "return", "result", "<KEEP_END>", "<INSERT>", "vector", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> dense <DELETE_END> <DELETE> with results of c = a - b <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "dense", "<DELETE_END>", "<DELETE>", "with", "results", "of", "c", "=", "a", "-", "b", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "dense", "<KEEP>", "vector", "<KEEP>", "minus", "<KEEP>", "(", "<DELETE>", "dense", "<KEEP>", "vector", "<REPLACE_OLD>", "vec", "<REPLACE_NEW>", "vector", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "assert", "<DELETE>", "size", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "vec", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", ";", "<KEEP>", "dense", "<KEEP>", "vector", "<KEEP>", "result", "<INSERT>", "vector", "<KEEP>", "=", "<KEEP>", "new", "<INSERT>", "vector", "<INSERT>", "based", "<KEEP>", "dense", "<KEEP>", "vector", "<KEEP>", "(", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "cardinality", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<INSERT>", "vector", "<INSERT>", "entry", "<INSERT>", "vector", "<INSERT>", "entry", "<INSERT>", ":", "<INSERT>", "vector", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "int", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "index", "<KEEP>", "=", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "vec", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "vector", "<KEEP>", ".", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "vec", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "return", "<KEEP>", "result", "<INSERT>", "vector", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.879087064671515, "using": 2, "keep": 1}
{"id": "jenkinsci_tfs-plugin-8-5758", "old_comment": "an instance of proxy host or null if no proxy is to be used .", "old_comment_tokens": ["an", "instance", "of", "proxy", "host", "or", "null", "if", "no", "proxy", "is", "to", "be", "used", "."], "new_comment": "an instance of proxy host ex or null if no proxy is to be used .", "new_comment_tokens": ["an", "instance", "of", "proxy", "host", "ex", "or", "null", "if", "no", "proxy", "is", "to", "be", "used", "."], "old_code": "public proxy host to proxy host ( final string host to proxy ) { final proxy host proxy host ; if ( this . host name ! = null ) { final boolean should proxy = should proxy ( host to proxy , no proxy host patterns ) ; if ( should proxy ) { proxy host = new proxy host ( host name , port ) ; } else { proxy host = null ; } } else { proxy host = null ; } return proxy host ; }", "old_code_tokens": ["public", "proxy", "host", "to", "proxy", "host", "(", "final", "string", "host", "to", "proxy", ")", "{", "final", "proxy", "host", "proxy", "host", ";", "if", "(", "this", ".", "host", "name", "!", "=", "null", ")", "{", "final", "boolean", "should", "proxy", "=", "should", "proxy", "(", "host", "to", "proxy", ",", "no", "proxy", "host", "patterns", ")", ";", "if", "(", "should", "proxy", ")", "{", "proxy", "host", "=", "new", "proxy", "host", "(", "host", "name", ",", "port", ")", ";", "}", "else", "{", "proxy", "host", "=", "null", ";", "}", "}", "else", "{", "proxy", "host", "=", "null", ";", "}", "return", "proxy", "host", ";", "}"], "new_code": "public proxy host ex to proxy host ( final string host to proxy ) { final proxy host ex proxy host ; if ( this . host name ! = null ) { final boolean should proxy = should proxy ( host to proxy , no proxy host patterns ) ; if ( should proxy ) { proxy host = new proxy host ex ( host name , port , proxy user , proxy secret ) ; } else { proxy host = null ; } } else { proxy host = null ; } return proxy host ; }", "new_code_tokens": ["public", "proxy", "host", "ex", "to", "proxy", "host", "(", "final", "string", "host", "to", "proxy", ")", "{", "final", "proxy", "host", "ex", "proxy", "host", ";", "if", "(", "this", ".", "host", "name", "!", "=", "null", ")", "{", "final", "boolean", "should", "proxy", "=", "should", "proxy", "(", "host", "to", "proxy", ",", "no", "proxy", "host", "patterns", ")", ";", "if", "(", "should", "proxy", ")", "{", "proxy", "host", "=", "new", "proxy", "host", "ex", "(", "host", "name", ",", "port", ",", "proxy", "user", ",", "proxy", "secret", ")", ";", "}", "else", "{", "proxy", "host", "=", "null", ";", "}", "}", "else", "{", "proxy", "host", "=", "null", ";", "}", "return", "proxy", "host", ";", "}"], "span_diff_code": "<KEEP> public proxy host <KEEP_END> <INSERT> ex <INSERT_END> <KEEP> to proxy host ( final string host to proxy ) { final proxy host <KEEP_END> <INSERT> ex <INSERT_END> <KEEP> proxy host ; if ( this . host name ! = null ) { final boolean should proxy = should proxy ( host to proxy , no proxy host patterns ) ; if ( should proxy ) { proxy host = new proxy host <KEEP_END> <INSERT> ex <INSERT_END> <KEEP> ( host name , port <KEEP_END> <INSERT> , proxy user , proxy secret <INSERT_END> <KEEP> ) ; } else { proxy host = null ; } } else { proxy host = null ; } return proxy host ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "proxy", "host", "<KEEP_END>", "<INSERT>", "ex", "<INSERT_END>", "<KEEP>", "to", "proxy", "host", "(", "final", "string", "host", "to", "proxy", ")", "{", "final", "proxy", "host", "<KEEP_END>", "<INSERT>", "ex", "<INSERT_END>", "<KEEP>", "proxy", "host", ";", "if", "(", "this", ".", "host", "name", "!", "=", "null", ")", "{", "final", "boolean", "should", "proxy", "=", "should", "proxy", "(", "host", "to", "proxy", ",", "no", "proxy", "host", "patterns", ")", ";", "if", "(", "should", "proxy", ")", "{", "proxy", "host", "=", "new", "proxy", "host", "<KEEP_END>", "<INSERT>", "ex", "<INSERT_END>", "<KEEP>", "(", "host", "name", ",", "port", "<KEEP_END>", "<INSERT>", ",", "proxy", "user", ",", "proxy", "secret", "<INSERT_END>", "<KEEP>", ")", ";", "}", "else", "{", "proxy", "host", "=", "null", ";", "}", "}", "else", "{", "proxy", "host", "=", "null", ";", "}", "return", "proxy", "host", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> host <INSERT_NEW_KEEP_BEFORE> host ex <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "host", "<INSERT_NEW_KEEP_BEFORE>", "host", "ex", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "proxy", "<KEEP>", "host", "<INSERT>", "ex", "<KEEP>", "to", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "host", "<KEEP>", "to", "<KEEP>", "proxy", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "proxy", "<KEEP>", "host", "<INSERT>", "ex", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "boolean", "<KEEP>", "should", "<KEEP>", "proxy", "<KEEP>", "=", "<KEEP>", "should", "<KEEP>", "proxy", "<KEEP>", "(", "<KEEP>", "host", "<KEEP>", "to", "<KEEP>", "proxy", "<KEEP>", ",", "<KEEP>", "no", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", "patterns", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "should", "<KEEP>", "proxy", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "proxy", "<KEEP>", "host", "<INSERT>", "ex", "<KEEP>", "(", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "port", "<INSERT>", ",", "<INSERT>", "proxy", "<INSERT>", "user", "<INSERT>", ",", "<INSERT>", "proxy", "<INSERT>", "secret", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "proxy", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9716116277807006, "using": 2, "keep": 1}
{"id": "smarr_AmbientTalk-interpreter-116-4115", "old_comment": "nil , by default . overridable by the receiver .", "old_comment_tokens": ["nil", ",", "by", "default", ".", "overridable", "by", "the", "receiver", "."], "new_comment": "nil , by default . overridable by the sender .", "new_comment_tokens": ["nil", ",", "by", "default", ".", "overridable", "by", "the", "sender", "."], "old_code": "public atobject prim _ send to ( atmessage self , atobject receiver , atobject sender ) throws interpreter exception { super . impl _ invoke mutator ( self , _ receiver _ . as assignment symbol ( ) , nattable . of ( receiver ) ) ; return sender . meta _ send ( self . as async message ( ) ) ; }", "old_code_tokens": ["public", "atobject", "prim", "_", "send", "to", "(", "atmessage", "self", ",", "atobject", "receiver", ",", "atobject", "sender", ")", "throws", "interpreter", "exception", "{", "super", ".", "impl", "_", "invoke", "mutator", "(", "self", ",", "_", "receiver", "_", ".", "as", "assignment", "symbol", "(", ")", ",", "nattable", ".", "of", "(", "receiver", ")", ")", ";", "return", "sender", ".", "meta", "_", "send", "(", "self", ".", "as", "async", "message", "(", ")", ")", ";", "}"], "new_code": "public atobject prim _ send to ( atmessage self , atobject receiver , atobject sender ) throws interpreter exception { return sender . meta _ send ( receiver , self . as async message ( ) ) ; }", "new_code_tokens": ["public", "atobject", "prim", "_", "send", "to", "(", "atmessage", "self", ",", "atobject", "receiver", ",", "atobject", "sender", ")", "throws", "interpreter", "exception", "{", "return", "sender", ".", "meta", "_", "send", "(", "receiver", ",", "self", ".", "as", "async", "message", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public atobject prim _ send to ( atmessage self , atobject receiver , atobject sender ) throws interpreter exception { <KEEP_END> <DELETE> super . impl _ invoke mutator ( self , _ receiver _ . as assignment symbol ( ) , nattable . of ( receiver ) ) ; <DELETE_END> <KEEP> return sender . meta _ send ( <KEEP_END> <INSERT> receiver , <INSERT_END> <KEEP> self . as async message ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "atobject", "prim", "_", "send", "to", "(", "atmessage", "self", ",", "atobject", "receiver", ",", "atobject", "sender", ")", "throws", "interpreter", "exception", "{", "<KEEP_END>", "<DELETE>", "super", ".", "impl", "_", "invoke", "mutator", "(", "self", ",", "_", "receiver", "_", ".", "as", "assignment", "symbol", "(", ")", ",", "nattable", ".", "of", "(", "receiver", ")", ")", ";", "<DELETE_END>", "<KEEP>", "return", "sender", ".", "meta", "_", "send", "(", "<KEEP_END>", "<INSERT>", "receiver", ",", "<INSERT_END>", "<KEEP>", "self", ".", "as", "async", "message", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> receiver <REPLACE_NEW> sender <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "receiver", "<REPLACE_NEW>", "sender", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "atobject", "<KEEP>", "prim", "<KEEP>", "_", "<KEEP>", "send", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "atmessage", "<KEEP>", "self", "<KEEP>", ",", "<KEEP>", "atobject", "<KEEP>", "receiver", "<KEEP>", ",", "<KEEP>", "atobject", "<KEEP>", "sender", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "interpreter", "<KEEP>", "exception", "<KEEP>", "{", "<DELETE>", "super", "<DELETE>", ".", "<DELETE>", "impl", "<DELETE>", "_", "<DELETE>", "invoke", "<DELETE>", "mutator", "<DELETE>", "(", "<DELETE>", "self", "<DELETE>", ",", "<DELETE>", "_", "<DELETE>", "receiver", "<DELETE>", "_", "<DELETE>", ".", "<DELETE>", "as", "<DELETE>", "assignment", "<DELETE>", "symbol", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "nattable", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<DELETE>", "receiver", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<KEEP>", "sender", "<KEEP>", ".", "<KEEP>", "meta", "<KEEP>", "_", "<KEEP>", "send", "<KEEP>", "(", "<INSERT>", "receiver", "<INSERT>", ",", "<KEEP>", "self", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "async", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8187972962211687, "using": 2, "keep": 1}
{"id": "eclipse_californium-20-4081", "old_comment": "the session which matches the session identifier or null if no such session exists .", "old_comment_tokens": ["the", "session", "which", "matches", "the", "session", "identifier", "or", "null", "if", "no", "such", "session", "exists", "."], "new_comment": "the corresponding session or null if none of the cached sessions has the given identifier", "new_comment_tokens": ["the", "corresponding", "session", "or", "null", "if", "none", "of", "the", "cached", "sessions", "has", "the", "given", "identifier"], "old_code": "private dtlssession get session by identifier ( byte [ ] session id ) { if ( session id = = null | | session id . length = = num ) { return null ; } for ( entry < string , dtlssession > entry : dtls sessions . entry set ( ) ) { try { byte [ ] id = entry . get value ( ) . get session identifier ( ) . get session id ( ) ; if ( arrays . equals ( session id , id ) ) { return entry . get value ( ) ; } } catch ( exception e ) { continue ; } } for ( dtlssession session : dtls sessions . values ( ) ) { try { byte [ ] id = session . get session identifier ( ) . get session id ( ) ; if ( arrays . equals ( session id , id ) ) { return session ; } } catch ( exception e ) { continue ; } } return null ; }", "old_code_tokens": ["private", "dtlssession", "get", "session", "by", "identifier", "(", "byte", "[", "]", "session", "id", ")", "{", "if", "(", "session", "id", "=", "=", "null", "|", "|", "session", "id", ".", "length", "=", "=", "num", ")", "{", "return", "null", ";", "}", "for", "(", "entry", "<", "string", ",", "dtlssession", ">", "entry", ":", "dtls", "sessions", ".", "entry", "set", "(", ")", ")", "{", "try", "{", "byte", "[", "]", "id", "=", "entry", ".", "get", "value", "(", ")", ".", "get", "session", "identifier", "(", ")", ".", "get", "session", "id", "(", ")", ";", "if", "(", "arrays", ".", "equals", "(", "session", "id", ",", "id", ")", ")", "{", "return", "entry", ".", "get", "value", "(", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "continue", ";", "}", "}", "for", "(", "dtlssession", "session", ":", "dtls", "sessions", ".", "values", "(", ")", ")", "{", "try", "{", "byte", "[", "]", "id", "=", "session", ".", "get", "session", "identifier", "(", ")", ".", "get", "session", "id", "(", ")", ";", "if", "(", "arrays", ".", "equals", "(", "session", "id", ",", "id", ")", ")", "{", "return", "session", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "continue", ";", "}", "}", "return", "null", ";", "}"], "new_code": "private dtlssession get session by identifier ( byte [ ] session id ) { if ( session id = = null | | session id . length = = num ) { return null ; } for ( dtlssession session : dtls sessions . values ( ) ) { session id session identifier = session . get session identifier ( ) ; if ( session identifier ! = null ) { if ( arrays . equals ( session id , session identifier . get session id ( ) ) ) { return session ; } } } return null ; }", "new_code_tokens": ["private", "dtlssession", "get", "session", "by", "identifier", "(", "byte", "[", "]", "session", "id", ")", "{", "if", "(", "session", "id", "=", "=", "null", "|", "|", "session", "id", ".", "length", "=", "=", "num", ")", "{", "return", "null", ";", "}", "for", "(", "dtlssession", "session", ":", "dtls", "sessions", ".", "values", "(", ")", ")", "{", "session", "id", "session", "identifier", "=", "session", ".", "get", "session", "identifier", "(", ")", ";", "if", "(", "session", "identifier", "!", "=", "null", ")", "{", "if", "(", "arrays", ".", "equals", "(", "session", "id", ",", "session", "identifier", ".", "get", "session", "id", "(", ")", ")", ")", "{", "return", "session", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> private dtlssession get session by identifier ( byte [ ] session id ) { if ( session id = = null | | session id . length = = num ) { return null ; } for ( <KEEP_END> <DELETE> entry < string , dtlssession > entry : dtls sessions . entry set ( ) ) { try { byte [ ] id = entry . get value ( ) . get session identifier ( ) . get session id ( ) ; if ( arrays . equals ( session id , id ) ) { return entry . get value ( ) ; } } catch ( exception e ) { continue ; } } for ( <DELETE_END> <KEEP> dtlssession session : dtls sessions . values ( ) ) { <KEEP_END> <REPLACE_OLD> try { byte [ ] <REPLACE_NEW> session <REPLACE_END> <KEEP> id <KEEP_END> <INSERT> session identifier <INSERT_END> <KEEP> = session . get session identifier ( ) <KEEP_END> <REPLACE_OLD> . get <REPLACE_NEW> ; if ( <REPLACE_END> <KEEP> session <KEEP_END> <REPLACE_OLD> id ( <REPLACE_NEW> identifier ! = null <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> ; <REPLACE_NEW> { <REPLACE_END> <KEEP> if ( arrays . equals ( session id , <KEEP_END> <INSERT> session identifier . get session <INSERT_END> <KEEP> id <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) ) { return session ; } } <KEEP_END> <DELETE> catch ( exception e ) { continue ; } <DELETE_END> <KEEP> } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "dtlssession", "get", "session", "by", "identifier", "(", "byte", "[", "]", "session", "id", ")", "{", "if", "(", "session", "id", "=", "=", "null", "|", "|", "session", "id", ".", "length", "=", "=", "num", ")", "{", "return", "null", ";", "}", "for", "(", "<KEEP_END>", "<DELETE>", "entry", "<", "string", ",", "dtlssession", ">", "entry", ":", "dtls", "sessions", ".", "entry", "set", "(", ")", ")", "{", "try", "{", "byte", "[", "]", "id", "=", "entry", ".", "get", "value", "(", ")", ".", "get", "session", "identifier", "(", ")", ".", "get", "session", "id", "(", ")", ";", "if", "(", "arrays", ".", "equals", "(", "session", "id", ",", "id", ")", ")", "{", "return", "entry", ".", "get", "value", "(", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "continue", ";", "}", "}", "for", "(", "<DELETE_END>", "<KEEP>", "dtlssession", "session", ":", "dtls", "sessions", ".", "values", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "try", "{", "byte", "[", "]", "<REPLACE_NEW>", "session", "<REPLACE_END>", "<KEEP>", "id", "<KEEP_END>", "<INSERT>", "session", "identifier", "<INSERT_END>", "<KEEP>", "=", "session", ".", "get", "session", "identifier", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ".", "get", "<REPLACE_NEW>", ";", "if", "(", "<REPLACE_END>", "<KEEP>", "session", "<KEEP_END>", "<REPLACE_OLD>", "id", "(", "<REPLACE_NEW>", "identifier", "!", "=", "null", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "{", "<REPLACE_END>", "<KEEP>", "if", "(", "arrays", ".", "equals", "(", "session", "id", ",", "<KEEP_END>", "<INSERT>", "session", "identifier", ".", "get", "session", "<INSERT_END>", "<KEEP>", "id", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ")", "{", "return", "session", ";", "}", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "exception", "e", ")", "{", "continue", ";", "}", "<DELETE_END>", "<KEEP>", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the session which matches the session identifier or null if no such session exists . <REPLACE_NEW> the corresponding session or null if none of the cached sessions has the given identifier <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "session", "which", "matches", "the", "session", "identifier", "or", "null", "if", "no", "such", "session", "exists", ".", "<REPLACE_NEW>", "the", "corresponding", "session", "or", "null", "if", "none", "of", "the", "cached", "sessions", "has", "the", "given", "identifier", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "dtlssession", "<KEEP>", "get", "<KEEP>", "session", "<KEEP>", "by", "<KEEP>", "identifier", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<DELETE>", "entry", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "dtlssession", "<DELETE>", ">", "<DELETE>", "entry", "<DELETE>", ":", "<DELETE>", "dtls", "<DELETE>", "sessions", "<DELETE>", ".", "<DELETE>", "entry", "<DELETE>", "set", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "byte", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "session", "<DELETE>", "identifier", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "session", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "arrays", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "session", "<DELETE>", "id", "<DELETE>", ",", "<DELETE>", "id", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "continue", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "for", "<DELETE>", "(", "<KEEP>", "dtlssession", "<KEEP>", "session", "<KEEP>", ":", "<KEEP>", "dtls", "<KEEP>", "sessions", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "session", "<KEEP>", "id", "<INSERT>", "session", "<INSERT>", "identifier", "<KEEP>", "=", "<KEEP>", "session", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "session", "<KEEP>", "identifier", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "session", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "identifier", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ",", "<INSERT>", "session", "<INSERT>", "identifier", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "session", "<KEEP>", "id", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "session", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "continue", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7944236772339712, "using": 2, "keep": 1}
{"id": "svn2github_cytoscape-71-6862", "old_comment": "true if and only if rendered node labels should be drawn as primitive shapes .", "old_comment_tokens": ["true", "if", "and", "only", "if", "rendered", "node", "labels", "should", "be", "drawn", "as", "primitive", "shapes", "."], "new_comment": "true if and only if rendered node label text should be drawn as primitive shapes .", "new_comment_tokens": ["true", "if", "and", "only", "if", "rendered", "node", "label", "text", "should", "be", "drawn", "as", "primitive", "shapes", "."], "old_code": "public boolean text as shape ( final int visible node count , final int visible edge count ) { return visible node count < num ; }", "old_code_tokens": ["public", "boolean", "text", "as", "shape", "(", "final", "int", "visible", "node", "count", ",", "final", "int", "visible", "edge", "count", ")", "{", "return", "visible", "node", "count", "<", "num", ";", "}"], "new_code": "public boolean text as shape ( final int visible node count , final int visible edge count ) { return false ; }", "new_code_tokens": ["public", "boolean", "text", "as", "shape", "(", "final", "int", "visible", "node", "count", ",", "final", "int", "visible", "edge", "count", ")", "{", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public boolean text as shape ( final int visible node count , final int visible edge count ) { return <KEEP_END> <REPLACE_OLD> visible node count < num <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "text", "as", "shape", "(", "final", "int", "visible", "node", "count", ",", "final", "int", "visible", "edge", "count", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "visible", "node", "count", "<", "num", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> labels <REPLACE_NEW> label text <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "labels", "<REPLACE_NEW>", "label", "text", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "text", "<KEEP>", "as", "<KEEP>", "shape", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "visible", "<KEEP>", "node", "<KEEP>", "count", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "visible", "<KEEP>", "edge", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "visible", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "count", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9283278887894164, "using": 0, "keep": 1}
{"id": "NLPchina_elasticsearch-sql-0-1088", "old_comment": "es search request", "old_comment_tokens": ["es", "search", "request"], "new_comment": "es request", "new_comment_tokens": ["es", "request"], "old_code": "public search request builder explain ( string sql ) throws sql parse exception { sqlquery expr sql expr = to sql expr ( sql ) ; select select = new sql parser ( ) . parse select ( sql expr ) ; query query = query factory . create ( client , select ) ; return query . explain ( ) ; }", "old_code_tokens": ["public", "search", "request", "builder", "explain", "(", "string", "sql", ")", "throws", "sql", "parse", "exception", "{", "sqlquery", "expr", "sql", "expr", "=", "to", "sql", "expr", "(", "sql", ")", ";", "select", "select", "=", "new", "sql", "parser", "(", ")", ".", "parse", "select", "(", "sql", "expr", ")", ";", "query", "query", "=", "query", "factory", ".", "create", "(", "client", ",", "select", ")", ";", "return", "query", ".", "explain", "(", ")", ";", "}"], "new_code": "public action request builder explain ( string sql ) throws sql parse exception { sqlquery expr sql expr = to sql expr ( sql ) ; select select = new sql parser ( ) . parse select ( sql expr ) ; query query = query factory . create ( client , select ) ; return query . explain ( ) ; }", "new_code_tokens": ["public", "action", "request", "builder", "explain", "(", "string", "sql", ")", "throws", "sql", "parse", "exception", "{", "sqlquery", "expr", "sql", "expr", "=", "to", "sql", "expr", "(", "sql", ")", ";", "select", "select", "=", "new", "sql", "parser", "(", ")", ".", "parse", "select", "(", "sql", "expr", ")", ";", "query", "query", "=", "query", "factory", ".", "create", "(", "client", ",", "select", ")", ";", "return", "query", ".", "explain", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> search <REPLACE_NEW> action <REPLACE_END> <KEEP> request builder explain ( string sql ) throws sql parse exception { sqlquery expr sql expr = to sql expr ( sql ) ; select select = new sql parser ( ) . parse select ( sql expr ) ; query query = query factory . create ( client , select ) ; return query . explain ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "search", "<REPLACE_NEW>", "action", "<REPLACE_END>", "<KEEP>", "request", "builder", "explain", "(", "string", "sql", ")", "throws", "sql", "parse", "exception", "{", "sqlquery", "expr", "sql", "expr", "=", "to", "sql", "expr", "(", "sql", ")", ";", "select", "select", "=", "new", "sql", "parser", "(", ")", ".", "parse", "select", "(", "sql", "expr", ")", ";", "query", "query", "=", "query", "factory", ".", "create", "(", "client", ",", "select", ")", ";", "return", "query", ".", "explain", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> search <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "search", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "search", "<REPLACE_NEW>", "action", "<KEEP>", "request", "<KEEP>", "builder", "<KEEP>", "explain", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "sql", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sql", "<KEEP>", "parse", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "sqlquery", "<KEEP>", "expr", "<KEEP>", "sql", "<KEEP>", "expr", "<KEEP>", "=", "<KEEP>", "to", "<KEEP>", "sql", "<KEEP>", "expr", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "select", "<KEEP>", "select", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "sql", "<KEEP>", "parser", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "select", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", "expr", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "query", "<KEEP>", "query", "<KEEP>", "=", "<KEEP>", "query", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", ",", "<KEEP>", "select", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "explain", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9925000624769653, "using": 2, "keep": 1}
{"id": "mwanji_toml4j-1-7359", "old_comment": "an empty list if the key is not found", "old_comment_tokens": ["an", "empty", "list", "if", "the", "key", "is", "not", "found"], "new_comment": "null if the key is not found", "new_comment_tokens": ["null", "if", "the", "key", "is", "not", "found"], "old_code": "public < t > list < t > get list ( string key ) { @ suppress warnings ( str ) list < t > list = ( list < t > ) get ( key ) ; if ( list = = null ) { return collections . empty list ( ) ; } return list ; }", "old_code_tokens": ["public", "<", "t", ">", "list", "<", "t", ">", "get", "list", "(", "string", "key", ")", "{", "@", "suppress", "warnings", "(", "str", ")", "list", "<", "t", ">", "list", "=", "(", "list", "<", "t", ">", ")", "get", "(", "key", ")", ";", "if", "(", "list", "=", "=", "null", ")", "{", "return", "collections", ".", "empty", "list", "(", ")", ";", "}", "return", "list", ";", "}"], "new_code": "public < t > list < t > get list ( string key ) { @ suppress warnings ( str ) list < t > list = ( list < t > ) get ( key ) ; return list ; }", "new_code_tokens": ["public", "<", "t", ">", "list", "<", "t", ">", "get", "list", "(", "string", "key", ")", "{", "@", "suppress", "warnings", "(", "str", ")", "list", "<", "t", ">", "list", "=", "(", "list", "<", "t", ">", ")", "get", "(", "key", ")", ";", "return", "list", ";", "}"], "span_diff_code": "<KEEP> public < t > list < t > get list ( string key ) { @ suppress warnings ( str ) list < t > list = ( list < t > ) get ( key ) ; <KEEP_END> <DELETE> if ( list = = null ) { return collections . empty list ( ) ; } <DELETE_END> <KEEP> return list ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<", "t", ">", "list", "<", "t", ">", "get", "list", "(", "string", "key", ")", "{", "@", "suppress", "warnings", "(", "str", ")", "list", "<", "t", ">", "list", "=", "(", "list", "<", "t", ">", ")", "get", "(", "key", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "list", "=", "=", "null", ")", "{", "return", "collections", ".", "empty", "list", "(", ")", ";", "}", "<DELETE_END>", "<KEEP>", "return", "list", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an empty list <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "empty", "list", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "list", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "collections", "<DELETE>", ".", "<DELETE>", "empty", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.985597732066714, "using": 2, "keep": 1}
{"id": "tomakehurst_wiremock-1-1568", "old_comment": "maximum number of entries or null", "old_comment_tokens": ["maximum", "number", "of", "entries", "or", "null"], "new_comment": "maximum number of entries or absent", "new_comment_tokens": ["maximum", "number", "of", "entries", "or", "absent"], "old_code": "private integer read max entries request journal ( servlet context context ) { string str = context . get init parameter ( str ) ; if ( str = = null ) { return null ; } return integer . parse int ( str ) ; }", "old_code_tokens": ["private", "integer", "read", "max", "entries", "request", "journal", "(", "servlet", "context", "context", ")", "{", "string", "str", "=", "context", ".", "get", "init", "parameter", "(", "str", ")", ";", "if", "(", "str", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "integer", ".", "parse", "int", "(", "str", ")", ";", "}"], "new_code": "private optional < integer > read max entries request journal ( servlet context context ) { string str = context . get init parameter ( str ) ; if ( str = = null ) { return optional . absent ( ) ; } return optional . of ( integer . parse int ( str ) ) ; }", "new_code_tokens": ["private", "optional", "<", "integer", ">", "read", "max", "entries", "request", "journal", "(", "servlet", "context", "context", ")", "{", "string", "str", "=", "context", ".", "get", "init", "parameter", "(", "str", ")", ";", "if", "(", "str", "=", "=", "null", ")", "{", "return", "optional", ".", "absent", "(", ")", ";", "}", "return", "optional", ".", "of", "(", "integer", ".", "parse", "int", "(", "str", ")", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <INSERT> optional < <INSERT_END> <KEEP> integer <KEEP_END> <INSERT> > <INSERT_END> <KEEP> read max entries request journal ( servlet context context ) { string str = context . get init parameter ( str ) ; if ( str = = null ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> optional . absent ( ) <REPLACE_END> <KEEP> ; } return <KEEP_END> <INSERT> optional . of ( <INSERT_END> <KEEP> integer . parse int ( str ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<INSERT>", "optional", "<", "<INSERT_END>", "<KEEP>", "integer", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "read", "max", "entries", "request", "journal", "(", "servlet", "context", "context", ")", "{", "string", "str", "=", "context", ".", "get", "init", "parameter", "(", "str", ")", ";", "if", "(", "str", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "optional", ".", "absent", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<INSERT>", "optional", ".", "of", "(", "<INSERT_END>", "<KEEP>", "integer", ".", "parse", "int", "(", "str", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> absent <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "absent", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<INSERT>", "optional", "<INSERT>", "<", "<KEEP>", "integer", "<INSERT>", ">", "<KEEP>", "read", "<KEEP>", "max", "<KEEP>", "entries", "<KEEP>", "request", "<KEEP>", "journal", "<KEEP>", "(", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "str", "<KEEP>", "=", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "init", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "optional", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "absent", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "optional", "<INSERT>", ".", "<INSERT>", "of", "<INSERT>", "(", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9787030546225964, "using": 2, "keep": 1}
{"id": "braintree_braintree_java-3-4093", "old_comment": "a paged collection .", "old_comment_tokens": ["a", "paged", "collection", "."], "new_comment": "a resource collection .", "new_comment_tokens": ["a", "resource", "collection", "."], "old_code": "public paged collection < transaction > search ( string query ) { return search ( query , num ) ; }", "old_code_tokens": ["public", "paged", "collection", "<", "transaction", ">", "search", "(", "string", "query", ")", "{", "return", "search", "(", "query", ",", "num", ")", ";", "}"], "new_code": "public resource collection < transaction > search ( string query ) { return search ( query , num ) ; }", "new_code_tokens": ["public", "resource", "collection", "<", "transaction", ">", "search", "(", "string", "query", ")", "{", "return", "search", "(", "query", ",", "num", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < transaction > search ( string query ) { return search ( query , num ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "transaction", ">", "search", "(", "string", "query", ")", "{", "return", "search", "(", "query", ",", "num", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "transaction", "<KEEP>", ">", "<KEEP>", "search", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "search", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9859673202614414, "using": 2, "keep": 1}
{"id": "apache_tez-30-4280", "old_comment": "mrinput configurer", "old_comment_tokens": ["mrinput", "configurer"], "new_comment": "org . apache . tez . mapreduce . input . mrinput . mrinput config builder", "new_comment_tokens": ["org", ".", "apache", ".", "tez", ".", "mapreduce", ".", "input", ".", "mrinput", ".", "mrinput", "config", "builder"], "old_code": "public mrinput configurer group splits ( boolean value ) { group splits in am = value ; return this ; }", "old_code_tokens": ["public", "mrinput", "configurer", "group", "splits", "(", "boolean", "value", ")", "{", "group", "splits", "in", "am", "=", "value", ";", "return", "this", ";", "}"], "new_code": "public mrinput config builder group splits ( boolean value ) { group splits in am = value ; return this ; }", "new_code_tokens": ["public", "mrinput", "config", "builder", "group", "splits", "(", "boolean", "value", ")", "{", "group", "splits", "in", "am", "=", "value", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public mrinput <KEEP_END> <REPLACE_OLD> configurer <REPLACE_NEW> config builder <REPLACE_END> <KEEP> group splits ( boolean value ) { group splits in am = value ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "mrinput", "<KEEP_END>", "<REPLACE_OLD>", "configurer", "<REPLACE_NEW>", "config", "builder", "<REPLACE_END>", "<KEEP>", "group", "splits", "(", "boolean", "value", ")", "{", "group", "splits", "in", "am", "=", "value", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> mrinput <INSERT_NEW_KEEP_AFTER> org . apache . tez . mapreduce . input . mrinput <INSERT_END> <REPLACE_OLD> configurer <REPLACE_NEW> . mrinput config builder <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "mrinput", "<INSERT_NEW_KEEP_AFTER>", "org", ".", "apache", ".", "tez", ".", "mapreduce", ".", "input", ".", "mrinput", "<INSERT_END>", "<REPLACE_OLD>", "configurer", "<REPLACE_NEW>", ".", "mrinput", "config", "builder", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "mrinput", "<REPLACE_OLD>", "configurer", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "builder", "<KEEP>", "group", "<KEEP>", "splits", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "group", "<KEEP>", "splits", "<KEEP>", "in", "<KEEP>", "am", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.89874451658584, "using": 1, "keep": 1}
{"id": "JetBrains_kotlin-138-6487", "old_comment": "quickfix for replacing dot call with safe ( ? . ) call", "old_comment_tokens": ["quickfix", "for", "replacing", "dot", "call", "with", "safe", "(", "?", ".", ")", "call"], "new_comment": "quickfix for replacing dot call with to safe ( ? . ) call", "new_comment_tokens": ["quickfix", "for", "replacing", "dot", "call", "with", "to", "safe", "(", "?", ".", ")", "call"], "old_code": "public static replace call fix to safe call ( ) { return new replace call fix ( true , true ) ; }", "old_code_tokens": ["public", "static", "replace", "call", "fix", "to", "safe", "call", "(", ")", "{", "return", "new", "replace", "call", "fix", "(", "true", ",", "true", ")", ";", "}"], "new_code": "public static replace call fix to safe call ( ) { return new replace call fix ( true ) ; }", "new_code_tokens": ["public", "static", "replace", "call", "fix", "to", "safe", "call", "(", ")", "{", "return", "new", "replace", "call", "fix", "(", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public static replace call fix to safe call ( ) { return new replace call fix ( true <KEEP_END> <DELETE> , true <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "replace", "call", "fix", "to", "safe", "call", "(", ")", "{", "return", "new", "replace", "call", "fix", "(", "true", "<KEEP_END>", "<DELETE>", ",", "true", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> with <INSERT_NEW_KEEP_BEFORE> with to <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "with", "<INSERT_NEW_KEEP_BEFORE>", "with", "to", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "replace", "<KEEP>", "call", "<KEEP>", "fix", "<KEEP>", "to", "<KEEP>", "safe", "<KEEP>", "call", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "replace", "<KEEP>", "call", "<KEEP>", "fix", "<KEEP>", "(", "<KEEP>", "true", "<DELETE>", ",", "<DELETE>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9490417530383682, "using": 0, "keep": 1}
{"id": "Angel-ML_angel-2-1283", "old_comment": "psagent attempt id ps agent attempt id", "old_comment_tokens": ["psagent", "attempt", "id", "ps", "agent", "attempt", "id"], "new_comment": "psagent id", "new_comment_tokens": ["psagent", "id"], "old_code": "public psagent attempt id get id ( ) { return id ; }", "old_code_tokens": ["public", "psagent", "attempt", "id", "get", "id", "(", ")", "{", "return", "id", ";", "}"], "new_code": "public int get id ( ) { return id ; }", "new_code_tokens": ["public", "int", "get", "id", "(", ")", "{", "return", "id", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> psagent attempt id <REPLACE_NEW> int <REPLACE_END> <KEEP> get id ( ) { return id ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "psagent", "attempt", "id", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "id", "(", ")", "{", "return", "id", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> psagent attempt <REPLACE_NEW_DELETE_KEEP_BEFORE> psagent <REPLACE_END> <DELETE> ps agent attempt id <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", "psagent", "attempt", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "psagent", "<REPLACE_END>", "<DELETE>", "ps", "agent", "attempt", "id", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "psagent", "<REPLACE_OLD>", "attempt", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9539325244668483, "using": 2, "keep": 1}
{"id": "eclipse_elk-207-6003", "old_comment": "an array with all edge section points", "old_comment_tokens": ["an", "array", "with", "all", "edge", "section", "points"], "new_comment": "an array with all needed edge section points", "new_comment_tokens": ["an", "array", "with", "all", "needed", "edge", "section", "points"], "old_code": "private static kvector [ ] get points ( final elk edge section section ) { int n = section . get bend points ( ) . size ( ) + num ; kvector [ ] points = new kvector [ n ] ; points [ num ] = new kvector ( section . get start x ( ) , section . get start y ( ) ) ; list iterator < elk bend point > point iter = section . get bend points ( ) . list iterator ( ) ; while ( point iter . has next ( ) ) { elk bend point bend point = point iter . next ( ) ; points [ point iter . next index ( ) ] = new kvector ( bend point . get x ( ) , bend point . get y ( ) ) ; } points [ n - num ] = new kvector ( section . get end x ( ) , section . get end y ( ) ) ; return points ; }", "old_code_tokens": ["private", "static", "kvector", "[", "]", "get", "points", "(", "final", "elk", "edge", "section", "section", ")", "{", "int", "n", "=", "section", ".", "get", "bend", "points", "(", ")", ".", "size", "(", ")", "+", "num", ";", "kvector", "[", "]", "points", "=", "new", "kvector", "[", "n", "]", ";", "points", "[", "num", "]", "=", "new", "kvector", "(", "section", ".", "get", "start", "x", "(", ")", ",", "section", ".", "get", "start", "y", "(", ")", ")", ";", "list", "iterator", "<", "elk", "bend", "point", ">", "point", "iter", "=", "section", ".", "get", "bend", "points", "(", ")", ".", "list", "iterator", "(", ")", ";", "while", "(", "point", "iter", ".", "has", "next", "(", ")", ")", "{", "elk", "bend", "point", "bend", "point", "=", "point", "iter", ".", "next", "(", ")", ";", "points", "[", "point", "iter", ".", "next", "index", "(", ")", "]", "=", "new", "kvector", "(", "bend", "point", ".", "get", "x", "(", ")", ",", "bend", "point", ".", "get", "y", "(", ")", ")", ";", "}", "points", "[", "n", "-", "num", "]", "=", "new", "kvector", "(", "section", ".", "get", "end", "x", "(", ")", ",", "section", ".", "get", "end", "y", "(", ")", ")", ";", "return", "points", ";", "}"], "new_code": "private static array list < kvector > get points ( final elk edge section section ) { int n = section . get bend points ( ) . size ( ) + num ; array list < kvector > points = new array list < kvector > ( n ) ; points . add ( new kvector ( section . get start x ( ) , section . get start y ( ) ) ) ; section . get bend points ( ) . stream ( ) . for each ( bend point - > points . add ( new kvector ( bend point . get x ( ) , bend point . get y ( ) ) ) ) ; points . add ( new kvector ( section . get end x ( ) , section . get end y ( ) ) ) ; int i = num ; while ( i < points . size ( ) - num ) { kvector p1 = points . get ( i - num ) ; kvector p2 = points . get ( i ) ; kvector p3 = points . get ( i + num ) ; if ( ( p1 . x = = p2 . x & & p2 . x = = p3 . x ) | | ( p1 . y = = p2 . y & & p2 . y = = p3 . y ) ) { points . remove ( i ) ; } else { + + i ; } } return points ; }", "new_code_tokens": ["private", "static", "array", "list", "<", "kvector", ">", "get", "points", "(", "final", "elk", "edge", "section", "section", ")", "{", "int", "n", "=", "section", ".", "get", "bend", "points", "(", ")", ".", "size", "(", ")", "+", "num", ";", "array", "list", "<", "kvector", ">", "points", "=", "new", "array", "list", "<", "kvector", ">", "(", "n", ")", ";", "points", ".", "add", "(", "new", "kvector", "(", "section", ".", "get", "start", "x", "(", ")", ",", "section", ".", "get", "start", "y", "(", ")", ")", ")", ";", "section", ".", "get", "bend", "points", "(", ")", ".", "stream", "(", ")", ".", "for", "each", "(", "bend", "point", "-", ">", "points", ".", "add", "(", "new", "kvector", "(", "bend", "point", ".", "get", "x", "(", ")", ",", "bend", "point", ".", "get", "y", "(", ")", ")", ")", ")", ";", "points", ".", "add", "(", "new", "kvector", "(", "section", ".", "get", "end", "x", "(", ")", ",", "section", ".", "get", "end", "y", "(", ")", ")", ")", ";", "int", "i", "=", "num", ";", "while", "(", "i", "<", "points", ".", "size", "(", ")", "-", "num", ")", "{", "kvector", "p1", "=", "points", ".", "get", "(", "i", "-", "num", ")", ";", "kvector", "p2", "=", "points", ".", "get", "(", "i", ")", ";", "kvector", "p3", "=", "points", ".", "get", "(", "i", "+", "num", ")", ";", "if", "(", "(", "p1", ".", "x", "=", "=", "p2", ".", "x", "&", "&", "p2", ".", "x", "=", "=", "p3", ".", "x", ")", "|", "|", "(", "p1", ".", "y", "=", "=", "p2", ".", "y", "&", "&", "p2", ".", "y", "=", "=", "p3", ".", "y", ")", ")", "{", "points", ".", "remove", "(", "i", ")", ";", "}", "else", "{", "+", "+", "i", ";", "}", "}", "return", "points", ";", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <REPLACE_OLD> kvector [ ] <REPLACE_NEW> array list < kvector > <REPLACE_END> <KEEP> get points ( final elk edge section section ) { int n = section . get bend points ( ) . size ( ) + num ; <KEEP_END> <REPLACE_OLD> kvector [ ] points = new kvector [ <REPLACE_NEW> array list < kvector > points = new array list < kvector > ( <REPLACE_END> <KEEP> n <KEEP_END> <REPLACE_OLD> ] ; points [ num ] = <REPLACE_NEW> ) ; points . add ( <REPLACE_END> <KEEP> new kvector ( section . get start x ( ) , section . get start y ( ) ) <KEEP_END> <REPLACE_OLD> ; list iterator < elk <REPLACE_NEW> ) ; section . get bend points ( ) . stream ( ) . for each ( <REPLACE_END> <KEEP> bend point <KEEP_END> <REPLACE_OLD> > <REPLACE_NEW> - > points . add ( new kvector ( bend <REPLACE_END> <KEEP> point <KEEP_END> <REPLACE_OLD> iter = section . get bend points ( ) . list iterator ( ) <REPLACE_NEW> . get x ( ) , bend point . get y ( ) ) ) ) ; points . add ( new kvector ( section . get end x ( ) , section . get end y ( ) ) ) ; int i = num <REPLACE_END> <KEEP> ; while ( <KEEP_END> <REPLACE_OLD> point iter . has next ( ) ) { elk bend point bend point = point iter . next ( ) ; points [ point iter . next index ( ) ] = new kvector ( bend point . get x ( ) , bend point . get y ( ) ) ; } points [ n <REPLACE_NEW> i < points . size ( ) <REPLACE_END> <KEEP> - num <KEEP_END> <REPLACE_OLD> ] = new kvector ( section . get end x ( ) , section . get end y ( ) ) ; <REPLACE_NEW> ) { kvector p1 = points . get ( i - num ) ; kvector p2 = points . get ( i ) ; kvector p3 = points . get ( i + num ) ; if ( ( p1 . x = = p2 . x & & p2 . x = = p3 . x ) | | ( p1 . y = = p2 . y & & p2 . y = = p3 . y ) ) { points . remove ( i ) ; } else { + + i ; } } <REPLACE_END> <KEEP> return points ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<REPLACE_OLD>", "kvector", "[", "]", "<REPLACE_NEW>", "array", "list", "<", "kvector", ">", "<REPLACE_END>", "<KEEP>", "get", "points", "(", "final", "elk", "edge", "section", "section", ")", "{", "int", "n", "=", "section", ".", "get", "bend", "points", "(", ")", ".", "size", "(", ")", "+", "num", ";", "<KEEP_END>", "<REPLACE_OLD>", "kvector", "[", "]", "points", "=", "new", "kvector", "[", "<REPLACE_NEW>", "array", "list", "<", "kvector", ">", "points", "=", "new", "array", "list", "<", "kvector", ">", "(", "<REPLACE_END>", "<KEEP>", "n", "<KEEP_END>", "<REPLACE_OLD>", "]", ";", "points", "[", "num", "]", "=", "<REPLACE_NEW>", ")", ";", "points", ".", "add", "(", "<REPLACE_END>", "<KEEP>", "new", "kvector", "(", "section", ".", "get", "start", "x", "(", ")", ",", "section", ".", "get", "start", "y", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "list", "iterator", "<", "elk", "<REPLACE_NEW>", ")", ";", "section", ".", "get", "bend", "points", "(", ")", ".", "stream", "(", ")", ".", "for", "each", "(", "<REPLACE_END>", "<KEEP>", "bend", "point", "<KEEP_END>", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "-", ">", "points", ".", "add", "(", "new", "kvector", "(", "bend", "<REPLACE_END>", "<KEEP>", "point", "<KEEP_END>", "<REPLACE_OLD>", "iter", "=", "section", ".", "get", "bend", "points", "(", ")", ".", "list", "iterator", "(", ")", "<REPLACE_NEW>", ".", "get", "x", "(", ")", ",", "bend", "point", ".", "get", "y", "(", ")", ")", ")", ")", ";", "points", ".", "add", "(", "new", "kvector", "(", "section", ".", "get", "end", "x", "(", ")", ",", "section", ".", "get", "end", "y", "(", ")", ")", ")", ";", "int", "i", "=", "num", "<REPLACE_END>", "<KEEP>", ";", "while", "(", "<KEEP_END>", "<REPLACE_OLD>", "point", "iter", ".", "has", "next", "(", ")", ")", "{", "elk", "bend", "point", "bend", "point", "=", "point", "iter", ".", "next", "(", ")", ";", "points", "[", "point", "iter", ".", "next", "index", "(", ")", "]", "=", "new", "kvector", "(", "bend", "point", ".", "get", "x", "(", ")", ",", "bend", "point", ".", "get", "y", "(", ")", ")", ";", "}", "points", "[", "n", "<REPLACE_NEW>", "i", "<", "points", ".", "size", "(", ")", "<REPLACE_END>", "<KEEP>", "-", "num", "<KEEP_END>", "<REPLACE_OLD>", "]", "=", "new", "kvector", "(", "section", ".", "get", "end", "x", "(", ")", ",", "section", ".", "get", "end", "y", "(", ")", ")", ";", "<REPLACE_NEW>", ")", "{", "kvector", "p1", "=", "points", ".", "get", "(", "i", "-", "num", ")", ";", "kvector", "p2", "=", "points", ".", "get", "(", "i", ")", ";", "kvector", "p3", "=", "points", ".", "get", "(", "i", "+", "num", ")", ";", "if", "(", "(", "p1", ".", "x", "=", "=", "p2", ".", "x", "&", "&", "p2", ".", "x", "=", "=", "p3", ".", "x", ")", "|", "|", "(", "p1", ".", "y", "=", "=", "p2", ".", "y", "&", "&", "p2", ".", "y", "=", "=", "p3", ".", "y", ")", ")", "{", "points", ".", "remove", "(", "i", ")", ";", "}", "else", "{", "+", "+", "i", ";", "}", "}", "<REPLACE_END>", "<KEEP>", "return", "points", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> all <INSERT_NEW_KEEP_BEFORE> all needed <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "all", "<INSERT_NEW_KEEP_BEFORE>", "all", "needed", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<REPLACE_OLD>", "kvector", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "points", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "elk", "<KEEP>", "edge", "<KEEP>", "section", "<KEEP>", "section", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "n", "<KEEP>", "=", "<KEEP>", "section", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "bend", "<KEEP>", "points", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ";", "<REPLACE_OLD>", "kvector", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "points", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "kvector", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<KEEP>", "n", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "points", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<KEEP>", "new", "<KEEP>", "kvector", "<KEEP>", "(", "<KEEP>", "section", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "start", "<KEEP>", "x", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "section", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "start", "<KEEP>", "y", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "elk", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "section", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "bend", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "each", "<REPLACE_NEW>", "(", "<KEEP>", "bend", "<KEEP>", "point", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "bend", "<KEEP>", "point", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "section", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "bend", "<REPLACE_OLD>", "points", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "bend", "<REPLACE_NEW>", "point", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "section", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "end", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "section", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "end", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "elk", "<REPLACE_OLD>", "bend", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "bend", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "points", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "kvector", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "bend", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "bend", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "points", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "-", "<KEEP>", "num", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "kvector", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "section", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "section", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", "p1", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", "p2", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "kvector", "<REPLACE_NEW>", "p3", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p1", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "p2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p3", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p1", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "p2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p3", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "points", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "remove", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<KEEP>", "return", "<KEEP>", "points", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9074847724845091, "using": 0, "keep": 1}
{"id": "codehaus_aspectwerkz-95-4224", "old_comment": "pointcut type of expression ( or null )", "old_comment_tokens": ["pointcut", "type", "of", "expression", "(", "or", "null", ")"], "new_comment": "set of pointcut type of expression", "new_comment_tokens": ["set", "of", "pointcut", "type", "of", "expression"], "old_code": "private pointcut type determine type from ast ( ) { return ( pointcut type ) root . jjt accept ( type _ visitor , m _ namespace ) ; }", "old_code_tokens": ["private", "pointcut", "type", "determine", "type", "from", "ast", "(", ")", "{", "return", "(", "pointcut", "type", ")", "root", ".", "jjt", "accept", "(", "type", "_", "visitor", ",", "m", "_", "namespace", ")", ";", "}"], "new_code": "private set determine type from ast ( ) { return ( set ) root . jjt accept ( type _ visitor , m _ namespace ) ; }", "new_code_tokens": ["private", "set", "determine", "type", "from", "ast", "(", ")", "{", "return", "(", "set", ")", "root", ".", "jjt", "accept", "(", "type", "_", "visitor", ",", "m", "_", "namespace", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> pointcut type <REPLACE_NEW> set <REPLACE_END> <KEEP> determine type from ast ( ) { return ( <KEEP_END> <REPLACE_OLD> pointcut type <REPLACE_NEW> set <REPLACE_END> <KEEP> ) root . jjt accept ( type _ visitor , m _ namespace ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "pointcut", "type", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "determine", "type", "from", "ast", "(", ")", "{", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "pointcut", "type", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", ")", "root", ".", "jjt", "accept", "(", "type", "_", "visitor", ",", "m", "_", "namespace", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> pointcut <INSERT_NEW_KEEP_AFTER> set of pointcut <INSERT_END> <DELETE> ( or null ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "pointcut", "<INSERT_NEW_KEEP_AFTER>", "set", "of", "pointcut", "<INSERT_END>", "<DELETE>", "(", "or", "null", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "pointcut", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "set", "<KEEP>", "determine", "<KEEP>", "type", "<KEEP>", "from", "<KEEP>", "ast", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "pointcut", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "set", "<KEEP>", ")", "<KEEP>", "root", "<KEEP>", ".", "<KEEP>", "jjt", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "visitor", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "namespace", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.896876857768949, "using": 1, "keep": 1}
{"id": "codehaus_coconut-22-4050", "old_comment": "a filter that tests all elements", "old_comment_tokens": ["a", "filter", "that", "tests", "all", "elements"], "new_comment": "a predicate that tests all elements", "new_comment_tokens": ["a", "predicate", "that", "tests", "all", "elements"], "old_code": "public static < e > filters . all filter < e > all ( filter < e > . . . filters ) { return new filters . all filter < e > ( filters ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "filters", ".", "all", "filter", "<", "e", ">", "all", "(", "filter", "<", "e", ">", ".", ".", ".", "filters", ")", "{", "return", "new", "filters", ".", "all", "filter", "<", "e", ">", "(", "filters", ")", ";", "}"], "new_code": "public static < e > predicates . all predicate < e > all ( predicate < e > . . . predicates ) { return new predicates . all predicate < e > ( predicates ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "predicates", ".", "all", "predicate", "<", "e", ">", "all", "(", "predicate", "<", "e", ">", ".", ".", ".", "predicates", ")", "{", "return", "new", "predicates", ".", "all", "predicate", "<", "e", ">", "(", "predicates", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> . all <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > all ( <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > . . . <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> ) { return new <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> . all <KEEP_END> <REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e > ( <KEEP_END> <REPLACE_OLD> filters <REPLACE_NEW> predicates <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ".", "all", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "all", "(", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", ".", ".", ".", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ".", "all", "<KEEP_END>", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", ">", "(", "<KEEP_END>", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> filter <REPLACE_NEW> predicate <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ".", "<KEEP>", "all", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "all", "<KEEP>", "(", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ".", "<KEEP>", "all", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", "predicates", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9699710051923633, "using": 2, "keep": 1}
{"id": "apache_wss4j-28-5672", "old_comment": "the vector containing the custom elements .", "old_comment_tokens": ["the", "vector", "containing", "the", "custom", "elements", "."], "new_comment": "the list containing the custom elements .", "new_comment_tokens": ["the", "list", "containing", "the", "custom", "elements", "."], "old_code": "public vector get custom elements ( ) { return this . custom elements ; }", "old_code_tokens": ["public", "vector", "get", "custom", "elements", "(", ")", "{", "return", "this", ".", "custom", "elements", ";", "}"], "new_code": "public list get custom elements ( ) { return custom elements ; }", "new_code_tokens": ["public", "list", "get", "custom", "elements", "(", ")", "{", "return", "custom", "elements", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> get custom elements ( ) { return <KEEP_END> <DELETE> this . <DELETE_END> <KEEP> custom elements ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "get", "custom", "elements", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "this", ".", "<DELETE_END>", "<KEEP>", "custom", "elements", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", "get", "<KEEP>", "custom", "<KEEP>", "elements", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "this", "<DELETE>", ".", "<KEEP>", "custom", "<KEEP>", "elements", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9581729589806495, "using": 2, "keep": 1}
{"id": "codehaus_proxytoys-2-6697", "old_comment": "an array with all interfaces . the array may be empty .", "old_comment_tokens": ["an", "array", "with", "all", "interfaces", ".", "the", "array", "may", "be", "empty", "."], "new_comment": "a set with all interfaces . the set may be empty .", "new_comment_tokens": ["a", "set", "with", "all", "interfaces", ".", "the", "set", "may", "be", "empty", "."], "old_code": "public static class [ ] get all interfaces ( final class clazz ) { final set interfaces = new hash set ( ) ; get interfaces ( clazz , interfaces ) ; interfaces . remove ( invoker reference . class ) ; return ( class [ ] ) interfaces . to array ( new class [ interfaces . size ( ) ] ) ; }", "old_code_tokens": ["public", "static", "class", "[", "]", "get", "all", "interfaces", "(", "final", "class", "clazz", ")", "{", "final", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "interfaces", ".", "remove", "(", "invoker", "reference", ".", "class", ")", ";", "return", "(", "class", "[", "]", ")", "interfaces", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public static set get all interfaces ( final class clazz ) { final set interfaces = new hash set ( ) ; get interfaces ( clazz , interfaces ) ; interfaces . remove ( invoker reference . class ) ; return interfaces ; }", "new_code_tokens": ["public", "static", "set", "get", "all", "interfaces", "(", "final", "class", "clazz", ")", "{", "final", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "interfaces", ".", "remove", "(", "invoker", "reference", ".", "class", ")", ";", "return", "interfaces", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> class [ ] <REPLACE_NEW> set <REPLACE_END> <KEEP> get all interfaces ( final class clazz ) { final set interfaces = new hash set ( ) ; get interfaces ( clazz , interfaces ) ; interfaces . remove ( invoker reference . class ) ; return <KEEP_END> <DELETE> ( class [ ] ) <DELETE_END> <KEEP> interfaces <KEEP_END> <DELETE> . to array ( new class [ interfaces . size ( ) ] ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "class", "[", "]", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "get", "all", "interfaces", "(", "final", "class", "clazz", ")", "{", "final", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "interfaces", ".", "remove", "(", "invoker", "reference", ".", "class", ")", ";", "return", "<KEEP_END>", "<DELETE>", "(", "class", "[", "]", ")", "<DELETE_END>", "<KEEP>", "interfaces", "<KEEP_END>", "<DELETE>", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an array <REPLACE_NEW> a set <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> the array <REPLACE_NEW_KEEP_BEFORE> the set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "array", "<REPLACE_NEW>", "a", "set", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "the", "array", "<REPLACE_NEW_KEEP_BEFORE>", "the", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "set", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "class", "<KEEP>", "clazz", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "interfaces", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "get", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "interfaces", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "interfaces", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "invoker", "<KEEP>", "reference", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", "interfaces", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "interfaces", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9892947249367535, "using": 2, "keep": 1}
{"id": "apache_hama-13-5537", "old_comment": "random name", "old_comment_tokens": ["random", "name"], "new_comment": "random matrix name", "new_comment_tokens": ["random", "matrix", "name"], "old_code": "public static string rand matrix name ( ) { string r name = constants . random ; for ( int i = num ; i < = num ; i + + ) { char ch = ( char ) ( ( math . random ( ) * num ) + num ) ; r name + = ch ; } return r name ; }", "old_code_tokens": ["public", "static", "string", "rand", "matrix", "name", "(", ")", "{", "string", "r", "name", "=", "constants", ".", "random", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "=", "num", ";", "i", "+", "+", ")", "{", "char", "ch", "=", "(", "char", ")", "(", "(", "math", ".", "random", "(", ")", "*", "num", ")", "+", "num", ")", ";", "r", "name", "+", "=", "ch", ";", "}", "return", "r", "name", ";", "}"], "new_code": "public static string rand matrix name ( ) { return rand string ( constants . random , num ) ; }", "new_code_tokens": ["public", "static", "string", "rand", "matrix", "name", "(", ")", "{", "return", "rand", "string", "(", "constants", ".", "random", ",", "num", ")", ";", "}"], "span_diff_code": "<KEEP> public static string rand matrix name ( ) { <KEEP_END> <INSERT> return rand <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> r name = <REPLACE_NEW> ( <REPLACE_END> <KEEP> constants . random <KEEP_END> <REPLACE_OLD> ; for ( int i = num ; i < = num ; i + + ) { char ch = ( char ) ( ( math . random ( ) * num ) + <REPLACE_NEW> , <REPLACE_END> <KEEP> num ) ; <KEEP_END> <DELETE> r name + = ch ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> return r name ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "rand", "matrix", "name", "(", ")", "{", "<KEEP_END>", "<INSERT>", "return", "rand", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "r", "name", "=", "<REPLACE_NEW>", "(", "<REPLACE_END>", "<KEEP>", "constants", ".", "random", "<KEEP_END>", "<REPLACE_OLD>", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "=", "num", ";", "i", "+", "+", ")", "{", "char", "ch", "=", "(", "char", ")", "(", "(", "math", ".", "random", "(", ")", "*", "num", ")", "+", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<KEEP>", "num", ")", ";", "<KEEP_END>", "<DELETE>", "r", "name", "+", "=", "ch", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "return", "r", "name", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> random <INSERT_NEW_KEEP_BEFORE> random matrix <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "random", "<INSERT_NEW_KEEP_BEFORE>", "random", "matrix", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "rand", "<KEEP>", "matrix", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "return", "<INSERT>", "rand", "<KEEP>", "string", "<REPLACE_OLD>", "r", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "(", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "random", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "char", "<REPLACE_OLD>", "ch", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "char", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "math", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "random", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "*", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "r", "<DELETE>", "name", "<DELETE>", "+", "<DELETE>", "=", "<DELETE>", "ch", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "r", "<DELETE>", "name", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.7963114105273001, "using": 2, "keep": 1}
{"id": "eclipse_jnosql-diana-4-5297", "old_comment": "a document collection entity instance", "old_comment_tokens": ["a", "document", "collection", "entity", "instance"], "new_comment": "a document entity instance", "new_comment_tokens": ["a", "document", "entity", "instance"], "old_code": "static document collection entity of ( string name , list < document > documents ) throws null pointer exception { default document collection entity entity = new default document collection entity ( name ) ; entity . add all ( documents ) ; return entity ; }", "old_code_tokens": ["static", "document", "collection", "entity", "of", "(", "string", "name", ",", "list", "<", "document", ">", "documents", ")", "throws", "null", "pointer", "exception", "{", "default", "document", "collection", "entity", "entity", "=", "new", "default", "document", "collection", "entity", "(", "name", ")", ";", "entity", ".", "add", "all", "(", "documents", ")", ";", "return", "entity", ";", "}"], "new_code": "static document entity of ( string name , list < document > documents ) throws null pointer exception { default document entity entity = new default document entity ( name ) ; entity . add all ( documents ) ; return entity ; }", "new_code_tokens": ["static", "document", "entity", "of", "(", "string", "name", ",", "list", "<", "document", ">", "documents", ")", "throws", "null", "pointer", "exception", "{", "default", "document", "entity", "entity", "=", "new", "default", "document", "entity", "(", "name", ")", ";", "entity", ".", "add", "all", "(", "documents", ")", ";", "return", "entity", ";", "}"], "span_diff_code": "<KEEP> static document <KEEP_END> <DELETE> collection <DELETE_END> <KEEP> entity of ( string name , list < document > documents ) throws null pointer exception { default document <KEEP_END> <DELETE> collection <DELETE_END> <KEEP> entity entity = new default document <KEEP_END> <DELETE> collection <DELETE_END> <KEEP> entity ( name ) ; entity . add all ( documents ) ; return entity ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "document", "<KEEP_END>", "<DELETE>", "collection", "<DELETE_END>", "<KEEP>", "entity", "of", "(", "string", "name", ",", "list", "<", "document", ">", "documents", ")", "throws", "null", "pointer", "exception", "{", "default", "document", "<KEEP_END>", "<DELETE>", "collection", "<DELETE_END>", "<KEEP>", "entity", "entity", "=", "new", "default", "document", "<KEEP_END>", "<DELETE>", "collection", "<DELETE_END>", "<KEEP>", "entity", "(", "name", ")", ";", "entity", ".", "add", "all", "(", "documents", ")", ";", "return", "entity", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> collection <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "collection", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "document", "<DELETE>", "collection", "<KEEP>", "entity", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "document", "<KEEP>", ">", "<KEEP>", "documents", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "default", "<KEEP>", "document", "<DELETE>", "collection", "<KEEP>", "entity", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "document", "<DELETE>", "collection", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "entity", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "documents", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "entity", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.99642451354369, "using": 2, "keep": 1}
{"id": "JetBrains_android-13-6835", "old_comment": "a file pointing at the archive for the given coordinate", "old_comment_tokens": ["a", "file", "pointing", "at", "the", "archive", "for", "the", "given", "coordinate"], "new_comment": "a file pointing at the archive for the given coordinate or null if no sdk is configured", "new_comment_tokens": ["a", "file", "pointing", "at", "the", "archive", "for", "the", "given", "coordinate", "or", "null", "if", "no", "sdk", "is", "configured"], "old_code": "public static file get archive for coordinate ( maven coordinate maven coordinate ) { string sdk location = android sdk utils . try to choose android sdk ( ) . get location ( ) ; string path = string . format ( support _ repository _ base _ path , sdk location , maven coordinate . get artifact id ( ) ) ; path = file util . to system dependent name ( path ) ; string revision path = string . format ( maven _ revision _ path , maven coordinate . get full revision ( ) , maven coordinate . get artifact id ( ) , maven coordinate . get full revision ( ) ) ; revision path = file util . to system dependent name ( revision path ) ; return new file ( path , revision path ) ; }", "old_code_tokens": ["public", "static", "file", "get", "archive", "for", "coordinate", "(", "maven", "coordinate", "maven", "coordinate", ")", "{", "string", "sdk", "location", "=", "android", "sdk", "utils", ".", "try", "to", "choose", "android", "sdk", "(", ")", ".", "get", "location", "(", ")", ";", "string", "path", "=", "string", ".", "format", "(", "support", "_", "repository", "_", "base", "_", "path", ",", "sdk", "location", ",", "maven", "coordinate", ".", "get", "artifact", "id", "(", ")", ")", ";", "path", "=", "file", "util", ".", "to", "system", "dependent", "name", "(", "path", ")", ";", "string", "revision", "path", "=", "string", ".", "format", "(", "maven", "_", "revision", "_", "path", ",", "maven", "coordinate", ".", "get", "full", "revision", "(", ")", ",", "maven", "coordinate", ".", "get", "artifact", "id", "(", ")", ",", "maven", "coordinate", ".", "get", "full", "revision", "(", ")", ")", ";", "revision", "path", "=", "file", "util", ".", "to", "system", "dependent", "name", "(", "revision", "path", ")", ";", "return", "new", "file", "(", "path", ",", "revision", "path", ")", ";", "}"], "new_code": "@ nullable public static file get archive for coordinate ( maven coordinate maven coordinate ) { sdk manager sdk = android sdk utils . try to choose android sdk ( ) ; if ( sdk = = null ) { return null ; } string sdk location = sdk . get location ( ) ; string artifact id = maven coordinate . get artifact id ( ) ; string revision = maven coordinate . get full revision ( ) ; repository library library = extras _ repository . get ( artifact id ) ; file path = new file ( string . format ( library . base path , sdk location , library . id ) ) ; string revision path = string . format ( maven _ revision _ path , library . id , revision ) + library . archive extension ; return new file ( path , revision path ) ; }", "new_code_tokens": ["@", "nullable", "public", "static", "file", "get", "archive", "for", "coordinate", "(", "maven", "coordinate", "maven", "coordinate", ")", "{", "sdk", "manager", "sdk", "=", "android", "sdk", "utils", ".", "try", "to", "choose", "android", "sdk", "(", ")", ";", "if", "(", "sdk", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "sdk", "location", "=", "sdk", ".", "get", "location", "(", ")", ";", "string", "artifact", "id", "=", "maven", "coordinate", ".", "get", "artifact", "id", "(", ")", ";", "string", "revision", "=", "maven", "coordinate", ".", "get", "full", "revision", "(", ")", ";", "repository", "library", "library", "=", "extras", "_", "repository", ".", "get", "(", "artifact", "id", ")", ";", "file", "path", "=", "new", "file", "(", "string", ".", "format", "(", "library", ".", "base", "path", ",", "sdk", "location", ",", "library", ".", "id", ")", ")", ";", "string", "revision", "path", "=", "string", ".", "format", "(", "maven", "_", "revision", "_", "path", ",", "library", ".", "id", ",", "revision", ")", "+", "library", ".", "archive", "extension", ";", "return", "new", "file", "(", "path", ",", "revision", "path", ")", ";", "}"], "span_diff_code": "<INSERT> @ nullable <INSERT_END> <KEEP> public static file get archive for coordinate ( maven coordinate maven coordinate ) { <KEEP_END> <DELETE> string <DELETE_END> <KEEP> sdk <KEEP_END> <REPLACE_OLD> location <REPLACE_NEW> manager sdk <REPLACE_END> <KEEP> = android sdk utils . try to choose android sdk ( ) <KEEP_END> <INSERT> ; if ( sdk = = null ) { return null ; } string sdk location = sdk <INSERT_END> <KEEP> . get location ( ) ; string <KEEP_END> <REPLACE_OLD> path <REPLACE_NEW> artifact id <REPLACE_END> <KEEP> = <KEEP_END> <DELETE> string . format ( support _ repository _ base _ path , sdk location , <DELETE_END> <KEEP> maven coordinate . get artifact id ( ) <KEEP_END> <INSERT> ; string revision = maven coordinate . get full revision ( <INSERT_END> <KEEP> ) ; <KEEP_END> <INSERT> repository library library = extras _ repository . get ( artifact id ) ; file <INSERT_END> <KEEP> path = <KEEP_END> <INSERT> new <INSERT_END> <KEEP> file <KEEP_END> <REPLACE_OLD> util <REPLACE_NEW> ( string <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> to system dependent name <REPLACE_NEW> format <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> library . base <INSERT_END> <KEEP> path <KEEP_END> <INSERT> , sdk location , library . id ) <INSERT_END> <KEEP> ) ; string revision path = string . format ( maven _ revision _ path , <KEEP_END> <REPLACE_OLD> maven coordinate <REPLACE_NEW> library <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get full <REPLACE_NEW> id , <REPLACE_END> <KEEP> revision <KEEP_END> <DELETE> ( <DELETE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> , maven coordinate <REPLACE_NEW> + library <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get artifact id ( ) , maven coordinate . get full revision ( ) ) ; revision path = file util . to system dependent name ( revision path ) <REPLACE_NEW> archive extension <REPLACE_END> <KEEP> ; return new file ( path , revision path ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "nullable", "<INSERT_END>", "<KEEP>", "public", "static", "file", "get", "archive", "for", "coordinate", "(", "maven", "coordinate", "maven", "coordinate", ")", "{", "<KEEP_END>", "<DELETE>", "string", "<DELETE_END>", "<KEEP>", "sdk", "<KEEP_END>", "<REPLACE_OLD>", "location", "<REPLACE_NEW>", "manager", "sdk", "<REPLACE_END>", "<KEEP>", "=", "android", "sdk", "utils", ".", "try", "to", "choose", "android", "sdk", "(", ")", "<KEEP_END>", "<INSERT>", ";", "if", "(", "sdk", "=", "=", "null", ")", "{", "return", "null", ";", "}", "string", "sdk", "location", "=", "sdk", "<INSERT_END>", "<KEEP>", ".", "get", "location", "(", ")", ";", "string", "<KEEP_END>", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "artifact", "id", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<DELETE>", "string", ".", "format", "(", "support", "_", "repository", "_", "base", "_", "path", ",", "sdk", "location", ",", "<DELETE_END>", "<KEEP>", "maven", "coordinate", ".", "get", "artifact", "id", "(", ")", "<KEEP_END>", "<INSERT>", ";", "string", "revision", "=", "maven", "coordinate", ".", "get", "full", "revision", "(", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "repository", "library", "library", "=", "extras", "_", "repository", ".", "get", "(", "artifact", "id", ")", ";", "file", "<INSERT_END>", "<KEEP>", "path", "=", "<KEEP_END>", "<INSERT>", "new", "<INSERT_END>", "<KEEP>", "file", "<KEEP_END>", "<REPLACE_OLD>", "util", "<REPLACE_NEW>", "(", "string", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "to", "system", "dependent", "name", "<REPLACE_NEW>", "format", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "library", ".", "base", "<INSERT_END>", "<KEEP>", "path", "<KEEP_END>", "<INSERT>", ",", "sdk", "location", ",", "library", ".", "id", ")", "<INSERT_END>", "<KEEP>", ")", ";", "string", "revision", "path", "=", "string", ".", "format", "(", "maven", "_", "revision", "_", "path", ",", "<KEEP_END>", "<REPLACE_OLD>", "maven", "coordinate", "<REPLACE_NEW>", "library", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "full", "<REPLACE_NEW>", "id", ",", "<REPLACE_END>", "<KEEP>", "revision", "<KEEP_END>", "<DELETE>", "(", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "maven", "coordinate", "<REPLACE_NEW>", "+", "library", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "artifact", "id", "(", ")", ",", "maven", "coordinate", ".", "get", "full", "revision", "(", ")", ")", ";", "revision", "path", "=", "file", "util", ".", "to", "system", "dependent", "name", "(", "revision", "path", ")", "<REPLACE_NEW>", "archive", "extension", "<REPLACE_END>", "<KEEP>", ";", "return", "new", "file", "(", "path", ",", "revision", "path", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> coordinate <INSERT_NEW_KEEP_BEFORE> coordinate or null if no sdk is configured <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "coordinate", "<INSERT_NEW_KEEP_BEFORE>", "coordinate", "or", "null", "if", "no", "sdk", "is", "configured", "<INSERT_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "nullable", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "archive", "<KEEP>", "for", "<KEEP>", "coordinate", "<KEEP>", "(", "<KEEP>", "maven", "<KEEP>", "coordinate", "<KEEP>", "maven", "<KEEP>", "coordinate", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "string", "<KEEP>", "sdk", "<REPLACE_OLD>", "location", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", "sdk", "<KEEP>", "=", "<KEEP>", "android", "<KEEP>", "sdk", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "try", "<KEEP>", "to", "<KEEP>", "choose", "<KEEP>", "android", "<KEEP>", "sdk", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "sdk", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "string", "<INSERT>", "sdk", "<INSERT>", "location", "<INSERT>", "=", "<INSERT>", "sdk", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "location", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "artifact", "<REPLACE_NEW>", "id", "<KEEP>", "=", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "support", "<DELETE>", "_", "<DELETE>", "repository", "<DELETE>", "_", "<DELETE>", "base", "<DELETE>", "_", "<DELETE>", "path", "<DELETE>", ",", "<DELETE>", "sdk", "<DELETE>", "location", "<DELETE>", ",", "<KEEP>", "maven", "<KEEP>", "coordinate", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "artifact", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "string", "<INSERT>", "revision", "<INSERT>", "=", "<INSERT>", "maven", "<INSERT>", "coordinate", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "full", "<INSERT>", "revision", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "repository", "<INSERT>", "library", "<INSERT>", "library", "<INSERT>", "=", "<INSERT>", "extras", "<INSERT>", "_", "<INSERT>", "repository", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "artifact", "<INSERT>", "id", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "file", "<KEEP>", "path", "<KEEP>", "=", "<INSERT>", "new", "<KEEP>", "file", "<REPLACE_OLD>", "util", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "string", "<KEEP>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", "dependent", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "format", "<KEEP>", "(", "<INSERT>", "library", "<INSERT>", ".", "<INSERT>", "base", "<KEEP>", "path", "<INSERT>", ",", "<INSERT>", "sdk", "<INSERT>", "location", "<INSERT>", ",", "<INSERT>", "library", "<INSERT>", ".", "<INSERT>", "id", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "revision", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "maven", "<KEEP>", "_", "<KEEP>", "revision", "<KEEP>", "_", "<KEEP>", "path", "<KEEP>", ",", "<REPLACE_OLD>", "maven", "<REPLACE_OLD>", "coordinate", "<REPLACE_NEW>", "library", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "full", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ",", "<KEEP>", "revision", "<DELETE>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "maven", "<REPLACE_OLD>", "coordinate", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "library", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "artifact", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "maven", "<REPLACE_OLD>", "coordinate", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "full", "<REPLACE_OLD>", "revision", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "revision", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "util", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", "dependent", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "revision", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "archive", "<REPLACE_NEW>", "extension", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", ",", "<KEEP>", "revision", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8455506336563907, "using": 2, "keep": 1}
{"id": "eclipse_eclipse.platform.runtime-89-6886", "old_comment": "a new empty context with no parent context .", "old_comment_tokens": ["a", "new", "empty", "context", "with", "no", "parent", "context", "."], "new_comment": "a new empty context .", "new_comment_tokens": ["a", "new", "empty", "context", "."], "old_code": "static public ieclipse context create ( ) { return create ( null , null ) ; }", "old_code_tokens": ["static", "public", "ieclipse", "context", "create", "(", ")", "{", "return", "create", "(", "null", ",", "null", ")", ";", "}"], "new_code": "static public ieclipse context create ( ) { return new eclipse context ( null , null ) ; }", "new_code_tokens": ["static", "public", "ieclipse", "context", "create", "(", ")", "{", "return", "new", "eclipse", "context", "(", "null", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> static public ieclipse context create ( ) { return <KEEP_END> <REPLACE_OLD> create <REPLACE_NEW> new eclipse context <REPLACE_END> <KEEP> ( null , null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "public", "ieclipse", "context", "create", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "create", "<REPLACE_NEW>", "new", "eclipse", "context", "<REPLACE_END>", "<KEEP>", "(", "null", ",", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> with no parent context <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "with", "no", "parent", "context", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "public", "<KEEP>", "ieclipse", "<KEEP>", "context", "<KEEP>", "create", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "create", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "eclipse", "<REPLACE_NEW>", "context", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8843187396793947, "using": 1, "keep": 1}
{"id": "softctrl_roottools-2-5006", "old_comment": "busy box version is found , null if not found .", "old_comment_tokens": ["busy", "box", "version", "is", "found", ",", "null", "if", "not", "found", "."], "new_comment": "busy box version is found , \" \" if not found .", "new_comment_tokens": ["busy", "box", "version", "is", "found", ",", "\"", "\"", "if", "not", "found", "."], "old_code": "public static string get busy box version ( ) { root tools . log ( internal variables . tag , str ) ; internal variables . busybox version = null ; try { internal methods . instance ( ) . do exec ( new string [ ] { str } , internal variables . timeout ) ; } catch ( exception e ) { root tools . log ( internal variables . tag , str ) ; if ( debug mode ) { e . print stack trace ( ) ; } return null ; } return internal variables . busybox version ; }", "old_code_tokens": ["public", "static", "string", "get", "busy", "box", "version", "(", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "internal", "variables", ".", "busybox", "version", "=", "null", ";", "try", "{", "internal", "methods", ".", "instance", "(", ")", ".", "do", "exec", "(", "new", "string", "[", "]", "{", "str", "}", ",", "internal", "variables", ".", "timeout", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "if", "(", "debug", "mode", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "null", ";", "}", "return", "internal", "variables", ".", "busybox", "version", ";", "}"], "new_code": "public static string get busy box version ( ) { root tools . log ( internal variables . tag , str ) ; internal variables . busybox version = null ; try { new internal methods ( ) . do exec ( new string [ ] { str } , internal variables . timeout ) ; } catch ( timeout exception ex ) { root tools . log ( internal variables . tag , str ) ; } catch ( exception e ) { root tools . log ( internal variables . tag , str ) ; return str ; } return internal variables . busybox version ; }", "new_code_tokens": ["public", "static", "string", "get", "busy", "box", "version", "(", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "internal", "variables", ".", "busybox", "version", "=", "null", ";", "try", "{", "new", "internal", "methods", "(", ")", ".", "do", "exec", "(", "new", "string", "[", "]", "{", "str", "}", ",", "internal", "variables", ".", "timeout", ")", ";", "}", "catch", "(", "timeout", "exception", "ex", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "return", "str", ";", "}", "return", "internal", "variables", ".", "busybox", "version", ";", "}"], "span_diff_code": "<KEEP> public static string get busy box version ( ) { root tools . log ( internal variables . tag , str ) ; internal variables . busybox version = null ; try { <KEEP_END> <INSERT> new <INSERT_END> <KEEP> internal methods <KEEP_END> <DELETE> . instance <DELETE_END> <KEEP> ( ) . do exec ( new string [ ] { str } , internal variables . timeout ) ; } catch ( <KEEP_END> <INSERT> timeout exception ex ) { root tools . log ( internal variables . tag , str ) ; } catch ( <INSERT_END> <KEEP> exception e ) { root tools . log ( internal variables . tag , str ) ; <KEEP_END> <DELETE> if ( debug mode ) { e . print stack trace ( ) ; } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> str <REPLACE_END> <KEEP> ; } return internal variables . busybox version ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "busy", "box", "version", "(", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "internal", "variables", ".", "busybox", "version", "=", "null", ";", "try", "{", "<KEEP_END>", "<INSERT>", "new", "<INSERT_END>", "<KEEP>", "internal", "methods", "<KEEP_END>", "<DELETE>", ".", "instance", "<DELETE_END>", "<KEEP>", "(", ")", ".", "do", "exec", "(", "new", "string", "[", "]", "{", "str", "}", ",", "internal", "variables", ".", "timeout", ")", ";", "}", "catch", "(", "<KEEP_END>", "<INSERT>", "timeout", "exception", "ex", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "}", "catch", "(", "<INSERT_END>", "<KEEP>", "exception", "e", ")", "{", "root", "tools", ".", "log", "(", "internal", "variables", ".", "tag", ",", "str", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "debug", "mode", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "str", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "internal", "variables", ".", "busybox", "version", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> \" \" <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "\"", "\"", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "busy", "<KEEP>", "box", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "root", "<KEEP>", "tools", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "internal", "<KEEP>", "variables", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "internal", "<KEEP>", "variables", "<KEEP>", ".", "<KEEP>", "busybox", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<INSERT>", "new", "<KEEP>", "internal", "<KEEP>", "methods", "<DELETE>", ".", "<DELETE>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "do", "<KEEP>", "exec", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "str", "<KEEP>", "}", "<KEEP>", ",", "<KEEP>", "internal", "<KEEP>", "variables", "<KEEP>", ".", "<KEEP>", "timeout", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<INSERT>", "timeout", "<INSERT>", "exception", "<INSERT>", "ex", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "root", "<INSERT>", "tools", "<INSERT>", ".", "<INSERT>", "log", "<INSERT>", "(", "<INSERT>", "internal", "<INSERT>", "variables", "<INSERT>", ".", "<INSERT>", "tag", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "root", "<KEEP>", "tools", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "internal", "<KEEP>", "variables", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "debug", "<DELETE>", "mode", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "e", "<DELETE>", ".", "<DELETE>", "print", "<DELETE>", "stack", "<DELETE>", "trace", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "internal", "<KEEP>", "variables", "<KEEP>", ".", "<KEEP>", "busybox", "<KEEP>", "version", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9054094342882261, "using": 0, "keep": 1}
{"id": "languagetool-org_languagetool-12-2291", "old_comment": "array of analyzed token readings that match equivalence relation defined for features tested .", "old_comment_tokens": ["array", "of", "analyzed", "token", "readings", "that", "match", "equivalence", "relation", "defined", "for", "features", "tested", "."], "new_comment": "array of analyzed token readings that match equivalence relation defined for features tested , or null", "new_comment_tokens": ["array", "of", "analyzed", "token", "readings", "that", "match", "equivalence", "relation", "defined", "for", "features", "tested", ",", "or", "null"], "old_code": "public final analyzed token readings [ ] get unified tokens ( ) { if ( tok sequence . is empty ( ) ) { return null ; } list < analyzed token readings > u tokens = new array list < > ( ) ; for ( int j = num ; j < tok sequence . size ( ) ; j + + ) { for ( int i = num ; i < tok sequence equivalences . get ( j ) . size ( ) ; i + + ) { int feat unified = num ; if ( tok sequence equivalences . get ( j ) . get ( i ) . contains key ( unify _ ignore ) ) { add token to sequence ( u tokens , tok sequence . get ( j ) . get analyzed token ( i ) , j ) ; } else { for ( final map . entry < string , list < string > > feat : unification feats . entry set ( ) ) { if ( tok sequence equivalences . get ( j ) . get ( i ) . contains key ( feat . get key ( ) ) & & tok sequence equivalences . get ( j ) . get ( i ) . get ( feat . get key ( ) ) . is empty ( ) ) { feat unified = num ; } else { feat unified + + ; } if ( feat unified = = unification feats . entry set ( ) . size ( ) ) { add token to sequence ( u tokens , tok sequence . get ( j ) . get analyzed token ( i ) , j ) ; } } } } } return u tokens . to array ( new analyzed token readings [ u tokens . size ( ) ] ) ; }", "old_code_tokens": ["public", "final", "analyzed", "token", "readings", "[", "]", "get", "unified", "tokens", "(", ")", "{", "if", "(", "tok", "sequence", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "list", "<", "analyzed", "token", "readings", ">", "u", "tokens", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "int", "j", "=", "num", ";", "j", "<", "tok", "sequence", ".", "size", "(", ")", ";", "j", "+", "+", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "int", "feat", "unified", "=", "num", ";", "if", "(", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "contains", "key", "(", "unify", "_", "ignore", ")", ")", "{", "add", "token", "to", "sequence", "(", "u", "tokens", ",", "tok", "sequence", ".", "get", "(", "j", ")", ".", "get", "analyzed", "token", "(", "i", ")", ",", "j", ")", ";", "}", "else", "{", "for", "(", "final", "map", ".", "entry", "<", "string", ",", "list", "<", "string", ">", ">", "feat", ":", "unification", "feats", ".", "entry", "set", "(", ")", ")", "{", "if", "(", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "contains", "key", "(", "feat", ".", "get", "key", "(", ")", ")", "&", "&", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "get", "(", "feat", ".", "get", "key", "(", ")", ")", ".", "is", "empty", "(", ")", ")", "{", "feat", "unified", "=", "num", ";", "}", "else", "{", "feat", "unified", "+", "+", ";", "}", "if", "(", "feat", "unified", "=", "=", "unification", "feats", ".", "entry", "set", "(", ")", ".", "size", "(", ")", ")", "{", "add", "token", "to", "sequence", "(", "u", "tokens", ",", "tok", "sequence", ".", "get", "(", "j", ")", ".", "get", "analyzed", "token", "(", "i", ")", ",", "j", ")", ";", "}", "}", "}", "}", "}", "return", "u", "tokens", ".", "to", "array", "(", "new", "analyzed", "token", "readings", "[", "u", "tokens", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "@ nullable public final analyzed token readings [ ] get unified tokens ( ) { if ( tok sequence . is empty ( ) ) { return null ; } list < analyzed token readings > u tokens = new array list < > ( ) ; for ( int j = num ; j < tok sequence . size ( ) ; j + + ) { boolean unified tokens found = false ; for ( int i = num ; i < tok sequence equivalences . get ( j ) . size ( ) ; i + + ) { int feat unified = num ; if ( tok sequence equivalences . get ( j ) . get ( i ) . contains key ( unify _ ignore ) ) { add token to sequence ( u tokens , tok sequence . get ( j ) . get analyzed token ( i ) , j ) ; unified tokens found = true ; } else { for ( final map . entry < string , list < string > > feat : unification feats . entry set ( ) ) { if ( tok sequence equivalences . get ( j ) . get ( i ) . contains key ( feat . get key ( ) ) & & tok sequence equivalences . get ( j ) . get ( i ) . get ( feat . get key ( ) ) . is empty ( ) ) { feat unified = num ; } else { feat unified + + ; } if ( feat unified = = unification feats . entry set ( ) . size ( ) ) { add token to sequence ( u tokens , tok sequence . get ( j ) . get analyzed token ( i ) , j ) ; unified tokens found = true ; } } } } if ( ! unified tokens found ) { return null ; } } return u tokens . to array ( new analyzed token readings [ u tokens . size ( ) ] ) ; }", "new_code_tokens": ["@", "nullable", "public", "final", "analyzed", "token", "readings", "[", "]", "get", "unified", "tokens", "(", ")", "{", "if", "(", "tok", "sequence", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "list", "<", "analyzed", "token", "readings", ">", "u", "tokens", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "int", "j", "=", "num", ";", "j", "<", "tok", "sequence", ".", "size", "(", ")", ";", "j", "+", "+", ")", "{", "boolean", "unified", "tokens", "found", "=", "false", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "int", "feat", "unified", "=", "num", ";", "if", "(", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "contains", "key", "(", "unify", "_", "ignore", ")", ")", "{", "add", "token", "to", "sequence", "(", "u", "tokens", ",", "tok", "sequence", ".", "get", "(", "j", ")", ".", "get", "analyzed", "token", "(", "i", ")", ",", "j", ")", ";", "unified", "tokens", "found", "=", "true", ";", "}", "else", "{", "for", "(", "final", "map", ".", "entry", "<", "string", ",", "list", "<", "string", ">", ">", "feat", ":", "unification", "feats", ".", "entry", "set", "(", ")", ")", "{", "if", "(", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "contains", "key", "(", "feat", ".", "get", "key", "(", ")", ")", "&", "&", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "get", "(", "feat", ".", "get", "key", "(", ")", ")", ".", "is", "empty", "(", ")", ")", "{", "feat", "unified", "=", "num", ";", "}", "else", "{", "feat", "unified", "+", "+", ";", "}", "if", "(", "feat", "unified", "=", "=", "unification", "feats", ".", "entry", "set", "(", ")", ".", "size", "(", ")", ")", "{", "add", "token", "to", "sequence", "(", "u", "tokens", ",", "tok", "sequence", ".", "get", "(", "j", ")", ".", "get", "analyzed", "token", "(", "i", ")", ",", "j", ")", ";", "unified", "tokens", "found", "=", "true", ";", "}", "}", "}", "}", "if", "(", "!", "unified", "tokens", "found", ")", "{", "return", "null", ";", "}", "}", "return", "u", "tokens", ".", "to", "array", "(", "new", "analyzed", "token", "readings", "[", "u", "tokens", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<INSERT> @ nullable <INSERT_END> <KEEP> public final analyzed token readings [ ] get unified tokens ( ) { if ( tok sequence . is empty ( ) ) { return null ; } list < analyzed token readings > u tokens = new array list < > ( ) ; for ( int j = num ; j < tok sequence . size ( ) ; j + + ) { <KEEP_END> <INSERT> boolean unified tokens found = false ; <INSERT_END> <KEEP> for ( int i = num ; i < tok sequence equivalences . get ( j ) . size ( ) ; i + + ) { int feat unified = num ; if ( tok sequence equivalences . get ( j ) . get ( i ) . contains key ( unify _ ignore ) ) { add token to sequence ( u tokens , tok sequence . get ( j ) . get analyzed token ( i ) , j ) ; <KEEP_END> <INSERT> unified tokens found = true ; <INSERT_END> <KEEP> } else { for ( final map . entry < string , list < string > > feat : unification feats . entry set ( ) ) { if ( tok sequence equivalences . get ( j ) . get ( i ) . contains key ( feat . get key ( ) ) & & tok sequence equivalences . get ( j ) . get ( i ) . get ( feat . get key ( ) ) . is empty ( ) ) { feat unified = num ; } else { feat unified + + ; } if ( feat unified = = unification feats . entry set ( ) . size ( ) ) { add token to sequence ( u tokens , tok sequence . get ( j ) . get analyzed token ( i ) , j ) ; <KEEP_END> <REPLACE_OLD> } } } <REPLACE_NEW> unified tokens found = true ; } } } } if ( ! unified tokens found ) { return null ; <REPLACE_END> <KEEP> } } return u tokens . to array ( new analyzed token readings [ u tokens . size ( ) ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "nullable", "<INSERT_END>", "<KEEP>", "public", "final", "analyzed", "token", "readings", "[", "]", "get", "unified", "tokens", "(", ")", "{", "if", "(", "tok", "sequence", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "list", "<", "analyzed", "token", "readings", ">", "u", "tokens", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "int", "j", "=", "num", ";", "j", "<", "tok", "sequence", ".", "size", "(", ")", ";", "j", "+", "+", ")", "{", "<KEEP_END>", "<INSERT>", "boolean", "unified", "tokens", "found", "=", "false", ";", "<INSERT_END>", "<KEEP>", "for", "(", "int", "i", "=", "num", ";", "i", "<", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "int", "feat", "unified", "=", "num", ";", "if", "(", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "contains", "key", "(", "unify", "_", "ignore", ")", ")", "{", "add", "token", "to", "sequence", "(", "u", "tokens", ",", "tok", "sequence", ".", "get", "(", "j", ")", ".", "get", "analyzed", "token", "(", "i", ")", ",", "j", ")", ";", "<KEEP_END>", "<INSERT>", "unified", "tokens", "found", "=", "true", ";", "<INSERT_END>", "<KEEP>", "}", "else", "{", "for", "(", "final", "map", ".", "entry", "<", "string", ",", "list", "<", "string", ">", ">", "feat", ":", "unification", "feats", ".", "entry", "set", "(", ")", ")", "{", "if", "(", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "contains", "key", "(", "feat", ".", "get", "key", "(", ")", ")", "&", "&", "tok", "sequence", "equivalences", ".", "get", "(", "j", ")", ".", "get", "(", "i", ")", ".", "get", "(", "feat", ".", "get", "key", "(", ")", ")", ".", "is", "empty", "(", ")", ")", "{", "feat", "unified", "=", "num", ";", "}", "else", "{", "feat", "unified", "+", "+", ";", "}", "if", "(", "feat", "unified", "=", "=", "unification", "feats", ".", "entry", "set", "(", ")", ".", "size", "(", ")", ")", "{", "add", "token", "to", "sequence", "(", "u", "tokens", ",", "tok", "sequence", ".", "get", "(", "j", ")", ".", "get", "analyzed", "token", "(", "i", ")", ",", "j", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "}", "}", "<REPLACE_NEW>", "unified", "tokens", "found", "=", "true", ";", "}", "}", "}", "}", "if", "(", "!", "unified", "tokens", "found", ")", "{", "return", "null", ";", "<REPLACE_END>", "<KEEP>", "}", "}", "return", "u", "tokens", ".", "to", "array", "(", "new", "analyzed", "token", "readings", "[", "u", "tokens", ".", "size", "(", ")", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> . <REPLACE_NEW> , or null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ".", "<REPLACE_NEW>", ",", "or", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "nullable", "<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "analyzed", "<KEEP>", "token", "<KEEP>", "readings", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "unified", "<KEEP>", "tokens", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "analyzed", "<KEEP>", "token", "<KEEP>", "readings", "<KEEP>", ">", "<KEEP>", "u", "<KEEP>", "tokens", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "j", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "<", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "boolean", "<INSERT>", "unified", "<INSERT>", "tokens", "<INSERT>", "found", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", "equivalences", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "feat", "<KEEP>", "unified", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", "equivalences", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "unify", "<KEEP>", "_", "<KEEP>", "ignore", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "add", "<KEEP>", "token", "<KEEP>", "to", "<KEEP>", "sequence", "<KEEP>", "(", "<KEEP>", "u", "<KEEP>", "tokens", "<KEEP>", ",", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "analyzed", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "unified", "<INSERT>", "tokens", "<INSERT>", "found", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "feat", "<KEEP>", ":", "<KEEP>", "unification", "<KEEP>", "feats", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", "equivalences", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "feat", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", "equivalences", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "feat", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "feat", "<KEEP>", "unified", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "feat", "<KEEP>", "unified", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "feat", "<KEEP>", "unified", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "unification", "<KEEP>", "feats", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "add", "<KEEP>", "token", "<KEEP>", "to", "<KEEP>", "sequence", "<KEEP>", "(", "<KEEP>", "u", "<KEEP>", "tokens", "<KEEP>", ",", "<KEEP>", "tok", "<KEEP>", "sequence", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "analyzed", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "unified", "<REPLACE_NEW>", "tokens", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "unified", "<REPLACE_NEW>", "tokens", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "u", "<KEEP>", "tokens", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "analyzed", "<KEEP>", "token", "<KEEP>", "readings", "<KEEP>", "[", "<KEEP>", "u", "<KEEP>", "tokens", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9953237090179992, "using": 2, "keep": 1}
{"id": "marshall_rhino_titanium-5-5228", "old_comment": "key integer value or default value if key is absent or does not have int value", "old_comment_tokens": ["key", "integer", "value", "or", "default", "value", "if", "key", "is", "absent", "or", "does", "not", "have", "int", "value"], "new_comment": "key integer value or default value if key is absent", "new_comment_tokens": ["key", "integer", "value", "or", "default", "value", "if", "key", "is", "absent"], "old_code": "public int get int ( int key , int default value ) { if ( key < num ) context . code bug ( ) ; if ( ivalues shift ! = num ) { int index = find index ( key ) ; if ( num < = index ) { if ( ! is object type value ( index ) ) { return keys [ ivalues shift + index ] ; } } } return default value ; }", "old_code_tokens": ["public", "int", "get", "int", "(", "int", "key", ",", "int", "default", "value", ")", "{", "if", "(", "key", "<", "num", ")", "context", ".", "code", "bug", "(", ")", ";", "if", "(", "ivalues", "shift", "!", "=", "num", ")", "{", "int", "index", "=", "find", "index", "(", "key", ")", ";", "if", "(", "num", "<", "=", "index", ")", "{", "if", "(", "!", "is", "object", "type", "value", "(", "index", ")", ")", "{", "return", "keys", "[", "ivalues", "shift", "+", "index", "]", ";", "}", "}", "}", "return", "default", "value", ";", "}"], "new_code": "public int get int ( int key , int default value ) { if ( key < num ) context . code bug ( ) ; int index = find index ( key ) ; if ( num < = index ) { if ( ivalues shift ! = num ) { return keys [ ivalues shift + index ] ; } return num ; } return default value ; }", "new_code_tokens": ["public", "int", "get", "int", "(", "int", "key", ",", "int", "default", "value", ")", "{", "if", "(", "key", "<", "num", ")", "context", ".", "code", "bug", "(", ")", ";", "int", "index", "=", "find", "index", "(", "key", ")", ";", "if", "(", "num", "<", "=", "index", ")", "{", "if", "(", "ivalues", "shift", "!", "=", "num", ")", "{", "return", "keys", "[", "ivalues", "shift", "+", "index", "]", ";", "}", "return", "num", ";", "}", "return", "default", "value", ";", "}"], "span_diff_code": "<KEEP> public int get int ( int key , int default value ) { if ( key < num ) context . code bug ( ) ; <KEEP_END> <DELETE> if ( ivalues shift ! = num ) { <DELETE_END> <KEEP> int index = find index ( key ) ; if ( num < = index ) { if ( <KEEP_END> <INSERT> ivalues shift <INSERT_END> <KEEP> ! <KEEP_END> <REPLACE_OLD> is object type value ( index ) <REPLACE_NEW> = num <REPLACE_END> <KEEP> ) { return keys [ ivalues shift + index ] ; } <KEEP_END> <REPLACE_OLD> } <REPLACE_NEW> return num ; <REPLACE_END> <KEEP> } return default value ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "int", "(", "int", "key", ",", "int", "default", "value", ")", "{", "if", "(", "key", "<", "num", ")", "context", ".", "code", "bug", "(", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "ivalues", "shift", "!", "=", "num", ")", "{", "<DELETE_END>", "<KEEP>", "int", "index", "=", "find", "index", "(", "key", ")", ";", "if", "(", "num", "<", "=", "index", ")", "{", "if", "(", "<KEEP_END>", "<INSERT>", "ivalues", "shift", "<INSERT_END>", "<KEEP>", "!", "<KEEP_END>", "<REPLACE_OLD>", "is", "object", "type", "value", "(", "index", ")", "<REPLACE_NEW>", "=", "num", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "keys", "[", "ivalues", "shift", "+", "index", "]", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "num", ";", "<REPLACE_END>", "<KEEP>", "}", "return", "default", "value", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or does not have int value <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "does", "not", "have", "int", "value", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "default", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "bug", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "ivalues", "<DELETE>", "shift", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "find", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "ivalues", "<INSERT>", "shift", "<KEEP>", "!", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "ivalues", "<KEEP>", "shift", "<KEEP>", "+", "<KEEP>", "index", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "default", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8100260133691599, "using": 0, "keep": 1}
{"id": "spockframework_spock-3-3533", "old_comment": "the default response for method calls on the mock object", "old_comment_tokens": ["the", "default", "response", "for", "method", "calls", "on", "the", "mock", "object"], "new_comment": "the default response strategy for the mock object", "new_comment_tokens": ["the", "default", "response", "strategy", "for", "the", "mock", "object"], "old_code": "public imock response get default response ( ) { return default response ; }", "old_code_tokens": ["public", "imock", "response", "get", "default", "response", "(", ")", "{", "return", "default", "response", ";", "}"], "new_code": "public idefault response get default response ( ) { return default response ; }", "new_code_tokens": ["public", "idefault", "response", "get", "default", "response", "(", ")", "{", "return", "default", "response", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> imock <REPLACE_NEW> idefault <REPLACE_END> <KEEP> response get default response ( ) { return default response ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "imock", "<REPLACE_NEW>", "idefault", "<REPLACE_END>", "<KEEP>", "response", "get", "default", "response", "(", ")", "{", "return", "default", "response", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> response <INSERT_NEW_KEEP_BEFORE> response strategy <INSERT_END> <DELETE> method calls on <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "response", "<INSERT_NEW_KEEP_BEFORE>", "response", "strategy", "<INSERT_END>", "<DELETE>", "method", "calls", "on", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "imock", "<REPLACE_NEW>", "idefault", "<KEEP>", "response", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "default", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7881139346301265, "using": 0, "keep": 1}
{"id": "android10_Android-CleanArchitecture-0-252", "old_comment": "collection of user entity .", "old_comment_tokens": ["collection", "of", "user", "entity", "."], "new_comment": "list of user entity .", "new_comment_tokens": ["list", "of", "user", "entity", "."], "old_code": "public collection < user entity > transform user entity collection ( string user list json response ) throws json syntax exception { collection < user entity > user entity collection ; try { type list of user entity type = new type token < collection < user entity > > ( ) { } . get type ( ) ; user entity collection = this . gson . from json ( user list json response , list of user entity type ) ; return user entity collection ; } catch ( json syntax exception json exception ) { throw json exception ; } }", "old_code_tokens": ["public", "collection", "<", "user", "entity", ">", "transform", "user", "entity", "collection", "(", "string", "user", "list", "json", "response", ")", "throws", "json", "syntax", "exception", "{", "collection", "<", "user", "entity", ">", "user", "entity", "collection", ";", "try", "{", "type", "list", "of", "user", "entity", "type", "=", "new", "type", "token", "<", "collection", "<", "user", "entity", ">", ">", "(", ")", "{", "}", ".", "get", "type", "(", ")", ";", "user", "entity", "collection", "=", "this", ".", "gson", ".", "from", "json", "(", "user", "list", "json", "response", ",", "list", "of", "user", "entity", "type", ")", ";", "return", "user", "entity", "collection", ";", "}", "catch", "(", "json", "syntax", "exception", "json", "exception", ")", "{", "throw", "json", "exception", ";", "}", "}"], "new_code": "public list < user entity > transform user entity collection ( string user list json response ) throws json syntax exception { list < user entity > user entity collection ; try { type list of user entity type = new type token < list < user entity > > ( ) { } . get type ( ) ; user entity collection = this . gson . from json ( user list json response , list of user entity type ) ; return user entity collection ; } catch ( json syntax exception json exception ) { throw json exception ; } }", "new_code_tokens": ["public", "list", "<", "user", "entity", ">", "transform", "user", "entity", "collection", "(", "string", "user", "list", "json", "response", ")", "throws", "json", "syntax", "exception", "{", "list", "<", "user", "entity", ">", "user", "entity", "collection", ";", "try", "{", "type", "list", "of", "user", "entity", "type", "=", "new", "type", "token", "<", "list", "<", "user", "entity", ">", ">", "(", ")", "{", "}", ".", "get", "type", "(", ")", ";", "user", "entity", "collection", "=", "this", ".", "gson", ".", "from", "json", "(", "user", "list", "json", "response", ",", "list", "of", "user", "entity", "type", ")", ";", "return", "user", "entity", "collection", ";", "}", "catch", "(", "json", "syntax", "exception", "json", "exception", ")", "{", "throw", "json", "exception", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < user entity > transform user entity collection ( string user list json response ) throws json syntax exception { <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < user entity > user entity collection ; try { type list of user entity type = new type token < <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < user entity > > ( ) { } . get type ( ) ; user entity collection = this . gson . from json ( user list json response , list of user entity type ) ; return user entity collection ; } catch ( json syntax exception json exception ) { throw json exception ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "user", "entity", ">", "transform", "user", "entity", "collection", "(", "string", "user", "list", "json", "response", ")", "throws", "json", "syntax", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "user", "entity", ">", "user", "entity", "collection", ";", "try", "{", "type", "list", "of", "user", "entity", "type", "=", "new", "type", "token", "<", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "user", "entity", ">", ">", "(", ")", "{", "}", ".", "get", "type", "(", ")", ";", "user", "entity", "collection", "=", "this", ".", "gson", ".", "from", "json", "(", "user", "list", "json", "response", ",", "list", "of", "user", "entity", "type", ")", ";", "return", "user", "entity", "collection", ";", "}", "catch", "(", "json", "syntax", "exception", "json", "exception", ")", "{", "throw", "json", "exception", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", ">", "<KEEP>", "transform", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", "collection", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "user", "<KEEP>", "list", "<KEEP>", "json", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "json", "<KEEP>", "syntax", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", ">", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", "collection", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "type", "<KEEP>", "list", "<KEEP>", "of", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "type", "<KEEP>", "token", "<KEEP>", "<", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", "collection", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "gson", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "json", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "list", "<KEEP>", "json", "<KEEP>", "response", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "of", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "user", "<KEEP>", "entity", "<KEEP>", "collection", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "json", "<KEEP>", "syntax", "<KEEP>", "exception", "<KEEP>", "json", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "json", "<KEEP>", "exception", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9989611485657658, "using": 2, "keep": 1}
{"id": "eclipse_org.aspectj-31-6744", "old_comment": "type x for the annotation", "old_comment_tokens": ["type", "x", "for", "the", "annotation"], "new_comment": "unresolved type for the annotation", "new_comment_tokens": ["unresolved", "type", "for", "the", "annotation"], "old_code": "public type x get annotation type x ( ) { ensure annotation discovered ( ) ; return this . annotation . get signature ( ) ; }", "old_code_tokens": ["public", "type", "x", "get", "annotation", "type", "x", "(", ")", "{", "ensure", "annotation", "discovered", "(", ")", ";", "return", "this", ".", "annotation", ".", "get", "signature", "(", ")", ";", "}"], "new_code": "public unresolved type get annotation type x ( ) { ensure annotation discovered ( ) ; return this . annotation . get signature ( ) ; }", "new_code_tokens": ["public", "unresolved", "type", "get", "annotation", "type", "x", "(", ")", "{", "ensure", "annotation", "discovered", "(", ")", ";", "return", "this", ".", "annotation", ".", "get", "signature", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> unresolved <INSERT_END> <KEEP> type <KEEP_END> <DELETE> x <DELETE_END> <KEEP> get annotation type x ( ) { ensure annotation discovered ( ) ; return this . annotation . get signature ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "unresolved", "<INSERT_END>", "<KEEP>", "type", "<KEEP_END>", "<DELETE>", "x", "<DELETE_END>", "<KEEP>", "get", "annotation", "type", "x", "(", ")", "{", "ensure", "annotation", "discovered", "(", ")", ";", "return", "this", ".", "annotation", ".", "get", "signature", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> type <INSERT_NEW_KEEP_AFTER> unresolved type <INSERT_END> <DELETE> x <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "type", "<INSERT_NEW_KEEP_AFTER>", "unresolved", "type", "<INSERT_END>", "<DELETE>", "x", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "unresolved", "<KEEP>", "type", "<DELETE>", "x", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "type", "<KEEP>", "x", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ensure", "<KEEP>", "annotation", "<KEEP>", "discovered", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "annotation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "signature", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.814716376393228, "using": 1, "keep": 1}
{"id": "infinum_MjolnirRecyclerView-1-6495", "old_comment": "true if @ param footer view id is not 0 , false otherwise", "old_comment_tokens": ["true", "if", "@", "param", "footer", "view", "id", "is", "not", "0", ",", "false", "otherwise"], "new_comment": "true if @ param footer view id is not 0 or if @ param footer view is not null , false otherwise", "new_comment_tokens": ["true", "if", "@", "param", "footer", "view", "id", "is", "not", "0", "or", "if", "@", "param", "footer", "view", "is", "not", "null", ",", "false", "otherwise"], "old_code": "private boolean has footer ( ) { return footer view id ! = num | | header view ! = null ; }", "old_code_tokens": ["private", "boolean", "has", "footer", "(", ")", "{", "return", "footer", "view", "id", "!", "=", "num", "|", "|", "header", "view", "!", "=", "null", ";", "}"], "new_code": "private boolean has footer ( ) { return footer view id ! = num | | footer view ! = null ; }", "new_code_tokens": ["private", "boolean", "has", "footer", "(", ")", "{", "return", "footer", "view", "id", "!", "=", "num", "|", "|", "footer", "view", "!", "=", "null", ";", "}"], "span_diff_code": "<KEEP> private boolean has footer ( ) { return footer view id ! = num | | <KEEP_END> <REPLACE_OLD> header <REPLACE_NEW> footer <REPLACE_END> <KEEP> view ! = null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "has", "footer", "(", ")", "{", "return", "footer", "view", "id", "!", "=", "num", "|", "|", "<KEEP_END>", "<REPLACE_OLD>", "header", "<REPLACE_NEW>", "footer", "<REPLACE_END>", "<KEEP>", "view", "!", "=", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> 0 <INSERT_NEW_KEEP_BEFORE> 0 or if @ param footer view is not null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "0", "<INSERT_NEW_KEEP_BEFORE>", "0", "or", "if", "@", "param", "footer", "view", "is", "not", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "footer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "footer", "<KEEP>", "view", "<KEEP>", "id", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<REPLACE_OLD>", "header", "<REPLACE_NEW>", "footer", "<KEEP>", "view", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9228980999011132, "using": 0, "keep": 1}
{"id": "eclipse_skalli-15-4235", "old_comment": "an unmodifiable but sorted set of all extensions ( see entity base # compare to ( object ) ) .", "old_comment_tokens": ["an", "unmodifiable", "but", "sorted", "set", "of", "all", "extensions", "(", "see", "entity", "base", "#", "compare", "to", "(", "object", ")", ")", "."], "new_comment": "an unmodifiable but sorted set of all extensions ( see extensions comparator ) .", "new_comment_tokens": ["an", "unmodifiable", "but", "sorted", "set", "of", "all", "extensions", "(", "see", "extensions", "comparator", ")", "."], "old_code": "public sorted set < extension entity base > get all extensions ( ) { if ( extensions = = null ) { return new tree set < extension entity base > ( ) ; } return extensions . get all extensions ( ) ; }", "old_code_tokens": ["public", "sorted", "set", "<", "extension", "entity", "base", ">", "get", "all", "extensions", "(", ")", "{", "if", "(", "extensions", "=", "=", "null", ")", "{", "return", "new", "tree", "set", "<", "extension", "entity", "base", ">", "(", ")", ";", "}", "return", "extensions", ".", "get", "all", "extensions", "(", ")", ";", "}"], "new_code": "public sorted set < extension entity base > get all extensions ( ) { if ( extensions = = null ) { return new tree set < extension entity base > ( new extensions comparator ( ) ) ; } return extensions . get all extensions ( ) ; }", "new_code_tokens": ["public", "sorted", "set", "<", "extension", "entity", "base", ">", "get", "all", "extensions", "(", ")", "{", "if", "(", "extensions", "=", "=", "null", ")", "{", "return", "new", "tree", "set", "<", "extension", "entity", "base", ">", "(", "new", "extensions", "comparator", "(", ")", ")", ";", "}", "return", "extensions", ".", "get", "all", "extensions", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public sorted set < extension entity base > get all extensions ( ) { if ( extensions = = null ) { return new tree set < extension entity base > ( <KEEP_END> <INSERT> new extensions comparator ( ) <INSERT_END> <KEEP> ) ; } return extensions . get all extensions ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "sorted", "set", "<", "extension", "entity", "base", ">", "get", "all", "extensions", "(", ")", "{", "if", "(", "extensions", "=", "=", "null", ")", "{", "return", "new", "tree", "set", "<", "extension", "entity", "base", ">", "(", "<KEEP_END>", "<INSERT>", "new", "extensions", "comparator", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "return", "extensions", ".", "get", "all", "extensions", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> entity base # compare to ( object ) <REPLACE_NEW> extensions comparator <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "entity", "base", "#", "compare", "to", "(", "object", ")", "<REPLACE_NEW>", "extensions", "comparator", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "sorted", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "extension", "<KEEP>", "entity", "<KEEP>", "base", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "extensions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "extensions", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "tree", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "extension", "<KEEP>", "entity", "<KEEP>", "base", "<KEEP>", ">", "<KEEP>", "(", "<INSERT>", "new", "<INSERT>", "extensions", "<INSERT>", "comparator", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "extensions", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "extensions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8836222806242292, "using": 1, "keep": 1}
{"id": "eclipse_jnosql-diana-driver-3-5693", "old_comment": "the infinispan key value entity manager factory instance", "old_comment_tokens": ["the", "infinispan", "key", "value", "entity", "manager", "factory", "instance"], "new_comment": "the infinispan bucket manager factory instance", "new_comment_tokens": ["the", "infinispan", "bucket", "manager", "factory", "instance"], "old_code": "public infinispan key value entity manager factory get ( org . infinispan . configuration . cache . configuration config ) throws null pointer exception { require non null ( config , str ) ; return new infinispan key value entity manager factory ( new default cache manager ( config ) ) ; }", "old_code_tokens": ["public", "infinispan", "key", "value", "entity", "manager", "factory", "get", "(", "org", ".", "infinispan", ".", "configuration", ".", "cache", ".", "configuration", "config", ")", "throws", "null", "pointer", "exception", "{", "require", "non", "null", "(", "config", ",", "str", ")", ";", "return", "new", "infinispan", "key", "value", "entity", "manager", "factory", "(", "new", "default", "cache", "manager", "(", "config", ")", ")", ";", "}"], "new_code": "public infinispan bucket manager factory get ( org . infinispan . configuration . cache . configuration config ) throws null pointer exception { require non null ( config , str ) ; return new infinispan bucket manager factory ( new default cache manager ( config ) ) ; }", "new_code_tokens": ["public", "infinispan", "bucket", "manager", "factory", "get", "(", "org", ".", "infinispan", ".", "configuration", ".", "cache", ".", "configuration", "config", ")", "throws", "null", "pointer", "exception", "{", "require", "non", "null", "(", "config", ",", "str", ")", ";", "return", "new", "infinispan", "bucket", "manager", "factory", "(", "new", "default", "cache", "manager", "(", "config", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public infinispan <KEEP_END> <REPLACE_OLD> key value entity <REPLACE_NEW> bucket <REPLACE_END> <KEEP> manager factory get ( org . infinispan . configuration . cache . configuration config ) throws null pointer exception { require non null ( config , str ) ; return new infinispan <KEEP_END> <REPLACE_OLD> key value entity <REPLACE_NEW> bucket <REPLACE_END> <KEEP> manager factory ( new default cache manager ( config ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "infinispan", "<KEEP_END>", "<REPLACE_OLD>", "key", "value", "entity", "<REPLACE_NEW>", "bucket", "<REPLACE_END>", "<KEEP>", "manager", "factory", "get", "(", "org", ".", "infinispan", ".", "configuration", ".", "cache", ".", "configuration", "config", ")", "throws", "null", "pointer", "exception", "{", "require", "non", "null", "(", "config", ",", "str", ")", ";", "return", "new", "infinispan", "<KEEP_END>", "<REPLACE_OLD>", "key", "value", "entity", "<REPLACE_NEW>", "bucket", "<REPLACE_END>", "<KEEP>", "manager", "factory", "(", "new", "default", "cache", "manager", "(", "config", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> key value entity <REPLACE_NEW> bucket <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "key", "value", "entity", "<REPLACE_NEW>", "bucket", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "infinispan", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "entity", "<REPLACE_NEW>", "bucket", "<KEEP>", "manager", "<KEEP>", "factory", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "org", "<KEEP>", ".", "<KEEP>", "infinispan", "<KEEP>", ".", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "cache", "<KEEP>", ".", "<KEEP>", "configuration", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "require", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "infinispan", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "entity", "<REPLACE_NEW>", "bucket", "<KEEP>", "manager", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "cache", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9788754468967926, "using": 2, "keep": 1}
{"id": "icblenke_xmlvm.svn-4-4075", "old_comment": "a valid instance or null if sanity checks failed .", "old_comment_tokens": ["a", "valid", "instance", "or", "null", "if", "sanity", "checks", "failed", "."], "new_comment": "a valid instance or null if resource could not be found or sanity checks failed .", "new_comment_tokens": ["a", "valid", "instance", "or", "null", "if", "resource", "could", "not", "be", "found", "or", "sanity", "checks", "failed", "."], "old_code": "private static universal file create ( string one jar resource , string file system location , boolean is directory ) { universal file result = new universal file ( ) ; result . one jar resource = one jar resource ; result . file system location = file system location ; result . is directory = false ; if ( ! result . load and perform sanity checks ( ) ) { log . error ( tag , str ) ; return null ; } return result ; }", "old_code_tokens": ["private", "static", "universal", "file", "create", "(", "string", "one", "jar", "resource", ",", "string", "file", "system", "location", ",", "boolean", "is", "directory", ")", "{", "universal", "file", "result", "=", "new", "universal", "file", "(", ")", ";", "result", ".", "one", "jar", "resource", "=", "one", "jar", "resource", ";", "result", ".", "file", "system", "location", "=", "file", "system", "location", ";", "result", ".", "is", "directory", "=", "false", ";", "if", "(", "!", "result", ".", "load", "and", "perform", "sanity", "checks", "(", ")", ")", "{", "log", ".", "error", "(", "tag", ",", "str", ")", ";", "return", "null", ";", "}", "return", "result", ";", "}"], "new_code": "private static universal file create ( string one jar resource , string file system location , boolean is directory ) { boolean is one jar mode = false ; boolean resource found = false ; input stream stream = universal file creator . class . get resource as stream ( one jar resource ) ; file file = new file ( file system location ) ; if ( stream ! = null ) { is one jar mode = true ; resource found = true ; } if ( file . exists ( ) ) { is one jar mode = false ; resource found = true ; } if ( ! resource found ) { log . error ( tag , str + str + one jar resource + str + file system location + str ) ; return null ; } if ( is one jar mode & & is directory ) { if ( ! one jar resource . to lower case ( ) . ends with ( str ) ) { log . error ( tag , str + one jar resource ) ; return null ; } } if ( ! is one jar mode ) { if ( file . is directory ( ) ! = is directory ) { if ( is directory ) { log . error ( tag , str + str + file system location ) ; } else { log . error ( tag , str + str + file system location ) ; } return null ; } } if ( is one jar mode ) { if ( is directory ) { try { return new universal file from jar file ( one jar resource , new jar input stream ( stream ) ) ; } catch ( ioexception e ) { log . error ( tag , str + one jar resource ) ; return null ; } } else { return new universal file from stream resource ( one jar resource , stream ) ; } } else { if ( is directory ) { return new universal file from file system directory ( file ) ; } else { return new universal file from file system file ( file ) ; } } }", "new_code_tokens": ["private", "static", "universal", "file", "create", "(", "string", "one", "jar", "resource", ",", "string", "file", "system", "location", ",", "boolean", "is", "directory", ")", "{", "boolean", "is", "one", "jar", "mode", "=", "false", ";", "boolean", "resource", "found", "=", "false", ";", "input", "stream", "stream", "=", "universal", "file", "creator", ".", "class", ".", "get", "resource", "as", "stream", "(", "one", "jar", "resource", ")", ";", "file", "file", "=", "new", "file", "(", "file", "system", "location", ")", ";", "if", "(", "stream", "!", "=", "null", ")", "{", "is", "one", "jar", "mode", "=", "true", ";", "resource", "found", "=", "true", ";", "}", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "is", "one", "jar", "mode", "=", "false", ";", "resource", "found", "=", "true", ";", "}", "if", "(", "!", "resource", "found", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "str", "+", "one", "jar", "resource", "+", "str", "+", "file", "system", "location", "+", "str", ")", ";", "return", "null", ";", "}", "if", "(", "is", "one", "jar", "mode", "&", "&", "is", "directory", ")", "{", "if", "(", "!", "one", "jar", "resource", ".", "to", "lower", "case", "(", ")", ".", "ends", "with", "(", "str", ")", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "one", "jar", "resource", ")", ";", "return", "null", ";", "}", "}", "if", "(", "!", "is", "one", "jar", "mode", ")", "{", "if", "(", "file", ".", "is", "directory", "(", ")", "!", "=", "is", "directory", ")", "{", "if", "(", "is", "directory", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "str", "+", "file", "system", "location", ")", ";", "}", "else", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "str", "+", "file", "system", "location", ")", ";", "}", "return", "null", ";", "}", "}", "if", "(", "is", "one", "jar", "mode", ")", "{", "if", "(", "is", "directory", ")", "{", "try", "{", "return", "new", "universal", "file", "from", "jar", "file", "(", "one", "jar", "resource", ",", "new", "jar", "input", "stream", "(", "stream", ")", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "one", "jar", "resource", ")", ";", "return", "null", ";", "}", "}", "else", "{", "return", "new", "universal", "file", "from", "stream", "resource", "(", "one", "jar", "resource", ",", "stream", ")", ";", "}", "}", "else", "{", "if", "(", "is", "directory", ")", "{", "return", "new", "universal", "file", "from", "file", "system", "directory", "(", "file", ")", ";", "}", "else", "{", "return", "new", "universal", "file", "from", "file", "system", "file", "(", "file", ")", ";", "}", "}", "}"], "span_diff_code": "<KEEP> private static universal file create ( string one jar resource , string file system location , boolean is directory ) { <KEEP_END> <REPLACE_OLD> universal file result = new universal file ( ) ; result . one jar resource = one jar resource ; result . file system location = file system location ; result . is directory <REPLACE_NEW> boolean is one jar mode <REPLACE_END> <KEEP> = false ; <KEEP_END> <REPLACE_OLD> if ( ! result . load and perform sanity checks ( ) ) { log . error ( tag , str ) ; return null ; } return result ; } <REPLACE_NEW> boolean resource found = false ; input stream stream = universal file creator . class . get resource as stream ( one jar resource ) ; file file = new file ( file system location ) ; if ( stream ! = null ) { is one jar mode = true ; resource found = true ; } if ( file . exists ( ) ) { is one jar mode = false ; resource found = true ; } if ( ! resource found ) { log . error ( tag , str + str + one jar resource + str + file system location + str ) ; return null ; } if ( is one jar mode & & is directory ) { if ( ! one jar resource . to lower case ( ) . ends with ( str ) ) { log . error ( tag , str + one jar resource ) ; return null ; } } if ( ! is one jar mode ) { if ( file . is directory ( ) ! = is directory ) { if ( is directory ) { log . error ( tag , str + str + file system location ) ; } else { log . error ( tag , str + str + file system location ) ; } return null ; } } if ( is one jar mode ) { if ( is directory ) { try { return new universal file from jar file ( one jar resource , new jar input stream ( stream ) ) ; } catch ( ioexception e ) { log . error ( tag , str + one jar resource ) ; return null ; } } else { return new universal file from stream resource ( one jar resource , stream ) ; } } else { if ( is directory ) { return new universal file from file system directory ( file ) ; } else { return new universal file from file system file ( file ) ; } } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "universal", "file", "create", "(", "string", "one", "jar", "resource", ",", "string", "file", "system", "location", ",", "boolean", "is", "directory", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "universal", "file", "result", "=", "new", "universal", "file", "(", ")", ";", "result", ".", "one", "jar", "resource", "=", "one", "jar", "resource", ";", "result", ".", "file", "system", "location", "=", "file", "system", "location", ";", "result", ".", "is", "directory", "<REPLACE_NEW>", "boolean", "is", "one", "jar", "mode", "<REPLACE_END>", "<KEEP>", "=", "false", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "!", "result", ".", "load", "and", "perform", "sanity", "checks", "(", ")", ")", "{", "log", ".", "error", "(", "tag", ",", "str", ")", ";", "return", "null", ";", "}", "return", "result", ";", "}", "<REPLACE_NEW>", "boolean", "resource", "found", "=", "false", ";", "input", "stream", "stream", "=", "universal", "file", "creator", ".", "class", ".", "get", "resource", "as", "stream", "(", "one", "jar", "resource", ")", ";", "file", "file", "=", "new", "file", "(", "file", "system", "location", ")", ";", "if", "(", "stream", "!", "=", "null", ")", "{", "is", "one", "jar", "mode", "=", "true", ";", "resource", "found", "=", "true", ";", "}", "if", "(", "file", ".", "exists", "(", ")", ")", "{", "is", "one", "jar", "mode", "=", "false", ";", "resource", "found", "=", "true", ";", "}", "if", "(", "!", "resource", "found", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "str", "+", "one", "jar", "resource", "+", "str", "+", "file", "system", "location", "+", "str", ")", ";", "return", "null", ";", "}", "if", "(", "is", "one", "jar", "mode", "&", "&", "is", "directory", ")", "{", "if", "(", "!", "one", "jar", "resource", ".", "to", "lower", "case", "(", ")", ".", "ends", "with", "(", "str", ")", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "one", "jar", "resource", ")", ";", "return", "null", ";", "}", "}", "if", "(", "!", "is", "one", "jar", "mode", ")", "{", "if", "(", "file", ".", "is", "directory", "(", ")", "!", "=", "is", "directory", ")", "{", "if", "(", "is", "directory", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "str", "+", "file", "system", "location", ")", ";", "}", "else", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "str", "+", "file", "system", "location", ")", ";", "}", "return", "null", ";", "}", "}", "if", "(", "is", "one", "jar", "mode", ")", "{", "if", "(", "is", "directory", ")", "{", "try", "{", "return", "new", "universal", "file", "from", "jar", "file", "(", "one", "jar", "resource", ",", "new", "jar", "input", "stream", "(", "stream", ")", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "log", ".", "error", "(", "tag", ",", "str", "+", "one", "jar", "resource", ")", ";", "return", "null", ";", "}", "}", "else", "{", "return", "new", "universal", "file", "from", "stream", "resource", "(", "one", "jar", "resource", ",", "stream", ")", ";", "}", "}", "else", "{", "if", "(", "is", "directory", ")", "{", "return", "new", "universal", "file", "from", "file", "system", "directory", "(", "file", ")", ";", "}", "else", "{", "return", "new", "universal", "file", "from", "file", "system", "file", "(", "file", ")", ";", "}", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> if <INSERT_NEW_KEEP_BEFORE> if resource could not be found or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "if", "<INSERT_NEW_KEEP_BEFORE>", "if", "resource", "could", "not", "be", "found", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<KEEP>", "universal", "<KEEP>", "file", "<KEEP>", "create", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "one", "<KEEP>", "jar", "<KEEP>", "resource", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "system", "<KEEP>", "location", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "directory", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "universal", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "universal", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "one", "<REPLACE_OLD>", "jar", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "one", "<REPLACE_OLD>", "jar", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", "location", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", "location", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "directory", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "mode", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "load", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "perform", "<REPLACE_OLD>", "sanity", "<REPLACE_OLD>", "checks", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "tag", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "universal", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "creator", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "as", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", "location", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "exists", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tag", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", "location", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "lower", "<REPLACE_NEW>", "case", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ends", "<REPLACE_NEW>", "with", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tag", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tag", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", "location", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tag", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", "location", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "universal", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ioexception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tag", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "universal", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "jar", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "universal", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "universal", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8334971929253507, "using": 2, "keep": 1}
{"id": "yu199195_hmily-4-2615", "old_comment": "plain tcc compensation vo", "old_comment_tokens": ["plain", "tcc", "compensation", "vo"], "new_comment": "plain hmily compensation vo", "new_comment_tokens": ["plain", "hmily", "compensation", "vo"], "old_code": "public static tcc compensation vo build vo ( final coordinator repository adapter adapter ) { tcc compensation vo vo = new tcc compensation vo ( ) ; vo . set trans id ( adapter . get trans id ( ) ) ; vo . set create time ( date utils . parse date ( adapter . get create time ( ) ) ) ; vo . set retried count ( adapter . get retried count ( ) ) ; vo . set last time ( date utils . parse date ( adapter . get last time ( ) ) ) ; vo . set version ( adapter . get version ( ) ) ; vo . set target class ( adapter . get target class ( ) ) ; vo . set target method ( adapter . get target method ( ) ) ; vo . set confirm method ( adapter . get confirm method ( ) ) ; vo . set cancel method ( adapter . get cancel method ( ) ) ; return vo ; }", "old_code_tokens": ["public", "static", "tcc", "compensation", "vo", "build", "vo", "(", "final", "coordinator", "repository", "adapter", "adapter", ")", "{", "tcc", "compensation", "vo", "vo", "=", "new", "tcc", "compensation", "vo", "(", ")", ";", "vo", ".", "set", "trans", "id", "(", "adapter", ".", "get", "trans", "id", "(", ")", ")", ";", "vo", ".", "set", "create", "time", "(", "date", "utils", ".", "parse", "date", "(", "adapter", ".", "get", "create", "time", "(", ")", ")", ")", ";", "vo", ".", "set", "retried", "count", "(", "adapter", ".", "get", "retried", "count", "(", ")", ")", ";", "vo", ".", "set", "last", "time", "(", "date", "utils", ".", "parse", "date", "(", "adapter", ".", "get", "last", "time", "(", ")", ")", ")", ";", "vo", ".", "set", "version", "(", "adapter", ".", "get", "version", "(", ")", ")", ";", "vo", ".", "set", "target", "class", "(", "adapter", ".", "get", "target", "class", "(", ")", ")", ";", "vo", ".", "set", "target", "method", "(", "adapter", ".", "get", "target", "method", "(", ")", ")", ";", "vo", ".", "set", "confirm", "method", "(", "adapter", ".", "get", "confirm", "method", "(", ")", ")", ";", "vo", ".", "set", "cancel", "method", "(", "adapter", ".", "get", "cancel", "method", "(", ")", ")", ";", "return", "vo", ";", "}"], "new_code": "public static hmily compensation vo build vo ( final coordinator repository adapter adapter ) { hmily compensation vo vo = new hmily compensation vo ( ) ; vo . set trans id ( adapter . get trans id ( ) ) ; vo . set create time ( date utils . parse date ( adapter . get create time ( ) ) ) ; vo . set retried count ( adapter . get retried count ( ) ) ; vo . set last time ( date utils . parse date ( adapter . get last time ( ) ) ) ; vo . set version ( adapter . get version ( ) ) ; vo . set target class ( adapter . get target class ( ) ) ; vo . set target method ( adapter . get target method ( ) ) ; vo . set confirm method ( adapter . get confirm method ( ) ) ; vo . set cancel method ( adapter . get cancel method ( ) ) ; return vo ; }", "new_code_tokens": ["public", "static", "hmily", "compensation", "vo", "build", "vo", "(", "final", "coordinator", "repository", "adapter", "adapter", ")", "{", "hmily", "compensation", "vo", "vo", "=", "new", "hmily", "compensation", "vo", "(", ")", ";", "vo", ".", "set", "trans", "id", "(", "adapter", ".", "get", "trans", "id", "(", ")", ")", ";", "vo", ".", "set", "create", "time", "(", "date", "utils", ".", "parse", "date", "(", "adapter", ".", "get", "create", "time", "(", ")", ")", ")", ";", "vo", ".", "set", "retried", "count", "(", "adapter", ".", "get", "retried", "count", "(", ")", ")", ";", "vo", ".", "set", "last", "time", "(", "date", "utils", ".", "parse", "date", "(", "adapter", ".", "get", "last", "time", "(", ")", ")", ")", ";", "vo", ".", "set", "version", "(", "adapter", ".", "get", "version", "(", ")", ")", ";", "vo", ".", "set", "target", "class", "(", "adapter", ".", "get", "target", "class", "(", ")", ")", ";", "vo", ".", "set", "target", "method", "(", "adapter", ".", "get", "target", "method", "(", ")", ")", ";", "vo", ".", "set", "confirm", "method", "(", "adapter", ".", "get", "confirm", "method", "(", ")", ")", ";", "vo", ".", "set", "cancel", "method", "(", "adapter", ".", "get", "cancel", "method", "(", ")", ")", ";", "return", "vo", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END> <KEEP> compensation vo build vo ( final coordinator repository adapter adapter ) { <KEEP_END> <REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END> <KEEP> compensation vo vo = new <KEEP_END> <REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END> <KEEP> compensation vo ( ) ; vo . set trans id ( adapter . get trans id ( ) ) ; vo . set create time ( date utils . parse date ( adapter . get create time ( ) ) ) ; vo . set retried count ( adapter . get retried count ( ) ) ; vo . set last time ( date utils . parse date ( adapter . get last time ( ) ) ) ; vo . set version ( adapter . get version ( ) ) ; vo . set target class ( adapter . get target class ( ) ) ; vo . set target method ( adapter . get target method ( ) ) ; vo . set confirm method ( adapter . get confirm method ( ) ) ; vo . set cancel method ( adapter . get cancel method ( ) ) ; return vo ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>", "<KEEP>", "compensation", "vo", "build", "vo", "(", "final", "coordinator", "repository", "adapter", "adapter", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>", "<KEEP>", "compensation", "vo", "vo", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>", "<KEEP>", "compensation", "vo", "(", ")", ";", "vo", ".", "set", "trans", "id", "(", "adapter", ".", "get", "trans", "id", "(", ")", ")", ";", "vo", ".", "set", "create", "time", "(", "date", "utils", ".", "parse", "date", "(", "adapter", ".", "get", "create", "time", "(", ")", ")", ")", ";", "vo", ".", "set", "retried", "count", "(", "adapter", ".", "get", "retried", "count", "(", ")", ")", ";", "vo", ".", "set", "last", "time", "(", "date", "utils", ".", "parse", "date", "(", "adapter", ".", "get", "last", "time", "(", ")", ")", ")", ";", "vo", ".", "set", "version", "(", "adapter", ".", "get", "version", "(", ")", ")", ";", "vo", ".", "set", "target", "class", "(", "adapter", ".", "get", "target", "class", "(", ")", ")", ";", "vo", ".", "set", "target", "method", "(", "adapter", ".", "get", "target", "method", "(", ")", ")", ";", "vo", ".", "set", "confirm", "method", "(", "adapter", ".", "get", "confirm", "method", "(", ")", ")", ";", "vo", ".", "set", "cancel", "method", "(", "adapter", ".", "get", "cancel", "method", "(", ")", ")", ";", "return", "vo", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<KEEP>", "compensation", "<KEEP>", "vo", "<KEEP>", "build", "<KEEP>", "vo", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "coordinator", "<KEEP>", "repository", "<KEEP>", "adapter", "<KEEP>", "adapter", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<KEEP>", "compensation", "<KEEP>", "vo", "<KEEP>", "vo", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<KEEP>", "compensation", "<KEEP>", "vo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "trans", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "trans", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "create", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", "date", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "create", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "retried", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "retried", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "last", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", "date", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "last", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "target", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "target", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "confirm", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "confirm", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "cancel", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cancel", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "vo", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9913528328902488, "using": 2, "keep": 1}
{"id": "truemped_heritrix3-9-6345", "old_comment": "a default processor uri", "old_comment_tokens": ["a", "default", "processor", "uri"], "new_comment": "a crawl uri", "new_comment_tokens": ["a", "crawl", "uri"], "old_code": "protected default processor uri default uri ( ) throws exception { uuri uuri = uurifactory . get instance ( str ) ; return new default processor uri ( uuri , link context . navlink _ misc ) ; }", "old_code_tokens": ["protected", "default", "processor", "uri", "default", "uri", "(", ")", "throws", "exception", "{", "uuri", "uuri", "=", "uurifactory", ".", "get", "instance", "(", "str", ")", ";", "return", "new", "default", "processor", "uri", "(", "uuri", ",", "link", "context", ".", "navlink", "_", "misc", ")", ";", "}"], "new_code": "protected crawl uri default uri ( ) throws exception { uuri uuri = uurifactory . get instance ( str ) ; return new crawl uri ( uuri , null , null , link context . navlink _ misc ) ; }", "new_code_tokens": ["protected", "crawl", "uri", "default", "uri", "(", ")", "throws", "exception", "{", "uuri", "uuri", "=", "uurifactory", ".", "get", "instance", "(", "str", ")", ";", "return", "new", "crawl", "uri", "(", "uuri", ",", "null", ",", "null", ",", "link", "context", ".", "navlink", "_", "misc", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> default processor <REPLACE_NEW> crawl <REPLACE_END> <KEEP> uri default uri ( ) throws exception { uuri uuri = uurifactory . get instance ( str ) ; return new <KEEP_END> <REPLACE_OLD> default processor <REPLACE_NEW> crawl <REPLACE_END> <KEEP> uri ( uuri <KEEP_END> <INSERT> , null , null <INSERT_END> <KEEP> , link context . navlink _ misc ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "default", "processor", "<REPLACE_NEW>", "crawl", "<REPLACE_END>", "<KEEP>", "uri", "default", "uri", "(", ")", "throws", "exception", "{", "uuri", "uuri", "=", "uurifactory", ".", "get", "instance", "(", "str", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "default", "processor", "<REPLACE_NEW>", "crawl", "<REPLACE_END>", "<KEEP>", "uri", "(", "uuri", "<KEEP_END>", "<INSERT>", ",", "null", ",", "null", "<INSERT_END>", "<KEEP>", ",", "link", "context", ".", "navlink", "_", "misc", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> default processor <REPLACE_NEW> crawl <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "default", "processor", "<REPLACE_NEW>", "crawl", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "processor", "<REPLACE_NEW>", "crawl", "<KEEP>", "uri", "<KEEP>", "default", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "uuri", "<KEEP>", "uuri", "<KEEP>", "=", "<KEEP>", "uurifactory", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "processor", "<REPLACE_NEW>", "crawl", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "uuri", "<INSERT>", ",", "<INSERT>", "null", "<INSERT>", ",", "<INSERT>", "null", "<KEEP>", ",", "<KEEP>", "link", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "navlink", "<KEEP>", "_", "<KEEP>", "misc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9821172878081544, "using": 2, "keep": 1}
{"id": "softctrl_SCAndMoneyManagerEX-48-4887", "old_comment": "the m shown header", "old_comment_tokens": ["the", "m", "shown", "header"], "new_comment": "the m show header", "new_comment_tokens": ["the", "m", "show", "header"], "old_code": "public boolean is shown header ( ) { return m shown header ; }", "old_code_tokens": ["public", "boolean", "is", "shown", "header", "(", ")", "{", "return", "m", "shown", "header", ";", "}"], "new_code": "public boolean is shown header ( ) { return m show header ; }", "new_code_tokens": ["public", "boolean", "is", "shown", "header", "(", ")", "{", "return", "m", "show", "header", ";", "}"], "span_diff_code": "<KEEP> public boolean is shown header ( ) { return m <KEEP_END> <REPLACE_OLD> shown <REPLACE_NEW> show <REPLACE_END> <KEEP> header ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "shown", "header", "(", ")", "{", "return", "m", "<KEEP_END>", "<REPLACE_OLD>", "shown", "<REPLACE_NEW>", "show", "<REPLACE_END>", "<KEEP>", "header", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> shown <REPLACE_NEW> show <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "shown", "<REPLACE_NEW>", "show", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "shown", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<REPLACE_OLD>", "shown", "<REPLACE_NEW>", "show", "<KEEP>", "header", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.995077900333427, "using": 2, "keep": 1}
{"id": "bytedeco_javacpp-6-3392", "old_comment": "load ( get caller class ( 2 ) )", "old_comment_tokens": ["load", "(", "get", "caller", "class", "(", "2", ")", ")"], "new_comment": "load ( get caller class ( 2 ) , load properties ( ) , paths first )", "new_comment_tokens": ["load", "(", "get", "caller", "class", "(", "2", ")", ",", "load", "properties", "(", ")", ",", "paths", "first", ")"], "old_code": "public static string load ( ) { class cls = get caller class ( num ) ; return load ( cls ) ; }", "old_code_tokens": ["public", "static", "string", "load", "(", ")", "{", "class", "cls", "=", "get", "caller", "class", "(", "num", ")", ";", "return", "load", "(", "cls", ")", ";", "}"], "new_code": "public static string load ( boolean paths first ) { class cls = get caller class ( num ) ; return load ( cls , load properties ( ) , paths first ) ; }", "new_code_tokens": ["public", "static", "string", "load", "(", "boolean", "paths", "first", ")", "{", "class", "cls", "=", "get", "caller", "class", "(", "num", ")", ";", "return", "load", "(", "cls", ",", "load", "properties", "(", ")", ",", "paths", "first", ")", ";", "}"], "span_diff_code": "<KEEP> public static string load ( <KEEP_END> <INSERT> boolean paths first <INSERT_END> <KEEP> ) { class cls = get caller class ( num ) ; return load ( cls <KEEP_END> <INSERT> , load properties ( ) , paths first <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "load", "(", "<KEEP_END>", "<INSERT>", "boolean", "paths", "first", "<INSERT_END>", "<KEEP>", ")", "{", "class", "cls", "=", "get", "caller", "class", "(", "num", ")", ";", "return", "load", "(", "cls", "<KEEP_END>", "<INSERT>", ",", "load", "properties", "(", ")", ",", "paths", "first", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> load ( get caller class ( 2 ) ) <REPLACE_NEW> load ( get caller class ( 2 ) , load properties ( ) , paths first ) <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "load", "(", "get", "caller", "class", "(", "2", ")", ")", "<REPLACE_NEW>", "load", "(", "get", "caller", "class", "(", "2", ")", ",", "load", "properties", "(", ")", ",", "paths", "first", ")", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "load", "<KEEP>", "(", "<INSERT>", "boolean", "<INSERT>", "paths", "<INSERT>", "first", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "cls", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "caller", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "load", "<KEEP>", "(", "<KEEP>", "cls", "<INSERT>", ",", "<INSERT>", "load", "<INSERT>", "properties", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "paths", "<INSERT>", "first", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8413974712349739, "using": 1, "keep": 1}
{"id": "chubbymaggie_synoptic-5-6571", "old_comment": "the timed task created", "old_comment_tokens": ["the", "timed", "task", "created"], "new_comment": "the created timed task", "new_comment_tokens": ["the", "created", "timed", "task"], "old_code": "public static timed task create task ( string string , boolean accumulativity ) { previous = new timed task ( string , previous , global performance metrics , accumulativity ) ; return previous ; }", "old_code_tokens": ["public", "static", "timed", "task", "create", "task", "(", "string", "string", ",", "boolean", "accumulativity", ")", "{", "previous", "=", "new", "timed", "task", "(", "string", ",", "previous", ",", "global", "performance", "metrics", ",", "accumulativity", ")", ";", "return", "previous", ";", "}"], "new_code": "public static timed task create task ( string task name , boolean accumulativity ) { previous task = new timed task ( task name , previous task , global performance metrics , accumulativity ) ; return previous task ; }", "new_code_tokens": ["public", "static", "timed", "task", "create", "task", "(", "string", "task", "name", ",", "boolean", "accumulativity", ")", "{", "previous", "task", "=", "new", "timed", "task", "(", "task", "name", ",", "previous", "task", ",", "global", "performance", "metrics", ",", "accumulativity", ")", ";", "return", "previous", "task", ";", "}"], "span_diff_code": "<KEEP> public static timed task create task ( string <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> task name <REPLACE_END> <KEEP> , boolean accumulativity ) { previous <KEEP_END> <INSERT> task <INSERT_END> <KEEP> = new timed task ( <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> task name <REPLACE_END> <KEEP> , previous <KEEP_END> <INSERT> task <INSERT_END> <KEEP> , global performance metrics , accumulativity ) ; return previous <KEEP_END> <INSERT> task <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "timed", "task", "create", "task", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "task", "name", "<REPLACE_END>", "<KEEP>", ",", "boolean", "accumulativity", ")", "{", "previous", "<KEEP_END>", "<INSERT>", "task", "<INSERT_END>", "<KEEP>", "=", "new", "timed", "task", "(", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "task", "name", "<REPLACE_END>", "<KEEP>", ",", "previous", "<KEEP_END>", "<INSERT>", "task", "<INSERT_END>", "<KEEP>", ",", "global", "performance", "metrics", ",", "accumulativity", ")", ";", "return", "previous", "<KEEP_END>", "<INSERT>", "task", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the created <INSERT_END> <DELETE> created <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "created", "<INSERT_END>", "<DELETE>", "created", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "timed", "<KEEP>", "task", "<KEEP>", "create", "<KEEP>", "task", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "name", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "accumulativity", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "previous", "<INSERT>", "task", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "timed", "<KEEP>", "task", "<KEEP>", "(", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "name", "<KEEP>", ",", "<KEEP>", "previous", "<INSERT>", "task", "<KEEP>", ",", "<KEEP>", "global", "<KEEP>", "performance", "<KEEP>", "metrics", "<KEEP>", ",", "<KEEP>", "accumulativity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "previous", "<INSERT>", "task", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8845712579059704, "using": 0, "keep": 1}
{"id": "apache_ftpserver-29-4510", "old_comment": "the inet address used for passive data connections", "old_comment_tokens": ["the", "inet", "address", "used", "for", "passive", "data", "connections"], "new_comment": "the address used for passive data connections", "new_comment_tokens": ["the", "address", "used", "for", "passive", "data", "connections"], "old_code": "public inet address get passive address ( ) { return passive address ; }", "old_code_tokens": ["public", "inet", "address", "get", "passive", "address", "(", ")", "{", "return", "passive", "address", ";", "}"], "new_code": "public string get passive address ( ) { return passive address ; }", "new_code_tokens": ["public", "string", "get", "passive", "address", "(", ")", "{", "return", "passive", "address", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> inet address <REPLACE_NEW> string <REPLACE_END> <KEEP> get passive address ( ) { return passive address ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "inet", "address", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "passive", "address", "(", ")", "{", "return", "passive", "address", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> inet <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "inet", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "inet", "<REPLACE_OLD>", "address", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "passive", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "passive", "<KEEP>", "address", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9880275890207068, "using": 2, "keep": 1}
{"id": "davetron5000_restunit-5-5234", "old_comment": "an ordered list of rest call objects", "old_comment_tokens": ["an", "ordered", "list", "of", "rest", "call", "objects"], "new_comment": "an ordered list of rest call objects . this is not a modifibale list .", "new_comment_tokens": ["an", "ordered", "list", "of", "rest", "call", "objects", ".", "this", "is", "not", "a", "modifibale", "list", "."], "old_code": "public list < rest call > get calls ( ) { return its calls ; }", "old_code_tokens": ["public", "list", "<", "rest", "call", ">", "get", "calls", "(", ")", "{", "return", "its", "calls", ";", "}"], "new_code": "public list < rest call > get calls ( ) { return collections . unmodifiable list ( its calls ) ; }", "new_code_tokens": ["public", "list", "<", "rest", "call", ">", "get", "calls", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "its", "calls", ")", ";", "}"], "span_diff_code": "<KEEP> public list < rest call > get calls ( ) { return <KEEP_END> <INSERT> collections . unmodifiable list ( <INSERT_END> <KEEP> its calls <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "rest", "call", ">", "get", "calls", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "list", "(", "<INSERT_END>", "<KEEP>", "its", "calls", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> objects <INSERT_NEW_KEEP_BEFORE> objects . this is not a modifibale list . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "objects", "<INSERT_NEW_KEEP_BEFORE>", "objects", ".", "this", "is", "not", "a", "modifibale", "list", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "rest", "<KEEP>", "call", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "calls", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "list", "<INSERT>", "(", "<KEEP>", "its", "<KEEP>", "calls", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8837550341055931, "using": 1, "keep": 1}
{"id": "voldemort_voldemort-135-3703", "old_comment": "the byte array representing the key", "old_comment_tokens": ["the", "byte", "array", "representing", "the", "key"], "new_comment": "the list representing the key ( or keys )", "new_comment_tokens": ["the", "list", "representing", "the", "key", "(", "or", "keys", ")"], "old_code": "private byte array read key ( string request uri ) { byte array key = null ; string [ ] parts = request uri . split ( str ) ; if ( parts . length > num ) { string base64 key = parts [ num ] ; key = new byte array ( base64 . decode base64 ( base64 key . get bytes ( ) ) ) ; } return key ; }", "old_code_tokens": ["private", "byte", "array", "read", "key", "(", "string", "request", "uri", ")", "{", "byte", "array", "key", "=", "null", ";", "string", "[", "]", "parts", "=", "request", "uri", ".", "split", "(", "str", ")", ";", "if", "(", "parts", ".", "length", ">", "num", ")", "{", "string", "base64", "key", "=", "parts", "[", "num", "]", ";", "key", "=", "new", "byte", "array", "(", "base64", ".", "decode", "base64", "(", "base64", "key", ".", "get", "bytes", "(", ")", ")", ")", ";", "}", "return", "key", ";", "}"], "new_code": "private list < byte array > read key ( string request uri ) { list < byte array > key list = null ; string [ ] parts = request uri . split ( str ) ; if ( parts . length > num ) { string base64 key list = parts [ num ] ; key list = new array list < byte array > ( ) ; if ( ! base64 key list . contains ( str ) ) { string raw key = base64 key list . trim ( ) ; key list . add ( new byte array ( base64 . decode base64 ( raw key . get bytes ( ) ) ) ) ; } else { string [ ] base64 key array = base64 key list . split ( str ) ; for ( string base64 key : base64 key array ) { string raw key = base64 key . trim ( ) ; key list . add ( new byte array ( base64 . decode base64 ( raw key . get bytes ( ) ) ) ) ; } } } return key list ; }", "new_code_tokens": ["private", "list", "<", "byte", "array", ">", "read", "key", "(", "string", "request", "uri", ")", "{", "list", "<", "byte", "array", ">", "key", "list", "=", "null", ";", "string", "[", "]", "parts", "=", "request", "uri", ".", "split", "(", "str", ")", ";", "if", "(", "parts", ".", "length", ">", "num", ")", "{", "string", "base64", "key", "list", "=", "parts", "[", "num", "]", ";", "key", "list", "=", "new", "array", "list", "<", "byte", "array", ">", "(", ")", ";", "if", "(", "!", "base64", "key", "list", ".", "contains", "(", "str", ")", ")", "{", "string", "raw", "key", "=", "base64", "key", "list", ".", "trim", "(", ")", ";", "key", "list", ".", "add", "(", "new", "byte", "array", "(", "base64", ".", "decode", "base64", "(", "raw", "key", ".", "get", "bytes", "(", ")", ")", ")", ")", ";", "}", "else", "{", "string", "[", "]", "base64", "key", "array", "=", "base64", "key", "list", ".", "split", "(", "str", ")", ";", "for", "(", "string", "base64", "key", ":", "base64", "key", "array", ")", "{", "string", "raw", "key", "=", "base64", "key", ".", "trim", "(", ")", ";", "key", "list", ".", "add", "(", "new", "byte", "array", "(", "base64", ".", "decode", "base64", "(", "raw", "key", ".", "get", "bytes", "(", ")", ")", ")", ")", ";", "}", "}", "}", "return", "key", "list", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <INSERT> list < <INSERT_END> <KEEP> byte array <KEEP_END> <INSERT> > <INSERT_END> <KEEP> read key ( string request uri ) { <KEEP_END> <INSERT> list < <INSERT_END> <KEEP> byte array <KEEP_END> <INSERT> > <INSERT_END> <KEEP> key <KEEP_END> <INSERT> list <INSERT_END> <KEEP> = null ; string [ ] parts = request uri . split ( str ) ; if ( parts . length > num ) { string base64 key <KEEP_END> <INSERT> list <INSERT_END> <KEEP> = parts [ num ] ; key <KEEP_END> <INSERT> list <INSERT_END> <KEEP> = <KEEP_END> <INSERT> new array list < byte array > ( ) ; if ( ! base64 key list . contains ( str ) ) { string raw key = base64 key list . trim ( ) ; key list . add ( <INSERT_END> <KEEP> new byte array ( base64 . decode base64 ( <KEEP_END> <REPLACE_OLD> base64 <REPLACE_NEW> raw <REPLACE_END> <KEEP> key . get bytes ( ) ) ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; <KEEP_END> <INSERT> } else { string [ ] base64 key array = base64 key list . split ( str ) ; for ( string base64 key : base64 key array ) { string raw key = base64 key . trim ( ) ; key list . add ( new byte array ( base64 . decode base64 ( raw key . get bytes ( ) ) ) ) ; } } <INSERT_END> <KEEP> } return key <KEEP_END> <INSERT> list <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<INSERT>", "list", "<", "<INSERT_END>", "<KEEP>", "byte", "array", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "read", "key", "(", "string", "request", "uri", ")", "{", "<KEEP_END>", "<INSERT>", "list", "<", "<INSERT_END>", "<KEEP>", "byte", "array", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "key", "<KEEP_END>", "<INSERT>", "list", "<INSERT_END>", "<KEEP>", "=", "null", ";", "string", "[", "]", "parts", "=", "request", "uri", ".", "split", "(", "str", ")", ";", "if", "(", "parts", ".", "length", ">", "num", ")", "{", "string", "base64", "key", "<KEEP_END>", "<INSERT>", "list", "<INSERT_END>", "<KEEP>", "=", "parts", "[", "num", "]", ";", "key", "<KEEP_END>", "<INSERT>", "list", "<INSERT_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "new", "array", "list", "<", "byte", "array", ">", "(", ")", ";", "if", "(", "!", "base64", "key", "list", ".", "contains", "(", "str", ")", ")", "{", "string", "raw", "key", "=", "base64", "key", "list", ".", "trim", "(", ")", ";", "key", "list", ".", "add", "(", "<INSERT_END>", "<KEEP>", "new", "byte", "array", "(", "base64", ".", "decode", "base64", "(", "<KEEP_END>", "<REPLACE_OLD>", "base64", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", "key", ".", "get", "bytes", "(", ")", ")", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "else", "{", "string", "[", "]", "base64", "key", "array", "=", "base64", "key", "list", ".", "split", "(", "str", ")", ";", "for", "(", "string", "base64", "key", ":", "base64", "key", "array", ")", "{", "string", "raw", "key", "=", "base64", "key", ".", "trim", "(", ")", ";", "key", "list", ".", "add", "(", "new", "byte", "array", "(", "base64", ".", "decode", "base64", "(", "raw", "key", ".", "get", "bytes", "(", ")", ")", ")", ")", ";", "}", "}", "<INSERT_END>", "<KEEP>", "}", "return", "key", "<KEEP_END>", "<INSERT>", "list", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> byte array <REPLACE_NEW> list <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> key <INSERT_NEW_KEEP_BEFORE> key ( or keys ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "byte", "array", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "key", "<INSERT_NEW_KEEP_BEFORE>", "key", "(", "or", "keys", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "byte", "<KEEP>", "array", "<INSERT>", ">", "<KEEP>", "read", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "request", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "byte", "<KEEP>", "array", "<INSERT>", ">", "<KEEP>", "key", "<INSERT>", "list", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "parts", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parts", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "base64", "<KEEP>", "key", "<INSERT>", "list", "<KEEP>", "=", "<KEEP>", "parts", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "key", "<INSERT>", "list", "<KEEP>", "=", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "byte", "<INSERT>", "array", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "contains", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "raw", "<INSERT>", "key", "<INSERT>", "=", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "trim", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "key", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "base64", "<KEEP>", ".", "<KEEP>", "decode", "<KEEP>", "base64", "<KEEP>", "(", "<REPLACE_OLD>", "base64", "<REPLACE_NEW>", "raw", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", "array", "<INSERT>", "=", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "split", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "string", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", ":", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", "array", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "raw", "<INSERT>", "key", "<INSERT>", "=", "<INSERT>", "base64", "<INSERT>", "key", "<INSERT>", ".", "<INSERT>", "trim", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "key", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "byte", "<INSERT>", "array", "<INSERT>", "(", "<INSERT>", "base64", "<INSERT>", ".", "<INSERT>", "decode", "<INSERT>", "base64", "<INSERT>", "(", "<INSERT>", "raw", "<INSERT>", "key", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "bytes", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "key", "<INSERT>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9111895008603397, "using": 2, "keep": 1}
{"id": "ronmamo_reflections-2-3659", "old_comment": "the set of urls , not null", "old_comment_tokens": ["the", "set", "of", "urls", ",", "not", "null"], "new_comment": "the collection of urls , not null", "new_comment_tokens": ["the", "collection", "of", "urls", ",", "not", "null"], "old_code": "public static set < url > for web inf lib ( final servlet context servlet context ) { final set < url > urls = sets . new linked hash set ( ) ; for ( object url string : servlet context . get resource paths ( str ) ) { try { urls . add ( servlet context . get resource ( ( string ) url string ) ) ; } catch ( malformed urlexception e ) { } } return urls ; }", "old_code_tokens": ["public", "static", "set", "<", "url", ">", "for", "web", "inf", "lib", "(", "final", "servlet", "context", "servlet", "context", ")", "{", "final", "set", "<", "url", ">", "urls", "=", "sets", ".", "new", "linked", "hash", "set", "(", ")", ";", "for", "(", "object", "url", "string", ":", "servlet", "context", ".", "get", "resource", "paths", "(", "str", ")", ")", "{", "try", "{", "urls", ".", "add", "(", "servlet", "context", ".", "get", "resource", "(", "(", "string", ")", "url", "string", ")", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "}", "}", "return", "urls", ";", "}"], "new_code": "public static collection < url > for web inf lib ( final servlet context servlet context ) { final collection < url > urls = new array list < url > ( ) ; for ( object url string : servlet context . get resource paths ( str ) ) { try { urls . add ( servlet context . get resource ( ( string ) url string ) ) ; } catch ( malformed urlexception e ) { } } return distinct urls ( urls ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "url", ">", "for", "web", "inf", "lib", "(", "final", "servlet", "context", "servlet", "context", ")", "{", "final", "collection", "<", "url", ">", "urls", "=", "new", "array", "list", "<", "url", ">", "(", ")", ";", "for", "(", "object", "url", "string", ":", "servlet", "context", ".", "get", "resource", "paths", "(", "str", ")", ")", "{", "try", "{", "urls", ".", "add", "(", "servlet", "context", ".", "get", "resource", "(", "(", "string", ")", "url", "string", ")", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "}", "}", "return", "distinct", "urls", "(", "urls", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > for web inf lib ( final servlet context servlet context ) { final <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > urls = <KEEP_END> <DELETE> sets . <DELETE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> linked hash set <REPLACE_NEW> array list < url > <REPLACE_END> <KEEP> ( ) ; for ( object url string : servlet context . get resource paths ( str ) ) { try { urls . add ( servlet context . get resource ( ( string ) url string ) ) ; } catch ( malformed urlexception e ) { } } return <KEEP_END> <INSERT> distinct <INSERT_END> <KEEP> urls <KEEP_END> <INSERT> ( urls ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "for", "web", "inf", "lib", "(", "final", "servlet", "context", "servlet", "context", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "urls", "=", "<KEEP_END>", "<DELETE>", "sets", ".", "<DELETE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "linked", "hash", "set", "<REPLACE_NEW>", "array", "list", "<", "url", ">", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "object", "url", "string", ":", "servlet", "context", ".", "get", "resource", "paths", "(", "str", ")", ")", "{", "try", "{", "urls", ".", "add", "(", "servlet", "context", ".", "get", "resource", "(", "(", "string", ")", "url", "string", ")", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "}", "}", "return", "<KEEP_END>", "<INSERT>", "distinct", "<INSERT_END>", "<KEEP>", "urls", "<KEEP_END>", "<INSERT>", "(", "urls", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "for", "<KEEP>", "web", "<KEEP>", "inf", "<KEEP>", "lib", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "urls", "<KEEP>", "=", "<DELETE>", "sets", "<DELETE>", ".", "<KEEP>", "new", "<REPLACE_OLD>", "linked", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "url", "<KEEP>", "string", "<KEEP>", ":", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "paths", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "urls", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "url", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "malformed", "<KEEP>", "urlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "distinct", "<KEEP>", "urls", "<INSERT>", "(", "<INSERT>", "urls", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9846866230183097, "using": 2, "keep": 1}
{"id": "mikepenz_Android-Iconics-26-1271", "old_comment": "the current icon drawable for chaining .", "old_comment_tokens": ["the", "current", "icon", "drawable", "for", "chaining", "."], "new_comment": "the current icon ext drawable for chaining .", "new_comment_tokens": ["the", "current", "icon", "ext", "drawable", "for", "chaining", "."], "old_code": "public iconics drawable size res ( int dimen res ) { return size px ( context . get resources ( ) . get dimension pixel size ( dimen res ) ) ; }", "old_code_tokens": ["public", "iconics", "drawable", "size", "res", "(", "int", "dimen", "res", ")", "{", "return", "size", "px", "(", "context", ".", "get", "resources", "(", ")", ".", "get", "dimension", "pixel", "size", "(", "dimen", "res", ")", ")", ";", "}"], "new_code": "public iconics drawable size res ( int dimen res ) { return size px ( m context . get resources ( ) . get dimension pixel size ( dimen res ) ) ; }", "new_code_tokens": ["public", "iconics", "drawable", "size", "res", "(", "int", "dimen", "res", ")", "{", "return", "size", "px", "(", "m", "context", ".", "get", "resources", "(", ")", ".", "get", "dimension", "pixel", "size", "(", "dimen", "res", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public iconics drawable size res ( int dimen res ) { return size px ( <KEEP_END> <INSERT> m <INSERT_END> <KEEP> context . get resources ( ) . get dimension pixel size ( dimen res ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iconics", "drawable", "size", "res", "(", "int", "dimen", "res", ")", "{", "return", "size", "px", "(", "<KEEP_END>", "<INSERT>", "m", "<INSERT_END>", "<KEEP>", "context", ".", "get", "resources", "(", ")", ".", "get", "dimension", "pixel", "size", "(", "dimen", "res", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> icon <INSERT_NEW_KEEP_BEFORE> icon ext <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "icon", "<INSERT_NEW_KEEP_BEFORE>", "icon", "ext", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iconics", "<KEEP>", "drawable", "<KEEP>", "size", "<KEEP>", "res", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "dimen", "<KEEP>", "res", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "size", "<KEEP>", "px", "<KEEP>", "(", "<INSERT>", "m", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resources", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "dimension", "<KEEP>", "pixel", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "dimen", "<KEEP>", "res", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.886319175506391, "using": 0, "keep": 1}
{"id": "smarr_AmbientTalk-interpreter-56-4116", "old_comment": "a reified closure wrapping the java method example : eval \" ( reflect : tbl ) . get method ( ' at ' ) \" where tbl is a nattable = > down method ( a nattable , \" at \" ) = > nattable must have a method named base _ at", "old_comment_tokens": ["a", "reified", "closure", "wrapping", "the", "java", "method", "example", ":", "eval", "\"", "(", "reflect", ":", "tbl", ")", ".", "get", "method", "(", "'", "at", "'", ")", "\"", "where", "tbl", "is", "a", "nattable", "=", ">", "down", "method", "(", "a", "nattable", ",", "\"", "at", "\"", ")", "=", ">", "nattable", "must", "have", "a", "method", "named", "base", "_", "at"], "new_comment": "a reified method wrapping the java method example : eval \" ( reflect : tbl ) . get method ( ' at ' ) \" where tbl is a nattable = > down method ( a nattable , \" base _ at \" ) = > nattable must have a method named base _ at callers should use the more specialised ' down base level method ' and ' down meta level method ' methods to specify the prefix of the method to be found", "new_comment_tokens": ["a", "reified", "method", "wrapping", "the", "java", "method", "example", ":", "eval", "\"", "(", "reflect", ":", "tbl", ")", ".", "get", "method", "(", "'", "at", "'", ")", "\"", "where", "tbl", "is", "a", "nattable", "=", ">", "down", "method", "(", "a", "nattable", ",", "\"", "base", "_", "at", "\"", ")", "=", ">", "nattable", "must", "have", "a", "method", "named", "base", "_", "at", "callers", "should", "use", "the", "more", "specialised", "'", "down", "base", "level", "method", "'", "and", "'", "down", "meta", "level", "method", "'", "methods", "to", "specify", "the", "prefix", "of", "the", "method", "to", "be", "found"], "old_code": "public static final atmethod down method ( atobject j object , string j selector ) throws interpreter exception { return java interface adaptor . get method ( j object . get class ( ) , j object , j selector ) ; }", "old_code_tokens": ["public", "static", "final", "atmethod", "down", "method", "(", "atobject", "j", "object", ",", "string", "j", "selector", ")", "throws", "interpreter", "exception", "{", "return", "java", "interface", "adaptor", ".", "get", "method", "(", "j", "object", ".", "get", "class", "(", ")", ",", "j", "object", ",", "j", "selector", ")", ";", "}"], "new_code": "public static final atmethod down method ( atobject nat object , string j selector , atsymbol orig name ) throws interpreter exception { return new native method ( java interface adaptor . get method ( nat object . get class ( ) , nat object , j selector ) , orig name ) ; }", "new_code_tokens": ["public", "static", "final", "atmethod", "down", "method", "(", "atobject", "nat", "object", ",", "string", "j", "selector", ",", "atsymbol", "orig", "name", ")", "throws", "interpreter", "exception", "{", "return", "new", "native", "method", "(", "java", "interface", "adaptor", ".", "get", "method", "(", "nat", "object", ".", "get", "class", "(", ")", ",", "nat", "object", ",", "j", "selector", ")", ",", "orig", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public static final atmethod down method ( atobject <KEEP_END> <REPLACE_OLD> j <REPLACE_NEW> nat <REPLACE_END> <KEEP> object , string j selector <KEEP_END> <INSERT> , atsymbol orig name <INSERT_END> <KEEP> ) throws interpreter exception { return <KEEP_END> <INSERT> new native method ( <INSERT_END> <KEEP> java interface adaptor . get method ( <KEEP_END> <REPLACE_OLD> j <REPLACE_NEW> nat <REPLACE_END> <KEEP> object . get class ( ) , <KEEP_END> <REPLACE_OLD> j <REPLACE_NEW> nat <REPLACE_END> <KEEP> object , j selector ) <KEEP_END> <INSERT> , orig name ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "atmethod", "down", "method", "(", "atobject", "<KEEP_END>", "<REPLACE_OLD>", "j", "<REPLACE_NEW>", "nat", "<REPLACE_END>", "<KEEP>", "object", ",", "string", "j", "selector", "<KEEP_END>", "<INSERT>", ",", "atsymbol", "orig", "name", "<INSERT_END>", "<KEEP>", ")", "throws", "interpreter", "exception", "{", "return", "<KEEP_END>", "<INSERT>", "new", "native", "method", "(", "<INSERT_END>", "<KEEP>", "java", "interface", "adaptor", ".", "get", "method", "(", "<KEEP_END>", "<REPLACE_OLD>", "j", "<REPLACE_NEW>", "nat", "<REPLACE_END>", "<KEEP>", "object", ".", "get", "class", "(", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "j", "<REPLACE_NEW>", "nat", "<REPLACE_END>", "<KEEP>", "object", ",", "j", "selector", ")", "<KEEP_END>", "<INSERT>", ",", "orig", "name", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> closure <REPLACE_NEW> method <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> , \" <INSERT_NEW_KEEP_BEFORE> , \" base _ <INSERT_END> <INSERT_OLD_KEEP_BEFORE> _ at <INSERT_NEW_KEEP_BEFORE> _ at callers should use the more specialised ' down base level method ' and ' down meta level method ' methods to specify the prefix of the method to be found <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "closure", "<REPLACE_NEW>", "method", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", ",", "\"", "<INSERT_NEW_KEEP_BEFORE>", ",", "\"", "base", "_", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "_", "at", "<INSERT_NEW_KEEP_BEFORE>", "_", "at", "callers", "should", "use", "the", "more", "specialised", "'", "down", "base", "level", "method", "'", "and", "'", "down", "meta", "level", "method", "'", "methods", "to", "specify", "the", "prefix", "of", "the", "method", "to", "be", "found", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<KEEP>", "atmethod", "<KEEP>", "down", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "atobject", "<REPLACE_OLD>", "j", "<REPLACE_NEW>", "nat", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "j", "<KEEP>", "selector", "<INSERT>", ",", "<INSERT>", "atsymbol", "<INSERT>", "orig", "<INSERT>", "name", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "interpreter", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "new", "<INSERT>", "native", "<INSERT>", "method", "<INSERT>", "(", "<KEEP>", "java", "<KEEP>", "interface", "<KEEP>", "adaptor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "(", "<REPLACE_OLD>", "j", "<REPLACE_NEW>", "nat", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "j", "<REPLACE_NEW>", "nat", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "j", "<KEEP>", "selector", "<KEEP>", ")", "<INSERT>", ",", "<INSERT>", "orig", "<INSERT>", "name", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8099044043204813, "using": 0, "keep": 1}
{"id": "keycloak_keycloak-4-1312", "old_comment": "string like \" dc = something , dc = org \" from the dn like \" uid = joe , dc = something , dc = org \"", "old_comment_tokens": ["string", "like", "\"", "dc", "=", "something", ",", "dc", "=", "org", "\"", "from", "the", "dn", "like", "\"", "uid", "=", "joe", ",", "dc", "=", "something", ",", "dc", "=", "org", "\""], "new_comment": "dn like \" dc = something , dc = org \" from the dn like \" uid = joe , dc = something , dc = org \" . returned dn will be new clone not related to the original dn instance .", "new_comment_tokens": ["dn", "like", "\"", "dc", "=", "something", ",", "dc", "=", "org", "\"", "from", "the", "dn", "like", "\"", "uid", "=", "joe", ",", "dc", "=", "something", ",", "dc", "=", "org", "\"", ".", "returned", "dn", "will", "be", "new", "clone", "not", "related", "to", "the", "original", "dn", "instance", "."], "old_code": "public string get parent dn ( ) { linked list < entry > parent dn entries = new linked list < > ( entries ) ; parent dn entries . remove ( ) ; return to string ( parent dn entries ) ; }", "old_code_tokens": ["public", "string", "get", "parent", "dn", "(", ")", "{", "linked", "list", "<", "entry", ">", "parent", "dn", "entries", "=", "new", "linked", "list", "<", ">", "(", "entries", ")", ";", "parent", "dn", "entries", ".", "remove", "(", ")", ";", "return", "to", "string", "(", "parent", "dn", "entries", ")", ";", "}"], "new_code": "public ldapdn get parent dn ( ) { linked list < entry > parent dn entries = new linked list < > ( entries ) ; parent dn entries . remove ( ) ; return new ldapdn ( parent dn entries ) ; }", "new_code_tokens": ["public", "ldapdn", "get", "parent", "dn", "(", ")", "{", "linked", "list", "<", "entry", ">", "parent", "dn", "entries", "=", "new", "linked", "list", "<", ">", "(", "entries", ")", ";", "parent", "dn", "entries", ".", "remove", "(", ")", ";", "return", "new", "ldapdn", "(", "parent", "dn", "entries", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> ldapdn <REPLACE_END> <KEEP> get parent dn ( ) { linked list < entry > parent dn entries = new linked list < > ( entries ) ; parent dn entries . remove ( ) ; return <KEEP_END> <REPLACE_OLD> to string <REPLACE_NEW> new ldapdn <REPLACE_END> <KEEP> ( parent dn entries ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ldapdn", "<REPLACE_END>", "<KEEP>", "get", "parent", "dn", "(", ")", "{", "linked", "list", "<", "entry", ">", "parent", "dn", "entries", "=", "new", "linked", "list", "<", ">", "(", "entries", ")", ";", "parent", "dn", "entries", ".", "remove", "(", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "to", "string", "<REPLACE_NEW>", "new", "ldapdn", "<REPLACE_END>", "<KEEP>", "(", "parent", "dn", "entries", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> string <REPLACE_NEW> dn <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> , dc = something , dc = org \" <INSERT_NEW_KEEP_BEFORE> , dc = something , dc = org \" . returned dn will be new clone not related to the original dn instance . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "string", "<REPLACE_NEW>", "dn", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", ",", "dc", "=", "something", ",", "dc", "=", "org", "\"", "<INSERT_NEW_KEEP_BEFORE>", ",", "dc", "=", "something", ",", "dc", "=", "org", "\"", ".", "returned", "dn", "will", "be", "new", "clone", "not", "related", "to", "the", "original", "dn", "instance", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ldapdn", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "dn", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "entry", "<KEEP>", ">", "<KEEP>", "parent", "<KEEP>", "dn", "<KEEP>", "entries", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "entries", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "parent", "<KEEP>", "dn", "<KEEP>", "entries", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "ldapdn", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", "dn", "<KEEP>", "entries", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8565212471986812, "using": 1, "keep": 1}
{"id": "apache_tez-31-4281", "old_comment": "mrinput configurer", "old_comment_tokens": ["mrinput", "configurer"], "new_comment": "org . apache . tez . mapreduce . input . mrinput . mrinput config builder", "new_comment_tokens": ["org", ".", "apache", ".", "tez", ".", "mapreduce", ".", "input", ".", "mrinput", ".", "mrinput", "config", "builder"], "old_code": "public mrinput configurer generate splits in am ( boolean value ) { generate splits in am = value ; return this ; }", "old_code_tokens": ["public", "mrinput", "configurer", "generate", "splits", "in", "am", "(", "boolean", "value", ")", "{", "generate", "splits", "in", "am", "=", "value", ";", "return", "this", ";", "}"], "new_code": "public mrinput config builder generate splits in am ( boolean value ) { generate splits in am = value ; return this ; }", "new_code_tokens": ["public", "mrinput", "config", "builder", "generate", "splits", "in", "am", "(", "boolean", "value", ")", "{", "generate", "splits", "in", "am", "=", "value", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public mrinput <KEEP_END> <REPLACE_OLD> configurer <REPLACE_NEW> config builder <REPLACE_END> <KEEP> generate splits in am ( boolean value ) { generate splits in am = value ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "mrinput", "<KEEP_END>", "<REPLACE_OLD>", "configurer", "<REPLACE_NEW>", "config", "builder", "<REPLACE_END>", "<KEEP>", "generate", "splits", "in", "am", "(", "boolean", "value", ")", "{", "generate", "splits", "in", "am", "=", "value", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> mrinput <INSERT_NEW_KEEP_AFTER> org . apache . tez . mapreduce . input . mrinput <INSERT_END> <REPLACE_OLD> configurer <REPLACE_NEW> . mrinput config builder <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "mrinput", "<INSERT_NEW_KEEP_AFTER>", "org", ".", "apache", ".", "tez", ".", "mapreduce", ".", "input", ".", "mrinput", "<INSERT_END>", "<REPLACE_OLD>", "configurer", "<REPLACE_NEW>", ".", "mrinput", "config", "builder", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "mrinput", "<REPLACE_OLD>", "configurer", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "builder", "<KEEP>", "generate", "<KEEP>", "splits", "<KEEP>", "in", "<KEEP>", "am", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "generate", "<KEEP>", "splits", "<KEEP>", "in", "<KEEP>", "am", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9001106603511777, "using": 1, "keep": 1}
{"id": "nuxeo_nuxeo-303-6683", "old_comment": "the id of the new batch file entry .", "old_comment_tokens": ["the", "id", "of", "the", "new", "batch", "file", "entry", "."], "new_comment": "the key of the new batch file entry .", "new_comment_tokens": ["the", "key", "of", "the", "new", "batch", "file", "entry", "."], "old_code": "public string add file ( string idx , input stream is , string name , string mime ) throws ioexception { string mime type = mime ; if ( mime type = = null ) { mime type = str ; } blob blob = blobs . create blob ( is , mime ) ; blob . set filename ( name ) ; string file entry id = get id ( ) + str + idx ; batch file entry file entry = new batch file entry ( file entry id , blob ) ; batch manager bm = framework . get service ( batch manager . class ) ; bm . get transient store ( ) . put ( file entry ) ; return file entry id ; }", "old_code_tokens": ["public", "string", "add", "file", "(", "string", "idx", ",", "input", "stream", "is", ",", "string", "name", ",", "string", "mime", ")", "throws", "ioexception", "{", "string", "mime", "type", "=", "mime", ";", "if", "(", "mime", "type", "=", "=", "null", ")", "{", "mime", "type", "=", "str", ";", "}", "blob", "blob", "=", "blobs", ".", "create", "blob", "(", "is", ",", "mime", ")", ";", "blob", ".", "set", "filename", "(", "name", ")", ";", "string", "file", "entry", "id", "=", "get", "id", "(", ")", "+", "str", "+", "idx", ";", "batch", "file", "entry", "file", "entry", "=", "new", "batch", "file", "entry", "(", "file", "entry", "id", ",", "blob", ")", ";", "batch", "manager", "bm", "=", "framework", ".", "get", "service", "(", "batch", "manager", ".", "class", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "(", "file", "entry", ")", ";", "return", "file", "entry", "id", ";", "}"], "new_code": "public string add file ( string index , input stream is , string name , string mime ) throws ioexception { string mime type = mime ; if ( mime type = = null ) { mime type = str ; } blob blob = blobs . create blob ( is , mime ) ; blob . set filename ( name ) ; string file entry key = key + str + index ; batch manager bm = framework . get service ( batch manager . class ) ; bm . get transient store ( ) . put blobs ( file entry key , collections . singleton list ( blob ) ) ; bm . get transient store ( ) . put parameter ( file entry key , chunked _ param _ name , string . value of ( false ) ) ; bm . get transient store ( ) . put parameter ( key , index , file entry key ) ; return file entry key ; }", "new_code_tokens": ["public", "string", "add", "file", "(", "string", "index", ",", "input", "stream", "is", ",", "string", "name", ",", "string", "mime", ")", "throws", "ioexception", "{", "string", "mime", "type", "=", "mime", ";", "if", "(", "mime", "type", "=", "=", "null", ")", "{", "mime", "type", "=", "str", ";", "}", "blob", "blob", "=", "blobs", ".", "create", "blob", "(", "is", ",", "mime", ")", ";", "blob", ".", "set", "filename", "(", "name", ")", ";", "string", "file", "entry", "key", "=", "key", "+", "str", "+", "index", ";", "batch", "manager", "bm", "=", "framework", ".", "get", "service", "(", "batch", "manager", ".", "class", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "blobs", "(", "file", "entry", "key", ",", "collections", ".", "singleton", "list", "(", "blob", ")", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "parameter", "(", "file", "entry", "key", ",", "chunked", "_", "param", "_", "name", ",", "string", ".", "value", "of", "(", "false", ")", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "parameter", "(", "key", ",", "index", ",", "file", "entry", "key", ")", ";", "return", "file", "entry", "key", ";", "}"], "span_diff_code": "<KEEP> public string add file ( string <KEEP_END> <REPLACE_OLD> idx <REPLACE_NEW> index <REPLACE_END> <KEEP> , input stream is , string name , string mime ) throws ioexception { string mime type = mime ; if ( mime type = = null ) { mime type = str ; } blob blob = blobs . create blob ( is , mime ) ; blob . set filename ( name ) ; string file entry <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> key <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> get id ( ) <REPLACE_NEW> key <REPLACE_END> <KEEP> + str + <KEEP_END> <REPLACE_OLD> idx ; batch file entry file entry = new batch file entry ( file entry id , blob ) <REPLACE_NEW> index <REPLACE_END> <KEEP> ; batch manager bm = framework . get service ( batch manager . class ) ; bm . get transient store ( ) . put <KEEP_END> <INSERT> blobs <INSERT_END> <KEEP> ( file entry <KEEP_END> <INSERT> key , collections . singleton list ( blob ) ) ; bm . get transient store ( ) . put parameter ( file entry key , chunked _ param _ name , string . value of ( false ) ) ; bm . get transient store ( ) . put parameter ( key , index , file entry key <INSERT_END> <KEEP> ) ; return file entry <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> key <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "add", "file", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ",", "input", "stream", "is", ",", "string", "name", ",", "string", "mime", ")", "throws", "ioexception", "{", "string", "mime", "type", "=", "mime", ";", "if", "(", "mime", "type", "=", "=", "null", ")", "{", "mime", "type", "=", "str", ";", "}", "blob", "blob", "=", "blobs", ".", "create", "blob", "(", "is", ",", "mime", ")", ";", "blob", ".", "set", "filename", "(", "name", ")", ";", "string", "file", "entry", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "get", "id", "(", ")", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", "+", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "idx", ";", "batch", "file", "entry", "file", "entry", "=", "new", "batch", "file", "entry", "(", "file", "entry", "id", ",", "blob", ")", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ";", "batch", "manager", "bm", "=", "framework", ".", "get", "service", "(", "batch", "manager", ".", "class", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "<KEEP_END>", "<INSERT>", "blobs", "<INSERT_END>", "<KEEP>", "(", "file", "entry", "<KEEP_END>", "<INSERT>", "key", ",", "collections", ".", "singleton", "list", "(", "blob", ")", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "parameter", "(", "file", "entry", "key", ",", "chunked", "_", "param", "_", "name", ",", "string", ".", "value", "of", "(", "false", ")", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "parameter", "(", "key", ",", "index", ",", "file", "entry", "key", "<INSERT_END>", "<KEEP>", ")", ";", "return", "file", "entry", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> id <REPLACE_NEW> key <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "add", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<KEEP>", ",", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "is", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "mime", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "mime", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "blob", "<KEEP>", "blob", "<KEEP>", "=", "<KEEP>", "blobs", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "blob", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", ",", "<KEEP>", "mime", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "blob", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "filename", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "entry", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<KEEP>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "key", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "batch", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "batch", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "blob", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "index", "<KEEP>", ";", "<KEEP>", "batch", "<KEEP>", "manager", "<KEEP>", "bm", "<KEEP>", "=", "<KEEP>", "framework", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "batch", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bm", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "transient", "<KEEP>", "store", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "put", "<INSERT>", "blobs", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "entry", "<INSERT>", "key", "<INSERT>", ",", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "singleton", "<INSERT>", "list", "<INSERT>", "(", "<INSERT>", "blob", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "bm", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "transient", "<INSERT>", "store", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "parameter", "<INSERT>", "(", "<INSERT>", "file", "<INSERT>", "entry", "<INSERT>", "key", "<INSERT>", ",", "<INSERT>", "chunked", "<INSERT>", "_", "<INSERT>", "param", "<INSERT>", "_", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ".", "<INSERT>", "value", "<INSERT>", "of", "<INSERT>", "(", "<INSERT>", "false", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "bm", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "transient", "<INSERT>", "store", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "parameter", "<INSERT>", "(", "<INSERT>", "key", "<INSERT>", ",", "<INSERT>", "index", "<INSERT>", ",", "<INSERT>", "file", "<INSERT>", "entry", "<INSERT>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "file", "<KEEP>", "entry", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.985500037010369, "using": 2, "keep": 1}
{"id": "Netflix_Hystrix-5-211", "old_comment": "this hystrix command builder", "old_comment_tokens": ["this", "hystrix", "command", "builder"], "new_comment": "this hystrix command builder . builder", "new_comment_tokens": ["this", "hystrix", "command", "builder", ".", "builder"], "old_code": "public hystrix command builder execution type ( execution type p execution type ) { this . execution type = p execution type ; return this ; }", "old_code_tokens": ["public", "hystrix", "command", "builder", "execution", "type", "(", "execution", "type", "p", "execution", "type", ")", "{", "this", ".", "execution", "type", "=", "p", "execution", "type", ";", "return", "this", ";", "}"], "new_code": "public builder execution type ( execution type p execution type ) { this . execution type = p execution type ; return this ; }", "new_code_tokens": ["public", "builder", "execution", "type", "(", "execution", "type", "p", "execution", "type", ")", "{", "this", ".", "execution", "type", "=", "p", "execution", "type", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hystrix command <DELETE_END> <KEEP> builder execution type ( execution type p execution type ) { this . execution type = p execution type ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hystrix", "command", "<DELETE_END>", "<KEEP>", "builder", "execution", "type", "(", "execution", "type", "p", "execution", "type", ")", "{", "this", ".", "execution", "type", "=", "p", "execution", "type", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> builder <INSERT_NEW_KEEP_BEFORE> builder . builder <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "builder", "<INSERT_NEW_KEEP_BEFORE>", "builder", ".", "builder", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hystrix", "<DELETE>", "command", "<KEEP>", "builder", "<KEEP>", "execution", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "execution", "<KEEP>", "type", "<KEEP>", "p", "<KEEP>", "execution", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "execution", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "execution", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9000628432935672, "using": 0, "keep": 1}
{"id": "eclipse_objectteams-144-5103", "old_comment": "an allocation expression for the boxed value .", "old_comment_tokens": ["an", "allocation", "expression", "for", "the", "boxed", "value", "."], "new_comment": "a message send for the boxed value .", "new_comment_tokens": ["a", "message", "send", "for", "the", "boxed", "value", "."], "old_code": "public allocation expression create boxing ( expression result expr , base type binding type ) { char [ ] [ ] boxed type = box type name ( type ) ; return allocation ( qualified type reference ( boxed type ) , new expression [ ] { result expr } ) ; }", "old_code_tokens": ["public", "allocation", "expression", "create", "boxing", "(", "expression", "result", "expr", ",", "base", "type", "binding", "type", ")", "{", "char", "[", "]", "[", "]", "boxed", "type", "=", "box", "type", "name", "(", "type", ")", ";", "return", "allocation", "(", "qualified", "type", "reference", "(", "boxed", "type", ")", ",", "new", "expression", "[", "]", "{", "result", "expr", "}", ")", ";", "}"], "new_code": "public message send create boxing ( expression result expr , base type binding type ) { char [ ] [ ] boxed type = box type name ( type ) ; return message send ( qualified type reference ( boxed type ) , type constants . valueof , new expression [ ] { result expr } ) ; }", "new_code_tokens": ["public", "message", "send", "create", "boxing", "(", "expression", "result", "expr", ",", "base", "type", "binding", "type", ")", "{", "char", "[", "]", "[", "]", "boxed", "type", "=", "box", "type", "name", "(", "type", ")", ";", "return", "message", "send", "(", "qualified", "type", "reference", "(", "boxed", "type", ")", ",", "type", "constants", ".", "valueof", ",", "new", "expression", "[", "]", "{", "result", "expr", "}", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> allocation expression <REPLACE_NEW> message send <REPLACE_END> <KEEP> create boxing ( expression result expr , base type binding type ) { char [ ] [ ] boxed type = box type name ( type ) ; return <KEEP_END> <REPLACE_OLD> allocation <REPLACE_NEW> message send <REPLACE_END> <KEEP> ( qualified type reference ( boxed type ) <KEEP_END> <INSERT> , type constants . valueof <INSERT_END> <KEEP> , new expression [ ] { result expr } ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "allocation", "expression", "<REPLACE_NEW>", "message", "send", "<REPLACE_END>", "<KEEP>", "create", "boxing", "(", "expression", "result", "expr", ",", "base", "type", "binding", "type", ")", "{", "char", "[", "]", "[", "]", "boxed", "type", "=", "box", "type", "name", "(", "type", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "allocation", "<REPLACE_NEW>", "message", "send", "<REPLACE_END>", "<KEEP>", "(", "qualified", "type", "reference", "(", "boxed", "type", ")", "<KEEP_END>", "<INSERT>", ",", "type", "constants", ".", "valueof", "<INSERT_END>", "<KEEP>", ",", "new", "expression", "[", "]", "{", "result", "expr", "}", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an allocation expression <REPLACE_NEW> a message send <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "allocation", "expression", "<REPLACE_NEW>", "a", "message", "send", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "allocation", "<REPLACE_OLD>", "expression", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "send", "<KEEP>", "create", "<KEEP>", "boxing", "<KEEP>", "(", "<KEEP>", "expression", "<KEEP>", "result", "<KEEP>", "expr", "<KEEP>", ",", "<KEEP>", "base", "<KEEP>", "type", "<KEEP>", "binding", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "char", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "boxed", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "box", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "allocation", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "send", "<KEEP>", "(", "<KEEP>", "qualified", "<KEEP>", "type", "<KEEP>", "reference", "<KEEP>", "(", "<KEEP>", "boxed", "<KEEP>", "type", "<KEEP>", ")", "<INSERT>", ",", "<INSERT>", "type", "<INSERT>", "constants", "<INSERT>", ".", "<INSERT>", "valueof", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "expression", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", "expr", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9583990572924572, "using": 2, "keep": 1}
{"id": "eclipse_elk-59-6008", "old_comment": "an kgraph adapter for the passed graph .", "old_comment_tokens": ["an", "kgraph", "adapter", "for", "the", "passed", "graph", "."], "new_comment": "an elk graph adapter for the passed graph .", "new_comment_tokens": ["an", "elk", "graph", "adapter", "for", "the", "passed", "graph", "."], "old_code": "public static kgraph adapter adapt ( final knode graph ) { return new kgraph adapter ( graph ) ; }", "old_code_tokens": ["public", "static", "kgraph", "adapter", "adapt", "(", "final", "knode", "graph", ")", "{", "return", "new", "kgraph", "adapter", "(", "graph", ")", ";", "}"], "new_code": "public static elk graph adapter adapt ( final elk node graph ) { return new elk graph adapter ( graph ) ; }", "new_code_tokens": ["public", "static", "elk", "graph", "adapter", "adapt", "(", "final", "elk", "node", "graph", ")", "{", "return", "new", "elk", "graph", "adapter", "(", "graph", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> kgraph <REPLACE_NEW> elk graph <REPLACE_END> <KEEP> adapter adapt ( final <KEEP_END> <REPLACE_OLD> knode <REPLACE_NEW> elk node <REPLACE_END> <KEEP> graph ) { return new <KEEP_END> <REPLACE_OLD> kgraph <REPLACE_NEW> elk graph <REPLACE_END> <KEEP> adapter ( graph ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "graph", "<REPLACE_END>", "<KEEP>", "adapter", "adapt", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "knode", "<REPLACE_NEW>", "elk", "node", "<REPLACE_END>", "<KEEP>", "graph", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "graph", "<REPLACE_END>", "<KEEP>", "adapter", "(", "graph", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> kgraph <REPLACE_NEW> elk graph <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "graph", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "graph", "<KEEP>", "adapter", "<KEEP>", "adapt", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "knode", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "node", "<KEEP>", "graph", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "kgraph", "<REPLACE_NEW>", "elk", "<REPLACE_NEW>", "graph", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "graph", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9631484279023279, "using": 2, "keep": 1}
{"id": "twitter_elephant-bird-19-6294", "old_comment": "size of the directory in bytes", "old_comment_tokens": ["size", "of", "the", "directory", "in", "bytes"], "new_comment": "size of the directory ' s contents in bytes", "new_comment_tokens": ["size", "of", "the", "directory", "'", "s", "contents", "in", "bytes"], "old_code": "public static long get directory size ( path path , file system fs ) throws ioexception { return get directory size ( path , fs , path filters . accept _ all _ paths _ filter ) ; }", "old_code_tokens": ["public", "static", "long", "get", "directory", "size", "(", "path", "path", ",", "file", "system", "fs", ")", "throws", "ioexception", "{", "return", "get", "directory", "size", "(", "path", ",", "fs", ",", "path", "filters", ".", "accept", "_", "all", "_", "paths", "_", "filter", ")", ";", "}"], "new_code": "public static long get directory size ( path path , file system fs ) throws ioexception { content summary cs = fs . get content summary ( path ) ; return cs . get length ( ) ; }", "new_code_tokens": ["public", "static", "long", "get", "directory", "size", "(", "path", "path", ",", "file", "system", "fs", ")", "throws", "ioexception", "{", "content", "summary", "cs", "=", "fs", ".", "get", "content", "summary", "(", "path", ")", ";", "return", "cs", ".", "get", "length", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static long get directory size ( path path , file system fs ) throws ioexception { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> content summary cs = fs . <REPLACE_END> <KEEP> get <KEEP_END> <REPLACE_OLD> directory size <REPLACE_NEW> content summary <REPLACE_END> <KEEP> ( path <KEEP_END> <REPLACE_OLD> , fs , path filters <REPLACE_NEW> ) ; return cs <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> accept _ all _ paths _ filter <REPLACE_NEW> get length ( <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "long", "get", "directory", "size", "(", "path", "path", ",", "file", "system", "fs", ")", "throws", "ioexception", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "content", "summary", "cs", "=", "fs", ".", "<REPLACE_END>", "<KEEP>", "get", "<KEEP_END>", "<REPLACE_OLD>", "directory", "size", "<REPLACE_NEW>", "content", "summary", "<REPLACE_END>", "<KEEP>", "(", "path", "<KEEP_END>", "<REPLACE_OLD>", ",", "fs", ",", "path", "filters", "<REPLACE_NEW>", ")", ";", "return", "cs", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "accept", "_", "all", "_", "paths", "_", "filter", "<REPLACE_NEW>", "get", "length", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> directory <INSERT_NEW_KEEP_BEFORE> directory ' s contents <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "directory", "<INSERT_NEW_KEEP_BEFORE>", "directory", "'", "s", "contents", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "directory", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", "path", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", "system", "<KEEP>", "fs", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "summary", "<REPLACE_NEW>", "cs", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "fs", "<REPLACE_NEW>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "directory", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "summary", "<KEEP>", "(", "<KEEP>", "path", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "fs", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "filters", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "cs", "<KEEP>", ".", "<REPLACE_OLD>", "accept", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "paths", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8977571400298474, "using": 2, "keep": 1}
{"id": "permissions-dispatcher_PermissionsDispatcher-0-704", "old_comment": "returns true if context has access to the given permission , false otherwise .", "old_comment_tokens": ["returns", "true", "if", "context", "has", "access", "to", "the", "given", "permission", ",", "false", "otherwise", "."], "new_comment": "true if context has access to the given permission , false otherwise .", "new_comment_tokens": ["true", "if", "context", "has", "access", "to", "the", "given", "permission", ",", "false", "otherwise", "."], "old_code": "private static boolean has self permission ( context context , string permission ) { if ( build . version . sdk _ int > = build . version _ codes . m & & str . equals ignore case ( build . manufacturer ) ) { return has self permission for xiaomi ( context , permission ) ; } try { return permission checker . check self permission ( context , permission ) = = package manager . permission _ granted ; } catch ( runtime exception t ) { return false ; } }", "old_code_tokens": ["private", "static", "boolean", "has", "self", "permission", "(", "context", "context", ",", "string", "permission", ")", "{", "if", "(", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "build", ".", "version", "_", "codes", ".", "m", "&", "&", "str", ".", "equals", "ignore", "case", "(", "build", ".", "manufacturer", ")", ")", "{", "return", "has", "self", "permission", "for", "xiaomi", "(", "context", ",", "permission", ")", ";", "}", "try", "{", "return", "permission", "checker", ".", "check", "self", "permission", "(", "context", ",", "permission", ")", "=", "=", "package", "manager", ".", "permission", "_", "granted", ";", "}", "catch", "(", "runtime", "exception", "t", ")", "{", "return", "false", ";", "}", "}"], "new_code": "private static boolean has self permission ( context context , string permission ) { try { return permission checker . check self permission ( context , permission ) = = package manager . permission _ granted ; } catch ( runtime exception t ) { return false ; } }", "new_code_tokens": ["private", "static", "boolean", "has", "self", "permission", "(", "context", "context", ",", "string", "permission", ")", "{", "try", "{", "return", "permission", "checker", ".", "check", "self", "permission", "(", "context", ",", "permission", ")", "=", "=", "package", "manager", ".", "permission", "_", "granted", ";", "}", "catch", "(", "runtime", "exception", "t", ")", "{", "return", "false", ";", "}", "}"], "span_diff_code": "<KEEP> private static boolean has self permission ( context context , string permission ) { <KEEP_END> <DELETE> if ( build . version . sdk _ int > = build . version _ codes . m & & str . equals ignore case ( build . manufacturer ) ) { return has self permission for xiaomi ( context , permission ) ; } <DELETE_END> <KEEP> try { return permission checker . check self permission ( context , permission ) = = package manager . permission _ granted ; } catch ( runtime exception t ) { return false ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "boolean", "has", "self", "permission", "(", "context", "context", ",", "string", "permission", ")", "{", "<KEEP_END>", "<DELETE>", "if", "(", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "build", ".", "version", "_", "codes", ".", "m", "&", "&", "str", ".", "equals", "ignore", "case", "(", "build", ".", "manufacturer", ")", ")", "{", "return", "has", "self", "permission", "for", "xiaomi", "(", "context", ",", "permission", ")", ";", "}", "<DELETE_END>", "<KEEP>", "try", "{", "return", "permission", "checker", ".", "check", "self", "permission", "(", "context", ",", "permission", ")", "=", "=", "package", "manager", ".", "permission", "_", "granted", ";", "}", "catch", "(", "runtime", "exception", "t", ")", "{", "return", "false", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> returns <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "returns", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "self", "<KEEP>", "permission", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "permission", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "version", "<DELETE>", ".", "<DELETE>", "sdk", "<DELETE>", "_", "<DELETE>", "int", "<DELETE>", ">", "<DELETE>", "=", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "version", "<DELETE>", "_", "<DELETE>", "codes", "<DELETE>", ".", "<DELETE>", "m", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "str", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "ignore", "<DELETE>", "case", "<DELETE>", "(", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "manufacturer", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "has", "<DELETE>", "self", "<DELETE>", "permission", "<DELETE>", "for", "<DELETE>", "xiaomi", "<DELETE>", "(", "<DELETE>", "context", "<DELETE>", ",", "<DELETE>", "permission", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "permission", "<KEEP>", "checker", "<KEEP>", ".", "<KEEP>", "check", "<KEEP>", "self", "<KEEP>", "permission", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "permission", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "package", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "permission", "<KEEP>", "_", "<KEEP>", "granted", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.7989607036751452, "using": 2, "keep": 1}
{"id": "svn2github_svn-paccman-14-7173", "old_comment": "operation status . ok or operation status . failed .", "old_comment_tokens": ["operation", "status", ".", "ok", "or", "operation", "status", ".", "failed", "."], "new_comment": "ok or failed .", "new_comment_tokens": ["ok", "or", "failed", "."], "old_code": "public operation status save document ( file save file ) { if ( save to xml ) { paccman file old pf = new paccman file old ( ) ; try { pf . write ( save file , get document controller ( ) ) ; } catch ( paccman ioexception pie ) { pie . print stack trace ( ) ; return operation status . failed ; } } if ( save to database ) { paccman dao db = new paccman dao ( new file ( save file . get absolute path ( ) ) . get path ( ) + str ) ; try { db . save ( get document controller ( ) ) ; } catch ( sqlexception ex ) { org . paccman . tools . logger . get default logger ( this ) . log ( level . severe , null , ex ) ; } catch ( unsupported encoding exception ex ) { org . paccman . tools . logger . get default logger ( this ) . log ( level . severe , null , ex ) ; } } return operation status . ok ; }", "old_code_tokens": ["public", "operation", "status", "save", "document", "(", "file", "save", "file", ")", "{", "if", "(", "save", "to", "xml", ")", "{", "paccman", "file", "old", "pf", "=", "new", "paccman", "file", "old", "(", ")", ";", "try", "{", "pf", ".", "write", "(", "save", "file", ",", "get", "document", "controller", "(", ")", ")", ";", "}", "catch", "(", "paccman", "ioexception", "pie", ")", "{", "pie", ".", "print", "stack", "trace", "(", ")", ";", "return", "operation", "status", ".", "failed", ";", "}", "}", "if", "(", "save", "to", "database", ")", "{", "paccman", "dao", "db", "=", "new", "paccman", "dao", "(", "new", "file", "(", "save", "file", ".", "get", "absolute", "path", "(", ")", ")", ".", "get", "path", "(", ")", "+", "str", ")", ";", "try", "{", "db", ".", "save", "(", "get", "document", "controller", "(", ")", ")", ";", "}", "catch", "(", "sqlexception", "ex", ")", "{", "org", ".", "paccman", ".", "tools", ".", "logger", ".", "get", "default", "logger", "(", "this", ")", ".", "log", "(", "level", ".", "severe", ",", "null", ",", "ex", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "ex", ")", "{", "org", ".", "paccman", ".", "tools", ".", "logger", ".", "get", "default", "logger", "(", "this", ")", ".", "log", "(", "level", ".", "severe", ",", "null", ",", "ex", ")", ";", "}", "}", "return", "operation", "status", ".", "ok", ";", "}"], "new_code": "@ deprecated public actions . action result save document ( file save file ) { if ( save to xml ) { paccman file old pf = new paccman file old ( ) ; try { pf . write ( save file , get document controller ( ) ) ; } catch ( paccman ioexception pie ) { pie . print stack trace ( ) ; return failed ; } } if ( save to database ) { paccman dao db = new paccman dao ( new file ( save file . get absolute path ( ) ) . get path ( ) + str ) ; try { db . save ( get document controller ( ) ) ; } catch ( sqlexception ex ) { org . paccman . tools . logger . get default logger ( this ) . log ( level . severe , null , ex ) ; } catch ( unsupported encoding exception ex ) { org . paccman . tools . logger . get default logger ( this ) . log ( level . severe , null , ex ) ; } } return ok ; }", "new_code_tokens": ["@", "deprecated", "public", "actions", ".", "action", "result", "save", "document", "(", "file", "save", "file", ")", "{", "if", "(", "save", "to", "xml", ")", "{", "paccman", "file", "old", "pf", "=", "new", "paccman", "file", "old", "(", ")", ";", "try", "{", "pf", ".", "write", "(", "save", "file", ",", "get", "document", "controller", "(", ")", ")", ";", "}", "catch", "(", "paccman", "ioexception", "pie", ")", "{", "pie", ".", "print", "stack", "trace", "(", ")", ";", "return", "failed", ";", "}", "}", "if", "(", "save", "to", "database", ")", "{", "paccman", "dao", "db", "=", "new", "paccman", "dao", "(", "new", "file", "(", "save", "file", ".", "get", "absolute", "path", "(", ")", ")", ".", "get", "path", "(", ")", "+", "str", ")", ";", "try", "{", "db", ".", "save", "(", "get", "document", "controller", "(", ")", ")", ";", "}", "catch", "(", "sqlexception", "ex", ")", "{", "org", ".", "paccman", ".", "tools", ".", "logger", ".", "get", "default", "logger", "(", "this", ")", ".", "log", "(", "level", ".", "severe", ",", "null", ",", "ex", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "ex", ")", "{", "org", ".", "paccman", ".", "tools", ".", "logger", ".", "get", "default", "logger", "(", "this", ")", ".", "log", "(", "level", ".", "severe", ",", "null", ",", "ex", ")", ";", "}", "}", "return", "ok", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public <KEEP_END> <REPLACE_OLD> operation status <REPLACE_NEW> actions . action result <REPLACE_END> <KEEP> save document ( file save file ) { if ( save to xml ) { paccman file old pf = new paccman file old ( ) ; try { pf . write ( save file , get document controller ( ) ) ; } catch ( paccman ioexception pie ) { pie . print stack trace ( ) ; return <KEEP_END> <DELETE> operation status . <DELETE_END> <KEEP> failed ; } } if ( save to database ) { paccman dao db = new paccman dao ( new file ( save file . get absolute path ( ) ) . get path ( ) + str ) ; try { db . save ( get document controller ( ) ) ; } catch ( sqlexception ex ) { org . paccman . tools . logger . get default logger ( this ) . log ( level . severe , null , ex ) ; } catch ( unsupported encoding exception ex ) { org . paccman . tools . logger . get default logger ( this ) . log ( level . severe , null , ex ) ; } } return <KEEP_END> <DELETE> operation status . <DELETE_END> <KEEP> ok ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "operation", "status", "<REPLACE_NEW>", "actions", ".", "action", "result", "<REPLACE_END>", "<KEEP>", "save", "document", "(", "file", "save", "file", ")", "{", "if", "(", "save", "to", "xml", ")", "{", "paccman", "file", "old", "pf", "=", "new", "paccman", "file", "old", "(", ")", ";", "try", "{", "pf", ".", "write", "(", "save", "file", ",", "get", "document", "controller", "(", ")", ")", ";", "}", "catch", "(", "paccman", "ioexception", "pie", ")", "{", "pie", ".", "print", "stack", "trace", "(", ")", ";", "return", "<KEEP_END>", "<DELETE>", "operation", "status", ".", "<DELETE_END>", "<KEEP>", "failed", ";", "}", "}", "if", "(", "save", "to", "database", ")", "{", "paccman", "dao", "db", "=", "new", "paccman", "dao", "(", "new", "file", "(", "save", "file", ".", "get", "absolute", "path", "(", ")", ")", ".", "get", "path", "(", ")", "+", "str", ")", ";", "try", "{", "db", ".", "save", "(", "get", "document", "controller", "(", ")", ")", ";", "}", "catch", "(", "sqlexception", "ex", ")", "{", "org", ".", "paccman", ".", "tools", ".", "logger", ".", "get", "default", "logger", "(", "this", ")", ".", "log", "(", "level", ".", "severe", ",", "null", ",", "ex", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "ex", ")", "{", "org", ".", "paccman", ".", "tools", ".", "logger", ".", "get", "default", "logger", "(", "this", ")", ".", "log", "(", "level", ".", "severe", ",", "null", ",", "ex", ")", ";", "}", "}", "return", "<KEEP_END>", "<DELETE>", "operation", "status", ".", "<DELETE_END>", "<KEEP>", "ok", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> operation status . ok <REPLACE_NEW_DELETE_KEEP_AFTER> ok <REPLACE_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> or operation status . <REPLACE_NEW_DELETE_KEEP_BEFORE> or <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "operation", "status", ".", "ok", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "ok", "<REPLACE_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", "or", "operation", "status", ".", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "or", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<REPLACE_OLD>", "operation", "<REPLACE_OLD>", "status", "<REPLACE_NEW>", "actions", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "result", "<KEEP>", "save", "<KEEP>", "document", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "save", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "save", "<KEEP>", "to", "<KEEP>", "xml", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "paccman", "<KEEP>", "file", "<KEEP>", "old", "<KEEP>", "pf", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "paccman", "<KEEP>", "file", "<KEEP>", "old", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "pf", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", "save", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "document", "<KEEP>", "controller", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "paccman", "<KEEP>", "ioexception", "<KEEP>", "pie", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pie", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "operation", "<DELETE>", "status", "<DELETE>", ".", "<KEEP>", "failed", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "save", "<KEEP>", "to", "<KEEP>", "database", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "paccman", "<KEEP>", "dao", "<KEEP>", "db", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "paccman", "<KEEP>", "dao", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "save", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "absolute", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "db", "<KEEP>", ".", "<KEEP>", "save", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "document", "<KEEP>", "controller", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "sqlexception", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "org", "<KEEP>", ".", "<KEEP>", "paccman", "<KEEP>", ".", "<KEEP>", "tools", "<KEEP>", ".", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "logger", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "severe", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "unsupported", "<KEEP>", "encoding", "<KEEP>", "exception", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "org", "<KEEP>", ".", "<KEEP>", "paccman", "<KEEP>", ".", "<KEEP>", "tools", "<KEEP>", ".", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "logger", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "severe", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "operation", "<DELETE>", "status", "<DELETE>", ".", "<KEEP>", "ok", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8223289492332111, "using": 2, "keep": 1}
{"id": "eclipse_gmf-runtime-26-7151", "old_comment": "true if the supplied object is a gate edit part ; otherwise false .", "old_comment_tokens": ["true", "if", "the", "supplied", "object", "is", "a", "gate", "edit", "part", ";", "otherwise", "false", "."], "new_comment": "true if the supplied object is a border item edit part ; otherwise false .", "new_comment_tokens": ["true", "if", "the", "supplied", "object", "is", "a", "border", "item", "edit", "part", ";", "otherwise", "false", "."], "old_code": "protected boolean is gate edit part ( object object ) { return object instanceof gate edit part & & ( ( gate edit part ) object ) . get main figure ( ) instanceof gate figure ; }", "old_code_tokens": ["protected", "boolean", "is", "gate", "edit", "part", "(", "object", "object", ")", "{", "return", "object", "instanceof", "gate", "edit", "part", "&", "&", "(", "(", "gate", "edit", "part", ")", "object", ")", ".", "get", "main", "figure", "(", ")", "instanceof", "gate", "figure", ";", "}"], "new_code": "protected boolean is gate edit part ( object object ) { return object instanceof border item edit part & & ( ( border item edit part ) object ) . get main figure ( ) instanceof border item figure ; }", "new_code_tokens": ["protected", "boolean", "is", "gate", "edit", "part", "(", "object", "object", ")", "{", "return", "object", "instanceof", "border", "item", "edit", "part", "&", "&", "(", "(", "border", "item", "edit", "part", ")", "object", ")", ".", "get", "main", "figure", "(", ")", "instanceof", "border", "item", "figure", ";", "}"], "span_diff_code": "<KEEP> protected boolean is gate edit part ( object object ) { return object instanceof <KEEP_END> <REPLACE_OLD> gate <REPLACE_NEW> border item <REPLACE_END> <KEEP> edit part & & ( ( <KEEP_END> <REPLACE_OLD> gate <REPLACE_NEW> border item <REPLACE_END> <KEEP> edit part ) object ) . get main figure ( ) instanceof <KEEP_END> <REPLACE_OLD> gate <REPLACE_NEW> border item <REPLACE_END> <KEEP> figure ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "boolean", "is", "gate", "edit", "part", "(", "object", "object", ")", "{", "return", "object", "instanceof", "<KEEP_END>", "<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "item", "<REPLACE_END>", "<KEEP>", "edit", "part", "&", "&", "(", "(", "<KEEP_END>", "<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "item", "<REPLACE_END>", "<KEEP>", "edit", "part", ")", "object", ")", ".", "get", "main", "figure", "(", ")", "instanceof", "<KEEP_END>", "<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "item", "<REPLACE_END>", "<KEEP>", "figure", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> gate <REPLACE_NEW> border item <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "item", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "gate", "<KEEP>", "edit", "<KEEP>", "part", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "object", "<KEEP>", "instanceof", "<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "<REPLACE_NEW>", "item", "<KEEP>", "edit", "<KEEP>", "part", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "(", "<KEEP>", "(", "<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "<REPLACE_NEW>", "item", "<KEEP>", "edit", "<KEEP>", "part", "<KEEP>", ")", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "main", "<KEEP>", "figure", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "instanceof", "<REPLACE_OLD>", "gate", "<REPLACE_NEW>", "border", "<REPLACE_NEW>", "item", "<KEEP>", "figure", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9515486599142234, "using": 2, "keep": 1}
{"id": "ulikoehler_1x1-2-3780", "old_comment": "the mode", "old_comment_tokens": ["the", "mode"], "new_comment": "the mode name", "new_comment_tokens": ["the", "mode", "name"], "old_code": "public string get mode ( ) { return mode ; }", "old_code_tokens": ["public", "string", "get", "mode", "(", ")", "{", "return", "mode", ";", "}"], "new_code": "public string get mode ( ) { return mode name ; }", "new_code_tokens": ["public", "string", "get", "mode", "(", ")", "{", "return", "mode", "name", ";", "}"], "span_diff_code": "<KEEP> public string get mode ( ) { return mode <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "mode", "(", ")", "{", "return", "mode", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> mode <INSERT_NEW_KEEP_BEFORE> mode name <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "mode", "<INSERT_NEW_KEEP_BEFORE>", "mode", "name", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "mode", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "mode", "<INSERT>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9883883896414664, "using": 2, "keep": 1}
{"id": "codahale_shamir-0-6084", "old_comment": "a set of n share instances", "old_comment_tokens": ["a", "set", "of", "n", "share", "instances"], "new_comment": "a set of n part instances", "new_comment_tokens": ["a", "set", "of", "n", "part", "instances"], "old_code": "public set < share > split ( byte [ ] secret ) { check not null ( secret , str ) ; final byte [ ] [ ] values = new byte [ n ] [ secret . length ] ; for ( int i = num ; i < secret . length ; i + + ) { final byte [ ] p = gf256 . generate ( random , k - num , secret [ i ] ) ; for ( int x = num ; x < = n ; x + + ) { values [ x - num ] [ i ] = gf256 . eval ( p , ( byte ) x ) ; } } final set < share > shares = new hash set < > ( n ) ; for ( int i = num ; i < values . length ; i + + ) { shares . add ( new share ( i + num , values [ i ] ) ) ; } return collections . unmodifiable set ( shares ) ; }", "old_code_tokens": ["public", "set", "<", "share", ">", "split", "(", "byte", "[", "]", "secret", ")", "{", "check", "not", "null", "(", "secret", ",", "str", ")", ";", "final", "byte", "[", "]", "[", "]", "values", "=", "new", "byte", "[", "n", "]", "[", "secret", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "secret", ".", "length", ";", "i", "+", "+", ")", "{", "final", "byte", "[", "]", "p", "=", "gf256", ".", "generate", "(", "random", ",", "k", "-", "num", ",", "secret", "[", "i", "]", ")", ";", "for", "(", "int", "x", "=", "num", ";", "x", "<", "=", "n", ";", "x", "+", "+", ")", "{", "values", "[", "x", "-", "num", "]", "[", "i", "]", "=", "gf256", ".", "eval", "(", "p", ",", "(", "byte", ")", "x", ")", ";", "}", "}", "final", "set", "<", "share", ">", "shares", "=", "new", "hash", "set", "<", ">", "(", "n", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "shares", ".", "add", "(", "new", "share", "(", "i", "+", "num", ",", "values", "[", "i", "]", ")", ")", ";", "}", "return", "collections", ".", "unmodifiable", "set", "(", "shares", ")", ";", "}"], "new_code": "public set < part > split ( byte string secret ) { check not null ( secret , str ) ; final byte [ ] [ ] values = new byte [ n ] [ secret . size ( ) ] ; for ( int i = num ; i < secret . size ( ) ; i + + ) { final byte [ ] p = gf256 . generate ( random , k - num , secret . get byte ( i ) ) ; for ( int x = num ; x < = n ; x + + ) { values [ x - num ] [ i ] = gf256 . eval ( p , ( byte ) x ) ; } } final set < part > parts = new hash set < > ( n ) ; for ( int i = num ; i < values . length ; i + + ) { parts . add ( part . of ( i + num , byte string . of ( values [ i ] ) ) ) ; } return collections . unmodifiable set ( parts ) ; }", "new_code_tokens": ["public", "set", "<", "part", ">", "split", "(", "byte", "string", "secret", ")", "{", "check", "not", "null", "(", "secret", ",", "str", ")", ";", "final", "byte", "[", "]", "[", "]", "values", "=", "new", "byte", "[", "n", "]", "[", "secret", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "secret", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "final", "byte", "[", "]", "p", "=", "gf256", ".", "generate", "(", "random", ",", "k", "-", "num", ",", "secret", ".", "get", "byte", "(", "i", ")", ")", ";", "for", "(", "int", "x", "=", "num", ";", "x", "<", "=", "n", ";", "x", "+", "+", ")", "{", "values", "[", "x", "-", "num", "]", "[", "i", "]", "=", "gf256", ".", "eval", "(", "p", ",", "(", "byte", ")", "x", ")", ";", "}", "}", "final", "set", "<", "part", ">", "parts", "=", "new", "hash", "set", "<", ">", "(", "n", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "parts", ".", "add", "(", "part", ".", "of", "(", "i", "+", "num", ",", "byte", "string", ".", "of", "(", "values", "[", "i", "]", ")", ")", ")", ";", "}", "return", "collections", ".", "unmodifiable", "set", "(", "parts", ")", ";", "}"], "span_diff_code": "<KEEP> public set < <KEEP_END> <REPLACE_OLD> share <REPLACE_NEW> part <REPLACE_END> <KEEP> > split ( byte <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> string <REPLACE_END> <KEEP> secret ) { check not null ( secret , str ) ; final byte [ ] [ ] values = new byte [ n ] [ secret . <KEEP_END> <REPLACE_OLD> length <REPLACE_NEW> size ( ) <REPLACE_END> <KEEP> ] ; for ( int i = num ; i < secret . <KEEP_END> <REPLACE_OLD> length <REPLACE_NEW> size ( ) <REPLACE_END> <KEEP> ; i + + ) { final byte [ ] p = gf256 . generate ( random , k - num , secret <KEEP_END> <REPLACE_OLD> [ <REPLACE_NEW> . get byte ( <REPLACE_END> <KEEP> i <KEEP_END> <REPLACE_OLD> ] <REPLACE_NEW> ) <REPLACE_END> <KEEP> ) ; for ( int x = num ; x < = n ; x + + ) { values [ x - num ] [ i ] = gf256 . eval ( p , ( byte ) x ) ; } } final set < <KEEP_END> <REPLACE_OLD> share <REPLACE_NEW> part <REPLACE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> shares <REPLACE_NEW> parts <REPLACE_END> <KEEP> = new hash set < > ( n ) ; for ( int i = num ; i < values . length ; i + + ) { <KEEP_END> <REPLACE_OLD> shares <REPLACE_NEW> parts <REPLACE_END> <KEEP> . add ( <KEEP_END> <REPLACE_OLD> new share <REPLACE_NEW> part . of <REPLACE_END> <KEEP> ( i + num , <KEEP_END> <INSERT> byte string . of ( <INSERT_END> <KEEP> values [ i ] <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ) ) ; } return collections . unmodifiable set ( <KEEP_END> <REPLACE_OLD> shares <REPLACE_NEW> parts <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "set", "<", "<KEEP_END>", "<REPLACE_OLD>", "share", "<REPLACE_NEW>", "part", "<REPLACE_END>", "<KEEP>", ">", "split", "(", "byte", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "secret", ")", "{", "check", "not", "null", "(", "secret", ",", "str", ")", ";", "final", "byte", "[", "]", "[", "]", "values", "=", "new", "byte", "[", "n", "]", "[", "secret", ".", "<KEEP_END>", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "size", "(", ")", "<REPLACE_END>", "<KEEP>", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "secret", ".", "<KEEP_END>", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "size", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "i", "+", "+", ")", "{", "final", "byte", "[", "]", "p", "=", "gf256", ".", "generate", "(", "random", ",", "k", "-", "num", ",", "secret", "<KEEP_END>", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", ".", "get", "byte", "(", "<REPLACE_END>", "<KEEP>", "i", "<KEEP_END>", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "for", "(", "int", "x", "=", "num", ";", "x", "<", "=", "n", ";", "x", "+", "+", ")", "{", "values", "[", "x", "-", "num", "]", "[", "i", "]", "=", "gf256", ".", "eval", "(", "p", ",", "(", "byte", ")", "x", ")", ";", "}", "}", "final", "set", "<", "<KEEP_END>", "<REPLACE_OLD>", "share", "<REPLACE_NEW>", "part", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "shares", "<REPLACE_NEW>", "parts", "<REPLACE_END>", "<KEEP>", "=", "new", "hash", "set", "<", ">", "(", "n", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "shares", "<REPLACE_NEW>", "parts", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "share", "<REPLACE_NEW>", "part", ".", "of", "<REPLACE_END>", "<KEEP>", "(", "i", "+", "num", ",", "<KEEP_END>", "<INSERT>", "byte", "string", ".", "of", "(", "<INSERT_END>", "<KEEP>", "values", "[", "i", "]", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ")", ")", ";", "}", "return", "collections", ".", "unmodifiable", "set", "(", "<KEEP_END>", "<REPLACE_OLD>", "shares", "<REPLACE_NEW>", "parts", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> share <REPLACE_NEW> part <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "share", "<REPLACE_NEW>", "part", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "set", "<KEEP>", "<", "<REPLACE_OLD>", "share", "<REPLACE_NEW>", "part", "<KEEP>", ">", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "byte", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "string", "<KEEP>", "secret", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "secret", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "values", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "n", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "secret", "<KEEP>", ".", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "secret", "<KEEP>", ".", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "p", "<KEEP>", "=", "<KEEP>", "gf256", "<KEEP>", ".", "<KEEP>", "generate", "<KEEP>", "(", "<KEEP>", "random", "<KEEP>", ",", "<KEEP>", "k", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "secret", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "(", "<KEEP>", "i", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "x", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "x", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "n", "<KEEP>", ";", "<KEEP>", "x", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "x", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "gf256", "<KEEP>", ".", "<KEEP>", "eval", "<KEEP>", "(", "<KEEP>", "p", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", ")", "<KEEP>", "x", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "<", "<REPLACE_OLD>", "share", "<REPLACE_NEW>", "part", "<KEEP>", ">", "<REPLACE_OLD>", "shares", "<REPLACE_NEW>", "parts", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "n", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "shares", "<REPLACE_NEW>", "parts", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "share", "<REPLACE_NEW>", "part", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "of", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ",", "<INSERT>", "byte", "<INSERT>", "string", "<INSERT>", ".", "<INSERT>", "of", "<INSERT>", "(", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "set", "<KEEP>", "(", "<REPLACE_OLD>", "shares", "<REPLACE_NEW>", "parts", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9735755495273897, "using": 2, "keep": 1}
{"id": "stephanenicolas_robospice-1-3207", "old_comment": "true if network is available ( at least one way to connect to network is connected or connecting ) .", "old_comment_tokens": ["true", "if", "network", "is", "available", "(", "at", "least", "one", "way", "to", "connect", "to", "network", "is", "connected", "or", "connecting", ")", "."], "new_comment": "true if network is available .", "new_comment_tokens": ["true", "if", "network", "is", "available", "."], "old_code": "public static boolean is network available ( context context ) { connectivity manager connectivity manager = ( connectivity manager ) context . get system service ( context . connectivity _ service ) ; network info [ ] all network infos = connectivity manager . get all network info ( ) ; for ( network info network info : all network infos ) { if ( network info . get state ( ) = = network info . state . connected | | network info . get state ( ) = = network info . state . connecting ) { return true ; } } return false ; }", "old_code_tokens": ["public", "static", "boolean", "is", "network", "available", "(", "context", "context", ")", "{", "connectivity", "manager", "connectivity", "manager", "=", "(", "connectivity", "manager", ")", "context", ".", "get", "system", "service", "(", "context", ".", "connectivity", "_", "service", ")", ";", "network", "info", "[", "]", "all", "network", "infos", "=", "connectivity", "manager", ".", "get", "all", "network", "info", "(", ")", ";", "for", "(", "network", "info", "network", "info", ":", "all", "network", "infos", ")", "{", "if", "(", "network", "info", ".", "get", "state", "(", ")", "=", "=", "network", "info", ".", "state", ".", "connected", "|", "|", "network", "info", ".", "get", "state", "(", ")", "=", "=", "network", "info", ".", "state", ".", "connecting", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}"], "new_code": "public boolean is network available ( context context ) { return network state checker . is network available ( context ) ; }", "new_code_tokens": ["public", "boolean", "is", "network", "available", "(", "context", "context", ")", "{", "return", "network", "state", "checker", ".", "is", "network", "available", "(", "context", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> static <DELETE_END> <KEEP> boolean is network available ( context context ) { <KEEP_END> <REPLACE_OLD> connectivity manager connectivity manager = ( connectivity manager ) context <REPLACE_NEW> return network state checker <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get system service <REPLACE_NEW> is network available <REPLACE_END> <KEEP> ( context <KEEP_END> <DELETE> . connectivity _ service <DELETE_END> <KEEP> ) ; <KEEP_END> <DELETE> network info [ ] all network infos = connectivity manager . get all network info ( ) ; for ( network info network info : all network infos ) { if ( network info . get state ( ) = = network info . state . connected | | network info . get state ( ) = = network info . state . connecting ) { return true ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> } return false ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "static", "<DELETE_END>", "<KEEP>", "boolean", "is", "network", "available", "(", "context", "context", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "connectivity", "manager", "connectivity", "manager", "=", "(", "connectivity", "manager", ")", "context", "<REPLACE_NEW>", "return", "network", "state", "checker", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "system", "service", "<REPLACE_NEW>", "is", "network", "available", "<REPLACE_END>", "<KEEP>", "(", "context", "<KEEP_END>", "<DELETE>", ".", "connectivity", "_", "service", "<DELETE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "network", "info", "[", "]", "all", "network", "infos", "=", "connectivity", "manager", ".", "get", "all", "network", "info", "(", ")", ";", "for", "(", "network", "info", "network", "info", ":", "all", "network", "infos", ")", "{", "if", "(", "network", "info", ".", "get", "state", "(", ")", "=", "=", "network", "info", ".", "state", ".", "connected", "|", "|", "network", "info", ".", "get", "state", "(", ")", "=", "=", "network", "info", ".", "state", ".", "connecting", ")", "{", "return", "true", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "}", "return", "false", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> ( at least one way to connect to network is connected or connecting ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "at", "least", "one", "way", "to", "connect", "to", "network", "is", "connected", "or", "connecting", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "network", "<KEEP>", "available", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "checker", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", "service", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", "available", "<KEEP>", "(", "<KEEP>", "context", "<DELETE>", ".", "<DELETE>", "connectivity", "<DELETE>", "_", "<DELETE>", "service", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "all", "<DELETE>", "network", "<DELETE>", "infos", "<DELETE>", "=", "<DELETE>", "connectivity", "<DELETE>", "manager", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "all", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", ":", "<DELETE>", "all", "<DELETE>", "network", "<DELETE>", "infos", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "state", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", ".", "<DELETE>", "state", "<DELETE>", ".", "<DELETE>", "connected", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "state", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "network", "<DELETE>", "info", "<DELETE>", ".", "<DELETE>", "state", "<DELETE>", ".", "<DELETE>", "connecting", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "true", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.7890921394399376, "using": 2, "keep": 1}
{"id": "apache_ignite-398-3980", "old_comment": "fail spis .", "old_comment_tokens": ["fail", "spis", "."], "new_comment": "failover spis .", "new_comment_tokens": ["failover", "spis", "."], "old_code": "public grid bi tuple < string , map < string , object > > [ ] failover spis ( ) { return fail spis ; }", "old_code_tokens": ["public", "grid", "bi", "tuple", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "[", "]", "failover", "spis", "(", ")", "{", "return", "fail", "spis", ";", "}"], "new_code": "public t2 < string , map < string , object > > [ ] failover spis ( ) { return fail spis ; }", "new_code_tokens": ["public", "t2", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "[", "]", "failover", "spis", "(", ")", "{", "return", "fail", "spis", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> grid bi tuple <REPLACE_NEW> t2 <REPLACE_END> <KEEP> < string , map < string , object > > [ ] failover spis ( ) { return fail spis ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "grid", "bi", "tuple", "<REPLACE_NEW>", "t2", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "[", "]", "failover", "spis", "(", ")", "{", "return", "fail", "spis", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> fail <REPLACE_NEW> failover <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "fail", "<REPLACE_NEW>", "failover", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "grid", "<REPLACE_OLD>", "bi", "<REPLACE_OLD>", "tuple", "<REPLACE_NEW>", "t2", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "failover", "<KEEP>", "spis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "fail", "<KEEP>", "spis", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7930590675052728, "using": 1, "keep": 1}
{"id": "apache_olingo-odata4-107-7171", "old_comment": "true if value type is a entity or collection _ entity , otherwise false", "old_comment_tokens": ["true", "if", "value", "type", "is", "a", "entity", "or", "collection", "_", "entity", ",", "otherwise", "false"], "new_comment": "true if the value type is entity or collection _ entity , otherwise false", "new_comment_tokens": ["true", "if", "the", "value", "type", "is", "entity", "or", "collection", "_", "entity", ",", "otherwise", "false"], "old_code": "public boolean is entity ( ) { if ( is collection ( ) ) { return get value type ( ) . get base type ( ) = = value type . entity ; } return get value type ( ) = = value type . entity ; }", "old_code_tokens": ["public", "boolean", "is", "entity", "(", ")", "{", "if", "(", "is", "collection", "(", ")", ")", "{", "return", "get", "value", "type", "(", ")", ".", "get", "base", "type", "(", ")", "=", "=", "value", "type", ".", "entity", ";", "}", "return", "get", "value", "type", "(", ")", "=", "=", "value", "type", ".", "entity", ";", "}"], "new_code": "public boolean is entity ( ) { return get value type ( ) = = value type . entity | | get value type ( ) = = value type . collection _ entity ; }", "new_code_tokens": ["public", "boolean", "is", "entity", "(", ")", "{", "return", "get", "value", "type", "(", ")", "=", "=", "value", "type", ".", "entity", "|", "|", "get", "value", "type", "(", ")", "=", "=", "value", "type", ".", "collection", "_", "entity", ";", "}"], "span_diff_code": "<KEEP> public boolean is entity ( ) { <KEEP_END> <DELETE> if ( is collection ( ) ) { return get value type ( ) . get base type ( ) = = value type . entity ; } <DELETE_END> <KEEP> return get value type ( ) = = value type . entity <KEEP_END> <INSERT> | | get value type ( ) = = value type . collection _ entity <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "entity", "(", ")", "{", "<KEEP_END>", "<DELETE>", "if", "(", "is", "collection", "(", ")", ")", "{", "return", "get", "value", "type", "(", ")", ".", "get", "base", "type", "(", ")", "=", "=", "value", "type", ".", "entity", ";", "}", "<DELETE_END>", "<KEEP>", "return", "get", "value", "type", "(", ")", "=", "=", "value", "type", ".", "entity", "<KEEP_END>", "<INSERT>", "|", "|", "get", "value", "type", "(", ")", "=", "=", "value", "type", ".", "collection", "_", "entity", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> if <INSERT_NEW_KEEP_BEFORE> if the <INSERT_END> <DELETE> a <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "if", "<INSERT_NEW_KEEP_BEFORE>", "if", "the", "<INSERT_END>", "<DELETE>", "a", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", "collection", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "type", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "base", "<DELETE>", "type", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "entity", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "entity", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "get", "<INSERT>", "value", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "value", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "collection", "<INSERT>", "_", "<INSERT>", "entity", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.920891301576439, "using": 0, "keep": 1}
{"id": "eclipse_gmf-runtime-17-7148", "old_comment": "the shared instance of presentation properties plugin", "old_comment_tokens": ["the", "shared", "instance", "of", "presentation", "properties", "plugin"], "new_comment": "the shared instance of diagram properties plugin", "new_comment_tokens": ["the", "shared", "instance", "of", "diagram", "properties", "plugin"], "old_code": "public static presentation properties plugin get default ( ) { return plugin ; }", "old_code_tokens": ["public", "static", "presentation", "properties", "plugin", "get", "default", "(", ")", "{", "return", "plugin", ";", "}"], "new_code": "public static diagram properties plugin get default ( ) { return plugin ; }", "new_code_tokens": ["public", "static", "diagram", "properties", "plugin", "get", "default", "(", ")", "{", "return", "plugin", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> presentation <REPLACE_NEW> diagram <REPLACE_END> <KEEP> properties plugin get default ( ) { return plugin ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "presentation", "<REPLACE_NEW>", "diagram", "<REPLACE_END>", "<KEEP>", "properties", "plugin", "get", "default", "(", ")", "{", "return", "plugin", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> presentation <REPLACE_NEW> diagram <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "presentation", "<REPLACE_NEW>", "diagram", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "presentation", "<REPLACE_NEW>", "diagram", "<KEEP>", "properties", "<KEEP>", "plugin", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "plugin", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9583115504531414, "using": 2, "keep": 1}
{"id": "eclipse_milo-5-7208", "old_comment": "an opc binary data type codec , or null if none was found .", "old_comment_tokens": ["an", "opc", "binary", "data", "type", "codec", ",", "or", "null", "if", "none", "was", "found", "."], "new_comment": "an opc ua binary data type codec , or null if none was found .", "new_comment_tokens": ["an", "opc", "ua", "binary", "data", "type", "codec", ",", "or", "null", "if", "none", "was", "found", "."], "old_code": "@ nullable default opc binary data type codec < ? > get binary codec ( string namespace uri , string description ) { data type codec codec = get codec ( namespace uri , description ) ; if ( codec instanceof opc binary data type codec ) { return ( opc binary data type codec ) codec ; } else { return null ; } }", "old_code_tokens": ["@", "nullable", "default", "opc", "binary", "data", "type", "codec", "<", "?", ">", "get", "binary", "codec", "(", "string", "namespace", "uri", ",", "string", "description", ")", "{", "data", "type", "codec", "codec", "=", "get", "codec", "(", "namespace", "uri", ",", "description", ")", ";", "if", "(", "codec", "instanceof", "opc", "binary", "data", "type", "codec", ")", "{", "return", "(", "opc", "binary", "data", "type", "codec", ")", "codec", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "new_code": "@ nullable default opc ua binary data type codec < ? > get binary codec ( string namespace uri , string description ) { data type codec codec = get codec ( namespace uri , description ) ; if ( codec instanceof opc ua binary data type codec ) { return ( opc ua binary data type codec ) codec ; } else { return null ; } }", "new_code_tokens": ["@", "nullable", "default", "opc", "ua", "binary", "data", "type", "codec", "<", "?", ">", "get", "binary", "codec", "(", "string", "namespace", "uri", ",", "string", "description", ")", "{", "data", "type", "codec", "codec", "=", "get", "codec", "(", "namespace", "uri", ",", "description", ")", ";", "if", "(", "codec", "instanceof", "opc", "ua", "binary", "data", "type", "codec", ")", "{", "return", "(", "opc", "ua", "binary", "data", "type", "codec", ")", "codec", ";", "}", "else", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> @ nullable default opc <KEEP_END> <INSERT> ua <INSERT_END> <KEEP> binary data type codec < ? > get binary codec ( string namespace uri , string description ) { data type codec codec = get codec ( namespace uri , description ) ; if ( codec instanceof opc <KEEP_END> <INSERT> ua <INSERT_END> <KEEP> binary data type codec ) { return ( opc <KEEP_END> <INSERT> ua <INSERT_END> <KEEP> binary data type codec ) codec ; } else { return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nullable", "default", "opc", "<KEEP_END>", "<INSERT>", "ua", "<INSERT_END>", "<KEEP>", "binary", "data", "type", "codec", "<", "?", ">", "get", "binary", "codec", "(", "string", "namespace", "uri", ",", "string", "description", ")", "{", "data", "type", "codec", "codec", "=", "get", "codec", "(", "namespace", "uri", ",", "description", ")", ";", "if", "(", "codec", "instanceof", "opc", "<KEEP_END>", "<INSERT>", "ua", "<INSERT_END>", "<KEEP>", "binary", "data", "type", "codec", ")", "{", "return", "(", "opc", "<KEEP_END>", "<INSERT>", "ua", "<INSERT_END>", "<KEEP>", "binary", "data", "type", "codec", ")", "codec", ";", "}", "else", "{", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> opc <INSERT_NEW_KEEP_BEFORE> opc ua <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "opc", "<INSERT_NEW_KEEP_BEFORE>", "opc", "ua", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "default", "<KEEP>", "opc", "<INSERT>", "ua", "<KEEP>", "binary", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "binary", "<KEEP>", "codec", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "namespace", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "description", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", "codec", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "codec", "<KEEP>", "(", "<KEEP>", "namespace", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "description", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "codec", "<KEEP>", "instanceof", "<KEEP>", "opc", "<INSERT>", "ua", "<KEEP>", "binary", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "opc", "<INSERT>", "ua", "<KEEP>", "binary", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "codec", "<KEEP>", ")", "<KEEP>", "codec", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9961202121451521, "using": 2, "keep": 1}
{"id": "grpc_grpc-java-18-3530", "old_comment": "a wrapper around buffer that ignores calls to buffer # close .", "old_comment_tokens": ["a", "wrapper", "around", "buffer", "that", "ignores", "calls", "to", "buffer", "#", "close", "."], "new_comment": "a wrapper around buffer that ignores calls to readable buffer # close .", "new_comment_tokens": ["a", "wrapper", "around", "buffer", "that", "ignores", "calls", "to", "readable", "buffer", "#", "close", "."], "old_code": "public static buffer ignore close ( buffer buffer ) { return new forwarding buffer ( buffer ) { @ override public void close ( ) { } } ; }", "old_code_tokens": ["public", "static", "buffer", "ignore", "close", "(", "buffer", "buffer", ")", "{", "return", "new", "forwarding", "buffer", "(", "buffer", ")", "{", "@", "override", "public", "void", "close", "(", ")", "{", "}", "}", ";", "}"], "new_code": "public static readable buffer ignore close ( readable buffer buffer ) { return new forwarding readable buffer ( buffer ) { @ override public void close ( ) { } } ; }", "new_code_tokens": ["public", "static", "readable", "buffer", "ignore", "close", "(", "readable", "buffer", "buffer", ")", "{", "return", "new", "forwarding", "readable", "buffer", "(", "buffer", ")", "{", "@", "override", "public", "void", "close", "(", ")", "{", "}", "}", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> readable <INSERT_END> <KEEP> buffer ignore close ( <KEEP_END> <INSERT> readable <INSERT_END> <KEEP> buffer buffer ) { return new forwarding <KEEP_END> <INSERT> readable <INSERT_END> <KEEP> buffer ( buffer ) { @ override public void close ( ) { } } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "readable", "<INSERT_END>", "<KEEP>", "buffer", "ignore", "close", "(", "<KEEP_END>", "<INSERT>", "readable", "<INSERT_END>", "<KEEP>", "buffer", "buffer", ")", "{", "return", "new", "forwarding", "<KEEP_END>", "<INSERT>", "readable", "<INSERT_END>", "<KEEP>", "buffer", "(", "buffer", ")", "{", "@", "override", "public", "void", "close", "(", ")", "{", "}", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> to <INSERT_NEW_KEEP_BEFORE> to readable <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "to", "<INSERT_NEW_KEEP_BEFORE>", "to", "readable", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "readable", "<KEEP>", "buffer", "<KEEP>", "ignore", "<KEEP>", "close", "<KEEP>", "(", "<INSERT>", "readable", "<KEEP>", "buffer", "<KEEP>", "buffer", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "forwarding", "<INSERT>", "readable", "<KEEP>", "buffer", "<KEEP>", "(", "<KEEP>", "buffer", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9838342478559975, "using": 2, "keep": 1}
{"id": "nuxeo_nuxeo-304-6684", "old_comment": "the id of the batch file entry .", "old_comment_tokens": ["the", "id", "of", "the", "batch", "file", "entry", "."], "new_comment": "the key of the batch file entry .", "new_comment_tokens": ["the", "key", "of", "the", "batch", "file", "entry", "."], "old_code": "public string add chunk ( string idx , input stream is , int chunk count , int chunk idx , string name , string mime , long file size ) throws ioexception { batch manager bm = framework . get service ( batch manager . class ) ; blob blob = blobs . create blob ( is ) ; batch file entry file entry = null ; string file entry id = ( string ) get ( idx ) ; if ( file entry id ! = null ) { file entry = ( batch file entry ) bm . get transient store ( ) . get ( file entry id ) ; } if ( file entry = = null ) { if ( file entry id = = null ) { file entry id = get id ( ) + str + idx ; } file entry = new batch file entry ( file entry id , chunk count , name , mime , file size ) ; bm . get transient store ( ) . put ( file entry ) ; } string chunk entry id = file entry . add chunk ( chunk idx , blob ) ; synchronized ( this ) { file entry = ( batch file entry ) bm . get transient store ( ) . get ( file entry id ) ; file entry . get chunks ( ) . put ( chunk idx , chunk entry id ) ; put ( idx , file entry id ) ; bm . get transient store ( ) . put ( file entry ) ; } return file entry id ; }", "old_code_tokens": ["public", "string", "add", "chunk", "(", "string", "idx", ",", "input", "stream", "is", ",", "int", "chunk", "count", ",", "int", "chunk", "idx", ",", "string", "name", ",", "string", "mime", ",", "long", "file", "size", ")", "throws", "ioexception", "{", "batch", "manager", "bm", "=", "framework", ".", "get", "service", "(", "batch", "manager", ".", "class", ")", ";", "blob", "blob", "=", "blobs", ".", "create", "blob", "(", "is", ")", ";", "batch", "file", "entry", "file", "entry", "=", "null", ";", "string", "file", "entry", "id", "=", "(", "string", ")", "get", "(", "idx", ")", ";", "if", "(", "file", "entry", "id", "!", "=", "null", ")", "{", "file", "entry", "=", "(", "batch", "file", "entry", ")", "bm", ".", "get", "transient", "store", "(", ")", ".", "get", "(", "file", "entry", "id", ")", ";", "}", "if", "(", "file", "entry", "=", "=", "null", ")", "{", "if", "(", "file", "entry", "id", "=", "=", "null", ")", "{", "file", "entry", "id", "=", "get", "id", "(", ")", "+", "str", "+", "idx", ";", "}", "file", "entry", "=", "new", "batch", "file", "entry", "(", "file", "entry", "id", ",", "chunk", "count", ",", "name", ",", "mime", ",", "file", "size", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "(", "file", "entry", ")", ";", "}", "string", "chunk", "entry", "id", "=", "file", "entry", ".", "add", "chunk", "(", "chunk", "idx", ",", "blob", ")", ";", "synchronized", "(", "this", ")", "{", "file", "entry", "=", "(", "batch", "file", "entry", ")", "bm", ".", "get", "transient", "store", "(", ")", ".", "get", "(", "file", "entry", "id", ")", ";", "file", "entry", ".", "get", "chunks", "(", ")", ".", "put", "(", "chunk", "idx", ",", "chunk", "entry", "id", ")", ";", "put", "(", "idx", ",", "file", "entry", "id", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "(", "file", "entry", ")", ";", "}", "return", "file", "entry", "id", ";", "}"], "new_code": "public string add chunk ( string index , input stream is , int chunk count , int chunk index , string file name , string mime type , long file size ) throws ioexception { batch manager bm = framework . get service ( batch manager . class ) ; blob blob = blobs . create blob ( is ) ; string file entry key = key + str + index ; batch file entry file entry = get file entry ( index ) ; if ( file entry = = null ) { file entry = new batch file entry ( file entry key , chunk count , file name , mime type , file size ) ; bm . get transient store ( ) . put parameters ( file entry key , file entry . get params ( ) ) ; bm . get transient store ( ) . put parameter ( key , index , file entry key ) ; } file entry . add chunk ( chunk index , blob ) ; return file entry key ; }", "new_code_tokens": ["public", "string", "add", "chunk", "(", "string", "index", ",", "input", "stream", "is", ",", "int", "chunk", "count", ",", "int", "chunk", "index", ",", "string", "file", "name", ",", "string", "mime", "type", ",", "long", "file", "size", ")", "throws", "ioexception", "{", "batch", "manager", "bm", "=", "framework", ".", "get", "service", "(", "batch", "manager", ".", "class", ")", ";", "blob", "blob", "=", "blobs", ".", "create", "blob", "(", "is", ")", ";", "string", "file", "entry", "key", "=", "key", "+", "str", "+", "index", ";", "batch", "file", "entry", "file", "entry", "=", "get", "file", "entry", "(", "index", ")", ";", "if", "(", "file", "entry", "=", "=", "null", ")", "{", "file", "entry", "=", "new", "batch", "file", "entry", "(", "file", "entry", "key", ",", "chunk", "count", ",", "file", "name", ",", "mime", "type", ",", "file", "size", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "parameters", "(", "file", "entry", "key", ",", "file", "entry", ".", "get", "params", "(", ")", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "parameter", "(", "key", ",", "index", ",", "file", "entry", "key", ")", ";", "}", "file", "entry", ".", "add", "chunk", "(", "chunk", "index", ",", "blob", ")", ";", "return", "file", "entry", "key", ";", "}"], "span_diff_code": "<KEEP> public string add chunk ( string <KEEP_END> <REPLACE_OLD> idx <REPLACE_NEW> index <REPLACE_END> <KEEP> , input stream is , int chunk count , int chunk <KEEP_END> <REPLACE_OLD> idx <REPLACE_NEW> index <REPLACE_END> <KEEP> , string <KEEP_END> <INSERT> file <INSERT_END> <KEEP> name , string mime <KEEP_END> <INSERT> type <INSERT_END> <KEEP> , long file size ) throws ioexception { batch manager bm = framework . get service ( batch manager . class ) ; blob blob = blobs . create blob ( is ) ; <KEEP_END> <INSERT> string file entry key = key + str + index ; <INSERT_END> <KEEP> batch file entry file entry = <KEEP_END> <REPLACE_OLD> null ; string <REPLACE_NEW> get <REPLACE_END> <KEEP> file entry <KEEP_END> <DELETE> id = <DELETE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> string ) get ( idx <REPLACE_NEW> index <REPLACE_END> <KEEP> ) ; <KEEP_END> <DELETE> if ( file entry id ! = null ) { file entry = ( batch file entry ) bm . get transient store ( ) . get ( file entry id ) ; } <DELETE_END> <KEEP> if ( file entry = = null ) { <KEEP_END> <DELETE> if ( file entry id = = null ) { file entry id = get id ( ) + str + idx ; } <DELETE_END> <KEEP> file entry = new batch file entry ( file entry <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> key <REPLACE_END> <KEEP> , chunk count , <KEEP_END> <INSERT> file <INSERT_END> <KEEP> name , mime <KEEP_END> <INSERT> type <INSERT_END> <KEEP> , file size ) ; bm . get transient store ( ) . put <KEEP_END> <INSERT> parameters <INSERT_END> <KEEP> ( file entry <KEEP_END> <REPLACE_OLD> ) ; } string chunk entry id = file entry . add chunk ( chunk idx <REPLACE_NEW> key <REPLACE_END> <KEEP> , <KEEP_END> <DELETE> blob ) ; synchronized ( this ) { file entry = ( batch file entry ) bm . get transient store ( ) . get ( file entry id ) ; <DELETE_END> <KEEP> file entry . get <KEEP_END> <REPLACE_OLD> chunks <REPLACE_NEW> params <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> . put ( chunk idx , chunk entry id ) ; put ( idx , file entry id <DELETE_END> <KEEP> ) ; bm . get transient store ( ) . put <KEEP_END> <INSERT> parameter <INSERT_END> <KEEP> ( <KEEP_END> <INSERT> key , index , <INSERT_END> <KEEP> file entry <KEEP_END> <INSERT> key <INSERT_END> <KEEP> ) ; } <KEEP_END> <INSERT> file entry . add chunk ( chunk index , blob ) ; <INSERT_END> <KEEP> return file entry <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> key <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "add", "chunk", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ",", "input", "stream", "is", ",", "int", "chunk", "count", ",", "int", "chunk", "<KEEP_END>", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ",", "string", "<KEEP_END>", "<INSERT>", "file", "<INSERT_END>", "<KEEP>", "name", ",", "string", "mime", "<KEEP_END>", "<INSERT>", "type", "<INSERT_END>", "<KEEP>", ",", "long", "file", "size", ")", "throws", "ioexception", "{", "batch", "manager", "bm", "=", "framework", ".", "get", "service", "(", "batch", "manager", ".", "class", ")", ";", "blob", "blob", "=", "blobs", ".", "create", "blob", "(", "is", ")", ";", "<KEEP_END>", "<INSERT>", "string", "file", "entry", "key", "=", "key", "+", "str", "+", "index", ";", "<INSERT_END>", "<KEEP>", "batch", "file", "entry", "file", "entry", "=", "<KEEP_END>", "<REPLACE_OLD>", "null", ";", "string", "<REPLACE_NEW>", "get", "<REPLACE_END>", "<KEEP>", "file", "entry", "<KEEP_END>", "<DELETE>", "id", "=", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "string", ")", "get", "(", "idx", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "file", "entry", "id", "!", "=", "null", ")", "{", "file", "entry", "=", "(", "batch", "file", "entry", ")", "bm", ".", "get", "transient", "store", "(", ")", ".", "get", "(", "file", "entry", "id", ")", ";", "}", "<DELETE_END>", "<KEEP>", "if", "(", "file", "entry", "=", "=", "null", ")", "{", "<KEEP_END>", "<DELETE>", "if", "(", "file", "entry", "id", "=", "=", "null", ")", "{", "file", "entry", "id", "=", "get", "id", "(", ")", "+", "str", "+", "idx", ";", "}", "<DELETE_END>", "<KEEP>", "file", "entry", "=", "new", "batch", "file", "entry", "(", "file", "entry", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ",", "chunk", "count", ",", "<KEEP_END>", "<INSERT>", "file", "<INSERT_END>", "<KEEP>", "name", ",", "mime", "<KEEP_END>", "<INSERT>", "type", "<INSERT_END>", "<KEEP>", ",", "file", "size", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "<KEEP_END>", "<INSERT>", "parameters", "<INSERT_END>", "<KEEP>", "(", "file", "entry", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "}", "string", "chunk", "entry", "id", "=", "file", "entry", ".", "add", "chunk", "(", "chunk", "idx", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<DELETE>", "blob", ")", ";", "synchronized", "(", "this", ")", "{", "file", "entry", "=", "(", "batch", "file", "entry", ")", "bm", ".", "get", "transient", "store", "(", ")", ".", "get", "(", "file", "entry", "id", ")", ";", "<DELETE_END>", "<KEEP>", "file", "entry", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "chunks", "<REPLACE_NEW>", "params", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ".", "put", "(", "chunk", "idx", ",", "chunk", "entry", "id", ")", ";", "put", "(", "idx", ",", "file", "entry", "id", "<DELETE_END>", "<KEEP>", ")", ";", "bm", ".", "get", "transient", "store", "(", ")", ".", "put", "<KEEP_END>", "<INSERT>", "parameter", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "key", ",", "index", ",", "<INSERT_END>", "<KEEP>", "file", "entry", "<KEEP_END>", "<INSERT>", "key", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<INSERT>", "file", "entry", ".", "add", "chunk", "(", "chunk", "index", ",", "blob", ")", ";", "<INSERT_END>", "<KEEP>", "return", "file", "entry", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> id <REPLACE_NEW> key <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "add", "<KEEP>", "chunk", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<KEEP>", ",", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "is", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "chunk", "<KEEP>", "count", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "chunk", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<KEEP>", ",", "<KEEP>", "string", "<INSERT>", "file", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "mime", "<INSERT>", "type", "<KEEP>", ",", "<KEEP>", "long", "<KEEP>", "file", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "batch", "<KEEP>", "manager", "<KEEP>", "bm", "<KEEP>", "=", "<KEEP>", "framework", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "batch", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "blob", "<KEEP>", "blob", "<KEEP>", "=", "<KEEP>", "blobs", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "blob", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "string", "<INSERT>", "file", "<INSERT>", "entry", "<INSERT>", "key", "<INSERT>", "=", "<INSERT>", "key", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "index", "<INSERT>", ";", "<KEEP>", "batch", "<KEEP>", "file", "<KEEP>", "entry", "<KEEP>", "file", "<KEEP>", "entry", "<KEEP>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "get", "<KEEP>", "file", "<KEEP>", "entry", "<DELETE>", "id", "<DELETE>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "id", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "batch", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", ")", "<DELETE>", "bm", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "transient", "<DELETE>", "store", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "id", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "idx", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "file", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "batch", "<KEEP>", "file", "<KEEP>", "entry", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "entry", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<KEEP>", ",", "<KEEP>", "chunk", "<KEEP>", "count", "<KEEP>", ",", "<INSERT>", "file", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "mime", "<INSERT>", "type", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bm", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "transient", "<KEEP>", "store", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "put", "<INSERT>", "parameters", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "entry", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "chunk", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "chunk", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "chunk", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "key", "<KEEP>", ",", "<DELETE>", "blob", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "synchronized", "<DELETE>", "(", "<DELETE>", "this", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "batch", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", ")", "<DELETE>", "bm", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "transient", "<DELETE>", "store", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "id", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "file", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "chunks", "<REPLACE_NEW>", "params", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "chunk", "<DELETE>", "idx", "<DELETE>", ",", "<DELETE>", "chunk", "<DELETE>", "entry", "<DELETE>", "id", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "idx", "<DELETE>", ",", "<DELETE>", "file", "<DELETE>", "entry", "<DELETE>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bm", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "transient", "<KEEP>", "store", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "put", "<INSERT>", "parameter", "<KEEP>", "(", "<INSERT>", "key", "<INSERT>", ",", "<INSERT>", "index", "<INSERT>", ",", "<KEEP>", "file", "<KEEP>", "entry", "<INSERT>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "file", "<INSERT>", "entry", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "chunk", "<INSERT>", "(", "<INSERT>", "chunk", "<INSERT>", "index", "<INSERT>", ",", "<INSERT>", "blob", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "file", "<KEEP>", "entry", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9784278523651425, "using": 2, "keep": 1}
{"id": "apache_wss4j-83-5670", "old_comment": "an assertion wrapper object", "old_comment_tokens": ["an", "assertion", "wrapper", "object"], "new_comment": "an saml assertion wrapper object", "new_comment_tokens": ["an", "saml", "assertion", "wrapper", "object"], "old_code": "public static assertion wrapper get assertion from key identifier ( security token reference sec ref , element str element , request data request , wsdoc info ws doc info ) throws wssecurity exception { string key identifier value = sec ref . get key identifier value ( ) ; string type = sec ref . get key identifier value type ( ) ; wssecurity engine result result = ws doc info . get result ( key identifier value ) ; assertion wrapper assertion = null ; element token = null ; if ( result ! = null ) { assertion = ( assertion wrapper ) result . get ( wssecurity engine result . tag _ saml _ assertion ) ; return assertion ; } else { token = sec ref . find processed token element ( str element . get owner document ( ) , ws doc info , request . get callback handler ( ) , key identifier value , type ) ; if ( token ! = null ) { if ( ! str . equals ( token . get local name ( ) ) ) { throw new wssecurity exception ( wssecurity exception . error code . failure , str ) ; } return new assertion wrapper ( token ) ; } token = sec ref . find unprocessed token element ( str element . get owner document ( ) , ws doc info , request . get callback handler ( ) , key identifier value , type ) ; if ( token = = null | | ! str . equals ( token . get local name ( ) ) ) { throw new wssecurity exception ( wssecurity exception . error code . failure , str ) ; } processor proc = request . get wss config ( ) . get processor ( wssecurity engine . saml _ token ) ; list < wssecurity engine result > saml result = proc . handle token ( token , request , ws doc info ) ; return ( assertion wrapper ) saml result . get ( num ) . get ( wssecurity engine result . tag _ saml _ assertion ) ; } }", "old_code_tokens": ["public", "static", "assertion", "wrapper", "get", "assertion", "from", "key", "identifier", "(", "security", "token", "reference", "sec", "ref", ",", "element", "str", "element", ",", "request", "data", "request", ",", "wsdoc", "info", "ws", "doc", "info", ")", "throws", "wssecurity", "exception", "{", "string", "key", "identifier", "value", "=", "sec", "ref", ".", "get", "key", "identifier", "value", "(", ")", ";", "string", "type", "=", "sec", "ref", ".", "get", "key", "identifier", "value", "type", "(", ")", ";", "wssecurity", "engine", "result", "result", "=", "ws", "doc", "info", ".", "get", "result", "(", "key", "identifier", "value", ")", ";", "assertion", "wrapper", "assertion", "=", "null", ";", "element", "token", "=", "null", ";", "if", "(", "result", "!", "=", "null", ")", "{", "assertion", "=", "(", "assertion", "wrapper", ")", "result", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "saml", "_", "assertion", ")", ";", "return", "assertion", ";", "}", "else", "{", "token", "=", "sec", "ref", ".", "find", "processed", "token", "element", "(", "str", "element", ".", "get", "owner", "document", "(", ")", ",", "ws", "doc", "info", ",", "request", ".", "get", "callback", "handler", "(", ")", ",", "key", "identifier", "value", ",", "type", ")", ";", "if", "(", "token", "!", "=", "null", ")", "{", "if", "(", "!", "str", ".", "equals", "(", "token", ".", "get", "local", "name", "(", ")", ")", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "error", "code", ".", "failure", ",", "str", ")", ";", "}", "return", "new", "assertion", "wrapper", "(", "token", ")", ";", "}", "token", "=", "sec", "ref", ".", "find", "unprocessed", "token", "element", "(", "str", "element", ".", "get", "owner", "document", "(", ")", ",", "ws", "doc", "info", ",", "request", ".", "get", "callback", "handler", "(", ")", ",", "key", "identifier", "value", ",", "type", ")", ";", "if", "(", "token", "=", "=", "null", "|", "|", "!", "str", ".", "equals", "(", "token", ".", "get", "local", "name", "(", ")", ")", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "error", "code", ".", "failure", ",", "str", ")", ";", "}", "processor", "proc", "=", "request", ".", "get", "wss", "config", "(", ")", ".", "get", "processor", "(", "wssecurity", "engine", ".", "saml", "_", "token", ")", ";", "list", "<", "wssecurity", "engine", "result", ">", "saml", "result", "=", "proc", ".", "handle", "token", "(", "token", ",", "request", ",", "ws", "doc", "info", ")", ";", "return", "(", "assertion", "wrapper", ")", "saml", "result", ".", "get", "(", "num", ")", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "saml", "_", "assertion", ")", ";", "}", "}"], "new_code": "public static saml assertion wrapper get assertion from key identifier ( security token reference sec ref , element str element , request data request , wsdoc info ws doc info ) throws wssecurity exception { string key identifier value = sec ref . get key identifier value ( ) ; string type = sec ref . get key identifier value type ( ) ; wssecurity engine result result = ws doc info . get result ( key identifier value ) ; saml assertion wrapper saml assertion = null ; element token = null ; if ( result ! = null ) { saml assertion = ( saml assertion wrapper ) result . get ( wssecurity engine result . tag _ saml _ assertion ) ; return saml assertion ; } else { token = sec ref . find processed token element ( str element . get owner document ( ) , ws doc info , request . get callback handler ( ) , key identifier value , type ) ; if ( token ! = null ) { if ( ! str . equals ( token . get local name ( ) ) ) { throw new wssecurity exception ( wssecurity exception . error code . failure , str ) ; } return new saml assertion wrapper ( token ) ; } token = sec ref . find unprocessed token element ( str element . get owner document ( ) , ws doc info , request . get callback handler ( ) , key identifier value , type ) ; if ( token = = null | | ! str . equals ( token . get local name ( ) ) ) { throw new wssecurity exception ( wssecurity exception . error code . failure , str ) ; } processor proc = request . get wss config ( ) . get processor ( wssecurity engine . saml _ token ) ; list < wssecurity engine result > saml result = proc . handle token ( token , request , ws doc info ) ; return ( saml assertion wrapper ) saml result . get ( num ) . get ( wssecurity engine result . tag _ saml _ assertion ) ; } }", "new_code_tokens": ["public", "static", "saml", "assertion", "wrapper", "get", "assertion", "from", "key", "identifier", "(", "security", "token", "reference", "sec", "ref", ",", "element", "str", "element", ",", "request", "data", "request", ",", "wsdoc", "info", "ws", "doc", "info", ")", "throws", "wssecurity", "exception", "{", "string", "key", "identifier", "value", "=", "sec", "ref", ".", "get", "key", "identifier", "value", "(", ")", ";", "string", "type", "=", "sec", "ref", ".", "get", "key", "identifier", "value", "type", "(", ")", ";", "wssecurity", "engine", "result", "result", "=", "ws", "doc", "info", ".", "get", "result", "(", "key", "identifier", "value", ")", ";", "saml", "assertion", "wrapper", "saml", "assertion", "=", "null", ";", "element", "token", "=", "null", ";", "if", "(", "result", "!", "=", "null", ")", "{", "saml", "assertion", "=", "(", "saml", "assertion", "wrapper", ")", "result", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "saml", "_", "assertion", ")", ";", "return", "saml", "assertion", ";", "}", "else", "{", "token", "=", "sec", "ref", ".", "find", "processed", "token", "element", "(", "str", "element", ".", "get", "owner", "document", "(", ")", ",", "ws", "doc", "info", ",", "request", ".", "get", "callback", "handler", "(", ")", ",", "key", "identifier", "value", ",", "type", ")", ";", "if", "(", "token", "!", "=", "null", ")", "{", "if", "(", "!", "str", ".", "equals", "(", "token", ".", "get", "local", "name", "(", ")", ")", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "error", "code", ".", "failure", ",", "str", ")", ";", "}", "return", "new", "saml", "assertion", "wrapper", "(", "token", ")", ";", "}", "token", "=", "sec", "ref", ".", "find", "unprocessed", "token", "element", "(", "str", "element", ".", "get", "owner", "document", "(", ")", ",", "ws", "doc", "info", ",", "request", ".", "get", "callback", "handler", "(", ")", ",", "key", "identifier", "value", ",", "type", ")", ";", "if", "(", "token", "=", "=", "null", "|", "|", "!", "str", ".", "equals", "(", "token", ".", "get", "local", "name", "(", ")", ")", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "error", "code", ".", "failure", ",", "str", ")", ";", "}", "processor", "proc", "=", "request", ".", "get", "wss", "config", "(", ")", ".", "get", "processor", "(", "wssecurity", "engine", ".", "saml", "_", "token", ")", ";", "list", "<", "wssecurity", "engine", "result", ">", "saml", "result", "=", "proc", ".", "handle", "token", "(", "token", ",", "request", ",", "ws", "doc", "info", ")", ";", "return", "(", "saml", "assertion", "wrapper", ")", "saml", "result", ".", "get", "(", "num", ")", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "saml", "_", "assertion", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> saml <INSERT_END> <KEEP> assertion wrapper get assertion from key identifier ( security token reference sec ref , element str element , request data request , wsdoc info ws doc info ) throws wssecurity exception { string key identifier value = sec ref . get key identifier value ( ) ; string type = sec ref . get key identifier value type ( ) ; wssecurity engine result result = ws doc info . get result ( key identifier value ) ; <KEEP_END> <REPLACE_OLD> assertion wrapper <REPLACE_NEW> saml assertion wrapper saml <REPLACE_END> <KEEP> assertion = null ; element token = null ; if ( result ! = null ) { <KEEP_END> <REPLACE_OLD> assertion = ( <REPLACE_NEW> saml assertion = ( saml <REPLACE_END> <KEEP> assertion wrapper ) result . get ( wssecurity engine result . tag _ saml _ assertion ) ; return <KEEP_END> <INSERT> saml <INSERT_END> <KEEP> assertion ; } else { token = sec ref . find processed token element ( str element . get owner document ( ) , ws doc info , request . get callback handler ( ) , key identifier value , type ) ; if ( token ! = null ) { if ( ! str . equals ( token . get local name ( ) ) ) { throw new wssecurity exception ( wssecurity exception . error code . failure , str ) ; } return new <KEEP_END> <INSERT> saml <INSERT_END> <KEEP> assertion wrapper ( token ) ; } token = sec ref . find unprocessed token element ( str element . get owner document ( ) , ws doc info , request . get callback handler ( ) , key identifier value , type ) ; if ( token = = null | | ! str . equals ( token . get local name ( ) ) ) { throw new wssecurity exception ( wssecurity exception . error code . failure , str ) ; } processor proc = request . get wss config ( ) . get processor ( wssecurity engine . saml _ token ) ; list < wssecurity engine result > saml result = proc . handle token ( token , request , ws doc info ) ; return ( <KEEP_END> <INSERT> saml <INSERT_END> <KEEP> assertion wrapper ) saml result . get ( num ) . get ( wssecurity engine result . tag _ saml _ assertion ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "saml", "<INSERT_END>", "<KEEP>", "assertion", "wrapper", "get", "assertion", "from", "key", "identifier", "(", "security", "token", "reference", "sec", "ref", ",", "element", "str", "element", ",", "request", "data", "request", ",", "wsdoc", "info", "ws", "doc", "info", ")", "throws", "wssecurity", "exception", "{", "string", "key", "identifier", "value", "=", "sec", "ref", ".", "get", "key", "identifier", "value", "(", ")", ";", "string", "type", "=", "sec", "ref", ".", "get", "key", "identifier", "value", "type", "(", ")", ";", "wssecurity", "engine", "result", "result", "=", "ws", "doc", "info", ".", "get", "result", "(", "key", "identifier", "value", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "assertion", "wrapper", "<REPLACE_NEW>", "saml", "assertion", "wrapper", "saml", "<REPLACE_END>", "<KEEP>", "assertion", "=", "null", ";", "element", "token", "=", "null", ";", "if", "(", "result", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "assertion", "=", "(", "<REPLACE_NEW>", "saml", "assertion", "=", "(", "saml", "<REPLACE_END>", "<KEEP>", "assertion", "wrapper", ")", "result", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "saml", "_", "assertion", ")", ";", "return", "<KEEP_END>", "<INSERT>", "saml", "<INSERT_END>", "<KEEP>", "assertion", ";", "}", "else", "{", "token", "=", "sec", "ref", ".", "find", "processed", "token", "element", "(", "str", "element", ".", "get", "owner", "document", "(", ")", ",", "ws", "doc", "info", ",", "request", ".", "get", "callback", "handler", "(", ")", ",", "key", "identifier", "value", ",", "type", ")", ";", "if", "(", "token", "!", "=", "null", ")", "{", "if", "(", "!", "str", ".", "equals", "(", "token", ".", "get", "local", "name", "(", ")", ")", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "error", "code", ".", "failure", ",", "str", ")", ";", "}", "return", "new", "<KEEP_END>", "<INSERT>", "saml", "<INSERT_END>", "<KEEP>", "assertion", "wrapper", "(", "token", ")", ";", "}", "token", "=", "sec", "ref", ".", "find", "unprocessed", "token", "element", "(", "str", "element", ".", "get", "owner", "document", "(", ")", ",", "ws", "doc", "info", ",", "request", ".", "get", "callback", "handler", "(", ")", ",", "key", "identifier", "value", ",", "type", ")", ";", "if", "(", "token", "=", "=", "null", "|", "|", "!", "str", ".", "equals", "(", "token", ".", "get", "local", "name", "(", ")", ")", ")", "{", "throw", "new", "wssecurity", "exception", "(", "wssecurity", "exception", ".", "error", "code", ".", "failure", ",", "str", ")", ";", "}", "processor", "proc", "=", "request", ".", "get", "wss", "config", "(", ")", ".", "get", "processor", "(", "wssecurity", "engine", ".", "saml", "_", "token", ")", ";", "list", "<", "wssecurity", "engine", "result", ">", "saml", "result", "=", "proc", ".", "handle", "token", "(", "token", ",", "request", ",", "ws", "doc", "info", ")", ";", "return", "(", "<KEEP_END>", "<INSERT>", "saml", "<INSERT_END>", "<KEEP>", "assertion", "wrapper", ")", "saml", "result", ".", "get", "(", "num", ")", ".", "get", "(", "wssecurity", "engine", "result", ".", "tag", "_", "saml", "_", "assertion", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> an <INSERT_NEW_KEEP_BEFORE> an saml <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "an", "<INSERT_NEW_KEEP_BEFORE>", "an", "saml", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "saml", "<KEEP>", "assertion", "<KEEP>", "wrapper", "<KEEP>", "get", "<KEEP>", "assertion", "<KEEP>", "from", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "(", "<KEEP>", "security", "<KEEP>", "token", "<KEEP>", "reference", "<KEEP>", "sec", "<KEEP>", "ref", "<KEEP>", ",", "<KEEP>", "element", "<KEEP>", "str", "<KEEP>", "element", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", "data", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "wsdoc", "<KEEP>", "info", "<KEEP>", "ws", "<KEEP>", "doc", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "sec", "<KEEP>", "ref", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "sec", "<KEEP>", "ref", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "ws", "<KEEP>", "doc", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "assertion", "<REPLACE_OLD>", "wrapper", "<REPLACE_NEW>", "saml", "<REPLACE_NEW>", "assertion", "<REPLACE_NEW>", "wrapper", "<REPLACE_NEW>", "saml", "<KEEP>", "assertion", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "element", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "assertion", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "saml", "<REPLACE_NEW>", "assertion", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "saml", "<KEEP>", "assertion", "<KEEP>", "wrapper", "<KEEP>", ")", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", "_", "<KEEP>", "saml", "<KEEP>", "_", "<KEEP>", "assertion", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "saml", "<KEEP>", "assertion", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "sec", "<KEEP>", "ref", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "processed", "<KEEP>", "token", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "document", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "ws", "<KEEP>", "doc", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "callback", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "failure", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<INSERT>", "saml", "<KEEP>", "assertion", "<KEEP>", "wrapper", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "sec", "<KEEP>", "ref", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "unprocessed", "<KEEP>", "token", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "document", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "ws", "<KEEP>", "doc", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "callback", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", "identifier", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "!", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "failure", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "processor", "<KEEP>", "proc", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "wss", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "processor", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", ".", "<KEEP>", "saml", "<KEEP>", "_", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", ">", "<KEEP>", "saml", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "proc", "<KEEP>", ".", "<KEEP>", "handle", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "ws", "<KEEP>", "doc", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<INSERT>", "saml", "<KEEP>", "assertion", "<KEEP>", "wrapper", "<KEEP>", ")", "<KEEP>", "saml", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "wssecurity", "<KEEP>", "engine", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", "_", "<KEEP>", "saml", "<KEEP>", "_", "<KEEP>", "assertion", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.992374836266562, "using": 2, "keep": 1}
{"id": "uber_AutoDispose-2-2837", "old_comment": "a resolved maybe representation of a given lifecycle , targeting the given event", "old_comment_tokens": ["a", "resolved", "maybe", "representation", "of", "a", "given", "lifecycle", ",", "targeting", "the", "given", "event"], "new_comment": "a resolved completable representation of a given lifecycle , targeting the given event", "new_comment_tokens": ["a", "resolved", "completable", "representation", "of", "a", "given", "lifecycle", ",", "targeting", "the", "given", "event"], "old_code": "public static < e > maybe < ? > resolve scope from lifecycle ( observable < e > lifecycle , final e end event ) { @ nullable comparator < e > comparator = null ; if ( end event instanceof comparable ) { comparator = ( comparator < e > ) comparable _ comparator ; } return resolve scope from lifecycle ( lifecycle , end event , comparator ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "maybe", "<", "?", ">", "resolve", "scope", "from", "lifecycle", "(", "observable", "<", "e", ">", "lifecycle", ",", "final", "e", "end", "event", ")", "{", "@", "nullable", "comparator", "<", "e", ">", "comparator", "=", "null", ";", "if", "(", "end", "event", "instanceof", "comparable", ")", "{", "comparator", "=", "(", "comparator", "<", "e", ">", ")", "comparable", "_", "comparator", ";", "}", "return", "resolve", "scope", "from", "lifecycle", "(", "lifecycle", ",", "end", "event", ",", "comparator", ")", ";", "}"], "new_code": "public static < e > completable source resolve scope from lifecycle ( observable < e > lifecycle , final e end event ) { @ nullable comparator < e > comparator = null ; if ( end event instanceof comparable ) { comparator = ( comparator < e > ) comparable _ comparator ; } return resolve scope from lifecycle ( lifecycle , end event , comparator ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "completable", "source", "resolve", "scope", "from", "lifecycle", "(", "observable", "<", "e", ">", "lifecycle", ",", "final", "e", "end", "event", ")", "{", "@", "nullable", "comparator", "<", "e", ">", "comparator", "=", "null", ";", "if", "(", "end", "event", "instanceof", "comparable", ")", "{", "comparator", "=", "(", "comparator", "<", "e", ">", ")", "comparable", "_", "comparator", ";", "}", "return", "resolve", "scope", "from", "lifecycle", "(", "lifecycle", ",", "end", "event", ",", "comparator", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> maybe < ? > <REPLACE_NEW> completable source <REPLACE_END> <KEEP> resolve scope from lifecycle ( observable < e > lifecycle , final e end event ) { @ nullable comparator < e > comparator = null ; if ( end event instanceof comparable ) { comparator = ( comparator < e > ) comparable _ comparator ; } return resolve scope from lifecycle ( lifecycle , end event , comparator ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "maybe", "<", "?", ">", "<REPLACE_NEW>", "completable", "source", "<REPLACE_END>", "<KEEP>", "resolve", "scope", "from", "lifecycle", "(", "observable", "<", "e", ">", "lifecycle", ",", "final", "e", "end", "event", ")", "{", "@", "nullable", "comparator", "<", "e", ">", "comparator", "=", "null", ";", "if", "(", "end", "event", "instanceof", "comparable", ")", "{", "comparator", "=", "(", "comparator", "<", "e", ">", ")", "comparable", "_", "comparator", ";", "}", "return", "resolve", "scope", "from", "lifecycle", "(", "lifecycle", ",", "end", "event", ",", "comparator", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> maybe <REPLACE_NEW> completable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "maybe", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "completable", "<REPLACE_NEW>", "source", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "observable", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "lifecycle", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "e", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "comparator", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "comparator", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", "instanceof", "<KEEP>", "comparable", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "comparator", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "comparator", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "comparable", "<KEEP>", "_", "<KEEP>", "comparator", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "lifecycle", "<KEEP>", ",", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ",", "<KEEP>", "comparator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9756671490218931, "using": 2, "keep": 1}
{"id": "weimingtom_rugl-4-5610", "old_comment": "the intersection of this range and r", "old_comment_tokens": ["the", "intersection", "of", "this", "range", "and", "r"], "new_comment": "true if the intersection exists", "new_comment_tokens": ["true", "if", "the", "intersection", "exists"], "old_code": "public range intersection ( range r ) { if ( intersects ( r ) ) { return new range ( math . max ( min , r . min ) , math . min ( max , r . max ) ) ; } return null ; }", "old_code_tokens": ["public", "range", "intersection", "(", "range", "r", ")", "{", "if", "(", "intersects", "(", "r", ")", ")", "{", "return", "new", "range", "(", "math", ".", "max", "(", "min", ",", "r", ".", "min", ")", ",", "math", ".", "min", "(", "max", ",", "r", ".", "max", ")", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public boolean intersection ( range r , range dest ) { if ( intersects ( r ) ) { dest . set ( math . max ( min , r . min ) , math . min ( max , r . max ) ) ; return true ; } return false ; }", "new_code_tokens": ["public", "boolean", "intersection", "(", "range", "r", ",", "range", "dest", ")", "{", "if", "(", "intersects", "(", "r", ")", ")", "{", "dest", ".", "set", "(", "math", ".", "max", "(", "min", ",", "r", ".", "min", ")", ",", "math", ".", "min", "(", "max", ",", "r", ".", "max", ")", ")", ";", "return", "true", ";", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> range <REPLACE_NEW> boolean <REPLACE_END> <KEEP> intersection ( range r <KEEP_END> <INSERT> , range dest <INSERT_END> <KEEP> ) { if ( intersects ( r ) ) { <KEEP_END> <REPLACE_OLD> return new range <REPLACE_NEW> dest . set <REPLACE_END> <KEEP> ( math . max ( min , r . min ) , math . min ( max , r . max ) ) ; <KEEP_END> <INSERT> return true ; <INSERT_END> <KEEP> } return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "range", "<REPLACE_NEW>", "boolean", "<REPLACE_END>", "<KEEP>", "intersection", "(", "range", "r", "<KEEP_END>", "<INSERT>", ",", "range", "dest", "<INSERT_END>", "<KEEP>", ")", "{", "if", "(", "intersects", "(", "r", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "new", "range", "<REPLACE_NEW>", "dest", ".", "set", "<REPLACE_END>", "<KEEP>", "(", "math", ".", "max", "(", "min", ",", "r", ".", "min", ")", ",", "math", ".", "min", "(", "max", ",", "r", ".", "max", ")", ")", ";", "<KEEP_END>", "<INSERT>", "return", "true", ";", "<INSERT_END>", "<KEEP>", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the <INSERT_NEW_KEEP_AFTER> true if the <INSERT_END> <REPLACE_OLD> of this range and r <REPLACE_NEW> exists <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "<INSERT_NEW_KEEP_AFTER>", "true", "if", "the", "<INSERT_END>", "<REPLACE_OLD>", "of", "this", "range", "and", "r", "<REPLACE_NEW>", "exists", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "range", "<REPLACE_NEW>", "boolean", "<KEEP>", "intersection", "<KEEP>", "(", "<KEEP>", "range", "<KEEP>", "r", "<INSERT>", ",", "<INSERT>", "range", "<INSERT>", "dest", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "intersects", "<KEEP>", "(", "<KEEP>", "r", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "range", "<REPLACE_NEW>", "dest", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<KEEP>", "(", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<KEEP>", "min", "<KEEP>", ",", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "min", "<KEEP>", "(", "<KEEP>", "max", "<KEEP>", ",", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.832553237460689, "using": 2, "keep": 1}
{"id": "ronmamo_reflections-1-3662", "old_comment": "the set of urls , not null", "old_comment_tokens": ["the", "set", "of", "urls", ",", "not", "null"], "new_comment": "the collection of urls , not null", "new_comment_tokens": ["the", "collection", "of", "urls", ",", "not", "null"], "old_code": "public static set < url > for java class path ( ) { set < url > urls = sets . new linked hash set ( ) ; string java class path = system . get property ( str ) ; if ( java class path ! = null ) { for ( string path : java class path . split ( file . path separator ) ) { try { urls . add ( new file ( path ) . to uri ( ) . to url ( ) ) ; } catch ( exception e ) { e . print stack trace ( ) ; } } } return urls ; }", "old_code_tokens": ["public", "static", "set", "<", "url", ">", "for", "java", "class", "path", "(", ")", "{", "set", "<", "url", ">", "urls", "=", "sets", ".", "new", "linked", "hash", "set", "(", ")", ";", "string", "java", "class", "path", "=", "system", ".", "get", "property", "(", "str", ")", ";", "if", "(", "java", "class", "path", "!", "=", "null", ")", "{", "for", "(", "string", "path", ":", "java", "class", "path", ".", "split", "(", "file", ".", "path", "separator", ")", ")", "{", "try", "{", "urls", ".", "add", "(", "new", "file", "(", "path", ")", ".", "to", "uri", "(", ")", ".", "to", "url", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "}", "}", "return", "urls", ";", "}"], "new_code": "public static collection < url > for java class path ( ) { collection < url > urls = new array list < url > ( ) ; string java class path = system . get property ( str ) ; if ( java class path ! = null ) { for ( string path : java class path . split ( file . path separator ) ) { try { urls . add ( new file ( path ) . to uri ( ) . to url ( ) ) ; } catch ( exception e ) { e . print stack trace ( ) ; } } } return distinct urls ( urls ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "url", ">", "for", "java", "class", "path", "(", ")", "{", "collection", "<", "url", ">", "urls", "=", "new", "array", "list", "<", "url", ">", "(", ")", ";", "string", "java", "class", "path", "=", "system", ".", "get", "property", "(", "str", ")", ";", "if", "(", "java", "class", "path", "!", "=", "null", ")", "{", "for", "(", "string", "path", ":", "java", "class", "path", ".", "split", "(", "file", ".", "path", "separator", ")", ")", "{", "try", "{", "urls", ".", "add", "(", "new", "file", "(", "path", ")", ".", "to", "uri", "(", ")", ".", "to", "url", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "}", "}", "return", "distinct", "urls", "(", "urls", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > for java class path ( ) { <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END> <KEEP> < url > urls = <KEEP_END> <DELETE> sets . <DELETE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> linked hash set <REPLACE_NEW> array list < url > <REPLACE_END> <KEEP> ( ) ; string java class path = system . get property ( str ) ; if ( java class path ! = null ) { for ( string path : java class path . split ( file . path separator ) ) { try { urls . add ( new file ( path ) . to uri ( ) . to url ( ) ) ; } catch ( exception e ) { e . print stack trace ( ) ; } } } return <KEEP_END> <INSERT> distinct <INSERT_END> <KEEP> urls <KEEP_END> <INSERT> ( urls ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "for", "java", "class", "path", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "url", ">", "urls", "=", "<KEEP_END>", "<DELETE>", "sets", ".", "<DELETE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "linked", "hash", "set", "<REPLACE_NEW>", "array", "list", "<", "url", ">", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "string", "java", "class", "path", "=", "system", ".", "get", "property", "(", "str", ")", ";", "if", "(", "java", "class", "path", "!", "=", "null", ")", "{", "for", "(", "string", "path", ":", "java", "class", "path", ".", "split", "(", "file", ".", "path", "separator", ")", ")", "{", "try", "{", "urls", ".", "add", "(", "new", "file", "(", "path", ")", ".", "to", "uri", "(", ")", ".", "to", "url", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "}", "}", "return", "<KEEP_END>", "<INSERT>", "distinct", "<INSERT_END>", "<KEEP>", "urls", "<KEEP_END>", "<INSERT>", "(", "urls", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "for", "<KEEP>", "java", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "url", "<KEEP>", ">", "<KEEP>", "urls", "<KEEP>", "=", "<DELETE>", "sets", "<DELETE>", ".", "<KEEP>", "new", "<REPLACE_OLD>", "linked", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "java", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "java", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "path", "<KEEP>", ":", "<KEEP>", "java", "<KEEP>", "class", "<KEEP>", "path", "<KEEP>", ".", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "path", "<KEEP>", "separator", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "urls", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "distinct", "<KEEP>", "urls", "<INSERT>", "(", "<INSERT>", "urls", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9846866359053373, "using": 2, "keep": 1}
{"id": "igorw_septopus-0-6369", "old_comment": "selected entry", "old_comment_tokens": ["selected", "entry"], "new_comment": "selected word", "new_comment_tokens": ["selected", "word"], "old_code": "public entry get ( int index ) { return words . get ( index ) ; }", "old_code_tokens": ["public", "entry", "get", "(", "int", "index", ")", "{", "return", "words", ".", "get", "(", "index", ")", ";", "}"], "new_code": "public word get ( int index ) { return words . get ( index ) ; }", "new_code_tokens": ["public", "word", "get", "(", "int", "index", ")", "{", "return", "words", ".", "get", "(", "index", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> entry <REPLACE_NEW> word <REPLACE_END> <KEEP> get ( int index ) { return words . get ( index ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "word", "<REPLACE_END>", "<KEEP>", "get", "(", "int", "index", ")", "{", "return", "words", ".", "get", "(", "index", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> entry <REPLACE_NEW> word <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "word", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "word", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "words", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9755888973296265, "using": 2, "keep": 1}
{"id": "abstractj_dbus-java-0-4966", "old_comment": "a dbus error message , or null if no error is pending .", "old_comment_tokens": ["a", "dbus", "error", "message", ",", "or", "null", "if", "no", "error", "is", "pending", "."], "new_comment": "a dbus execution exception , or null if no error is pending .", "new_comment_tokens": ["a", "dbus", "execution", "exception", ",", "or", "null", "if", "no", "error", "is", "pending", "."], "old_code": "public dbus error message get error ( ) { synchronized ( pending errors ) { if ( pending errors . size ( ) = = num ) return null ; else return pending errors . remove first ( ) ; } }", "old_code_tokens": ["public", "dbus", "error", "message", "get", "error", "(", ")", "{", "synchronized", "(", "pending", "errors", ")", "{", "if", "(", "pending", "errors", ".", "size", "(", ")", "=", "=", "num", ")", "return", "null", ";", "else", "return", "pending", "errors", ".", "remove", "first", "(", ")", ";", "}", "}"], "new_code": "public dbus execution exception get error ( ) { synchronized ( pending errors ) { if ( pending errors . size ( ) = = num ) return null ; else return pending errors . remove first ( ) . get exception ( ) ; } }", "new_code_tokens": ["public", "dbus", "execution", "exception", "get", "error", "(", ")", "{", "synchronized", "(", "pending", "errors", ")", "{", "if", "(", "pending", "errors", ".", "size", "(", ")", "=", "=", "num", ")", "return", "null", ";", "else", "return", "pending", "errors", ".", "remove", "first", "(", ")", ".", "get", "exception", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public dbus <KEEP_END> <REPLACE_OLD> error message <REPLACE_NEW> execution exception <REPLACE_END> <KEEP> get error ( ) { synchronized ( pending errors ) { if ( pending errors . size ( ) = = num ) return null ; else return pending errors . remove first ( ) <KEEP_END> <INSERT> . get exception ( ) <INSERT_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "dbus", "<KEEP_END>", "<REPLACE_OLD>", "error", "message", "<REPLACE_NEW>", "execution", "exception", "<REPLACE_END>", "<KEEP>", "get", "error", "(", ")", "{", "synchronized", "(", "pending", "errors", ")", "{", "if", "(", "pending", "errors", ".", "size", "(", ")", "=", "=", "num", ")", "return", "null", ";", "else", "return", "pending", "errors", ".", "remove", "first", "(", ")", "<KEEP_END>", "<INSERT>", ".", "get", "exception", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> error message <REPLACE_NEW> execution exception <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "error", "message", "<REPLACE_NEW>", "execution", "exception", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "dbus", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "message", "<REPLACE_NEW>", "execution", "<REPLACE_NEW>", "exception", "<KEEP>", "get", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "pending", "<KEEP>", "errors", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "pending", "<KEEP>", "errors", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "return", "<KEEP>", "pending", "<KEEP>", "errors", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9840516241624943, "using": 2, "keep": 1}
{"id": "apache_aurora-65-6465", "old_comment": "true if the query specifies at least a role and job name , otherwise false .", "old_comment_tokens": ["true", "if", "the", "query", "specifies", "at", "least", "a", "role", "and", "job", "name", ",", "otherwise", "false", "."], "new_comment": "true if the query specifies at least one job key , otherwise false .", "new_comment_tokens": ["true", "if", "the", "query", "specifies", "at", "least", "one", "job", "key", ",", "otherwise", "false", "."], "old_code": "public static boolean is job scoped ( builder task query ) { task query query = task query . get ( ) ; return ( query . get owner ( ) ! = null ) & & ! is empty ( query . get owner ( ) . get role ( ) ) & & ! is empty ( query . get environment ( ) ) & & ! is empty ( query . get job name ( ) ) ; }", "old_code_tokens": ["public", "static", "boolean", "is", "job", "scoped", "(", "builder", "task", "query", ")", "{", "task", "query", "query", "=", "task", "query", ".", "get", "(", ")", ";", "return", "(", "query", ".", "get", "owner", "(", ")", "!", "=", "null", ")", "&", "&", "!", "is", "empty", "(", "query", ".", "get", "owner", "(", ")", ".", "get", "role", "(", ")", ")", "&", "&", "!", "is", "empty", "(", "query", ".", "get", "environment", "(", ")", ")", "&", "&", "!", "is", "empty", "(", "query", ".", "get", "job", "name", "(", ")", ")", ";", "}"], "new_code": "public static boolean is job scoped ( builder task query ) { task query q = task query . get ( ) ; return ( q . is set owner ( ) & & q . get owner ( ) . is set role ( ) & & q . is set environment ( ) & & q . is set job name ( ) ) | | q . is set job keys ( ) ; }", "new_code_tokens": ["public", "static", "boolean", "is", "job", "scoped", "(", "builder", "task", "query", ")", "{", "task", "query", "q", "=", "task", "query", ".", "get", "(", ")", ";", "return", "(", "q", ".", "is", "set", "owner", "(", ")", "&", "&", "q", ".", "get", "owner", "(", ")", ".", "is", "set", "role", "(", ")", "&", "&", "q", ".", "is", "set", "environment", "(", ")", "&", "&", "q", ".", "is", "set", "job", "name", "(", ")", ")", "|", "|", "q", ".", "is", "set", "job", "keys", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean is job scoped ( builder task query ) { task query <KEEP_END> <REPLACE_OLD> query <REPLACE_NEW> q <REPLACE_END> <KEEP> = task query . get ( ) ; return ( <KEEP_END> <REPLACE_OLD> query <REPLACE_NEW> q <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> is set <REPLACE_END> <KEEP> owner ( ) <KEEP_END> <DELETE> ! = null ) <DELETE_END> <KEEP> & & <KEEP_END> <REPLACE_OLD> ! is empty ( query <REPLACE_NEW> q <REPLACE_END> <KEEP> . get owner ( ) . <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> is set <REPLACE_END> <KEEP> role ( ) <KEEP_END> <INSERT> & & q . is set environment ( <INSERT_END> <KEEP> ) & & <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> q . <REPLACE_END> <KEEP> is <KEEP_END> <REPLACE_OLD> empty ( query . get environment ( ) ) & & ! is empty ( query . get <REPLACE_NEW> set <REPLACE_END> <KEEP> job name ( ) ) <KEEP_END> <INSERT> | | q . is set job keys ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "job", "scoped", "(", "builder", "task", "query", ")", "{", "task", "query", "<KEEP_END>", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "q", "<REPLACE_END>", "<KEEP>", "=", "task", "query", ".", "get", "(", ")", ";", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "q", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "is", "set", "<REPLACE_END>", "<KEEP>", "owner", "(", ")", "<KEEP_END>", "<DELETE>", "!", "=", "null", ")", "<DELETE_END>", "<KEEP>", "&", "&", "<KEEP_END>", "<REPLACE_OLD>", "!", "is", "empty", "(", "query", "<REPLACE_NEW>", "q", "<REPLACE_END>", "<KEEP>", ".", "get", "owner", "(", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "is", "set", "<REPLACE_END>", "<KEEP>", "role", "(", ")", "<KEEP_END>", "<INSERT>", "&", "&", "q", ".", "is", "set", "environment", "(", "<INSERT_END>", "<KEEP>", ")", "&", "&", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "q", ".", "<REPLACE_END>", "<KEEP>", "is", "<KEEP_END>", "<REPLACE_OLD>", "empty", "(", "query", ".", "get", "environment", "(", ")", ")", "&", "&", "!", "is", "empty", "(", "query", ".", "get", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "job", "name", "(", ")", ")", "<KEEP_END>", "<INSERT>", "|", "|", "q", ".", "is", "set", "job", "keys", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a role and <REPLACE_NEW> one <REPLACE_END> <REPLACE_OLD> name <REPLACE_NEW> key <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "role", "and", "<REPLACE_NEW>", "one", "<REPLACE_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "key", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "job", "<KEEP>", "scoped", "<KEEP>", "(", "<KEEP>", "builder", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "task", "<KEEP>", "query", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "q", "<KEEP>", "=", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "q", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "set", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<KEEP>", "&", "<KEEP>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "query", "<REPLACE_NEW>", "q", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "set", "<KEEP>", "role", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "q", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "set", "<INSERT>", "environment", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "q", "<REPLACE_NEW>", ".", "<KEEP>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "environment", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "set", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "q", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "set", "<INSERT>", "job", "<INSERT>", "keys", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9694842195548808, "using": 2, "keep": 1}
{"id": "google_gdata-java-client-258-4692", "old_comment": "the string value of a named property , or null if no such property exists", "old_comment_tokens": ["the", "string", "value", "of", "a", "named", "property", ",", "or", "null", "if", "no", "such", "property", "exists"], "new_comment": "string value of the named property or null if it doesn ' t exist", "new_comment_tokens": ["string", "value", "of", "the", "named", "property", "or", "null", "if", "it", "doesn", "'", "t", "exist"], "old_code": "public string get property ( string name ) { if ( ! has properties ( ) ) { return null ; } else { for ( property property : get properties ( ) ) { if ( property . get name ( ) . equals ignore case ( name ) ) { return property . get value ( ) ; } } return null ; } }", "old_code_tokens": ["public", "string", "get", "property", "(", "string", "name", ")", "{", "if", "(", "!", "has", "properties", "(", ")", ")", "{", "return", "null", ";", "}", "else", "{", "for", "(", "property", "property", ":", "get", "properties", "(", ")", ")", "{", "if", "(", "property", ".", "get", "name", "(", ")", ".", "equals", "ignore", "case", "(", "name", ")", ")", "{", "return", "property", ".", "get", "value", "(", ")", ";", "}", "}", "return", "null", ";", "}", "}"], "new_code": "public string get property ( string name ) { if ( has properties ( ) ) { for ( property property : get properties ( ) ) { if ( property . has name ( ) & & property . get name ( ) . equals ignore case ( name ) ) { return property . get value ( ) ; } } } return null ; }", "new_code_tokens": ["public", "string", "get", "property", "(", "string", "name", ")", "{", "if", "(", "has", "properties", "(", ")", ")", "{", "for", "(", "property", "property", ":", "get", "properties", "(", ")", ")", "{", "if", "(", "property", ".", "has", "name", "(", ")", "&", "&", "property", ".", "get", "name", "(", ")", ".", "equals", "ignore", "case", "(", "name", ")", ")", "{", "return", "property", ".", "get", "value", "(", ")", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public string get property ( string name ) { if ( <KEEP_END> <DELETE> ! <DELETE_END> <KEEP> has properties ( ) ) <KEEP_END> <DELETE> { return null ; } else <DELETE_END> <KEEP> { for ( property property : get properties ( ) ) { if ( <KEEP_END> <INSERT> property . has name ( ) & & <INSERT_END> <KEEP> property . get name ( ) . equals ignore case ( name ) ) { return property . get value ( ) ; } } <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return null ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "property", "(", "string", "name", ")", "{", "if", "(", "<KEEP_END>", "<DELETE>", "!", "<DELETE_END>", "<KEEP>", "has", "properties", "(", ")", ")", "<KEEP_END>", "<DELETE>", "{", "return", "null", ";", "}", "else", "<DELETE_END>", "<KEEP>", "{", "for", "(", "property", "property", ":", "get", "properties", "(", ")", ")", "{", "if", "(", "<KEEP_END>", "<INSERT>", "property", ".", "has", "name", "(", ")", "&", "&", "<INSERT_END>", "<KEEP>", "property", ".", "get", "name", "(", ")", ".", "equals", "ignore", "case", "(", "name", ")", ")", "{", "return", "property", ".", "get", "value", "(", ")", ";", "}", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "null", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> the <DELETE_END> <REPLACE_OLD> a <REPLACE_NEW> the <REPLACE_END> <DELETE> , <DELETE_END> <REPLACE_OLD> no such property exists <REPLACE_NEW> it doesn ' t exist <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "<DELETE_END>", "<REPLACE_OLD>", "a", "<REPLACE_NEW>", "the", "<REPLACE_END>", "<DELETE>", ",", "<DELETE_END>", "<REPLACE_OLD>", "no", "such", "property", "exists", "<REPLACE_NEW>", "it", "doesn", "'", "t", "exist", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "!", "<KEEP>", "has", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "property", "<KEEP>", "property", "<KEEP>", ":", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "property", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "&", "<INSERT>", "&", "<KEEP>", "property", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "property", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "valid", "score": 0.7929438030960666, "using": 0, "keep": 1}
{"id": "braintree_braintree_java-4-4095", "old_comment": "a paged collection .", "old_comment_tokens": ["a", "paged", "collection", "."], "new_comment": "a resource collection .", "new_comment_tokens": ["a", "resource", "collection", "."], "old_code": "public paged collection < transaction > search ( string query , int page number ) { string query string = new query string ( ) . append ( str , query ) . append ( str , page number ) . to string ( ) ; node wrapper response = http . get ( str + query string ) ; return new paged collection < transaction > ( new transaction pager ( this , query ) , response , transaction . class ) ; }", "old_code_tokens": ["public", "paged", "collection", "<", "transaction", ">", "search", "(", "string", "query", ",", "int", "page", "number", ")", "{", "string", "query", "string", "=", "new", "query", "string", "(", ")", ".", "append", "(", "str", ",", "query", ")", ".", "append", "(", "str", ",", "page", "number", ")", ".", "to", "string", "(", ")", ";", "node", "wrapper", "response", "=", "http", ".", "get", "(", "str", "+", "query", "string", ")", ";", "return", "new", "paged", "collection", "<", "transaction", ">", "(", "new", "transaction", "pager", "(", "this", ",", "query", ")", ",", "response", ",", "transaction", ".", "class", ")", ";", "}"], "new_code": "public resource collection < transaction > search ( string query , int page number ) { string query string = new query string ( ) . append ( str , query ) . append ( str , page number ) . to string ( ) ; node wrapper response = http . get ( str + query string ) ; return new resource collection < transaction > ( new transaction pager ( this , query ) , response , transaction . class ) ; }", "new_code_tokens": ["public", "resource", "collection", "<", "transaction", ">", "search", "(", "string", "query", ",", "int", "page", "number", ")", "{", "string", "query", "string", "=", "new", "query", "string", "(", ")", ".", "append", "(", "str", ",", "query", ")", ".", "append", "(", "str", ",", "page", "number", ")", ".", "to", "string", "(", ")", ";", "node", "wrapper", "response", "=", "http", ".", "get", "(", "str", "+", "query", "string", ")", ";", "return", "new", "resource", "collection", "<", "transaction", ">", "(", "new", "transaction", "pager", "(", "this", ",", "query", ")", ",", "response", ",", "transaction", ".", "class", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < transaction > search ( string query , int page number ) { string query string = new query string ( ) . append ( str , query ) . append ( str , page number ) . to string ( ) ; node wrapper response = http . get ( str + query string ) ; return new <KEEP_END> <REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END> <KEEP> collection < transaction > ( new transaction pager ( this , query ) , response , transaction . class ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "transaction", ">", "search", "(", "string", "query", ",", "int", "page", "number", ")", "{", "string", "query", "string", "=", "new", "query", "string", "(", ")", ".", "append", "(", "str", ",", "query", ")", ".", "append", "(", "str", ",", "page", "number", ")", ".", "to", "string", "(", ")", ";", "node", "wrapper", "response", "=", "http", ".", "get", "(", "str", "+", "query", "string", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>", "<KEEP>", "collection", "<", "transaction", ">", "(", "new", "transaction", "pager", "(", "this", ",", "query", ")", ",", "response", ",", "transaction", ".", "class", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> paged <REPLACE_NEW> resource <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "transaction", "<KEEP>", ">", "<KEEP>", "search", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "page", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "page", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "wrapper", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "http", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "paged", "<REPLACE_NEW>", "resource", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "transaction", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "transaction", "<KEEP>", "pager", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", ",", "<KEEP>", "transaction", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9960013525544514, "using": 2, "keep": 1}
{"id": "Netflix_zuul-3-744", "old_comment": "the zuul filter", "old_comment_tokens": ["the", "zuul", "filter"], "new_comment": "the izuul filter", "new_comment_tokens": ["the", "izuul", "filter"], "old_code": "public zuul filter get filter ( string s code , string s name ) throws exception { if ( filter check . get ( s name ) = = null ) { filter check . put if absent ( s name , s name ) ; if ( ! s code . equals ( filter class code . get ( s name ) ) ) { log . info ( str + s name ) ; filter registry . remove ( s name ) ; } } zuul filter filter = filter registry . get ( s name ) ; if ( filter = = null ) { class clazz = compiler . compile ( s code , s name ) ; if ( ! modifier . is abstract ( clazz . get modifiers ( ) ) ) { filter = ( zuul filter ) filter _ factory . new instance ( clazz ) ; } } return filter ; }", "old_code_tokens": ["public", "zuul", "filter", "get", "filter", "(", "string", "s", "code", ",", "string", "s", "name", ")", "throws", "exception", "{", "if", "(", "filter", "check", ".", "get", "(", "s", "name", ")", "=", "=", "null", ")", "{", "filter", "check", ".", "put", "if", "absent", "(", "s", "name", ",", "s", "name", ")", ";", "if", "(", "!", "s", "code", ".", "equals", "(", "filter", "class", "code", ".", "get", "(", "s", "name", ")", ")", ")", "{", "log", ".", "info", "(", "str", "+", "s", "name", ")", ";", "filter", "registry", ".", "remove", "(", "s", "name", ")", ";", "}", "}", "zuul", "filter", "filter", "=", "filter", "registry", ".", "get", "(", "s", "name", ")", ";", "if", "(", "filter", "=", "=", "null", ")", "{", "class", "clazz", "=", "compiler", ".", "compile", "(", "s", "code", ",", "s", "name", ")", ";", "if", "(", "!", "modifier", ".", "is", "abstract", "(", "clazz", ".", "get", "modifiers", "(", ")", ")", ")", "{", "filter", "=", "(", "zuul", "filter", ")", "filter", "_", "factory", ".", "new", "instance", "(", "clazz", ")", ";", "}", "}", "return", "filter", ";", "}"], "new_code": "public izuul filter get filter ( string s code , string s name ) throws exception { if ( filter check . get ( s name ) = = null ) { filter check . put if absent ( s name , s name ) ; if ( ! s code . equals ( filter class code . get ( s name ) ) ) { log . info ( str + s name ) ; filter registry . remove ( s name ) ; } } izuul filter filter = filter registry . get ( s name ) ; if ( filter = = null ) { class clazz = compiler . compile ( s code , s name ) ; if ( ! modifier . is abstract ( clazz . get modifiers ( ) ) ) { filter = filter _ factory . new instance ( clazz ) ; } } return filter ; }", "new_code_tokens": ["public", "izuul", "filter", "get", "filter", "(", "string", "s", "code", ",", "string", "s", "name", ")", "throws", "exception", "{", "if", "(", "filter", "check", ".", "get", "(", "s", "name", ")", "=", "=", "null", ")", "{", "filter", "check", ".", "put", "if", "absent", "(", "s", "name", ",", "s", "name", ")", ";", "if", "(", "!", "s", "code", ".", "equals", "(", "filter", "class", "code", ".", "get", "(", "s", "name", ")", ")", ")", "{", "log", ".", "info", "(", "str", "+", "s", "name", ")", ";", "filter", "registry", ".", "remove", "(", "s", "name", ")", ";", "}", "}", "izuul", "filter", "filter", "=", "filter", "registry", ".", "get", "(", "s", "name", ")", ";", "if", "(", "filter", "=", "=", "null", ")", "{", "class", "clazz", "=", "compiler", ".", "compile", "(", "s", "code", ",", "s", "name", ")", ";", "if", "(", "!", "modifier", ".", "is", "abstract", "(", "clazz", ".", "get", "modifiers", "(", ")", ")", ")", "{", "filter", "=", "filter", "_", "factory", ".", "new", "instance", "(", "clazz", ")", ";", "}", "}", "return", "filter", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> zuul <REPLACE_NEW> izuul <REPLACE_END> <KEEP> filter get filter ( string s code , string s name ) throws exception { if ( filter check . get ( s name ) = = null ) { filter check . put if absent ( s name , s name ) ; if ( ! s code . equals ( filter class code . get ( s name ) ) ) { log . info ( str + s name ) ; filter registry . remove ( s name ) ; } } <KEEP_END> <REPLACE_OLD> zuul <REPLACE_NEW> izuul <REPLACE_END> <KEEP> filter filter = filter registry . get ( s name ) ; if ( filter = = null ) { class clazz = compiler . compile ( s code , s name ) ; if ( ! modifier . is abstract ( clazz . get modifiers ( ) ) ) { filter = <KEEP_END> <DELETE> ( zuul filter ) <DELETE_END> <KEEP> filter _ factory . new instance ( clazz ) ; } } return filter ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "zuul", "<REPLACE_NEW>", "izuul", "<REPLACE_END>", "<KEEP>", "filter", "get", "filter", "(", "string", "s", "code", ",", "string", "s", "name", ")", "throws", "exception", "{", "if", "(", "filter", "check", ".", "get", "(", "s", "name", ")", "=", "=", "null", ")", "{", "filter", "check", ".", "put", "if", "absent", "(", "s", "name", ",", "s", "name", ")", ";", "if", "(", "!", "s", "code", ".", "equals", "(", "filter", "class", "code", ".", "get", "(", "s", "name", ")", ")", ")", "{", "log", ".", "info", "(", "str", "+", "s", "name", ")", ";", "filter", "registry", ".", "remove", "(", "s", "name", ")", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "zuul", "<REPLACE_NEW>", "izuul", "<REPLACE_END>", "<KEEP>", "filter", "filter", "=", "filter", "registry", ".", "get", "(", "s", "name", ")", ";", "if", "(", "filter", "=", "=", "null", ")", "{", "class", "clazz", "=", "compiler", ".", "compile", "(", "s", "code", ",", "s", "name", ")", ";", "if", "(", "!", "modifier", ".", "is", "abstract", "(", "clazz", ".", "get", "modifiers", "(", ")", ")", ")", "{", "filter", "=", "<KEEP_END>", "<DELETE>", "(", "zuul", "filter", ")", "<DELETE_END>", "<KEEP>", "filter", "_", "factory", ".", "new", "instance", "(", "clazz", ")", ";", "}", "}", "return", "filter", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> zuul <REPLACE_NEW> izuul <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "zuul", "<REPLACE_NEW>", "izuul", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "zuul", "<REPLACE_NEW>", "izuul", "<KEEP>", "filter", "<KEEP>", "get", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "s", "<KEEP>", "code", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "filter", "<KEEP>", "check", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "filter", "<KEEP>", "check", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "if", "<KEEP>", "absent", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "s", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "filter", "<KEEP>", "class", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "filter", "<KEEP>", "registry", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "zuul", "<REPLACE_NEW>", "izuul", "<KEEP>", "filter", "<KEEP>", "filter", "<KEEP>", "=", "<KEEP>", "filter", "<KEEP>", "registry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "filter", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "clazz", "<KEEP>", "=", "<KEEP>", "compiler", "<KEEP>", ".", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", "code", "<KEEP>", ",", "<KEEP>", "s", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "modifier", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "abstract", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "modifiers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "filter", "<KEEP>", "=", "<DELETE>", "(", "<DELETE>", "zuul", "<DELETE>", "filter", "<DELETE>", ")", "<KEEP>", "filter", "<KEEP>", "_", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "filter", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9595149696071198, "using": 2, "keep": 1}
{"id": "Netflix_zuul-4-745", "old_comment": "the cloned content data .", "old_comment_tokens": ["the", "cloned", "content", "data", "."], "new_comment": "the request body data .", "new_comment_tokens": ["the", "request", "body", "data", "."], "old_code": "public byte [ ] get content data ( ) { return content data . clone ( ) ; }", "old_code_tokens": ["public", "byte", "[", "]", "get", "content", "data", "(", ")", "{", "return", "content", "data", ".", "clone", "(", ")", ";", "}"], "new_code": "public byte [ ] get content data ( ) { return content data ; }", "new_code_tokens": ["public", "byte", "[", "]", "get", "content", "data", "(", ")", "{", "return", "content", "data", ";", "}"], "span_diff_code": "<KEEP> public byte [ ] get content data ( ) { return content data <KEEP_END> <DELETE> . clone ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "byte", "[", "]", "get", "content", "data", "(", ")", "{", "return", "content", "data", "<KEEP_END>", "<DELETE>", ".", "clone", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> cloned content <REPLACE_NEW> request body <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "cloned", "content", "<REPLACE_NEW>", "request", "body", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "content", "<KEEP>", "data", "<DELETE>", ".", "<DELETE>", "clone", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.872049943689128, "using": 1, "keep": 1}
{"id": "eclipse_eclipse.platform.text-1-4963", "old_comment": "the selected working set or null if the scope is not working _ set _ scope", "old_comment_tokens": ["the", "selected", "working", "set", "or", "null", "if", "the", "scope", "is", "not", "working", "_", "set", "_", "scope"], "new_comment": "the selected working set or null - if the scope is not working _ set _ scope - if there is no working set selected", "new_comment_tokens": ["the", "selected", "working", "set", "or", "null", "-", "if", "the", "scope", "is", "not", "working", "_", "set", "_", "scope", "-", "if", "there", "is", "no", "working", "set", "selected"], "old_code": "public iworking set get selected working set ( ) { if ( get selected scope ( ) = = working _ set _ scope ) { return new iworking set ( ) { public string get name ( ) { return str ; } public iresource [ ] get resources ( ) { return new iresource [ num ] ; } } ; } else return null ; }", "old_code_tokens": ["public", "iworking", "set", "get", "selected", "working", "set", "(", ")", "{", "if", "(", "get", "selected", "scope", "(", ")", "=", "=", "working", "_", "set", "_", "scope", ")", "{", "return", "new", "iworking", "set", "(", ")", "{", "public", "string", "get", "name", "(", ")", "{", "return", "str", ";", "}", "public", "iresource", "[", "]", "get", "resources", "(", ")", "{", "return", "new", "iresource", "[", "num", "]", ";", "}", "}", ";", "}", "else", "return", "null", ";", "}"], "new_code": "public iworking set get selected working set ( ) { if ( get selected scope ( ) = = working _ set _ scope ) return f working set ; else return null ; }", "new_code_tokens": ["public", "iworking", "set", "get", "selected", "working", "set", "(", ")", "{", "if", "(", "get", "selected", "scope", "(", ")", "=", "=", "working", "_", "set", "_", "scope", ")", "return", "f", "working", "set", ";", "else", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public iworking set get selected working set ( ) { if ( get selected scope ( ) = = working _ set _ scope ) <KEEP_END> <DELETE> { <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> new iworking <REPLACE_NEW> f working <REPLACE_END> <KEEP> set <KEEP_END> <DELETE> ( ) { public string get name ( ) { return str <DELETE_END> <KEEP> ; <KEEP_END> <DELETE> } public iresource [ ] get resources ( ) { return new iresource [ num ] ; } } ; } <DELETE_END> <KEEP> else return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iworking", "set", "get", "selected", "working", "set", "(", ")", "{", "if", "(", "get", "selected", "scope", "(", ")", "=", "=", "working", "_", "set", "_", "scope", ")", "<KEEP_END>", "<DELETE>", "{", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "iworking", "<REPLACE_NEW>", "f", "working", "<REPLACE_END>", "<KEEP>", "set", "<KEEP_END>", "<DELETE>", "(", ")", "{", "public", "string", "get", "name", "(", ")", "{", "return", "str", "<DELETE_END>", "<KEEP>", ";", "<KEEP_END>", "<DELETE>", "}", "public", "iresource", "[", "]", "get", "resources", "(", ")", "{", "return", "new", "iresource", "[", "num", "]", ";", "}", "}", ";", "}", "<DELETE_END>", "<KEEP>", "else", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> null <INSERT_NEW_KEEP_BEFORE> null - <INSERT_END> <INSERT_OLD_KEEP_BEFORE> _ scope <INSERT_NEW_KEEP_BEFORE> _ scope - if there is no working set selected <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "null", "<INSERT_NEW_KEEP_BEFORE>", "null", "-", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "_", "scope", "<INSERT_NEW_KEEP_BEFORE>", "_", "scope", "-", "if", "there", "is", "no", "working", "set", "selected", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iworking", "<KEEP>", "set", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "working", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "scope", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "working", "<KEEP>", "_", "<KEEP>", "set", "<KEEP>", "_", "<KEEP>", "scope", "<KEEP>", ")", "<DELETE>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "iworking", "<REPLACE_NEW>", "f", "<REPLACE_NEW>", "working", "<KEEP>", "set", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "public", "<DELETE>", "string", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "str", "<KEEP>", ";", "<DELETE>", "}", "<DELETE>", "public", "<DELETE>", "iresource", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "get", "<DELETE>", "resources", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "iresource", "<DELETE>", "[", "<DELETE>", "num", "<DELETE>", "]", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "else", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9089779767597346, "using": 0, "keep": 1}
{"id": "UnimibSoftEngCourse1516_lab4-es1-v.popescu2-3-4143", "old_comment": "a float [ ]", "old_comment_tokens": ["a", "float", "[", "]"], "new_comment": "the center of the canopy", "new_comment_tokens": ["the", "center", "of", "the", "canopy"], "old_code": "public float [ ] get center ( ) { return center ; }", "old_code_tokens": ["public", "float", "[", "]", "get", "center", "(", ")", "{", "return", "center", ";", "}"], "new_code": "public vector get center ( ) { return center ; }", "new_code_tokens": ["public", "vector", "get", "center", "(", ")", "{", "return", "center", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> float [ ] <REPLACE_NEW> vector <REPLACE_END> <KEEP> get center ( ) { return center ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "float", "[", "]", "<REPLACE_NEW>", "vector", "<REPLACE_END>", "<KEEP>", "get", "center", "(", ")", "{", "return", "center", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a float [ ] <REPLACE_NEW> the center of the canopy <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "float", "[", "]", "<REPLACE_NEW>", "the", "center", "of", "the", "canopy", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "vector", "<KEEP>", "get", "<KEEP>", "center", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "center", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7848983017588993, "using": 1, "keep": 1}
{"id": "alipay_sofa-rpc-1-2419", "old_comment": "context rpc context", "old_comment_tokens": ["context", "rpc", "context"], "new_comment": "old value", "new_comment_tokens": ["old", "value"], "old_code": "public rpc internal context remove attachment ( string key ) { attachments . remove ( key ) ; return this ; }", "old_code_tokens": ["public", "rpc", "internal", "context", "remove", "attachment", "(", "string", "key", ")", "{", "attachments", ".", "remove", "(", "key", ")", ";", "return", "this", ";", "}"], "new_code": "public object remove attachment ( string key ) { return attachments . remove ( key ) ; }", "new_code_tokens": ["public", "object", "remove", "attachment", "(", "string", "key", ")", "{", "return", "attachments", ".", "remove", "(", "key", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> rpc internal context <REPLACE_NEW> object <REPLACE_END> <KEEP> remove attachment ( string key ) { <KEEP_END> <INSERT> return <INSERT_END> <KEEP> attachments . remove ( key ) ; <KEEP_END> <DELETE> return this ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "rpc", "internal", "context", "<REPLACE_NEW>", "object", "<REPLACE_END>", "<KEEP>", "remove", "attachment", "(", "string", "key", ")", "{", "<KEEP_END>", "<INSERT>", "return", "<INSERT_END>", "<KEEP>", "attachments", ".", "remove", "(", "key", ")", ";", "<KEEP_END>", "<DELETE>", "return", "this", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> context rpc context <REPLACE_NEW> old value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "context", "rpc", "context", "<REPLACE_NEW>", "old", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "rpc", "<REPLACE_OLD>", "internal", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "object", "<KEEP>", "remove", "<KEEP>", "attachment", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "return", "<KEEP>", "attachments", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "this", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8356455492223267, "using": 1, "keep": 1}
{"id": "nickman_apmrouter-88-4121", "old_comment": "the in - vm tracer or null if it could not be loaded ( perhaps because we ' re not on the server ? )", "old_comment_tokens": ["the", "in", "-", "vm", "tracer", "or", "null", "if", "it", "could", "not", "be", "loaded", "(", "perhaps", "because", "we", "'", "re", "not", "on", "the", "server", "?", ")"], "new_comment": "the in - vm tracer factory or null if it could not be loaded ( perhaps because we ' re not on the server ? )", "new_comment_tokens": ["the", "in", "-", "vm", "tracer", "factory", "or", "null", "if", "it", "could", "not", "be", "loaded", "(", "perhaps", "because", "we", "'", "re", "not", "on", "the", "server", "?", ")"], "old_code": "protected static itracer check for server tracer ( ) { itracer tracer = null ; try { class < ? > clazz = class . for name ( server _ tracer _ name ) ; method meth = clazz . get declared method ( str ) ; itracer factory itf = ( itracer factory ) meth . invoke ( null ) ; return itf . get tracer ( ) ; } catch ( exception ex ) { tracer = null ; } return tracer ; }", "old_code_tokens": ["protected", "static", "itracer", "check", "for", "server", "tracer", "(", ")", "{", "itracer", "tracer", "=", "null", ";", "try", "{", "class", "<", "?", ">", "clazz", "=", "class", ".", "for", "name", "(", "server", "_", "tracer", "_", "name", ")", ";", "method", "meth", "=", "clazz", ".", "get", "declared", "method", "(", "str", ")", ";", "itracer", "factory", "itf", "=", "(", "itracer", "factory", ")", "meth", ".", "invoke", "(", "null", ")", ";", "return", "itf", ".", "get", "tracer", "(", ")", ";", "}", "catch", "(", "exception", "ex", ")", "{", "tracer", "=", "null", ";", "}", "return", "tracer", ";", "}"], "new_code": "protected static itracer factory check for server tracer ( ) { try { class < ? > clazz = class . for name ( server _ tracer _ name ) ; method meth = clazz . get declared method ( str ) ; itracer factory itf = ( itracer factory ) meth . invoke ( null ) ; return itf ; } catch ( exception ex ) { return null ; } }", "new_code_tokens": ["protected", "static", "itracer", "factory", "check", "for", "server", "tracer", "(", ")", "{", "try", "{", "class", "<", "?", ">", "clazz", "=", "class", ".", "for", "name", "(", "server", "_", "tracer", "_", "name", ")", ";", "method", "meth", "=", "clazz", ".", "get", "declared", "method", "(", "str", ")", ";", "itracer", "factory", "itf", "=", "(", "itracer", "factory", ")", "meth", ".", "invoke", "(", "null", ")", ";", "return", "itf", ";", "}", "catch", "(", "exception", "ex", ")", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> protected static itracer <KEEP_END> <INSERT> factory <INSERT_END> <KEEP> check for server tracer ( ) { <KEEP_END> <DELETE> itracer tracer = null ; <DELETE_END> <KEEP> try { class < ? > clazz = class . for name ( server _ tracer _ name ) ; method meth = clazz . get declared method ( str ) ; itracer factory itf = ( itracer factory ) meth . invoke ( null ) ; return itf <KEEP_END> <DELETE> . get tracer ( ) <DELETE_END> <KEEP> ; } catch ( exception ex ) { <KEEP_END> <REPLACE_OLD> tracer = <REPLACE_NEW> return <REPLACE_END> <KEEP> null ; } <KEEP_END> <DELETE> return tracer ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "static", "itracer", "<KEEP_END>", "<INSERT>", "factory", "<INSERT_END>", "<KEEP>", "check", "for", "server", "tracer", "(", ")", "{", "<KEEP_END>", "<DELETE>", "itracer", "tracer", "=", "null", ";", "<DELETE_END>", "<KEEP>", "try", "{", "class", "<", "?", ">", "clazz", "=", "class", ".", "for", "name", "(", "server", "_", "tracer", "_", "name", ")", ";", "method", "meth", "=", "clazz", ".", "get", "declared", "method", "(", "str", ")", ";", "itracer", "factory", "itf", "=", "(", "itracer", "factory", ")", "meth", ".", "invoke", "(", "null", ")", ";", "return", "itf", "<KEEP_END>", "<DELETE>", ".", "get", "tracer", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "catch", "(", "exception", "ex", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "tracer", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "null", ";", "}", "<KEEP_END>", "<DELETE>", "return", "tracer", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> tracer <INSERT_NEW_KEEP_BEFORE> tracer factory <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "tracer", "<INSERT_NEW_KEEP_BEFORE>", "tracer", "factory", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "static", "<KEEP>", "itracer", "<INSERT>", "factory", "<KEEP>", "check", "<KEEP>", "for", "<KEEP>", "server", "<KEEP>", "tracer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "itracer", "<DELETE>", "tracer", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "clazz", "<KEEP>", "=", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "for", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "server", "<KEEP>", "_", "<KEEP>", "tracer", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "method", "<KEEP>", "meth", "<KEEP>", "=", "<KEEP>", "clazz", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "declared", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "itracer", "<KEEP>", "factory", "<KEEP>", "itf", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "itracer", "<KEEP>", "factory", "<KEEP>", ")", "<KEEP>", "meth", "<KEEP>", ".", "<KEEP>", "invoke", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "itf", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "tracer", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "tracer", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "tracer", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9933932957442524, "using": 2, "keep": 1}
{"id": "graphhopper_graphhopper-17-3108", "old_comment": "the new storage", "old_comment_tokens": ["the", "new", "storage"], "new_comment": "the graph out graph", "new_comment_tokens": ["the", "graph", "out", "graph"], "old_code": "public static graph clone ( graph graph ) { return clone ( graph , guess storage ( graph , new ramdirectory ( ) , null ) ) ; }", "old_code_tokens": ["public", "static", "graph", "clone", "(", "graph", "graph", ")", "{", "return", "clone", "(", "graph", ",", "guess", "storage", "(", "graph", ",", "new", "ramdirectory", "(", ")", ",", "null", ")", ")", ";", "}"], "new_code": "public static graph clone ( graph g , graph storage out graph ) { return g . copy to ( out graph . create ( g . nodes ( ) ) ) ; }", "new_code_tokens": ["public", "static", "graph", "clone", "(", "graph", "g", ",", "graph", "storage", "out", "graph", ")", "{", "return", "g", ".", "copy", "to", "(", "out", "graph", ".", "create", "(", "g", ".", "nodes", "(", ")", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static graph clone ( graph <KEEP_END> <INSERT> g , graph storage out <INSERT_END> <KEEP> graph ) { return <KEEP_END> <REPLACE_OLD> clone <REPLACE_NEW> g . copy to <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> out <INSERT_END> <KEEP> graph <KEEP_END> <REPLACE_OLD> , guess storage <REPLACE_NEW> . create <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> graph , new ramdirectory <REPLACE_NEW> g . nodes <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> , null <DELETE_END> <KEEP> ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "graph", "clone", "(", "graph", "<KEEP_END>", "<INSERT>", "g", ",", "graph", "storage", "out", "<INSERT_END>", "<KEEP>", "graph", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "clone", "<REPLACE_NEW>", "g", ".", "copy", "to", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "out", "<INSERT_END>", "<KEEP>", "graph", "<KEEP_END>", "<REPLACE_OLD>", ",", "guess", "storage", "<REPLACE_NEW>", ".", "create", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "graph", ",", "new", "ramdirectory", "<REPLACE_NEW>", "g", ".", "nodes", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ",", "null", "<DELETE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> new storage <REPLACE_NEW> graph out graph <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "new", "storage", "<REPLACE_NEW>", "graph", "out", "graph", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "graph", "<KEEP>", "clone", "<KEEP>", "(", "<KEEP>", "graph", "<INSERT>", "g", "<INSERT>", ",", "<INSERT>", "graph", "<INSERT>", "storage", "<INSERT>", "out", "<KEEP>", "graph", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "clone", "<REPLACE_NEW>", "g", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "copy", "<REPLACE_NEW>", "to", "<KEEP>", "(", "<INSERT>", "out", "<KEEP>", "graph", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "guess", "<REPLACE_OLD>", "storage", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<KEEP>", "(", "<REPLACE_OLD>", "graph", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "ramdirectory", "<REPLACE_NEW>", "g", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "nodes", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ",", "<DELETE>", "null", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9145023494602688, "using": 2, "keep": 1}
{"id": "icco_GooGrade-23-7213", "old_comment": "the student", "old_comment_tokens": ["the", "student"], "new_comment": "the student id", "new_comment_tokens": ["the", "student", "id"], "old_code": "public student get student ( ) { return student ; }", "old_code_tokens": ["public", "student", "get", "student", "(", ")", "{", "return", "student", ";", "}"], "new_code": "public int get student ( ) { return student ; }", "new_code_tokens": ["public", "int", "get", "student", "(", ")", "{", "return", "student", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> student <REPLACE_NEW> int <REPLACE_END> <KEEP> get student ( ) { return student ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "student", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "student", "(", ")", "{", "return", "student", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> student <INSERT_NEW_KEEP_BEFORE> student id <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "student", "<INSERT_NEW_KEEP_BEFORE>", "student", "id", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "student", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "student", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "student", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8321622252795147, "using": 1, "keep": 1}
{"id": "mockito_mockito-12-3657", "old_comment": "mockito generic metadata representing this generic return type .", "old_comment_tokens": ["mockito", "generic", "metadata", "representing", "this", "generic", "return", "type", "."], "new_comment": "generic metadata support representing this generic return type .", "new_comment_tokens": ["generic", "metadata", "support", "representing", "this", "generic", "return", "type", "."], "old_code": "public mockito generic metadata resolve generic return type ( method method ) { type generic return type = method . get generic return type ( ) ; if ( generic return type instanceof class ) { return new not generic return type ( generic return type ) ; } if ( generic return type instanceof parameterized type ) { return new parameterized return type ( this , method . get type parameters ( ) , ( parameterized type ) method . get generic return type ( ) ) ; } if ( generic return type instanceof type variable ) { return new type variable return type ( this , method . get type parameters ( ) , ( type variable ) generic return type ) ; } throw new mockito exception ( str + generic return type . get class ( ) . get canonical name ( ) + str + method . to generic string ( ) + str + generic return type ) ; }", "old_code_tokens": ["public", "mockito", "generic", "metadata", "resolve", "generic", "return", "type", "(", "method", "method", ")", "{", "type", "generic", "return", "type", "=", "method", ".", "get", "generic", "return", "type", "(", ")", ";", "if", "(", "generic", "return", "type", "instanceof", "class", ")", "{", "return", "new", "not", "generic", "return", "type", "(", "generic", "return", "type", ")", ";", "}", "if", "(", "generic", "return", "type", "instanceof", "parameterized", "type", ")", "{", "return", "new", "parameterized", "return", "type", "(", "this", ",", "method", ".", "get", "type", "parameters", "(", ")", ",", "(", "parameterized", "type", ")", "method", ".", "get", "generic", "return", "type", "(", ")", ")", ";", "}", "if", "(", "generic", "return", "type", "instanceof", "type", "variable", ")", "{", "return", "new", "type", "variable", "return", "type", "(", "this", ",", "method", ".", "get", "type", "parameters", "(", ")", ",", "(", "type", "variable", ")", "generic", "return", "type", ")", ";", "}", "throw", "new", "mockito", "exception", "(", "str", "+", "generic", "return", "type", ".", "get", "class", "(", ")", ".", "get", "canonical", "name", "(", ")", "+", "str", "+", "method", ".", "to", "generic", "string", "(", ")", "+", "str", "+", "generic", "return", "type", ")", ";", "}"], "new_code": "public generic metadata support resolve generic return type ( method method ) { type generic return type = method . get generic return type ( ) ; if ( generic return type instanceof class ) { return new not generic return type support ( generic return type ) ; } if ( generic return type instanceof parameterized type ) { return new parameterized return type ( this , method . get type parameters ( ) , ( parameterized type ) method . get generic return type ( ) ) ; } if ( generic return type instanceof type variable ) { return new type variable return type ( this , method . get type parameters ( ) , ( type variable ) generic return type ) ; } throw new mockito exception ( str + generic return type . get class ( ) . get canonical name ( ) + str + method . to generic string ( ) + str + generic return type ) ; }", "new_code_tokens": ["public", "generic", "metadata", "support", "resolve", "generic", "return", "type", "(", "method", "method", ")", "{", "type", "generic", "return", "type", "=", "method", ".", "get", "generic", "return", "type", "(", ")", ";", "if", "(", "generic", "return", "type", "instanceof", "class", ")", "{", "return", "new", "not", "generic", "return", "type", "support", "(", "generic", "return", "type", ")", ";", "}", "if", "(", "generic", "return", "type", "instanceof", "parameterized", "type", ")", "{", "return", "new", "parameterized", "return", "type", "(", "this", ",", "method", ".", "get", "type", "parameters", "(", ")", ",", "(", "parameterized", "type", ")", "method", ".", "get", "generic", "return", "type", "(", ")", ")", ";", "}", "if", "(", "generic", "return", "type", "instanceof", "type", "variable", ")", "{", "return", "new", "type", "variable", "return", "type", "(", "this", ",", "method", ".", "get", "type", "parameters", "(", ")", ",", "(", "type", "variable", ")", "generic", "return", "type", ")", ";", "}", "throw", "new", "mockito", "exception", "(", "str", "+", "generic", "return", "type", ".", "get", "class", "(", ")", ".", "get", "canonical", "name", "(", ")", "+", "str", "+", "method", ".", "to", "generic", "string", "(", ")", "+", "str", "+", "generic", "return", "type", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> mockito <DELETE_END> <KEEP> generic metadata <KEEP_END> <INSERT> support <INSERT_END> <KEEP> resolve generic return type ( method method ) { type generic return type = method . get generic return type ( ) ; if ( generic return type instanceof class ) { return new not generic return type <KEEP_END> <INSERT> support <INSERT_END> <KEEP> ( generic return type ) ; } if ( generic return type instanceof parameterized type ) { return new parameterized return type ( this , method . get type parameters ( ) , ( parameterized type ) method . get generic return type ( ) ) ; } if ( generic return type instanceof type variable ) { return new type variable return type ( this , method . get type parameters ( ) , ( type variable ) generic return type ) ; } throw new mockito exception ( str + generic return type . get class ( ) . get canonical name ( ) + str + method . to generic string ( ) + str + generic return type ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "mockito", "<DELETE_END>", "<KEEP>", "generic", "metadata", "<KEEP_END>", "<INSERT>", "support", "<INSERT_END>", "<KEEP>", "resolve", "generic", "return", "type", "(", "method", "method", ")", "{", "type", "generic", "return", "type", "=", "method", ".", "get", "generic", "return", "type", "(", ")", ";", "if", "(", "generic", "return", "type", "instanceof", "class", ")", "{", "return", "new", "not", "generic", "return", "type", "<KEEP_END>", "<INSERT>", "support", "<INSERT_END>", "<KEEP>", "(", "generic", "return", "type", ")", ";", "}", "if", "(", "generic", "return", "type", "instanceof", "parameterized", "type", ")", "{", "return", "new", "parameterized", "return", "type", "(", "this", ",", "method", ".", "get", "type", "parameters", "(", ")", ",", "(", "parameterized", "type", ")", "method", ".", "get", "generic", "return", "type", "(", ")", ")", ";", "}", "if", "(", "generic", "return", "type", "instanceof", "type", "variable", ")", "{", "return", "new", "type", "variable", "return", "type", "(", "this", ",", "method", ".", "get", "type", "parameters", "(", ")", ",", "(", "type", "variable", ")", "generic", "return", "type", ")", ";", "}", "throw", "new", "mockito", "exception", "(", "str", "+", "generic", "return", "type", ".", "get", "class", "(", ")", ".", "get", "canonical", "name", "(", ")", "+", "str", "+", "method", ".", "to", "generic", "string", "(", ")", "+", "str", "+", "generic", "return", "type", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> mockito <DELETE_END> <INSERT_OLD_KEEP_BEFORE> metadata <INSERT_NEW_KEEP_BEFORE> metadata support <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "mockito", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "metadata", "<INSERT_NEW_KEEP_BEFORE>", "metadata", "support", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "mockito", "<KEEP>", "generic", "<KEEP>", "metadata", "<INSERT>", "support", "<KEEP>", "resolve", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "type", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "not", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<INSERT>", "support", "<KEEP>", "(", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "parameterized", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "parameterized", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", "parameterized", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "type", "<KEEP>", "variable", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "type", "<KEEP>", "variable", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "variable", "<KEEP>", ")", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "mockito", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "canonical", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "generic", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "generic", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9909819697426663, "using": 2, "keep": 1}
{"id": "svn2github_hapi-hl7-23-6330", "old_comment": "a new instance of a default validation exception handler . only called when no explicit validation exception handler has been provided for validation .", "old_comment_tokens": ["a", "new", "instance", "of", "a", "default", "validation", "exception", "handler", ".", "only", "called", "when", "no", "explicit", "validation", "exception", "handler", "has", "been", "provided", "for", "validation", "."], "new_comment": "a new instance of a default validation exception handler as specified in the hapi context . only called when no explicit validation exception handler has been provided for validation using # validate ( message , validation exception handler ) .", "new_comment_tokens": ["a", "new", "instance", "of", "a", "default", "validation", "exception", "handler", "as", "specified", "in", "the", "hapi", "context", ".", "only", "called", "when", "no", "explicit", "validation", "exception", "handler", "has", "been", "provided", "for", "validation", "using", "#", "validate", "(", "message", ",", "validation", "exception", "handler", ")", "."], "old_code": "protected validation exception handler initialize handler ( ) { return new default validation exception handler ( ) ; }", "old_code_tokens": ["protected", "validation", "exception", "handler", "initialize", "handler", "(", ")", "{", "return", "new", "default", "validation", "exception", "handler", "(", ")", ";", "}"], "new_code": "protected validation exception handler initialize handler ( ) { return get hapi context ( ) . get validation exception handler ( ) ; }", "new_code_tokens": ["protected", "validation", "exception", "handler", "initialize", "handler", "(", ")", "{", "return", "get", "hapi", "context", "(", ")", ".", "get", "validation", "exception", "handler", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected validation exception handler initialize handler ( ) { return <KEEP_END> <REPLACE_OLD> new default <REPLACE_NEW> get hapi context ( ) . get <REPLACE_END> <KEEP> validation exception handler ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "validation", "exception", "handler", "initialize", "handler", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "default", "<REPLACE_NEW>", "get", "hapi", "context", "(", ")", ".", "get", "<REPLACE_END>", "<KEEP>", "validation", "exception", "handler", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> default validation exception handler <INSERT_NEW_KEEP_BEFORE> default validation exception handler as specified in the hapi context <INSERT_END> <INSERT_OLD_KEEP_BEFORE> for validation <INSERT_NEW_KEEP_BEFORE> for validation using # validate ( message , validation exception handler ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "default", "validation", "exception", "handler", "<INSERT_NEW_KEEP_BEFORE>", "default", "validation", "exception", "handler", "as", "specified", "in", "the", "hapi", "context", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "for", "validation", "<INSERT_NEW_KEEP_BEFORE>", "for", "validation", "using", "#", "validate", "(", "message", ",", "validation", "exception", "handler", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "validation", "<KEEP>", "exception", "<KEEP>", "handler", "<KEEP>", "initialize", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "default", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "hapi", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "validation", "<KEEP>", "exception", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8232579953468807, "using": 1, "keep": 1}
{"id": "eclipse_rt.equinox.framework-53-6539", "old_comment": "the absolute file location to use for the given target or null if the given target is not managed", "old_comment_tokens": ["the", "absolute", "file", "location", "to", "use", "for", "the", "given", "target", "or", "null", "if", "the", "given", "target", "is", "not", "managed"], "new_comment": "the absolute file location to use for the given managed file or null if the given managed file is not managed", "new_comment_tokens": ["the", "absolute", "file", "location", "to", "use", "for", "the", "given", "managed", "file", "or", "null", "if", "the", "given", "managed", "file", "is", "not", "managed"], "old_code": "public file lookup ( string target , boolean add ) throws ioexception { if ( ! open ) throw new ioexception ( eclipse adaptor msg . file manager _ not open ) ; entry entry = ( entry ) table . get ( target ) ; if ( entry = = null ) { if ( add ) { add ( target ) ; entry = ( entry ) table . get ( target ) ; } else { return null ; } } return new file ( get absolute path ( target + str + entry . get read id ( ) ) ) ; }", "old_code_tokens": ["public", "file", "lookup", "(", "string", "target", ",", "boolean", "add", ")", "throws", "ioexception", "{", "if", "(", "!", "open", ")", "throw", "new", "ioexception", "(", "eclipse", "adaptor", "msg", ".", "file", "manager", "_", "not", "open", ")", ";", "entry", "entry", "=", "(", "entry", ")", "table", ".", "get", "(", "target", ")", ";", "if", "(", "entry", "=", "=", "null", ")", "{", "if", "(", "add", ")", "{", "add", "(", "target", ")", ";", "entry", "=", "(", "entry", ")", "table", ".", "get", "(", "target", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "new", "file", "(", "get", "absolute", "path", "(", "target", "+", "str", "+", "entry", ".", "get", "read", "id", "(", ")", ")", ")", ";", "}"], "new_code": "public file lookup ( string managed file , boolean add ) throws ioexception { if ( ! open ) throw new ioexception ( eclipse adaptor msg . file manager _ not open ) ; entry entry = ( entry ) table . get ( managed file ) ; if ( entry = = null ) { if ( add ) { add ( managed file ) ; entry = ( entry ) table . get ( managed file ) ; } else { return null ; } } return new file ( get absolute path ( managed file + str + entry . get read id ( ) ) ) ; }", "new_code_tokens": ["public", "file", "lookup", "(", "string", "managed", "file", ",", "boolean", "add", ")", "throws", "ioexception", "{", "if", "(", "!", "open", ")", "throw", "new", "ioexception", "(", "eclipse", "adaptor", "msg", ".", "file", "manager", "_", "not", "open", ")", ";", "entry", "entry", "=", "(", "entry", ")", "table", ".", "get", "(", "managed", "file", ")", ";", "if", "(", "entry", "=", "=", "null", ")", "{", "if", "(", "add", ")", "{", "add", "(", "managed", "file", ")", ";", "entry", "=", "(", "entry", ")", "table", ".", "get", "(", "managed", "file", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "new", "file", "(", "get", "absolute", "path", "(", "managed", "file", "+", "str", "+", "entry", ".", "get", "read", "id", "(", ")", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public file lookup ( string <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> , boolean add ) throws ioexception { if ( ! open ) throw new ioexception ( eclipse adaptor msg . file manager _ not open ) ; entry entry = ( entry ) table . get ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) ; if ( entry = = null ) { if ( add ) { add ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) ; entry = ( entry ) table . get ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> ) ; } else { return null ; } } return new file ( get absolute path ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> managed file <REPLACE_END> <KEEP> + str + entry . get read id ( ) ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "file", "lookup", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ",", "boolean", "add", ")", "throws", "ioexception", "{", "if", "(", "!", "open", ")", "throw", "new", "ioexception", "(", "eclipse", "adaptor", "msg", ".", "file", "manager", "_", "not", "open", ")", ";", "entry", "entry", "=", "(", "entry", ")", "table", ".", "get", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", ";", "if", "(", "entry", "=", "=", "null", ")", "{", "if", "(", "add", ")", "{", "add", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", ";", "entry", "=", "(", "entry", ")", "table", ".", "get", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "new", "file", "(", "get", "absolute", "path", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "file", "<REPLACE_END>", "<KEEP>", "+", "str", "+", "entry", ".", "get", "read", "id", "(", ")", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> for the given target <REPLACE_NEW_KEEP_BEFORE> for the given managed file <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> if the given target <REPLACE_NEW_KEEP_BEFORE> if the given managed file <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "for", "the", "given", "target", "<REPLACE_NEW_KEEP_BEFORE>", "for", "the", "given", "managed", "file", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "if", "the", "given", "target", "<REPLACE_NEW_KEEP_BEFORE>", "if", "the", "given", "managed", "file", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "file", "<KEEP>", "lookup", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "add", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "open", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "ioexception", "<KEEP>", "(", "<KEEP>", "eclipse", "<KEEP>", "adaptor", "<KEEP>", "msg", "<KEEP>", ".", "<KEEP>", "file", "<KEEP>", "manager", "<KEEP>", "_", "<KEEP>", "not", "<KEEP>", "open", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "entry", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ")", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "add", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "add", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ")", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "absolute", "<KEEP>", "path", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "<REPLACE_NEW>", "file", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "read", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8184884465800795, "using": 0, "keep": 1}
{"id": "Netflix_Hystrix-11-3610", "old_comment": "hystrix runtime exception or hystrix bad request exception", "old_comment_tokens": ["hystrix", "runtime", "exception", "or", "hystrix", "bad", "request", "exception"], "new_comment": "hystrix runtime exception , hystrix bad request exception or illegal state exception", "new_comment_tokens": ["hystrix", "runtime", "exception", ",", "hystrix", "bad", "request", "exception", "or", "illegal", "state", "exception"], "old_code": "protected runtime exception decompose exception ( exception e ) { if ( e instanceof hystrix bad request exception ) { return ( hystrix bad request exception ) e ; } if ( e . get cause ( ) instanceof hystrix bad request exception ) { return ( hystrix bad request exception ) e . get cause ( ) ; } if ( e instanceof hystrix runtime exception ) { return ( hystrix runtime exception ) e ; } if ( e . get cause ( ) instanceof hystrix runtime exception ) { return ( hystrix runtime exception ) e . get cause ( ) ; } string message = get log message prefix ( ) + str ; logger . debug ( message , e ) ; return new hystrix runtime exception ( failure type . command _ exception , this . get class ( ) , message , e , null ) ; }", "old_code_tokens": ["protected", "runtime", "exception", "decompose", "exception", "(", "exception", "e", ")", "{", "if", "(", "e", "instanceof", "hystrix", "bad", "request", "exception", ")", "{", "return", "(", "hystrix", "bad", "request", "exception", ")", "e", ";", "}", "if", "(", "e", ".", "get", "cause", "(", ")", "instanceof", "hystrix", "bad", "request", "exception", ")", "{", "return", "(", "hystrix", "bad", "request", "exception", ")", "e", ".", "get", "cause", "(", ")", ";", "}", "if", "(", "e", "instanceof", "hystrix", "runtime", "exception", ")", "{", "return", "(", "hystrix", "runtime", "exception", ")", "e", ";", "}", "if", "(", "e", ".", "get", "cause", "(", ")", "instanceof", "hystrix", "runtime", "exception", ")", "{", "return", "(", "hystrix", "runtime", "exception", ")", "e", ".", "get", "cause", "(", ")", ";", "}", "string", "message", "=", "get", "log", "message", "prefix", "(", ")", "+", "str", ";", "logger", ".", "debug", "(", "message", ",", "e", ")", ";", "return", "new", "hystrix", "runtime", "exception", "(", "failure", "type", ".", "command", "_", "exception", ",", "this", ".", "get", "class", "(", ")", ",", "message", ",", "e", ",", "null", ")", ";", "}"], "new_code": "protected runtime exception decompose exception ( exception e ) { if ( e instanceof illegal state exception ) { return ( illegal state exception ) e ; } if ( e instanceof hystrix bad request exception ) { return ( hystrix bad request exception ) e ; } if ( e . get cause ( ) instanceof hystrix bad request exception ) { return ( hystrix bad request exception ) e . get cause ( ) ; } if ( e instanceof hystrix runtime exception ) { return ( hystrix runtime exception ) e ; } if ( e . get cause ( ) instanceof hystrix runtime exception ) { return ( hystrix runtime exception ) e . get cause ( ) ; } string message = get log message prefix ( ) + str ; logger . debug ( message , e ) ; return new hystrix runtime exception ( failure type . command _ exception , this . get class ( ) , message , e , null ) ; }", "new_code_tokens": ["protected", "runtime", "exception", "decompose", "exception", "(", "exception", "e", ")", "{", "if", "(", "e", "instanceof", "illegal", "state", "exception", ")", "{", "return", "(", "illegal", "state", "exception", ")", "e", ";", "}", "if", "(", "e", "instanceof", "hystrix", "bad", "request", "exception", ")", "{", "return", "(", "hystrix", "bad", "request", "exception", ")", "e", ";", "}", "if", "(", "e", ".", "get", "cause", "(", ")", "instanceof", "hystrix", "bad", "request", "exception", ")", "{", "return", "(", "hystrix", "bad", "request", "exception", ")", "e", ".", "get", "cause", "(", ")", ";", "}", "if", "(", "e", "instanceof", "hystrix", "runtime", "exception", ")", "{", "return", "(", "hystrix", "runtime", "exception", ")", "e", ";", "}", "if", "(", "e", ".", "get", "cause", "(", ")", "instanceof", "hystrix", "runtime", "exception", ")", "{", "return", "(", "hystrix", "runtime", "exception", ")", "e", ".", "get", "cause", "(", ")", ";", "}", "string", "message", "=", "get", "log", "message", "prefix", "(", ")", "+", "str", ";", "logger", ".", "debug", "(", "message", ",", "e", ")", ";", "return", "new", "hystrix", "runtime", "exception", "(", "failure", "type", ".", "command", "_", "exception", ",", "this", ".", "get", "class", "(", ")", ",", "message", ",", "e", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> protected runtime exception decompose exception ( exception e ) { <KEEP_END> <INSERT> if ( e instanceof illegal state exception ) { return ( illegal state exception ) e ; } <INSERT_END> <KEEP> if ( e instanceof hystrix bad request exception ) { return ( hystrix bad request exception ) e ; } if ( e . get cause ( ) instanceof hystrix bad request exception ) { return ( hystrix bad request exception ) e . get cause ( ) ; } if ( e instanceof hystrix runtime exception ) { return ( hystrix runtime exception ) e ; } if ( e . get cause ( ) instanceof hystrix runtime exception ) { return ( hystrix runtime exception ) e . get cause ( ) ; } string message = get log message prefix ( ) + str ; logger . debug ( message , e ) ; return new hystrix runtime exception ( failure type . command _ exception , this . get class ( ) , message , e , null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "runtime", "exception", "decompose", "exception", "(", "exception", "e", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "e", "instanceof", "illegal", "state", "exception", ")", "{", "return", "(", "illegal", "state", "exception", ")", "e", ";", "}", "<INSERT_END>", "<KEEP>", "if", "(", "e", "instanceof", "hystrix", "bad", "request", "exception", ")", "{", "return", "(", "hystrix", "bad", "request", "exception", ")", "e", ";", "}", "if", "(", "e", ".", "get", "cause", "(", ")", "instanceof", "hystrix", "bad", "request", "exception", ")", "{", "return", "(", "hystrix", "bad", "request", "exception", ")", "e", ".", "get", "cause", "(", ")", ";", "}", "if", "(", "e", "instanceof", "hystrix", "runtime", "exception", ")", "{", "return", "(", "hystrix", "runtime", "exception", ")", "e", ";", "}", "if", "(", "e", ".", "get", "cause", "(", ")", "instanceof", "hystrix", "runtime", "exception", ")", "{", "return", "(", "hystrix", "runtime", "exception", ")", "e", ".", "get", "cause", "(", ")", ";", "}", "string", "message", "=", "get", "log", "message", "prefix", "(", ")", "+", "str", ";", "logger", ".", "debug", "(", "message", ",", "e", ")", ";", "return", "new", "hystrix", "runtime", "exception", "(", "failure", "type", ".", "command", "_", "exception", ",", "this", ".", "get", "class", "(", ")", ",", "message", ",", "e", ",", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> or <REPLACE_NEW> , <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> request exception <INSERT_NEW_KEEP_BEFORE> request exception or illegal state exception <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "or", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "request", "exception", "<INSERT_NEW_KEEP_BEFORE>", "request", "exception", "or", "illegal", "state", "exception", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "decompose", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "e", "<INSERT>", "instanceof", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "(", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", ")", "<INSERT>", "e", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "instanceof", "<KEEP>", "hystrix", "<KEEP>", "bad", "<KEEP>", "request", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "hystrix", "<KEEP>", "bad", "<KEEP>", "request", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "e", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "instanceof", "<KEEP>", "hystrix", "<KEEP>", "bad", "<KEEP>", "request", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "hystrix", "<KEEP>", "bad", "<KEEP>", "request", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "instanceof", "<KEEP>", "hystrix", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "hystrix", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "e", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "instanceof", "<KEEP>", "hystrix", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "hystrix", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "message", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "log", "<KEEP>", "message", "<KEEP>", "prefix", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "hystrix", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "failure", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "command", "<KEEP>", "_", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9179634234947349, "using": 0, "keep": 1}
{"id": "rektide_jstyx-85-6504", "old_comment": "a vector of users that have access to the system", "old_comment_tokens": ["a", "vector", "of", "users", "that", "have", "access", "to", "the", "system"], "new_comment": "a list of users that have access to the system", "new_comment_tokens": ["a", "list", "of", "users", "that", "have", "access", "to", "the", "system"], "old_code": "public vector < user > get users ( ) { return this . users ; }", "old_code_tokens": ["public", "vector", "<", "user", ">", "get", "users", "(", ")", "{", "return", "this", ".", "users", ";", "}"], "new_code": "public list < user > get users ( ) { return this . users ; }", "new_code_tokens": ["public", "list", "<", "user", ">", "get", "users", "(", ")", "{", "return", "this", ".", "users", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END> <KEEP> < user > get users ( ) { return this . users ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "user", ">", "get", "users", "(", ")", "{", "return", "this", ".", "users", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "users", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "users", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9641622570642858, "using": 2, "keep": 1}
{"id": "voldemort_voldemort-1-2582", "old_comment": "true if a the throwable to inspect corresponds to or is caused by the throwable class to look for", "old_comment_tokens": ["true", "if", "a", "the", "throwable", "to", "inspect", "corresponds", "to", "or", "is", "caused", "by", "the", "throwable", "class", "to", "look", "for"], "new_comment": "true if a the throwable to inspect corresponds to or is caused by any of the throwable classes to look for", "new_comment_tokens": ["true", "if", "a", "the", "throwable", "to", "inspect", "corresponds", "to", "or", "is", "caused", "by", "any", "of", "the", "throwable", "classes", "to", "look", "for"], "old_code": "public static boolean recursive class equals ( throwable throwable to inspect , class throwable class to look for ) { if ( throwable to inspect . get class ( ) . equals ( throwable class to look for ) ) { return true ; } else { throwable cause = throwable to inspect . get cause ( ) ; return cause ! = null & & recursive class equals ( cause , throwable class to look for ) ; } }", "old_code_tokens": ["public", "static", "boolean", "recursive", "class", "equals", "(", "throwable", "throwable", "to", "inspect", ",", "class", "throwable", "class", "to", "look", "for", ")", "{", "if", "(", "throwable", "to", "inspect", ".", "get", "class", "(", ")", ".", "equals", "(", "throwable", "class", "to", "look", "for", ")", ")", "{", "return", "true", ";", "}", "else", "{", "throwable", "cause", "=", "throwable", "to", "inspect", ".", "get", "cause", "(", ")", ";", "return", "cause", "!", "=", "null", "&", "&", "recursive", "class", "equals", "(", "cause", ",", "throwable", "class", "to", "look", "for", ")", ";", "}", "}"], "new_code": "public static boolean recursive class equals ( throwable throwable to inspect , class . . . throwable classes to look for ) { for ( class clazz : throwable classes to look for ) { class class to inspect = throwable to inspect . get class ( ) ; while ( class to inspect ! = null ) { if ( class to inspect . equals ( clazz ) ) { return true ; } class to inspect = class to inspect . get superclass ( ) ; } } throwable cause = throwable to inspect . get cause ( ) ; return cause ! = null & & recursive class equals ( cause , throwable classes to look for ) ; }", "new_code_tokens": ["public", "static", "boolean", "recursive", "class", "equals", "(", "throwable", "throwable", "to", "inspect", ",", "class", ".", ".", ".", "throwable", "classes", "to", "look", "for", ")", "{", "for", "(", "class", "clazz", ":", "throwable", "classes", "to", "look", "for", ")", "{", "class", "class", "to", "inspect", "=", "throwable", "to", "inspect", ".", "get", "class", "(", ")", ";", "while", "(", "class", "to", "inspect", "!", "=", "null", ")", "{", "if", "(", "class", "to", "inspect", ".", "equals", "(", "clazz", ")", ")", "{", "return", "true", ";", "}", "class", "to", "inspect", "=", "class", "to", "inspect", ".", "get", "superclass", "(", ")", ";", "}", "}", "throwable", "cause", "=", "throwable", "to", "inspect", ".", "get", "cause", "(", ")", ";", "return", "cause", "!", "=", "null", "&", "&", "recursive", "class", "equals", "(", "cause", ",", "throwable", "classes", "to", "look", "for", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean recursive class equals ( throwable throwable to inspect , class <KEEP_END> <INSERT> . . . <INSERT_END> <KEEP> throwable <KEEP_END> <REPLACE_OLD> class <REPLACE_NEW> classes <REPLACE_END> <KEEP> to look for ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> for <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> class clazz : throwable classes to look for ) { class class to inspect = <INSERT_END> <KEEP> throwable to inspect . get class ( ) <KEEP_END> <INSERT> ; while ( class to inspect ! = null ) { if ( class to inspect <INSERT_END> <KEEP> . equals ( <KEEP_END> <REPLACE_OLD> throwable class to look for <REPLACE_NEW> clazz <REPLACE_END> <KEEP> ) ) { return true ; } <KEEP_END> <REPLACE_OLD> else { <REPLACE_NEW> class to inspect = class to inspect . get superclass ( ) ; } } <REPLACE_END> <KEEP> throwable cause = throwable to inspect . get cause ( ) ; return cause ! = null & & recursive class equals ( cause , throwable <KEEP_END> <REPLACE_OLD> class <REPLACE_NEW> classes <REPLACE_END> <KEEP> to look for ) ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "recursive", "class", "equals", "(", "throwable", "throwable", "to", "inspect", ",", "class", "<KEEP_END>", "<INSERT>", ".", ".", ".", "<INSERT_END>", "<KEEP>", "throwable", "<KEEP_END>", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "classes", "<REPLACE_END>", "<KEEP>", "to", "look", "for", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "for", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "class", "clazz", ":", "throwable", "classes", "to", "look", "for", ")", "{", "class", "class", "to", "inspect", "=", "<INSERT_END>", "<KEEP>", "throwable", "to", "inspect", ".", "get", "class", "(", ")", "<KEEP_END>", "<INSERT>", ";", "while", "(", "class", "to", "inspect", "!", "=", "null", ")", "{", "if", "(", "class", "to", "inspect", "<INSERT_END>", "<KEEP>", ".", "equals", "(", "<KEEP_END>", "<REPLACE_OLD>", "throwable", "class", "to", "look", "for", "<REPLACE_NEW>", "clazz", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "return", "true", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "else", "{", "<REPLACE_NEW>", "class", "to", "inspect", "=", "class", "to", "inspect", ".", "get", "superclass", "(", ")", ";", "}", "}", "<REPLACE_END>", "<KEEP>", "throwable", "cause", "=", "throwable", "to", "inspect", ".", "get", "cause", "(", ")", ";", "return", "cause", "!", "=", "null", "&", "&", "recursive", "class", "equals", "(", "cause", ",", "throwable", "<KEEP_END>", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "classes", "<REPLACE_END>", "<KEEP>", "to", "look", "for", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> by <INSERT_NEW_KEEP_BEFORE> by any of <INSERT_END> <REPLACE_OLD> class <REPLACE_NEW> classes <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "by", "<INSERT_NEW_KEEP_BEFORE>", "by", "any", "of", "<INSERT_END>", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "classes", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "recursive", "<KEEP>", "class", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "throwable", "<KEEP>", "to", "<KEEP>", "inspect", "<KEEP>", ",", "<KEEP>", "class", "<INSERT>", ".", "<INSERT>", ".", "<INSERT>", ".", "<KEEP>", "throwable", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "classes", "<KEEP>", "to", "<KEEP>", "look", "<KEEP>", "for", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "for", "<KEEP>", "(", "<INSERT>", "class", "<INSERT>", "clazz", "<INSERT>", ":", "<INSERT>", "throwable", "<INSERT>", "classes", "<INSERT>", "to", "<INSERT>", "look", "<INSERT>", "for", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "class", "<INSERT>", "class", "<INSERT>", "to", "<INSERT>", "inspect", "<INSERT>", "=", "<KEEP>", "throwable", "<KEEP>", "to", "<KEEP>", "inspect", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "while", "<INSERT>", "(", "<INSERT>", "class", "<INSERT>", "to", "<INSERT>", "inspect", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "class", "<INSERT>", "to", "<INSERT>", "inspect", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<REPLACE_OLD>", "throwable", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "look", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "clazz", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "inspect", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "inspect", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "superclass", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<KEEP>", "throwable", "<KEEP>", "cause", "<KEEP>", "=", "<KEEP>", "throwable", "<KEEP>", "to", "<KEEP>", "inspect", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "cause", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "recursive", "<KEEP>", "class", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "cause", "<KEEP>", ",", "<KEEP>", "throwable", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "classes", "<KEEP>", "to", "<KEEP>", "look", "<KEEP>", "for", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "valid", "score": 0.9925943571396134, "using": 2, "keep": 1}
{"id": "JetBrains_android-472-6838", "old_comment": "instance of ide level2 dependencies from test artifact , or null if current module has no test artifact .", "old_comment_tokens": ["instance", "of", "ide", "level2", "dependencies", "from", "test", "artifact", ",", "or", "null", "if", "current", "module", "has", "no", "test", "artifact", "."], "new_comment": "instance of ide dependencies from test artifact , or null if current module has no test artifact .", "new_comment_tokens": ["instance", "of", "ide", "dependencies", "from", "test", "artifact", ",", "or", "null", "if", "current", "module", "has", "no", "test", "artifact", "."], "old_code": "@ nullable public ide level2 dependencies get selected android test compile dependencies ( ) { ide android artifact android test artifact = get selected variant ( ) . get android test artifact ( ) ; if ( android test artifact = = null ) { return null ; } return android test artifact . get level2 dependencies ( ) ; }", "old_code_tokens": ["@", "nullable", "public", "ide", "level2", "dependencies", "get", "selected", "android", "test", "compile", "dependencies", "(", ")", "{", "ide", "android", "artifact", "android", "test", "artifact", "=", "get", "selected", "variant", "(", ")", ".", "get", "android", "test", "artifact", "(", ")", ";", "if", "(", "android", "test", "artifact", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "android", "test", "artifact", ".", "get", "level2", "dependencies", "(", ")", ";", "}"], "new_code": "@ nullable public ide dependencies get selected android test compile dependencies ( ) { ide android artifact android test artifact = get selected variant ( ) . get android test artifact ( ) ; if ( android test artifact = = null ) { return null ; } return android test artifact . get level2 dependencies ( ) ; }", "new_code_tokens": ["@", "nullable", "public", "ide", "dependencies", "get", "selected", "android", "test", "compile", "dependencies", "(", ")", "{", "ide", "android", "artifact", "android", "test", "artifact", "=", "get", "selected", "variant", "(", ")", ".", "get", "android", "test", "artifact", "(", ")", ";", "if", "(", "android", "test", "artifact", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "android", "test", "artifact", ".", "get", "level2", "dependencies", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ nullable public ide <KEEP_END> <DELETE> level2 <DELETE_END> <KEEP> dependencies get selected android test compile dependencies ( ) { ide android artifact android test artifact = get selected variant ( ) . get android test artifact ( ) ; if ( android test artifact = = null ) { return null ; } return android test artifact . get level2 dependencies ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nullable", "public", "ide", "<KEEP_END>", "<DELETE>", "level2", "<DELETE_END>", "<KEEP>", "dependencies", "get", "selected", "android", "test", "compile", "dependencies", "(", ")", "{", "ide", "android", "artifact", "android", "test", "artifact", "=", "get", "selected", "variant", "(", ")", ".", "get", "android", "test", "artifact", "(", ")", ";", "if", "(", "android", "test", "artifact", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "android", "test", "artifact", ".", "get", "level2", "dependencies", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> level2 <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "level2", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "public", "<KEEP>", "ide", "<DELETE>", "level2", "<KEEP>", "dependencies", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "android", "<KEEP>", "test", "<KEEP>", "compile", "<KEEP>", "dependencies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ide", "<KEEP>", "android", "<KEEP>", "artifact", "<KEEP>", "android", "<KEEP>", "test", "<KEEP>", "artifact", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "variant", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "android", "<KEEP>", "test", "<KEEP>", "artifact", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "android", "<KEEP>", "test", "<KEEP>", "artifact", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "android", "<KEEP>", "test", "<KEEP>", "artifact", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "level2", "<KEEP>", "dependencies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9895045515246961, "using": 2, "keep": 1}
{"id": "uber_AutoDispose-11-2841", "old_comment": "a android lifecycle against this lifecycle .", "old_comment_tokens": ["a", "android", "lifecycle", "against", "this", "lifecycle", "."], "new_comment": "a android lifecycle scope provider against this lifecycle .", "new_comment_tokens": ["a", "android", "lifecycle", "scope", "provider", "against", "this", "lifecycle", "."], "old_code": "public static android lifecycle from ( lifecycle lifecycle ) { return new android lifecycle ( lifecycle ) ; }", "old_code_tokens": ["public", "static", "android", "lifecycle", "from", "(", "lifecycle", "lifecycle", ")", "{", "return", "new", "android", "lifecycle", "(", "lifecycle", ")", ";", "}"], "new_code": "public static android lifecycle scope provider from ( lifecycle lifecycle ) { return new android lifecycle scope provider ( lifecycle ) ; }", "new_code_tokens": ["public", "static", "android", "lifecycle", "scope", "provider", "from", "(", "lifecycle", "lifecycle", ")", "{", "return", "new", "android", "lifecycle", "scope", "provider", "(", "lifecycle", ")", ";", "}"], "span_diff_code": "<KEEP> public static android lifecycle <KEEP_END> <INSERT> scope provider <INSERT_END> <KEEP> from ( lifecycle lifecycle ) { return new android lifecycle <KEEP_END> <INSERT> scope provider <INSERT_END> <KEEP> ( lifecycle ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "android", "lifecycle", "<KEEP_END>", "<INSERT>", "scope", "provider", "<INSERT_END>", "<KEEP>", "from", "(", "lifecycle", "lifecycle", ")", "{", "return", "new", "android", "lifecycle", "<KEEP_END>", "<INSERT>", "scope", "provider", "<INSERT_END>", "<KEEP>", "(", "lifecycle", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> android lifecycle <INSERT_NEW_KEEP_BEFORE> android lifecycle scope provider <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "android", "lifecycle", "<INSERT_NEW_KEEP_BEFORE>", "android", "lifecycle", "scope", "provider", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "android", "<KEEP>", "lifecycle", "<INSERT>", "scope", "<INSERT>", "provider", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "lifecycle", "<KEEP>", "lifecycle", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "android", "<KEEP>", "lifecycle", "<INSERT>", "scope", "<INSERT>", "provider", "<KEEP>", "(", "<KEEP>", "lifecycle", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9607712531756897, "using": 2, "keep": 1}
{"id": "apache_tez-24-4278", "old_comment": "the org . apache . tez . runtime . api . tez output context for the output", "old_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "runtime", ".", "api", ".", "tez", "output", "context", "for", "the", "output"], "new_comment": "the org . apache . tez . runtime . api . output context for the output", "new_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "runtime", ".", "api", ".", "output", "context", "for", "the", "output"], "old_code": "public final tez output context get context ( ) { return output context ; }", "old_code_tokens": ["public", "final", "tez", "output", "context", "get", "context", "(", ")", "{", "return", "output", "context", ";", "}"], "new_code": "public final output context get context ( ) { return output context ; }", "new_code_tokens": ["public", "final", "output", "context", "get", "context", "(", ")", "{", "return", "output", "context", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <DELETE> tez <DELETE_END> <KEEP> output context get context ( ) { return output context ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<DELETE>", "tez", "<DELETE_END>", "<KEEP>", "output", "context", "get", "context", "(", ")", "{", "return", "output", "context", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> api . tez <REPLACE_NEW_DELETE_KEEP_BEFORE> api . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", "api", ".", "tez", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "api", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<DELETE>", "tez", "<KEEP>", "output", "<KEEP>", "context", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "output", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9570760390706957, "using": 0, "keep": 1}
{"id": "nickman_apmrouter-4-4118", "old_comment": "this array", "old_comment_tokens": ["this", "array"], "new_comment": "the number of removed values", "new_comment_tokens": ["the", "number", "of", "removed", "values"], "old_code": "public unsafe long array remove ( long . . . values ) { if ( values ! = null & & values . length > num ) { for ( long v : values ) { _ remove ( binary search ( v ) ) ; } } return this ; }", "old_code_tokens": ["public", "unsafe", "long", "array", "remove", "(", "long", ".", ".", ".", "values", ")", "{", "if", "(", "values", "!", "=", "null", "&", "&", "values", ".", "length", ">", "num", ")", "{", "for", "(", "long", "v", ":", "values", ")", "{", "_", "remove", "(", "binary", "search", "(", "v", ")", ")", ";", "}", "}", "return", "this", ";", "}"], "new_code": "public int remove ( long . . . values ) { _ check ( ) ; int removed = num ; if ( values ! = null & & values . length > num ) { for ( long v : values ) { _ remove ( binary search ( v ) ) ; } } return removed ; }", "new_code_tokens": ["public", "int", "remove", "(", "long", ".", ".", ".", "values", ")", "{", "_", "check", "(", ")", ";", "int", "removed", "=", "num", ";", "if", "(", "values", "!", "=", "null", "&", "&", "values", ".", "length", ">", "num", ")", "{", "for", "(", "long", "v", ":", "values", ")", "{", "_", "remove", "(", "binary", "search", "(", "v", ")", ")", ";", "}", "}", "return", "removed", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> unsafe long array <REPLACE_NEW> int <REPLACE_END> <KEEP> remove ( long . . . values ) { <KEEP_END> <INSERT> _ check ( ) ; int removed = num ; <INSERT_END> <KEEP> if ( values ! = null & & values . length > num ) { for ( long v : values ) { _ remove ( binary search ( v ) ) ; } } return <KEEP_END> <REPLACE_OLD> this <REPLACE_NEW> removed <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "unsafe", "long", "array", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "remove", "(", "long", ".", ".", ".", "values", ")", "{", "<KEEP_END>", "<INSERT>", "_", "check", "(", ")", ";", "int", "removed", "=", "num", ";", "<INSERT_END>", "<KEEP>", "if", "(", "values", "!", "=", "null", "&", "&", "values", ".", "length", ">", "num", ")", "{", "for", "(", "long", "v", ":", "values", ")", "{", "_", "remove", "(", "binary", "search", "(", "v", ")", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "this", "<REPLACE_NEW>", "removed", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this array <REPLACE_NEW> the number of removed values <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "array", "<REPLACE_NEW>", "the", "number", "of", "removed", "values", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "unsafe", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "int", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "_", "<INSERT>", "check", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "removed", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "v", "<KEEP>", ":", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "_", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "binary", "<KEEP>", "search", "<KEEP>", "(", "<KEEP>", "v", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "this", "<REPLACE_NEW>", "removed", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.842746303125143, "using": 2, "keep": 1}
{"id": "saml_metadata-extractor-9-6492", "old_comment": "an iterator over the error message strings .", "old_comment_tokens": ["an", "iterator", "over", "the", "error", "message", "strings", "."], "new_comment": "an iterable collection of error message strings .", "new_comment_tokens": ["an", "iterable", "collection", "of", "error", "message", "strings", "."], "old_code": "public iterator < string > get errors ( ) { return _ error list . iterator ( ) ; }", "old_code_tokens": ["public", "iterator", "<", "string", ">", "get", "errors", "(", ")", "{", "return", "_", "error", "list", ".", "iterator", "(", ")", ";", "}"], "new_code": "public iterable < string > get errors ( ) { return _ error list ; }", "new_code_tokens": ["public", "iterable", "<", "string", ">", "get", "errors", "(", ")", "{", "return", "_", "error", "list", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> iterator <REPLACE_NEW> iterable <REPLACE_END> <KEEP> < string > get errors ( ) { return _ error list <KEEP_END> <DELETE> . iterator ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "iterable", "<REPLACE_END>", "<KEEP>", "<", "string", ">", "get", "errors", "(", ")", "{", "return", "_", "error", "list", "<KEEP_END>", "<DELETE>", ".", "iterator", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> iterator over the <REPLACE_NEW> iterable collection of <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "iterator", "over", "the", "<REPLACE_NEW>", "iterable", "collection", "of", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "iterable", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "errors", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "error", "<KEEP>", "list", "<DELETE>", ".", "<DELETE>", "iterator", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8545164179059348, "using": 0, "keep": 1}
{"id": "apache_river-47-4586", "old_comment": "true if this is the first time remove is called .", "old_comment_tokens": ["true", "if", "this", "is", "the", "first", "time", "remove", "is", "called", "."], "new_comment": "true if removed .", "new_comment_tokens": ["true", "if", "removed", "."], "old_code": "public synchronized boolean remove ( ) { boolean result = ! removed ; removed = true ; return result ; }", "old_code_tokens": ["public", "synchronized", "boolean", "remove", "(", ")", "{", "boolean", "result", "=", "!", "removed", ";", "removed", "=", "true", ";", "return", "result", ";", "}"], "new_code": "public boolean remove ( ) { return content . remove ( this ) ; }", "new_code_tokens": ["public", "boolean", "remove", "(", ")", "{", "return", "content", ".", "remove", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> synchronized <DELETE_END> <KEEP> boolean remove ( ) { <KEEP_END> <DELETE> boolean result = ! removed ; removed = true ; <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> result <REPLACE_NEW> content . remove ( this ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "synchronized", "<DELETE_END>", "<KEEP>", "boolean", "remove", "(", ")", "{", "<KEEP_END>", "<DELETE>", "boolean", "result", "=", "!", "removed", ";", "removed", "=", "true", ";", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "content", ".", "remove", "(", "this", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this is the first time remove is called <REPLACE_NEW> removed <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "is", "the", "first", "time", "remove", "is", "called", "<REPLACE_NEW>", "removed", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "synchronized", "<KEEP>", "boolean", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "boolean", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "!", "<DELETE>", "removed", "<DELETE>", ";", "<DELETE>", "removed", "<DELETE>", "=", "<DELETE>", "true", "<DELETE>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "remove", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8225133747736788, "using": 1, "keep": 1}
{"id": "zxing_zxing-35-3607", "old_comment": "hashtable mapping result metadata type keys to values . may be null . this contains optional metadata about what was detected about the barcode , like orientation .", "old_comment_tokens": ["hashtable", "mapping", "result", "metadata", "type", "keys", "to", "values", ".", "may", "be", "null", ".", "this", "contains", "optional", "metadata", "about", "what", "was", "detected", "about", "the", "barcode", ",", "like", "orientation", "."], "new_comment": "map mapping result metadata type keys to values . may be null . this contains optional metadata about what was detected about the barcode , like orientation .", "new_comment_tokens": ["map", "mapping", "result", "metadata", "type", "keys", "to", "values", ".", "may", "be", "null", ".", "this", "contains", "optional", "metadata", "about", "what", "was", "detected", "about", "the", "barcode", ",", "like", "orientation", "."], "old_code": "public hashtable get result metadata ( ) { return result metadata ; }", "old_code_tokens": ["public", "hashtable", "get", "result", "metadata", "(", ")", "{", "return", "result", "metadata", ";", "}"], "new_code": "public map < result metadata type , object > get result metadata ( ) { return result metadata ; }", "new_code_tokens": ["public", "map", "<", "result", "metadata", "type", ",", "object", ">", "get", "result", "metadata", "(", ")", "{", "return", "result", "metadata", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> map < result metadata type , object > <REPLACE_END> <KEEP> get result metadata ( ) { return result metadata ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<", "result", "metadata", "type", ",", "object", ">", "<REPLACE_END>", "<KEEP>", "get", "result", "metadata", "(", ")", "{", "return", "result", "metadata", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "result", "<KEEP>", "metadata", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", "metadata", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9858577963192565, "using": 2, "keep": 1}
{"id": "cloudera_hcatalog-3-4583", "old_comment": "the job info object", "old_comment_tokens": ["the", "job", "info", "object"], "new_comment": "the input job info object", "new_comment_tokens": ["the", "input", "job", "info", "object"], "old_code": "private static job info get job info ( job context job context ) throws exception { string job string = job context . get configuration ( ) . get ( hcat constants . hcat _ key _ job _ info ) ; if ( job string = = null ) { throw new exception ( str ) ; } return ( job info ) hcat util . deserialize ( job string ) ; }", "old_code_tokens": ["private", "static", "job", "info", "get", "job", "info", "(", "job", "context", "job", "context", ")", "throws", "exception", "{", "string", "job", "string", "=", "job", "context", ".", "get", "configuration", "(", ")", ".", "get", "(", "hcat", "constants", ".", "hcat", "_", "key", "_", "job", "_", "info", ")", ";", "if", "(", "job", "string", "=", "=", "null", ")", "{", "throw", "new", "exception", "(", "str", ")", ";", "}", "return", "(", "job", "info", ")", "hcat", "util", ".", "deserialize", "(", "job", "string", ")", ";", "}"], "new_code": "private static input job info get job info ( job context job context ) throws exception { string job string = job context . get configuration ( ) . get ( hcat constants . hcat _ key _ job _ info ) ; if ( job string = = null ) { throw new exception ( str ) ; } return ( input job info ) hcat util . deserialize ( job string ) ; }", "new_code_tokens": ["private", "static", "input", "job", "info", "get", "job", "info", "(", "job", "context", "job", "context", ")", "throws", "exception", "{", "string", "job", "string", "=", "job", "context", ".", "get", "configuration", "(", ")", ".", "get", "(", "hcat", "constants", ".", "hcat", "_", "key", "_", "job", "_", "info", ")", ";", "if", "(", "job", "string", "=", "=", "null", ")", "{", "throw", "new", "exception", "(", "str", ")", ";", "}", "return", "(", "input", "job", "info", ")", "hcat", "util", ".", "deserialize", "(", "job", "string", ")", ";", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <INSERT> input <INSERT_END> <KEEP> job info get job info ( job context job context ) throws exception { string job string = job context . get configuration ( ) . get ( hcat constants . hcat _ key _ job _ info ) ; if ( job string = = null ) { throw new exception ( str ) ; } return ( <KEEP_END> <INSERT> input <INSERT_END> <KEEP> job info ) hcat util . deserialize ( job string ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<INSERT>", "input", "<INSERT_END>", "<KEEP>", "job", "info", "get", "job", "info", "(", "job", "context", "job", "context", ")", "throws", "exception", "{", "string", "job", "string", "=", "job", "context", ".", "get", "configuration", "(", ")", ".", "get", "(", "hcat", "constants", ".", "hcat", "_", "key", "_", "job", "_", "info", ")", ";", "if", "(", "job", "string", "=", "=", "null", ")", "{", "throw", "new", "exception", "(", "str", ")", ";", "}", "return", "(", "<KEEP_END>", "<INSERT>", "input", "<INSERT_END>", "<KEEP>", "job", "info", ")", "hcat", "util", ".", "deserialize", "(", "job", "string", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the input <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "input", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<INSERT>", "input", "<KEEP>", "job", "<KEEP>", "info", "<KEEP>", "get", "<KEEP>", "job", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "job", "<KEEP>", "context", "<KEEP>", "job", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "job", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "job", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "hcat", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "hcat", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", "_", "<KEEP>", "job", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "job", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "(", "<INSERT>", "input", "<KEEP>", "job", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", "hcat", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "deserialize", "<KEEP>", "(", "<KEEP>", "job", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9982043283941507, "using": 2, "keep": 1}
{"id": "pedrovgs_DraggablePanel-1-1961", "old_comment": "true if the left position of the view is to the left of the twenty five percent of the parent width .", "old_comment_tokens": ["true", "if", "the", "left", "position", "of", "the", "view", "is", "to", "the", "left", "of", "the", "twenty", "five", "percent", "of", "the", "parent", "width", "."], "new_comment": "true if the right position of the view is to the left of sixty percent of the parent width .", "new_comment_tokens": ["true", "if", "the", "right", "position", "of", "the", "view", "is", "to", "the", "left", "of", "sixty", "percent", "of", "the", "parent", "width", "."], "old_code": "@ override public boolean is next to left bound ( ) { return ( get view ( ) . get left ( ) - get margin right ( ) ) < get parent view ( ) . get width ( ) * num ; }", "old_code_tokens": ["@", "override", "public", "boolean", "is", "next", "to", "left", "bound", "(", ")", "{", "return", "(", "get", "view", "(", ")", ".", "get", "left", "(", ")", "-", "get", "margin", "right", "(", ")", ")", "<", "get", "parent", "view", "(", ")", ".", "get", "width", "(", ")", "*", "num", ";", "}"], "new_code": "@ override public boolean is next to left bound ( ) { return ( get view ( ) . get right ( ) - get margin right ( ) ) < get parent view ( ) . get width ( ) * num ; }", "new_code_tokens": ["@", "override", "public", "boolean", "is", "next", "to", "left", "bound", "(", ")", "{", "return", "(", "get", "view", "(", ")", ".", "get", "right", "(", ")", "-", "get", "margin", "right", "(", ")", ")", "<", "get", "parent", "view", "(", ")", ".", "get", "width", "(", ")", "*", "num", ";", "}"], "span_diff_code": "<KEEP> @ override public boolean is next to left bound ( ) { return ( get view ( ) . get <KEEP_END> <REPLACE_OLD> left <REPLACE_NEW> right <REPLACE_END> <KEEP> ( ) - get margin right ( ) ) < get parent view ( ) . get width ( ) * num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "boolean", "is", "next", "to", "left", "bound", "(", ")", "{", "return", "(", "get", "view", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "left", "<REPLACE_NEW>", "right", "<REPLACE_END>", "<KEEP>", "(", ")", "-", "get", "margin", "right", "(", ")", ")", "<", "get", "parent", "view", "(", ")", ".", "get", "width", "(", ")", "*", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> if the left <REPLACE_NEW_KEEP_BEFORE> if the right <REPLACE_END> <REPLACE_OLD> the twenty five <REPLACE_NEW> sixty <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "if", "the", "left", "<REPLACE_NEW_KEEP_BEFORE>", "if", "the", "right", "<REPLACE_END>", "<REPLACE_OLD>", "the", "twenty", "five", "<REPLACE_NEW>", "sixty", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "next", "<KEEP>", "to", "<KEEP>", "left", "<KEEP>", "bound", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "left", "<REPLACE_NEW>", "right", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "get", "<KEEP>", "margin", "<KEEP>", "right", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "width", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9166349065586533, "using": 0, "keep": 1}
{"id": "hibernate_hibernate-orm-200-3074", "old_comment": "the element at index idx", "old_comment_tokens": ["the", "element", "at", "index", "idx"], "new_comment": "the element at specified index", "new_comment_tokens": ["the", "element", "at", "specified", "index"], "old_code": "public e get ( int idx ) { return executables . get ( idx ) ; }", "old_code_tokens": ["public", "e", "get", "(", "int", "idx", ")", "{", "return", "executables", ".", "get", "(", "idx", ")", ";", "}"], "new_code": "public e get ( int index ) { return executables . get ( index ) ; }", "new_code_tokens": ["public", "e", "get", "(", "int", "index", ")", "{", "return", "executables", ".", "get", "(", "index", ")", ";", "}"], "span_diff_code": "<KEEP> public e get ( int <KEEP_END> <REPLACE_OLD> idx <REPLACE_NEW> index <REPLACE_END> <KEEP> ) { return executables . get ( <KEEP_END> <REPLACE_OLD> idx <REPLACE_NEW> index <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "e", "get", "(", "int", "<KEEP_END>", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "executables", ".", "get", "(", "<KEEP_END>", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> at <INSERT_NEW_KEEP_BEFORE> at specified <INSERT_END> <DELETE> idx <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "at", "<INSERT_NEW_KEEP_BEFORE>", "at", "specified", "<INSERT_END>", "<DELETE>", "idx", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "e", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "int", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "executables", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "idx", "<REPLACE_NEW>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8244732749066741, "using": 1, "keep": 1}
{"id": "apache_ddlutils-108-7141", "old_comment": "the next column", "old_comment_tokens": ["the", "next", "column"], "new_comment": "the name of the next column", "new_comment_tokens": ["the", "name", "of", "the", "next", "column"], "old_code": "public column get next column ( ) { return _ next column ; }", "old_code_tokens": ["public", "column", "get", "next", "column", "(", ")", "{", "return", "_", "next", "column", ";", "}"], "new_code": "public string get next column ( ) { return _ next column name ; }", "new_code_tokens": ["public", "string", "get", "next", "column", "(", ")", "{", "return", "_", "next", "column", "name", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> column <REPLACE_NEW> string <REPLACE_END> <KEEP> get next column ( ) { return _ next column <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "column", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "next", "column", "(", ")", "{", "return", "_", "next", "column", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the <INSERT_NEW_KEEP_AFTER> the name of the <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "<INSERT_NEW_KEEP_AFTER>", "the", "name", "of", "the", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "column", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "next", "<KEEP>", "column", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "next", "<KEEP>", "column", "<INSERT>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9774142850640173, "using": 2, "keep": 1}
{"id": "eclipse_tycho-2-6526", "old_comment": "the build target directory of the current project", "old_comment_tokens": ["the", "build", "target", "directory", "of", "the", "current", "project"], "new_comment": "the build output directory of the current project", "new_comment_tokens": ["the", "build", "output", "directory", "of", "the", "current", "project"], "old_code": "public file get target directory ( ) { return target directory ; }", "old_code_tokens": ["public", "file", "get", "target", "directory", "(", ")", "{", "return", "target", "directory", ";", "}"], "new_code": "public build output directory get target directory ( ) { return target directory ; }", "new_code_tokens": ["public", "build", "output", "directory", "get", "target", "directory", "(", ")", "{", "return", "target", "directory", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> file <REPLACE_NEW> build output directory <REPLACE_END> <KEEP> get target directory ( ) { return target directory ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "build", "output", "directory", "<REPLACE_END>", "<KEEP>", "get", "target", "directory", "(", ")", "{", "return", "target", "directory", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> target <REPLACE_NEW> output <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "target", "<REPLACE_NEW>", "output", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "directory", "<KEEP>", "get", "<KEEP>", "target", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "target", "<KEEP>", "directory", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8359296060270337, "using": 0, "keep": 1}
{"id": "languagetool-org_languagetool-6-2290", "old_comment": "list of string objects or an empty list", "old_comment_tokens": ["list", "of", "string", "objects", "or", "an", "empty", "list"], "new_comment": "unmodifiable list of string objects or an empty list", "new_comment_tokens": ["unmodifiable", "list", "of", "string", "objects", "or", "an", "empty", "list"], "old_code": "public list < string > get suggested replacements ( ) { return suggested replacements ; }", "old_code_tokens": ["public", "list", "<", "string", ">", "get", "suggested", "replacements", "(", ")", "{", "return", "suggested", "replacements", ";", "}"], "new_code": "public list < string > get suggested replacements ( ) { return collections . unmodifiable list ( suggested replacements ) ; }", "new_code_tokens": ["public", "list", "<", "string", ">", "get", "suggested", "replacements", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "suggested", "replacements", ")", ";", "}"], "span_diff_code": "<KEEP> public list < string > get suggested replacements ( ) { return <KEEP_END> <INSERT> collections . unmodifiable list ( <INSERT_END> <KEEP> suggested replacements <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "string", ">", "get", "suggested", "replacements", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "list", "(", "<INSERT_END>", "<KEEP>", "suggested", "replacements", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> list of <INSERT_NEW_KEEP_AFTER> unmodifiable list of <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "list", "of", "<INSERT_NEW_KEEP_AFTER>", "unmodifiable", "list", "of", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "suggested", "<KEEP>", "replacements", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "list", "<INSERT>", "(", "<KEEP>", "suggested", "<KEEP>", "replacements", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9796511319514314, "using": 2, "keep": 1}
{"id": "apache_wss4j-86-5671", "old_comment": "a transformed assertion wrapper instance", "old_comment_tokens": ["a", "transformed", "assertion", "wrapper", "instance"], "new_comment": "a transformed saml assertion wrapper instance", "new_comment_tokens": ["a", "transformed", "saml", "assertion", "wrapper", "instance"], "old_code": "public assertion wrapper get transformed token ( ) { return transformed token ; }", "old_code_tokens": ["public", "assertion", "wrapper", "get", "transformed", "token", "(", ")", "{", "return", "transformed", "token", ";", "}"], "new_code": "public saml assertion wrapper get transformed token ( ) { return transformed token ; }", "new_code_tokens": ["public", "saml", "assertion", "wrapper", "get", "transformed", "token", "(", ")", "{", "return", "transformed", "token", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> saml <INSERT_END> <KEEP> assertion wrapper get transformed token ( ) { return transformed token ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "saml", "<INSERT_END>", "<KEEP>", "assertion", "wrapper", "get", "transformed", "token", "(", ")", "{", "return", "transformed", "token", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> transformed <INSERT_NEW_KEEP_BEFORE> transformed saml <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "transformed", "<INSERT_NEW_KEEP_BEFORE>", "transformed", "saml", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "saml", "<KEEP>", "assertion", "<KEEP>", "wrapper", "<KEEP>", "get", "<KEEP>", "transformed", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "transformed", "<KEEP>", "token", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8270050247198838, "using": 1, "keep": 1}
{"id": "rtreffer_minidns-4-6350", "old_comment": "true if the response is acceptable , false if not .", "old_comment_tokens": ["true", "if", "the", "response", "is", "acceptable", ",", "false", "if", "not", "."], "new_comment": "null if the response is acceptable , or a string if not .", "new_comment_tokens": ["null", "if", "the", "response", "is", "acceptable", ",", "or", "a", "string", "if", "not", "."], "old_code": "protected boolean is response acceptable ( dnsmessage response ) { return true ; }", "old_code_tokens": ["protected", "boolean", "is", "response", "acceptable", "(", "dnsmessage", "response", ")", "{", "return", "true", ";", "}"], "new_code": "protected string is response acceptable ( dnsmessage response ) { return null ; }", "new_code_tokens": ["protected", "string", "is", "response", "acceptable", "(", "dnsmessage", "response", ")", "{", "return", "null", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> string <REPLACE_END> <KEEP> is response acceptable ( dnsmessage response ) { return <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "is", "response", "acceptable", "(", "dnsmessage", "response", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true <REPLACE_NEW> null <REPLACE_END> <REPLACE_OLD> false <REPLACE_NEW> or a string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "or", "a", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "string", "<KEEP>", "is", "<KEEP>", "response", "<KEEP>", "acceptable", "<KEEP>", "(", "<KEEP>", "dnsmessage", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8338487645558164, "using": 2, "keep": 1}
{"id": "loopj_android-async-http-0-488", "old_comment": "file file in which the response is stored", "old_comment_tokens": ["file", "file", "in", "which", "the", "response", "is", "stored"], "new_comment": "file final target file", "new_comment_tokens": ["file", "final", "target", "file"], "old_code": "protected file get target file ( ) { assert ( file ! = null ) ; return file ; }", "old_code_tokens": ["protected", "file", "get", "target", "file", "(", ")", "{", "assert", "(", "file", "!", "=", "null", ")", ";", "return", "file", ";", "}"], "new_code": "public file get target file ( ) { if ( frontend file = = null ) { frontend file = get original file ( ) . is directory ( ) ? get target file by parsing url ( ) : get original file ( ) ; } return frontend file ; }", "new_code_tokens": ["public", "file", "get", "target", "file", "(", ")", "{", "if", "(", "frontend", "file", "=", "=", "null", ")", "{", "frontend", "file", "=", "get", "original", "file", "(", ")", ".", "is", "directory", "(", ")", "?", "get", "target", "file", "by", "parsing", "url", "(", ")", ":", "get", "original", "file", "(", ")", ";", "}", "return", "frontend", "file", ";", "}"], "span_diff_code": "<REPLACE_OLD> protected <REPLACE_NEW> public <REPLACE_END> <KEEP> file get target file ( ) { <KEEP_END> <REPLACE_OLD> assert <REPLACE_NEW> if <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> frontend <INSERT_END> <KEEP> file <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> = <REPLACE_END> <KEEP> = null ) <KEEP_END> <INSERT> { frontend file = get original file ( ) . is directory ( ) ? get target file by parsing url ( ) : get original file ( ) <INSERT_END> <KEEP> ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return <KEEP_END> <INSERT> frontend <INSERT_END> <KEEP> file ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "protected", "<REPLACE_NEW>", "public", "<REPLACE_END>", "<KEEP>", "file", "get", "target", "file", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "assert", "<REPLACE_NEW>", "if", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "frontend", "<INSERT_END>", "<KEEP>", "file", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "=", "null", ")", "<KEEP_END>", "<INSERT>", "{", "frontend", "file", "=", "get", "original", "file", "(", ")", ".", "is", "directory", "(", ")", "?", "get", "target", "file", "by", "parsing", "url", "(", ")", ":", "get", "original", "file", "(", ")", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<INSERT>", "frontend", "<INSERT_END>", "<KEEP>", "file", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> file file in which the response is stored <REPLACE_NEW> file final target file <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "file", "file", "in", "which", "the", "response", "is", "stored", "<REPLACE_NEW>", "file", "final", "target", "file", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "protected", "<REPLACE_NEW>", "public", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "target", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "assert", "<REPLACE_NEW>", "if", "<KEEP>", "(", "<INSERT>", "frontend", "<KEEP>", "file", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "frontend", "<INSERT>", "file", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "original", "<INSERT>", "file", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "directory", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "?", "<INSERT>", "get", "<INSERT>", "target", "<INSERT>", "file", "<INSERT>", "by", "<INSERT>", "parsing", "<INSERT>", "url", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ":", "<INSERT>", "get", "<INSERT>", "original", "<INSERT>", "file", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "return", "<INSERT>", "frontend", "<KEEP>", "file", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7864772120839466, "using": 2, "keep": 1}
{"id": "jenkinsci_absint-a3-plugin-3-4873", "old_comment": "report file name extracted from apx . if not specified there , a new report file section will be created in the internal apx tree .", "old_comment_tokens": ["report", "file", "name", "extracted", "from", "apx", ".", "if", "not", "specified", "there", ",", "a", "new", "report", "file", "section", "will", "be", "created", "in", "the", "internal", "apx", "tree", "."], "new_comment": "report file extracted from apx . if not specified there , a new report file section will be created in the internal apx tree .", "new_comment_tokens": ["report", "file", "extracted", "from", "apx", ".", "if", "not", "specified", "there", ",", "a", "new", "report", "file", "section", "will", "be", "created", "in", "the", "internal", "apx", "tree", "."], "old_code": "public string get report file ( ) { string report file = extract real path from element text ( str ) ; if ( report file = = null ) { listener . get logger ( ) . println ( str ) ; } return report file ; }", "old_code_tokens": ["public", "string", "get", "report", "file", "(", ")", "{", "string", "report", "file", "=", "extract", "real", "path", "from", "element", "text", "(", "str", ")", ";", "if", "(", "report", "file", "=", "=", "null", ")", "{", "listener", ".", "get", "logger", "(", ")", ".", "println", "(", "str", ")", ";", "}", "return", "report", "file", ";", "}"], "new_code": "public file path get report file ( ) { file path report file = extract real path from element text ( str ) ; if ( report file = = null ) { listener . get logger ( ) . println ( str ) ; } return report file ; }", "new_code_tokens": ["public", "file", "path", "get", "report", "file", "(", ")", "{", "file", "path", "report", "file", "=", "extract", "real", "path", "from", "element", "text", "(", "str", ")", ";", "if", "(", "report", "file", "=", "=", "null", ")", "{", "listener", ".", "get", "logger", "(", ")", ".", "println", "(", "str", ")", ";", "}", "return", "report", "file", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> file path <REPLACE_END> <KEEP> get report file ( ) { <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> file path <REPLACE_END> <KEEP> report file = extract real path from element text ( str ) ; if ( report file = = null ) { listener . get logger ( ) . println ( str ) ; } return report file ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "path", "<REPLACE_END>", "<KEEP>", "get", "report", "file", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "path", "<REPLACE_END>", "<KEEP>", "report", "file", "=", "extract", "real", "path", "from", "element", "text", "(", "str", ")", ";", "if", "(", "report", "file", "=", "=", "null", ")", "{", "listener", ".", "get", "logger", "(", ")", ".", "println", "(", "str", ")", ";", "}", "return", "report", "file", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> name <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "name", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "path", "<KEEP>", "get", "<KEEP>", "report", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "path", "<KEEP>", "report", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "extract", "<KEEP>", "real", "<KEEP>", "path", "<KEEP>", "from", "<KEEP>", "element", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "report", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "listener", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "logger", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "report", "<KEEP>", "file", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9478770017608016, "using": 0, "keep": 1}
{"id": "nuxeo_gwt-549-6374", "old_comment": "the list of remote user agents", "old_comment_tokens": ["the", "list", "of", "remote", "user", "agents"], "new_comment": "the set of remote user agents", "new_comment_tokens": ["the", "set", "of", "remote", "user", "agents"], "old_code": "public static string [ ] get remote user agents ( ) { if ( unit test shell = = null ) { return null ; } return unit test shell . remote user agents ; }", "old_code_tokens": ["public", "static", "string", "[", "]", "get", "remote", "user", "agents", "(", ")", "{", "if", "(", "unit", "test", "shell", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "unit", "test", "shell", ".", "remote", "user", "agents", ";", "}"], "new_code": "public static set < string > get remote user agents ( ) { if ( unit test shell = = null ) { return null ; } return unit test shell . run style . get user agents ( ) ; }", "new_code_tokens": ["public", "static", "set", "<", "string", ">", "get", "remote", "user", "agents", "(", ")", "{", "if", "(", "unit", "test", "shell", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "unit", "test", "shell", ".", "run", "style", ".", "get", "user", "agents", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> set < <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> > <REPLACE_END> <KEEP> get remote user agents ( ) { if ( unit test shell = = null ) { return null ; } return unit test shell . <KEEP_END> <REPLACE_OLD> remote <REPLACE_NEW> run style . get <REPLACE_END> <KEEP> user agents <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "set", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "get", "remote", "user", "agents", "(", ")", "{", "if", "(", "unit", "test", "shell", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "unit", "test", "shell", ".", "<KEEP_END>", "<REPLACE_OLD>", "remote", "<REPLACE_NEW>", "run", "style", ".", "get", "<REPLACE_END>", "<KEEP>", "user", "agents", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "set", "<INSERT>", "<", "<KEEP>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "remote", "<KEEP>", "user", "<KEEP>", "agents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "unit", "<KEEP>", "test", "<KEEP>", "shell", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "unit", "<KEEP>", "test", "<KEEP>", "shell", "<KEEP>", ".", "<REPLACE_OLD>", "remote", "<REPLACE_NEW>", "run", "<REPLACE_NEW>", "style", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "user", "<KEEP>", "agents", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8549450386907282, "using": 0, "keep": 1}
{"id": "eclipse_ecf-90-4516", "old_comment": "the user ' s current presence , or null if the user is unavailable or if no presence information is available . .", "old_comment_tokens": ["the", "user", "'", "s", "current", "presence", ",", "or", "null", "if", "the", "user", "is", "unavailable", "or", "if", "no", "presence", "information", "is", "available", ".", "."], "new_comment": "the user ' s current presence , or unavailable presence if the user is offline or if no presence information is available . .", "new_comment_tokens": ["the", "user", "'", "s", "current", "presence", ",", "or", "unavailable", "presence", "if", "the", "user", "is", "offline", "or", "if", "no", "presence", "information", "is", "available", ".", "."], "old_code": "public presence get presence ( string user ) { string key = get presence map key ( user ) ; map user presences = ( map ) presence map . get ( key ) ; if ( user presences = = null ) { return null ; } else { iterator it = user presences . key set ( ) . iterator ( ) ; presence p ; presence presence = null ; while ( it . has next ( ) ) { p = ( presence ) user presences . get ( it . next ( ) ) ; if ( presence = = null ) { presence = p ; } else { if ( p . get priority ( ) > presence . get priority ( ) ) { presence = p ; } } } return presence ; } }", "old_code_tokens": ["public", "presence", "get", "presence", "(", "string", "user", ")", "{", "string", "key", "=", "get", "presence", "map", "key", "(", "user", ")", ";", "map", "user", "presences", "=", "(", "map", ")", "presence", "map", ".", "get", "(", "key", ")", ";", "if", "(", "user", "presences", "=", "=", "null", ")", "{", "return", "null", ";", "}", "else", "{", "iterator", "it", "=", "user", "presences", ".", "key", "set", "(", ")", ".", "iterator", "(", ")", ";", "presence", "p", ";", "presence", "presence", "=", "null", ";", "while", "(", "it", ".", "has", "next", "(", ")", ")", "{", "p", "=", "(", "presence", ")", "user", "presences", ".", "get", "(", "it", ".", "next", "(", ")", ")", ";", "if", "(", "presence", "=", "=", "null", ")", "{", "presence", "=", "p", ";", "}", "else", "{", "if", "(", "p", ".", "get", "priority", "(", ")", ">", "presence", ".", "get", "priority", "(", ")", ")", "{", "presence", "=", "p", ";", "}", "}", "}", "return", "presence", ";", "}", "}"], "new_code": "public presence get presence ( string user ) { string key = get presence map key ( string utils . parse bare address ( user ) ) ; map < string , presence > user presences = presence map . get ( key ) ; if ( user presences = = null ) { presence presence = new presence ( presence . type . unavailable ) ; presence . set from ( user ) ; return presence ; } else { presence presence = null ; for ( string resource : user presences . key set ( ) ) { presence p = user presences . get ( resource ) ; if ( ! p . is available ( ) ) { continue ; } if ( presence = = null | | p . get priority ( ) > presence . get priority ( ) ) { presence = p ; } else if ( p . get priority ( ) = = presence . get priority ( ) ) { presence . mode p mode = p . get mode ( ) ; if ( p mode = = null ) { p mode = presence . mode . available ; } presence . mode presence mode = presence . get mode ( ) ; if ( presence mode = = null ) { presence mode = presence . mode . available ; } if ( p mode . compare to ( presence mode ) < num ) { presence = p ; } } } if ( presence = = null ) { presence = new presence ( presence . type . unavailable ) ; presence . set from ( user ) ; return presence ; } else { return presence ; } } }", "new_code_tokens": ["public", "presence", "get", "presence", "(", "string", "user", ")", "{", "string", "key", "=", "get", "presence", "map", "key", "(", "string", "utils", ".", "parse", "bare", "address", "(", "user", ")", ")", ";", "map", "<", "string", ",", "presence", ">", "user", "presences", "=", "presence", "map", ".", "get", "(", "key", ")", ";", "if", "(", "user", "presences", "=", "=", "null", ")", "{", "presence", "presence", "=", "new", "presence", "(", "presence", ".", "type", ".", "unavailable", ")", ";", "presence", ".", "set", "from", "(", "user", ")", ";", "return", "presence", ";", "}", "else", "{", "presence", "presence", "=", "null", ";", "for", "(", "string", "resource", ":", "user", "presences", ".", "key", "set", "(", ")", ")", "{", "presence", "p", "=", "user", "presences", ".", "get", "(", "resource", ")", ";", "if", "(", "!", "p", ".", "is", "available", "(", ")", ")", "{", "continue", ";", "}", "if", "(", "presence", "=", "=", "null", "|", "|", "p", ".", "get", "priority", "(", ")", ">", "presence", ".", "get", "priority", "(", ")", ")", "{", "presence", "=", "p", ";", "}", "else", "if", "(", "p", ".", "get", "priority", "(", ")", "=", "=", "presence", ".", "get", "priority", "(", ")", ")", "{", "presence", ".", "mode", "p", "mode", "=", "p", ".", "get", "mode", "(", ")", ";", "if", "(", "p", "mode", "=", "=", "null", ")", "{", "p", "mode", "=", "presence", ".", "mode", ".", "available", ";", "}", "presence", ".", "mode", "presence", "mode", "=", "presence", ".", "get", "mode", "(", ")", ";", "if", "(", "presence", "mode", "=", "=", "null", ")", "{", "presence", "mode", "=", "presence", ".", "mode", ".", "available", ";", "}", "if", "(", "p", "mode", ".", "compare", "to", "(", "presence", "mode", ")", "<", "num", ")", "{", "presence", "=", "p", ";", "}", "}", "}", "if", "(", "presence", "=", "=", "null", ")", "{", "presence", "=", "new", "presence", "(", "presence", ".", "type", ".", "unavailable", ")", ";", "presence", ".", "set", "from", "(", "user", ")", ";", "return", "presence", ";", "}", "else", "{", "return", "presence", ";", "}", "}", "}"], "span_diff_code": "<KEEP> public presence get presence ( string user ) { string key = get presence map key ( <KEEP_END> <REPLACE_OLD> user <REPLACE_NEW> string utils . parse bare address ( user ) <REPLACE_END> <KEEP> ) ; map <KEEP_END> <REPLACE_OLD> user presences = ( <REPLACE_NEW> < string , presence > user presences = presence <REPLACE_END> <KEEP> map <KEEP_END> <REPLACE_OLD> ) presence map . get ( key ) ; if ( user presences = = null ) { <REPLACE_NEW> . get ( key ) ; if ( user presences = = null ) { presence presence = new presence ( presence . type . unavailable ) ; presence . set from ( user ) ; <REPLACE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> presence <REPLACE_END> <KEEP> ; } else { <KEEP_END> <REPLACE_OLD> iterator it = <REPLACE_NEW> presence presence = null ; for ( string resource : <REPLACE_END> <KEEP> user presences . key set ( ) <KEEP_END> <REPLACE_OLD> . iterator ( ) ; presence p ; presence presence = null ; while ( it . has next ( ) ) { p = ( presence ) user presences . get ( it . next ( ) ) ; if ( presence = = null <REPLACE_NEW> ) { presence p = user presences . get ( resource ) ; if ( ! p . is available ( ) ) { continue ; } if ( presence = = null | | p . get priority ( ) > presence . get priority ( ) <REPLACE_END> <KEEP> ) { presence = p ; } else <KEEP_END> <REPLACE_OLD> { if ( p . get priority ( ) > presence . get priority ( ) ) { presence = p ; } } } <REPLACE_NEW> if ( p . get priority ( ) = = presence . get priority ( ) ) { presence . mode p mode = p . get mode ( ) ; if ( p mode = = null ) { p mode = presence . mode . available ; } presence . mode presence mode = presence . get mode ( ) ; if ( presence mode = = null ) { presence mode = presence . mode . available ; } if ( p mode . compare to ( presence mode ) < num ) { presence = p ; } } } if ( presence = = null ) { presence = new presence ( presence . type . unavailable ) ; presence . set from ( user ) ; <REPLACE_END> <KEEP> return presence ; } <KEEP_END> <REPLACE_OLD> } <REPLACE_NEW> else { return presence ; } } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "presence", "get", "presence", "(", "string", "user", ")", "{", "string", "key", "=", "get", "presence", "map", "key", "(", "<KEEP_END>", "<REPLACE_OLD>", "user", "<REPLACE_NEW>", "string", "utils", ".", "parse", "bare", "address", "(", "user", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "map", "<KEEP_END>", "<REPLACE_OLD>", "user", "presences", "=", "(", "<REPLACE_NEW>", "<", "string", ",", "presence", ">", "user", "presences", "=", "presence", "<REPLACE_END>", "<KEEP>", "map", "<KEEP_END>", "<REPLACE_OLD>", ")", "presence", "map", ".", "get", "(", "key", ")", ";", "if", "(", "user", "presences", "=", "=", "null", ")", "{", "<REPLACE_NEW>", ".", "get", "(", "key", ")", ";", "if", "(", "user", "presences", "=", "=", "null", ")", "{", "presence", "presence", "=", "new", "presence", "(", "presence", ".", "type", ".", "unavailable", ")", ";", "presence", ".", "set", "from", "(", "user", ")", ";", "<REPLACE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "presence", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "iterator", "it", "=", "<REPLACE_NEW>", "presence", "presence", "=", "null", ";", "for", "(", "string", "resource", ":", "<REPLACE_END>", "<KEEP>", "user", "presences", ".", "key", "set", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ".", "iterator", "(", ")", ";", "presence", "p", ";", "presence", "presence", "=", "null", ";", "while", "(", "it", ".", "has", "next", "(", ")", ")", "{", "p", "=", "(", "presence", ")", "user", "presences", ".", "get", "(", "it", ".", "next", "(", ")", ")", ";", "if", "(", "presence", "=", "=", "null", "<REPLACE_NEW>", ")", "{", "presence", "p", "=", "user", "presences", ".", "get", "(", "resource", ")", ";", "if", "(", "!", "p", ".", "is", "available", "(", ")", ")", "{", "continue", ";", "}", "if", "(", "presence", "=", "=", "null", "|", "|", "p", ".", "get", "priority", "(", ")", ">", "presence", ".", "get", "priority", "(", ")", "<REPLACE_END>", "<KEEP>", ")", "{", "presence", "=", "p", ";", "}", "else", "<KEEP_END>", "<REPLACE_OLD>", "{", "if", "(", "p", ".", "get", "priority", "(", ")", ">", "presence", ".", "get", "priority", "(", ")", ")", "{", "presence", "=", "p", ";", "}", "}", "}", "<REPLACE_NEW>", "if", "(", "p", ".", "get", "priority", "(", ")", "=", "=", "presence", ".", "get", "priority", "(", ")", ")", "{", "presence", ".", "mode", "p", "mode", "=", "p", ".", "get", "mode", "(", ")", ";", "if", "(", "p", "mode", "=", "=", "null", ")", "{", "p", "mode", "=", "presence", ".", "mode", ".", "available", ";", "}", "presence", ".", "mode", "presence", "mode", "=", "presence", ".", "get", "mode", "(", ")", ";", "if", "(", "presence", "mode", "=", "=", "null", ")", "{", "presence", "mode", "=", "presence", ".", "mode", ".", "available", ";", "}", "if", "(", "p", "mode", ".", "compare", "to", "(", "presence", "mode", ")", "<", "num", ")", "{", "presence", "=", "p", ";", "}", "}", "}", "if", "(", "presence", "=", "=", "null", ")", "{", "presence", "=", "new", "presence", "(", "presence", ".", "type", ".", "unavailable", ")", ";", "presence", ".", "set", "from", "(", "user", ")", ";", "<REPLACE_END>", "<KEEP>", "return", "presence", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "else", "{", "return", "presence", ";", "}", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> unavailable presence <REPLACE_END> <REPLACE_OLD> unavailable <REPLACE_NEW> offline <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "unavailable", "presence", "<REPLACE_END>", "<REPLACE_OLD>", "unavailable", "<REPLACE_NEW>", "offline", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "presence", "<KEEP>", "get", "<KEEP>", "presence", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "user", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "presence", "<KEEP>", "map", "<KEEP>", "key", "<KEEP>", "(", "<REPLACE_OLD>", "user", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "utils", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "parse", "<REPLACE_NEW>", "bare", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "map", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "presences", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "presences", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "presence", "<KEEP>", "map", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "presences", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "presences", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "unavailable", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "presence", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "it", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ":", "<KEEP>", "user", "<KEEP>", "presences", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "while", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "it", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "presences", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "it", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "presences", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "available", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "continue", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "priority", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "priority", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "presence", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "priority", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "presence", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "priority", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "priority", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "available", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "available", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "compare", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "unavailable", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "return", "<KEEP>", "presence", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "presence", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8795319406537057, "using": 2, "keep": 1}
{"id": "apache_shiro-86-6365", "old_comment": "ki http servlet request ki http servlet request instance wrapping the original .", "old_comment_tokens": ["ki", "http", "servlet", "request", "ki", "http", "servlet", "request", "instance", "wrapping", "the", "original", "."], "new_comment": "shiro http servlet request ki http servlet request instance wrapping the original .", "new_comment_tokens": ["shiro", "http", "servlet", "request", "ki", "http", "servlet", "request", "instance", "wrapping", "the", "original", "."], "old_code": "protected servlet request wrap servlet request ( http servlet request orig ) { return new ki http servlet request ( orig , get servlet context ( ) , is http sessions ( ) ) ; }", "old_code_tokens": ["protected", "servlet", "request", "wrap", "servlet", "request", "(", "http", "servlet", "request", "orig", ")", "{", "return", "new", "ki", "http", "servlet", "request", "(", "orig", ",", "get", "servlet", "context", "(", ")", ",", "is", "http", "sessions", "(", ")", ")", ";", "}"], "new_code": "protected servlet request wrap servlet request ( http servlet request orig ) { return new shiro http servlet request ( orig , get servlet context ( ) , is http sessions ( ) ) ; }", "new_code_tokens": ["protected", "servlet", "request", "wrap", "servlet", "request", "(", "http", "servlet", "request", "orig", ")", "{", "return", "new", "shiro", "http", "servlet", "request", "(", "orig", ",", "get", "servlet", "context", "(", ")", ",", "is", "http", "sessions", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> protected servlet request wrap servlet request ( http servlet request orig ) { return new <KEEP_END> <REPLACE_OLD> ki <REPLACE_NEW> shiro <REPLACE_END> <KEEP> http servlet request ( orig , get servlet context ( ) , is http sessions ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "servlet", "request", "wrap", "servlet", "request", "(", "http", "servlet", "request", "orig", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "ki", "<REPLACE_NEW>", "shiro", "<REPLACE_END>", "<KEEP>", "http", "servlet", "request", "(", "orig", ",", "get", "servlet", "context", "(", ")", ",", "is", "http", "sessions", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_AFTER> ki http servlet request ki <REPLACE_NEW_KEEP_AFTER> shiro http servlet request ki <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_AFTER>", "ki", "http", "servlet", "request", "ki", "<REPLACE_NEW_KEEP_AFTER>", "shiro", "http", "servlet", "request", "ki", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "wrap", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "orig", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "ki", "<REPLACE_NEW>", "shiro", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "orig", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "is", "<KEEP>", "http", "<KEEP>", "sessions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9231172976296468, "using": 1, "keep": 1}
{"id": "eclipse_pdt-37-6079", "old_comment": "an ifile ( new instance of external file decorator ) .", "old_comment_tokens": ["an", "ifile", "(", "new", "instance", "of", "external", "file", "decorator", ")", "."], "new_comment": "an ifile ( new instance of external file wrapper ) .", "new_comment_tokens": ["an", "ifile", "(", "new", "instance", "of", "external", "file", "wrapper", ")", "."], "old_code": "public synchronized static ifile create file ( string path string ) { if ( file . separator char ! = str ) { path string = path string . replace ( str , str ) ; } return new external file decorator ( path string ) ; }", "old_code_tokens": ["public", "synchronized", "static", "ifile", "create", "file", "(", "string", "path", "string", ")", "{", "if", "(", "file", ".", "separator", "char", "!", "=", "str", ")", "{", "path", "string", "=", "path", "string", ".", "replace", "(", "str", ",", "str", ")", ";", "}", "return", "new", "external", "file", "decorator", "(", "path", "string", ")", ";", "}"], "new_code": "public synchronized static ifile create file ( string path string ) { if ( file . separator char ! = str ) { path string = path string . replace ( str , str ) ; } return new external file wrapper ( path string ) ; }", "new_code_tokens": ["public", "synchronized", "static", "ifile", "create", "file", "(", "string", "path", "string", ")", "{", "if", "(", "file", ".", "separator", "char", "!", "=", "str", ")", "{", "path", "string", "=", "path", "string", ".", "replace", "(", "str", ",", "str", ")", ";", "}", "return", "new", "external", "file", "wrapper", "(", "path", "string", ")", ";", "}"], "span_diff_code": "<KEEP> public synchronized static ifile create file ( string path string ) { if ( file . separator char ! = str ) { path string = path string . replace ( str , str ) ; } return new external file <KEEP_END> <REPLACE_OLD> decorator <REPLACE_NEW> wrapper <REPLACE_END> <KEEP> ( path string ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "synchronized", "static", "ifile", "create", "file", "(", "string", "path", "string", ")", "{", "if", "(", "file", ".", "separator", "char", "!", "=", "str", ")", "{", "path", "string", "=", "path", "string", ".", "replace", "(", "str", ",", "str", ")", ";", "}", "return", "new", "external", "file", "<KEEP_END>", "<REPLACE_OLD>", "decorator", "<REPLACE_NEW>", "wrapper", "<REPLACE_END>", "<KEEP>", "(", "path", "string", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> decorator <REPLACE_NEW> wrapper <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "decorator", "<REPLACE_NEW>", "wrapper", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "synchronized", "<KEEP>", "static", "<KEEP>", "ifile", "<KEEP>", "create", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "path", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "separator", "<KEEP>", "char", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "path", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "path", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "external", "<KEEP>", "file", "<REPLACE_OLD>", "decorator", "<REPLACE_NEW>", "wrapper", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9928750150852855, "using": 2, "keep": 1}
{"id": "timabell_jsap-3-4922", "old_comment": "the same as gethelp ( 80 )", "old_comment_tokens": ["the", "same", "as", "gethelp", "(", "80", ")"], "new_comment": "the same as gethelp ( 80 , \" \\ n \" )", "new_comment_tokens": ["the", "same", "as", "gethelp", "(", "80", ",", "\"", "\\", "n", "\"", ")"], "old_code": "public string get help ( ) { return ( get help ( default _ screenwidth ) ) ; }", "old_code_tokens": ["public", "string", "get", "help", "(", ")", "{", "return", "(", "get", "help", "(", "default", "_", "screenwidth", ")", ")", ";", "}"], "new_code": "public string get help ( ) { return ( get help ( default _ screenwidth , default _ param _ help _ separator ) ) ; }", "new_code_tokens": ["public", "string", "get", "help", "(", ")", "{", "return", "(", "get", "help", "(", "default", "_", "screenwidth", ",", "default", "_", "param", "_", "help", "_", "separator", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public string get help ( ) { return ( get help ( default _ screenwidth <KEEP_END> <INSERT> , default _ param _ help _ separator <INSERT_END> <KEEP> ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "help", "(", ")", "{", "return", "(", "get", "help", "(", "default", "_", "screenwidth", "<KEEP_END>", "<INSERT>", ",", "default", "_", "param", "_", "help", "_", "separator", "<INSERT_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> 80 <INSERT_NEW_KEEP_BEFORE> 80 , \" \\ n \" <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "80", "<INSERT_NEW_KEEP_BEFORE>", "80", ",", "\"", "\\", "n", "\"", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "help", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "help", "<KEEP>", "(", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "screenwidth", "<INSERT>", ",", "<INSERT>", "default", "<INSERT>", "_", "<INSERT>", "param", "<INSERT>", "_", "<INSERT>", "help", "<INSERT>", "_", "<INSERT>", "separator", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8663748023506606, "using": 1, "keep": 1}
{"id": "Netflix_Hystrix-3-209", "old_comment": "this hystrix command builder", "old_comment_tokens": ["this", "hystrix", "command", "builder"], "new_comment": "this hystrix command builder . builder", "new_comment_tokens": ["this", "hystrix", "command", "builder", ".", "builder"], "old_code": "public hystrix command builder collapsed requests ( collection < hystrix collapser . collapsed request < object , object > > p collapsed requests ) { this . collapsed requests = p collapsed requests ; return this ; }", "old_code_tokens": ["public", "hystrix", "command", "builder", "collapsed", "requests", "(", "collection", "<", "hystrix", "collapser", ".", "collapsed", "request", "<", "object", ",", "object", ">", ">", "p", "collapsed", "requests", ")", "{", "this", ".", "collapsed", "requests", "=", "p", "collapsed", "requests", ";", "return", "this", ";", "}"], "new_code": "public builder collapsed requests ( collection < hystrix collapser . collapsed request < object , object > > p collapsed requests ) { this . collapsed requests = p collapsed requests ; return this ; }", "new_code_tokens": ["public", "builder", "collapsed", "requests", "(", "collection", "<", "hystrix", "collapser", ".", "collapsed", "request", "<", "object", ",", "object", ">", ">", "p", "collapsed", "requests", ")", "{", "this", ".", "collapsed", "requests", "=", "p", "collapsed", "requests", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hystrix command <DELETE_END> <KEEP> builder collapsed requests ( collection < hystrix collapser . collapsed request < object , object > > p collapsed requests ) { this . collapsed requests = p collapsed requests ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hystrix", "command", "<DELETE_END>", "<KEEP>", "builder", "collapsed", "requests", "(", "collection", "<", "hystrix", "collapser", ".", "collapsed", "request", "<", "object", ",", "object", ">", ">", "p", "collapsed", "requests", ")", "{", "this", ".", "collapsed", "requests", "=", "p", "collapsed", "requests", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> builder <INSERT_NEW_KEEP_BEFORE> builder . builder <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "builder", "<INSERT_NEW_KEEP_BEFORE>", "builder", ".", "builder", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hystrix", "<DELETE>", "command", "<KEEP>", "builder", "<KEEP>", "collapsed", "<KEEP>", "requests", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "hystrix", "<KEEP>", "collapser", "<KEEP>", ".", "<KEEP>", "collapsed", "<KEEP>", "request", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "p", "<KEEP>", "collapsed", "<KEEP>", "requests", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "collapsed", "<KEEP>", "requests", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "collapsed", "<KEEP>", "requests", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9087099876527508, "using": 0, "keep": 1}
{"id": "hibernate_hibernate-orm-35-3068", "old_comment": "value for property ' hi value ' .", "old_comment_tokens": ["value", "for", "property", "'", "hi", "value", "'", "."], "new_comment": "value for property ' upper limit ' .", "new_comment_tokens": ["value", "for", "property", "'", "upper", "limit", "'", "."], "old_code": "public long get hi value ( ) { return hi value ; }", "old_code_tokens": ["public", "long", "get", "hi", "value", "(", ")", "{", "return", "hi", "value", ";", "}"], "new_code": "public integral data type holder get hi value ( ) { return upper limit ; }", "new_code_tokens": ["public", "integral", "data", "type", "holder", "get", "hi", "value", "(", ")", "{", "return", "upper", "limit", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> integral data type holder <REPLACE_END> <KEEP> get hi value ( ) { return <KEEP_END> <REPLACE_OLD> hi value <REPLACE_NEW> upper limit <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "integral", "data", "type", "holder", "<REPLACE_END>", "<KEEP>", "get", "hi", "value", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "hi", "value", "<REPLACE_NEW>", "upper", "limit", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hi value <REPLACE_NEW> upper limit <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hi", "value", "<REPLACE_NEW>", "upper", "limit", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "integral", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "holder", "<KEEP>", "get", "<KEEP>", "hi", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "hi", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "upper", "<REPLACE_NEW>", "limit", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9395127816872972, "using": 2, "keep": 1}
{"id": "apache_harmony-classlib-46-7161", "old_comment": "encoding of dn", "old_comment_tokens": ["encoding", "of", "dn"], "new_comment": "return encoding , no copying is performed", "new_comment_tokens": ["return", "encoding", ",", "no", "copying", "is", "performed"], "old_code": "public byte [ ] get encoded ( ) { get internal encoding ( ) ; byte [ ] enc = new byte [ encoded . length ] ; system . arraycopy ( encoded , num , enc , num , encoded . length ) ; return enc ; }", "old_code_tokens": ["public", "byte", "[", "]", "get", "encoded", "(", ")", "{", "get", "internal", "encoding", "(", ")", ";", "byte", "[", "]", "enc", "=", "new", "byte", "[", "encoded", ".", "length", "]", ";", "system", ".", "arraycopy", "(", "encoded", ",", "num", ",", "enc", ",", "num", ",", "encoded", ".", "length", ")", ";", "return", "enc", ";", "}"], "new_code": "public byte [ ] get encoded ( ) { if ( encoded = = null ) { encoded = asn1 . encode ( this ) ; } return encoded ; }", "new_code_tokens": ["public", "byte", "[", "]", "get", "encoded", "(", ")", "{", "if", "(", "encoded", "=", "=", "null", ")", "{", "encoded", "=", "asn1", ".", "encode", "(", "this", ")", ";", "}", "return", "encoded", ";", "}"], "span_diff_code": "<KEEP> public byte [ ] get encoded ( ) { <KEEP_END> <REPLACE_OLD> get internal encoding <REPLACE_NEW> if <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> encoded = = null ) { encoded = asn1 . encode ( this <INSERT_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> byte [ ] enc = new byte [ <REPLACE_NEW> } return <REPLACE_END> <KEEP> encoded <KEEP_END> <DELETE> . length ] ; system . arraycopy ( encoded , num , enc , num , encoded . length ) ; return enc <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "byte", "[", "]", "get", "encoded", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "get", "internal", "encoding", "<REPLACE_NEW>", "if", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "encoded", "=", "=", "null", ")", "{", "encoded", "=", "asn1", ".", "encode", "(", "this", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "byte", "[", "]", "enc", "=", "new", "byte", "[", "<REPLACE_NEW>", "}", "return", "<REPLACE_END>", "<KEEP>", "encoded", "<KEEP_END>", "<DELETE>", ".", "length", "]", ";", "system", ".", "arraycopy", "(", "encoded", ",", "num", ",", "enc", ",", "num", ",", "encoded", ".", "length", ")", ";", "return", "enc", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> encoding <INSERT_NEW_KEEP_AFTER> return encoding <INSERT_END> <REPLACE_OLD> of dn <REPLACE_NEW> , no copying is performed <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "encoding", "<INSERT_NEW_KEEP_AFTER>", "return", "encoding", "<INSERT_END>", "<REPLACE_OLD>", "of", "dn", "<REPLACE_NEW>", ",", "no", "copying", "is", "performed", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "encoded", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "internal", "<REPLACE_OLD>", "encoding", "<REPLACE_NEW>", "if", "<KEEP>", "(", "<INSERT>", "encoded", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "encoded", "<INSERT>", "=", "<INSERT>", "asn1", "<INSERT>", ".", "<INSERT>", "encode", "<INSERT>", "(", "<INSERT>", "this", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "enc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "[", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<KEEP>", "encoded", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "]", "<DELETE>", ";", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "arraycopy", "<DELETE>", "(", "<DELETE>", "encoded", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "enc", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "encoded", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "enc", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7955432765755346, "using": 2, "keep": 1}
{"id": "apache_wss4j-113-5674", "old_comment": "the current date / time as a date object", "old_comment_tokens": ["the", "current", "date", "/", "time", "as", "a", "date", "object"], "new_comment": "the current date / time as a local date time object", "new_comment_tokens": ["the", "current", "date", "/", "time", "as", "a", "local", "date", "time", "object"], "old_code": "public date now ( ) { return new date ( ) ; }", "old_code_tokens": ["public", "date", "now", "(", ")", "{", "return", "new", "date", "(", ")", ";", "}"], "new_code": "public local date time now ( ) { return local date time . now ( ) ; }", "new_code_tokens": ["public", "local", "date", "time", "now", "(", ")", "{", "return", "local", "date", "time", ".", "now", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> local <INSERT_END> <KEEP> date <KEEP_END> <INSERT> time <INSERT_END> <KEEP> now ( ) { return <KEEP_END> <REPLACE_OLD> new <REPLACE_NEW> local <REPLACE_END> <KEEP> date <KEEP_END> <INSERT> time . now <INSERT_END> <KEEP> ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "local", "<INSERT_END>", "<KEEP>", "date", "<KEEP_END>", "<INSERT>", "time", "<INSERT_END>", "<KEEP>", "now", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "local", "<REPLACE_END>", "<KEEP>", "date", "<KEEP_END>", "<INSERT>", "time", ".", "now", "<INSERT_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a local <INSERT_END> <INSERT_OLD_KEEP_AFTER> object <INSERT_NEW_KEEP_AFTER> time object <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "local", "<INSERT_END>", "<INSERT_OLD_KEEP_AFTER>", "object", "<INSERT_NEW_KEEP_AFTER>", "time", "object", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "local", "<KEEP>", "date", "<INSERT>", "time", "<KEEP>", "now", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "local", "<KEEP>", "date", "<INSERT>", "time", "<INSERT>", ".", "<INSERT>", "now", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.878093517443119, "using": 1, "keep": 1}
{"id": "toddlipcon_hadoop-225-4021", "old_comment": "the writable comparable comparator used to compare keys .", "old_comment_tokens": ["the", "writable", "comparable", "comparator", "used", "to", "compare", "keys", "."], "new_comment": "the raw comparator comparator used to compare keys .", "new_comment_tokens": ["the", "raw", "comparator", "comparator", "used", "to", "compare", "keys", "."], "old_code": "public writable comparator get output key comparator ( ) { class the class = get class ( str , null , writable comparator . class ) ; if ( the class ! = null ) return ( writable comparator ) reflection utils . new instance ( the class , this ) ; return writable comparator . get ( get map output key class ( ) ) ; }", "old_code_tokens": ["public", "writable", "comparator", "get", "output", "key", "comparator", "(", ")", "{", "class", "the", "class", "=", "get", "class", "(", "str", ",", "null", ",", "writable", "comparator", ".", "class", ")", ";", "if", "(", "the", "class", "!", "=", "null", ")", "return", "(", "writable", "comparator", ")", "reflection", "utils", ".", "new", "instance", "(", "the", "class", ",", "this", ")", ";", "return", "writable", "comparator", ".", "get", "(", "get", "map", "output", "key", "class", "(", ")", ")", ";", "}"], "new_code": "public raw comparator get output key comparator ( ) { class the class = get class ( str , null , raw comparator . class ) ; if ( the class ! = null ) return ( raw comparator ) reflection utils . new instance ( the class , this ) ; return writable comparator . get ( get map output key class ( ) ) ; }", "new_code_tokens": ["public", "raw", "comparator", "get", "output", "key", "comparator", "(", ")", "{", "class", "the", "class", "=", "get", "class", "(", "str", ",", "null", ",", "raw", "comparator", ".", "class", ")", ";", "if", "(", "the", "class", "!", "=", "null", ")", "return", "(", "raw", "comparator", ")", "reflection", "utils", ".", "new", "instance", "(", "the", "class", ",", "this", ")", ";", "return", "writable", "comparator", ".", "get", "(", "get", "map", "output", "key", "class", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> writable <REPLACE_NEW> raw <REPLACE_END> <KEEP> comparator get output key comparator ( ) { class the class = get class ( str , null , <KEEP_END> <REPLACE_OLD> writable <REPLACE_NEW> raw <REPLACE_END> <KEEP> comparator . class ) ; if ( the class ! = null ) return ( <KEEP_END> <REPLACE_OLD> writable <REPLACE_NEW> raw <REPLACE_END> <KEEP> comparator ) reflection utils . new instance ( the class , this ) ; return writable comparator . get ( get map output key class ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "writable", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", "comparator", "get", "output", "key", "comparator", "(", ")", "{", "class", "the", "class", "=", "get", "class", "(", "str", ",", "null", ",", "<KEEP_END>", "<REPLACE_OLD>", "writable", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", "comparator", ".", "class", ")", ";", "if", "(", "the", "class", "!", "=", "null", ")", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "writable", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", "comparator", ")", "reflection", "utils", ".", "new", "instance", "(", "the", "class", ",", "this", ")", ";", "return", "writable", "comparator", ".", "get", "(", "get", "map", "output", "key", "class", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> writable comparable <REPLACE_NEW> raw comparator <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "writable", "comparable", "<REPLACE_NEW>", "raw", "comparator", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "writable", "<REPLACE_NEW>", "raw", "<KEEP>", "comparator", "<KEEP>", "get", "<KEEP>", "output", "<KEEP>", "key", "<KEEP>", "comparator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "the", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<REPLACE_OLD>", "writable", "<REPLACE_NEW>", "raw", "<KEEP>", "comparator", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "the", "<KEEP>", "class", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "writable", "<REPLACE_NEW>", "raw", "<KEEP>", "comparator", "<KEEP>", ")", "<KEEP>", "reflection", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "the", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "writable", "<KEEP>", "comparator", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "map", "<KEEP>", "output", "<KEEP>", "key", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8650837902541223, "using": 1, "keep": 1}
{"id": "JetBrains_android-189-6836", "old_comment": "the com . android . sdklib . sdk manager . layoutlib version , or null if both the api and revision are unspecified .", "old_comment_tokens": ["the", "com", ".", "android", ".", "sdklib", ".", "sdk", "manager", ".", "layoutlib", "version", ",", "or", "null", "if", "both", "the", "api", "and", "revision", "are", "unspecified", "."], "new_comment": "the layoutlib version , or null if both the api and revision are unspecified .", "new_comment_tokens": ["the", "layoutlib", "version", ",", "or", "null", "if", "both", "the", "api", "and", "revision", "are", "unspecified", "."], "old_code": "@ nullable public sdk manager . layoutlib version get layoutlib version ( ) { if ( m layoutlib version . get first ( ) ! = layoutlib _ api _ not _ specified | | m layoutlib version . get second ( ) ! = layoutlib _ rev _ not _ specified ) { return new sdk manager . layoutlib version ( m layoutlib version . get first ( ) , m layoutlib version . get second ( ) ) ; } return null ; }", "old_code_tokens": ["@", "nullable", "public", "sdk", "manager", ".", "layoutlib", "version", "get", "layoutlib", "version", "(", ")", "{", "if", "(", "m", "layoutlib", "version", ".", "get", "first", "(", ")", "!", "=", "layoutlib", "_", "api", "_", "not", "_", "specified", "|", "|", "m", "layoutlib", "version", ".", "get", "second", "(", ")", "!", "=", "layoutlib", "_", "rev", "_", "not", "_", "specified", ")", "{", "return", "new", "sdk", "manager", ".", "layoutlib", "version", "(", "m", "layoutlib", "version", ".", "get", "first", "(", ")", ",", "m", "layoutlib", "version", ".", "get", "second", "(", ")", ")", ";", "}", "return", "null", ";", "}"], "new_code": "@ nullable public layoutlib version get layoutlib version ( ) { if ( m layoutlib version . get first ( ) ! = layoutlib _ api _ not _ specified | | m layoutlib version . get second ( ) ! = layoutlib _ rev _ not _ specified ) { return new layoutlib version ( m layoutlib version . get first ( ) , m layoutlib version . get second ( ) ) ; } return null ; }", "new_code_tokens": ["@", "nullable", "public", "layoutlib", "version", "get", "layoutlib", "version", "(", ")", "{", "if", "(", "m", "layoutlib", "version", ".", "get", "first", "(", ")", "!", "=", "layoutlib", "_", "api", "_", "not", "_", "specified", "|", "|", "m", "layoutlib", "version", ".", "get", "second", "(", ")", "!", "=", "layoutlib", "_", "rev", "_", "not", "_", "specified", ")", "{", "return", "new", "layoutlib", "version", "(", "m", "layoutlib", "version", ".", "get", "first", "(", ")", ",", "m", "layoutlib", "version", ".", "get", "second", "(", ")", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> @ nullable public <KEEP_END> <DELETE> sdk manager . <DELETE_END> <KEEP> layoutlib version get layoutlib version ( ) { if ( m layoutlib version . get first ( ) ! = layoutlib _ api _ not _ specified | | m layoutlib version . get second ( ) ! = layoutlib _ rev _ not _ specified ) { return new <KEEP_END> <DELETE> sdk manager . <DELETE_END> <KEEP> layoutlib version ( m layoutlib version . get first ( ) , m layoutlib version . get second ( ) ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "nullable", "public", "<KEEP_END>", "<DELETE>", "sdk", "manager", ".", "<DELETE_END>", "<KEEP>", "layoutlib", "version", "get", "layoutlib", "version", "(", ")", "{", "if", "(", "m", "layoutlib", "version", ".", "get", "first", "(", ")", "!", "=", "layoutlib", "_", "api", "_", "not", "_", "specified", "|", "|", "m", "layoutlib", "version", ".", "get", "second", "(", ")", "!", "=", "layoutlib", "_", "rev", "_", "not", "_", "specified", ")", "{", "return", "new", "<KEEP_END>", "<DELETE>", "sdk", "manager", ".", "<DELETE_END>", "<KEEP>", "layoutlib", "version", "(", "m", "layoutlib", "version", ".", "get", "first", "(", ")", ",", "m", "layoutlib", "version", ".", "get", "second", "(", ")", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> com . android . sdklib . sdk manager . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "com", ".", "android", ".", "sdklib", ".", "sdk", "manager", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "public", "<DELETE>", "sdk", "<DELETE>", "manager", "<DELETE>", ".", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", "get", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "layoutlib", "<KEEP>", "_", "<KEEP>", "api", "<KEEP>", "_", "<KEEP>", "not", "<KEEP>", "_", "<KEEP>", "specified", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "m", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "second", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "layoutlib", "<KEEP>", "_", "<KEEP>", "rev", "<KEEP>", "_", "<KEEP>", "not", "<KEEP>", "_", "<KEEP>", "specified", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<DELETE>", "sdk", "<DELETE>", "manager", "<DELETE>", ".", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", "layoutlib", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "second", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8750957084885307, "using": 1, "keep": 1}
{"id": "googlesamples_google-services-0-2458", "old_comment": "a new instance of pattern fragment", "old_comment_tokens": ["a", "new", "instance", "of", "pattern", "fragment"], "new_comment": "a new instance of image fragment", "new_comment_tokens": ["a", "new", "instance", "of", "image", "fragment"], "old_code": "public static pattern fragment new instance ( int res id ) { pattern fragment fragment = new pattern fragment ( ) ; bundle args = new bundle ( ) ; args . put int ( arg _ pattern , res id ) ; fragment . set arguments ( args ) ; return fragment ; }", "old_code_tokens": ["public", "static", "pattern", "fragment", "new", "instance", "(", "int", "res", "id", ")", "{", "pattern", "fragment", "fragment", "=", "new", "pattern", "fragment", "(", ")", ";", "bundle", "args", "=", "new", "bundle", "(", ")", ";", "args", ".", "put", "int", "(", "arg", "_", "pattern", ",", "res", "id", ")", ";", "fragment", ".", "set", "arguments", "(", "args", ")", ";", "return", "fragment", ";", "}"], "new_code": "public static image fragment new instance ( int res id ) { image fragment fragment = new image fragment ( ) ; bundle args = new bundle ( ) ; args . put int ( arg _ pattern , res id ) ; fragment . set arguments ( args ) ; return fragment ; }", "new_code_tokens": ["public", "static", "image", "fragment", "new", "instance", "(", "int", "res", "id", ")", "{", "image", "fragment", "fragment", "=", "new", "image", "fragment", "(", ")", ";", "bundle", "args", "=", "new", "bundle", "(", ")", ";", "args", ".", "put", "int", "(", "arg", "_", "pattern", ",", "res", "id", ")", ";", "fragment", ".", "set", "arguments", "(", "args", ")", ";", "return", "fragment", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> pattern <REPLACE_NEW> image <REPLACE_END> <KEEP> fragment new instance ( int res id ) { <KEEP_END> <REPLACE_OLD> pattern <REPLACE_NEW> image <REPLACE_END> <KEEP> fragment fragment = new <KEEP_END> <REPLACE_OLD> pattern <REPLACE_NEW> image <REPLACE_END> <KEEP> fragment ( ) ; bundle args = new bundle ( ) ; args . put int ( arg _ pattern , res id ) ; fragment . set arguments ( args ) ; return fragment ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<REPLACE_END>", "<KEEP>", "fragment", "new", "instance", "(", "int", "res", "id", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<REPLACE_END>", "<KEEP>", "fragment", "fragment", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<REPLACE_END>", "<KEEP>", "fragment", "(", ")", ";", "bundle", "args", "=", "new", "bundle", "(", ")", ";", "args", ".", "put", "int", "(", "arg", "_", "pattern", ",", "res", "id", ")", ";", "fragment", ".", "set", "arguments", "(", "args", ")", ";", "return", "fragment", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> pattern <REPLACE_NEW> image <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<KEEP>", "fragment", "<KEEP>", "new", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "res", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<KEEP>", "fragment", "<KEEP>", "fragment", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "image", "<KEEP>", "fragment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bundle", "<KEEP>", "args", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "bundle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "args", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "arg", "<KEEP>", "_", "<KEEP>", "pattern", "<KEEP>", ",", "<KEEP>", "res", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "fragment", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "arguments", "<KEEP>", "(", "<KEEP>", "args", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "fragment", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9747714195201749, "using": 2, "keep": 1}
{"id": "apache_ddlutils-107-7140", "old_comment": "the previous column", "old_comment_tokens": ["the", "previous", "column"], "new_comment": "the name of the previous column", "new_comment_tokens": ["the", "name", "of", "the", "previous", "column"], "old_code": "public column get previous column ( ) { return _ previous column ; }", "old_code_tokens": ["public", "column", "get", "previous", "column", "(", ")", "{", "return", "_", "previous", "column", ";", "}"], "new_code": "public string get previous column ( ) { return _ previous column name ; }", "new_code_tokens": ["public", "string", "get", "previous", "column", "(", ")", "{", "return", "_", "previous", "column", "name", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> column <REPLACE_NEW> string <REPLACE_END> <KEEP> get previous column ( ) { return _ previous column <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "column", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "previous", "column", "(", ")", "{", "return", "_", "previous", "column", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the <INSERT_NEW_KEEP_AFTER> the name of the <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "<INSERT_NEW_KEEP_AFTER>", "the", "name", "of", "the", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "column", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "previous", "<KEEP>", "column", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "previous", "<KEEP>", "column", "<INSERT>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9808188004781875, "using": 2, "keep": 1}
{"id": "ushahidi_SMSSync-51-4923", "old_comment": "an observable that emits a list of web service", "old_comment_tokens": ["an", "observable", "that", "emits", "a", "list", "of", "web", "service"], "new_comment": "an observable that emits a list of sync url", "new_comment_tokens": ["an", "observable", "that", "emits", "a", "list", "of", "sync", "url"], "old_code": "public observable < list < web service > > get web services ( ) { return observable . create ( subscriber - > { final list < web service > web services = cupboard ( ) . with database ( get readable database ( ) ) . query ( web service . class ) . list ( ) ; if ( web services ! = null ) { subscriber . on next ( web services ) ; subscriber . on completed ( ) ; } else { subscriber . on error ( new web service not found exception ( ) ) ; } } ) ; }", "old_code_tokens": ["public", "observable", "<", "list", "<", "web", "service", ">", ">", "get", "web", "services", "(", ")", "{", "return", "observable", ".", "create", "(", "subscriber", "-", ">", "{", "final", "list", "<", "web", "service", ">", "web", "services", "=", "cupboard", "(", ")", ".", "with", "database", "(", "get", "readable", "database", "(", ")", ")", ".", "query", "(", "web", "service", ".", "class", ")", ".", "list", "(", ")", ";", "if", "(", "web", "services", "!", "=", "null", ")", "{", "subscriber", ".", "on", "next", "(", "web", "services", ")", ";", "subscriber", ".", "on", "completed", "(", ")", ";", "}", "else", "{", "subscriber", ".", "on", "error", "(", "new", "web", "service", "not", "found", "exception", "(", ")", ")", ";", "}", "}", ")", ";", "}"], "new_code": "public observable < list < sync url > > get web services ( ) { return observable . create ( subscriber - > { final list < sync url > sync urls = cupboard ( ) . with database ( get readable database ( ) ) . query ( sync url . class ) . list ( ) ; if ( sync urls ! = null ) { subscriber . on next ( sync urls ) ; subscriber . on completed ( ) ; } else { subscriber . on error ( new web service not found exception ( ) ) ; } } ) ; }", "new_code_tokens": ["public", "observable", "<", "list", "<", "sync", "url", ">", ">", "get", "web", "services", "(", ")", "{", "return", "observable", ".", "create", "(", "subscriber", "-", ">", "{", "final", "list", "<", "sync", "url", ">", "sync", "urls", "=", "cupboard", "(", ")", ".", "with", "database", "(", "get", "readable", "database", "(", ")", ")", ".", "query", "(", "sync", "url", ".", "class", ")", ".", "list", "(", ")", ";", "if", "(", "sync", "urls", "!", "=", "null", ")", "{", "subscriber", ".", "on", "next", "(", "sync", "urls", ")", ";", "subscriber", ".", "on", "completed", "(", ")", ";", "}", "else", "{", "subscriber", ".", "on", "error", "(", "new", "web", "service", "not", "found", "exception", "(", ")", ")", ";", "}", "}", ")", ";", "}"], "span_diff_code": "<KEEP> public observable < list < <KEEP_END> <REPLACE_OLD> web service <REPLACE_NEW> sync url <REPLACE_END> <KEEP> > > get web services ( ) { return observable . create ( subscriber - > { final list < <KEEP_END> <REPLACE_OLD> web service <REPLACE_NEW> sync url <REPLACE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> web services <REPLACE_NEW> sync urls <REPLACE_END> <KEEP> = cupboard ( ) . with database ( get readable database ( ) ) . query ( <KEEP_END> <REPLACE_OLD> web service <REPLACE_NEW> sync url <REPLACE_END> <KEEP> . class ) . list ( ) ; if ( <KEEP_END> <REPLACE_OLD> web services <REPLACE_NEW> sync urls <REPLACE_END> <KEEP> ! = null ) { subscriber . on next ( <KEEP_END> <REPLACE_OLD> web services <REPLACE_NEW> sync urls <REPLACE_END> <KEEP> ) ; subscriber . on completed ( ) ; } else { subscriber . on error ( new web service not found exception ( ) ) ; } } ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "observable", "<", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "web", "service", "<REPLACE_NEW>", "sync", "url", "<REPLACE_END>", "<KEEP>", ">", ">", "get", "web", "services", "(", ")", "{", "return", "observable", ".", "create", "(", "subscriber", "-", ">", "{", "final", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "web", "service", "<REPLACE_NEW>", "sync", "url", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "web", "services", "<REPLACE_NEW>", "sync", "urls", "<REPLACE_END>", "<KEEP>", "=", "cupboard", "(", ")", ".", "with", "database", "(", "get", "readable", "database", "(", ")", ")", ".", "query", "(", "<KEEP_END>", "<REPLACE_OLD>", "web", "service", "<REPLACE_NEW>", "sync", "url", "<REPLACE_END>", "<KEEP>", ".", "class", ")", ".", "list", "(", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "web", "services", "<REPLACE_NEW>", "sync", "urls", "<REPLACE_END>", "<KEEP>", "!", "=", "null", ")", "{", "subscriber", ".", "on", "next", "(", "<KEEP_END>", "<REPLACE_OLD>", "web", "services", "<REPLACE_NEW>", "sync", "urls", "<REPLACE_END>", "<KEEP>", ")", ";", "subscriber", ".", "on", "completed", "(", ")", ";", "}", "else", "{", "subscriber", ".", "on", "error", "(", "new", "web", "service", "not", "found", "exception", "(", ")", ")", ";", "}", "}", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> web service <REPLACE_NEW> sync url <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "web", "service", "<REPLACE_NEW>", "sync", "url", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "observable", "<KEEP>", "<", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "service", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", "url", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "web", "<KEEP>", "services", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "observable", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "(", "<KEEP>", "subscriber", "<KEEP>", "-", "<KEEP>", ">", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "service", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", "url", "<KEEP>", ">", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "services", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", "urls", "<KEEP>", "=", "<KEEP>", "cupboard", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "with", "<KEEP>", "database", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "readable", "<KEEP>", "database", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "query", "<KEEP>", "(", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "service", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", "url", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "services", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", "urls", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "subscriber", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "next", "<KEEP>", "(", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "services", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", "urls", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "subscriber", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "completed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "subscriber", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "web", "<KEEP>", "service", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9792736976334149, "using": 2, "keep": 1}
{"id": "apache_tez-22-4277", "old_comment": "the org . apache . tez . runtime . api . tez input context for the input", "old_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "runtime", ".", "api", ".", "tez", "input", "context", "for", "the", "input"], "new_comment": "the org . apache . tez . runtime . api . input context for the input", "new_comment_tokens": ["the", "org", ".", "apache", ".", "tez", ".", "runtime", ".", "api", ".", "input", "context", "for", "the", "input"], "old_code": "public final tez input context get context ( ) { return input context ; }", "old_code_tokens": ["public", "final", "tez", "input", "context", "get", "context", "(", ")", "{", "return", "input", "context", ";", "}"], "new_code": "public final input context get context ( ) { return input context ; }", "new_code_tokens": ["public", "final", "input", "context", "get", "context", "(", ")", "{", "return", "input", "context", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <DELETE> tez <DELETE_END> <KEEP> input context get context ( ) { return input context ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<DELETE>", "tez", "<DELETE_END>", "<KEEP>", "input", "context", "get", "context", "(", ")", "{", "return", "input", "context", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> api . tez <REPLACE_NEW_DELETE_KEEP_BEFORE> api . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", "api", ".", "tez", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "api", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<DELETE>", "tez", "<KEEP>", "input", "<KEEP>", "context", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "input", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9460613395863693, "using": 0, "keep": 1}
{"id": "konmik_nucleus-0-2865", "old_comment": "an observable that emits the attached view or null .", "old_comment_tokens": ["an", "observable", "that", "emits", "the", "attached", "view", "or", "null", "."], "new_comment": "an observable that emits the current attached view or null .", "new_comment_tokens": ["an", "observable", "that", "emits", "the", "current", "attached", "view", "or", "null", "."], "old_code": "public observable < view > view ( ) { return view ; }", "old_code_tokens": ["public", "observable", "<", "view", ">", "view", "(", ")", "{", "return", "view", ";", "}"], "new_code": "public observable < view > view ( ) { return views ; }", "new_code_tokens": ["public", "observable", "<", "view", ">", "view", "(", ")", "{", "return", "views", ";", "}"], "span_diff_code": "<KEEP> public observable < view > view ( ) { return <KEEP_END> <REPLACE_OLD> view <REPLACE_NEW> views <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "observable", "<", "view", ">", "view", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "view", "<REPLACE_NEW>", "views", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the current <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "current", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "observable", "<KEEP>", "<", "<KEEP>", "view", "<KEEP>", ">", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "view", "<REPLACE_NEW>", "views", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9555156320091818, "using": 0, "keep": 1}
{"id": "gnodet_wikitext-66-6892", "old_comment": "abstract task list element category where the new task must be added to , or null if it must not be added to the task list", "old_comment_tokens": ["abstract", "task", "list", "element", "category", "where", "the", "new", "task", "must", "be", "added", "to", ",", "or", "null", "if", "it", "must", "not", "be", "added", "to", "the", "task", "list"], "new_comment": "abstract task container category where the new task must be added to , or null if it must not be added to the task list", "new_comment_tokens": ["abstract", "task", "container", "category", "where", "the", "new", "task", "must", "be", "added", "to", ",", "or", "null", "if", "it", "must", "not", "be", "added", "to", "the", "task", "list"], "old_code": "@ suppress warnings ( str ) protected abstract task container get category ( ) { int index = category chooser . get selection index ( ) ; if ( add to category . get selection ( ) & & index ! = - num ) { if ( index = = num ) { return tasks ui plugin . get task list manager ( ) . get task list ( ) . get automatic category ( ) ; } return ( ( list < abstract task container > ) category chooser . get data ( ) ) . get ( index - num ) ; } return null ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "protected", "abstract", "task", "container", "get", "category", "(", ")", "{", "int", "index", "=", "category", "chooser", ".", "get", "selection", "index", "(", ")", ";", "if", "(", "add", "to", "category", ".", "get", "selection", "(", ")", "&", "&", "index", "!", "=", "-", "num", ")", "{", "if", "(", "index", "=", "=", "num", ")", "{", "return", "tasks", "ui", "plugin", ".", "get", "task", "list", "manager", "(", ")", ".", "get", "task", "list", "(", ")", ".", "get", "automatic", "category", "(", ")", ";", "}", "return", "(", "(", "list", "<", "abstract", "task", "container", ">", ")", "category", "chooser", ".", "get", "data", "(", ")", ")", ".", "get", "(", "index", "-", "num", ")", ";", "}", "return", "null", ";", "}"], "new_code": "@ suppress warnings ( str ) protected abstract task category get category ( ) { int index = category chooser . get selection index ( ) ; if ( add to category . get selection ( ) & & index ! = - num ) { if ( index = = num ) { return tasks ui plugin . get task list manager ( ) . get task list ( ) . get automatic category ( ) ; } return ( ( list < abstract task category > ) category chooser . get data ( ) ) . get ( index - num ) ; } return null ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "protected", "abstract", "task", "category", "get", "category", "(", ")", "{", "int", "index", "=", "category", "chooser", ".", "get", "selection", "index", "(", ")", ";", "if", "(", "add", "to", "category", ".", "get", "selection", "(", ")", "&", "&", "index", "!", "=", "-", "num", ")", "{", "if", "(", "index", "=", "=", "num", ")", "{", "return", "tasks", "ui", "plugin", ".", "get", "task", "list", "manager", "(", ")", ".", "get", "task", "list", "(", ")", ".", "get", "automatic", "category", "(", ")", ";", "}", "return", "(", "(", "list", "<", "abstract", "task", "category", ">", ")", "category", "chooser", ".", "get", "data", "(", ")", ")", ".", "get", "(", "index", "-", "num", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) protected abstract task <KEEP_END> <REPLACE_OLD> container <REPLACE_NEW> category <REPLACE_END> <KEEP> get category ( ) { int index = category chooser . get selection index ( ) ; if ( add to category . get selection ( ) & & index ! = - num ) { if ( index = = num ) { return tasks ui plugin . get task list manager ( ) . get task list ( ) . get automatic category ( ) ; } return ( ( list < abstract task <KEEP_END> <REPLACE_OLD> container <REPLACE_NEW> category <REPLACE_END> <KEEP> > ) category chooser . get data ( ) ) . get ( index - num ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "protected", "abstract", "task", "<KEEP_END>", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "category", "<REPLACE_END>", "<KEEP>", "get", "category", "(", ")", "{", "int", "index", "=", "category", "chooser", ".", "get", "selection", "index", "(", ")", ";", "if", "(", "add", "to", "category", ".", "get", "selection", "(", ")", "&", "&", "index", "!", "=", "-", "num", ")", "{", "if", "(", "index", "=", "=", "num", ")", "{", "return", "tasks", "ui", "plugin", ".", "get", "task", "list", "manager", "(", ")", ".", "get", "task", "list", "(", ")", ".", "get", "automatic", "category", "(", ")", ";", "}", "return", "(", "(", "list", "<", "abstract", "task", "<KEEP_END>", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "category", "<REPLACE_END>", "<KEEP>", ">", ")", "category", "chooser", ".", "get", "data", "(", ")", ")", ".", "get", "(", "index", "-", "num", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list element <REPLACE_NEW> container <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "element", "<REPLACE_NEW>", "container", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "protected", "<KEEP>", "abstract", "<KEEP>", "task", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "category", "<KEEP>", "get", "<KEEP>", "category", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "category", "<KEEP>", "chooser", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selection", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "add", "<KEEP>", "to", "<KEEP>", "category", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selection", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "index", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "tasks", "<KEEP>", "ui", "<KEEP>", "plugin", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "task", "<KEEP>", "list", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "task", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "automatic", "<KEEP>", "category", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "abstract", "<KEEP>", "task", "<REPLACE_OLD>", "container", "<REPLACE_NEW>", "category", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "category", "<KEEP>", "chooser", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8887602849671675, "using": 0, "keep": 1}
{"id": "idega_is.idega.idegaweb.member-1-5540", "old_comment": "a collection of user object who are custodians of a user . returns an empty collection if no custodians are found .", "old_comment_tokens": ["a", "collection", "of", "user", "object", "who", "are", "custodians", "of", "a", "user", ".", "returns", "an", "empty", "collection", "if", "no", "custodians", "are", "found", "."], "new_comment": "a collection of user object who are custodians of a user . if no custodian is found it will return the parents of that user . returns an empty collection if no custodians or parents are found .", "new_comment_tokens": ["a", "collection", "of", "user", "object", "who", "are", "custodians", "of", "a", "user", ".", "if", "no", "custodian", "is", "found", "it", "will", "return", "the", "parents", "of", "that", "user", ".", "returns", "an", "empty", "collection", "if", "no", "custodians", "or", "parents", "are", "found", "."], "old_code": "public collection get custodians for ( user user ) throws no custodian found , remote exception { string user name = null ; try { user name = user . get name ( ) ; collection coll = user . get related by ( this . relation _ type _ group _ child ) ; if ( coll = = null ) { throw new no custodian found ( user name ) ; } return convert group collection to user collection ( coll ) ; } catch ( exception e ) { throw new no custodian found ( user name ) ; } }", "old_code_tokens": ["public", "collection", "get", "custodians", "for", "(", "user", "user", ")", "throws", "no", "custodian", "found", ",", "remote", "exception", "{", "string", "user", "name", "=", "null", ";", "try", "{", "user", "name", "=", "user", ".", "get", "name", "(", ")", ";", "collection", "coll", "=", "user", ".", "get", "related", "by", "(", "this", ".", "relation", "_", "type", "_", "group", "_", "child", ")", ";", "if", "(", "coll", "=", "=", "null", ")", "{", "throw", "new", "no", "custodian", "found", "(", "user", "name", ")", ";", "}", "return", "convert", "group", "collection", "to", "user", "collection", "(", "coll", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "no", "custodian", "found", "(", "user", "name", ")", ";", "}", "}"], "new_code": "public collection get custodians for ( user user ) throws no custodian found , remote exception { string user name = null ; try { user name = user . get name ( ) ; collection coll = user . get reverse related by ( this . relation _ type _ group _ custodian ) ; if ( coll = = null | | coll . is empty ( ) ) { try { coll = this . get parents for ( user ) ; return coll ; } catch ( no parent found ex ) { throw new no custodian found ( user name ) ; } } return convert group collection to user collection ( coll ) ; } catch ( exception e ) { throw new no custodian found ( user name ) ; } }", "new_code_tokens": ["public", "collection", "get", "custodians", "for", "(", "user", "user", ")", "throws", "no", "custodian", "found", ",", "remote", "exception", "{", "string", "user", "name", "=", "null", ";", "try", "{", "user", "name", "=", "user", ".", "get", "name", "(", ")", ";", "collection", "coll", "=", "user", ".", "get", "reverse", "related", "by", "(", "this", ".", "relation", "_", "type", "_", "group", "_", "custodian", ")", ";", "if", "(", "coll", "=", "=", "null", "|", "|", "coll", ".", "is", "empty", "(", ")", ")", "{", "try", "{", "coll", "=", "this", ".", "get", "parents", "for", "(", "user", ")", ";", "return", "coll", ";", "}", "catch", "(", "no", "parent", "found", "ex", ")", "{", "throw", "new", "no", "custodian", "found", "(", "user", "name", ")", ";", "}", "}", "return", "convert", "group", "collection", "to", "user", "collection", "(", "coll", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "no", "custodian", "found", "(", "user", "name", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public collection get custodians for ( user user ) throws no custodian found , remote exception { string user name = null ; try { user name = user . get name ( ) ; collection coll = user . get <KEEP_END> <INSERT> reverse <INSERT_END> <KEEP> related by ( this . relation _ type _ group _ <KEEP_END> <REPLACE_OLD> child <REPLACE_NEW> custodian <REPLACE_END> <KEEP> ) ; if ( coll = = null <KEEP_END> <INSERT> | | coll . is empty ( ) ) { try { coll = this . get parents for ( user ) ; return coll ; } catch ( no parent found ex <INSERT_END> <KEEP> ) { throw new no custodian found ( user name ) ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> } return convert group collection to user collection ( coll ) ; } catch ( exception e ) { throw new no custodian found ( user name ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "collection", "get", "custodians", "for", "(", "user", "user", ")", "throws", "no", "custodian", "found", ",", "remote", "exception", "{", "string", "user", "name", "=", "null", ";", "try", "{", "user", "name", "=", "user", ".", "get", "name", "(", ")", ";", "collection", "coll", "=", "user", ".", "get", "<KEEP_END>", "<INSERT>", "reverse", "<INSERT_END>", "<KEEP>", "related", "by", "(", "this", ".", "relation", "_", "type", "_", "group", "_", "<KEEP_END>", "<REPLACE_OLD>", "child", "<REPLACE_NEW>", "custodian", "<REPLACE_END>", "<KEEP>", ")", ";", "if", "(", "coll", "=", "=", "null", "<KEEP_END>", "<INSERT>", "|", "|", "coll", ".", "is", "empty", "(", ")", ")", "{", "try", "{", "coll", "=", "this", ".", "get", "parents", "for", "(", "user", ")", ";", "return", "coll", ";", "}", "catch", "(", "no", "parent", "found", "ex", "<INSERT_END>", "<KEEP>", ")", "{", "throw", "new", "no", "custodian", "found", "(", "user", "name", ")", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "}", "return", "convert", "group", "collection", "to", "user", "collection", "(", "coll", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "no", "custodian", "found", "(", "user", "name", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> user . <INSERT_NEW_KEEP_BEFORE> user . if no custodian is found it will return the parents of that user . <INSERT_END> <INSERT_OLD_KEEP_BEFORE> no custodians <INSERT_NEW_KEEP_BEFORE> no custodians or parents <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "user", ".", "<INSERT_NEW_KEEP_BEFORE>", "user", ".", "if", "no", "custodian", "is", "found", "it", "will", "return", "the", "parents", "of", "that", "user", ".", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "no", "custodians", "<INSERT_NEW_KEEP_BEFORE>", "no", "custodians", "or", "parents", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "collection", "<KEEP>", "get", "<KEEP>", "custodians", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "user", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "no", "<KEEP>", "custodian", "<KEEP>", "found", "<KEEP>", ",", "<KEEP>", "remote", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "user", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "user", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "collection", "<KEEP>", "coll", "<KEEP>", "=", "<KEEP>", "user", "<KEEP>", ".", "<KEEP>", "get", "<INSERT>", "reverse", "<KEEP>", "related", "<KEEP>", "by", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "relation", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "group", "<KEEP>", "_", "<REPLACE_OLD>", "child", "<REPLACE_NEW>", "custodian", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "coll", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "coll", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "coll", "<INSERT>", "=", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "parents", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "user", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "coll", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "no", "<INSERT>", "parent", "<INSERT>", "found", "<INSERT>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "no", "<KEEP>", "custodian", "<KEEP>", "found", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "convert", "<KEEP>", "group", "<KEEP>", "collection", "<KEEP>", "to", "<KEEP>", "user", "<KEEP>", "collection", "<KEEP>", "(", "<KEEP>", "coll", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "no", "<KEEP>", "custodian", "<KEEP>", "found", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9637770151325163, "using": 2, "keep": 1}
{"id": "mikepenz_Android-Iconics-12-1268", "old_comment": "the icon default color", "old_comment_tokens": ["the", "icon", "default", "color"], "new_comment": "the icon color", "new_comment_tokens": ["the", "icon", "color"], "old_code": "public int get color ( ) { return m icon color . get default color ( ) ; }", "old_code_tokens": ["public", "int", "get", "color", "(", ")", "{", "return", "m", "icon", "color", ".", "get", "default", "color", "(", ")", ";", "}"], "new_code": "public int get color ( ) { return m icon brush . get color for current state ( ) ; }", "new_code_tokens": ["public", "int", "get", "color", "(", ")", "{", "return", "m", "icon", "brush", ".", "get", "color", "for", "current", "state", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public int get color ( ) { return m icon <KEEP_END> <REPLACE_OLD> color <REPLACE_NEW> brush <REPLACE_END> <KEEP> . get <KEEP_END> <DELETE> default <DELETE_END> <KEEP> color <KEEP_END> <INSERT> for current state <INSERT_END> <KEEP> ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "color", "(", ")", "{", "return", "m", "icon", "<KEEP_END>", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "brush", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<DELETE>", "default", "<DELETE_END>", "<KEEP>", "color", "<KEEP_END>", "<INSERT>", "for", "current", "state", "<INSERT_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> default <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "default", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "icon", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "brush", "<KEEP>", ".", "<KEEP>", "get", "<DELETE>", "default", "<KEEP>", "color", "<INSERT>", "for", "<INSERT>", "current", "<INSERT>", "state", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9765963602974412, "using": 2, "keep": 1}
{"id": "cloudera_hcatalog-2-4582", "old_comment": "the howl properties", "old_comment_tokens": ["the", "howl", "properties"], "new_comment": "the hcat properties", "new_comment_tokens": ["the", "hcat", "properties"], "old_code": "public properties get input storage driver properties ( ) { return howl properties ; }", "old_code_tokens": ["public", "properties", "get", "input", "storage", "driver", "properties", "(", ")", "{", "return", "howl", "properties", ";", "}"], "new_code": "public properties get input storage driver properties ( ) { return hcat properties ; }", "new_code_tokens": ["public", "properties", "get", "input", "storage", "driver", "properties", "(", ")", "{", "return", "hcat", "properties", ";", "}"], "span_diff_code": "<KEEP> public properties get input storage driver properties ( ) { return <KEEP_END> <REPLACE_OLD> howl <REPLACE_NEW> hcat <REPLACE_END> <KEEP> properties ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "properties", "get", "input", "storage", "driver", "properties", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "howl", "<REPLACE_NEW>", "hcat", "<REPLACE_END>", "<KEEP>", "properties", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> howl <REPLACE_NEW> hcat <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "howl", "<REPLACE_NEW>", "hcat", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "properties", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "storage", "<KEEP>", "driver", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "howl", "<REPLACE_NEW>", "hcat", "<KEEP>", "properties", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9362609764660457, "using": 2, "keep": 1}
{"id": "ulikoehler_1x1-4-3781", "old_comment": "the padding", "old_comment_tokens": ["the", "padding"], "new_comment": "the padding name", "new_comment_tokens": ["the", "padding", "name"], "old_code": "public string get padding ( ) { return padding ; }", "old_code_tokens": ["public", "string", "get", "padding", "(", ")", "{", "return", "padding", ";", "}"], "new_code": "public string get padding ( ) { return padding name ; }", "new_code_tokens": ["public", "string", "get", "padding", "(", ")", "{", "return", "padding", "name", ";", "}"], "span_diff_code": "<KEEP> public string get padding ( ) { return padding <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "padding", "(", ")", "{", "return", "padding", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> padding <INSERT_NEW_KEEP_BEFORE> padding name <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "padding", "<INSERT_NEW_KEEP_BEFORE>", "padding", "name", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "padding", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "padding", "<INSERT>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9770663624333428, "using": 2, "keep": 1}
{"id": "square_pollexor-4-5141", "old_comment": "meta uri for the current configuration .", "old_comment_tokens": ["meta", "uri", "for", "the", "current", "configuration", "."], "new_comment": "meta url for the current configuration .", "new_comment_tokens": ["meta", "url", "for", "the", "current", "configuration", "."], "old_code": "public string build meta ( ) { return new string builder ( str ) . append ( prefix _ meta ) . append ( str ) . append ( assemble config ( ) ) . append ( str ) . append ( target ) . to string ( ) ; }", "old_code_tokens": ["public", "string", "build", "meta", "(", ")", "{", "return", "new", "string", "builder", "(", "str", ")", ".", "append", "(", "prefix", "_", "meta", ")", ".", "append", "(", "str", ")", ".", "append", "(", "assemble", "config", "(", ")", ")", ".", "append", "(", "str", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public string build meta ( ) { return new string builder ( host ) . append ( str ) . append ( prefix _ meta ) . append ( str ) . append ( assemble config ( ) ) . append ( target ) . to string ( ) ; }", "new_code_tokens": ["public", "string", "build", "meta", "(", ")", "{", "return", "new", "string", "builder", "(", "host", ")", ".", "append", "(", "str", ")", ".", "append", "(", "prefix", "_", "meta", ")", ".", "append", "(", "str", ")", ".", "append", "(", "assemble", "config", "(", ")", ")", ".", "append", "(", "target", ")", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string build meta ( ) { return new string builder <KEEP_END> <INSERT> ( host ) . append <INSERT_END> <KEEP> ( str ) . append ( prefix _ meta ) . append ( str ) . append ( assemble config ( ) ) . append ( <KEEP_END> <DELETE> str ) . append ( <DELETE_END> <KEEP> target ) . to string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "build", "meta", "(", ")", "{", "return", "new", "string", "builder", "<KEEP_END>", "<INSERT>", "(", "host", ")", ".", "append", "<INSERT_END>", "<KEEP>", "(", "str", ")", ".", "append", "(", "prefix", "_", "meta", ")", ".", "append", "(", "str", ")", ".", "append", "(", "assemble", "config", "(", ")", ")", ".", "append", "(", "<KEEP_END>", "<DELETE>", "str", ")", ".", "append", "(", "<DELETE_END>", "<KEEP>", "target", ")", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> uri <REPLACE_NEW> url <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "url", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "build", "<KEEP>", "meta", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<INSERT>", "(", "<INSERT>", "host", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "prefix", "<KEEP>", "_", "<KEEP>", "meta", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "assemble", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<KEEP>", "target", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9460326164132686, "using": 0, "keep": 1}
{"id": "google_tink-1-739", "old_comment": "new gcp kms aead key proto", "old_comment_tokens": ["new", "gcp", "kms", "aead", "key", "proto"], "new_comment": "new kms aead key proto", "new_comment_tokens": ["new", "kms", "aead", "key", "proto"], "old_code": "@ override public message lite new key ( byte string serialized key format ) throws general security exception { throw new general security exception ( str ) ; }", "old_code_tokens": ["@", "override", "public", "message", "lite", "new", "key", "(", "byte", "string", "serialized", "key", "format", ")", "throws", "general", "security", "exception", "{", "throw", "new", "general", "security", "exception", "(", "str", ")", ";", "}"], "new_code": "@ override public message lite new key ( byte string serialized key format ) throws general security exception { try { kms aead key format format = kms aead key format . parse from ( serialized key format ) ; return new key ( format ) ; } catch ( invalid protocol buffer exception e ) { throw new general security exception ( str , e ) ; } }", "new_code_tokens": ["@", "override", "public", "message", "lite", "new", "key", "(", "byte", "string", "serialized", "key", "format", ")", "throws", "general", "security", "exception", "{", "try", "{", "kms", "aead", "key", "format", "format", "=", "kms", "aead", "key", "format", ".", "parse", "from", "(", "serialized", "key", "format", ")", ";", "return", "new", "key", "(", "format", ")", ";", "}", "catch", "(", "invalid", "protocol", "buffer", "exception", "e", ")", "{", "throw", "new", "general", "security", "exception", "(", "str", ",", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> @ override public message lite new key ( byte string serialized key format ) throws general security exception { <KEEP_END> <INSERT> try { kms aead key format format = kms aead key format . parse from ( serialized key format ) ; return new key ( format ) ; } catch ( invalid protocol buffer exception e ) { <INSERT_END> <KEEP> throw new general security exception ( str <KEEP_END> <INSERT> , e <INSERT_END> <KEEP> ) ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "message", "lite", "new", "key", "(", "byte", "string", "serialized", "key", "format", ")", "throws", "general", "security", "exception", "{", "<KEEP_END>", "<INSERT>", "try", "{", "kms", "aead", "key", "format", "format", "=", "kms", "aead", "key", "format", ".", "parse", "from", "(", "serialized", "key", "format", ")", ";", "return", "new", "key", "(", "format", ")", ";", "}", "catch", "(", "invalid", "protocol", "buffer", "exception", "e", ")", "{", "<INSERT_END>", "<KEEP>", "throw", "new", "general", "security", "exception", "(", "str", "<KEEP_END>", "<INSERT>", ",", "e", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> gcp <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "gcp", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "message", "<KEEP>", "lite", "<KEEP>", "new", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", "serialized", "<KEEP>", "key", "<KEEP>", "format", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "general", "<KEEP>", "security", "<KEEP>", "exception", "<KEEP>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "kms", "<INSERT>", "aead", "<INSERT>", "key", "<INSERT>", "format", "<INSERT>", "format", "<INSERT>", "=", "<INSERT>", "kms", "<INSERT>", "aead", "<INSERT>", "key", "<INSERT>", "format", "<INSERT>", ".", "<INSERT>", "parse", "<INSERT>", "from", "<INSERT>", "(", "<INSERT>", "serialized", "<INSERT>", "key", "<INSERT>", "format", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "key", "<INSERT>", "(", "<INSERT>", "format", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "invalid", "<INSERT>", "protocol", "<INSERT>", "buffer", "<INSERT>", "exception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "general", "<KEEP>", "security", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<INSERT>", ",", "<INSERT>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.8005971939265628, "using": 0, "keep": 1}
{"id": "eclipse_pdt-128-6083", "old_comment": "true if the given model elements are either all library folders or source folder , and false otherwise", "old_comment_tokens": ["true", "if", "the", "given", "model", "elements", "are", "either", "all", "library", "folders", "or", "source", "folder", ",", "and", "false", "otherwise"], "new_comment": "true if the given folders are either all library folders or source folder , and false otherwise", "new_comment_tokens": ["true", "if", "the", "given", "folders", "are", "either", "all", "library", "folders", "or", "source", "folder", ",", "and", "false", "otherwise"], "old_code": "private boolean all of same kind ( imodel element [ ] elements ) { int library folder count = num ; for ( imodel element element : elements ) { if ( library folder manager . get instance ( ) . is in library folder ( element ) ) { library folder count + + ; } } return library folder count = = num | | library folder count = = elements . length ; }", "old_code_tokens": ["private", "boolean", "all", "of", "same", "kind", "(", "imodel", "element", "[", "]", "elements", ")", "{", "int", "library", "folder", "count", "=", "num", ";", "for", "(", "imodel", "element", "element", ":", "elements", ")", "{", "if", "(", "library", "folder", "manager", ".", "get", "instance", "(", ")", ".", "is", "in", "library", "folder", "(", "element", ")", ")", "{", "library", "folder", "count", "+", "+", ";", "}", "}", "return", "library", "folder", "count", "=", "=", "num", "|", "|", "library", "folder", "count", "=", "=", "elements", ".", "length", ";", "}"], "new_code": "private boolean all of same kind ( ifolder [ ] folders ) { int library folder count = num ; for ( iresource folder : folders ) { if ( library folder manager . get instance ( ) . is in library folder ( folder ) ) { library folder count + + ; } } return library folder count = = num | | library folder count = = folders . length ; }", "new_code_tokens": ["private", "boolean", "all", "of", "same", "kind", "(", "ifolder", "[", "]", "folders", ")", "{", "int", "library", "folder", "count", "=", "num", ";", "for", "(", "iresource", "folder", ":", "folders", ")", "{", "if", "(", "library", "folder", "manager", ".", "get", "instance", "(", ")", ".", "is", "in", "library", "folder", "(", "folder", ")", ")", "{", "library", "folder", "count", "+", "+", ";", "}", "}", "return", "library", "folder", "count", "=", "=", "num", "|", "|", "library", "folder", "count", "=", "=", "folders", ".", "length", ";", "}"], "span_diff_code": "<KEEP> private boolean all of same kind ( <KEEP_END> <REPLACE_OLD> imodel element <REPLACE_NEW> ifolder <REPLACE_END> <KEEP> [ ] <KEEP_END> <REPLACE_OLD> elements <REPLACE_NEW> folders <REPLACE_END> <KEEP> ) { int library folder count = num ; for ( <KEEP_END> <REPLACE_OLD> imodel element element <REPLACE_NEW> iresource folder <REPLACE_END> <KEEP> : <KEEP_END> <REPLACE_OLD> elements <REPLACE_NEW> folders <REPLACE_END> <KEEP> ) { if ( library folder manager . get instance ( ) . is in library folder ( <KEEP_END> <REPLACE_OLD> element <REPLACE_NEW> folder <REPLACE_END> <KEEP> ) ) { library folder count + + ; } } return library folder count = = num | | library folder count = = <KEEP_END> <REPLACE_OLD> elements <REPLACE_NEW> folders <REPLACE_END> <KEEP> . length ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "all", "of", "same", "kind", "(", "<KEEP_END>", "<REPLACE_OLD>", "imodel", "element", "<REPLACE_NEW>", "ifolder", "<REPLACE_END>", "<KEEP>", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "folders", "<REPLACE_END>", "<KEEP>", ")", "{", "int", "library", "folder", "count", "=", "num", ";", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "imodel", "element", "element", "<REPLACE_NEW>", "iresource", "folder", "<REPLACE_END>", "<KEEP>", ":", "<KEEP_END>", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "folders", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "library", "folder", "manager", ".", "get", "instance", "(", ")", ".", "is", "in", "library", "folder", "(", "<KEEP_END>", "<REPLACE_OLD>", "element", "<REPLACE_NEW>", "folder", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "library", "folder", "count", "+", "+", ";", "}", "}", "return", "library", "folder", "count", "=", "=", "num", "|", "|", "library", "folder", "count", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "folders", "<REPLACE_END>", "<KEEP>", ".", "length", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> model elements <REPLACE_NEW> folders <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "model", "elements", "<REPLACE_NEW>", "folders", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "all", "<KEEP>", "of", "<KEEP>", "same", "<KEEP>", "kind", "<KEEP>", "(", "<REPLACE_OLD>", "imodel", "<REPLACE_OLD>", "element", "<REPLACE_NEW>", "ifolder", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "folders", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "library", "<KEEP>", "folder", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "imodel", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "element", "<REPLACE_NEW>", "iresource", "<REPLACE_NEW>", "folder", "<KEEP>", ":", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "folders", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "library", "<KEEP>", "folder", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "in", "<KEEP>", "library", "<KEEP>", "folder", "<KEEP>", "(", "<REPLACE_OLD>", "element", "<REPLACE_NEW>", "folder", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "library", "<KEEP>", "folder", "<KEEP>", "count", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "library", "<KEEP>", "folder", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "library", "<KEEP>", "folder", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "folders", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9807882195567622, "using": 2, "keep": 1}
{"id": "TooTallNate_Java-WebSocket-1-1004", "old_comment": "the new payload length", "old_comment_tokens": ["the", "new", "payload", "length"], "new_comment": "the new payload data containing new payload length and new packet size", "new_comment_tokens": ["the", "new", "payload", "data", "containing", "new", "payload", "length", "and", "new", "packet", "size"], "old_code": "private int translate single frame payload length ( byte buffer buffer , opcode optcode , int old payloadlength , int maxpacketsize , int realpacketsize ) throws invalid frame exception , incomplete exception , limit exceeded exception { int payloadlength = old payloadlength ; if ( optcode = = opcode . ping | | optcode = = opcode . pong | | optcode = = opcode . closing ) { log . trace ( str ) ; throw new invalid frame exception ( str ) ; } if ( payloadlength = = num ) { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] sizebytes = new byte [ num ] ; sizebytes [ num ] = buffer . get ( ) ; sizebytes [ num ] = buffer . get ( ) ; payloadlength = new big integer ( sizebytes ) . int value ( ) ; } else { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] bytes = new byte [ num ] ; for ( int i = num ; i < num ; i + + ) { bytes [ i ] = buffer . get ( ) ; } long length = new big integer ( bytes ) . long value ( ) ; translate single frame check length limit ( length ) ; payloadlength = ( int ) length ; } return payloadlength ; }", "old_code_tokens": ["private", "int", "translate", "single", "frame", "payload", "length", "(", "byte", "buffer", "buffer", ",", "opcode", "optcode", ",", "int", "old", "payloadlength", ",", "int", "maxpacketsize", ",", "int", "realpacketsize", ")", "throws", "invalid", "frame", "exception", ",", "incomplete", "exception", ",", "limit", "exceeded", "exception", "{", "int", "payloadlength", "=", "old", "payloadlength", ";", "if", "(", "optcode", "=", "=", "opcode", ".", "ping", "|", "|", "optcode", "=", "=", "opcode", ".", "pong", "|", "|", "optcode", "=", "=", "opcode", ".", "closing", ")", "{", "log", ".", "trace", "(", "str", ")", ";", "throw", "new", "invalid", "frame", "exception", "(", "str", ")", ";", "}", "if", "(", "payloadlength", "=", "=", "num", ")", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "sizebytes", "=", "new", "byte", "[", "num", "]", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "payloadlength", "=", "new", "big", "integer", "(", "sizebytes", ")", ".", "int", "value", "(", ")", ";", "}", "else", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "num", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "buffer", ".", "get", "(", ")", ";", "}", "long", "length", "=", "new", "big", "integer", "(", "bytes", ")", ".", "long", "value", "(", ")", ";", "translate", "single", "frame", "check", "length", "limit", "(", "length", ")", ";", "payloadlength", "=", "(", "int", ")", "length", ";", "}", "return", "payloadlength", ";", "}"], "new_code": "private translated payload meta data translate single frame payload length ( byte buffer buffer , opcode optcode , int old payloadlength , int maxpacketsize , int realpacketsize ) throws invalid frame exception , incomplete exception , limit exceeded exception { int payloadlength = old payloadlength ; if ( optcode = = opcode . ping | | optcode = = opcode . pong | | optcode = = opcode . closing ) { log . trace ( str ) ; throw new invalid frame exception ( str ) ; } if ( payloadlength = = num ) { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] sizebytes = new byte [ num ] ; sizebytes [ num ] = buffer . get ( ) ; sizebytes [ num ] = buffer . get ( ) ; payloadlength = new big integer ( sizebytes ) . int value ( ) ; } else { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] bytes = new byte [ num ] ; for ( int i = num ; i < num ; i + + ) { bytes [ i ] = buffer . get ( ) ; } long length = new big integer ( bytes ) . long value ( ) ; translate single frame check length limit ( length ) ; payloadlength = ( int ) length ; } return new translated payload meta data ( payloadlength , realpacketsize ) ; }", "new_code_tokens": ["private", "translated", "payload", "meta", "data", "translate", "single", "frame", "payload", "length", "(", "byte", "buffer", "buffer", ",", "opcode", "optcode", ",", "int", "old", "payloadlength", ",", "int", "maxpacketsize", ",", "int", "realpacketsize", ")", "throws", "invalid", "frame", "exception", ",", "incomplete", "exception", ",", "limit", "exceeded", "exception", "{", "int", "payloadlength", "=", "old", "payloadlength", ";", "if", "(", "optcode", "=", "=", "opcode", ".", "ping", "|", "|", "optcode", "=", "=", "opcode", ".", "pong", "|", "|", "optcode", "=", "=", "opcode", ".", "closing", ")", "{", "log", ".", "trace", "(", "str", ")", ";", "throw", "new", "invalid", "frame", "exception", "(", "str", ")", ";", "}", "if", "(", "payloadlength", "=", "=", "num", ")", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "sizebytes", "=", "new", "byte", "[", "num", "]", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "payloadlength", "=", "new", "big", "integer", "(", "sizebytes", ")", ".", "int", "value", "(", ")", ";", "}", "else", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "num", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "buffer", ".", "get", "(", ")", ";", "}", "long", "length", "=", "new", "big", "integer", "(", "bytes", ")", ".", "long", "value", "(", ")", ";", "translate", "single", "frame", "check", "length", "limit", "(", "length", ")", ";", "payloadlength", "=", "(", "int", ")", "length", ";", "}", "return", "new", "translated", "payload", "meta", "data", "(", "payloadlength", ",", "realpacketsize", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> translated payload meta data <REPLACE_END> <KEEP> translate single frame payload length ( byte buffer buffer , opcode optcode , int old payloadlength , int maxpacketsize , int realpacketsize ) throws invalid frame exception , incomplete exception , limit exceeded exception { int payloadlength = old payloadlength ; if ( optcode = = opcode . ping | | optcode = = opcode . pong | | optcode = = opcode . closing ) { log . trace ( str ) ; throw new invalid frame exception ( str ) ; } if ( payloadlength = = num ) { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] sizebytes = new byte [ num ] ; sizebytes [ num ] = buffer . get ( ) ; sizebytes [ num ] = buffer . get ( ) ; payloadlength = new big integer ( sizebytes ) . int value ( ) ; } else { realpacketsize + = num ; translate single frame check packet size ( maxpacketsize , realpacketsize ) ; byte [ ] bytes = new byte [ num ] ; for ( int i = num ; i < num ; i + + ) { bytes [ i ] = buffer . get ( ) ; } long length = new big integer ( bytes ) . long value ( ) ; translate single frame check length limit ( length ) ; payloadlength = ( int ) length ; } return <KEEP_END> <REPLACE_OLD> payloadlength ; } <REPLACE_NEW> new translated payload meta data ( payloadlength , realpacketsize ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "translated", "payload", "meta", "data", "<REPLACE_END>", "<KEEP>", "translate", "single", "frame", "payload", "length", "(", "byte", "buffer", "buffer", ",", "opcode", "optcode", ",", "int", "old", "payloadlength", ",", "int", "maxpacketsize", ",", "int", "realpacketsize", ")", "throws", "invalid", "frame", "exception", ",", "incomplete", "exception", ",", "limit", "exceeded", "exception", "{", "int", "payloadlength", "=", "old", "payloadlength", ";", "if", "(", "optcode", "=", "=", "opcode", ".", "ping", "|", "|", "optcode", "=", "=", "opcode", ".", "pong", "|", "|", "optcode", "=", "=", "opcode", ".", "closing", ")", "{", "log", ".", "trace", "(", "str", ")", ";", "throw", "new", "invalid", "frame", "exception", "(", "str", ")", ";", "}", "if", "(", "payloadlength", "=", "=", "num", ")", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "sizebytes", "=", "new", "byte", "[", "num", "]", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "sizebytes", "[", "num", "]", "=", "buffer", ".", "get", "(", ")", ";", "payloadlength", "=", "new", "big", "integer", "(", "sizebytes", ")", ".", "int", "value", "(", ")", ";", "}", "else", "{", "realpacketsize", "+", "=", "num", ";", "translate", "single", "frame", "check", "packet", "size", "(", "maxpacketsize", ",", "realpacketsize", ")", ";", "byte", "[", "]", "bytes", "=", "new", "byte", "[", "num", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "bytes", "[", "i", "]", "=", "buffer", ".", "get", "(", ")", ";", "}", "long", "length", "=", "new", "big", "integer", "(", "bytes", ")", ".", "long", "value", "(", ")", ";", "translate", "single", "frame", "check", "length", "limit", "(", "length", ")", ";", "payloadlength", "=", "(", "int", ")", "length", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "payloadlength", ";", "}", "<REPLACE_NEW>", "new", "translated", "payload", "meta", "data", "(", "payloadlength", ",", "realpacketsize", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> payload <INSERT_NEW_KEEP_BEFORE> payload data containing new payload <INSERT_END> <INSERT_OLD_KEEP_BEFORE> length <INSERT_NEW_KEEP_BEFORE> length and new packet size <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "payload", "<INSERT_NEW_KEEP_BEFORE>", "payload", "data", "containing", "new", "payload", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "length", "<INSERT_NEW_KEEP_BEFORE>", "length", "and", "new", "packet", "size", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "translated", "<REPLACE_NEW>", "payload", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "data", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "payload", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "buffer", "<KEEP>", "buffer", "<KEEP>", ",", "<KEEP>", "opcode", "<KEEP>", "optcode", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "old", "<KEEP>", "payloadlength", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "maxpacketsize", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "realpacketsize", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "invalid", "<KEEP>", "frame", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "incomplete", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "limit", "<KEEP>", "exceeded", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "old", "<KEEP>", "payloadlength", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "optcode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "opcode", "<KEEP>", ".", "<KEEP>", "ping", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "optcode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "opcode", "<KEEP>", ".", "<KEEP>", "pong", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "optcode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "opcode", "<KEEP>", ".", "<KEEP>", "closing", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "invalid", "<KEEP>", "frame", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "realpacketsize", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "check", "<KEEP>", "packet", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "maxpacketsize", "<KEEP>", ",", "<KEEP>", "realpacketsize", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "sizebytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "sizebytes", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sizebytes", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "sizebytes", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "realpacketsize", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "check", "<KEEP>", "packet", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "maxpacketsize", "<KEEP>", ",", "<KEEP>", "realpacketsize", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "bytes", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "long", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "long", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "translate", "<KEEP>", "single", "<KEEP>", "frame", "<KEEP>", "check", "<KEEP>", "length", "<KEEP>", "limit", "<KEEP>", "(", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "payloadlength", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "payloadlength", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "translated", "<REPLACE_NEW>", "payload", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "payloadlength", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "realpacketsize", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.9433579307678679, "using": 2, "keep": 1}
{"id": "vespa-engine_vespa-27-3343", "old_comment": "index of the next needle in haystack after start pos , - 1 if not found", "old_comment_tokens": ["index", "of", "the", "next", "needle", "in", "haystack", "after", "start", "pos", ",", "-", "1", "if", "not", "found"], "new_comment": "index of the next search in after start pos , - 1 if not found", "new_comment_tokens": ["index", "of", "the", "next", "search", "in", "after", "start", "pos", ",", "-", "1", "if", "not", "found"], "old_code": "private int index of ( list < string > haystack , string needle , int start pos ) { synchronized ( monitor ) { iterator < string > iter = haystack . list iterator ( start pos ) ; for ( int i = start pos ; iter . has next ( ) ; i + + ) { if ( needle . equals ( iter . next ( ) ) ) { return i ; } } } return - num ; }", "old_code_tokens": ["private", "int", "index", "of", "(", "list", "<", "string", ">", "haystack", ",", "string", "needle", ",", "int", "start", "pos", ")", "{", "synchronized", "(", "monitor", ")", "{", "iterator", "<", "string", ">", "iter", "=", "haystack", ".", "list", "iterator", "(", "start", "pos", ")", ";", "for", "(", "int", "i", "=", "start", "pos", ";", "iter", ".", "has", "next", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "needle", ".", "equals", "(", "iter", ".", "next", "(", ")", ")", ")", "{", "return", "i", ";", "}", "}", "}", "return", "-", "num", ";", "}"], "new_code": "private int index of ( iterator < string > iter , string search ) { for ( int i = num ; iter . has next ( ) ; i + + ) { if ( search . equals ( iter . next ( ) ) ) { return i ; } } return - num ; }", "new_code_tokens": ["private", "int", "index", "of", "(", "iterator", "<", "string", ">", "iter", ",", "string", "search", ")", "{", "for", "(", "int", "i", "=", "num", ";", "iter", ".", "has", "next", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "search", ".", "equals", "(", "iter", ".", "next", "(", ")", ")", ")", "{", "return", "i", ";", "}", "}", "return", "-", "num", ";", "}"], "span_diff_code": "<KEEP> private int index of ( <KEEP_END> <DELETE> list < string > haystack , string needle , int start pos ) { synchronized ( monitor ) { <DELETE_END> <KEEP> iterator < string > iter <KEEP_END> <REPLACE_OLD> = haystack . list iterator ( start pos <REPLACE_NEW> , string search <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> ; <REPLACE_NEW> { <REPLACE_END> <KEEP> for ( int i = <KEEP_END> <REPLACE_OLD> start pos <REPLACE_NEW> num <REPLACE_END> <KEEP> ; iter . has next ( ) ; i + + ) { if ( <KEEP_END> <REPLACE_OLD> needle <REPLACE_NEW> search <REPLACE_END> <KEEP> . equals ( iter . next ( ) ) ) { return i ; } } <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return - num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "int", "index", "of", "(", "<KEEP_END>", "<DELETE>", "list", "<", "string", ">", "haystack", ",", "string", "needle", ",", "int", "start", "pos", ")", "{", "synchronized", "(", "monitor", ")", "{", "<DELETE_END>", "<KEEP>", "iterator", "<", "string", ">", "iter", "<KEEP_END>", "<REPLACE_OLD>", "=", "haystack", ".", "list", "iterator", "(", "start", "pos", "<REPLACE_NEW>", ",", "string", "search", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "{", "<REPLACE_END>", "<KEEP>", "for", "(", "int", "i", "=", "<KEEP_END>", "<REPLACE_OLD>", "start", "pos", "<REPLACE_NEW>", "num", "<REPLACE_END>", "<KEEP>", ";", "iter", ".", "has", "next", "(", ")", ";", "i", "+", "+", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "needle", "<REPLACE_NEW>", "search", "<REPLACE_END>", "<KEEP>", ".", "equals", "(", "iter", ".", "next", "(", ")", ")", ")", "{", "return", "i", ";", "}", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "-", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> needle <REPLACE_NEW> search <REPLACE_END> <DELETE> haystack <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "needle", "<REPLACE_NEW>", "search", "<REPLACE_END>", "<DELETE>", "haystack", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<DELETE>", "list", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ">", "<DELETE>", "haystack", "<DELETE>", ",", "<DELETE>", "string", "<DELETE>", "needle", "<DELETE>", ",", "<DELETE>", "int", "<DELETE>", "start", "<DELETE>", "pos", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "synchronized", "<DELETE>", "(", "<DELETE>", "monitor", "<DELETE>", ")", "<DELETE>", "{", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "iter", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "haystack", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "pos", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "search", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "pos", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "iter", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "needle", "<REPLACE_NEW>", "search", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "iter", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "i", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9365651096742, "using": 2, "keep": 1}
{"id": "Raizlabs_DBFlow-123-3325", "old_comment": "the associated com . raizlabs . android . dbflow . structure . container . container adapter within this database for the specified table . these are used for com . raizlabs . android . dbflow . structure . container . model container and require com . raizlabs . android . dbflow . structure . model to add the model container .", "old_comment_tokens": ["the", "associated", "com", ".", "raizlabs", ".", "android", ".", "dbflow", ".", "structure", ".", "container", ".", "container", "adapter", "within", "this", "database", "for", "the", "specified", "table", ".", "these", "are", "used", "for", "com", ".", "raizlabs", ".", "android", ".", "dbflow", ".", "structure", ".", "container", ".", "model", "container", "and", "require", "com", ".", "raizlabs", ".", "android", ".", "dbflow", ".", "structure", ".", "model", "to", "add", "the", "model", "container", "."], "new_comment": "the associated model container adapter within this database for the specified table . these are used for com . raizlabs . android . dbflow . structure . container . model container and require com . raizlabs . android . dbflow . structure . model to add the model container .", "new_comment_tokens": ["the", "associated", "model", "container", "adapter", "within", "this", "database", "for", "the", "specified", "table", ".", "these", "are", "used", "for", "com", ".", "raizlabs", ".", "android", ".", "dbflow", ".", "structure", ".", "container", ".", "model", "container", "and", "require", "com", ".", "raizlabs", ".", "android", ".", "dbflow", ".", "structure", ".", "model", "to", "add", "the", "model", "container", "."], "old_code": "public container adapter get model container adapter for table ( class < ? extends model > table ) { return m model container adapters . get ( table ) ; }", "old_code_tokens": ["public", "container", "adapter", "get", "model", "container", "adapter", "for", "table", "(", "class", "<", "?", "extends", "model", ">", "table", ")", "{", "return", "m", "model", "container", "adapters", ".", "get", "(", "table", ")", ";", "}"], "new_code": "public model container adapter get model container adapter for table ( class < ? extends model > table ) { return model container adapters . get ( table ) ; }", "new_code_tokens": ["public", "model", "container", "adapter", "get", "model", "container", "adapter", "for", "table", "(", "class", "<", "?", "extends", "model", ">", "table", ")", "{", "return", "model", "container", "adapters", ".", "get", "(", "table", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> model <INSERT_END> <KEEP> container adapter get model container adapter for table ( class < ? extends model > table ) { return <KEEP_END> <DELETE> m <DELETE_END> <KEEP> model container adapters . get ( table ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "model", "<INSERT_END>", "<KEEP>", "container", "adapter", "get", "model", "container", "adapter", "for", "table", "(", "class", "<", "?", "extends", "model", ">", "table", ")", "{", "return", "<KEEP_END>", "<DELETE>", "m", "<DELETE_END>", "<KEEP>", "model", "container", "adapters", ".", "get", "(", "table", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> associated com . raizlabs . android . dbflow . structure . container . <REPLACE_NEW_KEEP_BEFORE> associated model <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "associated", "com", ".", "raizlabs", ".", "android", ".", "dbflow", ".", "structure", ".", "container", ".", "<REPLACE_NEW_KEEP_BEFORE>", "associated", "model", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "model", "<KEEP>", "container", "<KEEP>", "adapter", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "container", "<KEEP>", "adapter", "<KEEP>", "for", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "model", "<KEEP>", ">", "<KEEP>", "table", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "m", "<KEEP>", "model", "<KEEP>", "container", "<KEEP>", "adapters", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9474111090509734, "using": 0, "keep": 1}
{"id": "apache_hama-49-5538", "old_comment": "the byte length of bundle object", "old_comment_tokens": ["the", "byte", "length", "of", "bundle", "object"], "new_comment": "the byte length of messages", "new_comment_tokens": ["the", "byte", "length", "of", "messages"], "old_code": "public long get length ( ) throws ioexception { return bos . to byte array ( ) . length ; }", "old_code_tokens": ["public", "long", "get", "length", "(", ")", "throws", "ioexception", "{", "return", "bos", ".", "to", "byte", "array", "(", ")", ".", "length", ";", "}"], "new_code": "public long get length ( ) throws ioexception { return bundle length ; }", "new_code_tokens": ["public", "long", "get", "length", "(", ")", "throws", "ioexception", "{", "return", "bundle", "length", ";", "}"], "span_diff_code": "<KEEP> public long get length ( ) throws ioexception { return <KEEP_END> <REPLACE_OLD> bos . to byte array ( ) . <REPLACE_NEW> bundle <REPLACE_END> <KEEP> length ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "length", "(", ")", "throws", "ioexception", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "bos", ".", "to", "byte", "array", "(", ")", ".", "<REPLACE_NEW>", "bundle", "<REPLACE_END>", "<KEEP>", "length", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> bundle object <REPLACE_NEW> messages <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "bundle", "object", "<REPLACE_NEW>", "messages", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "bos", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "bundle", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8680945987830426, "using": 1, "keep": 1}
{"id": "svn2github_myfaces-extcdi-parent-23-4552", "old_comment": "true to allow window - ids which aren ' t generated by codi , false otherwise", "old_comment_tokens": ["true", "to", "allow", "window", "-", "ids", "which", "aren", "'", "t", "generated", "by", "codi", ",", "false", "otherwise"], "new_comment": "true to allow all window ids already present in window . name . false to only allow window - ids which are generated by codi", "new_comment_tokens": ["true", "to", "allow", "all", "window", "ids", "already", "present", "in", "window", ".", "name", ".", "false", "to", "only", "allow", "window", "-", "ids", "which", "are", "generated", "by", "codi"], "old_code": "@ config entry public boolean is unknown window ids allowed ( ) { return false ; }", "old_code_tokens": ["@", "config", "entry", "public", "boolean", "is", "unknown", "window", "ids", "allowed", "(", ")", "{", "return", "false", ";", "}"], "new_code": "@ config entry public boolean is unknown window ids allowed ( ) { return true ; }", "new_code_tokens": ["@", "config", "entry", "public", "boolean", "is", "unknown", "window", "ids", "allowed", "(", ")", "{", "return", "true", ";", "}"], "span_diff_code": "<KEEP> @ config entry public boolean is unknown window ids allowed ( ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "config", "entry", "public", "boolean", "is", "unknown", "window", "ids", "allowed", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> to <INSERT_NEW_KEEP_BEFORE> to allow all window ids already present in window . name . false to only <INSERT_END> <REPLACE_OLD> aren ' t <REPLACE_NEW> are <REPLACE_END> <DELETE> , false otherwise <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "to", "<INSERT_NEW_KEEP_BEFORE>", "to", "allow", "all", "window", "ids", "already", "present", "in", "window", ".", "name", ".", "false", "to", "only", "<INSERT_END>", "<REPLACE_OLD>", "aren", "'", "t", "<REPLACE_NEW>", "are", "<REPLACE_END>", "<DELETE>", ",", "false", "otherwise", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "config", "<KEEP>", "entry", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "unknown", "<KEEP>", "window", "<KEEP>", "ids", "<KEEP>", "allowed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8431281612928869, "using": 0, "keep": 1}
{"id": "eclipse_californium-26-4082", "old_comment": "the encrypted fragment", "old_comment_tokens": ["the", "encrypted", "fragment"], "new_comment": "the ( encrypted ) tlsciphertext . fragment", "new_comment_tokens": ["the", "(", "encrypted", ")", "tlsciphertext", ".", "fragment"], "old_code": "private byte [ ] encrypt fragment ( byte [ ] byte array ) { if ( session = = null ) { return byte array ; } byte [ ] encrypted fragment = byte array ; cipher suite cipher suite = session . get write state ( ) . get cipher suite ( ) ; switch ( cipher suite . get cipher type ( ) ) { case null : break ; case aead : encrypted fragment = encrypt aead ( byte array ) ; break ; case block : break ; case stream : break ; default : break ; } return encrypted fragment ; }", "old_code_tokens": ["private", "byte", "[", "]", "encrypt", "fragment", "(", "byte", "[", "]", "byte", "array", ")", "{", "if", "(", "session", "=", "=", "null", ")", "{", "return", "byte", "array", ";", "}", "byte", "[", "]", "encrypted", "fragment", "=", "byte", "array", ";", "cipher", "suite", "cipher", "suite", "=", "session", ".", "get", "write", "state", "(", ")", ".", "get", "cipher", "suite", "(", ")", ";", "switch", "(", "cipher", "suite", ".", "get", "cipher", "type", "(", ")", ")", "{", "case", "null", ":", "break", ";", "case", "aead", ":", "encrypted", "fragment", "=", "encrypt", "aead", "(", "byte", "array", ")", ";", "break", ";", "case", "block", ":", "break", ";", "case", "stream", ":", "break", ";", "default", ":", "break", ";", "}", "return", "encrypted", "fragment", ";", "}"], "new_code": "private byte [ ] encrypt fragment ( byte [ ] plaintext fragment ) throws general security exception { if ( session = = null ) { return plaintext fragment ; } byte [ ] encrypted fragment = plaintext fragment ; cipher suite cipher suite = session . get write state ( ) . get cipher suite ( ) ; logger . log ( level . finer , str , session . get write state ( ) ) ; switch ( cipher suite . get cipher type ( ) ) { case null : break ; case aead : encrypted fragment = encrypt aead ( plaintext fragment ) ; break ; case block : encrypted fragment = encrypt block cipher ( plaintext fragment ) ; break ; case stream : break ; default : break ; } return encrypted fragment ; }", "new_code_tokens": ["private", "byte", "[", "]", "encrypt", "fragment", "(", "byte", "[", "]", "plaintext", "fragment", ")", "throws", "general", "security", "exception", "{", "if", "(", "session", "=", "=", "null", ")", "{", "return", "plaintext", "fragment", ";", "}", "byte", "[", "]", "encrypted", "fragment", "=", "plaintext", "fragment", ";", "cipher", "suite", "cipher", "suite", "=", "session", ".", "get", "write", "state", "(", ")", ".", "get", "cipher", "suite", "(", ")", ";", "logger", ".", "log", "(", "level", ".", "finer", ",", "str", ",", "session", ".", "get", "write", "state", "(", ")", ")", ";", "switch", "(", "cipher", "suite", ".", "get", "cipher", "type", "(", ")", ")", "{", "case", "null", ":", "break", ";", "case", "aead", ":", "encrypted", "fragment", "=", "encrypt", "aead", "(", "plaintext", "fragment", ")", ";", "break", ";", "case", "block", ":", "encrypted", "fragment", "=", "encrypt", "block", "cipher", "(", "plaintext", "fragment", ")", ";", "break", ";", "case", "stream", ":", "break", ";", "default", ":", "break", ";", "}", "return", "encrypted", "fragment", ";", "}"], "span_diff_code": "<KEEP> private byte [ ] encrypt fragment ( byte [ ] <KEEP_END> <REPLACE_OLD> byte array <REPLACE_NEW> plaintext fragment <REPLACE_END> <KEEP> ) <KEEP_END> <INSERT> throws general security exception <INSERT_END> <KEEP> { if ( session = = null ) { return <KEEP_END> <REPLACE_OLD> byte array <REPLACE_NEW> plaintext fragment <REPLACE_END> <KEEP> ; } byte [ ] encrypted fragment = <KEEP_END> <REPLACE_OLD> byte array <REPLACE_NEW> plaintext fragment <REPLACE_END> <KEEP> ; cipher suite cipher suite = session . get write state ( ) . get cipher suite ( <KEEP_END> <INSERT> ) ; logger . log ( level . finer , str , session . get write state ( ) <INSERT_END> <KEEP> ) ; switch ( cipher suite . get cipher type ( ) ) { case null : break ; case aead : encrypted fragment = encrypt aead ( <KEEP_END> <REPLACE_OLD> byte array <REPLACE_NEW> plaintext fragment <REPLACE_END> <KEEP> ) ; break ; case block : <KEEP_END> <INSERT> encrypted fragment = encrypt block cipher ( plaintext fragment ) ; <INSERT_END> <KEEP> break ; case stream : break ; default : break ; } return encrypted fragment ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "byte", "[", "]", "encrypt", "fragment", "(", "byte", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "byte", "array", "<REPLACE_NEW>", "plaintext", "fragment", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", "throws", "general", "security", "exception", "<INSERT_END>", "<KEEP>", "{", "if", "(", "session", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "byte", "array", "<REPLACE_NEW>", "plaintext", "fragment", "<REPLACE_END>", "<KEEP>", ";", "}", "byte", "[", "]", "encrypted", "fragment", "=", "<KEEP_END>", "<REPLACE_OLD>", "byte", "array", "<REPLACE_NEW>", "plaintext", "fragment", "<REPLACE_END>", "<KEEP>", ";", "cipher", "suite", "cipher", "suite", "=", "session", ".", "get", "write", "state", "(", ")", ".", "get", "cipher", "suite", "(", "<KEEP_END>", "<INSERT>", ")", ";", "logger", ".", "log", "(", "level", ".", "finer", ",", "str", ",", "session", ".", "get", "write", "state", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "switch", "(", "cipher", "suite", ".", "get", "cipher", "type", "(", ")", ")", "{", "case", "null", ":", "break", ";", "case", "aead", ":", "encrypted", "fragment", "=", "encrypt", "aead", "(", "<KEEP_END>", "<REPLACE_OLD>", "byte", "array", "<REPLACE_NEW>", "plaintext", "fragment", "<REPLACE_END>", "<KEEP>", ")", ";", "break", ";", "case", "block", ":", "<KEEP_END>", "<INSERT>", "encrypted", "fragment", "=", "encrypt", "block", "cipher", "(", "plaintext", "fragment", ")", ";", "<INSERT_END>", "<KEEP>", "break", ";", "case", "stream", ":", "break", ";", "default", ":", "break", ";", "}", "return", "encrypted", "fragment", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the ( <INSERT_END> <INSERT_OLD_KEEP_BEFORE> encrypted <INSERT_NEW_KEEP_BEFORE> encrypted ) tlsciphertext . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "(", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "encrypted", "<INSERT_NEW_KEEP_BEFORE>", "encrypted", ")", "tlsciphertext", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "encrypt", "<KEEP>", "fragment", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "plaintext", "<REPLACE_NEW>", "fragment", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "general", "<INSERT>", "security", "<INSERT>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "session", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "plaintext", "<REPLACE_NEW>", "fragment", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "encrypted", "<KEEP>", "fragment", "<KEEP>", "=", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "plaintext", "<REPLACE_NEW>", "fragment", "<KEEP>", ";", "<KEEP>", "cipher", "<KEEP>", "suite", "<KEEP>", "cipher", "<KEEP>", "suite", "<KEEP>", "=", "<KEEP>", "session", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "write", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cipher", "<KEEP>", "suite", "<KEEP>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "log", "<INSERT>", "(", "<INSERT>", "level", "<INSERT>", ".", "<INSERT>", "finer", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "session", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "write", "<INSERT>", "state", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "cipher", "<KEEP>", "suite", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cipher", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "aead", "<KEEP>", ":", "<KEEP>", "encrypted", "<KEEP>", "fragment", "<KEEP>", "=", "<KEEP>", "encrypt", "<KEEP>", "aead", "<KEEP>", "(", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "plaintext", "<REPLACE_NEW>", "fragment", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "block", "<KEEP>", ":", "<INSERT>", "encrypted", "<INSERT>", "fragment", "<INSERT>", "=", "<INSERT>", "encrypt", "<INSERT>", "block", "<INSERT>", "cipher", "<INSERT>", "(", "<INSERT>", "plaintext", "<INSERT>", "fragment", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "stream", "<KEEP>", ":", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "encrypted", "<KEEP>", "fragment", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7958243453388493, "using": 2, "keep": 1}
{"id": "truemped_heritrix3-33-6347", "old_comment": "true if queue is over its set budget ( s )", "old_comment_tokens": ["true", "if", "queue", "is", "over", "its", "set", "budget", "(", "s", ")"], "new_comment": "true if queue is over either of its set budget ( s )", "new_comment_tokens": ["true", "if", "queue", "is", "over", "either", "of", "its", "set", "budget", "(", "s", ")"], "old_code": "public boolean is over budget ( ) { return this . session balance < = num | | ( this . total budget > = num & & this . total expenditure > = this . total budget ) ; }", "old_code_tokens": ["public", "boolean", "is", "over", "budget", "(", ")", "{", "return", "this", ".", "session", "balance", "<", "=", "num", "|", "|", "(", "this", ".", "total", "budget", ">", "=", "num", "&", "&", "this", ".", "total", "expenditure", ">", "=", "this", ".", "total", "budget", ")", ";", "}"], "new_code": "public boolean is over budget ( ) { return ( session budget > num & & ( total expenditure - expenditure at last activation ) > session budget ) | | ( this . total budget > = num & & this . total expenditure > = this . total budget ) ; }", "new_code_tokens": ["public", "boolean", "is", "over", "budget", "(", ")", "{", "return", "(", "session", "budget", ">", "num", "&", "&", "(", "total", "expenditure", "-", "expenditure", "at", "last", "activation", ")", ">", "session", "budget", ")", "|", "|", "(", "this", ".", "total", "budget", ">", "=", "num", "&", "&", "this", ".", "total", "expenditure", ">", "=", "this", ".", "total", "budget", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is over budget ( ) { return <KEEP_END> <REPLACE_OLD> this . <REPLACE_NEW> ( <REPLACE_END> <KEEP> session <KEEP_END> <REPLACE_OLD> balance < = <REPLACE_NEW> budget > <REPLACE_END> <KEEP> num <KEEP_END> <INSERT> & & ( total expenditure - expenditure at last activation ) > session budget ) <INSERT_END> <KEEP> | | ( this . total budget > = num & & this . total expenditure > = this . total budget ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "over", "budget", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "this", ".", "<REPLACE_NEW>", "(", "<REPLACE_END>", "<KEEP>", "session", "<KEEP_END>", "<REPLACE_OLD>", "balance", "<", "=", "<REPLACE_NEW>", "budget", ">", "<REPLACE_END>", "<KEEP>", "num", "<KEEP_END>", "<INSERT>", "&", "&", "(", "total", "expenditure", "-", "expenditure", "at", "last", "activation", ")", ">", "session", "budget", ")", "<INSERT_END>", "<KEEP>", "|", "|", "(", "this", ".", "total", "budget", ">", "=", "num", "&", "&", "this", ".", "total", "expenditure", ">", "=", "this", ".", "total", "budget", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> over <INSERT_NEW_KEEP_BEFORE> over either of <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "over", "<INSERT_NEW_KEEP_BEFORE>", "over", "either", "of", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "over", "<KEEP>", "budget", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "(", "<KEEP>", "session", "<REPLACE_OLD>", "balance", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "budget", "<REPLACE_NEW>", ">", "<KEEP>", "num", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "(", "<INSERT>", "total", "<INSERT>", "expenditure", "<INSERT>", "-", "<INSERT>", "expenditure", "<INSERT>", "at", "<INSERT>", "last", "<INSERT>", "activation", "<INSERT>", ")", "<INSERT>", ">", "<INSERT>", "session", "<INSERT>", "budget", "<INSERT>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "total", "<KEEP>", "budget", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "total", "<KEEP>", "expenditure", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "total", "<KEEP>", "budget", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9173068526411127, "using": 0, "keep": 1}
{"id": "apache_ignite-394-3977", "old_comment": "auth spi .", "old_comment_tokens": ["auth", "spi", "."], "new_comment": "authentication spi .", "new_comment_tokens": ["authentication", "spi", "."], "old_code": "public grid bi tuple < string , map < string , object > > authentication spi ( ) { return auth spi ; }", "old_code_tokens": ["public", "grid", "bi", "tuple", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "authentication", "spi", "(", ")", "{", "return", "auth", "spi", ";", "}"], "new_code": "public t2 < string , map < string , object > > authentication spi ( ) { return auth spi ; }", "new_code_tokens": ["public", "t2", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "authentication", "spi", "(", ")", "{", "return", "auth", "spi", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> grid bi tuple <REPLACE_NEW> t2 <REPLACE_END> <KEEP> < string , map < string , object > > authentication spi ( ) { return auth spi ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "grid", "bi", "tuple", "<REPLACE_NEW>", "t2", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "map", "<", "string", ",", "object", ">", ">", "authentication", "spi", "(", ")", "{", "return", "auth", "spi", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> auth <REPLACE_NEW> authentication <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "auth", "<REPLACE_NEW>", "authentication", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "grid", "<REPLACE_OLD>", "bi", "<REPLACE_OLD>", "tuple", "<REPLACE_NEW>", "t2", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "authentication", "<KEEP>", "spi", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "auth", "<KEEP>", "spi", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8335562766338309, "using": 0, "keep": 1}
{"id": "graphhopper_graphhopper-8-2882", "old_comment": "the integer reference", "old_comment_tokens": ["the", "integer", "reference"], "new_comment": "the byte pointer to the name", "new_comment_tokens": ["the", "byte", "pointer", "to", "the", "name"], "old_code": "public int put ( string name ) { if ( name = = null | | name . is empty ( ) ) { return num ; } if ( name . equals ( last name ) ) { return last index ; } byte [ ] bytes = get bytes ( name ) ; int old pointer = byte pointer ; names . inc capacity ( byte pointer + num + bytes . length ) ; byte [ ] size bytes = new byte [ ] { ( byte ) bytes . length } ; names . set bytes ( byte pointer , size bytes , size bytes . length ) ; byte pointer + + ; names . set bytes ( byte pointer , bytes , bytes . length ) ; byte pointer + = bytes . length ; if ( byte pointer < num ) { throw new illegal state exception ( str ) ; } last name = name ; last index = old pointer ; return old pointer ; }", "old_code_tokens": ["public", "int", "put", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "name", ".", "is", "empty", "(", ")", ")", "{", "return", "num", ";", "}", "if", "(", "name", ".", "equals", "(", "last", "name", ")", ")", "{", "return", "last", "index", ";", "}", "byte", "[", "]", "bytes", "=", "get", "bytes", "(", "name", ")", ";", "int", "old", "pointer", "=", "byte", "pointer", ";", "names", ".", "inc", "capacity", "(", "byte", "pointer", "+", "num", "+", "bytes", ".", "length", ")", ";", "byte", "[", "]", "size", "bytes", "=", "new", "byte", "[", "]", "{", "(", "byte", ")", "bytes", ".", "length", "}", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "size", "bytes", ",", "size", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "+", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "bytes", ",", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "=", "bytes", ".", "length", ";", "if", "(", "byte", "pointer", "<", "num", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "last", "name", "=", "name", ";", "last", "index", "=", "old", "pointer", ";", "return", "old", "pointer", ";", "}"], "new_code": "public long put ( string name ) { if ( name = = null | | name . is empty ( ) ) { return num ; } if ( name . equals ( last name ) ) { return last index ; } byte [ ] bytes = get bytes ( name ) ; long old pointer = byte pointer ; names . ensure capacity ( byte pointer + num + bytes . length ) ; byte [ ] size bytes = new byte [ ] { ( byte ) bytes . length } ; names . set bytes ( byte pointer , size bytes , size bytes . length ) ; byte pointer + + ; names . set bytes ( byte pointer , bytes , bytes . length ) ; byte pointer + = bytes . length ; if ( byte pointer < num ) { throw new illegal state exception ( str ) ; } last name = name ; last index = old pointer ; return old pointer ; }", "new_code_tokens": ["public", "long", "put", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "name", ".", "is", "empty", "(", ")", ")", "{", "return", "num", ";", "}", "if", "(", "name", ".", "equals", "(", "last", "name", ")", ")", "{", "return", "last", "index", ";", "}", "byte", "[", "]", "bytes", "=", "get", "bytes", "(", "name", ")", ";", "long", "old", "pointer", "=", "byte", "pointer", ";", "names", ".", "ensure", "capacity", "(", "byte", "pointer", "+", "num", "+", "bytes", ".", "length", ")", ";", "byte", "[", "]", "size", "bytes", "=", "new", "byte", "[", "]", "{", "(", "byte", ")", "bytes", ".", "length", "}", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "size", "bytes", ",", "size", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "+", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "bytes", ",", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "=", "bytes", ".", "length", ";", "if", "(", "byte", "pointer", "<", "num", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "last", "name", "=", "name", ";", "last", "index", "=", "old", "pointer", ";", "return", "old", "pointer", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> put ( string name ) { if ( name = = null | | name . is empty ( ) ) { return num ; } if ( name . equals ( last name ) ) { return last index ; } byte [ ] bytes = get bytes ( name ) ; <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> old pointer = byte pointer ; names . <KEEP_END> <REPLACE_OLD> inc <REPLACE_NEW> ensure <REPLACE_END> <KEEP> capacity ( byte pointer + num + bytes . length ) ; byte [ ] size bytes = new byte [ ] { ( byte ) bytes . length } ; names . set bytes ( byte pointer , size bytes , size bytes . length ) ; byte pointer + + ; names . set bytes ( byte pointer , bytes , bytes . length ) ; byte pointer + = bytes . length ; if ( byte pointer < num ) { throw new illegal state exception ( str ) ; } last name = name ; last index = old pointer ; return old pointer ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "put", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "name", ".", "is", "empty", "(", ")", ")", "{", "return", "num", ";", "}", "if", "(", "name", ".", "equals", "(", "last", "name", ")", ")", "{", "return", "last", "index", ";", "}", "byte", "[", "]", "bytes", "=", "get", "bytes", "(", "name", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "old", "pointer", "=", "byte", "pointer", ";", "names", ".", "<KEEP_END>", "<REPLACE_OLD>", "inc", "<REPLACE_NEW>", "ensure", "<REPLACE_END>", "<KEEP>", "capacity", "(", "byte", "pointer", "+", "num", "+", "bytes", ".", "length", ")", ";", "byte", "[", "]", "size", "bytes", "=", "new", "byte", "[", "]", "{", "(", "byte", ")", "bytes", ".", "length", "}", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "size", "bytes", ",", "size", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "+", ";", "names", ".", "set", "bytes", "(", "byte", "pointer", ",", "bytes", ",", "bytes", ".", "length", ")", ";", "byte", "pointer", "+", "=", "bytes", ".", "length", ";", "if", "(", "byte", "pointer", "<", "num", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "last", "name", "=", "name", ";", "last", "index", "=", "old", "pointer", ";", "return", "old", "pointer", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> integer reference <REPLACE_NEW> byte pointer to the name <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "integer", "reference", "<REPLACE_NEW>", "byte", "pointer", "to", "the", "name", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "last", "<KEEP>", "index", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "old", "<KEEP>", "pointer", "<KEEP>", "=", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", ";", "<KEEP>", "names", "<KEEP>", ".", "<REPLACE_OLD>", "inc", "<REPLACE_NEW>", "ensure", "<KEEP>", "capacity", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", "+", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "size", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", ")", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", ",", "<KEEP>", "size", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "size", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "pointer", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "last", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "name", "<KEEP>", ";", "<KEEP>", "last", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "old", "<KEEP>", "pointer", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "old", "<KEEP>", "pointer", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8738340711089305, "using": 1, "keep": 1}
{"id": "apache_pig-4-6679", "old_comment": "true if there is a chain of projection operators ; false otherwise", "old_comment_tokens": ["true", "if", "there", "is", "a", "chain", "of", "projection", "operators", ";", "false", "otherwise"], "new_comment": "the top most projection operator if there is a chain of projection operators with or without casts ; null otherwise", "new_comment_tokens": ["the", "top", "most", "projection", "operator", "if", "there", "is", "a", "chain", "of", "projection", "operators", "with", "or", "without", "casts", ";", "null", "otherwise"], "old_code": "public static boolean chain of projects ( logical plan plan ) { if ( plan = = null ) { return false ; } list < logical operator > leaves = plan . get leaves ( ) ; if ( leaves = = null ) { return false ; } if ( leaves . size ( ) > num ) { return false ; } logical operator node = leaves . get ( num ) ; while ( true ) { if ( ( node = = null ) | | ! ( node instanceof loproject ) ) { return false ; } list < logical operator > predecessors = plan . get predecessors ( node ) ; if ( predecessors = = null ) { return true ; } if ( predecessors . size ( ) > num ) { return false ; } node = predecessors . get ( num ) ; } }", "old_code_tokens": ["public", "static", "boolean", "chain", "of", "projects", "(", "logical", "plan", "plan", ")", "{", "if", "(", "plan", "=", "=", "null", ")", "{", "return", "false", ";", "}", "list", "<", "logical", "operator", ">", "leaves", "=", "plan", ".", "get", "leaves", "(", ")", ";", "if", "(", "leaves", "=", "=", "null", ")", "{", "return", "false", ";", "}", "if", "(", "leaves", ".", "size", "(", ")", ">", "num", ")", "{", "return", "false", ";", "}", "logical", "operator", "node", "=", "leaves", ".", "get", "(", "num", ")", ";", "while", "(", "true", ")", "{", "if", "(", "(", "node", "=", "=", "null", ")", "|", "|", "!", "(", "node", "instanceof", "loproject", ")", ")", "{", "return", "false", ";", "}", "list", "<", "logical", "operator", ">", "predecessors", "=", "plan", ".", "get", "predecessors", "(", "node", ")", ";", "if", "(", "predecessors", "=", "=", "null", ")", "{", "return", "true", ";", "}", "if", "(", "predecessors", ".", "size", "(", ")", ">", "num", ")", "{", "return", "false", ";", "}", "node", "=", "predecessors", ".", "get", "(", "num", ")", ";", "}", "}"], "new_code": "public static loproject chain of projects ( logical plan plan ) { loproject top project = null ; if ( plan = = null ) { return null ; } list < logical operator > leaves = plan . get leaves ( ) ; if ( leaves = = null ) { return null ; } if ( leaves . size ( ) > num ) { return null ; } logical operator node = leaves . get ( num ) ; while ( true ) { if ( node = = null ) { return null ; } if ( node instanceof loproject ) { top project = ( loproject ) node ; } else if ( node instanceof locast ) { } else { return null ; } list < logical operator > predecessors = plan . get predecessors ( node ) ; if ( predecessors = = null ) { return top project ; } if ( predecessors . size ( ) > num ) { return null ; } node = predecessors . get ( num ) ; } }", "new_code_tokens": ["public", "static", "loproject", "chain", "of", "projects", "(", "logical", "plan", "plan", ")", "{", "loproject", "top", "project", "=", "null", ";", "if", "(", "plan", "=", "=", "null", ")", "{", "return", "null", ";", "}", "list", "<", "logical", "operator", ">", "leaves", "=", "plan", ".", "get", "leaves", "(", ")", ";", "if", "(", "leaves", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "leaves", ".", "size", "(", ")", ">", "num", ")", "{", "return", "null", ";", "}", "logical", "operator", "node", "=", "leaves", ".", "get", "(", "num", ")", ";", "while", "(", "true", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "node", "instanceof", "loproject", ")", "{", "top", "project", "=", "(", "loproject", ")", "node", ";", "}", "else", "if", "(", "node", "instanceof", "locast", ")", "{", "}", "else", "{", "return", "null", ";", "}", "list", "<", "logical", "operator", ">", "predecessors", "=", "plan", ".", "get", "predecessors", "(", "node", ")", ";", "if", "(", "predecessors", "=", "=", "null", ")", "{", "return", "top", "project", ";", "}", "if", "(", "predecessors", ".", "size", "(", ")", ">", "num", ")", "{", "return", "null", ";", "}", "node", "=", "predecessors", ".", "get", "(", "num", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> loproject <REPLACE_END> <KEEP> chain of projects ( logical plan plan ) { <KEEP_END> <INSERT> loproject top project = null ; <INSERT_END> <KEEP> if ( plan = = null ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } list < logical operator > leaves = plan . get leaves ( ) ; if ( leaves = = null ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } if ( leaves . size ( ) > num ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } logical operator node = leaves . get ( num ) ; while ( true ) { if ( <KEEP_END> <DELETE> ( <DELETE_END> <KEEP> node = = null ) <KEEP_END> <REPLACE_OLD> | | ! <REPLACE_NEW> { return null ; } if <REPLACE_END> <KEEP> ( node instanceof loproject ) <KEEP_END> <INSERT> { top project = ( loproject ) node ; } else if ( node instanceof locast <INSERT_END> <KEEP> ) { <KEEP_END> <INSERT> } else { <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } list < logical operator > predecessors = plan . get predecessors ( node ) ; if ( predecessors = = null ) { return <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> top project <REPLACE_END> <KEEP> ; } if ( predecessors . size ( ) > num ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } node = predecessors . get ( num ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "loproject", "<REPLACE_END>", "<KEEP>", "chain", "of", "projects", "(", "logical", "plan", "plan", ")", "{", "<KEEP_END>", "<INSERT>", "loproject", "top", "project", "=", "null", ";", "<INSERT_END>", "<KEEP>", "if", "(", "plan", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "list", "<", "logical", "operator", ">", "leaves", "=", "plan", ".", "get", "leaves", "(", ")", ";", "if", "(", "leaves", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "if", "(", "leaves", ".", "size", "(", ")", ">", "num", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "logical", "operator", "node", "=", "leaves", ".", "get", "(", "num", ")", ";", "while", "(", "true", ")", "{", "if", "(", "<KEEP_END>", "<DELETE>", "(", "<DELETE_END>", "<KEEP>", "node", "=", "=", "null", ")", "<KEEP_END>", "<REPLACE_OLD>", "|", "|", "!", "<REPLACE_NEW>", "{", "return", "null", ";", "}", "if", "<REPLACE_END>", "<KEEP>", "(", "node", "instanceof", "loproject", ")", "<KEEP_END>", "<INSERT>", "{", "top", "project", "=", "(", "loproject", ")", "node", ";", "}", "else", "if", "(", "node", "instanceof", "locast", "<INSERT_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "}", "else", "{", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "list", "<", "logical", "operator", ">", "predecessors", "=", "plan", ".", "get", "predecessors", "(", "node", ")", ";", "if", "(", "predecessors", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "top", "project", "<REPLACE_END>", "<KEEP>", ";", "}", "if", "(", "predecessors", ".", "size", "(", ")", ">", "num", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "node", "=", "predecessors", ".", "get", "(", "num", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true <REPLACE_NEW> the top most projection operator <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> operators <INSERT_NEW_KEEP_BEFORE> operators with or without casts <INSERT_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "<REPLACE_NEW>", "the", "top", "most", "projection", "operator", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "operators", "<INSERT_NEW_KEEP_BEFORE>", "operators", "with", "or", "without", "casts", "<INSERT_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "loproject", "<KEEP>", "chain", "<KEEP>", "of", "<KEEP>", "projects", "<KEEP>", "(", "<KEEP>", "logical", "<KEEP>", "plan", "<KEEP>", "plan", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "loproject", "<INSERT>", "top", "<INSERT>", "project", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "plan", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "logical", "<KEEP>", "operator", "<KEEP>", ">", "<KEEP>", "leaves", "<KEEP>", "=", "<KEEP>", "plan", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "leaves", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "leaves", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "leaves", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "logical", "<KEEP>", "operator", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "leaves", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "(", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "loproject", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "top", "<INSERT>", "project", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "loproject", "<INSERT>", ")", "<INSERT>", "node", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "node", "<INSERT>", "instanceof", "<INSERT>", "locast", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "logical", "<KEEP>", "operator", "<KEEP>", ">", "<KEEP>", "predecessors", "<KEEP>", "=", "<KEEP>", "plan", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "predecessors", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "predecessors", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "project", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "predecessors", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "predecessors", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8501627279315507, "using": 2, "keep": 1}
{"id": "UnimibSoftEngCourse1516_lab4-es1-v.popescu2-44-4146", "old_comment": "a point which is the new centroid", "old_comment_tokens": ["a", "point", "which", "is", "the", "new", "centroid"], "new_comment": "a sparse vector ( required by mapper ) which is the new centroid", "new_comment_tokens": ["a", "sparse", "vector", "(", "required", "by", "mapper", ")", "which", "is", "the", "new", "centroid"], "old_code": "public vector compute centroid ( ) { vector result = new sparse vector ( point total . size ( ) ) ; for ( int i = num ; i < point total . size ( ) ; i + + ) result . set ( i , point total . get ( i ) / num points ) ; return result ; }", "old_code_tokens": ["public", "vector", "compute", "centroid", "(", ")", "{", "vector", "result", "=", "new", "sparse", "vector", "(", "point", "total", ".", "size", "(", ")", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "size", "(", ")", ";", "i", "+", "+", ")", "result", ".", "set", "(", "i", ",", "point", "total", ".", "get", "(", "i", ")", "/", "num", "points", ")", ";", "return", "result", ";", "}"], "new_code": "public sparse vector compute centroid ( ) { sparse vector result = new sparse vector ( point total . size ( ) ) ; for ( int i = num ; i < point total . size ( ) ; i + + ) result . set ( i , point total . get ( i ) / num points ) ; return result ; }", "new_code_tokens": ["public", "sparse", "vector", "compute", "centroid", "(", ")", "{", "sparse", "vector", "result", "=", "new", "sparse", "vector", "(", "point", "total", ".", "size", "(", ")", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "size", "(", ")", ";", "i", "+", "+", ")", "result", ".", "set", "(", "i", ",", "point", "total", ".", "get", "(", "i", ")", "/", "num", "points", ")", ";", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> sparse <INSERT_END> <KEEP> vector compute centroid ( ) { <KEEP_END> <INSERT> sparse <INSERT_END> <KEEP> vector result = new sparse vector ( point total . size ( ) ) ; for ( int i = num ; i < point total . size ( ) ; i + + ) result . set ( i , point total . get ( i ) / num points ) ; return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "sparse", "<INSERT_END>", "<KEEP>", "vector", "compute", "centroid", "(", ")", "{", "<KEEP_END>", "<INSERT>", "sparse", "<INSERT_END>", "<KEEP>", "vector", "result", "=", "new", "sparse", "vector", "(", "point", "total", ".", "size", "(", ")", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "point", "total", ".", "size", "(", ")", ";", "i", "+", "+", ")", "result", ".", "set", "(", "i", ",", "point", "total", ".", "get", "(", "i", ")", "/", "num", "points", ")", ";", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> point <REPLACE_NEW> sparse vector ( required by mapper ) <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "point", "<REPLACE_NEW>", "sparse", "vector", "(", "required", "by", "mapper", ")", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "sparse", "<KEEP>", "vector", "<KEEP>", "compute", "<KEEP>", "centroid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "sparse", "<KEEP>", "vector", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "sparse", "<KEEP>", "vector", "<KEEP>", "(", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ",", "<KEEP>", "point", "<KEEP>", "total", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", "points", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8480689382076647, "using": 1, "keep": 1}
{"id": "rektide_jstyx-95-6508", "old_comment": "true if this instance has finished running ( i . e . if state is finished , error or aborted", "old_comment_tokens": ["true", "if", "this", "instance", "has", "finished", "running", "(", "i", ".", "e", ".", "if", "state", "is", "finished", ",", "error", "or", "aborted"], "new_comment": "true if this instance has finished running ( delegates to this . state . means finished ( ) )", "new_comment_tokens": ["true", "if", "this", "instance", "has", "finished", "running", "(", "delegates", "to", "this", ".", "state", ".", "means", "finished", "(", ")", ")"], "old_code": "public boolean is finished ( ) { return this . state = = state . finished | | this . state = = state . aborted | | this . state = = state . error ; }", "old_code_tokens": ["public", "boolean", "is", "finished", "(", ")", "{", "return", "this", ".", "state", "=", "=", "state", ".", "finished", "|", "|", "this", ".", "state", "=", "=", "state", ".", "aborted", "|", "|", "this", ".", "state", "=", "=", "state", ".", "error", ";", "}"], "new_code": "public boolean is finished ( ) { return this . state . means finished ( ) ; }", "new_code_tokens": ["public", "boolean", "is", "finished", "(", ")", "{", "return", "this", ".", "state", ".", "means", "finished", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is finished ( ) { return this . state <KEEP_END> <DELETE> = = state <DELETE_END> <KEEP> . <KEEP_END> <INSERT> means <INSERT_END> <KEEP> finished <KEEP_END> <REPLACE_OLD> | | this . state = = state . aborted | | this . state = = state . error <REPLACE_NEW> ( ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "finished", "(", ")", "{", "return", "this", ".", "state", "<KEEP_END>", "<DELETE>", "=", "=", "state", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<INSERT>", "means", "<INSERT_END>", "<KEEP>", "finished", "<KEEP_END>", "<REPLACE_OLD>", "|", "|", "this", ".", "state", "=", "=", "state", ".", "aborted", "|", "|", "this", ".", "state", "=", "=", "state", ".", "error", "<REPLACE_NEW>", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> i <REPLACE_NEW> delegates to this <REPLACE_END> <REPLACE_OLD> e <REPLACE_NEW> state <REPLACE_END> <REPLACE_OLD> if state is <REPLACE_NEW> means <REPLACE_END> <REPLACE_OLD> , error or aborted <REPLACE_NEW> ( ) ) <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "i", "<REPLACE_NEW>", "delegates", "to", "this", "<REPLACE_END>", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", "state", "<REPLACE_END>", "<REPLACE_OLD>", "if", "state", "is", "<REPLACE_NEW>", "means", "<REPLACE_END>", "<REPLACE_OLD>", ",", "error", "or", "aborted", "<REPLACE_NEW>", "(", ")", ")", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "finished", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "state", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "state", "<KEEP>", ".", "<INSERT>", "means", "<KEEP>", "finished", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "aborted", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8447318178367572, "using": 2, "keep": 1}
{"id": "bytedeco_javacpp-0-3391", "old_comment": "the collection of file produced", "old_comment_tokens": ["the", "collection", "of", "file", "produced"], "new_comment": "the array of file produced", "new_comment_tokens": ["the", "array", "of", "file", "produced"], "old_code": "public collection < file > build ( ) throws ioexception , interrupted exception { if ( classes . is empty ( ) ) { return null ; } linked list < file > output files = new linked list < file > ( ) ; map < string , linked list < class > > map = new linked hash map < string , linked list < class > > ( ) ; for ( class c : classes ) { properties p = ( properties ) properties . clone ( ) ; if ( loader . append properties ( p , c ) ! = c ) { continue ; } string library name = output name ! = null ? output name : p . get property ( str , str ) ; if ( library name . length ( ) = = num ) { continue ; } linked list < class > class list = map . get ( library name ) ; if ( class list = = null ) { map . put ( library name , class list = new linked list < class > ( ) ) ; } class list . add ( c ) ; } for ( string library name : map . key set ( ) ) { linked list < class > class list = map . get ( library name ) ; file f = generate and compile ( class list . to array ( new class [ class list . size ( ) ] ) , library name ) ; if ( f ! = null ) { output files . add ( f ) ; } } if ( jar prefix ! = null & & ! output files . is empty ( ) ) { file jar file = new file ( jar prefix + str + properties . get ( str ) + str ) ; file d = jar file . get parent file ( ) ; if ( d ! = null & & ! d . exists ( ) ) { d . mkdir ( ) ; } create jar ( jar file , output directory = = null ? class loader . get paths ( ) : null , output files ) ; } return output files ; }", "old_code_tokens": ["public", "collection", "<", "file", ">", "build", "(", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "if", "(", "classes", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "linked", "list", "<", "file", ">", "output", "files", "=", "new", "linked", "list", "<", "file", ">", "(", ")", ";", "map", "<", "string", ",", "linked", "list", "<", "class", ">", ">", "map", "=", "new", "linked", "hash", "map", "<", "string", ",", "linked", "list", "<", "class", ">", ">", "(", ")", ";", "for", "(", "class", "c", ":", "classes", ")", "{", "properties", "p", "=", "(", "properties", ")", "properties", ".", "clone", "(", ")", ";", "if", "(", "loader", ".", "append", "properties", "(", "p", ",", "c", ")", "!", "=", "c", ")", "{", "continue", ";", "}", "string", "library", "name", "=", "output", "name", "!", "=", "null", "?", "output", "name", ":", "p", ".", "get", "property", "(", "str", ",", "str", ")", ";", "if", "(", "library", "name", ".", "length", "(", ")", "=", "=", "num", ")", "{", "continue", ";", "}", "linked", "list", "<", "class", ">", "class", "list", "=", "map", ".", "get", "(", "library", "name", ")", ";", "if", "(", "class", "list", "=", "=", "null", ")", "{", "map", ".", "put", "(", "library", "name", ",", "class", "list", "=", "new", "linked", "list", "<", "class", ">", "(", ")", ")", ";", "}", "class", "list", ".", "add", "(", "c", ")", ";", "}", "for", "(", "string", "library", "name", ":", "map", ".", "key", "set", "(", ")", ")", "{", "linked", "list", "<", "class", ">", "class", "list", "=", "map", ".", "get", "(", "library", "name", ")", ";", "file", "f", "=", "generate", "and", "compile", "(", "class", "list", ".", "to", "array", "(", "new", "class", "[", "class", "list", ".", "size", "(", ")", "]", ")", ",", "library", "name", ")", ";", "if", "(", "f", "!", "=", "null", ")", "{", "output", "files", ".", "add", "(", "f", ")", ";", "}", "}", "if", "(", "jar", "prefix", "!", "=", "null", "&", "&", "!", "output", "files", ".", "is", "empty", "(", ")", ")", "{", "file", "jar", "file", "=", "new", "file", "(", "jar", "prefix", "+", "str", "+", "properties", ".", "get", "(", "str", ")", "+", "str", ")", ";", "file", "d", "=", "jar", "file", ".", "get", "parent", "file", "(", ")", ";", "if", "(", "d", "!", "=", "null", "&", "&", "!", "d", ".", "exists", "(", ")", ")", "{", "d", ".", "mkdir", "(", ")", ";", "}", "create", "jar", "(", "jar", "file", ",", "output", "directory", "=", "=", "null", "?", "class", "loader", ".", "get", "paths", "(", ")", ":", "null", ",", "output", "files", ")", ";", "}", "return", "output", "files", ";", "}"], "new_code": "public file [ ] build ( ) throws ioexception , interrupted exception { if ( class scanner . get classes ( ) . is empty ( ) ) { return null ; } linked list < file > output files = new linked list < file > ( ) ; map < string , linked list < class > > map = new linked hash map < string , linked list < class > > ( ) ; for ( class c : class scanner . get classes ( ) ) { if ( loader . get enclosing class ( c ) ! = c ) { continue ; } loader . class properties p = loader . load properties ( c , properties , false ) ; string library name = output name ! = null ? output name : p . get property ( str , str ) ; if ( library name . length ( ) = = num ) { continue ; } linked list < class > class list = map . get ( library name ) ; if ( class list = = null ) { map . put ( library name , class list = new linked list < class > ( ) ) ; } class list . add ( c ) ; } for ( string library name : map . key set ( ) ) { linked list < class > class list = map . get ( library name ) ; class [ ] class array = class list . to array ( new class [ class list . size ( ) ] ) ; file f = generate and compile ( class array , library name ) ; if ( f ! = null ) { output files . add ( f ) ; if ( copylibs ) { loader . class properties p = loader . load properties ( class array , properties , false ) ; linked list < string > preloads = new linked list < string > ( ) ; preloads . add all ( p . get ( str ) ) ; preloads . add all ( p . get ( str ) ) ; p = loader . load properties ( class array , properties , true ) ; file directory = f . get parent file ( ) ; for ( string s : preloads ) { url [ ] urls = loader . find library ( null , p , s ) ; file fi ; try { fi = new file ( urls [ num ] . to uri ( ) ) ; } catch ( exception e ) { continue ; } file fo = new file ( directory , fi . get name ( ) ) ; if ( fi . exists ( ) & & ! output files . contains ( fo ) ) { system . out . println ( str + fi ) ; file input stream fis = new file input stream ( fi ) ; file output stream fos = new file output stream ( fo ) ; byte [ ] buffer = new byte [ num ] ; int length ; while ( ( length = fis . read ( buffer ) ) ! = - num ) { fos . write ( buffer , num , length ) ; } fos . close ( ) ; fis . close ( ) ; output files . add ( fo ) ; } } } } } file [ ] files = output files . to array ( new file [ output files . size ( ) ] ) ; if ( jar prefix ! = null & & files . length > num ) { file jar file = new file ( jar prefix + str + properties . get ( str ) + str ) ; file d = jar file . get parent file ( ) ; if ( d ! = null & & ! d . exists ( ) ) { d . mkdir ( ) ; } create jar ( jar file , output directory = = null ? class scanner . get class loader ( ) . get paths ( ) : null , files ) ; } return files ; }", "new_code_tokens": ["public", "file", "[", "]", "build", "(", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "if", "(", "class", "scanner", ".", "get", "classes", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "linked", "list", "<", "file", ">", "output", "files", "=", "new", "linked", "list", "<", "file", ">", "(", ")", ";", "map", "<", "string", ",", "linked", "list", "<", "class", ">", ">", "map", "=", "new", "linked", "hash", "map", "<", "string", ",", "linked", "list", "<", "class", ">", ">", "(", ")", ";", "for", "(", "class", "c", ":", "class", "scanner", ".", "get", "classes", "(", ")", ")", "{", "if", "(", "loader", ".", "get", "enclosing", "class", "(", "c", ")", "!", "=", "c", ")", "{", "continue", ";", "}", "loader", ".", "class", "properties", "p", "=", "loader", ".", "load", "properties", "(", "c", ",", "properties", ",", "false", ")", ";", "string", "library", "name", "=", "output", "name", "!", "=", "null", "?", "output", "name", ":", "p", ".", "get", "property", "(", "str", ",", "str", ")", ";", "if", "(", "library", "name", ".", "length", "(", ")", "=", "=", "num", ")", "{", "continue", ";", "}", "linked", "list", "<", "class", ">", "class", "list", "=", "map", ".", "get", "(", "library", "name", ")", ";", "if", "(", "class", "list", "=", "=", "null", ")", "{", "map", ".", "put", "(", "library", "name", ",", "class", "list", "=", "new", "linked", "list", "<", "class", ">", "(", ")", ")", ";", "}", "class", "list", ".", "add", "(", "c", ")", ";", "}", "for", "(", "string", "library", "name", ":", "map", ".", "key", "set", "(", ")", ")", "{", "linked", "list", "<", "class", ">", "class", "list", "=", "map", ".", "get", "(", "library", "name", ")", ";", "class", "[", "]", "class", "array", "=", "class", "list", ".", "to", "array", "(", "new", "class", "[", "class", "list", ".", "size", "(", ")", "]", ")", ";", "file", "f", "=", "generate", "and", "compile", "(", "class", "array", ",", "library", "name", ")", ";", "if", "(", "f", "!", "=", "null", ")", "{", "output", "files", ".", "add", "(", "f", ")", ";", "if", "(", "copylibs", ")", "{", "loader", ".", "class", "properties", "p", "=", "loader", ".", "load", "properties", "(", "class", "array", ",", "properties", ",", "false", ")", ";", "linked", "list", "<", "string", ">", "preloads", "=", "new", "linked", "list", "<", "string", ">", "(", ")", ";", "preloads", ".", "add", "all", "(", "p", ".", "get", "(", "str", ")", ")", ";", "preloads", ".", "add", "all", "(", "p", ".", "get", "(", "str", ")", ")", ";", "p", "=", "loader", ".", "load", "properties", "(", "class", "array", ",", "properties", ",", "true", ")", ";", "file", "directory", "=", "f", ".", "get", "parent", "file", "(", ")", ";", "for", "(", "string", "s", ":", "preloads", ")", "{", "url", "[", "]", "urls", "=", "loader", ".", "find", "library", "(", "null", ",", "p", ",", "s", ")", ";", "file", "fi", ";", "try", "{", "fi", "=", "new", "file", "(", "urls", "[", "num", "]", ".", "to", "uri", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "continue", ";", "}", "file", "fo", "=", "new", "file", "(", "directory", ",", "fi", ".", "get", "name", "(", ")", ")", ";", "if", "(", "fi", ".", "exists", "(", ")", "&", "&", "!", "output", "files", ".", "contains", "(", "fo", ")", ")", "{", "system", ".", "out", ".", "println", "(", "str", "+", "fi", ")", ";", "file", "input", "stream", "fis", "=", "new", "file", "input", "stream", "(", "fi", ")", ";", "file", "output", "stream", "fos", "=", "new", "file", "output", "stream", "(", "fo", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "num", "]", ";", "int", "length", ";", "while", "(", "(", "length", "=", "fis", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "num", ")", "{", "fos", ".", "write", "(", "buffer", ",", "num", ",", "length", ")", ";", "}", "fos", ".", "close", "(", ")", ";", "fis", ".", "close", "(", ")", ";", "output", "files", ".", "add", "(", "fo", ")", ";", "}", "}", "}", "}", "}", "file", "[", "]", "files", "=", "output", "files", ".", "to", "array", "(", "new", "file", "[", "output", "files", ".", "size", "(", ")", "]", ")", ";", "if", "(", "jar", "prefix", "!", "=", "null", "&", "&", "files", ".", "length", ">", "num", ")", "{", "file", "jar", "file", "=", "new", "file", "(", "jar", "prefix", "+", "str", "+", "properties", ".", "get", "(", "str", ")", "+", "str", ")", ";", "file", "d", "=", "jar", "file", ".", "get", "parent", "file", "(", ")", ";", "if", "(", "d", "!", "=", "null", "&", "&", "!", "d", ".", "exists", "(", ")", ")", "{", "d", ".", "mkdir", "(", ")", ";", "}", "create", "jar", "(", "jar", "file", ",", "output", "directory", "=", "=", "null", "?", "class", "scanner", ".", "get", "class", "loader", "(", ")", ".", "get", "paths", "(", ")", ":", "null", ",", "files", ")", ";", "}", "return", "files", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection < file > <REPLACE_NEW> file [ ] <REPLACE_END> <KEEP> build ( ) throws ioexception , interrupted exception { if ( <KEEP_END> <INSERT> class scanner . get <INSERT_END> <KEEP> classes <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> . is empty ( ) ) { return null ; } linked list < file > output files = new linked list < file > ( ) ; map < string , linked list < class > > map = new linked hash map < string , linked list < class > > ( ) ; for ( class c : <KEEP_END> <INSERT> class scanner . get <INSERT_END> <KEEP> classes <KEEP_END> <REPLACE_OLD> ) { <REPLACE_NEW> ( ) ) { if ( loader . get enclosing class ( c ) ! = c ) { continue ; } loader . class <REPLACE_END> <KEEP> properties p = <KEEP_END> <DELETE> ( properties ) properties . clone ( ) ; if ( <DELETE_END> <KEEP> loader . <KEEP_END> <REPLACE_OLD> append properties ( p , <REPLACE_NEW> load properties ( <REPLACE_END> <KEEP> c <KEEP_END> <REPLACE_OLD> ) ! = c ) { continue ; } <REPLACE_NEW> , properties , false ) ; <REPLACE_END> <KEEP> string library name = output name ! = null ? output name : p . get property ( str , str ) ; if ( library name . length ( ) = = num ) { continue ; } linked list < class > class list = map . get ( library name ) ; if ( class list = = null ) { map . put ( library name , class list = new linked list < class > ( ) ) ; } class list . add ( c ) ; } for ( string library name : map . key set ( ) ) { linked list < class > class list = map . get ( library name <KEEP_END> <INSERT> ) ; class [ ] class array = class list . to array ( new class [ class list . size ( ) ] <INSERT_END> <KEEP> ) ; file f = generate and compile ( class <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> array , library name ) ; if ( f ! = null ) { output files . add ( f ) ; if ( copylibs ) { loader . class properties p = loader . load properties ( class array , properties , false ) ; linked list < string > preloads = new linked list < string > ( ) ; preloads . add all ( p . get ( str ) ) ; preloads . add all ( p . get ( str ) ) ; p = loader . load properties ( class array , properties , true ) ; file directory = f . get parent file ( ) ; for ( string s : preloads ) { url [ ] urls = loader . find library ( null , p , s ) ; file fi ; try { fi = new file ( urls [ num ] . to uri ( ) ) ; } catch ( exception e ) { continue ; } file fo = new file ( directory , fi . get name ( ) ) ; if ( fi . exists ( ) & & ! output files . contains ( fo ) ) { system . out . println ( str + fi ) ; file input stream fis = new file input stream ( fi ) ; file output stream fos = new file output stream ( fo ) ; byte [ ] buffer = new byte [ num ] ; int length ; while ( ( length = fis . read ( buffer ) ) ! = - num ) { fos . write ( buffer , num , length ) ; } fos . close ( ) ; fis . close ( ) ; output files . add ( fo ) ; } } } } } file [ ] files = output files <REPLACE_END> <KEEP> . to array ( new <KEEP_END> <REPLACE_OLD> class [ class list <REPLACE_NEW> file [ output files <REPLACE_END> <KEEP> . size ( ) ] ) <KEEP_END> <REPLACE_OLD> , library name ) ; if ( f ! = null ) { output files . add ( f ) ; } } <REPLACE_NEW> ; <REPLACE_END> <KEEP> if ( jar prefix ! = null & & <KEEP_END> <REPLACE_OLD> ! output files . is empty ( ) <REPLACE_NEW> files . length > num <REPLACE_END> <KEEP> ) { file jar file = new file ( jar prefix + str + properties . get ( str ) + str ) ; file d = jar file . get parent file ( ) ; if ( d ! = null & & ! d . exists ( ) ) { d . mkdir ( ) ; } create jar ( jar file , output directory = = null ? class <KEEP_END> <INSERT> scanner . get class <INSERT_END> <KEEP> loader <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> . get paths ( ) : null , <KEEP_END> <DELETE> output <DELETE_END> <KEEP> files ) ; } return <KEEP_END> <REPLACE_OLD> output files ; } <REPLACE_NEW> files ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<", "file", ">", "<REPLACE_NEW>", "file", "[", "]", "<REPLACE_END>", "<KEEP>", "build", "(", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "if", "(", "<KEEP_END>", "<INSERT>", "class", "scanner", ".", "get", "<INSERT_END>", "<KEEP>", "classes", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "linked", "list", "<", "file", ">", "output", "files", "=", "new", "linked", "list", "<", "file", ">", "(", ")", ";", "map", "<", "string", ",", "linked", "list", "<", "class", ">", ">", "map", "=", "new", "linked", "hash", "map", "<", "string", ",", "linked", "list", "<", "class", ">", ">", "(", ")", ";", "for", "(", "class", "c", ":", "<KEEP_END>", "<INSERT>", "class", "scanner", ".", "get", "<INSERT_END>", "<KEEP>", "classes", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "<REPLACE_NEW>", "(", ")", ")", "{", "if", "(", "loader", ".", "get", "enclosing", "class", "(", "c", ")", "!", "=", "c", ")", "{", "continue", ";", "}", "loader", ".", "class", "<REPLACE_END>", "<KEEP>", "properties", "p", "=", "<KEEP_END>", "<DELETE>", "(", "properties", ")", "properties", ".", "clone", "(", ")", ";", "if", "(", "<DELETE_END>", "<KEEP>", "loader", ".", "<KEEP_END>", "<REPLACE_OLD>", "append", "properties", "(", "p", ",", "<REPLACE_NEW>", "load", "properties", "(", "<REPLACE_END>", "<KEEP>", "c", "<KEEP_END>", "<REPLACE_OLD>", ")", "!", "=", "c", ")", "{", "continue", ";", "}", "<REPLACE_NEW>", ",", "properties", ",", "false", ")", ";", "<REPLACE_END>", "<KEEP>", "string", "library", "name", "=", "output", "name", "!", "=", "null", "?", "output", "name", ":", "p", ".", "get", "property", "(", "str", ",", "str", ")", ";", "if", "(", "library", "name", ".", "length", "(", ")", "=", "=", "num", ")", "{", "continue", ";", "}", "linked", "list", "<", "class", ">", "class", "list", "=", "map", ".", "get", "(", "library", "name", ")", ";", "if", "(", "class", "list", "=", "=", "null", ")", "{", "map", ".", "put", "(", "library", "name", ",", "class", "list", "=", "new", "linked", "list", "<", "class", ">", "(", ")", ")", ";", "}", "class", "list", ".", "add", "(", "c", ")", ";", "}", "for", "(", "string", "library", "name", ":", "map", ".", "key", "set", "(", ")", ")", "{", "linked", "list", "<", "class", ">", "class", "list", "=", "map", ".", "get", "(", "library", "name", "<KEEP_END>", "<INSERT>", ")", ";", "class", "[", "]", "class", "array", "=", "class", "list", ".", "to", "array", "(", "new", "class", "[", "class", "list", ".", "size", "(", ")", "]", "<INSERT_END>", "<KEEP>", ")", ";", "file", "f", "=", "generate", "and", "compile", "(", "class", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "array", ",", "library", "name", ")", ";", "if", "(", "f", "!", "=", "null", ")", "{", "output", "files", ".", "add", "(", "f", ")", ";", "if", "(", "copylibs", ")", "{", "loader", ".", "class", "properties", "p", "=", "loader", ".", "load", "properties", "(", "class", "array", ",", "properties", ",", "false", ")", ";", "linked", "list", "<", "string", ">", "preloads", "=", "new", "linked", "list", "<", "string", ">", "(", ")", ";", "preloads", ".", "add", "all", "(", "p", ".", "get", "(", "str", ")", ")", ";", "preloads", ".", "add", "all", "(", "p", ".", "get", "(", "str", ")", ")", ";", "p", "=", "loader", ".", "load", "properties", "(", "class", "array", ",", "properties", ",", "true", ")", ";", "file", "directory", "=", "f", ".", "get", "parent", "file", "(", ")", ";", "for", "(", "string", "s", ":", "preloads", ")", "{", "url", "[", "]", "urls", "=", "loader", ".", "find", "library", "(", "null", ",", "p", ",", "s", ")", ";", "file", "fi", ";", "try", "{", "fi", "=", "new", "file", "(", "urls", "[", "num", "]", ".", "to", "uri", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "continue", ";", "}", "file", "fo", "=", "new", "file", "(", "directory", ",", "fi", ".", "get", "name", "(", ")", ")", ";", "if", "(", "fi", ".", "exists", "(", ")", "&", "&", "!", "output", "files", ".", "contains", "(", "fo", ")", ")", "{", "system", ".", "out", ".", "println", "(", "str", "+", "fi", ")", ";", "file", "input", "stream", "fis", "=", "new", "file", "input", "stream", "(", "fi", ")", ";", "file", "output", "stream", "fos", "=", "new", "file", "output", "stream", "(", "fo", ")", ";", "byte", "[", "]", "buffer", "=", "new", "byte", "[", "num", "]", ";", "int", "length", ";", "while", "(", "(", "length", "=", "fis", ".", "read", "(", "buffer", ")", ")", "!", "=", "-", "num", ")", "{", "fos", ".", "write", "(", "buffer", ",", "num", ",", "length", ")", ";", "}", "fos", ".", "close", "(", ")", ";", "fis", ".", "close", "(", ")", ";", "output", "files", ".", "add", "(", "fo", ")", ";", "}", "}", "}", "}", "}", "file", "[", "]", "files", "=", "output", "files", "<REPLACE_END>", "<KEEP>", ".", "to", "array", "(", "new", "<KEEP_END>", "<REPLACE_OLD>", "class", "[", "class", "list", "<REPLACE_NEW>", "file", "[", "output", "files", "<REPLACE_END>", "<KEEP>", ".", "size", "(", ")", "]", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "library", "name", ")", ";", "if", "(", "f", "!", "=", "null", ")", "{", "output", "files", ".", "add", "(", "f", ")", ";", "}", "}", "<REPLACE_NEW>", ";", "<REPLACE_END>", "<KEEP>", "if", "(", "jar", "prefix", "!", "=", "null", "&", "&", "<KEEP_END>", "<REPLACE_OLD>", "!", "output", "files", ".", "is", "empty", "(", ")", "<REPLACE_NEW>", "files", ".", "length", ">", "num", "<REPLACE_END>", "<KEEP>", ")", "{", "file", "jar", "file", "=", "new", "file", "(", "jar", "prefix", "+", "str", "+", "properties", ".", "get", "(", "str", ")", "+", "str", ")", ";", "file", "d", "=", "jar", "file", ".", "get", "parent", "file", "(", ")", ";", "if", "(", "d", "!", "=", "null", "&", "&", "!", "d", ".", "exists", "(", ")", ")", "{", "d", ".", "mkdir", "(", ")", ";", "}", "create", "jar", "(", "jar", "file", ",", "output", "directory", "=", "=", "null", "?", "class", "<KEEP_END>", "<INSERT>", "scanner", ".", "get", "class", "<INSERT_END>", "<KEEP>", "loader", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ".", "get", "paths", "(", ")", ":", "null", ",", "<KEEP_END>", "<DELETE>", "output", "<DELETE_END>", "<KEEP>", "files", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "output", "files", ";", "}", "<REPLACE_NEW>", "files", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> array <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "array", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "class", "<INSERT>", "scanner", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "classes", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "file", "<KEEP>", ">", "<KEEP>", "output", "<KEEP>", "files", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "file", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "map", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "c", "<KEEP>", ":", "<INSERT>", "class", "<INSERT>", "scanner", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "classes", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "enclosing", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "continue", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<KEEP>", "properties", "<KEEP>", "p", "<KEEP>", "=", "<DELETE>", "(", "<DELETE>", "properties", "<DELETE>", ")", "<DELETE>", "properties", "<DELETE>", ".", "<DELETE>", "clone", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<KEEP>", "loader", "<KEEP>", ".", "<REPLACE_OLD>", "append", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "load", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "(", "<KEEP>", "c", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "continue", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "string", "<KEEP>", "library", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "output", "<KEEP>", "name", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "output", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "p", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "library", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", ">", "<KEEP>", "class", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "library", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "library", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "class", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "library", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", ">", "<KEEP>", "class", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "library", "<KEEP>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "class", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "class", "<INSERT>", "array", "<INSERT>", "=", "<INSERT>", "class", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "array", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "class", "<INSERT>", "[", "<INSERT>", "class", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "f", "<KEEP>", "=", "<KEEP>", "generate", "<KEEP>", "and", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "class", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "library", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "f", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "f", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "copylibs", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "load", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "linked", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "preloads", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "linked", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "preloads", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "preloads", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "load", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "f", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "parent", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "preloads", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "urls", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "find", "<REPLACE_NEW>", "library", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "fi", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "fi", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "urls", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "uri", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "continue", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "fo", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "directory", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "fi", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "fi", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "exists", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "contains", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "fo", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "out", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "println", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "fi", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "fis", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "fi", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "fos", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "fo", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "while", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "fis", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "read", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "fos", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "write", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "fos", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "close", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "fis", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "close", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "fo", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "files", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "files", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "library", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "f", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "files", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "f", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jar", "<KEEP>", "prefix", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "files", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "file", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "jar", "<KEEP>", "prefix", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "properties", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "d", "<KEEP>", "=", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "d", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "d", "<KEEP>", ".", "<KEEP>", "mkdir", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "create", "<KEEP>", "jar", "<KEEP>", "(", "<KEEP>", "jar", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "output", "<KEEP>", "directory", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "class", "<INSERT>", "scanner", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "class", "<KEEP>", "loader", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "paths", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "null", "<KEEP>", ",", "<DELETE>", "output", "<KEEP>", "files", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "files", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.966004094912965, "using": 2, "keep": 1}
{"id": "guoguibing_librec-0-2571", "old_comment": "a new matrix with results of c = a - b", "old_comment_tokens": ["a", "new", "matrix", "with", "results", "of", "c", "=", "a", "-", "b"], "new_comment": "a new matrix", "new_comment_tokens": ["a", "new", "matrix"], "old_code": "public dense matrix minus ( dense matrix mat ) throws librec exception { if ( num rows ! = mat . num rows ) { throw new librec exception ( str ) ; } if ( num columns ! = mat . num columns ) { throw new librec exception ( str ) ; } dense matrix res = new dense matrix ( num rows , num columns ) ; for ( int i = num ; i < num rows ; i + + ) for ( int j = num ; j < num columns ; j + + ) res . data [ i ] [ j ] = data [ i ] [ j ] - mat . data [ i ] [ j ] ; return res ; }", "old_code_tokens": ["public", "dense", "matrix", "minus", "(", "dense", "matrix", "mat", ")", "throws", "librec", "exception", "{", "if", "(", "num", "rows", "!", "=", "mat", ".", "num", "rows", ")", "{", "throw", "new", "librec", "exception", "(", "str", ")", ";", "}", "if", "(", "num", "columns", "!", "=", "mat", ".", "num", "columns", ")", "{", "throw", "new", "librec", "exception", "(", "str", ")", ";", "}", "dense", "matrix", "res", "=", "new", "dense", "matrix", "(", "num", "rows", ",", "num", "columns", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", "rows", ";", "i", "+", "+", ")", "for", "(", "int", "j", "=", "num", ";", "j", "<", "num", "columns", ";", "j", "+", "+", ")", "res", ".", "data", "[", "i", "]", "[", "j", "]", "=", "data", "[", "i", "]", "[", "j", "]", "-", "mat", ".", "data", "[", "i", "]", "[", "j", "]", ";", "return", "res", ";", "}"], "new_code": "public dense matrix minus ( matrix other matrix ) { dense matrix dense matrix = this . clone ( ) ; for ( matrix entry matrix entry : other matrix ) { dense matrix . plus ( matrix entry . row ( ) , matrix entry . column ( ) , - matrix entry . get ( ) ) ; } return dense matrix ; }", "new_code_tokens": ["public", "dense", "matrix", "minus", "(", "matrix", "other", "matrix", ")", "{", "dense", "matrix", "dense", "matrix", "=", "this", ".", "clone", "(", ")", ";", "for", "(", "matrix", "entry", "matrix", "entry", ":", "other", "matrix", ")", "{", "dense", "matrix", ".", "plus", "(", "matrix", "entry", ".", "row", "(", ")", ",", "matrix", "entry", ".", "column", "(", ")", ",", "-", "matrix", "entry", ".", "get", "(", ")", ")", ";", "}", "return", "dense", "matrix", ";", "}"], "span_diff_code": "<KEEP> public dense matrix minus ( <KEEP_END> <INSERT> matrix other matrix ) { <INSERT_END> <KEEP> dense matrix <KEEP_END> <DELETE> mat ) throws librec exception { if ( num rows ! = mat . num rows ) { throw new librec exception ( str ) ; } if ( num columns ! = mat . num columns ) { throw new librec exception ( str ) ; } <DELETE_END> <KEEP> dense matrix <KEEP_END> <DELETE> res <DELETE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> new dense matrix <REPLACE_NEW> this . clone <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> num rows , num columns <DELETE_END> <KEEP> ) ; for ( <KEEP_END> <REPLACE_OLD> int i = num ; i < num rows ; i + + <REPLACE_NEW> matrix entry matrix entry : other matrix <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> for <REPLACE_NEW> { dense matrix . plus <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> int j = num ; j < num columns ; j + + <REPLACE_NEW> matrix entry . row ( <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> res <REPLACE_NEW> , matrix entry <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> data [ i ] [ j ] = data [ i ] [ j ] <REPLACE_NEW> column ( ) , <REPLACE_END> <KEEP> - <KEEP_END> <REPLACE_OLD> mat <REPLACE_NEW> matrix entry <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> data [ i ] [ j ] ; return res <REPLACE_NEW> get ( ) ) <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> return dense matrix ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "dense", "matrix", "minus", "(", "<KEEP_END>", "<INSERT>", "matrix", "other", "matrix", ")", "{", "<INSERT_END>", "<KEEP>", "dense", "matrix", "<KEEP_END>", "<DELETE>", "mat", ")", "throws", "librec", "exception", "{", "if", "(", "num", "rows", "!", "=", "mat", ".", "num", "rows", ")", "{", "throw", "new", "librec", "exception", "(", "str", ")", ";", "}", "if", "(", "num", "columns", "!", "=", "mat", ".", "num", "columns", ")", "{", "throw", "new", "librec", "exception", "(", "str", ")", ";", "}", "<DELETE_END>", "<KEEP>", "dense", "matrix", "<KEEP_END>", "<DELETE>", "res", "<DELETE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "dense", "matrix", "<REPLACE_NEW>", "this", ".", "clone", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "num", "rows", ",", "num", "columns", "<DELETE_END>", "<KEEP>", ")", ";", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "int", "i", "=", "num", ";", "i", "<", "num", "rows", ";", "i", "+", "+", "<REPLACE_NEW>", "matrix", "entry", "matrix", "entry", ":", "other", "matrix", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "{", "dense", "matrix", ".", "plus", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "int", "j", "=", "num", ";", "j", "<", "num", "columns", ";", "j", "+", "+", "<REPLACE_NEW>", "matrix", "entry", ".", "row", "(", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "res", "<REPLACE_NEW>", ",", "matrix", "entry", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "data", "[", "i", "]", "[", "j", "]", "=", "data", "[", "i", "]", "[", "j", "]", "<REPLACE_NEW>", "column", "(", ")", ",", "<REPLACE_END>", "<KEEP>", "-", "<KEEP_END>", "<REPLACE_OLD>", "mat", "<REPLACE_NEW>", "matrix", "entry", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "data", "[", "i", "]", "[", "j", "]", ";", "return", "res", "<REPLACE_NEW>", "get", "(", ")", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "return", "dense", "matrix", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> with results of c = a - b <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "with", "results", "of", "c", "=", "a", "-", "b", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "dense", "<KEEP>", "matrix", "<KEEP>", "minus", "<KEEP>", "(", "<INSERT>", "matrix", "<INSERT>", "other", "<INSERT>", "matrix", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "dense", "<KEEP>", "matrix", "<DELETE>", "mat", "<DELETE>", ")", "<DELETE>", "throws", "<DELETE>", "librec", "<DELETE>", "exception", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", "rows", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "mat", "<DELETE>", ".", "<DELETE>", "num", "<DELETE>", "rows", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "librec", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", "columns", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "mat", "<DELETE>", ".", "<DELETE>", "num", "<DELETE>", "columns", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "librec", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "dense", "<KEEP>", "matrix", "<DELETE>", "res", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "dense", "<REPLACE_OLD>", "matrix", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "clone", "<KEEP>", "(", "<DELETE>", "num", "<DELETE>", "rows", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", "columns", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "rows", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", "matrix", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", "matrix", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "other", "<REPLACE_NEW>", "matrix", "<KEEP>", ")", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "dense", "<REPLACE_NEW>", "matrix", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "plus", "<KEEP>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "columns", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", "matrix", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "row", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<REPLACE_OLD>", "res", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "matrix", "<REPLACE_NEW>", "entry", "<KEEP>", ".", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<KEEP>", "-", "<REPLACE_OLD>", "mat", "<REPLACE_NEW>", "matrix", "<REPLACE_NEW>", "entry", "<KEEP>", ".", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "res", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "dense", "<INSERT>", "matrix", "<INSERT>", ";", "<INSERT>", "}"], "split": "valid", "score": 0.811041138011665, "using": 2, "keep": 1}
{"id": "rmetzger_stratosphere-java-collectionbased-10-4574", "old_comment": "an instance type for the local machine .", "old_comment_tokens": ["an", "instance", "type", "for", "the", "local", "machine", "."], "new_comment": "the default instance type used for the local machine", "new_comment_tokens": ["the", "default", "instance", "type", "used", "for", "the", "local", "machine"], "old_code": "public static final instance type create default instance type ( ) { final runtime runtime = runtime . get runtime ( ) ; final int number of cpucores = runtime . available processors ( ) ; final int memory size in mb = ( int ) ( ( runtime . free memory ( ) + ( runtime . max memory ( ) - runtime . total memory ( ) ) ) * num / ( num * num ) ) ; int disk capacity in gb = num ; final string temp dir = system . get property ( str ) ; if ( temp dir ! = null ) { file f = new file ( temp dir ) ; disk capacity in gb = ( int ) ( f . get free space ( ) * num / ( num * num * num ) ) ; } return new instance type ( str , number of cpucores , number of cpucores , memory size in mb , disk capacity in gb , num ) ; }", "old_code_tokens": ["public", "static", "final", "instance", "type", "create", "default", "instance", "type", "(", ")", "{", "final", "runtime", "runtime", "=", "runtime", ".", "get", "runtime", "(", ")", ";", "final", "int", "number", "of", "cpucores", "=", "runtime", ".", "available", "processors", "(", ")", ";", "final", "int", "memory", "size", "in", "mb", "=", "(", "int", ")", "(", "(", "runtime", ".", "free", "memory", "(", ")", "+", "(", "runtime", ".", "max", "memory", "(", ")", "-", "runtime", ".", "total", "memory", "(", ")", ")", ")", "*", "num", "/", "(", "num", "*", "num", ")", ")", ";", "int", "disk", "capacity", "in", "gb", "=", "num", ";", "final", "string", "temp", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "if", "(", "temp", "dir", "!", "=", "null", ")", "{", "file", "f", "=", "new", "file", "(", "temp", "dir", ")", ";", "disk", "capacity", "in", "gb", "=", "(", "int", ")", "(", "f", ".", "get", "free", "space", "(", ")", "*", "num", "/", "(", "num", "*", "num", "*", "num", ")", ")", ";", "}", "return", "new", "instance", "type", "(", "str", ",", "number", "of", "cpucores", ",", "number", "of", "cpucores", ",", "memory", "size", "in", "mb", ",", "disk", "capacity", "in", "gb", ",", "num", ")", ";", "}"], "new_code": "public static final instance type create default instance type ( ) { final hardware description hardware description = hardware description factory . extract from system ( ) ; int disk capacity in gb = num ; final string temp dir = global configuration . get string ( config constants . task _ manager _ tmp _ dir _ key , config constants . default _ task _ manager _ tmp _ path ) ; if ( temp dir ! = null ) { file f = new file ( temp dir ) ; disk capacity in gb = ( int ) ( f . get free space ( ) / ( num * num * num ) ) ; } final int physical memory = ( int ) ( hardware description . get size of physical memory ( ) / ( num * num ) ) ; return instance type factory . construct ( str , hardware description . get number of cpucores ( ) , hardware description . get number of cpucores ( ) , physical memory , disk capacity in gb , num ) ; }", "new_code_tokens": ["public", "static", "final", "instance", "type", "create", "default", "instance", "type", "(", ")", "{", "final", "hardware", "description", "hardware", "description", "=", "hardware", "description", "factory", ".", "extract", "from", "system", "(", ")", ";", "int", "disk", "capacity", "in", "gb", "=", "num", ";", "final", "string", "temp", "dir", "=", "global", "configuration", ".", "get", "string", "(", "config", "constants", ".", "task", "_", "manager", "_", "tmp", "_", "dir", "_", "key", ",", "config", "constants", ".", "default", "_", "task", "_", "manager", "_", "tmp", "_", "path", ")", ";", "if", "(", "temp", "dir", "!", "=", "null", ")", "{", "file", "f", "=", "new", "file", "(", "temp", "dir", ")", ";", "disk", "capacity", "in", "gb", "=", "(", "int", ")", "(", "f", ".", "get", "free", "space", "(", ")", "/", "(", "num", "*", "num", "*", "num", ")", ")", ";", "}", "final", "int", "physical", "memory", "=", "(", "int", ")", "(", "hardware", "description", ".", "get", "size", "of", "physical", "memory", "(", ")", "/", "(", "num", "*", "num", ")", ")", ";", "return", "instance", "type", "factory", ".", "construct", "(", "str", ",", "hardware", "description", ".", "get", "number", "of", "cpucores", "(", ")", ",", "hardware", "description", ".", "get", "number", "of", "cpucores", "(", ")", ",", "physical", "memory", ",", "disk", "capacity", "in", "gb", ",", "num", ")", ";", "}"], "span_diff_code": "<KEEP> public static final instance type create default instance type ( ) { final <KEEP_END> <REPLACE_OLD> runtime runtime <REPLACE_NEW> hardware description hardware description <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> runtime <REPLACE_NEW> hardware description factory <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get runtime <REPLACE_NEW> extract from system <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ) ; final int number of cpucores = runtime . available processors ( ) ; final int memory size in mb = ( int ) ( ( runtime . free memory ( ) + ( runtime . max memory ( ) - runtime . total memory ( ) ) ) * num / ( num * num ) <DELETE_END> <KEEP> ) ; int disk capacity in gb = num ; final string temp dir = <KEEP_END> <REPLACE_OLD> system <REPLACE_NEW> global configuration <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> property <REPLACE_NEW> string <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> config constants . task _ manager _ tmp _ dir _ key , config constants . default _ task _ manager _ tmp _ path <REPLACE_END> <KEEP> ) ; if ( temp dir ! = null ) { file f = new file ( temp dir ) ; disk capacity in gb = ( int ) ( f . get free space ( ) <KEEP_END> <DELETE> * num <DELETE_END> <KEEP> / ( num * num * num ) ) ; } <KEEP_END> <INSERT> final int physical memory = ( int ) ( hardware description . get size of physical memory ( ) / ( num * num ) ) ; <INSERT_END> <KEEP> return <KEEP_END> <DELETE> new <DELETE_END> <KEEP> instance type <KEEP_END> <INSERT> factory . construct <INSERT_END> <KEEP> ( str , <KEEP_END> <INSERT> hardware description . get <INSERT_END> <KEEP> number of cpucores <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> , <KEEP_END> <INSERT> hardware description . get <INSERT_END> <KEEP> number of cpucores <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> , <KEEP_END> <INSERT> physical <INSERT_END> <KEEP> memory <KEEP_END> <DELETE> size in mb <DELETE_END> <KEEP> , disk capacity in gb , num ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "instance", "type", "create", "default", "instance", "type", "(", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "runtime", "runtime", "<REPLACE_NEW>", "hardware", "description", "hardware", "description", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "runtime", "<REPLACE_NEW>", "hardware", "description", "factory", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "runtime", "<REPLACE_NEW>", "extract", "from", "system", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", ";", "final", "int", "number", "of", "cpucores", "=", "runtime", ".", "available", "processors", "(", ")", ";", "final", "int", "memory", "size", "in", "mb", "=", "(", "int", ")", "(", "(", "runtime", ".", "free", "memory", "(", ")", "+", "(", "runtime", ".", "max", "memory", "(", ")", "-", "runtime", ".", "total", "memory", "(", ")", ")", ")", "*", "num", "/", "(", "num", "*", "num", ")", "<DELETE_END>", "<KEEP>", ")", ";", "int", "disk", "capacity", "in", "gb", "=", "num", ";", "final", "string", "temp", "dir", "=", "<KEEP_END>", "<REPLACE_OLD>", "system", "<REPLACE_NEW>", "global", "configuration", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "config", "constants", ".", "task", "_", "manager", "_", "tmp", "_", "dir", "_", "key", ",", "config", "constants", ".", "default", "_", "task", "_", "manager", "_", "tmp", "_", "path", "<REPLACE_END>", "<KEEP>", ")", ";", "if", "(", "temp", "dir", "!", "=", "null", ")", "{", "file", "f", "=", "new", "file", "(", "temp", "dir", ")", ";", "disk", "capacity", "in", "gb", "=", "(", "int", ")", "(", "f", ".", "get", "free", "space", "(", ")", "<KEEP_END>", "<DELETE>", "*", "num", "<DELETE_END>", "<KEEP>", "/", "(", "num", "*", "num", "*", "num", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "final", "int", "physical", "memory", "=", "(", "int", ")", "(", "hardware", "description", ".", "get", "size", "of", "physical", "memory", "(", ")", "/", "(", "num", "*", "num", ")", ")", ";", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<DELETE>", "new", "<DELETE_END>", "<KEEP>", "instance", "type", "<KEEP_END>", "<INSERT>", "factory", ".", "construct", "<INSERT_END>", "<KEEP>", "(", "str", ",", "<KEEP_END>", "<INSERT>", "hardware", "description", ".", "get", "<INSERT_END>", "<KEEP>", "number", "of", "cpucores", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ",", "<KEEP_END>", "<INSERT>", "hardware", "description", ".", "get", "<INSERT_END>", "<KEEP>", "number", "of", "cpucores", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ",", "<KEEP_END>", "<INSERT>", "physical", "<INSERT_END>", "<KEEP>", "memory", "<KEEP_END>", "<DELETE>", "size", "in", "mb", "<DELETE_END>", "<KEEP>", ",", "disk", "capacity", "in", "gb", ",", "num", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an <REPLACE_NEW> the default <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> type <INSERT_NEW_KEEP_BEFORE> type used <INSERT_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "<REPLACE_NEW>", "the", "default", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "type", "<INSERT_NEW_KEEP_BEFORE>", "type", "used", "<INSERT_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<KEEP>", "instance", "<KEEP>", "type", "<KEEP>", "create", "<KEEP>", "default", "<KEEP>", "instance", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "runtime", "<REPLACE_OLD>", "runtime", "<REPLACE_NEW>", "hardware", "<REPLACE_NEW>", "description", "<REPLACE_NEW>", "hardware", "<REPLACE_NEW>", "description", "<KEEP>", "=", "<REPLACE_OLD>", "runtime", "<REPLACE_NEW>", "hardware", "<REPLACE_NEW>", "description", "<REPLACE_NEW>", "factory", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "runtime", "<REPLACE_NEW>", "extract", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "system", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "number", "<DELETE>", "of", "<DELETE>", "cpucores", "<DELETE>", "=", "<DELETE>", "runtime", "<DELETE>", ".", "<DELETE>", "available", "<DELETE>", "processors", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "memory", "<DELETE>", "size", "<DELETE>", "in", "<DELETE>", "mb", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "int", "<DELETE>", ")", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "runtime", "<DELETE>", ".", "<DELETE>", "free", "<DELETE>", "memory", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "(", "<DELETE>", "runtime", "<DELETE>", ".", "<DELETE>", "max", "<DELETE>", "memory", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "-", "<DELETE>", "runtime", "<DELETE>", ".", "<DELETE>", "total", "<DELETE>", "memory", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "*", "<DELETE>", "num", "<DELETE>", "/", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", "*", "<DELETE>", "num", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "disk", "<KEEP>", "capacity", "<KEEP>", "in", "<KEEP>", "gb", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "temp", "<KEEP>", "dir", "<KEEP>", "=", "<REPLACE_OLD>", "system", "<REPLACE_NEW>", "global", "<REPLACE_NEW>", "configuration", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "string", "<KEEP>", "(", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "constants", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "tmp", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "constants", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "tmp", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "temp", "<KEEP>", "dir", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "file", "<KEEP>", "f", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "temp", "<KEEP>", "dir", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "disk", "<KEEP>", "capacity", "<KEEP>", "in", "<KEEP>", "gb", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "f", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "free", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", "*", "<DELETE>", "num", "<KEEP>", "/", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "final", "<INSERT>", "int", "<INSERT>", "physical", "<INSERT>", "memory", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "int", "<INSERT>", ")", "<INSERT>", "(", "<INSERT>", "hardware", "<INSERT>", "description", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "size", "<INSERT>", "of", "<INSERT>", "physical", "<INSERT>", "memory", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "/", "<INSERT>", "(", "<INSERT>", "num", "<INSERT>", "*", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<DELETE>", "new", "<KEEP>", "instance", "<KEEP>", "type", "<INSERT>", "factory", "<INSERT>", ".", "<INSERT>", "construct", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<INSERT>", "hardware", "<INSERT>", "description", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "number", "<KEEP>", "of", "<KEEP>", "cpucores", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ",", "<INSERT>", "hardware", "<INSERT>", "description", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "number", "<KEEP>", "of", "<KEEP>", "cpucores", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ",", "<INSERT>", "physical", "<KEEP>", "memory", "<DELETE>", "size", "<DELETE>", "in", "<DELETE>", "mb", "<KEEP>", ",", "<KEEP>", "disk", "<KEEP>", "capacity", "<KEEP>", "in", "<KEEP>", "gb", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8275111755245692, "using": 2, "keep": 1}
{"id": "svn2github_cytoscape-42-6861", "old_comment": "an enumeration of all entries matching this search query .", "old_comment_tokens": ["an", "enumeration", "of", "all", "entries", "matching", "this", "search", "query", "."], "new_comment": "an non - descending enumeration of all entries matching this search query , duplicated included .", "new_comment_tokens": ["an", "non", "-", "descending", "enumeration", "of", "all", "entries", "matching", "this", "search", "query", ",", "duplicated", "included", "."], "old_code": "public final int enumerator search range ( final int x min , final int x max ) { final node stack node stack = new node stack ( ) ; final int total count = search range ( m _ root , node stack , x min , x max , integer . min _ value , integer . max _ value ) ; return new int enumerator ( ) { private int count = total count ; private node current leaf node = null ; private int whole leaf nodes = num ; private int current node inx ; public int num remaining ( ) { return count ; } public int next int ( ) { int return this = num ; if ( current leaf node = = null ) { while ( true ) { current leaf node = node stack . pop ( ) ; if ( is leaf node ( current leaf node ) ) { current node inx = num ; break ; } for ( int i = current leaf node . slice count ; i > num ; ) node stack . push ( current leaf node . data . children [ - - i ] ) ; if ( is leaf node ( current leaf node . data . children [ num ] ) ) whole leaf nodes + = current leaf node . slice count ; } } if ( whole leaf nodes > num ) { return this = current leaf node . values [ current node inx ] ; } else for ( int i = current node inx ; i < current leaf node . slice count ; i + + ) if ( current leaf node . values [ i ] > = x min ) { return this = current leaf node . values [ i ] ; break ; } if ( + + current node inx = = current leaf node . slice count ) { current leaf node = null ; if ( whole leaf nodes > num ) whole leaf nodes - - ; } count - - ; return return this ; } } ; }", "old_code_tokens": ["public", "final", "int", "enumerator", "search", "range", "(", "final", "int", "x", "min", ",", "final", "int", "x", "max", ")", "{", "final", "node", "stack", "node", "stack", "=", "new", "node", "stack", "(", ")", ";", "final", "int", "total", "count", "=", "search", "range", "(", "m", "_", "root", ",", "node", "stack", ",", "x", "min", ",", "x", "max", ",", "integer", ".", "min", "_", "value", ",", "integer", ".", "max", "_", "value", ")", ";", "return", "new", "int", "enumerator", "(", ")", "{", "private", "int", "count", "=", "total", "count", ";", "private", "node", "current", "leaf", "node", "=", "null", ";", "private", "int", "whole", "leaf", "nodes", "=", "num", ";", "private", "int", "current", "node", "inx", ";", "public", "int", "num", "remaining", "(", ")", "{", "return", "count", ";", "}", "public", "int", "next", "int", "(", ")", "{", "int", "return", "this", "=", "num", ";", "if", "(", "current", "leaf", "node", "=", "=", "null", ")", "{", "while", "(", "true", ")", "{", "current", "leaf", "node", "=", "node", "stack", ".", "pop", "(", ")", ";", "if", "(", "is", "leaf", "node", "(", "current", "leaf", "node", ")", ")", "{", "current", "node", "inx", "=", "num", ";", "break", ";", "}", "for", "(", "int", "i", "=", "current", "leaf", "node", ".", "slice", "count", ";", "i", ">", "num", ";", ")", "node", "stack", ".", "push", "(", "current", "leaf", "node", ".", "data", ".", "children", "[", "-", "-", "i", "]", ")", ";", "if", "(", "is", "leaf", "node", "(", "current", "leaf", "node", ".", "data", ".", "children", "[", "num", "]", ")", ")", "whole", "leaf", "nodes", "+", "=", "current", "leaf", "node", ".", "slice", "count", ";", "}", "}", "if", "(", "whole", "leaf", "nodes", ">", "num", ")", "{", "return", "this", "=", "current", "leaf", "node", ".", "values", "[", "current", "node", "inx", "]", ";", "}", "else", "for", "(", "int", "i", "=", "current", "node", "inx", ";", "i", "<", "current", "leaf", "node", ".", "slice", "count", ";", "i", "+", "+", ")", "if", "(", "current", "leaf", "node", ".", "values", "[", "i", "]", ">", "=", "x", "min", ")", "{", "return", "this", "=", "current", "leaf", "node", ".", "values", "[", "i", "]", ";", "break", ";", "}", "if", "(", "+", "+", "current", "node", "inx", "=", "=", "current", "leaf", "node", ".", "slice", "count", ")", "{", "current", "leaf", "node", "=", "null", ";", "if", "(", "whole", "leaf", "nodes", ">", "num", ")", "whole", "leaf", "nodes", "-", "-", ";", "}", "count", "-", "-", ";", "return", "return", "this", ";", "}", "}", ";", "}"], "new_code": "public final int enumerator search range ( final int x min , final int x max ) { final node stack node stack = new node stack ( ) ; final int total count = search range ( m _ root , node stack , x min , x max , integer . min _ value , integer . max _ value ) ; return new int enumerator ( ) { private int count = total count ; private node current leaf node = null ; private int whole leaf nodes = num ; private int current node inx ; public final int num remaining ( ) { return count ; } public final int next int ( ) { int return this = num ; if ( current leaf node = = null ) { while ( true ) { current leaf node = node stack . pop ( ) ; if ( is leaf node ( current leaf node ) ) { current node inx = num ; break ; } for ( int i = current leaf node . slice count ; i > num ; ) node stack . push ( current leaf node . data . children [ - - i ] ) ; if ( is leaf node ( current leaf node . data . children [ num ] ) ) whole leaf nodes + = current leaf node . slice count ; } } if ( whole leaf nodes > num ) { return this = current leaf node . values [ current node inx ] ; } else for ( int i = current node inx ; i < current leaf node . slice count ; i + + ) if ( current leaf node . values [ i ] > = x min ) { return this = current leaf node . values [ i ] ; break ; } if ( + + current node inx = = current leaf node . slice count ) { current leaf node = null ; if ( whole leaf nodes > num ) whole leaf nodes - - ; } count - - ; return return this ; } } ; }", "new_code_tokens": ["public", "final", "int", "enumerator", "search", "range", "(", "final", "int", "x", "min", ",", "final", "int", "x", "max", ")", "{", "final", "node", "stack", "node", "stack", "=", "new", "node", "stack", "(", ")", ";", "final", "int", "total", "count", "=", "search", "range", "(", "m", "_", "root", ",", "node", "stack", ",", "x", "min", ",", "x", "max", ",", "integer", ".", "min", "_", "value", ",", "integer", ".", "max", "_", "value", ")", ";", "return", "new", "int", "enumerator", "(", ")", "{", "private", "int", "count", "=", "total", "count", ";", "private", "node", "current", "leaf", "node", "=", "null", ";", "private", "int", "whole", "leaf", "nodes", "=", "num", ";", "private", "int", "current", "node", "inx", ";", "public", "final", "int", "num", "remaining", "(", ")", "{", "return", "count", ";", "}", "public", "final", "int", "next", "int", "(", ")", "{", "int", "return", "this", "=", "num", ";", "if", "(", "current", "leaf", "node", "=", "=", "null", ")", "{", "while", "(", "true", ")", "{", "current", "leaf", "node", "=", "node", "stack", ".", "pop", "(", ")", ";", "if", "(", "is", "leaf", "node", "(", "current", "leaf", "node", ")", ")", "{", "current", "node", "inx", "=", "num", ";", "break", ";", "}", "for", "(", "int", "i", "=", "current", "leaf", "node", ".", "slice", "count", ";", "i", ">", "num", ";", ")", "node", "stack", ".", "push", "(", "current", "leaf", "node", ".", "data", ".", "children", "[", "-", "-", "i", "]", ")", ";", "if", "(", "is", "leaf", "node", "(", "current", "leaf", "node", ".", "data", ".", "children", "[", "num", "]", ")", ")", "whole", "leaf", "nodes", "+", "=", "current", "leaf", "node", ".", "slice", "count", ";", "}", "}", "if", "(", "whole", "leaf", "nodes", ">", "num", ")", "{", "return", "this", "=", "current", "leaf", "node", ".", "values", "[", "current", "node", "inx", "]", ";", "}", "else", "for", "(", "int", "i", "=", "current", "node", "inx", ";", "i", "<", "current", "leaf", "node", ".", "slice", "count", ";", "i", "+", "+", ")", "if", "(", "current", "leaf", "node", ".", "values", "[", "i", "]", ">", "=", "x", "min", ")", "{", "return", "this", "=", "current", "leaf", "node", ".", "values", "[", "i", "]", ";", "break", ";", "}", "if", "(", "+", "+", "current", "node", "inx", "=", "=", "current", "leaf", "node", ".", "slice", "count", ")", "{", "current", "leaf", "node", "=", "null", ";", "if", "(", "whole", "leaf", "nodes", ">", "num", ")", "whole", "leaf", "nodes", "-", "-", ";", "}", "count", "-", "-", ";", "return", "return", "this", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> public final int enumerator search range ( final int x min , final int x max ) { final node stack node stack = new node stack ( ) ; final int total count = search range ( m _ root , node stack , x min , x max , integer . min _ value , integer . max _ value ) ; return new int enumerator ( ) { private int count = total count ; private node current leaf node = null ; private int whole leaf nodes = num ; private int current node inx ; public <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int num remaining ( ) { return count ; } public <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int next int ( ) { int return this = num ; if ( current leaf node = = null ) { while ( true ) { current leaf node = node stack . pop ( ) ; if ( is leaf node ( current leaf node ) ) { current node inx = num ; break ; } for ( int i = current leaf node . slice count ; i > num ; ) node stack . push ( current leaf node . data . children [ - - i ] ) ; if ( is leaf node ( current leaf node . data . children [ num ] ) ) whole leaf nodes + = current leaf node . slice count ; } } if ( whole leaf nodes > num ) { return this = current leaf node . values [ current node inx ] ; } else for ( int i = current node inx ; i < current leaf node . slice count ; i + + ) if ( current leaf node . values [ i ] > = x min ) { return this = current leaf node . values [ i ] ; break ; } if ( + + current node inx = = current leaf node . slice count ) { current leaf node = null ; if ( whole leaf nodes > num ) whole leaf nodes - - ; } count - - ; return return this ; } } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "int", "enumerator", "search", "range", "(", "final", "int", "x", "min", ",", "final", "int", "x", "max", ")", "{", "final", "node", "stack", "node", "stack", "=", "new", "node", "stack", "(", ")", ";", "final", "int", "total", "count", "=", "search", "range", "(", "m", "_", "root", ",", "node", "stack", ",", "x", "min", ",", "x", "max", ",", "integer", ".", "min", "_", "value", ",", "integer", ".", "max", "_", "value", ")", ";", "return", "new", "int", "enumerator", "(", ")", "{", "private", "int", "count", "=", "total", "count", ";", "private", "node", "current", "leaf", "node", "=", "null", ";", "private", "int", "whole", "leaf", "nodes", "=", "num", ";", "private", "int", "current", "node", "inx", ";", "public", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "num", "remaining", "(", ")", "{", "return", "count", ";", "}", "public", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "next", "int", "(", ")", "{", "int", "return", "this", "=", "num", ";", "if", "(", "current", "leaf", "node", "=", "=", "null", ")", "{", "while", "(", "true", ")", "{", "current", "leaf", "node", "=", "node", "stack", ".", "pop", "(", ")", ";", "if", "(", "is", "leaf", "node", "(", "current", "leaf", "node", ")", ")", "{", "current", "node", "inx", "=", "num", ";", "break", ";", "}", "for", "(", "int", "i", "=", "current", "leaf", "node", ".", "slice", "count", ";", "i", ">", "num", ";", ")", "node", "stack", ".", "push", "(", "current", "leaf", "node", ".", "data", ".", "children", "[", "-", "-", "i", "]", ")", ";", "if", "(", "is", "leaf", "node", "(", "current", "leaf", "node", ".", "data", ".", "children", "[", "num", "]", ")", ")", "whole", "leaf", "nodes", "+", "=", "current", "leaf", "node", ".", "slice", "count", ";", "}", "}", "if", "(", "whole", "leaf", "nodes", ">", "num", ")", "{", "return", "this", "=", "current", "leaf", "node", ".", "values", "[", "current", "node", "inx", "]", ";", "}", "else", "for", "(", "int", "i", "=", "current", "node", "inx", ";", "i", "<", "current", "leaf", "node", ".", "slice", "count", ";", "i", "+", "+", ")", "if", "(", "current", "leaf", "node", ".", "values", "[", "i", "]", ">", "=", "x", "min", ")", "{", "return", "this", "=", "current", "leaf", "node", ".", "values", "[", "i", "]", ";", "break", ";", "}", "if", "(", "+", "+", "current", "node", "inx", "=", "=", "current", "leaf", "node", ".", "slice", "count", ")", "{", "current", "leaf", "node", "=", "null", ";", "if", "(", "whole", "leaf", "nodes", ">", "num", ")", "whole", "leaf", "nodes", "-", "-", ";", "}", "count", "-", "-", ";", "return", "return", "this", ";", "}", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> an <INSERT_NEW_KEEP_BEFORE> an non - descending <INSERT_END> <INSERT_OLD_KEEP_BEFORE> query <INSERT_NEW_KEEP_BEFORE> query , duplicated included <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "an", "<INSERT_NEW_KEEP_BEFORE>", "an", "non", "-", "descending", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "query", "<INSERT_NEW_KEEP_BEFORE>", "query", ",", "duplicated", "included", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "enumerator", "<KEEP>", "search", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "x", "<KEEP>", "min", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "x", "<KEEP>", "max", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "node", "<KEEP>", "stack", "<KEEP>", "node", "<KEEP>", "stack", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "node", "<KEEP>", "stack", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "total", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "search", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "root", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "stack", "<KEEP>", ",", "<KEEP>", "x", "<KEEP>", "min", "<KEEP>", ",", "<KEEP>", "x", "<KEEP>", "max", "<KEEP>", ",", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "min", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "int", "<KEEP>", "enumerator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "private", "<KEEP>", "int", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "total", "<KEEP>", "count", "<KEEP>", ";", "<KEEP>", "private", "<KEEP>", "node", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "private", "<KEEP>", "int", "<KEEP>", "whole", "<KEEP>", "leaf", "<KEEP>", "nodes", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "private", "<KEEP>", "int", "<KEEP>", "current", "<KEEP>", "node", "<KEEP>", "inx", "<KEEP>", ";", "<KEEP>", "public", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "num", "<KEEP>", "remaining", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "count", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "public", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "next", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", "stack", "<KEEP>", ".", "<KEEP>", "pop", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "node", "<KEEP>", "inx", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "slice", "<KEEP>", "count", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", ")", "<KEEP>", "node", "<KEEP>", "stack", "<KEEP>", ".", "<KEEP>", "push", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "children", "<KEEP>", "[", "<KEEP>", "-", "<KEEP>", "-", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "children", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "whole", "<KEEP>", "leaf", "<KEEP>", "nodes", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "slice", "<KEEP>", "count", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "whole", "<KEEP>", "leaf", "<KEEP>", "nodes", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "current", "<KEEP>", "node", "<KEEP>", "inx", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "node", "<KEEP>", "inx", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "slice", "<KEEP>", "count", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "x", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", "current", "<KEEP>", "node", "<KEEP>", "inx", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "slice", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "leaf", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "whole", "<KEEP>", "leaf", "<KEEP>", "nodes", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "whole", "<KEEP>", "leaf", "<KEEP>", "nodes", "<KEEP>", "-", "<KEEP>", "-", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "count", "<KEEP>", "-", "<KEEP>", "-", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8187244094769421, "using": 1, "keep": 1}
{"id": "eclipse_rt.equinox.framework-135-6538", "old_comment": "a abstract bundleobject , or null if the identifier doesn ' t match any installed bundle .", "old_comment_tokens": ["a", "abstract", "bundleobject", ",", "or", "null", "if", "the", "identifier", "doesn", "'", "t", "match", "any", "installed", "bundle", "."], "new_comment": "a collection of abstract bundle that match the symbolic name and version", "new_comment_tokens": ["a", "collection", "of", "abstract", "bundle", "that", "match", "the", "symbolic", "name", "and", "version"], "old_code": "public abstract bundle get bundle by symbolic name ( string symbolic name , version version ) { synchronized ( bundles ) { return bundles . get bundle ( symbolic name , version ) ; } }", "old_code_tokens": ["public", "abstract", "bundle", "get", "bundle", "by", "symbolic", "name", "(", "string", "symbolic", "name", ",", "version", "version", ")", "{", "synchronized", "(", "bundles", ")", "{", "return", "bundles", ".", "get", "bundle", "(", "symbolic", "name", ",", "version", ")", ";", "}", "}"], "new_code": "public list < abstract bundle > get bundle by symbolic name ( string symbolic name , version version ) { synchronized ( bundles ) { return bundles . get bundles ( symbolic name , version ) ; } }", "new_code_tokens": ["public", "list", "<", "abstract", "bundle", ">", "get", "bundle", "by", "symbolic", "name", "(", "string", "symbolic", "name", ",", "version", "version", ")", "{", "synchronized", "(", "bundles", ")", "{", "return", "bundles", ".", "get", "bundles", "(", "symbolic", "name", ",", "version", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> list < <INSERT_END> <KEEP> abstract bundle <KEEP_END> <INSERT> > <INSERT_END> <KEEP> get bundle by symbolic name ( string symbolic name , version version ) { synchronized ( bundles ) { return bundles . get <KEEP_END> <REPLACE_OLD> bundle <REPLACE_NEW> bundles <REPLACE_END> <KEEP> ( symbolic name , version ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "list", "<", "<INSERT_END>", "<KEEP>", "abstract", "bundle", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "get", "bundle", "by", "symbolic", "name", "(", "string", "symbolic", "name", ",", "version", "version", ")", "{", "synchronized", "(", "bundles", ")", "{", "return", "bundles", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "bundle", "<REPLACE_NEW>", "bundles", "<REPLACE_END>", "<KEEP>", "(", "symbolic", "name", ",", "version", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a collection of <INSERT_END> <REPLACE_OLD> bundleobject , or null if <REPLACE_NEW> bundle that match <REPLACE_END> <REPLACE_OLD> identifier doesn ' t match any installed bundle . <REPLACE_NEW> symbolic name and version <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "collection", "of", "<INSERT_END>", "<REPLACE_OLD>", "bundleobject", ",", "or", "null", "if", "<REPLACE_NEW>", "bundle", "that", "match", "<REPLACE_END>", "<REPLACE_OLD>", "identifier", "doesn", "'", "t", "match", "any", "installed", "bundle", ".", "<REPLACE_NEW>", "symbolic", "name", "and", "version", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "abstract", "<KEEP>", "bundle", "<INSERT>", ">", "<KEEP>", "get", "<KEEP>", "bundle", "<KEEP>", "by", "<KEEP>", "symbolic", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "symbolic", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "version", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "bundles", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "bundles", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "bundle", "<REPLACE_NEW>", "bundles", "<KEEP>", "(", "<KEEP>", "symbolic", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8801123913006632, "using": 1, "keep": 1}
{"id": "JetBrains_android-471-6837", "old_comment": "instance of ide level2 dependencies from main artifact .", "old_comment_tokens": ["instance", "of", "ide", "level2", "dependencies", "from", "main", "artifact", "."], "new_comment": "instance of ide dependencies from main artifact .", "new_comment_tokens": ["instance", "of", "ide", "dependencies", "from", "main", "artifact", "."], "old_code": "@ not null public ide level2 dependencies get selected main compile level2 dependencies ( ) { ide android artifact main artifact = get main artifact ( ) ; return main artifact . get level2 dependencies ( ) ; }", "old_code_tokens": ["@", "not", "null", "public", "ide", "level2", "dependencies", "get", "selected", "main", "compile", "level2", "dependencies", "(", ")", "{", "ide", "android", "artifact", "main", "artifact", "=", "get", "main", "artifact", "(", ")", ";", "return", "main", "artifact", ".", "get", "level2", "dependencies", "(", ")", ";", "}"], "new_code": "@ not null public ide dependencies get selected main compile level2 dependencies ( ) { ide android artifact main artifact = get main artifact ( ) ; return main artifact . get level2 dependencies ( ) ; }", "new_code_tokens": ["@", "not", "null", "public", "ide", "dependencies", "get", "selected", "main", "compile", "level2", "dependencies", "(", ")", "{", "ide", "android", "artifact", "main", "artifact", "=", "get", "main", "artifact", "(", ")", ";", "return", "main", "artifact", ".", "get", "level2", "dependencies", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ not null public ide <KEEP_END> <DELETE> level2 <DELETE_END> <KEEP> dependencies get selected main compile level2 dependencies ( ) { ide android artifact main artifact = get main artifact ( ) ; return main artifact . get level2 dependencies ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "not", "null", "public", "ide", "<KEEP_END>", "<DELETE>", "level2", "<DELETE_END>", "<KEEP>", "dependencies", "get", "selected", "main", "compile", "level2", "dependencies", "(", ")", "{", "ide", "android", "artifact", "main", "artifact", "=", "get", "main", "artifact", "(", ")", ";", "return", "main", "artifact", ".", "get", "level2", "dependencies", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> level2 <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "level2", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "public", "<KEEP>", "ide", "<DELETE>", "level2", "<KEEP>", "dependencies", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "main", "<KEEP>", "compile", "<KEEP>", "level2", "<KEEP>", "dependencies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ide", "<KEEP>", "android", "<KEEP>", "artifact", "<KEEP>", "main", "<KEEP>", "artifact", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "main", "<KEEP>", "artifact", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "main", "<KEEP>", "artifact", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "level2", "<KEEP>", "dependencies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9971290025434463, "using": 2, "keep": 1}
{"id": "andyglick_jaudiotagger-143-6319", "old_comment": "true , if a property chunk must be written in order to store all needed values of tag .", "old_comment_tokens": ["true", ",", "if", "a", "property", "chunk", "must", "be", "written", "in", "order", "to", "store", "all", "needed", "values", "of", "tag", "."], "new_comment": "true , if an extended property chunk must be written in order to store tag values .", "new_comment_tokens": ["true", ",", "if", "an", "extended", "property", "chunk", "must", "be", "written", "in", "order", "to", "store", "tag", "values", "."], "old_code": "private boolean is extended content description mandatory ( tag tag ) { return tag . get first track ( ) . trim ( ) . length ( ) > num | | tag . get first year ( ) . trim ( ) . length ( ) > num | | tag . get first genre ( ) . trim ( ) . length ( ) > num | | tag . get first album ( ) . trim ( ) . length ( ) > num ; }", "old_code_tokens": ["private", "boolean", "is", "extended", "content", "description", "mandatory", "(", "tag", "tag", ")", "{", "return", "tag", ".", "get", "first", "track", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "|", "|", "tag", ".", "get", "first", "year", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "|", "|", "tag", ".", "get", "first", "genre", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "|", "|", "tag", ".", "get", "first", "album", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", ";", "}"], "new_code": "private boolean is extended content description mandatory ( tag tag ) { return ! tag . is empty ( ) ; }", "new_code_tokens": ["private", "boolean", "is", "extended", "content", "description", "mandatory", "(", "tag", "tag", ")", "{", "return", "!", "tag", ".", "is", "empty", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean is extended content description mandatory ( tag tag ) { return <KEEP_END> <INSERT> ! <INSERT_END> <KEEP> tag . <KEEP_END> <REPLACE_OLD> get first track <REPLACE_NEW> is empty <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> . trim ( ) . length ( ) > num | | tag . get first year ( ) . trim ( ) . length ( ) > num | | tag . get first genre ( ) . trim ( ) . length ( ) > num | | tag . get first album ( ) . trim ( ) . length ( ) > num <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "is", "extended", "content", "description", "mandatory", "(", "tag", "tag", ")", "{", "return", "<KEEP_END>", "<INSERT>", "!", "<INSERT_END>", "<KEEP>", "tag", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "first", "track", "<REPLACE_NEW>", "is", "empty", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "|", "|", "tag", ".", "get", "first", "year", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "|", "|", "tag", ".", "get", "first", "genre", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "|", "|", "tag", ".", "get", "first", "album", "(", ")", ".", "trim", "(", ")", ".", "length", "(", ")", ">", "num", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a <REPLACE_NEW> an extended <REPLACE_END> <REPLACE_OLD> all needed <REPLACE_NEW> tag <REPLACE_END> <DELETE> of tag <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "<REPLACE_NEW>", "an", "extended", "<REPLACE_END>", "<REPLACE_OLD>", "all", "needed", "<REPLACE_NEW>", "tag", "<REPLACE_END>", "<DELETE>", "of", "tag", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "extended", "<KEEP>", "content", "<KEEP>", "description", "<KEEP>", "mandatory", "<KEEP>", "(", "<KEEP>", "tag", "<KEEP>", "tag", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "!", "<KEEP>", "tag", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "first", "<REPLACE_OLD>", "track", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "tag", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "first", "<DELETE>", "year", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "tag", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "first", "<DELETE>", "genre", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "tag", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "first", "<DELETE>", "album", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8206932907079368, "using": 0, "keep": 1}
{"id": "Angel-ML_angel-4-1285", "old_comment": "updater param update udf parameter", "old_comment_tokens": ["updater", "param", "update", "udf", "parameter"], "new_comment": "update param update udf parameter", "new_comment_tokens": ["update", "param", "update", "udf", "parameter"], "old_code": "public updater param get param ( ) { return param ; }", "old_code_tokens": ["public", "updater", "param", "get", "param", "(", ")", "{", "return", "param", ";", "}"], "new_code": "public update param get param ( ) { return param ; }", "new_code_tokens": ["public", "update", "param", "get", "param", "(", ")", "{", "return", "param", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> updater <REPLACE_NEW> update <REPLACE_END> <KEEP> param get param ( ) { return param ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "updater", "<REPLACE_NEW>", "update", "<REPLACE_END>", "<KEEP>", "param", "get", "param", "(", ")", "{", "return", "param", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> updater <REPLACE_NEW> update <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "updater", "<REPLACE_NEW>", "update", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "updater", "<REPLACE_NEW>", "update", "<KEEP>", "param", "<KEEP>", "get", "<KEEP>", "param", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "param", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9938057364479941, "using": 2, "keep": 1}
{"id": "apache_asterixdb-73-5398", "old_comment": "the directory \" $ ( pwd ) / uninstall \" : this needs to be improved", "old_comment_tokens": ["the", "directory", "\"", "$", "(", "pwd", ")", "/", "uninstall", "\"", ":", "this", "needs", "to", "be", "improved"], "new_comment": "the directory \" $ ( controller config . default dir ) / uninstall \" : this needs to be improved", "new_comment_tokens": ["the", "directory", "\"", "$", "(", "controller", "config", ".", "default", "dir", ")", "/", "uninstall", "\"", ":", "this", "needs", "to", "be", "improved"], "old_code": "protected static file get library uninstall dir ( ) { string working dir = system . get property ( str ) ; return new file ( working dir + file . separator + str ) ; }", "old_code_tokens": ["protected", "static", "file", "get", "library", "uninstall", "dir", "(", ")", "{", "string", "working", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "return", "new", "file", "(", "working", "dir", "+", "file", ".", "separator", "+", "str", ")", ";", "}"], "new_code": "protected static file get library uninstall dir ( ) { string working dir = system . get property ( str ) ; return new file ( working dir , str ) ; }", "new_code_tokens": ["protected", "static", "file", "get", "library", "uninstall", "dir", "(", ")", "{", "string", "working", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "return", "new", "file", "(", "working", "dir", ",", "str", ")", ";", "}"], "span_diff_code": "<KEEP> protected static file get library uninstall dir ( ) { string working dir = system . get property ( str ) ; return new file ( working dir <KEEP_END> <REPLACE_OLD> + file . separator + <REPLACE_NEW> , <REPLACE_END> <KEEP> str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "static", "file", "get", "library", "uninstall", "dir", "(", ")", "{", "string", "working", "dir", "=", "system", ".", "get", "property", "(", "str", ")", ";", "return", "new", "file", "(", "working", "dir", "<KEEP_END>", "<REPLACE_OLD>", "+", "file", ".", "separator", "+", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<KEEP>", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> pwd <REPLACE_NEW> controller config . default dir <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "pwd", "<REPLACE_NEW>", "controller", "config", ".", "default", "dir", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "static", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "library", "<KEEP>", "uninstall", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "=", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "working", "<KEEP>", "dir", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "separator", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9298904106928099, "using": 1, "keep": 1}
{"id": "nickman_apmrouter-17-4125", "old_comment": "the sentry scheduler instance", "old_comment_tokens": ["the", "sentry", "scheduler", "instance"], "new_comment": "the sentry instance", "new_comment_tokens": ["the", "sentry", "instance"], "old_code": "public static sentry scheduler get instance ( ) { if ( instance = = null ) { synchronized ( lock ) { if ( instance = = null ) { instance = new sentry scheduler ( ) ; } } } return instance ; }", "old_code_tokens": ["public", "static", "sentry", "scheduler", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "synchronized", "(", "lock", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "instance", "=", "new", "sentry", "scheduler", "(", ")", ";", "}", "}", "}", "return", "instance", ";", "}"], "new_code": "public static sentry get instance ( ) { if ( instance = = null ) { synchronized ( lock ) { if ( instance = = null ) { instance = new sentry ( ) ; } } } return instance ; }", "new_code_tokens": ["public", "static", "sentry", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "synchronized", "(", "lock", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "instance", "=", "new", "sentry", "(", ")", ";", "}", "}", "}", "return", "instance", ";", "}"], "span_diff_code": "<KEEP> public static sentry <KEEP_END> <DELETE> scheduler <DELETE_END> <KEEP> get instance ( ) { if ( instance = = null ) { synchronized ( lock ) { if ( instance = = null ) { instance = new sentry <KEEP_END> <DELETE> scheduler <DELETE_END> <KEEP> ( ) ; } } } return instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "sentry", "<KEEP_END>", "<DELETE>", "scheduler", "<DELETE_END>", "<KEEP>", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "synchronized", "(", "lock", ")", "{", "if", "(", "instance", "=", "=", "null", ")", "{", "instance", "=", "new", "sentry", "<KEEP_END>", "<DELETE>", "scheduler", "<DELETE_END>", "<KEEP>", "(", ")", ";", "}", "}", "}", "return", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> scheduler <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "scheduler", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "sentry", "<DELETE>", "scheduler", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "lock", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "sentry", "<DELETE>", "scheduler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9848634045977777, "using": 2, "keep": 1}
{"id": "mulesoft_servicesource-connector-1-6824", "old_comment": "the note read", "old_comment_tokens": ["the", "note", "read"], "new_comment": "an instance of org . mule . module . servicesource . model . note . note", "new_comment_tokens": ["an", "instance", "of", "org", ".", "mule", ".", "module", ".", "servicesource", ".", "model", ".", "note", ".", "note"], "old_code": "@ processor @ invalidate connection on ( exception = service source connector exception . class ) public core note read note ( string object id ) { return ( core note ) read ( api collections . core notes , object id ) ; }", "old_code_tokens": ["@", "processor", "@", "invalidate", "connection", "on", "(", "exception", "=", "service", "source", "connector", "exception", ".", "class", ")", "public", "core", "note", "read", "note", "(", "string", "object", "id", ")", "{", "return", "(", "core", "note", ")", "read", "(", "api", "collections", ".", "core", "notes", ",", "object", "id", ")", ";", "}"], "new_code": "@ processor @ invalidate connection on ( exception = not authenticated exception . class ) public note read note ( string object id ) { return ( note ) read ( service source collection . notes , object id ) ; }", "new_code_tokens": ["@", "processor", "@", "invalidate", "connection", "on", "(", "exception", "=", "not", "authenticated", "exception", ".", "class", ")", "public", "note", "read", "note", "(", "string", "object", "id", ")", "{", "return", "(", "note", ")", "read", "(", "service", "source", "collection", ".", "notes", ",", "object", "id", ")", ";", "}"], "span_diff_code": "<KEEP> @ processor @ invalidate connection on ( exception = <KEEP_END> <REPLACE_OLD> service source connector <REPLACE_NEW> not authenticated <REPLACE_END> <KEEP> exception . class ) public <KEEP_END> <DELETE> core <DELETE_END> <KEEP> note read note ( string object id ) { return ( <KEEP_END> <DELETE> core <DELETE_END> <KEEP> note ) read ( <KEEP_END> <REPLACE_OLD> api collections <REPLACE_NEW> service source collection <REPLACE_END> <KEEP> . <KEEP_END> <DELETE> core <DELETE_END> <KEEP> notes , object id ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "processor", "@", "invalidate", "connection", "on", "(", "exception", "=", "<KEEP_END>", "<REPLACE_OLD>", "service", "source", "connector", "<REPLACE_NEW>", "not", "authenticated", "<REPLACE_END>", "<KEEP>", "exception", ".", "class", ")", "public", "<KEEP_END>", "<DELETE>", "core", "<DELETE_END>", "<KEEP>", "note", "read", "note", "(", "string", "object", "id", ")", "{", "return", "(", "<KEEP_END>", "<DELETE>", "core", "<DELETE_END>", "<KEEP>", "note", ")", "read", "(", "<KEEP_END>", "<REPLACE_OLD>", "api", "collections", "<REPLACE_NEW>", "service", "source", "collection", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<DELETE>", "core", "<DELETE_END>", "<KEEP>", "notes", ",", "object", "id", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the <REPLACE_NEW> an instance of org . mule . module . servicesource . model . <REPLACE_END> <REPLACE_OLD> read <REPLACE_NEW> . note <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "<REPLACE_NEW>", "an", "instance", "of", "org", ".", "mule", ".", "module", ".", "servicesource", ".", "model", ".", "<REPLACE_END>", "<REPLACE_OLD>", "read", "<REPLACE_NEW>", ".", "note", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "processor", "<KEEP>", "@", "<KEEP>", "invalidate", "<KEEP>", "connection", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "=", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "connector", "<REPLACE_NEW>", "not", "<REPLACE_NEW>", "authenticated", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "public", "<DELETE>", "core", "<KEEP>", "note", "<KEEP>", "read", "<KEEP>", "note", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "object", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<DELETE>", "core", "<KEEP>", "note", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "(", "<REPLACE_OLD>", "api", "<REPLACE_OLD>", "collections", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "collection", "<KEEP>", ".", "<DELETE>", "core", "<KEEP>", "notes", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.793474827525559, "using": 1, "keep": 1}
{"id": "networknt_light-4j-3-2863", "old_comment": "a validation report containing accumulated validation errors", "old_comment_tokens": ["a", "validation", "report", "containing", "accumulated", "validation", "errors"], "new_comment": "a status containing error code and description", "new_comment_tokens": ["a", "status", "containing", "error", "code", "and", "description"], "old_code": "public validation report validate ( final string value , final model schema ) { return do validate ( value , schema ) ; }", "old_code_tokens": ["public", "validation", "report", "validate", "(", "final", "string", "value", ",", "final", "model", "schema", ")", "{", "return", "do", "validate", "(", "value", ",", "schema", ")", ";", "}"], "new_code": "public status validate ( final string value , final model schema ) { return do validate ( value , schema ) ; }", "new_code_tokens": ["public", "status", "validate", "(", "final", "string", "value", ",", "final", "model", "schema", ")", "{", "return", "do", "validate", "(", "value", ",", "schema", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> validation report <REPLACE_NEW> status <REPLACE_END> <KEEP> validate ( final string value , final model schema ) { return do validate ( value , schema ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<KEEP>", "validate", "(", "final", "string", "value", ",", "final", "model", "schema", ")", "{", "return", "do", "validate", "(", "value", ",", "schema", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> validation report <REPLACE_NEW> status <REPLACE_END> <REPLACE_OLD> accumulated validation errors <REPLACE_NEW> error code and description <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "validation", "report", "<REPLACE_NEW>", "status", "<REPLACE_END>", "<REPLACE_OLD>", "accumulated", "validation", "errors", "<REPLACE_NEW>", "error", "code", "and", "description", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "validation", "<REPLACE_OLD>", "report", "<REPLACE_NEW>", "status", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "model", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "do", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8304428593817443, "using": 1, "keep": 1}
{"id": "pedrovgs_DraggablePanel-0-1960", "old_comment": "true if the left position of the view is to the right of the twenty five percent of the parent width .", "old_comment_tokens": ["true", "if", "the", "left", "position", "of", "the", "view", "is", "to", "the", "right", "of", "the", "twenty", "five", "percent", "of", "the", "parent", "width", "."], "new_comment": "true if the right position of the view is to the right of the one hundred twenty five five percent of the parent view width .", "new_comment_tokens": ["true", "if", "the", "right", "position", "of", "the", "view", "is", "to", "the", "right", "of", "the", "one", "hundred", "twenty", "five", "five", "percent", "of", "the", "parent", "view", "width", "."], "old_code": "@ override public boolean is next to right bound ( ) { return ( get view ( ) . get left ( ) - get margin right ( ) ) > get parent view ( ) . get width ( ) * num ; }", "old_code_tokens": ["@", "override", "public", "boolean", "is", "next", "to", "right", "bound", "(", ")", "{", "return", "(", "get", "view", "(", ")", ".", "get", "left", "(", ")", "-", "get", "margin", "right", "(", ")", ")", ">", "get", "parent", "view", "(", ")", ".", "get", "width", "(", ")", "*", "num", ";", "}"], "new_code": "@ override public boolean is next to right bound ( ) { return ( get view ( ) . get right ( ) - get margin right ( ) ) > get parent view ( ) . get width ( ) * num ; }", "new_code_tokens": ["@", "override", "public", "boolean", "is", "next", "to", "right", "bound", "(", ")", "{", "return", "(", "get", "view", "(", ")", ".", "get", "right", "(", ")", "-", "get", "margin", "right", "(", ")", ")", ">", "get", "parent", "view", "(", ")", ".", "get", "width", "(", ")", "*", "num", ";", "}"], "span_diff_code": "<KEEP> @ override public boolean is next to right bound ( ) { return ( get view ( ) . get <KEEP_END> <REPLACE_OLD> left <REPLACE_NEW> right <REPLACE_END> <KEEP> ( ) - get margin right ( ) ) > get parent view ( ) . get width ( ) * num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "boolean", "is", "next", "to", "right", "bound", "(", ")", "{", "return", "(", "get", "view", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "left", "<REPLACE_NEW>", "right", "<REPLACE_END>", "<KEEP>", "(", ")", "-", "get", "margin", "right", "(", ")", ")", ">", "get", "parent", "view", "(", ")", ".", "get", "width", "(", ")", "*", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> left <REPLACE_NEW> right <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> right of the <INSERT_NEW_KEEP_BEFORE> right of the one hundred <INSERT_END> <INSERT_OLD_KEEP_BEFORE> twenty <INSERT_NEW_KEEP_BEFORE> twenty five <INSERT_END> <INSERT_OLD_KEEP_BEFORE> parent <INSERT_NEW_KEEP_BEFORE> parent view <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "left", "<REPLACE_NEW>", "right", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "right", "of", "the", "<INSERT_NEW_KEEP_BEFORE>", "right", "of", "the", "one", "hundred", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "twenty", "<INSERT_NEW_KEEP_BEFORE>", "twenty", "five", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "parent", "<INSERT_NEW_KEEP_BEFORE>", "parent", "view", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "next", "<KEEP>", "to", "<KEEP>", "right", "<KEEP>", "bound", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "left", "<REPLACE_NEW>", "right", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "get", "<KEEP>", "margin", "<KEEP>", "right", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "width", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9402831766290632, "using": 0, "keep": 1}
{"id": "svn2github_commons-vfs-30-4673", "old_comment": "true if the user directory is treated as the root .", "old_comment_tokens": ["true", "if", "the", "user", "directory", "is", "treated", "as", "the", "root", "."], "new_comment": "true if vfs treats the user directory as the root directory . defaults to true .", "new_comment_tokens": ["true", "if", "vfs", "treats", "the", "user", "directory", "as", "the", "root", "directory", ".", "defaults", "to", "true", "."], "old_code": "public boolean get user dir is root ( final file system options opts ) { return get boolean ( opts , user _ dir _ is _ root ) ; }", "old_code_tokens": ["public", "boolean", "get", "user", "dir", "is", "root", "(", "final", "file", "system", "options", "opts", ")", "{", "return", "get", "boolean", "(", "opts", ",", "user", "_", "dir", "_", "is", "_", "root", ")", ";", "}"], "new_code": "public boolean get user dir is root ( final file system options opts ) { return get boolean ( opts , user _ dir _ is _ root , boolean . true ) ; }", "new_code_tokens": ["public", "boolean", "get", "user", "dir", "is", "root", "(", "final", "file", "system", "options", "opts", ")", "{", "return", "get", "boolean", "(", "opts", ",", "user", "_", "dir", "_", "is", "_", "root", ",", "boolean", ".", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean get user dir is root ( final file system options opts ) { return get boolean ( opts , user _ dir _ is _ root <KEEP_END> <INSERT> , boolean . true <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "get", "user", "dir", "is", "root", "(", "final", "file", "system", "options", "opts", ")", "{", "return", "get", "boolean", "(", "opts", ",", "user", "_", "dir", "_", "is", "_", "root", "<KEEP_END>", "<INSERT>", ",", "boolean", ".", "true", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> if <INSERT_NEW_KEEP_BEFORE> if vfs treats <INSERT_END> <DELETE> is treated <DELETE_END> <INSERT_OLD_KEEP_BEFORE> root <INSERT_NEW_KEEP_BEFORE> root directory <INSERT_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . defaults to true . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "if", "<INSERT_NEW_KEEP_BEFORE>", "if", "vfs", "treats", "<INSERT_END>", "<DELETE>", "is", "treated", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "root", "<INSERT_NEW_KEEP_BEFORE>", "root", "directory", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "defaults", "to", "true", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "dir", "<KEEP>", "is", "<KEEP>", "root", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "file", "<KEEP>", "system", "<KEEP>", "options", "<KEEP>", "opts", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "opts", "<KEEP>", ",", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "dir", "<KEEP>", "_", "<KEEP>", "is", "<KEEP>", "_", "<KEEP>", "root", "<INSERT>", ",", "<INSERT>", "boolean", "<INSERT>", ".", "<INSERT>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8259075710264361, "using": 1, "keep": 1}
{"id": "eclipse_elk-136-6009", "old_comment": "the adjusted insets .", "old_comment_tokens": ["the", "adjusted", "insets", "."], "new_comment": "the adjusted padding .", "new_comment_tokens": ["the", "adjusted", "padding", "."], "old_code": "public static elk padding calculate required node label space ( final node adapter < ? > node , final double label spacing ) { elk padding node label insets = node . get property ( core options . node _ labels _ padding ) ; return calculate required node label space ( node , label spacing , node label insets , new hash map < label location , label group > ( ) , new elk padding ( node . get insets ( ) ) ) ; }", "old_code_tokens": ["public", "static", "elk", "padding", "calculate", "required", "node", "label", "space", "(", "final", "node", "adapter", "<", "?", ">", "node", ",", "final", "double", "label", "spacing", ")", "{", "elk", "padding", "node", "label", "insets", "=", "node", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "padding", ")", ";", "return", "calculate", "required", "node", "label", "space", "(", "node", ",", "label", "spacing", ",", "node", "label", "insets", ",", "new", "hash", "map", "<", "label", "location", ",", "label", "group", ">", "(", ")", ",", "new", "elk", "padding", "(", "node", ".", "get", "insets", "(", ")", ")", ")", ";", "}"], "new_code": "public static elk padding calculate required node label space ( final node adapter < ? > node , final double label spacing ) { elk padding node label padding = node . get property ( core options . node _ labels _ padding ) ; return calculate required node label space ( node , label spacing , node label padding , new hash map < label location , label group > ( ) , new elk padding ( node . get padding ( ) ) ) ; }", "new_code_tokens": ["public", "static", "elk", "padding", "calculate", "required", "node", "label", "space", "(", "final", "node", "adapter", "<", "?", ">", "node", ",", "final", "double", "label", "spacing", ")", "{", "elk", "padding", "node", "label", "padding", "=", "node", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "padding", ")", ";", "return", "calculate", "required", "node", "label", "space", "(", "node", ",", "label", "spacing", ",", "node", "label", "padding", ",", "new", "hash", "map", "<", "label", "location", ",", "label", "group", ">", "(", ")", ",", "new", "elk", "padding", "(", "node", ".", "get", "padding", "(", ")", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static elk padding calculate required node label space ( final node adapter < ? > node , final double label spacing ) { elk padding node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> = node . get property ( core options . node _ labels _ padding ) ; return calculate required node label space ( node , label spacing , node label <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> , new hash map < label location , label group > ( ) , new elk padding ( node . get <KEEP_END> <REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END> <KEEP> ( ) ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "elk", "padding", "calculate", "required", "node", "label", "space", "(", "final", "node", "adapter", "<", "?", ">", "node", ",", "final", "double", "label", "spacing", ")", "{", "elk", "padding", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", "=", "node", ".", "get", "property", "(", "core", "options", ".", "node", "_", "labels", "_", "padding", ")", ";", "return", "calculate", "required", "node", "label", "space", "(", "node", ",", "label", "spacing", ",", "node", "label", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", ",", "new", "hash", "map", "<", "label", "location", ",", "label", "group", ">", "(", ")", ",", "new", "elk", "padding", "(", "node", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>", "<KEEP>", "(", ")", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> insets <REPLACE_NEW> padding <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "elk", "<KEEP>", "padding", "<KEEP>", "calculate", "<KEEP>", "required", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "node", "<KEEP>", "adapter", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "double", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "elk", "<KEEP>", "padding", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "core", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "node", "<KEEP>", "_", "<KEEP>", "labels", "<KEEP>", "_", "<KEEP>", "padding", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "calculate", "<KEEP>", "required", "<KEEP>", "node", "<KEEP>", "label", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "label", "<KEEP>", "spacing", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "label", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "label", "<KEEP>", "location", "<KEEP>", ",", "<KEEP>", "label", "<KEEP>", "group", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "elk", "<KEEP>", "padding", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "insets", "<REPLACE_NEW>", "padding", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9897967491075046, "using": 2, "keep": 1}
{"id": "eclipse_rt.equinox.p2-23-4249", "old_comment": "a three element string array with the username , password , and save state , in that order . returns null if the dialog was canceled .", "old_comment_tokens": ["a", "three", "element", "string", "array", "with", "the", "username", ",", "password", ",", "and", "save", "state", ",", "in", "that", "order", ".", "returns", "null", "if", "the", "dialog", "was", "canceled", "."], "new_comment": "the authentication information given by the user , or null if the user cancelled", "new_comment_tokens": ["the", "authentication", "information", "given", "by", "the", "user", ",", "or", "null", "if", "the", "user", "cancelled"], "old_code": "public object get result ( ) { return result ; }", "old_code_tokens": ["public", "object", "get", "result", "(", ")", "{", "return", "result", ";", "}"], "new_code": "public authentication info get result ( ) { return result ; }", "new_code_tokens": ["public", "authentication", "info", "get", "result", "(", ")", "{", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> object <REPLACE_NEW> authentication info <REPLACE_END> <KEEP> get result ( ) { return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "authentication", "info", "<REPLACE_END>", "<KEEP>", "get", "result", "(", ")", "{", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> a three element string array with <DELETE_END> <REPLACE_OLD> username <REPLACE_NEW> authentication information given by the user <REPLACE_END> <REPLACE_OLD> password , and save state , in that order . returns <REPLACE_NEW> or <REPLACE_END> <REPLACE_OLD> dialog was canceled . <REPLACE_NEW> user cancelled <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "a", "three", "element", "string", "array", "with", "<DELETE_END>", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "authentication", "information", "given", "by", "the", "user", "<REPLACE_END>", "<REPLACE_OLD>", "password", ",", "and", "save", "state", ",", "in", "that", "order", ".", "returns", "<REPLACE_NEW>", "or", "<REPLACE_END>", "<REPLACE_OLD>", "dialog", "was", "canceled", ".", "<REPLACE_NEW>", "user", "cancelled", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "authentication", "<REPLACE_NEW>", "info", "<KEEP>", "get", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7959842050205608, "using": 1, "keep": 1}
{"id": "andyglick_jaudiotagger-128-6318", "old_comment": "returns the tag contained in this audio file , or a new one if file hasn ' t any tag .", "old_comment_tokens": ["returns", "the", "tag", "contained", "in", "this", "audio", "file", ",", "or", "a", "new", "one", "if", "file", "hasn", "'", "t", "any", "tag", "."], "new_comment": "returns the tag contained in this audio file , or null if no tag exists .", "new_comment_tokens": ["returns", "the", "tag", "contained", "in", "this", "audio", "file", ",", "or", "null", "if", "no", "tag", "exists", "."], "old_code": "public tag get tag ( ) { return ( tag = = null ) ? new generic tag ( ) : tag ; }", "old_code_tokens": ["public", "tag", "get", "tag", "(", ")", "{", "return", "(", "tag", "=", "=", "null", ")", "?", "new", "generic", "tag", "(", ")", ":", "tag", ";", "}"], "new_code": "public tag get tag ( ) { return tag ; }", "new_code_tokens": ["public", "tag", "get", "tag", "(", ")", "{", "return", "tag", ";", "}"], "span_diff_code": "<KEEP> public tag get tag ( ) { return <KEEP_END> <DELETE> ( tag = = null ) ? new generic tag ( ) : <DELETE_END> <KEEP> tag ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "tag", "get", "tag", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "(", "tag", "=", "=", "null", ")", "?", "new", "generic", "tag", "(", ")", ":", "<DELETE_END>", "<KEEP>", "tag", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a new one <REPLACE_NEW> null <REPLACE_END> <REPLACE_OLD> file hasn ' t any <REPLACE_NEW> no <REPLACE_END> <INSERT_OLD_KEEP_AFTER> . <INSERT_NEW_KEEP_AFTER> exists . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "new", "one", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<REPLACE_OLD>", "file", "hasn", "'", "t", "any", "<REPLACE_NEW>", "no", "<REPLACE_END>", "<INSERT_OLD_KEEP_AFTER>", ".", "<INSERT_NEW_KEEP_AFTER>", "exists", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "tag", "<KEEP>", "get", "<KEEP>", "tag", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "tag", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "?", "<DELETE>", "new", "<DELETE>", "generic", "<DELETE>", "tag", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ":", "<KEEP>", "tag", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8759636635491274, "using": 0, "keep": 1}
{"id": "uber_AutoDispose-10-2840", "old_comment": "a android lifecycle against this owner .", "old_comment_tokens": ["a", "android", "lifecycle", "against", "this", "owner", "."], "new_comment": "a android lifecycle scope provider against this owner .", "new_comment_tokens": ["a", "android", "lifecycle", "scope", "provider", "against", "this", "owner", "."], "old_code": "public static android lifecycle from ( lifecycle owner owner ) { return from ( owner . get lifecycle ( ) ) ; }", "old_code_tokens": ["public", "static", "android", "lifecycle", "from", "(", "lifecycle", "owner", "owner", ")", "{", "return", "from", "(", "owner", ".", "get", "lifecycle", "(", ")", ")", ";", "}"], "new_code": "public static android lifecycle scope provider from ( lifecycle owner owner ) { return from ( owner . get lifecycle ( ) ) ; }", "new_code_tokens": ["public", "static", "android", "lifecycle", "scope", "provider", "from", "(", "lifecycle", "owner", "owner", ")", "{", "return", "from", "(", "owner", ".", "get", "lifecycle", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static android lifecycle <KEEP_END> <INSERT> scope provider <INSERT_END> <KEEP> from ( lifecycle owner owner ) { return from ( owner . get lifecycle ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "android", "lifecycle", "<KEEP_END>", "<INSERT>", "scope", "provider", "<INSERT_END>", "<KEEP>", "from", "(", "lifecycle", "owner", "owner", ")", "{", "return", "from", "(", "owner", ".", "get", "lifecycle", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> lifecycle <INSERT_NEW_KEEP_BEFORE> lifecycle scope provider <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "lifecycle", "<INSERT_NEW_KEEP_BEFORE>", "lifecycle", "scope", "provider", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "android", "<KEEP>", "lifecycle", "<INSERT>", "scope", "<INSERT>", "provider", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "lifecycle", "<KEEP>", "owner", "<KEEP>", "owner", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "owner", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9714759503061821, "using": 2, "keep": 1}
{"id": "Raizlabs_DBFlow-227-3327", "old_comment": "the model class converted from the cursor", "old_comment_tokens": ["the", "model", "class", "converted", "from", "the", "cursor"], "new_comment": "the tmodel converted from the cursor", "new_comment_tokens": ["the", "tmodel", "converted", "from", "the", "cursor"], "old_code": "public model class get item ( long position ) { throw if cursor closed ( ) ; model class model = null ; if ( cache models ) { model = model cache . get ( position ) ; if ( model = = null & & cursor . move to position ( ( int ) position ) ) { model = sql utils . convert to model ( true , table , cursor ) ; model cache . add model ( position , model ) ; } } else if ( cursor . move to position ( ( int ) position ) ) { model = sql utils . convert to model ( true , table , cursor ) ; } return model ; }", "old_code_tokens": ["public", "model", "class", "get", "item", "(", "long", "position", ")", "{", "throw", "if", "cursor", "closed", "(", ")", ";", "model", "class", "model", "=", "null", ";", "if", "(", "cache", "models", ")", "{", "model", "=", "model", "cache", ".", "get", "(", "position", ")", ";", "if", "(", "model", "=", "=", "null", "&", "&", "cursor", ".", "move", "to", "position", "(", "(", "int", ")", "position", ")", ")", "{", "model", "=", "sql", "utils", ".", "convert", "to", "model", "(", "true", ",", "table", ",", "cursor", ")", ";", "model", "cache", ".", "add", "model", "(", "position", ",", "model", ")", ";", "}", "}", "else", "if", "(", "cursor", ".", "move", "to", "position", "(", "(", "int", ")", "position", ")", ")", "{", "model", "=", "sql", "utils", ".", "convert", "to", "model", "(", "true", ",", "table", ",", "cursor", ")", ";", "}", "return", "model", ";", "}"], "new_code": "public tmodel get item ( long position ) { throw if cursor closed ( ) ; tmodel model = null ; if ( cache models ) { model = model cache . get ( position ) ; if ( model = = null & & cursor . move to position ( ( int ) position ) ) { model = sql utils . convert to model ( true , table , cursor ) ; model cache . add model ( position , model ) ; } } else if ( cursor . move to position ( ( int ) position ) ) { model = sql utils . convert to model ( true , table , cursor ) ; } return model ; }", "new_code_tokens": ["public", "tmodel", "get", "item", "(", "long", "position", ")", "{", "throw", "if", "cursor", "closed", "(", ")", ";", "tmodel", "model", "=", "null", ";", "if", "(", "cache", "models", ")", "{", "model", "=", "model", "cache", ".", "get", "(", "position", ")", ";", "if", "(", "model", "=", "=", "null", "&", "&", "cursor", ".", "move", "to", "position", "(", "(", "int", ")", "position", ")", ")", "{", "model", "=", "sql", "utils", ".", "convert", "to", "model", "(", "true", ",", "table", ",", "cursor", ")", ";", "model", "cache", ".", "add", "model", "(", "position", ",", "model", ")", ";", "}", "}", "else", "if", "(", "cursor", ".", "move", "to", "position", "(", "(", "int", ")", "position", ")", ")", "{", "model", "=", "sql", "utils", ".", "convert", "to", "model", "(", "true", ",", "table", ",", "cursor", ")", ";", "}", "return", "model", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END> <KEEP> get item ( long position ) { throw if cursor closed ( ) ; <KEEP_END> <REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END> <KEEP> model = null ; if ( cache models ) { model = model cache . get ( position ) ; if ( model = = null & & cursor . move to position ( ( int ) position ) ) { model = sql utils . convert to model ( true , table , cursor ) ; model cache . add model ( position , model ) ; } } else if ( cursor . move to position ( ( int ) position ) ) { model = sql utils . convert to model ( true , table , cursor ) ; } return model ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>", "<KEEP>", "get", "item", "(", "long", "position", ")", "{", "throw", "if", "cursor", "closed", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>", "<KEEP>", "model", "=", "null", ";", "if", "(", "cache", "models", ")", "{", "model", "=", "model", "cache", ".", "get", "(", "position", ")", ";", "if", "(", "model", "=", "=", "null", "&", "&", "cursor", ".", "move", "to", "position", "(", "(", "int", ")", "position", ")", ")", "{", "model", "=", "sql", "utils", ".", "convert", "to", "model", "(", "true", ",", "table", ",", "cursor", ")", ";", "model", "cache", ".", "add", "model", "(", "position", ",", "model", ")", ";", "}", "}", "else", "if", "(", "cursor", ".", "move", "to", "position", "(", "(", "int", ")", "position", ")", ")", "{", "model", "=", "sql", "utils", ".", "convert", "to", "model", "(", "true", ",", "table", ",", "cursor", ")", ";", "}", "return", "model", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "tmodel", "<KEEP>", "get", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "if", "<KEEP>", "cursor", "<KEEP>", "closed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "tmodel", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "cache", "<KEEP>", "models", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "model", "<KEEP>", "cache", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "move", "<KEEP>", "to", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "sql", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "convert", "<KEEP>", "to", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ",", "<KEEP>", "table", "<KEEP>", ",", "<KEEP>", "cursor", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "model", "<KEEP>", "cache", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", ",", "<KEEP>", "model", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "cursor", "<KEEP>", ".", "<KEEP>", "move", "<KEEP>", "to", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "sql", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "convert", "<KEEP>", "to", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ",", "<KEEP>", "table", "<KEEP>", ",", "<KEEP>", "cursor", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "model", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9939641450689151, "using": 2, "keep": 1}
{"id": "Burgestrand_jotify-21-4087", "old_comment": "playback position in seconds or - 1 if not available .", "old_comment_tokens": ["playback", "position", "in", "seconds", "or", "-", "1", "if", "not", "available", "."], "new_comment": "playback position in milliseconds or - 1 if not available .", "new_comment_tokens": ["playback", "position", "in", "milliseconds", "or", "-", "1", "if", "not", "available", "."], "old_code": "public int position ( ) { if ( this . player ! = null ) { return this . player . position ( ) ; } return - num ; }", "old_code_tokens": ["public", "int", "position", "(", ")", "{", "if", "(", "this", ".", "player", "!", "=", "null", ")", "{", "return", "this", ".", "player", ".", "position", "(", ")", ";", "}", "return", "-", "num", ";", "}"], "new_code": "public int position ( ) { if ( this . ogg player ! = null ) { return this . ogg player . position ( ) ; } return - num ; }", "new_code_tokens": ["public", "int", "position", "(", ")", "{", "if", "(", "this", ".", "ogg", "player", "!", "=", "null", ")", "{", "return", "this", ".", "ogg", "player", ".", "position", "(", ")", ";", "}", "return", "-", "num", ";", "}"], "span_diff_code": "<KEEP> public int position ( ) { if ( this . <KEEP_END> <INSERT> ogg <INSERT_END> <KEEP> player ! = null ) { return this . <KEEP_END> <INSERT> ogg <INSERT_END> <KEEP> player . position ( ) ; } return - num ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "position", "(", ")", "{", "if", "(", "this", ".", "<KEEP_END>", "<INSERT>", "ogg", "<INSERT_END>", "<KEEP>", "player", "!", "=", "null", ")", "{", "return", "this", ".", "<KEEP_END>", "<INSERT>", "ogg", "<INSERT_END>", "<KEEP>", "player", ".", "position", "(", ")", ";", "}", "return", "-", "num", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> seconds <REPLACE_NEW> milliseconds <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "seconds", "<REPLACE_NEW>", "milliseconds", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<INSERT>", "ogg", "<KEEP>", "player", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<INSERT>", "ogg", "<KEEP>", "player", "<KEEP>", ".", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8604276132979047, "using": 0, "keep": 1}
{"id": "rektide_jstyx-64-6503", "old_comment": "the name of the remote user", "old_comment_tokens": ["the", "name", "of", "the", "remote", "user"], "new_comment": "the remote user", "new_comment_tokens": ["the", "remote", "user"], "old_code": "public string get user ( ) { return user ; }", "old_code_tokens": ["public", "string", "get", "user", "(", ")", "{", "return", "user", ";", "}"], "new_code": "public user get user ( ) { return user ; }", "new_code_tokens": ["public", "user", "get", "user", "(", ")", "{", "return", "user", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> user <REPLACE_END> <KEEP> get user ( ) { return user ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "user", "<REPLACE_END>", "<KEEP>", "get", "user", "(", ")", "{", "return", "user", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> the name of <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "name", "of", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "user", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "user", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8032014922604499, "using": 0, "keep": 1}
{"id": "toddlipcon_hadoop-105-4018", "old_comment": "returns the number of servers that are serving the table", "old_comment_tokens": ["returns", "the", "number", "of", "servers", "that", "are", "serving", "the", "table"], "new_comment": "returns a map of starting row to table info", "new_comment_tokens": ["returns", "a", "map", "of", "starting", "row", "to", "table", "info"], "old_code": "private int scan one meta region ( table info t , text table name ) throws ioexception { hregion interface server = get hregion connection ( t . server address ) ; int servers = num ; long scanner id = - num ; try { scanner id = server . open scanner ( t . region info . region name , meta _ columns , table name ) ; data input buffer inbuf = new data input buffer ( ) ; while ( true ) { hregion info region info = null ; string server address = null ; hstore key key = new hstore key ( ) ; labelled data [ ] values = server . next ( scanner id , key ) ; if ( values . length = = num ) { if ( servers = = num ) { throw new no such element exception ( str + table name + str ) ; } break ; } byte [ ] bytes = null ; tree map < text , byte [ ] > results = new tree map < text , byte [ ] > ( ) ; for ( int i = num ; i < values . length ; i + + ) { bytes = new byte [ values [ i ] . get data ( ) . get size ( ) ] ; system . arraycopy ( values [ i ] . get data ( ) . get ( ) , num , bytes , num , bytes . length ) ; results . put ( values [ i ] . get label ( ) , bytes ) ; } region info = new hregion info ( ) ; bytes = results . get ( col _ regioninfo ) ; inbuf . reset ( bytes , bytes . length ) ; region info . read fields ( inbuf ) ; if ( ! region info . table desc . get name ( ) . equals ( table name ) ) { break ; } bytes = results . get ( col _ server ) ; if ( bytes = = null | | bytes . length = = num ) { if ( log . is debug enabled ( ) ) { log . debug ( str + region info . to string ( ) ) ; } servers = num ; this . table servers . clear ( ) ; break ; } servers + = num ; server address = new string ( bytes , utf8 _ encoding ) ; this . table servers . put ( region info . start key , new table info ( region info , new hserver address ( server address ) ) ) ; } return servers ; } finally { if ( scanner id ! = - num ) { server . close ( scanner id ) ; } } }", "old_code_tokens": ["private", "int", "scan", "one", "meta", "region", "(", "table", "info", "t", ",", "text", "table", "name", ")", "throws", "ioexception", "{", "hregion", "interface", "server", "=", "get", "hregion", "connection", "(", "t", ".", "server", "address", ")", ";", "int", "servers", "=", "num", ";", "long", "scanner", "id", "=", "-", "num", ";", "try", "{", "scanner", "id", "=", "server", ".", "open", "scanner", "(", "t", ".", "region", "info", ".", "region", "name", ",", "meta", "_", "columns", ",", "table", "name", ")", ";", "data", "input", "buffer", "inbuf", "=", "new", "data", "input", "buffer", "(", ")", ";", "while", "(", "true", ")", "{", "hregion", "info", "region", "info", "=", "null", ";", "string", "server", "address", "=", "null", ";", "hstore", "key", "key", "=", "new", "hstore", "key", "(", ")", ";", "labelled", "data", "[", "]", "values", "=", "server", ".", "next", "(", "scanner", "id", ",", "key", ")", ";", "if", "(", "values", ".", "length", "=", "=", "num", ")", "{", "if", "(", "servers", "=", "=", "num", ")", "{", "throw", "new", "no", "such", "element", "exception", "(", "str", "+", "table", "name", "+", "str", ")", ";", "}", "break", ";", "}", "byte", "[", "]", "bytes", "=", "null", ";", "tree", "map", "<", "text", ",", "byte", "[", "]", ">", "results", "=", "new", "tree", "map", "<", "text", ",", "byte", "[", "]", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "bytes", "=", "new", "byte", "[", "values", "[", "i", "]", ".", "get", "data", "(", ")", ".", "get", "size", "(", ")", "]", ";", "system", ".", "arraycopy", "(", "values", "[", "i", "]", ".", "get", "data", "(", ")", ".", "get", "(", ")", ",", "num", ",", "bytes", ",", "num", ",", "bytes", ".", "length", ")", ";", "results", ".", "put", "(", "values", "[", "i", "]", ".", "get", "label", "(", ")", ",", "bytes", ")", ";", "}", "region", "info", "=", "new", "hregion", "info", "(", ")", ";", "bytes", "=", "results", ".", "get", "(", "col", "_", "regioninfo", ")", ";", "inbuf", ".", "reset", "(", "bytes", ",", "bytes", ".", "length", ")", ";", "region", "info", ".", "read", "fields", "(", "inbuf", ")", ";", "if", "(", "!", "region", "info", ".", "table", "desc", ".", "get", "name", "(", ")", ".", "equals", "(", "table", "name", ")", ")", "{", "break", ";", "}", "bytes", "=", "results", ".", "get", "(", "col", "_", "server", ")", ";", "if", "(", "bytes", "=", "=", "null", "|", "|", "bytes", ".", "length", "=", "=", "num", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "region", "info", ".", "to", "string", "(", ")", ")", ";", "}", "servers", "=", "num", ";", "this", ".", "table", "servers", ".", "clear", "(", ")", ";", "break", ";", "}", "servers", "+", "=", "num", ";", "server", "address", "=", "new", "string", "(", "bytes", ",", "utf8", "_", "encoding", ")", ";", "this", ".", "table", "servers", ".", "put", "(", "region", "info", ".", "start", "key", ",", "new", "table", "info", "(", "region", "info", ",", "new", "hserver", "address", "(", "server", "address", ")", ")", ")", ";", "}", "return", "servers", ";", "}", "finally", "{", "if", "(", "scanner", "id", "!", "=", "-", "num", ")", "{", "server", ".", "close", "(", "scanner", "id", ")", ";", "}", "}", "}"], "new_code": "private tree map < text , table info > scan one meta region ( table info t , text table name ) throws ioexception { hregion interface server = get hregion connection ( t . server address ) ; tree map < text , table info > servers = new tree map < text , table info > ( ) ; for ( int tries = num ; servers . size ( ) = = num & & tries < this . num retries ; tries + + ) { long scanner id = - num ; try { scanner id = server . open scanner ( t . region info . region name , meta _ columns , table name ) ; data input buffer inbuf = new data input buffer ( ) ; while ( true ) { hregion info region info = null ; string server address = null ; hstore key key = new hstore key ( ) ; labelled data [ ] values = server . next ( scanner id , key ) ; if ( values . length = = num ) { if ( servers . size ( ) = = num ) { throw new no such element exception ( str + table name + str ) ; } break ; } byte [ ] bytes = null ; tree map < text , byte [ ] > results = new tree map < text , byte [ ] > ( ) ; for ( int i = num ; i < values . length ; i + + ) { bytes = new byte [ values [ i ] . get data ( ) . get size ( ) ] ; system . arraycopy ( values [ i ] . get data ( ) . get ( ) , num , bytes , num , bytes . length ) ; results . put ( values [ i ] . get label ( ) , bytes ) ; } region info = new hregion info ( ) ; bytes = results . get ( col _ regioninfo ) ; inbuf . reset ( bytes , bytes . length ) ; region info . read fields ( inbuf ) ; if ( ! region info . table desc . get name ( ) . equals ( table name ) ) { break ; } if ( region info . off line ) { throw new illegal state exception ( str + table name ) ; } bytes = results . get ( col _ server ) ; if ( bytes = = null | | bytes . length = = num ) { if ( log . is debug enabled ( ) ) { log . debug ( str + region info . to string ( ) ) ; } servers . clear ( ) ; break ; } server address = new string ( bytes , utf8 _ encoding ) ; servers . put ( region info . start key , new table info ( region info , new hserver address ( server address ) ) ) ; } } finally { if ( scanner id ! = - num ) { try { server . close ( scanner id ) ; } catch ( exception e ) { log . warn ( e ) ; } } } if ( servers . size ( ) = = num & & tries = = this . num retries - num ) { throw new no server for region exception ( str + table name + str + this . num retries + str ) ; } if ( log . is debug enabled ( ) ) { log . debug ( str + table name + str ) ; } try { thread . sleep ( this . client timeout ) ; } catch ( interrupted exception e ) { } if ( log . is debug enabled ( ) ) { log . debug ( str + table name ) ; } } return servers ; }", "new_code_tokens": ["private", "tree", "map", "<", "text", ",", "table", "info", ">", "scan", "one", "meta", "region", "(", "table", "info", "t", ",", "text", "table", "name", ")", "throws", "ioexception", "{", "hregion", "interface", "server", "=", "get", "hregion", "connection", "(", "t", ".", "server", "address", ")", ";", "tree", "map", "<", "text", ",", "table", "info", ">", "servers", "=", "new", "tree", "map", "<", "text", ",", "table", "info", ">", "(", ")", ";", "for", "(", "int", "tries", "=", "num", ";", "servers", ".", "size", "(", ")", "=", "=", "num", "&", "&", "tries", "<", "this", ".", "num", "retries", ";", "tries", "+", "+", ")", "{", "long", "scanner", "id", "=", "-", "num", ";", "try", "{", "scanner", "id", "=", "server", ".", "open", "scanner", "(", "t", ".", "region", "info", ".", "region", "name", ",", "meta", "_", "columns", ",", "table", "name", ")", ";", "data", "input", "buffer", "inbuf", "=", "new", "data", "input", "buffer", "(", ")", ";", "while", "(", "true", ")", "{", "hregion", "info", "region", "info", "=", "null", ";", "string", "server", "address", "=", "null", ";", "hstore", "key", "key", "=", "new", "hstore", "key", "(", ")", ";", "labelled", "data", "[", "]", "values", "=", "server", ".", "next", "(", "scanner", "id", ",", "key", ")", ";", "if", "(", "values", ".", "length", "=", "=", "num", ")", "{", "if", "(", "servers", ".", "size", "(", ")", "=", "=", "num", ")", "{", "throw", "new", "no", "such", "element", "exception", "(", "str", "+", "table", "name", "+", "str", ")", ";", "}", "break", ";", "}", "byte", "[", "]", "bytes", "=", "null", ";", "tree", "map", "<", "text", ",", "byte", "[", "]", ">", "results", "=", "new", "tree", "map", "<", "text", ",", "byte", "[", "]", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "bytes", "=", "new", "byte", "[", "values", "[", "i", "]", ".", "get", "data", "(", ")", ".", "get", "size", "(", ")", "]", ";", "system", ".", "arraycopy", "(", "values", "[", "i", "]", ".", "get", "data", "(", ")", ".", "get", "(", ")", ",", "num", ",", "bytes", ",", "num", ",", "bytes", ".", "length", ")", ";", "results", ".", "put", "(", "values", "[", "i", "]", ".", "get", "label", "(", ")", ",", "bytes", ")", ";", "}", "region", "info", "=", "new", "hregion", "info", "(", ")", ";", "bytes", "=", "results", ".", "get", "(", "col", "_", "regioninfo", ")", ";", "inbuf", ".", "reset", "(", "bytes", ",", "bytes", ".", "length", ")", ";", "region", "info", ".", "read", "fields", "(", "inbuf", ")", ";", "if", "(", "!", "region", "info", ".", "table", "desc", ".", "get", "name", "(", ")", ".", "equals", "(", "table", "name", ")", ")", "{", "break", ";", "}", "if", "(", "region", "info", ".", "off", "line", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "table", "name", ")", ";", "}", "bytes", "=", "results", ".", "get", "(", "col", "_", "server", ")", ";", "if", "(", "bytes", "=", "=", "null", "|", "|", "bytes", ".", "length", "=", "=", "num", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "region", "info", ".", "to", "string", "(", ")", ")", ";", "}", "servers", ".", "clear", "(", ")", ";", "break", ";", "}", "server", "address", "=", "new", "string", "(", "bytes", ",", "utf8", "_", "encoding", ")", ";", "servers", ".", "put", "(", "region", "info", ".", "start", "key", ",", "new", "table", "info", "(", "region", "info", ",", "new", "hserver", "address", "(", "server", "address", ")", ")", ")", ";", "}", "}", "finally", "{", "if", "(", "scanner", "id", "!", "=", "-", "num", ")", "{", "try", "{", "server", ".", "close", "(", "scanner", "id", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "warn", "(", "e", ")", ";", "}", "}", "}", "if", "(", "servers", ".", "size", "(", ")", "=", "=", "num", "&", "&", "tries", "=", "=", "this", ".", "num", "retries", "-", "num", ")", "{", "throw", "new", "no", "server", "for", "region", "exception", "(", "str", "+", "table", "name", "+", "str", "+", "this", ".", "num", "retries", "+", "str", ")", ";", "}", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "table", "name", "+", "str", ")", ";", "}", "try", "{", "thread", ".", "sleep", "(", "this", ".", "client", "timeout", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "table", "name", ")", ";", "}", "}", "return", "servers", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> tree map < text , table info > <REPLACE_END> <KEEP> scan one meta region ( table info t , text table name ) throws ioexception { hregion interface server = get hregion connection ( t . server address ) ; <KEEP_END> <INSERT> tree map < text , table info > servers = new tree map < text , table info > ( ) ; for ( <INSERT_END> <KEEP> int <KEEP_END> <INSERT> tries = num ; <INSERT_END> <KEEP> servers <KEEP_END> <REPLACE_OLD> = num ; <REPLACE_NEW> . size ( ) = = num & & tries < this . num retries ; tries + + ) { <REPLACE_END> <KEEP> long scanner id = - num ; try { scanner id = server . open scanner ( t . region info . region name , meta _ columns , table name ) ; data input buffer inbuf = new data input buffer ( ) ; while ( true ) { hregion info region info = null ; string server address = null ; hstore key key = new hstore key ( ) ; labelled data [ ] values = server . next ( scanner id , key ) ; if ( values . length = = num ) { if ( servers <KEEP_END> <INSERT> . size ( ) <INSERT_END> <KEEP> = = num ) { throw new no such element exception ( str + table name + str ) ; } break ; } byte [ ] bytes = null ; tree map < text , byte [ ] > results = new tree map < text , byte [ ] > ( ) ; for ( int i = num ; i < values . length ; i + + ) { bytes = new byte [ values [ i ] . get data ( ) . get size ( ) ] ; system . arraycopy ( values [ i ] . get data ( ) . get ( ) , num , bytes , num , bytes . length ) ; results . put ( values [ i ] . get label ( ) , bytes ) ; } region info = new hregion info ( ) ; bytes = results . get ( col _ regioninfo ) ; inbuf . reset ( bytes , bytes . length ) ; region info . read fields ( inbuf ) ; if ( ! region info . table desc . get name ( ) . equals ( table name ) ) { break ; } <KEEP_END> <INSERT> if ( region info . off line ) { throw new illegal state exception ( str + table name ) ; } <INSERT_END> <KEEP> bytes = results . get ( col _ server ) ; if ( bytes = = null | | bytes . length = = num ) { if ( log . is debug enabled ( ) ) { log . debug ( str + region info . to string ( ) ) ; } servers <KEEP_END> <DELETE> = num ; this . table servers <DELETE_END> <KEEP> . clear ( ) ; break ; } <KEEP_END> <DELETE> servers + = num ; <DELETE_END> <KEEP> server address = new string ( bytes , utf8 _ encoding ) ; <KEEP_END> <DELETE> this . table <DELETE_END> <KEEP> servers . put ( region info . start key , new table info ( region info , new hserver address ( server address ) ) ) ; } <KEEP_END> <DELETE> return servers ; <DELETE_END> <KEEP> } finally { if ( scanner id ! = - num ) { <KEEP_END> <INSERT> try { <INSERT_END> <KEEP> server . close ( scanner id ) ; } <KEEP_END> <REPLACE_OLD> } } <REPLACE_NEW> catch ( exception e ) { log . warn ( e ) ; } } } if ( servers . size ( ) = = num & & tries = = this . num retries - num ) { throw new no server for region exception ( str + table name + str + this . num retries + str ) ; } if ( log . is debug enabled ( ) ) { log . debug ( str + table name + str ) ; } try { thread . sleep ( this . client timeout ) ; } catch ( interrupted exception e ) { } if ( log . is debug enabled ( ) ) { log . debug ( str + table name ) ; } } return servers ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "tree", "map", "<", "text", ",", "table", "info", ">", "<REPLACE_END>", "<KEEP>", "scan", "one", "meta", "region", "(", "table", "info", "t", ",", "text", "table", "name", ")", "throws", "ioexception", "{", "hregion", "interface", "server", "=", "get", "hregion", "connection", "(", "t", ".", "server", "address", ")", ";", "<KEEP_END>", "<INSERT>", "tree", "map", "<", "text", ",", "table", "info", ">", "servers", "=", "new", "tree", "map", "<", "text", ",", "table", "info", ">", "(", ")", ";", "for", "(", "<INSERT_END>", "<KEEP>", "int", "<KEEP_END>", "<INSERT>", "tries", "=", "num", ";", "<INSERT_END>", "<KEEP>", "servers", "<KEEP_END>", "<REPLACE_OLD>", "=", "num", ";", "<REPLACE_NEW>", ".", "size", "(", ")", "=", "=", "num", "&", "&", "tries", "<", "this", ".", "num", "retries", ";", "tries", "+", "+", ")", "{", "<REPLACE_END>", "<KEEP>", "long", "scanner", "id", "=", "-", "num", ";", "try", "{", "scanner", "id", "=", "server", ".", "open", "scanner", "(", "t", ".", "region", "info", ".", "region", "name", ",", "meta", "_", "columns", ",", "table", "name", ")", ";", "data", "input", "buffer", "inbuf", "=", "new", "data", "input", "buffer", "(", ")", ";", "while", "(", "true", ")", "{", "hregion", "info", "region", "info", "=", "null", ";", "string", "server", "address", "=", "null", ";", "hstore", "key", "key", "=", "new", "hstore", "key", "(", ")", ";", "labelled", "data", "[", "]", "values", "=", "server", ".", "next", "(", "scanner", "id", ",", "key", ")", ";", "if", "(", "values", ".", "length", "=", "=", "num", ")", "{", "if", "(", "servers", "<KEEP_END>", "<INSERT>", ".", "size", "(", ")", "<INSERT_END>", "<KEEP>", "=", "=", "num", ")", "{", "throw", "new", "no", "such", "element", "exception", "(", "str", "+", "table", "name", "+", "str", ")", ";", "}", "break", ";", "}", "byte", "[", "]", "bytes", "=", "null", ";", "tree", "map", "<", "text", ",", "byte", "[", "]", ">", "results", "=", "new", "tree", "map", "<", "text", ",", "byte", "[", "]", ">", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "values", ".", "length", ";", "i", "+", "+", ")", "{", "bytes", "=", "new", "byte", "[", "values", "[", "i", "]", ".", "get", "data", "(", ")", ".", "get", "size", "(", ")", "]", ";", "system", ".", "arraycopy", "(", "values", "[", "i", "]", ".", "get", "data", "(", ")", ".", "get", "(", ")", ",", "num", ",", "bytes", ",", "num", ",", "bytes", ".", "length", ")", ";", "results", ".", "put", "(", "values", "[", "i", "]", ".", "get", "label", "(", ")", ",", "bytes", ")", ";", "}", "region", "info", "=", "new", "hregion", "info", "(", ")", ";", "bytes", "=", "results", ".", "get", "(", "col", "_", "regioninfo", ")", ";", "inbuf", ".", "reset", "(", "bytes", ",", "bytes", ".", "length", ")", ";", "region", "info", ".", "read", "fields", "(", "inbuf", ")", ";", "if", "(", "!", "region", "info", ".", "table", "desc", ".", "get", "name", "(", ")", ".", "equals", "(", "table", "name", ")", ")", "{", "break", ";", "}", "<KEEP_END>", "<INSERT>", "if", "(", "region", "info", ".", "off", "line", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "table", "name", ")", ";", "}", "<INSERT_END>", "<KEEP>", "bytes", "=", "results", ".", "get", "(", "col", "_", "server", ")", ";", "if", "(", "bytes", "=", "=", "null", "|", "|", "bytes", ".", "length", "=", "=", "num", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "region", "info", ".", "to", "string", "(", ")", ")", ";", "}", "servers", "<KEEP_END>", "<DELETE>", "=", "num", ";", "this", ".", "table", "servers", "<DELETE_END>", "<KEEP>", ".", "clear", "(", ")", ";", "break", ";", "}", "<KEEP_END>", "<DELETE>", "servers", "+", "=", "num", ";", "<DELETE_END>", "<KEEP>", "server", "address", "=", "new", "string", "(", "bytes", ",", "utf8", "_", "encoding", ")", ";", "<KEEP_END>", "<DELETE>", "this", ".", "table", "<DELETE_END>", "<KEEP>", "servers", ".", "put", "(", "region", "info", ".", "start", "key", ",", "new", "table", "info", "(", "region", "info", ",", "new", "hserver", "address", "(", "server", "address", ")", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "servers", ";", "<DELETE_END>", "<KEEP>", "}", "finally", "{", "if", "(", "scanner", "id", "!", "=", "-", "num", ")", "{", "<KEEP_END>", "<INSERT>", "try", "{", "<INSERT_END>", "<KEEP>", "server", ".", "close", "(", "scanner", "id", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "}", "}", "<REPLACE_NEW>", "catch", "(", "exception", "e", ")", "{", "log", ".", "warn", "(", "e", ")", ";", "}", "}", "}", "if", "(", "servers", ".", "size", "(", ")", "=", "=", "num", "&", "&", "tries", "=", "=", "this", ".", "num", "retries", "-", "num", ")", "{", "throw", "new", "no", "server", "for", "region", "exception", "(", "str", "+", "table", "name", "+", "str", "+", "this", ".", "num", "retries", "+", "str", ")", ";", "}", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "table", "name", "+", "str", ")", ";", "}", "try", "{", "thread", ".", "sleep", "(", "this", ".", "client", "timeout", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "table", "name", ")", ";", "}", "}", "return", "servers", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the number <REPLACE_NEW> a map <REPLACE_END> <REPLACE_OLD> servers that are serving the <REPLACE_NEW> starting row to <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> table <INSERT_NEW_KEEP_BEFORE> table info <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "number", "<REPLACE_NEW>", "a", "map", "<REPLACE_END>", "<REPLACE_OLD>", "servers", "that", "are", "serving", "the", "<REPLACE_NEW>", "starting", "row", "to", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "table", "<INSERT_NEW_KEEP_BEFORE>", "table", "info", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ">", "<KEEP>", "scan", "<KEEP>", "one", "<KEEP>", "meta", "<KEEP>", "region", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "info", "<KEEP>", "t", "<KEEP>", ",", "<KEEP>", "text", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "hregion", "<KEEP>", "interface", "<KEEP>", "server", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "hregion", "<KEEP>", "connection", "<KEEP>", "(", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "server", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "tree", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "text", "<INSERT>", ",", "<INSERT>", "table", "<INSERT>", "info", "<INSERT>", ">", "<INSERT>", "servers", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "tree", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "text", "<INSERT>", ",", "<INSERT>", "table", "<INSERT>", "info", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "for", "<INSERT>", "(", "<KEEP>", "int", "<INSERT>", "tries", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<KEEP>", "servers", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "tries", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "retries", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "tries", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "long", "<KEEP>", "scanner", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "scanner", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "open", "<KEEP>", "scanner", "<KEEP>", "(", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "meta", "<KEEP>", "_", "<KEEP>", "columns", "<KEEP>", ",", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "data", "<KEEP>", "input", "<KEEP>", "buffer", "<KEEP>", "inbuf", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "data", "<KEEP>", "input", "<KEEP>", "buffer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "hregion", "<KEEP>", "info", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "server", "<KEEP>", "address", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "hstore", "<KEEP>", "key", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hstore", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "labelled", "<KEEP>", "data", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "values", "<KEEP>", "=", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", "scanner", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "servers", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "no", "<KEEP>", "such", "<KEEP>", "element", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "tree", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "text", "<KEEP>", ",", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ">", "<KEEP>", "results", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "tree", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "text", "<KEEP>", ",", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "arraycopy", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "values", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "label", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hregion", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "col", "<KEEP>", "_", "<KEEP>", "regioninfo", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "inbuf", "<KEEP>", ".", "<KEEP>", "reset", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "fields", "<KEEP>", "(", "<KEEP>", "inbuf", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "table", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "region", "<INSERT>", "info", "<INSERT>", ".", "<INSERT>", "off", "<INSERT>", "line", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "table", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "results", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "col", "<KEEP>", "_", "<KEEP>", "server", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "servers", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "table", "<DELETE>", "servers", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "servers", "<DELETE>", "+", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<KEEP>", "server", "<KEEP>", "address", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ",", "<KEEP>", "utf8", "<KEEP>", "_", "<KEEP>", "encoding", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "table", "<KEEP>", "servers", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "start", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "table", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "region", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "hserver", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", "server", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "servers", "<DELETE>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "scanner", "<KEEP>", "id", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "try", "<INSERT>", "{", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", "scanner", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "warn", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "servers", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "tries", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "retries", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "no", "<REPLACE_NEW>", "server", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "retries", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "debug", "<REPLACE_NEW>", "enabled", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "debug", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "thread", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "sleep", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "client", "<REPLACE_NEW>", "timeout", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "interrupted", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "debug", "<REPLACE_NEW>", "enabled", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "debug", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "servers", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8404043727814346, "using": 2, "keep": 1}
{"id": "nuxeo_nuxeo-connect-4-3799", "old_comment": "null if no entry in cache or if entry is expired", "old_comment_tokens": ["null", "if", "no", "entry", "in", "cache", "or", "if", "entry", "is", "expired"], "new_comment": "an empty list if no entry in cache or if entry is expired", "new_comment_tokens": ["an", "empty", "list", "if", "no", "entry", "in", "cache", "or", "if", "entry", "is", "expired"], "old_code": "public list < downloadable package > get from cache ( string type ) { package list cache entry entry = cache . get ( type ) ; if ( entry = = null | | is expired ( entry ) ) { return null ; } return entry . get packages ( ) ; }", "old_code_tokens": ["public", "list", "<", "downloadable", "package", ">", "get", "from", "cache", "(", "string", "type", ")", "{", "package", "list", "cache", "entry", "entry", "=", "cache", ".", "get", "(", "type", ")", ";", "if", "(", "entry", "=", "=", "null", "|", "|", "is", "expired", "(", "entry", ")", ")", "{", "return", "null", ";", "}", "return", "entry", ".", "get", "packages", "(", ")", ";", "}"], "new_code": "public list < downloadable package > get from cache ( string type ) { package list cache entry entry = cache . get ( type ) ; if ( entry = = null | | is expired ( entry ) ) { return new array list < > ( ) ; } return entry . get packages ( ) ; }", "new_code_tokens": ["public", "list", "<", "downloadable", "package", ">", "get", "from", "cache", "(", "string", "type", ")", "{", "package", "list", "cache", "entry", "entry", "=", "cache", ".", "get", "(", "type", ")", ";", "if", "(", "entry", "=", "=", "null", "|", "|", "is", "expired", "(", "entry", ")", ")", "{", "return", "new", "array", "list", "<", ">", "(", ")", ";", "}", "return", "entry", ".", "get", "packages", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public list < downloadable package > get from cache ( string type ) { package list cache entry entry = cache . get ( type ) ; if ( entry = = null | | is expired ( entry ) ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new array list < > ( ) <REPLACE_END> <KEEP> ; } return entry . get packages ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "downloadable", "package", ">", "get", "from", "cache", "(", "string", "type", ")", "{", "package", "list", "cache", "entry", "entry", "=", "cache", ".", "get", "(", "type", ")", ";", "if", "(", "entry", "=", "=", "null", "|", "|", "is", "expired", "(", "entry", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "array", "list", "<", ">", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "entry", ".", "get", "packages", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> an empty list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "an", "empty", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "downloadable", "<KEEP>", "package", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "cache", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "package", "<KEEP>", "list", "<KEEP>", "cache", "<KEEP>", "entry", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "cache", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "is", "<KEEP>", "expired", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "packages", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.879576938176384, "using": 1, "keep": 1}
{"id": "Angel-ML_angel-1-1282", "old_comment": "tvector merged row", "old_comment_tokens": ["tvector", "merged", "row"], "new_comment": "vector merged row", "new_comment_tokens": ["vector", "merged", "row"], "old_code": "public static tvector combine row splits pipeline ( get row pipeline cache cache , int matrix id , int row index ) throws exception { matrix meta matrix meta = psagent context . get ( ) . get matrix meta manager ( ) . get matrix meta ( matrix id ) ; row type row type = matrix meta . get row type ( ) ; switch ( row type ) { case t _ double _ dense : return combine dense double row splits ( cache , matrix meta , row index ) ; case t _ double _ sparse : return combine server sparse double row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ double _ sparse _ longkey : return combine server sparse double long key row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ float _ sparse : return combine server sparse float row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ int _ dense : return combine dense int row splits ( cache , matrix meta , row index ) ; case t _ float _ dense : return combine dense float row splits ( cache , matrix meta , row index ) ; case t _ int _ sparse : return combine server sparse int row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ double _ sparse _ component : return combine component server sparse double row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ float _ sparse _ component : return combine component server sparse float row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ int _ sparse _ component : return combine component server sparse int row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ double _ sparse _ longkey _ component : return combine comp server sparse double long key row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; default : throw new unsupported operation exception ( str + row type + str ) ; } }", "old_code_tokens": ["public", "static", "tvector", "combine", "row", "splits", "pipeline", "(", "get", "row", "pipeline", "cache", "cache", ",", "int", "matrix", "id", ",", "int", "row", "index", ")", "throws", "exception", "{", "matrix", "meta", "matrix", "meta", "=", "psagent", "context", ".", "get", "(", ")", ".", "get", "matrix", "meta", "manager", "(", ")", ".", "get", "matrix", "meta", "(", "matrix", "id", ")", ";", "row", "type", "row", "type", "=", "matrix", "meta", ".", "get", "row", "type", "(", ")", ";", "switch", "(", "row", "type", ")", "{", "case", "t", "_", "double", "_", "dense", ":", "return", "combine", "dense", "double", "row", "splits", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", ":", "return", "combine", "server", "sparse", "double", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", "_", "longkey", ":", "return", "combine", "server", "sparse", "double", "long", "key", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "sparse", ":", "return", "combine", "server", "sparse", "float", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "dense", ":", "return", "combine", "dense", "int", "row", "splits", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "dense", ":", "return", "combine", "dense", "float", "row", "splits", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "sparse", ":", "return", "combine", "server", "sparse", "int", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", "_", "component", ":", "return", "combine", "component", "server", "sparse", "double", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "sparse", "_", "component", ":", "return", "combine", "component", "server", "sparse", "float", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "sparse", "_", "component", ":", "return", "combine", "component", "server", "sparse", "int", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", "_", "longkey", "_", "component", ":", "return", "combine", "comp", "server", "sparse", "double", "long", "key", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "default", ":", "throw", "new", "unsupported", "operation", "exception", "(", "str", "+", "row", "type", "+", "str", ")", ";", "}", "}"], "new_code": "public static vector combine row splits pipeline ( get row pipeline cache cache , int matrix id , int row index ) throws exception { matrix meta matrix meta = psagent context . get ( ) . get matrix meta manager ( ) . get matrix meta ( matrix id ) ; row type row type = matrix meta . get row type ( ) ; switch ( row type ) { case t _ double _ dense : return combine server dense double row splits pipeline ( cache , matrix meta , row index ) ; case t _ float _ dense : return combine server dense float row splits pipeline ( cache , matrix meta , row index ) ; case t _ int _ dense : return combine server dense int row splits pipeline ( cache , matrix meta , row index ) ; case t _ long _ dense : return combine server dense long row splits pipeline ( cache , matrix meta , row index ) ; default : return combine server row splits ( get all row splits from cache ( cache ) , matrix id , row index ) ; } }", "new_code_tokens": ["public", "static", "vector", "combine", "row", "splits", "pipeline", "(", "get", "row", "pipeline", "cache", "cache", ",", "int", "matrix", "id", ",", "int", "row", "index", ")", "throws", "exception", "{", "matrix", "meta", "matrix", "meta", "=", "psagent", "context", ".", "get", "(", ")", ".", "get", "matrix", "meta", "manager", "(", ")", ".", "get", "matrix", "meta", "(", "matrix", "id", ")", ";", "row", "type", "row", "type", "=", "matrix", "meta", ".", "get", "row", "type", "(", ")", ";", "switch", "(", "row", "type", ")", "{", "case", "t", "_", "double", "_", "dense", ":", "return", "combine", "server", "dense", "double", "row", "splits", "pipeline", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "dense", ":", "return", "combine", "server", "dense", "float", "row", "splits", "pipeline", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "dense", ":", "return", "combine", "server", "dense", "int", "row", "splits", "pipeline", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "long", "_", "dense", ":", "return", "combine", "server", "dense", "long", "row", "splits", "pipeline", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "default", ":", "return", "combine", "server", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "id", ",", "row", "index", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> tvector <REPLACE_NEW> vector <REPLACE_END> <KEEP> combine row splits pipeline ( get row pipeline cache cache , int matrix id , int row index ) throws exception { matrix meta matrix meta = psagent context . get ( ) . get matrix meta manager ( ) . get matrix meta ( matrix id ) ; row type row type = matrix meta . get row type ( ) ; switch ( row type ) { case t _ double _ dense : return combine <KEEP_END> <INSERT> server <INSERT_END> <KEEP> dense double row splits <KEEP_END> <REPLACE_OLD> ( cache , matrix meta , row index ) ; case t _ double _ sparse : return combine server sparse double row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ double _ sparse _ longkey : return combine server sparse double long key row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ float _ sparse : return combine server sparse float row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ int _ dense : return combine dense int row splits <REPLACE_NEW> pipeline <REPLACE_END> <KEEP> ( cache , matrix meta , row index ) ; case t _ float _ dense : return combine <KEEP_END> <INSERT> server <INSERT_END> <KEEP> dense float row splits <KEEP_END> <INSERT> pipeline <INSERT_END> <KEEP> ( cache , matrix meta , row index ) ; case t _ int _ <KEEP_END> <REPLACE_OLD> sparse <REPLACE_NEW> dense <REPLACE_END> <KEEP> : return combine server <KEEP_END> <REPLACE_OLD> sparse <REPLACE_NEW> dense <REPLACE_END> <KEEP> int <KEEP_END> <INSERT> row splits pipeline ( cache , matrix meta , row index ) ; case t _ long _ dense : return combine server dense long row splits pipeline ( cache , matrix meta , row index ) ; default : return combine server <INSERT_END> <KEEP> row splits ( get all row splits from cache ( cache ) , matrix <KEEP_END> <REPLACE_OLD> meta <REPLACE_NEW> id <REPLACE_END> <KEEP> , row index ) ; <KEEP_END> <DELETE> case t _ double _ sparse _ component : return combine component server sparse double row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ float _ sparse _ component : return combine component server sparse float row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ int _ sparse _ component : return combine component server sparse int row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; case t _ double _ sparse _ longkey _ component : return combine comp server sparse double long key row splits ( get all row splits from cache ( cache ) , matrix meta , row index ) ; default : throw new unsupported operation exception ( str + row type + str ) ; <DELETE_END> <KEEP> } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "tvector", "<REPLACE_NEW>", "vector", "<REPLACE_END>", "<KEEP>", "combine", "row", "splits", "pipeline", "(", "get", "row", "pipeline", "cache", "cache", ",", "int", "matrix", "id", ",", "int", "row", "index", ")", "throws", "exception", "{", "matrix", "meta", "matrix", "meta", "=", "psagent", "context", ".", "get", "(", ")", ".", "get", "matrix", "meta", "manager", "(", ")", ".", "get", "matrix", "meta", "(", "matrix", "id", ")", ";", "row", "type", "row", "type", "=", "matrix", "meta", ".", "get", "row", "type", "(", ")", ";", "switch", "(", "row", "type", ")", "{", "case", "t", "_", "double", "_", "dense", ":", "return", "combine", "<KEEP_END>", "<INSERT>", "server", "<INSERT_END>", "<KEEP>", "dense", "double", "row", "splits", "<KEEP_END>", "<REPLACE_OLD>", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", ":", "return", "combine", "server", "sparse", "double", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", "_", "longkey", ":", "return", "combine", "server", "sparse", "double", "long", "key", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "sparse", ":", "return", "combine", "server", "sparse", "float", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "dense", ":", "return", "combine", "dense", "int", "row", "splits", "<REPLACE_NEW>", "pipeline", "<REPLACE_END>", "<KEEP>", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "dense", ":", "return", "combine", "<KEEP_END>", "<INSERT>", "server", "<INSERT_END>", "<KEEP>", "dense", "float", "row", "splits", "<KEEP_END>", "<INSERT>", "pipeline", "<INSERT_END>", "<KEEP>", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "<KEEP_END>", "<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<REPLACE_END>", "<KEEP>", ":", "return", "combine", "server", "<KEEP_END>", "<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<REPLACE_END>", "<KEEP>", "int", "<KEEP_END>", "<INSERT>", "row", "splits", "pipeline", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "long", "_", "dense", ":", "return", "combine", "server", "dense", "long", "row", "splits", "pipeline", "(", "cache", ",", "matrix", "meta", ",", "row", "index", ")", ";", "default", ":", "return", "combine", "server", "<INSERT_END>", "<KEEP>", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "<KEEP_END>", "<REPLACE_OLD>", "meta", "<REPLACE_NEW>", "id", "<REPLACE_END>", "<KEEP>", ",", "row", "index", ")", ";", "<KEEP_END>", "<DELETE>", "case", "t", "_", "double", "_", "sparse", "_", "component", ":", "return", "combine", "component", "server", "sparse", "double", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "float", "_", "sparse", "_", "component", ":", "return", "combine", "component", "server", "sparse", "float", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "int", "_", "sparse", "_", "component", ":", "return", "combine", "component", "server", "sparse", "int", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "case", "t", "_", "double", "_", "sparse", "_", "longkey", "_", "component", ":", "return", "combine", "comp", "server", "sparse", "double", "long", "key", "row", "splits", "(", "get", "all", "row", "splits", "from", "cache", "(", "cache", ")", ",", "matrix", "meta", ",", "row", "index", ")", ";", "default", ":", "throw", "new", "unsupported", "operation", "exception", "(", "str", "+", "row", "type", "+", "str", ")", ";", "<DELETE_END>", "<KEEP>", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> tvector <REPLACE_NEW> vector <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "tvector", "<REPLACE_NEW>", "vector", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "tvector", "<REPLACE_NEW>", "vector", "<KEEP>", "combine", "<KEEP>", "row", "<KEEP>", "splits", "<KEEP>", "pipeline", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "pipeline", "<KEEP>", "cache", "<KEEP>", "cache", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "matrix", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "row", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", "=", "<KEEP>", "psagent", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", "(", "<KEEP>", "matrix", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "double", "<KEEP>", "_", "<KEEP>", "dense", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "combine", "<INSERT>", "server", "<KEEP>", "dense", "<KEEP>", "double", "<KEEP>", "row", "<KEEP>", "splits", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "matrix", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "sparse", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "combine", "<REPLACE_OLD>", "server", "<REPLACE_OLD>", "sparse", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "matrix", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "sparse", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "longkey", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "combine", "<REPLACE_OLD>", "server", "<REPLACE_OLD>", "sparse", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "matrix", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "sparse", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "combine", "<REPLACE_OLD>", "server", "<REPLACE_OLD>", "sparse", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "matrix", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "dense", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "combine", "<REPLACE_OLD>", "dense", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "splits", "<REPLACE_NEW>", "pipeline", "<KEEP>", "(", "<KEEP>", "cache", "<KEEP>", ",", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", ",", "<KEEP>", "row", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "float", "<KEEP>", "_", "<KEEP>", "dense", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "combine", "<INSERT>", "server", "<KEEP>", "dense", "<KEEP>", "float", "<KEEP>", "row", "<KEEP>", "splits", "<INSERT>", "pipeline", "<KEEP>", "(", "<KEEP>", "cache", "<KEEP>", ",", "<KEEP>", "matrix", "<KEEP>", "meta", "<KEEP>", ",", "<KEEP>", "row", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "t", "<KEEP>", "_", "<KEEP>", "int", "<KEEP>", "_", "<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<KEEP>", ":", "<KEEP>", "return", "<KEEP>", "combine", "<KEEP>", "server", "<REPLACE_OLD>", "sparse", "<REPLACE_NEW>", "dense", "<KEEP>", "int", "<INSERT>", "row", "<INSERT>", "splits", "<INSERT>", "pipeline", "<INSERT>", "(", "<INSERT>", "cache", "<INSERT>", ",", "<INSERT>", "matrix", "<INSERT>", "meta", "<INSERT>", ",", "<INSERT>", "row", "<INSERT>", "index", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "case", "<INSERT>", "t", "<INSERT>", "_", "<INSERT>", "long", "<INSERT>", "_", "<INSERT>", "dense", "<INSERT>", ":", "<INSERT>", "return", "<INSERT>", "combine", "<INSERT>", "server", "<INSERT>", "dense", "<INSERT>", "long", "<INSERT>", "row", "<INSERT>", "splits", "<INSERT>", "pipeline", "<INSERT>", "(", "<INSERT>", "cache", "<INSERT>", ",", "<INSERT>", "matrix", "<INSERT>", "meta", "<INSERT>", ",", "<INSERT>", "row", "<INSERT>", "index", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "default", "<INSERT>", ":", "<INSERT>", "return", "<INSERT>", "combine", "<INSERT>", "server", "<KEEP>", "row", "<KEEP>", "splits", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "row", "<KEEP>", "splits", "<KEEP>", "from", "<KEEP>", "cache", "<KEEP>", "(", "<KEEP>", "cache", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "matrix", "<REPLACE_OLD>", "meta", "<REPLACE_NEW>", "id", "<KEEP>", ",", "<KEEP>", "row", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "case", "<DELETE>", "t", "<DELETE>", "_", "<DELETE>", "double", "<DELETE>", "_", "<DELETE>", "sparse", "<DELETE>", "_", "<DELETE>", "component", "<DELETE>", ":", "<DELETE>", "return", "<DELETE>", "combine", "<DELETE>", "component", "<DELETE>", "server", "<DELETE>", "sparse", "<DELETE>", "double", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "all", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "from", "<DELETE>", "cache", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "matrix", "<DELETE>", "meta", "<DELETE>", ",", "<DELETE>", "row", "<DELETE>", "index", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "t", "<DELETE>", "_", "<DELETE>", "float", "<DELETE>", "_", "<DELETE>", "sparse", "<DELETE>", "_", "<DELETE>", "component", "<DELETE>", ":", "<DELETE>", "return", "<DELETE>", "combine", "<DELETE>", "component", "<DELETE>", "server", "<DELETE>", "sparse", "<DELETE>", "float", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "all", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "from", "<DELETE>", "cache", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "matrix", "<DELETE>", "meta", "<DELETE>", ",", "<DELETE>", "row", "<DELETE>", "index", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "t", "<DELETE>", "_", "<DELETE>", "int", "<DELETE>", "_", "<DELETE>", "sparse", "<DELETE>", "_", "<DELETE>", "component", "<DELETE>", ":", "<DELETE>", "return", "<DELETE>", "combine", "<DELETE>", "component", "<DELETE>", "server", "<DELETE>", "sparse", "<DELETE>", "int", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "all", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "from", "<DELETE>", "cache", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "matrix", "<DELETE>", "meta", "<DELETE>", ",", "<DELETE>", "row", "<DELETE>", "index", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "t", "<DELETE>", "_", "<DELETE>", "double", "<DELETE>", "_", "<DELETE>", "sparse", "<DELETE>", "_", "<DELETE>", "longkey", "<DELETE>", "_", "<DELETE>", "component", "<DELETE>", ":", "<DELETE>", "return", "<DELETE>", "combine", "<DELETE>", "comp", "<DELETE>", "server", "<DELETE>", "sparse", "<DELETE>", "double", "<DELETE>", "long", "<DELETE>", "key", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "all", "<DELETE>", "row", "<DELETE>", "splits", "<DELETE>", "from", "<DELETE>", "cache", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "matrix", "<DELETE>", "meta", "<DELETE>", ",", "<DELETE>", "row", "<DELETE>", "index", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "default", "<DELETE>", ":", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "unsupported", "<DELETE>", "operation", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "row", "<DELETE>", "type", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9487093295029615, "using": 2, "keep": 1}
{"id": "apache_streams-20-4089", "old_comment": "org . apache . streams . pojo . json . actor", "old_comment_tokens": ["org", ".", "apache", ".", "streams", ".", "pojo", ".", "json", ".", "actor"], "new_comment": "org . apache . streams . pojo . json . activity object", "new_comment_tokens": ["org", ".", "apache", ".", "streams", ".", "pojo", ".", "json", ".", "activity", "object"], "old_code": "public static actor build actor ( post post ) { actor actor = new actor ( ) ; try { actor . set id ( format id ( optional . from nullable ( post . get from ( ) . get id ( ) ) . or ( optional . of ( post . get from ( ) . get id ( ) ) ) . or null ( ) ) ) ; actor . set display name ( post . get from ( ) . get name ( ) ) ; actor . set additional property ( str , post . get from ( ) . get name ( ) ) ; } catch ( exception e ) { logger . error ( str , post , e ) ; } return actor ; }", "old_code_tokens": ["public", "static", "actor", "build", "actor", "(", "post", "post", ")", "{", "actor", "actor", "=", "new", "actor", "(", ")", ";", "try", "{", "actor", ".", "set", "id", "(", "format", "id", "(", "optional", ".", "from", "nullable", "(", "post", ".", "get", "from", "(", ")", ".", "get", "id", "(", ")", ")", ".", "or", "(", "optional", ".", "of", "(", "post", ".", "get", "from", "(", ")", ".", "get", "id", "(", ")", ")", ")", ".", "or", "null", "(", ")", ")", ")", ";", "actor", ".", "set", "display", "name", "(", "post", ".", "get", "from", "(", ")", ".", "get", "name", "(", ")", ")", ";", "actor", ".", "set", "additional", "property", "(", "str", ",", "post", ".", "get", "from", "(", ")", ".", "get", "name", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "post", ",", "e", ")", ";", "}", "return", "actor", ";", "}"], "new_code": "public static activity object build actor ( post post ) { activity object actor = new activity object ( ) ; try { actor . set id ( format id ( optional . from nullable ( post . get from ( ) . get id ( ) ) . or ( optional . of ( post . get from ( ) . get id ( ) ) ) . or null ( ) ) ) ; actor . set display name ( post . get from ( ) . get name ( ) ) ; actor . set additional property ( str , post . get from ( ) . get name ( ) ) ; } catch ( exception e ) { logger . error ( str , post , e ) ; } return actor ; }", "new_code_tokens": ["public", "static", "activity", "object", "build", "actor", "(", "post", "post", ")", "{", "activity", "object", "actor", "=", "new", "activity", "object", "(", ")", ";", "try", "{", "actor", ".", "set", "id", "(", "format", "id", "(", "optional", ".", "from", "nullable", "(", "post", ".", "get", "from", "(", ")", ".", "get", "id", "(", ")", ")", ".", "or", "(", "optional", ".", "of", "(", "post", ".", "get", "from", "(", ")", ".", "get", "id", "(", ")", ")", ")", ".", "or", "null", "(", ")", ")", ")", ";", "actor", ".", "set", "display", "name", "(", "post", ".", "get", "from", "(", ")", ".", "get", "name", "(", ")", ")", ";", "actor", ".", "set", "additional", "property", "(", "str", ",", "post", ".", "get", "from", "(", ")", ".", "get", "name", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "post", ",", "e", ")", ";", "}", "return", "actor", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> actor <REPLACE_NEW> activity object <REPLACE_END> <KEEP> build actor ( post post ) { <KEEP_END> <REPLACE_OLD> actor <REPLACE_NEW> activity object <REPLACE_END> <KEEP> actor = new <KEEP_END> <REPLACE_OLD> actor <REPLACE_NEW> activity object <REPLACE_END> <KEEP> ( ) ; try { actor . set id ( format id ( optional . from nullable ( post . get from ( ) . get id ( ) ) . or ( optional . of ( post . get from ( ) . get id ( ) ) ) . or null ( ) ) ) ; actor . set display name ( post . get from ( ) . get name ( ) ) ; actor . set additional property ( str , post . get from ( ) . get name ( ) ) ; } catch ( exception e ) { logger . error ( str , post , e ) ; } return actor ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "object", "<REPLACE_END>", "<KEEP>", "build", "actor", "(", "post", "post", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "object", "<REPLACE_END>", "<KEEP>", "actor", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "object", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "try", "{", "actor", ".", "set", "id", "(", "format", "id", "(", "optional", ".", "from", "nullable", "(", "post", ".", "get", "from", "(", ")", ".", "get", "id", "(", ")", ")", ".", "or", "(", "optional", ".", "of", "(", "post", ".", "get", "from", "(", ")", ".", "get", "id", "(", ")", ")", ")", ".", "or", "null", "(", ")", ")", ")", ";", "actor", ".", "set", "display", "name", "(", "post", ".", "get", "from", "(", ")", ".", "get", "name", "(", ")", ")", ";", "actor", ".", "set", "additional", "property", "(", "str", ",", "post", ".", "get", "from", "(", ")", ".", "get", "name", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "post", ",", "e", ")", ";", "}", "return", "actor", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> actor <REPLACE_NEW> activity object <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "object", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "object", "<KEEP>", "build", "<KEEP>", "actor", "<KEEP>", "(", "<KEEP>", "post", "<KEEP>", "post", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "object", "<KEEP>", "actor", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "actor", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "object", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "actor", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "format", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "nullable", "<KEEP>", "(", "<KEEP>", "post", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "or", "<KEEP>", "(", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "post", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "or", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "actor", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "display", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "post", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "actor", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "additional", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "post", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "post", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "actor", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9916824439309332, "using": 2, "keep": 1}
{"id": "linkedin_rest.li-88-3053", "old_comment": "reference to the newly minted partial rest response object .", "old_comment_tokens": ["reference", "to", "the", "newly", "minted", "partial", "rest", "response", "object", "."], "new_comment": "reference to the newly minted rest li response object .", "new_comment_tokens": ["reference", "to", "the", "newly", "minted", "rest", "li", "response", "object", "."], "old_code": "public partial rest response build ( ) { if ( _ record instanceof id response ) { final id response < ? > id response = ( id response < ? > ) _ record ; final object key = id response . get id ( ) ; if ( key ! = null ) { final protocol version protocol version = protocol version util . extract protocol version ( _ headers ) ; _ headers . put ( header util . get id header name ( protocol version ) , uriparam utils . encode key for header ( key , protocol version ) ) ; } } return new partial rest response ( _ status , _ record , _ headers , _ cookies ) ; }", "old_code_tokens": ["public", "partial", "rest", "response", "build", "(", ")", "{", "if", "(", "_", "record", "instanceof", "id", "response", ")", "{", "final", "id", "response", "<", "?", ">", "id", "response", "=", "(", "id", "response", "<", "?", ">", ")", "_", "record", ";", "final", "object", "key", "=", "id", "response", ".", "get", "id", "(", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "final", "protocol", "version", "protocol", "version", "=", "protocol", "version", "util", ".", "extract", "protocol", "version", "(", "_", "headers", ")", ";", "_", "headers", ".", "put", "(", "header", "util", ".", "get", "id", "header", "name", "(", "protocol", "version", ")", ",", "uriparam", "utils", ".", "encode", "key", "for", "header", "(", "key", ",", "protocol", "version", ")", ")", ";", "}", "}", "return", "new", "partial", "rest", "response", "(", "_", "status", ",", "_", "record", ",", "_", "headers", ",", "_", "cookies", ")", ";", "}"], "new_code": "public rest li response build ( ) { if ( _ record instanceof id response ) { final id response < ? > id response = ( id response < ? > ) _ record ; final object key = id response . get id ( ) ; if ( key ! = null ) { final protocol version protocol version = protocol version util . extract protocol version ( _ headers ) ; _ headers . put ( header util . get id header name ( protocol version ) , uriparam utils . encode key for header ( key , protocol version ) ) ; } } return new rest li response ( _ status , _ record , _ headers , _ cookies ) ; }", "new_code_tokens": ["public", "rest", "li", "response", "build", "(", ")", "{", "if", "(", "_", "record", "instanceof", "id", "response", ")", "{", "final", "id", "response", "<", "?", ">", "id", "response", "=", "(", "id", "response", "<", "?", ">", ")", "_", "record", ";", "final", "object", "key", "=", "id", "response", ".", "get", "id", "(", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "final", "protocol", "version", "protocol", "version", "=", "protocol", "version", "util", ".", "extract", "protocol", "version", "(", "_", "headers", ")", ";", "_", "headers", ".", "put", "(", "header", "util", ".", "get", "id", "header", "name", "(", "protocol", "version", ")", ",", "uriparam", "utils", ".", "encode", "key", "for", "header", "(", "key", ",", "protocol", "version", ")", ")", ";", "}", "}", "return", "new", "rest", "li", "response", "(", "_", "status", ",", "_", "record", ",", "_", "headers", ",", "_", "cookies", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> partial <DELETE_END> <KEEP> rest <KEEP_END> <INSERT> li <INSERT_END> <KEEP> response build ( ) { if ( _ record instanceof id response ) { final id response < ? > id response = ( id response < ? > ) _ record ; final object key = id response . get id ( ) ; if ( key ! = null ) { final protocol version protocol version = protocol version util . extract protocol version ( _ headers ) ; _ headers . put ( header util . get id header name ( protocol version ) , uriparam utils . encode key for header ( key , protocol version ) ) ; } } return new <KEEP_END> <DELETE> partial <DELETE_END> <KEEP> rest <KEEP_END> <INSERT> li <INSERT_END> <KEEP> response ( _ status , _ record , _ headers , _ cookies ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "partial", "<DELETE_END>", "<KEEP>", "rest", "<KEEP_END>", "<INSERT>", "li", "<INSERT_END>", "<KEEP>", "response", "build", "(", ")", "{", "if", "(", "_", "record", "instanceof", "id", "response", ")", "{", "final", "id", "response", "<", "?", ">", "id", "response", "=", "(", "id", "response", "<", "?", ">", ")", "_", "record", ";", "final", "object", "key", "=", "id", "response", ".", "get", "id", "(", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "final", "protocol", "version", "protocol", "version", "=", "protocol", "version", "util", ".", "extract", "protocol", "version", "(", "_", "headers", ")", ";", "_", "headers", ".", "put", "(", "header", "util", ".", "get", "id", "header", "name", "(", "protocol", "version", ")", ",", "uriparam", "utils", ".", "encode", "key", "for", "header", "(", "key", ",", "protocol", "version", ")", ")", ";", "}", "}", "return", "new", "<KEEP_END>", "<DELETE>", "partial", "<DELETE_END>", "<KEEP>", "rest", "<KEEP_END>", "<INSERT>", "li", "<INSERT_END>", "<KEEP>", "response", "(", "_", "status", ",", "_", "record", ",", "_", "headers", ",", "_", "cookies", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> partial <DELETE_END> <INSERT_OLD_KEEP_BEFORE> rest <INSERT_NEW_KEEP_BEFORE> rest li <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "partial", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "rest", "<INSERT_NEW_KEEP_BEFORE>", "rest", "li", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "partial", "<KEEP>", "rest", "<INSERT>", "li", "<KEEP>", "response", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", "instanceof", "<KEEP>", "id", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "id", "<KEEP>", "response", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "id", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", "response", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "object", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "id", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "extract", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "headers", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "header", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "header", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "uriparam", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "encode", "<KEEP>", "key", "<KEEP>", "for", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "protocol", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<DELETE>", "partial", "<KEEP>", "rest", "<INSERT>", "li", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "status", "<KEEP>", ",", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", ",", "<KEEP>", "_", "<KEEP>", "headers", "<KEEP>", ",", "<KEEP>", "_", "<KEEP>", "cookies", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.85182459078158, "using": 1, "keep": 1}
{"id": "LMAX-Exchange_disruptor-20-3698", "old_comment": "the updated sequence batch .", "old_comment_tokens": ["the", "updated", "sequence", "batch", "."], "new_comment": "the updated batch descriptor .", "new_comment_tokens": ["the", "updated", "batch", "descriptor", "."], "old_code": "public sequence batch next ( final sequence batch sequence batch ) { if ( null = = gating sequences ) { throw new null pointer exception ( str ) ; } final long sequence = claim strategy . increment and get ( sequence batch . get size ( ) , gating sequences ) ; sequence batch . set end ( sequence ) ; return sequence batch ; }", "old_code_tokens": ["public", "sequence", "batch", "next", "(", "final", "sequence", "batch", "sequence", "batch", ")", "{", "if", "(", "null", "=", "=", "gating", "sequences", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "final", "long", "sequence", "=", "claim", "strategy", ".", "increment", "and", "get", "(", "sequence", "batch", ".", "get", "size", "(", ")", ",", "gating", "sequences", ")", ";", "sequence", "batch", ".", "set", "end", "(", "sequence", ")", ";", "return", "sequence", "batch", ";", "}"], "new_code": "public batch descriptor next ( final batch descriptor batch descriptor ) { if ( null = = gating sequences ) { throw new null pointer exception ( str ) ; } final long sequence = claim strategy . increment and get ( batch descriptor . get size ( ) , gating sequences ) ; batch descriptor . set end ( sequence ) ; return batch descriptor ; }", "new_code_tokens": ["public", "batch", "descriptor", "next", "(", "final", "batch", "descriptor", "batch", "descriptor", ")", "{", "if", "(", "null", "=", "=", "gating", "sequences", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "final", "long", "sequence", "=", "claim", "strategy", ".", "increment", "and", "get", "(", "batch", "descriptor", ".", "get", "size", "(", ")", ",", "gating", "sequences", ")", ";", "batch", "descriptor", ".", "set", "end", "(", "sequence", ")", ";", "return", "batch", "descriptor", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> sequence <DELETE_END> <KEEP> batch <KEEP_END> <INSERT> descriptor <INSERT_END> <KEEP> next ( final <KEEP_END> <DELETE> sequence <DELETE_END> <KEEP> batch <KEEP_END> <REPLACE_OLD> sequence <REPLACE_NEW> descriptor <REPLACE_END> <KEEP> batch <KEEP_END> <INSERT> descriptor <INSERT_END> <KEEP> ) { if ( null = = gating sequences ) { throw new null pointer exception ( str ) ; } final long sequence = claim strategy . increment and get ( <KEEP_END> <DELETE> sequence <DELETE_END> <KEEP> batch <KEEP_END> <INSERT> descriptor <INSERT_END> <KEEP> . get size ( ) , gating sequences ) ; <KEEP_END> <DELETE> sequence <DELETE_END> <KEEP> batch <KEEP_END> <INSERT> descriptor <INSERT_END> <KEEP> . set end ( sequence ) ; return <KEEP_END> <DELETE> sequence <DELETE_END> <KEEP> batch <KEEP_END> <INSERT> descriptor <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "sequence", "<DELETE_END>", "<KEEP>", "batch", "<KEEP_END>", "<INSERT>", "descriptor", "<INSERT_END>", "<KEEP>", "next", "(", "final", "<KEEP_END>", "<DELETE>", "sequence", "<DELETE_END>", "<KEEP>", "batch", "<KEEP_END>", "<REPLACE_OLD>", "sequence", "<REPLACE_NEW>", "descriptor", "<REPLACE_END>", "<KEEP>", "batch", "<KEEP_END>", "<INSERT>", "descriptor", "<INSERT_END>", "<KEEP>", ")", "{", "if", "(", "null", "=", "=", "gating", "sequences", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "final", "long", "sequence", "=", "claim", "strategy", ".", "increment", "and", "get", "(", "<KEEP_END>", "<DELETE>", "sequence", "<DELETE_END>", "<KEEP>", "batch", "<KEEP_END>", "<INSERT>", "descriptor", "<INSERT_END>", "<KEEP>", ".", "get", "size", "(", ")", ",", "gating", "sequences", ")", ";", "<KEEP_END>", "<DELETE>", "sequence", "<DELETE_END>", "<KEEP>", "batch", "<KEEP_END>", "<INSERT>", "descriptor", "<INSERT_END>", "<KEEP>", ".", "set", "end", "(", "sequence", ")", ";", "return", "<KEEP_END>", "<DELETE>", "sequence", "<DELETE_END>", "<KEEP>", "batch", "<KEEP_END>", "<INSERT>", "descriptor", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> sequence <DELETE_END> <INSERT_OLD_KEEP_BEFORE> batch <INSERT_NEW_KEEP_BEFORE> batch descriptor <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "sequence", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "batch", "<INSERT_NEW_KEEP_BEFORE>", "batch", "descriptor", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "sequence", "<KEEP>", "batch", "<INSERT>", "descriptor", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", "final", "<DELETE>", "sequence", "<KEEP>", "batch", "<REPLACE_OLD>", "sequence", "<REPLACE_NEW>", "descriptor", "<KEEP>", "batch", "<INSERT>", "descriptor", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "gating", "<KEEP>", "sequences", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "long", "<KEEP>", "sequence", "<KEEP>", "=", "<KEEP>", "claim", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "increment", "<KEEP>", "and", "<KEEP>", "get", "<KEEP>", "(", "<DELETE>", "sequence", "<KEEP>", "batch", "<INSERT>", "descriptor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "gating", "<KEEP>", "sequences", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "sequence", "<KEEP>", "batch", "<INSERT>", "descriptor", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "end", "<KEEP>", "(", "<KEEP>", "sequence", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "sequence", "<KEEP>", "batch", "<INSERT>", "descriptor", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9861232369366141, "using": 2, "keep": 1}
{"id": "weimingtom_ldap-sample-code-13-6225", "old_comment": "the value of the command line argument named by the long identifier .", "old_comment_tokens": ["the", "value", "of", "the", "command", "line", "argument", "named", "by", "the", "long", "identifier", "."], "new_comment": "the value of the command line argument named by the long identifier or null if no such argument has been registered with the argument parser .", "new_comment_tokens": ["the", "value", "of", "the", "command", "line", "argument", "named", "by", "the", "long", "identifier", "or", "null", "if", "no", "such", "argument", "has", "been", "registered", "with", "the", "argument", "parser", "."], "old_code": "public object get ( string long identifier ) { if ( long identifier = = null ) { throw new illegal argument exception ( str ) ; } object get = null ; argument argument = get named argument ( long identifier ) ; if ( argument ! = null ) { if ( argument . get class ( ) = = string argument . class ) { get = ( ( string argument ) argument ) . get value ( ) ; } else if ( argument . get class ( ) = = dnargument . class ) { get = ( ( dnargument ) argument ) . get value ( ) ; } else if ( argument . get class ( ) = = integer argument . class ) { get = ( ( integer argument ) argument ) . get value ( ) ; } else if ( argument . get class ( ) = = boolean argument . class ) { get = argument . is present ( ) ; } else if ( argument . get class ( ) = = filter argument . class ) { get = ( ( filter argument ) argument ) . get value ( ) ; } else { string builder builder = new string builder ( argument . get class ( ) . to string ( ) ) ; builder . append ( str ) ; throw new unsupported operation exception ( builder . to string ( ) ) ; } } return get ; }", "old_code_tokens": ["public", "object", "get", "(", "string", "long", "identifier", ")", "{", "if", "(", "long", "identifier", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "object", "get", "=", "null", ";", "argument", "argument", "=", "get", "named", "argument", "(", "long", "identifier", ")", ";", "if", "(", "argument", "!", "=", "null", ")", "{", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "string", "argument", ".", "class", ")", "{", "get", "=", "(", "(", "string", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "}", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "dnargument", ".", "class", ")", "{", "get", "=", "(", "(", "dnargument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "}", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "integer", "argument", ".", "class", ")", "{", "get", "=", "(", "(", "integer", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "}", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "boolean", "argument", ".", "class", ")", "{", "get", "=", "argument", ".", "is", "present", "(", ")", ";", "}", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "filter", "argument", ".", "class", ")", "{", "get", "=", "(", "(", "filter", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "}", "else", "{", "string", "builder", "builder", "=", "new", "string", "builder", "(", "argument", ".", "get", "class", "(", ")", ".", "to", "string", "(", ")", ")", ";", "builder", ".", "append", "(", "str", ")", ";", "throw", "new", "unsupported", "operation", "exception", "(", "builder", ".", "to", "string", "(", ")", ")", ";", "}", "}", "return", "get", ";", "}"], "new_code": "public object get ( string long identifier ) { if ( long identifier = = null ) { throw new null pointer exception ( str ) ; } object get = null ; argument argument = get named argument ( long identifier ) ; if ( argument = = null ) return null ; if ( argument . get class ( ) = = string argument . class ) get = ( ( string argument ) argument ) . get value ( ) ; else if ( argument . get class ( ) = = dnargument . class ) get = ( ( dnargument ) argument ) . get value ( ) ; else if ( argument . get class ( ) = = integer argument . class ) get = ( ( integer argument ) argument ) . get value ( ) ; else if ( argument . get class ( ) = = boolean argument . class ) get = argument . is present ( ) ; else if ( argument . get class ( ) = = filter argument . class ) get = ( ( filter argument ) argument ) . get value ( ) ; else { string builder builder = new string builder ( argument . get class ( ) . to string ( ) ) ; builder . append ( str ) ; throw new unsupported operation exception ( builder . to string ( ) ) ; } return get ; }", "new_code_tokens": ["public", "object", "get", "(", "string", "long", "identifier", ")", "{", "if", "(", "long", "identifier", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "object", "get", "=", "null", ";", "argument", "argument", "=", "get", "named", "argument", "(", "long", "identifier", ")", ";", "if", "(", "argument", "=", "=", "null", ")", "return", "null", ";", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "string", "argument", ".", "class", ")", "get", "=", "(", "(", "string", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "dnargument", ".", "class", ")", "get", "=", "(", "(", "dnargument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "integer", "argument", ".", "class", ")", "get", "=", "(", "(", "integer", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "boolean", "argument", ".", "class", ")", "get", "=", "argument", ".", "is", "present", "(", ")", ";", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "filter", "argument", ".", "class", ")", "get", "=", "(", "(", "filter", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "else", "{", "string", "builder", "builder", "=", "new", "string", "builder", "(", "argument", ".", "get", "class", "(", ")", ".", "to", "string", "(", ")", ")", ";", "builder", ".", "append", "(", "str", ")", ";", "throw", "new", "unsupported", "operation", "exception", "(", "builder", ".", "to", "string", "(", ")", ")", ";", "}", "return", "get", ";", "}"], "span_diff_code": "<KEEP> public object get ( string long identifier ) { if ( long identifier = = null ) { throw new <KEEP_END> <REPLACE_OLD> illegal argument <REPLACE_NEW> null pointer <REPLACE_END> <KEEP> exception ( str ) ; } object get = null ; argument argument = get named argument ( long identifier ) ; if ( argument <KEEP_END> <REPLACE_OLD> ! = null ) { if ( argument . get class ( ) = = string argument . class ) { get = ( ( string argument ) argument ) . get value ( ) ; } <REPLACE_NEW> = = null ) return null ; if ( argument . get class ( ) = = string argument . class ) get = ( ( string argument ) argument ) . get value ( ) ; <REPLACE_END> <KEEP> else if ( argument . get class ( ) = = dnargument . class ) <KEEP_END> <DELETE> { <DELETE_END> <KEEP> get = ( ( dnargument ) argument ) . get value ( ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> else if ( argument . get class ( ) = = integer argument . class ) <KEEP_END> <DELETE> { <DELETE_END> <KEEP> get = ( ( integer argument ) argument ) . get value ( ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> else if ( argument . get class ( ) = = boolean argument . class ) <KEEP_END> <DELETE> { <DELETE_END> <KEEP> get = argument . is present ( ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> else if ( argument . get class ( ) = = filter argument . class ) <KEEP_END> <DELETE> { <DELETE_END> <KEEP> get = ( ( filter argument ) argument ) . get value ( ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> else { string builder builder = new string builder ( argument . get class ( ) . to string ( ) ) ; builder . append ( str ) ; throw new unsupported operation exception ( builder . to string ( ) ) ; } <KEEP_END> <INSERT> return get ; <INSERT_END> <KEEP> } <KEEP_END> <DELETE> return get ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "object", "get", "(", "string", "long", "identifier", ")", "{", "if", "(", "long", "identifier", "=", "=", "null", ")", "{", "throw", "new", "<KEEP_END>", "<REPLACE_OLD>", "illegal", "argument", "<REPLACE_NEW>", "null", "pointer", "<REPLACE_END>", "<KEEP>", "exception", "(", "str", ")", ";", "}", "object", "get", "=", "null", ";", "argument", "argument", "=", "get", "named", "argument", "(", "long", "identifier", ")", ";", "if", "(", "argument", "<KEEP_END>", "<REPLACE_OLD>", "!", "=", "null", ")", "{", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "string", "argument", ".", "class", ")", "{", "get", "=", "(", "(", "string", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "}", "<REPLACE_NEW>", "=", "=", "null", ")", "return", "null", ";", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "string", "argument", ".", "class", ")", "get", "=", "(", "(", "string", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "<REPLACE_END>", "<KEEP>", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "dnargument", ".", "class", ")", "<KEEP_END>", "<DELETE>", "{", "<DELETE_END>", "<KEEP>", "get", "=", "(", "(", "dnargument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "integer", "argument", ".", "class", ")", "<KEEP_END>", "<DELETE>", "{", "<DELETE_END>", "<KEEP>", "get", "=", "(", "(", "integer", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "boolean", "argument", ".", "class", ")", "<KEEP_END>", "<DELETE>", "{", "<DELETE_END>", "<KEEP>", "get", "=", "argument", ".", "is", "present", "(", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "else", "if", "(", "argument", ".", "get", "class", "(", ")", "=", "=", "filter", "argument", ".", "class", ")", "<KEEP_END>", "<DELETE>", "{", "<DELETE_END>", "<KEEP>", "get", "=", "(", "(", "filter", "argument", ")", "argument", ")", ".", "get", "value", "(", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "else", "{", "string", "builder", "builder", "=", "new", "string", "builder", "(", "argument", ".", "get", "class", "(", ")", ".", "to", "string", "(", ")", ")", ";", "builder", ".", "append", "(", "str", ")", ";", "throw", "new", "unsupported", "operation", "exception", "(", "builder", ".", "to", "string", "(", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "get", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "return", "get", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> identifier <INSERT_NEW_KEEP_BEFORE> identifier or null if no such argument has been registered with the argument parser <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "identifier", "<INSERT_NEW_KEEP_BEFORE>", "identifier", "or", "null", "if", "no", "such", "argument", "has", "been", "registered", "with", "the", "argument", "parser", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "long", "<KEEP>", "identifier", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "identifier", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<REPLACE_OLD>", "illegal", "<REPLACE_OLD>", "argument", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "pointer", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "argument", "<KEEP>", "argument", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "named", "<KEEP>", "argument", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "identifier", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "argument", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "argument", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "argument", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "argument", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "argument", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "argument", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "argument", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "argument", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "argument", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "dnargument", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<DELETE>", "{", "<KEEP>", "get", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "dnargument", "<KEEP>", ")", "<KEEP>", "argument", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "integer", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<DELETE>", "{", "<KEEP>", "get", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", "argument", "<KEEP>", ")", "<KEEP>", "argument", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "boolean", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<DELETE>", "{", "<KEEP>", "get", "<KEEP>", "=", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "present", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "filter", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<DELETE>", "{", "<KEEP>", "get", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "filter", "<KEEP>", "argument", "<KEEP>", ")", "<KEEP>", "argument", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "builder", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", "argument", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "unsupported", "<KEEP>", "operation", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "get", "<INSERT>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "get", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.7886481008820354, "using": 0, "keep": 1}
{"id": "Letractively_gwtx-1-5231", "old_comment": "map of javabean properties , associated to jmethod [ getter , setter ]", "old_comment_tokens": ["map", "of", "javabean", "properties", ",", "associated", "to", "jmethod", "[", "getter", ",", "setter", "]"], "new_comment": "collection of javabean properties", "new_comment_tokens": ["collection", "of", "javabean", "properties"], "old_code": "protected map < string , jmethod [ ] > lookup java bean property accessors ( jclass type type ) { map < string , jmethod [ ] > properties = new hash map < string , jmethod [ ] > ( ) ; jmethod [ ] methods = type . get methods ( ) ; for ( jmethod method : methods ) { if ( ! method . is public ( ) | | method . is static ( ) ) { continue ; } if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string property = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; jmethod [ ] accessors = properties . get ( property ) ; if ( accessors = = null ) { accessors = new jmethod [ num ] ; properties . put ( property , accessors ) ; } accessors [ num ] = method ; } else if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string property = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; jmethod [ ] accessors = properties . get ( property ) ; if ( accessors = = null ) { accessors = new jmethod [ num ] ; properties . put ( property , accessors ) ; } accessors [ num ] = method ; } else if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string property = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; jmethod [ ] accessors = properties . get ( property ) ; if ( accessors = = null ) { accessors = new jmethod [ num ] ; properties . put ( property , accessors ) ; } accessors [ num ] = method ; } } return properties ; }", "old_code_tokens": ["protected", "map", "<", "string", ",", "jmethod", "[", "]", ">", "lookup", "java", "bean", "property", "accessors", "(", "jclass", "type", "type", ")", "{", "map", "<", "string", ",", "jmethod", "[", "]", ">", "properties", "=", "new", "hash", "map", "<", "string", ",", "jmethod", "[", "]", ">", "(", ")", ";", "jmethod", "[", "]", "methods", "=", "type", ".", "get", "methods", "(", ")", ";", "for", "(", "jmethod", "method", ":", "methods", ")", "{", "if", "(", "!", "method", ".", "is", "public", "(", ")", "|", "|", "method", ".", "is", "static", "(", ")", ")", "{", "continue", ";", "}", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "property", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "jmethod", "[", "]", "accessors", "=", "properties", ".", "get", "(", "property", ")", ";", "if", "(", "accessors", "=", "=", "null", ")", "{", "accessors", "=", "new", "jmethod", "[", "num", "]", ";", "properties", ".", "put", "(", "property", ",", "accessors", ")", ";", "}", "accessors", "[", "num", "]", "=", "method", ";", "}", "else", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "property", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "jmethod", "[", "]", "accessors", "=", "properties", ".", "get", "(", "property", ")", ";", "if", "(", "accessors", "=", "=", "null", ")", "{", "accessors", "=", "new", "jmethod", "[", "num", "]", ";", "properties", ".", "put", "(", "property", ",", "accessors", ")", ";", "}", "accessors", "[", "num", "]", "=", "method", ";", "}", "else", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "property", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "jmethod", "[", "]", "accessors", "=", "properties", ".", "get", "(", "property", ")", ";", "if", "(", "accessors", "=", "=", "null", ")", "{", "accessors", "=", "new", "jmethod", "[", "num", "]", ";", "properties", ".", "put", "(", "property", ",", "accessors", ")", ";", "}", "accessors", "[", "num", "]", "=", "method", ";", "}", "}", "return", "properties", ";", "}"], "new_code": "protected collection < property > lookup java bean property accessors ( jclass type type ) { map < string , property > properties = new hash map < string , property > ( ) ; jmethod [ ] methods = type . get methods ( ) ; for ( jmethod method : methods ) { if ( ! method . is public ( ) | | method . is static ( ) ) { continue ; } if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string name = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; property property = properties . get ( name ) ; if ( property = = null ) { property = new property ( name ) ; properties . put ( name , property ) ; } property . setter = method ; } else if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string name = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; property property = properties . get ( name ) ; if ( property = = null ) { property = new property ( name ) ; properties . put ( name , property ) ; } property . getter = method ; } else if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string name = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; property property = properties . get ( name ) ; if ( property = = null ) { property = new property ( name ) ; properties . put ( name , property ) ; } property . getter = method ; } } return properties . values ( ) ; }", "new_code_tokens": ["protected", "collection", "<", "property", ">", "lookup", "java", "bean", "property", "accessors", "(", "jclass", "type", "type", ")", "{", "map", "<", "string", ",", "property", ">", "properties", "=", "new", "hash", "map", "<", "string", ",", "property", ">", "(", ")", ";", "jmethod", "[", "]", "methods", "=", "type", ".", "get", "methods", "(", ")", ";", "for", "(", "jmethod", "method", ":", "methods", ")", "{", "if", "(", "!", "method", ".", "is", "public", "(", ")", "|", "|", "method", ".", "is", "static", "(", ")", ")", "{", "continue", ";", "}", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "name", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "property", "property", "=", "properties", ".", "get", "(", "name", ")", ";", "if", "(", "property", "=", "=", "null", ")", "{", "property", "=", "new", "property", "(", "name", ")", ";", "properties", ".", "put", "(", "name", ",", "property", ")", ";", "}", "property", ".", "setter", "=", "method", ";", "}", "else", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "name", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "property", "property", "=", "properties", ".", "get", "(", "name", ")", ";", "if", "(", "property", "=", "=", "null", ")", "{", "property", "=", "new", "property", "(", "name", ")", ";", "properties", ".", "put", "(", "name", ",", "property", ")", ";", "}", "property", ".", "getter", "=", "method", ";", "}", "else", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "name", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "property", "property", "=", "properties", ".", "get", "(", "name", ")", ";", "if", "(", "property", "=", "=", "null", ")", "{", "property", "=", "new", "property", "(", "name", ")", ";", "properties", ".", "put", "(", "name", ",", "property", ")", ";", "}", "property", ".", "getter", "=", "method", ";", "}", "}", "return", "properties", ".", "values", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> collection <REPLACE_END> <KEEP> < <KEEP_END> <REPLACE_OLD> string , jmethod [ ] <REPLACE_NEW> property <REPLACE_END> <KEEP> > lookup java bean property accessors ( jclass type type ) { map < string , <KEEP_END> <REPLACE_OLD> jmethod [ ] <REPLACE_NEW> property <REPLACE_END> <KEEP> > properties = new hash map < string , <KEEP_END> <REPLACE_OLD> jmethod [ ] <REPLACE_NEW> property <REPLACE_END> <KEEP> > ( ) ; jmethod [ ] methods = type . get methods ( ) ; for ( jmethod method : methods ) { if ( ! method . is public ( ) | | method . is static ( ) ) { continue ; } if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string <KEEP_END> <REPLACE_OLD> property <REPLACE_NEW> name <REPLACE_END> <KEEP> = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; <KEEP_END> <REPLACE_OLD> jmethod [ ] accessors = properties . get ( property ) ; if ( accessors <REPLACE_NEW> property property = properties . get ( name ) ; if ( property <REPLACE_END> <KEEP> = = null ) { <KEEP_END> <REPLACE_OLD> accessors <REPLACE_NEW> property <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> jmethod [ num ] <REPLACE_NEW> property ( name ) <REPLACE_END> <KEEP> ; properties . put ( <KEEP_END> <REPLACE_OLD> property , accessors ) ; } accessors [ num ] <REPLACE_NEW> name , property ) ; } property . setter <REPLACE_END> <KEEP> = method ; } else if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string <KEEP_END> <REPLACE_OLD> property <REPLACE_NEW> name <REPLACE_END> <KEEP> = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; <KEEP_END> <REPLACE_OLD> jmethod [ ] accessors = properties . get ( property ) ; if ( accessors <REPLACE_NEW> property property = properties . get ( name ) ; if ( property <REPLACE_END> <KEEP> = = null ) { <KEEP_END> <REPLACE_OLD> accessors <REPLACE_NEW> property <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> jmethod [ num ] <REPLACE_NEW> property ( name ) <REPLACE_END> <KEEP> ; properties . put ( <KEEP_END> <REPLACE_OLD> property , accessors ) ; } accessors [ num ] <REPLACE_NEW> name , property ) ; } property . getter <REPLACE_END> <KEEP> = method ; } else if ( method . get name ( ) . starts with ( str ) & & method . get parameters ( ) . length = = num ) { string <KEEP_END> <REPLACE_OLD> property <REPLACE_NEW> name <REPLACE_END> <KEEP> = introspector . decapitalize ( method . get name ( ) . substring ( num ) ) ; <KEEP_END> <REPLACE_OLD> jmethod [ ] accessors = properties . get ( property ) ; if ( accessors <REPLACE_NEW> property property = properties . get ( name ) ; if ( property <REPLACE_END> <KEEP> = = null ) { <KEEP_END> <REPLACE_OLD> accessors <REPLACE_NEW> property <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> jmethod [ num ] <REPLACE_NEW> property ( name ) <REPLACE_END> <KEEP> ; properties . put ( <KEEP_END> <REPLACE_OLD> property , accessors ) ; } accessors [ num ] <REPLACE_NEW> name , property ) ; } property . getter <REPLACE_END> <KEEP> = method ; } } return properties <KEEP_END> <REPLACE_OLD> ; } <REPLACE_NEW> . values ( ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", ",", "jmethod", "[", "]", "<REPLACE_NEW>", "property", "<REPLACE_END>", "<KEEP>", ">", "lookup", "java", "bean", "property", "accessors", "(", "jclass", "type", "type", ")", "{", "map", "<", "string", ",", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "]", "<REPLACE_NEW>", "property", "<REPLACE_END>", "<KEEP>", ">", "properties", "=", "new", "hash", "map", "<", "string", ",", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "]", "<REPLACE_NEW>", "property", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "jmethod", "[", "]", "methods", "=", "type", ".", "get", "methods", "(", ")", ";", "for", "(", "jmethod", "method", ":", "methods", ")", "{", "if", "(", "!", "method", ".", "is", "public", "(", ")", "|", "|", "method", ".", "is", "static", "(", ")", ")", "{", "continue", ";", "}", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "name", "<REPLACE_END>", "<KEEP>", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "]", "accessors", "=", "properties", ".", "get", "(", "property", ")", ";", "if", "(", "accessors", "<REPLACE_NEW>", "property", "property", "=", "properties", ".", "get", "(", "name", ")", ";", "if", "(", "property", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "num", "]", "<REPLACE_NEW>", "property", "(", "name", ")", "<REPLACE_END>", "<KEEP>", ";", "properties", ".", "put", "(", "<KEEP_END>", "<REPLACE_OLD>", "property", ",", "accessors", ")", ";", "}", "accessors", "[", "num", "]", "<REPLACE_NEW>", "name", ",", "property", ")", ";", "}", "property", ".", "setter", "<REPLACE_END>", "<KEEP>", "=", "method", ";", "}", "else", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "name", "<REPLACE_END>", "<KEEP>", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "]", "accessors", "=", "properties", ".", "get", "(", "property", ")", ";", "if", "(", "accessors", "<REPLACE_NEW>", "property", "property", "=", "properties", ".", "get", "(", "name", ")", ";", "if", "(", "property", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "num", "]", "<REPLACE_NEW>", "property", "(", "name", ")", "<REPLACE_END>", "<KEEP>", ";", "properties", ".", "put", "(", "<KEEP_END>", "<REPLACE_OLD>", "property", ",", "accessors", ")", ";", "}", "accessors", "[", "num", "]", "<REPLACE_NEW>", "name", ",", "property", ")", ";", "}", "property", ".", "getter", "<REPLACE_END>", "<KEEP>", "=", "method", ";", "}", "else", "if", "(", "method", ".", "get", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "&", "&", "method", ".", "get", "parameters", "(", ")", ".", "length", "=", "=", "num", ")", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "name", "<REPLACE_END>", "<KEEP>", "=", "introspector", ".", "decapitalize", "(", "method", ".", "get", "name", "(", ")", ".", "substring", "(", "num", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "]", "accessors", "=", "properties", ".", "get", "(", "property", ")", ";", "if", "(", "accessors", "<REPLACE_NEW>", "property", "property", "=", "properties", ".", "get", "(", "name", ")", ";", "if", "(", "property", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "jmethod", "[", "num", "]", "<REPLACE_NEW>", "property", "(", "name", ")", "<REPLACE_END>", "<KEEP>", ";", "properties", ".", "put", "(", "<KEEP_END>", "<REPLACE_OLD>", "property", ",", "accessors", ")", ";", "}", "accessors", "[", "num", "]", "<REPLACE_NEW>", "name", ",", "property", ")", ";", "}", "property", ".", "getter", "<REPLACE_END>", "<KEEP>", "=", "method", ";", "}", "}", "return", "properties", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "<REPLACE_NEW>", ".", "values", "(", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> collection <REPLACE_END> <DELETE> , associated to jmethod [ getter , setter ] <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<DELETE>", ",", "associated", "to", "jmethod", "[", "getter", ",", "setter", "]", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "property", "<KEEP>", ">", "<KEEP>", "lookup", "<KEEP>", "java", "<KEEP>", "bean", "<KEEP>", "property", "<KEEP>", "accessors", "<KEEP>", "(", "<KEEP>", "jclass", "<KEEP>", "type", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "property", "<KEEP>", ">", "<KEEP>", "properties", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "property", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "jmethod", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "methods", "<KEEP>", "=", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "methods", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "jmethod", "<KEEP>", "method", "<KEEP>", ":", "<KEEP>", "methods", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "public", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "static", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "name", "<KEEP>", "=", "<KEEP>", "introspector", "<KEEP>", ".", "<KEEP>", "decapitalize", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "property", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "properties", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "setter", "<KEEP>", "=", "<KEEP>", "method", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "name", "<KEEP>", "=", "<KEEP>", "introspector", "<KEEP>", ".", "<KEEP>", "decapitalize", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "property", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "properties", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "getter", "<KEEP>", "=", "<KEEP>", "method", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "name", "<KEEP>", "=", "<KEEP>", "introspector", "<KEEP>", ".", "<KEEP>", "decapitalize", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "properties", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "property", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "accessors", "<REPLACE_NEW>", "property", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "jmethod", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "properties", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "accessors", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "getter", "<KEEP>", "=", "<KEEP>", "method", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "properties", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.8960252894973613, "using": 2, "keep": 1}
{"id": "apache_aurora-64-6464", "old_comment": "a present if one can be extracted , absent otherwise .", "old_comment_tokens": ["a", "present", "if", "one", "can", "be", "extracted", ",", "absent", "otherwise", "."], "new_comment": "a present if keys can be extracted , absent otherwise .", "new_comment_tokens": ["a", "present", "if", "keys", "can", "be", "extracted", ",", "absent", "otherwise", "."], "old_code": "public static optional < ijob key > from ( query . builder query ) { if ( query . is job scoped ( query ) ) { task query task query = query . get ( ) ; return optional . of ( from ( task query . get owner ( ) . get role ( ) , task query . get environment ( ) , task query . get job name ( ) ) ) ; } else { return optional . absent ( ) ; } }", "old_code_tokens": ["public", "static", "optional", "<", "ijob", "key", ">", "from", "(", "query", ".", "builder", "query", ")", "{", "if", "(", "query", ".", "is", "job", "scoped", "(", "query", ")", ")", "{", "task", "query", "task", "query", "=", "query", ".", "get", "(", ")", ";", "return", "optional", ".", "of", "(", "from", "(", "task", "query", ".", "get", "owner", "(", ")", ".", "get", "role", "(", ")", ",", "task", "query", ".", "get", "environment", "(", ")", ",", "task", "query", ".", "get", "job", "name", "(", ")", ")", ")", ";", "}", "else", "{", "return", "optional", ".", "absent", "(", ")", ";", "}", "}"], "new_code": "public static optional < set < ijob key > > from ( query . builder query ) { if ( query . is job scoped ( query ) ) { task query task query = query . get ( ) ; immutable set . builder < ijob key > builder = immutable set . builder ( ) ; if ( task query . is set job name ( ) ) { builder . add ( from ( task query . get owner ( ) . get role ( ) , task query . get environment ( ) , task query . get job name ( ) ) ) ; } if ( task query . is set job keys ( ) ) { builder . add all ( ijob key . set from builders ( task query . get job keys ( ) ) ) ; } return optional . of ( assert valid ( builder . build ( ) ) ) ; } else { return optional . absent ( ) ; } }", "new_code_tokens": ["public", "static", "optional", "<", "set", "<", "ijob", "key", ">", ">", "from", "(", "query", ".", "builder", "query", ")", "{", "if", "(", "query", ".", "is", "job", "scoped", "(", "query", ")", ")", "{", "task", "query", "task", "query", "=", "query", ".", "get", "(", ")", ";", "immutable", "set", ".", "builder", "<", "ijob", "key", ">", "builder", "=", "immutable", "set", ".", "builder", "(", ")", ";", "if", "(", "task", "query", ".", "is", "set", "job", "name", "(", ")", ")", "{", "builder", ".", "add", "(", "from", "(", "task", "query", ".", "get", "owner", "(", ")", ".", "get", "role", "(", ")", ",", "task", "query", ".", "get", "environment", "(", ")", ",", "task", "query", ".", "get", "job", "name", "(", ")", ")", ")", ";", "}", "if", "(", "task", "query", ".", "is", "set", "job", "keys", "(", ")", ")", "{", "builder", ".", "add", "all", "(", "ijob", "key", ".", "set", "from", "builders", "(", "task", "query", ".", "get", "job", "keys", "(", ")", ")", ")", ";", "}", "return", "optional", ".", "of", "(", "assert", "valid", "(", "builder", ".", "build", "(", ")", ")", ")", ";", "}", "else", "{", "return", "optional", ".", "absent", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static optional < <KEEP_END> <INSERT> set < <INSERT_END> <KEEP> ijob key <KEEP_END> <INSERT> > <INSERT_END> <KEEP> > from ( query . builder query ) { if ( query . is job scoped ( query ) ) { task query task query = query . get ( ) ; <KEEP_END> <REPLACE_OLD> return optional <REPLACE_NEW> immutable set <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> of <REPLACE_NEW> builder < ijob key > builder = immutable set . builder ( ) ; if ( task query . is set job name ( ) ) { builder . add <REPLACE_END> <KEEP> ( from ( task query . get owner ( ) . get role ( ) , task query . get environment ( ) , task query . get job name ( ) ) ) ; } <KEEP_END> <INSERT> if ( task query . is set job keys ( ) ) { builder . add all ( ijob key . set from builders ( task query . get job keys ( ) ) ) ; } return optional . of ( assert valid ( builder . build ( ) ) ) ; } <INSERT_END> <KEEP> else { return optional . absent ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "optional", "<", "<KEEP_END>", "<INSERT>", "set", "<", "<INSERT_END>", "<KEEP>", "ijob", "key", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", ">", "from", "(", "query", ".", "builder", "query", ")", "{", "if", "(", "query", ".", "is", "job", "scoped", "(", "query", ")", ")", "{", "task", "query", "task", "query", "=", "query", ".", "get", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "optional", "<REPLACE_NEW>", "immutable", "set", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "of", "<REPLACE_NEW>", "builder", "<", "ijob", "key", ">", "builder", "=", "immutable", "set", ".", "builder", "(", ")", ";", "if", "(", "task", "query", ".", "is", "set", "job", "name", "(", ")", ")", "{", "builder", ".", "add", "<REPLACE_END>", "<KEEP>", "(", "from", "(", "task", "query", ".", "get", "owner", "(", ")", ".", "get", "role", "(", ")", ",", "task", "query", ".", "get", "environment", "(", ")", ",", "task", "query", ".", "get", "job", "name", "(", ")", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "if", "(", "task", "query", ".", "is", "set", "job", "keys", "(", ")", ")", "{", "builder", ".", "add", "all", "(", "ijob", "key", ".", "set", "from", "builders", "(", "task", "query", ".", "get", "job", "keys", "(", ")", ")", ")", ";", "}", "return", "optional", ".", "of", "(", "assert", "valid", "(", "builder", ".", "build", "(", ")", ")", ")", ";", "}", "<INSERT_END>", "<KEEP>", "else", "{", "return", "optional", ".", "absent", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> one <REPLACE_NEW> keys <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "one", "<REPLACE_NEW>", "keys", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "optional", "<KEEP>", "<", "<INSERT>", "set", "<INSERT>", "<", "<KEEP>", "ijob", "<KEEP>", "key", "<INSERT>", ">", "<KEEP>", ">", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "builder", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "job", "<KEEP>", "scoped", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", "=", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "optional", "<REPLACE_NEW>", "immutable", "<REPLACE_NEW>", "set", "<KEEP>", ".", "<REPLACE_OLD>", "of", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "ijob", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "immutable", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "query", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "job", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<KEEP>", "(", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "role", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "environment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "task", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "task", "<INSERT>", "query", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "set", "<INSERT>", "job", "<INSERT>", "keys", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "builder", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "all", "<INSERT>", "(", "<INSERT>", "ijob", "<INSERT>", "key", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "from", "<INSERT>", "builders", "<INSERT>", "(", "<INSERT>", "task", "<INSERT>", "query", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "job", "<INSERT>", "keys", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "optional", "<INSERT>", ".", "<INSERT>", "of", "<INSERT>", "(", "<INSERT>", "assert", "<INSERT>", "valid", "<INSERT>", "(", "<INSERT>", "builder", "<INSERT>", ".", "<INSERT>", "build", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "absent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8142378211233078, "using": 2, "keep": 1}
{"id": "zxing_zxing-43-3609", "old_comment": "start time formatted as a rfc 2445 date or date - time .", "old_comment_tokens": ["start", "time", "formatted", "as", "a", "rfc", "2445", "date", "or", "date", "-", "time", "."], "new_comment": "start time", "new_comment_tokens": ["start", "time"], "old_code": "public string get start ( ) { return start ; }", "old_code_tokens": ["public", "string", "get", "start", "(", ")", "{", "return", "start", ";", "}"], "new_code": "public date get start ( ) { return start ; }", "new_code_tokens": ["public", "date", "get", "start", "(", ")", "{", "return", "start", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> date <REPLACE_END> <KEEP> get start ( ) { return start ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "date", "<REPLACE_END>", "<KEEP>", "get", "start", "(", ")", "{", "return", "start", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> formatted as a rfc 2445 date or date - time . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "formatted", "as", "a", "rfc", "2445", "date", "or", "date", "-", "time", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "date", "<KEEP>", "get", "<KEEP>", "start", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "start", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8016289045981033, "using": 1, "keep": 1}
{"id": "google_openrtb-doubleclick-1-3946", "old_comment": "binary plaintext", "old_comment_tokens": ["binary", "plaintext"], "new_comment": "init vector | | payload | | i ' ( signature ) where i ' ( signature ) = = i ( signature ) for success , different for failure", "new_comment_tokens": ["init", "vector", "|", "|", "payload", "|", "|", "i", "'", "(", "signature", ")", "where", "i", "'", "(", "signature", ")", "=", "=", "i", "(", "signature", ")", "for", "success", ",", "different", "for", "failure"], "old_code": "public byte [ ] decrypt ( byte [ ] ciphertext ) { if ( ciphertext . length < overhead _ size ) { throw new double click crypto exception ( str + ciphertext . length + str ) ; } byte [ ] plaintext = ciphertext . clone ( ) ; try { byte [ ] hash nonce = hash nonce ( plaintext ) ; xor to ( plaintext , hash nonce ) ; int crypto signature = byte buffer . wrap ( plaintext ) . get int ( plaintext . length - signature _ size ) ; int plain signature = hash signature ( plaintext ) ; if ( plain signature ! = crypto signature ) { throw new double click crypto exception ( str + integer . to hex string ( plain signature ) + str + integer . to hex string ( crypto signature ) ) ; } if ( logger . is debug enabled ( ) ) { logger . debug ( dump ( str , ciphertext , plaintext ) ) ; } return plaintext ; } catch ( invalid key exception | no such algorithm exception e ) { if ( logger . is warn enabled ( ) ) { logger . warn ( dump ( str , ciphertext , plaintext ) ) ; } throw new double click crypto exception ( e ) ; } }", "old_code_tokens": ["public", "byte", "[", "]", "decrypt", "(", "byte", "[", "]", "ciphertext", ")", "{", "if", "(", "ciphertext", ".", "length", "<", "overhead", "_", "size", ")", "{", "throw", "new", "double", "click", "crypto", "exception", "(", "str", "+", "ciphertext", ".", "length", "+", "str", ")", ";", "}", "byte", "[", "]", "plaintext", "=", "ciphertext", ".", "clone", "(", ")", ";", "try", "{", "byte", "[", "]", "hash", "nonce", "=", "hash", "nonce", "(", "plaintext", ")", ";", "xor", "to", "(", "plaintext", ",", "hash", "nonce", ")", ";", "int", "crypto", "signature", "=", "byte", "buffer", ".", "wrap", "(", "plaintext", ")", ".", "get", "int", "(", "plaintext", ".", "length", "-", "signature", "_", "size", ")", ";", "int", "plain", "signature", "=", "hash", "signature", "(", "plaintext", ")", ";", "if", "(", "plain", "signature", "!", "=", "crypto", "signature", ")", "{", "throw", "new", "double", "click", "crypto", "exception", "(", "str", "+", "integer", ".", "to", "hex", "string", "(", "plain", "signature", ")", "+", "str", "+", "integer", ".", "to", "hex", "string", "(", "crypto", "signature", ")", ")", ";", "}", "if", "(", "logger", ".", "is", "debug", "enabled", "(", ")", ")", "{", "logger", ".", "debug", "(", "dump", "(", "str", ",", "ciphertext", ",", "plaintext", ")", ")", ";", "}", "return", "plaintext", ";", "}", "catch", "(", "invalid", "key", "exception", "|", "no", "such", "algorithm", "exception", "e", ")", "{", "if", "(", "logger", ".", "is", "warn", "enabled", "(", ")", ")", "{", "logger", ".", "warn", "(", "dump", "(", "str", ",", "ciphertext", ",", "plaintext", ")", ")", ";", "}", "throw", "new", "double", "click", "crypto", "exception", "(", "e", ")", ";", "}", "}"], "new_code": "public byte [ ] decrypt ( byte [ ] cipher data ) { if ( cipher data . length < overhead _ size ) { throw new double click crypto exception ( str + cipher data . length + str ) ; } byte [ ] work bytes = cipher data . clone ( ) ; byte buffer work buffer = byte buffer . wrap ( work bytes ) ; try { xor payload to hmac pad ( work bytes ) ; int confirmation signature = hmac signature ( work bytes ) ; int integrity signature = work buffer . get int ( work bytes . length - signature _ size ) ; work buffer . put int ( work bytes . length - signature _ size , confirmation signature ) ; if ( confirmation signature ! = integrity signature ) { throw new double click crypto exception ( str + integer . to hex string ( confirmation signature ) + str + integer . to hex string ( integrity signature ) ) ; } if ( logger . is debug enabled ( ) ) { logger . debug ( dump ( str , cipher data , work bytes ) ) ; } return work bytes ; } catch ( invalid key exception | no such algorithm exception | short buffer exception e ) { if ( logger . is warn enabled ( ) ) { logger . warn ( dump ( str , cipher data , work bytes ) ) ; } throw new double click crypto exception ( e ) ; } }", "new_code_tokens": ["public", "byte", "[", "]", "decrypt", "(", "byte", "[", "]", "cipher", "data", ")", "{", "if", "(", "cipher", "data", ".", "length", "<", "overhead", "_", "size", ")", "{", "throw", "new", "double", "click", "crypto", "exception", "(", "str", "+", "cipher", "data", ".", "length", "+", "str", ")", ";", "}", "byte", "[", "]", "work", "bytes", "=", "cipher", "data", ".", "clone", "(", ")", ";", "byte", "buffer", "work", "buffer", "=", "byte", "buffer", ".", "wrap", "(", "work", "bytes", ")", ";", "try", "{", "xor", "payload", "to", "hmac", "pad", "(", "work", "bytes", ")", ";", "int", "confirmation", "signature", "=", "hmac", "signature", "(", "work", "bytes", ")", ";", "int", "integrity", "signature", "=", "work", "buffer", ".", "get", "int", "(", "work", "bytes", ".", "length", "-", "signature", "_", "size", ")", ";", "work", "buffer", ".", "put", "int", "(", "work", "bytes", ".", "length", "-", "signature", "_", "size", ",", "confirmation", "signature", ")", ";", "if", "(", "confirmation", "signature", "!", "=", "integrity", "signature", ")", "{", "throw", "new", "double", "click", "crypto", "exception", "(", "str", "+", "integer", ".", "to", "hex", "string", "(", "confirmation", "signature", ")", "+", "str", "+", "integer", ".", "to", "hex", "string", "(", "integrity", "signature", ")", ")", ";", "}", "if", "(", "logger", ".", "is", "debug", "enabled", "(", ")", ")", "{", "logger", ".", "debug", "(", "dump", "(", "str", ",", "cipher", "data", ",", "work", "bytes", ")", ")", ";", "}", "return", "work", "bytes", ";", "}", "catch", "(", "invalid", "key", "exception", "|", "no", "such", "algorithm", "exception", "|", "short", "buffer", "exception", "e", ")", "{", "if", "(", "logger", ".", "is", "warn", "enabled", "(", ")", ")", "{", "logger", ".", "warn", "(", "dump", "(", "str", ",", "cipher", "data", ",", "work", "bytes", ")", ")", ";", "}", "throw", "new", "double", "click", "crypto", "exception", "(", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public byte [ ] decrypt ( byte [ ] <KEEP_END> <REPLACE_OLD> ciphertext ) { if ( ciphertext <REPLACE_NEW> cipher data ) { if ( cipher data <REPLACE_END> <KEEP> . length < overhead _ size ) { throw new double click crypto exception ( str + <KEEP_END> <REPLACE_OLD> ciphertext <REPLACE_NEW> cipher data <REPLACE_END> <KEEP> . length + str ) ; } byte [ ] <KEEP_END> <REPLACE_OLD> plaintext = ciphertext <REPLACE_NEW> work bytes = cipher data <REPLACE_END> <KEEP> . clone ( ) ; <KEEP_END> <INSERT> byte buffer work buffer = byte buffer . wrap ( work bytes ) ; <INSERT_END> <KEEP> try { <KEEP_END> <DELETE> byte [ ] hash nonce = hash nonce ( plaintext ) ; <DELETE_END> <KEEP> xor <KEEP_END> <INSERT> payload <INSERT_END> <KEEP> to <KEEP_END> <REPLACE_OLD> ( plaintext , hash nonce ) ; int crypto signature = byte buffer . wrap ( plaintext ) <REPLACE_NEW> hmac pad ( work bytes ) ; int confirmation signature = hmac signature ( work bytes ) ; int integrity signature = work buffer <REPLACE_END> <KEEP> . get int ( <KEEP_END> <REPLACE_OLD> plaintext <REPLACE_NEW> work bytes <REPLACE_END> <KEEP> . length - signature _ size ) ; <KEEP_END> <REPLACE_OLD> int plain signature = hash signature ( plaintext ) ; if ( plain <REPLACE_NEW> work buffer . put int ( work bytes . length - signature _ size , confirmation signature ) ; if ( confirmation <REPLACE_END> <KEEP> signature ! = <KEEP_END> <REPLACE_OLD> crypto <REPLACE_NEW> integrity <REPLACE_END> <KEEP> signature ) { throw new double click crypto exception ( str + integer . to hex string ( <KEEP_END> <REPLACE_OLD> plain <REPLACE_NEW> confirmation <REPLACE_END> <KEEP> signature ) + str + integer . to hex string ( <KEEP_END> <REPLACE_OLD> crypto <REPLACE_NEW> integrity <REPLACE_END> <KEEP> signature ) ) ; } if ( logger . is debug enabled ( ) ) { logger . debug ( dump ( str , <KEEP_END> <REPLACE_OLD> ciphertext , plaintext <REPLACE_NEW> cipher data , work bytes <REPLACE_END> <KEEP> ) ) ; } return <KEEP_END> <REPLACE_OLD> plaintext <REPLACE_NEW> work bytes <REPLACE_END> <KEEP> ; } catch ( invalid key exception | no such algorithm exception <KEEP_END> <INSERT> | short buffer exception <INSERT_END> <KEEP> e ) { if ( logger . is warn enabled ( ) ) { logger . warn ( dump ( str , <KEEP_END> <REPLACE_OLD> ciphertext , plaintext <REPLACE_NEW> cipher data , work bytes <REPLACE_END> <KEEP> ) ) ; } throw new double click crypto exception ( e ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "byte", "[", "]", "decrypt", "(", "byte", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "ciphertext", ")", "{", "if", "(", "ciphertext", "<REPLACE_NEW>", "cipher", "data", ")", "{", "if", "(", "cipher", "data", "<REPLACE_END>", "<KEEP>", ".", "length", "<", "overhead", "_", "size", ")", "{", "throw", "new", "double", "click", "crypto", "exception", "(", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "ciphertext", "<REPLACE_NEW>", "cipher", "data", "<REPLACE_END>", "<KEEP>", ".", "length", "+", "str", ")", ";", "}", "byte", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "plaintext", "=", "ciphertext", "<REPLACE_NEW>", "work", "bytes", "=", "cipher", "data", "<REPLACE_END>", "<KEEP>", ".", "clone", "(", ")", ";", "<KEEP_END>", "<INSERT>", "byte", "buffer", "work", "buffer", "=", "byte", "buffer", ".", "wrap", "(", "work", "bytes", ")", ";", "<INSERT_END>", "<KEEP>", "try", "{", "<KEEP_END>", "<DELETE>", "byte", "[", "]", "hash", "nonce", "=", "hash", "nonce", "(", "plaintext", ")", ";", "<DELETE_END>", "<KEEP>", "xor", "<KEEP_END>", "<INSERT>", "payload", "<INSERT_END>", "<KEEP>", "to", "<KEEP_END>", "<REPLACE_OLD>", "(", "plaintext", ",", "hash", "nonce", ")", ";", "int", "crypto", "signature", "=", "byte", "buffer", ".", "wrap", "(", "plaintext", ")", "<REPLACE_NEW>", "hmac", "pad", "(", "work", "bytes", ")", ";", "int", "confirmation", "signature", "=", "hmac", "signature", "(", "work", "bytes", ")", ";", "int", "integrity", "signature", "=", "work", "buffer", "<REPLACE_END>", "<KEEP>", ".", "get", "int", "(", "<KEEP_END>", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "work", "bytes", "<REPLACE_END>", "<KEEP>", ".", "length", "-", "signature", "_", "size", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "int", "plain", "signature", "=", "hash", "signature", "(", "plaintext", ")", ";", "if", "(", "plain", "<REPLACE_NEW>", "work", "buffer", ".", "put", "int", "(", "work", "bytes", ".", "length", "-", "signature", "_", "size", ",", "confirmation", "signature", ")", ";", "if", "(", "confirmation", "<REPLACE_END>", "<KEEP>", "signature", "!", "=", "<KEEP_END>", "<REPLACE_OLD>", "crypto", "<REPLACE_NEW>", "integrity", "<REPLACE_END>", "<KEEP>", "signature", ")", "{", "throw", "new", "double", "click", "crypto", "exception", "(", "str", "+", "integer", ".", "to", "hex", "string", "(", "<KEEP_END>", "<REPLACE_OLD>", "plain", "<REPLACE_NEW>", "confirmation", "<REPLACE_END>", "<KEEP>", "signature", ")", "+", "str", "+", "integer", ".", "to", "hex", "string", "(", "<KEEP_END>", "<REPLACE_OLD>", "crypto", "<REPLACE_NEW>", "integrity", "<REPLACE_END>", "<KEEP>", "signature", ")", ")", ";", "}", "if", "(", "logger", ".", "is", "debug", "enabled", "(", ")", ")", "{", "logger", ".", "debug", "(", "dump", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "ciphertext", ",", "plaintext", "<REPLACE_NEW>", "cipher", "data", ",", "work", "bytes", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "work", "bytes", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "invalid", "key", "exception", "|", "no", "such", "algorithm", "exception", "<KEEP_END>", "<INSERT>", "|", "short", "buffer", "exception", "<INSERT_END>", "<KEEP>", "e", ")", "{", "if", "(", "logger", ".", "is", "warn", "enabled", "(", ")", ")", "{", "logger", ".", "warn", "(", "dump", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "ciphertext", ",", "plaintext", "<REPLACE_NEW>", "cipher", "data", ",", "work", "bytes", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "throw", "new", "double", "click", "crypto", "exception", "(", "e", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> binary plaintext <REPLACE_NEW> init vector | | payload | | i ' ( signature ) where i ' ( signature ) = = i ( signature ) for success , different for failure <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "binary", "plaintext", "<REPLACE_NEW>", "init", "vector", "|", "|", "payload", "|", "|", "i", "'", "(", "signature", ")", "where", "i", "'", "(", "signature", ")", "=", "=", "i", "(", "signature", ")", "for", "success", ",", "different", "for", "failure", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "decrypt", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "ciphertext", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ciphertext", "<REPLACE_NEW>", "cipher", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cipher", "<REPLACE_NEW>", "data", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "<", "<KEEP>", "overhead", "<KEEP>", "_", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "double", "<KEEP>", "click", "<KEEP>", "crypto", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "ciphertext", "<REPLACE_NEW>", "cipher", "<REPLACE_NEW>", "data", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "plaintext", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "ciphertext", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "cipher", "<REPLACE_NEW>", "data", "<KEEP>", ".", "<KEEP>", "clone", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "byte", "<INSERT>", "buffer", "<INSERT>", "work", "<INSERT>", "buffer", "<INSERT>", "=", "<INSERT>", "byte", "<INSERT>", "buffer", "<INSERT>", ".", "<INSERT>", "wrap", "<INSERT>", "(", "<INSERT>", "work", "<INSERT>", "bytes", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "try", "<KEEP>", "{", "<DELETE>", "byte", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "hash", "<DELETE>", "nonce", "<DELETE>", "=", "<DELETE>", "hash", "<DELETE>", "nonce", "<DELETE>", "(", "<DELETE>", "plaintext", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "xor", "<INSERT>", "payload", "<KEEP>", "to", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "plaintext", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "nonce", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "crypto", "<REPLACE_OLD>", "signature", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "buffer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "wrap", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "plaintext", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "hmac", "<REPLACE_NEW>", "pad", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "confirmation", "<REPLACE_NEW>", "signature", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hmac", "<REPLACE_NEW>", "signature", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "integrity", "<REPLACE_NEW>", "signature", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "-", "<KEEP>", "signature", "<KEEP>", "_", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "plain", "<REPLACE_OLD>", "signature", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "signature", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "plaintext", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "plain", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "signature", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "confirmation", "<REPLACE_NEW>", "signature", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "confirmation", "<KEEP>", "signature", "<KEEP>", "!", "<KEEP>", "=", "<REPLACE_OLD>", "crypto", "<REPLACE_NEW>", "integrity", "<KEEP>", "signature", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "double", "<KEEP>", "click", "<KEEP>", "crypto", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "hex", "<KEEP>", "string", "<KEEP>", "(", "<REPLACE_OLD>", "plain", "<REPLACE_NEW>", "confirmation", "<KEEP>", "signature", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "hex", "<KEEP>", "string", "<KEEP>", "(", "<REPLACE_OLD>", "crypto", "<REPLACE_NEW>", "integrity", "<KEEP>", "signature", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "dump", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "ciphertext", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "cipher", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "invalid", "<KEEP>", "key", "<KEEP>", "exception", "<KEEP>", "|", "<KEEP>", "no", "<KEEP>", "such", "<KEEP>", "algorithm", "<KEEP>", "exception", "<INSERT>", "|", "<INSERT>", "short", "<INSERT>", "buffer", "<INSERT>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "warn", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "warn", "<KEEP>", "(", "<KEEP>", "dump", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "ciphertext", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "plaintext", "<REPLACE_NEW>", "cipher", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "work", "<REPLACE_NEW>", "bytes", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "double", "<KEEP>", "click", "<KEEP>", "crypto", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.8349651490633753, "using": 2, "keep": 1}
{"id": "eclipse_webtools.common-14-5966", "old_comment": "a @ see workbench module resourceassociated with the current module core with its source path equivalent to a resource", "old_comment_tokens": ["a", "@", "see", "workbench", "module", "resourceassociated", "with", "the", "current", "module", "core", "with", "its", "source", "path", "equivalent", "to", "a", "resource"], "new_comment": "a @ see component resourceassociated with the current module core with its source path equivalent to a resource", "new_comment_tokens": ["a", "@", "see", "component", "resourceassociated", "with", "the", "current", "module", "core", "with", "its", "source", "path", "equivalent", "to", "a", "resource"], "old_code": "public workbench module resource create workbench module resource ( iresource a resource ) { if ( is read only ) throw attempted read only modification ( ) ; workbench module resource module resource = module _ factory . create workbench module resource ( ) ; string source path = ipath . separator + a resource . get name ( ) + ipath . separator + a resource . get project relative path ( ) . to string ( ) ; module resource . set source path ( uri . create uri ( source path ) ) ; return module resource ; }", "old_code_tokens": ["public", "workbench", "module", "resource", "create", "workbench", "module", "resource", "(", "iresource", "a", "resource", ")", "{", "if", "(", "is", "read", "only", ")", "throw", "attempted", "read", "only", "modification", "(", ")", ";", "workbench", "module", "resource", "module", "resource", "=", "module", "_", "factory", ".", "create", "workbench", "module", "resource", "(", ")", ";", "string", "source", "path", "=", "ipath", ".", "separator", "+", "a", "resource", ".", "get", "name", "(", ")", "+", "ipath", ".", "separator", "+", "a", "resource", ".", "get", "project", "relative", "path", "(", ")", ".", "to", "string", "(", ")", ";", "module", "resource", ".", "set", "source", "path", "(", "uri", ".", "create", "uri", "(", "source", "path", ")", ")", ";", "return", "module", "resource", ";", "}"], "new_code": "public component resource create workbench module resource ( iresource a resource ) { if ( is read only ) throw attempted read only modification ( ) ; component resource module resource = module _ factory . create workbench module resource ( ) ; string source path = ipath . separator + a resource . get project ( ) . get name ( ) + ipath . separator + a resource . get project relative path ( ) . to string ( ) ; module resource . set source path ( uri . create uri ( source path ) ) ; return module resource ; }", "new_code_tokens": ["public", "component", "resource", "create", "workbench", "module", "resource", "(", "iresource", "a", "resource", ")", "{", "if", "(", "is", "read", "only", ")", "throw", "attempted", "read", "only", "modification", "(", ")", ";", "component", "resource", "module", "resource", "=", "module", "_", "factory", ".", "create", "workbench", "module", "resource", "(", ")", ";", "string", "source", "path", "=", "ipath", ".", "separator", "+", "a", "resource", ".", "get", "project", "(", ")", ".", "get", "name", "(", ")", "+", "ipath", ".", "separator", "+", "a", "resource", ".", "get", "project", "relative", "path", "(", ")", ".", "to", "string", "(", ")", ";", "module", "resource", ".", "set", "source", "path", "(", "uri", ".", "create", "uri", "(", "source", "path", ")", ")", ";", "return", "module", "resource", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> workbench module <REPLACE_NEW> component <REPLACE_END> <KEEP> resource create workbench module resource ( iresource a resource ) { if ( is read only ) throw attempted read only modification ( ) ; <KEEP_END> <REPLACE_OLD> workbench module <REPLACE_NEW> component <REPLACE_END> <KEEP> resource module resource = module _ factory . create workbench module resource ( ) ; string source path = ipath . separator + a resource <KEEP_END> <INSERT> . get project ( ) <INSERT_END> <KEEP> . get name ( ) + ipath . separator + a resource . get project relative path ( ) . to string ( ) ; module resource . set source path ( uri . create uri ( source path ) ) ; return module resource ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "workbench", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "resource", "create", "workbench", "module", "resource", "(", "iresource", "a", "resource", ")", "{", "if", "(", "is", "read", "only", ")", "throw", "attempted", "read", "only", "modification", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "workbench", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>", "<KEEP>", "resource", "module", "resource", "=", "module", "_", "factory", ".", "create", "workbench", "module", "resource", "(", ")", ";", "string", "source", "path", "=", "ipath", ".", "separator", "+", "a", "resource", "<KEEP_END>", "<INSERT>", ".", "get", "project", "(", ")", "<INSERT_END>", "<KEEP>", ".", "get", "name", "(", ")", "+", "ipath", ".", "separator", "+", "a", "resource", ".", "get", "project", "relative", "path", "(", ")", ".", "to", "string", "(", ")", ";", "module", "resource", ".", "set", "source", "path", "(", "uri", ".", "create", "uri", "(", "source", "path", ")", ")", ";", "return", "module", "resource", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> workbench module <REPLACE_NEW> component <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "workbench", "module", "<REPLACE_NEW>", "component", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "resource", "<KEEP>", "create", "<KEEP>", "workbench", "<KEEP>", "module", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", "iresource", "<KEEP>", "a", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "attempted", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", "modification", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "workbench", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "component", "<KEEP>", "resource", "<KEEP>", "module", "<KEEP>", "resource", "<KEEP>", "=", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "workbench", "<KEEP>", "module", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "source", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "ipath", "<KEEP>", ".", "<KEEP>", "separator", "<KEEP>", "+", "<KEEP>", "a", "<KEEP>", "resource", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "project", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "ipath", "<KEEP>", ".", "<KEEP>", "separator", "<KEEP>", "+", "<KEEP>", "a", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "relative", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "module", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "source", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "source", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "module", "<KEEP>", "resource", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9938949252318351, "using": 2, "keep": 1}
{"id": "DastanIqbal_google-voice-java-5-4283", "old_comment": "the m group settings list", "old_comment_tokens": ["the", "m", "group", "settings", "list"], "new_comment": "the m group list", "new_comment_tokens": ["the", "m", "group", "list"], "old_code": "public list < group > get group settings list ( ) { return m group settings list ; }", "old_code_tokens": ["public", "list", "<", "group", ">", "get", "group", "settings", "list", "(", ")", "{", "return", "m", "group", "settings", "list", ";", "}"], "new_code": "public list < group > get group settings list ( ) { return m group list ; }", "new_code_tokens": ["public", "list", "<", "group", ">", "get", "group", "settings", "list", "(", ")", "{", "return", "m", "group", "list", ";", "}"], "span_diff_code": "<KEEP> public list < group > get group settings list ( ) { return m group <KEEP_END> <DELETE> settings <DELETE_END> <KEEP> list ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "group", ">", "get", "group", "settings", "list", "(", ")", "{", "return", "m", "group", "<KEEP_END>", "<DELETE>", "settings", "<DELETE_END>", "<KEEP>", "list", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> settings <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "settings", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "group", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "group", "<KEEP>", "settings", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "group", "<DELETE>", "settings", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9971000719222891, "using": 2, "keep": 1}
{"id": "eugenp_tutorials-1-254", "old_comment": "returns cookie value ( or null if cookie with given key does not exist )", "old_comment_tokens": ["returns", "cookie", "value", "(", "or", "null", "if", "cookie", "with", "given", "key", "does", "not", "exist", ")"], "new_comment": "returns cookie value", "new_comment_tokens": ["returns", "cookie", "value"], "old_code": "public string read cookie ( string key ) { return arrays . stream ( request . get cookies ( ) ) . filter ( c - > key . equals ( c . get name ( ) ) ) . map ( cookie : : get value ) . find first ( ) . or else ( null ) ; }", "old_code_tokens": ["public", "string", "read", "cookie", "(", "string", "key", ")", "{", "return", "arrays", ".", "stream", "(", "request", ".", "get", "cookies", "(", ")", ")", ".", "filter", "(", "c", "-", ">", "key", ".", "equals", "(", "c", ".", "get", "name", "(", ")", ")", ")", ".", "map", "(", "cookie", ":", ":", "get", "value", ")", ".", "find", "first", "(", ")", ".", "or", "else", "(", "null", ")", ";", "}"], "new_code": "public optional < string > read cookie ( string key ) { return arrays . stream ( request . get cookies ( ) ) . filter ( c - > key . equals ( c . get name ( ) ) ) . map ( cookie : : get value ) . find any ( ) ; }", "new_code_tokens": ["public", "optional", "<", "string", ">", "read", "cookie", "(", "string", "key", ")", "{", "return", "arrays", ".", "stream", "(", "request", ".", "get", "cookies", "(", ")", ")", ".", "filter", "(", "c", "-", ">", "key", ".", "equals", "(", "c", ".", "get", "name", "(", ")", ")", ")", ".", "map", "(", "cookie", ":", ":", "get", "value", ")", ".", "find", "any", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> optional < <INSERT_END> <KEEP> string <KEEP_END> <INSERT> > <INSERT_END> <KEEP> read cookie ( string key ) { return arrays . stream ( request . get cookies ( ) ) . filter ( c - > key . equals ( c . get name ( ) ) ) . map ( cookie : : get value ) . find <KEEP_END> <REPLACE_OLD> first <REPLACE_NEW> any <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ) . or else ( null <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "optional", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "read", "cookie", "(", "string", "key", ")", "{", "return", "arrays", ".", "stream", "(", "request", ".", "get", "cookies", "(", ")", ")", ".", "filter", "(", "c", "-", ">", "key", ".", "equals", "(", "c", ".", "get", "name", "(", ")", ")", ")", ".", "map", "(", "cookie", ":", ":", "get", "value", ")", ".", "find", "<KEEP_END>", "<REPLACE_OLD>", "first", "<REPLACE_NEW>", "any", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", ".", "or", "else", "(", "null", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ( or null if cookie with given key does not exist ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "or", "null", "if", "cookie", "with", "given", "key", "does", "not", "exist", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "optional", "<INSERT>", "<", "<KEEP>", "string", "<INSERT>", ">", "<KEEP>", "read", "<KEEP>", "cookie", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cookies", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", "-", "<KEEP>", ">", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "cookie", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "find", "<REPLACE_OLD>", "first", "<REPLACE_NEW>", "any", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "or", "<DELETE>", "else", "<DELETE>", "(", "<DELETE>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8359779098407663, "using": 1, "keep": 1}
{"id": "apache_harmony-classlib-3-7160", "old_comment": "returns greater than zero when float1 > float2 , zero when float1 = = float2 , and less than zero when float1 < float2", "old_comment_tokens": ["returns", "greater", "than", "zero", "when", "float1", ">", "float2", ",", "zero", "when", "float1", "=", "=", "float2", ",", "and", "less", "than", "zero", "when", "float1", "<", "float2"], "new_comment": "returns greater than zero when float1 is greater than float2 , zero when float1 equals float2 , and less than zero when float1 is less than float2", "new_comment_tokens": ["returns", "greater", "than", "zero", "when", "float1", "is", "greater", "than", "float2", ",", "zero", "when", "float1", "equals", "float2", ",", "and", "less", "than", "zero", "when", "float1", "is", "less", "than", "float2"], "old_code": "public static int compare ( float float1 , float float2 ) { return float1 > float2 ? num : ( float1 < float2 ? - num : num ) ; }", "old_code_tokens": ["public", "static", "int", "compare", "(", "float", "float1", ",", "float", "float2", ")", "{", "return", "float1", ">", "float2", "?", "num", ":", "(", "float1", "<", "float2", "?", "-", "num", ":", "num", ")", ";", "}"], "new_code": "public static int compare ( float float1 , float float2 ) { int f1 , f2 ; int na nbits = float . float to int bits ( float . na n ) ; if ( ( f1 = float . float to int bits ( float1 ) ) = = na nbits ) { if ( float . float to int bits ( float2 ) = = na nbits ) { return num ; } return num ; } if ( ( f2 = float . float to int bits ( float2 ) ) = = na nbits ) { return - num ; } if ( float1 = = float2 ) { if ( f1 = = f2 ) { return num ; } return f1 > f2 ? num : - num ; } return float1 > float2 ? num : - num ; }", "new_code_tokens": ["public", "static", "int", "compare", "(", "float", "float1", ",", "float", "float2", ")", "{", "int", "f1", ",", "f2", ";", "int", "na", "nbits", "=", "float", ".", "float", "to", "int", "bits", "(", "float", ".", "na", "n", ")", ";", "if", "(", "(", "f1", "=", "float", ".", "float", "to", "int", "bits", "(", "float1", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "float", ".", "float", "to", "int", "bits", "(", "float2", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "f2", "=", "float", ".", "float", "to", "int", "bits", "(", "float2", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "float1", "=", "=", "float2", ")", "{", "if", "(", "f1", "=", "=", "f2", ")", "{", "return", "num", ";", "}", "return", "f1", ">", "f2", "?", "num", ":", "-", "num", ";", "}", "return", "float1", ">", "float2", "?", "num", ":", "-", "num", ";", "}"], "span_diff_code": "<KEEP> public static int compare ( float float1 , float float2 ) { <KEEP_END> <INSERT> int f1 , f2 ; int na nbits = float . float to int bits ( float . na n ) ; if ( ( f1 = float . float to int bits ( float1 ) ) = = na nbits ) { if ( float . float to int bits ( float2 ) = = na nbits ) { return num ; } return num ; } if ( ( f2 = float . float to int bits ( float2 ) ) = = na nbits ) { return - num ; } if ( float1 = = float2 ) { if ( f1 = = f2 ) { return num ; } return f1 > f2 ? num : - num ; } <INSERT_END> <KEEP> return float1 > float2 ? num : <KEEP_END> <DELETE> ( float1 < float2 ? <DELETE_END> <KEEP> - num <KEEP_END> <DELETE> : num ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "int", "compare", "(", "float", "float1", ",", "float", "float2", ")", "{", "<KEEP_END>", "<INSERT>", "int", "f1", ",", "f2", ";", "int", "na", "nbits", "=", "float", ".", "float", "to", "int", "bits", "(", "float", ".", "na", "n", ")", ";", "if", "(", "(", "f1", "=", "float", ".", "float", "to", "int", "bits", "(", "float1", ")", ")", "=", "=", "na", "nbits", ")", "{", "if", "(", "float", ".", "float", "to", "int", "bits", "(", "float2", ")", "=", "=", "na", "nbits", ")", "{", "return", "num", ";", "}", "return", "num", ";", "}", "if", "(", "(", "f2", "=", "float", ".", "float", "to", "int", "bits", "(", "float2", ")", ")", "=", "=", "na", "nbits", ")", "{", "return", "-", "num", ";", "}", "if", "(", "float1", "=", "=", "float2", ")", "{", "if", "(", "f1", "=", "=", "f2", ")", "{", "return", "num", ";", "}", "return", "f1", ">", "f2", "?", "num", ":", "-", "num", ";", "}", "<INSERT_END>", "<KEEP>", "return", "float1", ">", "float2", "?", "num", ":", "<KEEP_END>", "<DELETE>", "(", "float1", "<", "float2", "?", "<DELETE_END>", "<KEEP>", "-", "num", "<KEEP_END>", "<DELETE>", ":", "num", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> > <REPLACE_NEW> is greater than <REPLACE_END> <REPLACE_OLD> = = <REPLACE_NEW> equals <REPLACE_END> <REPLACE_OLD> < <REPLACE_NEW> is less than <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ">", "<REPLACE_NEW>", "is", "greater", "than", "<REPLACE_END>", "<REPLACE_OLD>", "=", "=", "<REPLACE_NEW>", "equals", "<REPLACE_END>", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", "is", "less", "than", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "compare", "<KEEP>", "(", "<KEEP>", "float", "<KEEP>", "float1", "<KEEP>", ",", "<KEEP>", "float", "<KEEP>", "float2", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "int", "<INSERT>", "f1", "<INSERT>", ",", "<INSERT>", "f2", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", "=", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "na", "<INSERT>", "n", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "f1", "<INSERT>", "=", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "float1", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "float2", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "f2", "<INSERT>", "=", "<INSERT>", "float", "<INSERT>", ".", "<INSERT>", "float", "<INSERT>", "to", "<INSERT>", "int", "<INSERT>", "bits", "<INSERT>", "(", "<INSERT>", "float2", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "na", "<INSERT>", "nbits", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "float1", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "float2", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "f1", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "f2", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "f1", "<INSERT>", ">", "<INSERT>", "f2", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "float1", "<KEEP>", ">", "<KEEP>", "float2", "<KEEP>", "?", "<KEEP>", "num", "<KEEP>", ":", "<DELETE>", "(", "<DELETE>", "float1", "<DELETE>", "<", "<DELETE>", "float2", "<DELETE>", "?", "<KEEP>", "-", "<KEEP>", "num", "<DELETE>", ":", "<DELETE>", "num", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8860067448463669, "using": 0, "keep": 1}
{"id": "google_protobuf-dt-0-4868", "old_comment": "the project that contains the resource at the given uri .", "old_comment_tokens": ["the", "project", "that", "contains", "the", "resource", "at", "the", "given", "uri", "."], "new_comment": "the project that contains the given resource .", "new_comment_tokens": ["the", "project", "that", "contains", "the", "given", "resource", "."], "old_code": "public iproject project ( uri file uri ) { return file ( file uri ) . get project ( ) ; }", "old_code_tokens": ["public", "iproject", "project", "(", "uri", "file", "uri", ")", "{", "return", "file", "(", "file", "uri", ")", ".", "get", "project", "(", ")", ";", "}"], "new_code": "public iproject project ( resource resource ) { return file ( resource . get uri ( ) ) . get project ( ) ; }", "new_code_tokens": ["public", "iproject", "project", "(", "resource", "resource", ")", "{", "return", "file", "(", "resource", ".", "get", "uri", "(", ")", ")", ".", "get", "project", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public iproject project ( <KEEP_END> <REPLACE_OLD> uri file uri <REPLACE_NEW> resource resource <REPLACE_END> <KEEP> ) { return file ( <KEEP_END> <REPLACE_OLD> file <REPLACE_NEW> resource . get <REPLACE_END> <KEEP> uri <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) . get project ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iproject", "project", "(", "<KEEP_END>", "<REPLACE_OLD>", "uri", "file", "uri", "<REPLACE_NEW>", "resource", "resource", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "file", "(", "<KEEP_END>", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "resource", ".", "get", "<REPLACE_END>", "<KEEP>", "uri", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ".", "get", "project", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> contains the <INSERT_NEW_KEEP_BEFORE> contains the given <INSERT_END> <DELETE> at the given uri <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "contains", "the", "<INSERT_NEW_KEEP_BEFORE>", "contains", "the", "given", "<INSERT_END>", "<DELETE>", "at", "the", "given", "uri", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", "(", "<REPLACE_OLD>", "uri", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "resource", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "file", "<KEEP>", "(", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "uri", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7996983098062791, "using": 1, "keep": 1}
{"id": "eclipse_mylyn.docs.vex-22-7493", "old_comment": "prefix : local name , or local name if prefix is null", "old_comment_tokens": ["prefix", ":", "local", "name", ",", "or", "local", "name", "if", "prefix", "is", "null"], "new_comment": "prefix : local name , or local name if prefix is null or this attribute is in the same namespace as the parent element .", "new_comment_tokens": ["prefix", ":", "local", "name", ",", "or", "local", "name", "if", "prefix", "is", "null", "or", "this", "attribute", "is", "in", "the", "same", "namespace", "as", "the", "parent", "element", "."], "old_code": "public string get prefixed name ( ) { return get local name ( ) ; }", "old_code_tokens": ["public", "string", "get", "prefixed", "name", "(", ")", "{", "return", "get", "local", "name", "(", ")", ";", "}"], "new_code": "public string get prefixed name ( ) { final string attribute qualifier = name . get qualifier ( ) ; if ( parent = = null | | attribute qualifier = = null ) return get local name ( ) ; final string element qualifier = parent . get qualified name ( ) . get qualifier ( ) ; if ( element qualifier = = null | | attribute qualifier . equals ( element qualifier ) ) return get local name ( ) ; final string prefix = parent . get namespace prefix ( attribute qualifier ) ; return ( prefix = = null ? str : prefix + str ) + get local name ( ) ; }", "new_code_tokens": ["public", "string", "get", "prefixed", "name", "(", ")", "{", "final", "string", "attribute", "qualifier", "=", "name", ".", "get", "qualifier", "(", ")", ";", "if", "(", "parent", "=", "=", "null", "|", "|", "attribute", "qualifier", "=", "=", "null", ")", "return", "get", "local", "name", "(", ")", ";", "final", "string", "element", "qualifier", "=", "parent", ".", "get", "qualified", "name", "(", ")", ".", "get", "qualifier", "(", ")", ";", "if", "(", "element", "qualifier", "=", "=", "null", "|", "|", "attribute", "qualifier", ".", "equals", "(", "element", "qualifier", ")", ")", "return", "get", "local", "name", "(", ")", ";", "final", "string", "prefix", "=", "parent", ".", "get", "namespace", "prefix", "(", "attribute", "qualifier", ")", ";", "return", "(", "prefix", "=", "=", "null", "?", "str", ":", "prefix", "+", "str", ")", "+", "get", "local", "name", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string get prefixed name ( ) { <KEEP_END> <INSERT> final string attribute qualifier = name . get qualifier ( ) ; if ( parent = = null | | attribute qualifier = = null ) <INSERT_END> <KEEP> return get local name ( ) ; <KEEP_END> <INSERT> final string element qualifier = parent . get qualified name ( ) . get qualifier ( ) ; if ( element qualifier = = null | | attribute qualifier . equals ( element qualifier ) ) return get local name ( ) ; final string prefix = parent . get namespace prefix ( attribute qualifier ) ; return ( prefix = = null ? str : prefix + str ) + get local name ( ) ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "prefixed", "name", "(", ")", "{", "<KEEP_END>", "<INSERT>", "final", "string", "attribute", "qualifier", "=", "name", ".", "get", "qualifier", "(", ")", ";", "if", "(", "parent", "=", "=", "null", "|", "|", "attribute", "qualifier", "=", "=", "null", ")", "<INSERT_END>", "<KEEP>", "return", "get", "local", "name", "(", ")", ";", "<KEEP_END>", "<INSERT>", "final", "string", "element", "qualifier", "=", "parent", ".", "get", "qualified", "name", "(", ")", ".", "get", "qualifier", "(", ")", ";", "if", "(", "element", "qualifier", "=", "=", "null", "|", "|", "attribute", "qualifier", ".", "equals", "(", "element", "qualifier", ")", ")", "return", "get", "local", "name", "(", ")", ";", "final", "string", "prefix", "=", "parent", ".", "get", "namespace", "prefix", "(", "attribute", "qualifier", ")", ";", "return", "(", "prefix", "=", "=", "null", "?", "str", ":", "prefix", "+", "str", ")", "+", "get", "local", "name", "(", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> null <INSERT_NEW_KEEP_BEFORE> null or this attribute is in the same namespace as the parent element . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "null", "<INSERT_NEW_KEEP_BEFORE>", "null", "or", "this", "attribute", "is", "in", "the", "same", "namespace", "as", "the", "parent", "element", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "prefixed", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "final", "<INSERT>", "string", "<INSERT>", "attribute", "<INSERT>", "qualifier", "<INSERT>", "=", "<INSERT>", "name", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "qualifier", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "parent", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "attribute", "<INSERT>", "qualifier", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "final", "<INSERT>", "string", "<INSERT>", "element", "<INSERT>", "qualifier", "<INSERT>", "=", "<INSERT>", "parent", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "qualified", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "qualifier", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", "qualifier", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "attribute", "<INSERT>", "qualifier", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", "qualifier", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "get", "<INSERT>", "local", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "string", "<INSERT>", "prefix", "<INSERT>", "=", "<INSERT>", "parent", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "namespace", "<INSERT>", "prefix", "<INSERT>", "(", "<INSERT>", "attribute", "<INSERT>", "qualifier", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "(", "<INSERT>", "prefix", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "str", "<INSERT>", ":", "<INSERT>", "prefix", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "get", "<INSERT>", "local", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8562571674286431, "using": 2, "keep": 1}
{"id": "codehaus_milyn-63-5845", "old_comment": "the condition evaluator , or null if no condition is specified .", "old_comment_tokens": ["the", "condition", "evaluator", ",", "or", "null", "if", "no", "condition", "is", "specified", "."], "new_comment": "the org . milyn . expression . expression evaluator , or null if no condition is specified .", "new_comment_tokens": ["the", "org", ".", "milyn", ".", "expression", ".", "expression", "evaluator", ",", "or", "null", "if", "no", "condition", "is", "specified", "."], "old_code": "public condition evaluator get condition evaluator ( ) { return condition evaluator ; }", "old_code_tokens": ["public", "condition", "evaluator", "get", "condition", "evaluator", "(", ")", "{", "return", "condition", "evaluator", ";", "}"], "new_code": "public expression evaluator get condition evaluator ( ) { return expression evaluator ; }", "new_code_tokens": ["public", "expression", "evaluator", "get", "condition", "evaluator", "(", ")", "{", "return", "expression", "evaluator", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> condition <REPLACE_NEW> expression <REPLACE_END> <KEEP> evaluator get condition evaluator ( ) { return <KEEP_END> <REPLACE_OLD> condition <REPLACE_NEW> expression <REPLACE_END> <KEEP> evaluator ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "condition", "<REPLACE_NEW>", "expression", "<REPLACE_END>", "<KEEP>", "evaluator", "get", "condition", "evaluator", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "condition", "<REPLACE_NEW>", "expression", "<REPLACE_END>", "<KEEP>", "evaluator", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the condition <REPLACE_NEW_KEEP_BEFORE> the org . milyn . expression . expression <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "condition", "<REPLACE_NEW_KEEP_BEFORE>", "the", "org", ".", "milyn", ".", "expression", ".", "expression", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "condition", "<REPLACE_NEW>", "expression", "<KEEP>", "evaluator", "<KEEP>", "get", "<KEEP>", "condition", "<KEEP>", "evaluator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "condition", "<REPLACE_NEW>", "expression", "<KEEP>", "evaluator", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8611612477121342, "using": 1, "keep": 1}
{"id": "eclipse_jnosql-diana-5-5296", "old_comment": "a column family entity instance", "old_comment_tokens": ["a", "column", "family", "entity", "instance"], "new_comment": "a column entity instance", "new_comment_tokens": ["a", "column", "entity", "instance"], "old_code": "static column family entity of ( string name ) { return new default column family entity ( name ) ; }", "old_code_tokens": ["static", "column", "family", "entity", "of", "(", "string", "name", ")", "{", "return", "new", "default", "column", "family", "entity", "(", "name", ")", ";", "}"], "new_code": "static column entity of ( string name ) { return new default column entity ( name ) ; }", "new_code_tokens": ["static", "column", "entity", "of", "(", "string", "name", ")", "{", "return", "new", "default", "column", "entity", "(", "name", ")", ";", "}"], "span_diff_code": "<KEEP> static column <KEEP_END> <DELETE> family <DELETE_END> <KEEP> entity of ( string name ) { return new default column <KEEP_END> <DELETE> family <DELETE_END> <KEEP> entity ( name ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "column", "<KEEP_END>", "<DELETE>", "family", "<DELETE_END>", "<KEEP>", "entity", "of", "(", "string", "name", ")", "{", "return", "new", "default", "column", "<KEEP_END>", "<DELETE>", "family", "<DELETE_END>", "<KEEP>", "entity", "(", "name", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> family <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "family", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "column", "<DELETE>", "family", "<KEEP>", "entity", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "column", "<DELETE>", "family", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.994061279699023, "using": 2, "keep": 1}
{"id": "yu199195_hmily-5-2616", "old_comment": "tcc transaction cache manager", "old_comment_tokens": ["tcc", "transaction", "cache", "manager"], "new_comment": "hmily transaction cache manager", "new_comment_tokens": ["hmily", "transaction", "cache", "manager"], "old_code": "public static tcc transaction cache manager get instance ( ) { return tcc _ transaction _ cache _ manager ; }", "old_code_tokens": ["public", "static", "tcc", "transaction", "cache", "manager", "get", "instance", "(", ")", "{", "return", "tcc", "_", "transaction", "_", "cache", "_", "manager", ";", "}"], "new_code": "public static hmily transaction cache manager get instance ( ) { return tcc _ transaction _ cache _ manager ; }", "new_code_tokens": ["public", "static", "hmily", "transaction", "cache", "manager", "get", "instance", "(", ")", "{", "return", "tcc", "_", "transaction", "_", "cache", "_", "manager", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END> <KEEP> transaction cache manager get instance ( ) { return tcc _ transaction _ cache _ manager ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>", "<KEEP>", "transaction", "cache", "manager", "get", "instance", "(", ")", "{", "return", "tcc", "_", "transaction", "_", "cache", "_", "manager", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> tcc <REPLACE_NEW> hmily <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "tcc", "<REPLACE_NEW>", "hmily", "<KEEP>", "transaction", "<KEEP>", "cache", "<KEEP>", "manager", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "tcc", "<KEEP>", "_", "<KEEP>", "transaction", "<KEEP>", "_", "<KEEP>", "cache", "<KEEP>", "_", "<KEEP>", "manager", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9677827206814205, "using": 2, "keep": 1}
{"id": "apache_manifoldcf-0-4779", "old_comment": "the property value , as an object .", "old_comment_tokens": ["the", "property", "value", ",", "as", "an", "object", "."], "new_comment": "the property value , as a string .", "new_comment_tokens": ["the", "property", "value", ",", "as", "a", "string", "."], "old_code": "public static final string get property ( string s ) { return local properties . get property ( s ) ; }", "old_code_tokens": ["public", "static", "final", "string", "get", "property", "(", "string", "s", ")", "{", "return", "local", "properties", ".", "get", "property", "(", "s", ")", ";", "}"], "new_code": "public static final string get property ( string s ) { string rval = system . get property ( s ) ; if ( rval = = null ) rval = local properties . get property ( s ) ; return rval ; }", "new_code_tokens": ["public", "static", "final", "string", "get", "property", "(", "string", "s", ")", "{", "string", "rval", "=", "system", ".", "get", "property", "(", "s", ")", ";", "if", "(", "rval", "=", "=", "null", ")", "rval", "=", "local", "properties", ".", "get", "property", "(", "s", ")", ";", "return", "rval", ";", "}"], "span_diff_code": "<KEEP> public static final string get property ( string s ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> string rval = system . get property ( s ) ; if ( rval = = null ) rval = <REPLACE_END> <KEEP> local properties . get property ( s ) ; <KEEP_END> <INSERT> return rval ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "string", "get", "property", "(", "string", "s", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "rval", "=", "system", ".", "get", "property", "(", "s", ")", ";", "if", "(", "rval", "=", "=", "null", ")", "rval", "=", "<REPLACE_END>", "<KEEP>", "local", "properties", ".", "get", "property", "(", "s", ")", ";", "<KEEP_END>", "<INSERT>", "return", "rval", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an object <REPLACE_NEW> a string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "object", "<REPLACE_NEW>", "a", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "s", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "rval", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "rval", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "rval", "<REPLACE_NEW>", "=", "<KEEP>", "local", "<KEEP>", "properties", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "s", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "rval", "<INSERT>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.7982069804013344, "using": 0, "keep": 1}
{"id": "mockito_mockito-3-708", "old_comment": "a wrapper ( across jvmmock serialization proxy ) to be serialized by the calling object output stream .", "old_comment_tokens": ["a", "wrapper", "(", "across", "jvmmock", "serialization", "proxy", ")", "to", "be", "serialized", "by", "the", "calling", "object", "output", "stream", "."], "new_comment": "a wrapper ( cross class loader serialization proxy ) to be serialized by the calling object output stream .", "new_comment_tokens": ["a", "wrapper", "(", "cross", "class", "loader", "serialization", "proxy", ")", "to", "be", "serialized", "by", "the", "calling", "object", "output", "stream", "."], "old_code": "public object write replace ( object mockito mock ) throws object stream exception { try { mutex . lock ( ) ; if ( mock is currently being replaced ( ) ) { return mockito mock ; } mock replacement started ( ) ; return new across jvmmock serialization proxy ( mockito mock ) ; } catch ( ioexception ioe ) { mock util mock util = new mock util ( ) ; mock name mock name = mock util . get mock name ( mockito mock ) ; string mocked type = mock util . get mock settings ( mockito mock ) . get type to mock ( ) . get canonical name ( ) ; throw new mockito serialization issue ( join ( str + mock name + str + mocked type + str , str + ioe . get class ( ) . get simple name ( ) + str , str + ioe . get message ( ) ) , ioe ) ; } finally { mock replacement completed ( ) ; mutex . unlock ( ) ; } }", "old_code_tokens": ["public", "object", "write", "replace", "(", "object", "mockito", "mock", ")", "throws", "object", "stream", "exception", "{", "try", "{", "mutex", ".", "lock", "(", ")", ";", "if", "(", "mock", "is", "currently", "being", "replaced", "(", ")", ")", "{", "return", "mockito", "mock", ";", "}", "mock", "replacement", "started", "(", ")", ";", "return", "new", "across", "jvmmock", "serialization", "proxy", "(", "mockito", "mock", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "mock", "util", "mock", "util", "=", "new", "mock", "util", "(", ")", ";", "mock", "name", "mock", "name", "=", "mock", "util", ".", "get", "mock", "name", "(", "mockito", "mock", ")", ";", "string", "mocked", "type", "=", "mock", "util", ".", "get", "mock", "settings", "(", "mockito", "mock", ")", ".", "get", "type", "to", "mock", "(", ")", ".", "get", "canonical", "name", "(", ")", ";", "throw", "new", "mockito", "serialization", "issue", "(", "join", "(", "str", "+", "mock", "name", "+", "str", "+", "mocked", "type", "+", "str", ",", "str", "+", "ioe", ".", "get", "class", "(", ")", ".", "get", "simple", "name", "(", ")", "+", "str", ",", "str", "+", "ioe", ".", "get", "message", "(", ")", ")", ",", "ioe", ")", ";", "}", "finally", "{", "mock", "replacement", "completed", "(", ")", ";", "mutex", ".", "unlock", "(", ")", ";", "}", "}"], "new_code": "public object write replace ( object mockito mock ) throws object stream exception { mutex . lock ( ) ; try { if ( mock is currently being replaced ( ) ) { return mockito mock ; } mock replacement started ( ) ; return new cross class loader serialization proxy ( mockito mock ) ; } catch ( ioexception ioe ) { mock util mock util = new mock util ( ) ; mock name mock name = mock util . get mock name ( mockito mock ) ; string mocked type = mock util . get mock settings ( mockito mock ) . get type to mock ( ) . get canonical name ( ) ; throw new mockito serialization issue ( join ( str + mock name + str + mocked type + str , str + ioe . get class ( ) . get simple name ( ) + str , str + ioe . get message ( ) ) , ioe ) ; } finally { mock replacement completed ( ) ; mutex . unlock ( ) ; } }", "new_code_tokens": ["public", "object", "write", "replace", "(", "object", "mockito", "mock", ")", "throws", "object", "stream", "exception", "{", "mutex", ".", "lock", "(", ")", ";", "try", "{", "if", "(", "mock", "is", "currently", "being", "replaced", "(", ")", ")", "{", "return", "mockito", "mock", ";", "}", "mock", "replacement", "started", "(", ")", ";", "return", "new", "cross", "class", "loader", "serialization", "proxy", "(", "mockito", "mock", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "mock", "util", "mock", "util", "=", "new", "mock", "util", "(", ")", ";", "mock", "name", "mock", "name", "=", "mock", "util", ".", "get", "mock", "name", "(", "mockito", "mock", ")", ";", "string", "mocked", "type", "=", "mock", "util", ".", "get", "mock", "settings", "(", "mockito", "mock", ")", ".", "get", "type", "to", "mock", "(", ")", ".", "get", "canonical", "name", "(", ")", ";", "throw", "new", "mockito", "serialization", "issue", "(", "join", "(", "str", "+", "mock", "name", "+", "str", "+", "mocked", "type", "+", "str", ",", "str", "+", "ioe", ".", "get", "class", "(", ")", ".", "get", "simple", "name", "(", ")", "+", "str", ",", "str", "+", "ioe", ".", "get", "message", "(", ")", ")", ",", "ioe", ")", ";", "}", "finally", "{", "mock", "replacement", "completed", "(", ")", ";", "mutex", ".", "unlock", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public object write replace ( object mockito mock ) throws object stream exception { <KEEP_END> <DELETE> try { <DELETE_END> <KEEP> mutex . lock ( ) ; <KEEP_END> <INSERT> try { <INSERT_END> <KEEP> if ( mock is currently being replaced ( ) ) { return mockito mock ; } mock replacement started ( ) ; return new <KEEP_END> <REPLACE_OLD> across jvmmock <REPLACE_NEW> cross class loader <REPLACE_END> <KEEP> serialization proxy ( mockito mock ) ; } catch ( ioexception ioe ) { mock util mock util = new mock util ( ) ; mock name mock name = mock util . get mock name ( mockito mock ) ; string mocked type = mock util . get mock settings ( mockito mock ) . get type to mock ( ) . get canonical name ( ) ; throw new mockito serialization issue ( join ( str + mock name + str + mocked type + str , str + ioe . get class ( ) . get simple name ( ) + str , str + ioe . get message ( ) ) , ioe ) ; } finally { mock replacement completed ( ) ; mutex . unlock ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "object", "write", "replace", "(", "object", "mockito", "mock", ")", "throws", "object", "stream", "exception", "{", "<KEEP_END>", "<DELETE>", "try", "{", "<DELETE_END>", "<KEEP>", "mutex", ".", "lock", "(", ")", ";", "<KEEP_END>", "<INSERT>", "try", "{", "<INSERT_END>", "<KEEP>", "if", "(", "mock", "is", "currently", "being", "replaced", "(", ")", ")", "{", "return", "mockito", "mock", ";", "}", "mock", "replacement", "started", "(", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "across", "jvmmock", "<REPLACE_NEW>", "cross", "class", "loader", "<REPLACE_END>", "<KEEP>", "serialization", "proxy", "(", "mockito", "mock", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "mock", "util", "mock", "util", "=", "new", "mock", "util", "(", ")", ";", "mock", "name", "mock", "name", "=", "mock", "util", ".", "get", "mock", "name", "(", "mockito", "mock", ")", ";", "string", "mocked", "type", "=", "mock", "util", ".", "get", "mock", "settings", "(", "mockito", "mock", ")", ".", "get", "type", "to", "mock", "(", ")", ".", "get", "canonical", "name", "(", ")", ";", "throw", "new", "mockito", "serialization", "issue", "(", "join", "(", "str", "+", "mock", "name", "+", "str", "+", "mocked", "type", "+", "str", ",", "str", "+", "ioe", ".", "get", "class", "(", ")", ".", "get", "simple", "name", "(", ")", "+", "str", ",", "str", "+", "ioe", ".", "get", "message", "(", ")", ")", ",", "ioe", ")", ";", "}", "finally", "{", "mock", "replacement", "completed", "(", ")", ";", "mutex", ".", "unlock", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> across jvmmock <REPLACE_NEW> cross class loader <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "across", "jvmmock", "<REPLACE_NEW>", "cross", "class", "loader", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "write", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "mockito", "<KEEP>", "mock", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "object", "<KEEP>", "stream", "<KEEP>", "exception", "<KEEP>", "{", "<DELETE>", "try", "<DELETE>", "{", "<KEEP>", "mutex", "<KEEP>", ".", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "try", "<INSERT>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mock", "<KEEP>", "is", "<KEEP>", "currently", "<KEEP>", "being", "<KEEP>", "replaced", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "mockito", "<KEEP>", "mock", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "mock", "<KEEP>", "replacement", "<KEEP>", "started", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "across", "<REPLACE_OLD>", "jvmmock", "<REPLACE_NEW>", "cross", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "loader", "<KEEP>", "serialization", "<KEEP>", "proxy", "<KEEP>", "(", "<KEEP>", "mockito", "<KEEP>", "mock", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "ioe", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "mock", "<KEEP>", "util", "<KEEP>", "mock", "<KEEP>", "util", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "mock", "<KEEP>", "util", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "mock", "<KEEP>", "name", "<KEEP>", "mock", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "mock", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "mock", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "mockito", "<KEEP>", "mock", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "mocked", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "mock", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "mock", "<KEEP>", "settings", "<KEEP>", "(", "<KEEP>", "mockito", "<KEEP>", "mock", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "to", "<KEEP>", "mock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "canonical", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "mockito", "<KEEP>", "serialization", "<KEEP>", "issue", "<KEEP>", "(", "<KEEP>", "join", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "mock", "<KEEP>", "name", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "mocked", "<KEEP>", "type", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "ioe", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "simple", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "ioe", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "ioe", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "mock", "<KEEP>", "replacement", "<KEEP>", "completed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "mutex", "<KEEP>", ".", "<KEEP>", "unlock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "valid", "score": 0.9864315833013859, "using": 2, "keep": 1}
{"id": "hibernate_hibernate-orm-140-3071", "old_comment": "a collection view of the entity copies contained in this event cache", "old_comment_tokens": ["a", "collection", "view", "of", "the", "entity", "copies", "contained", "in", "this", "event", "cache"], "new_comment": "an unmodifiable set view of the entity copies contained in this event cache", "new_comment_tokens": ["an", "unmodifiable", "set", "view", "of", "the", "entity", "copies", "contained", "in", "this", "event", "cache"], "old_code": "public collection values ( ) { return entity to copy map . values ( ) ; }", "old_code_tokens": ["public", "collection", "values", "(", ")", "{", "return", "entity", "to", "copy", "map", ".", "values", "(", ")", ";", "}"], "new_code": "public collection values ( ) { return collections . unmodifiable collection ( entity to copy map . values ( ) ) ; }", "new_code_tokens": ["public", "collection", "values", "(", ")", "{", "return", "collections", ".", "unmodifiable", "collection", "(", "entity", "to", "copy", "map", ".", "values", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public collection values ( ) { return <KEEP_END> <INSERT> collections . unmodifiable collection ( <INSERT_END> <KEEP> entity to copy map . values ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "collection", "values", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "collection", "(", "<INSERT_END>", "<KEEP>", "entity", "to", "copy", "map", ".", "values", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a collection <REPLACE_NEW> an unmodifiable set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "collection", "<REPLACE_NEW>", "an", "unmodifiable", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "collection", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "collection", "<INSERT>", "(", "<KEEP>", "entity", "<KEEP>", "to", "<KEEP>", "copy", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9099949331109841, "using": 1, "keep": 1}
{"id": "Netflix_Hystrix-0-206", "old_comment": "this hystrix command builder", "old_comment_tokens": ["this", "hystrix", "command", "builder"], "new_comment": "this hystrix command builder . builder", "new_comment_tokens": ["this", "hystrix", "command", "builder", ".", "builder"], "old_code": "public hystrix command builder command actions ( command actions p command actions ) { this . command actions = p command actions ; return this ; }", "old_code_tokens": ["public", "hystrix", "command", "builder", "command", "actions", "(", "command", "actions", "p", "command", "actions", ")", "{", "this", ".", "command", "actions", "=", "p", "command", "actions", ";", "return", "this", ";", "}"], "new_code": "public builder command actions ( command actions p command actions ) { this . command actions = p command actions ; return this ; }", "new_code_tokens": ["public", "builder", "command", "actions", "(", "command", "actions", "p", "command", "actions", ")", "{", "this", ".", "command", "actions", "=", "p", "command", "actions", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hystrix command <DELETE_END> <KEEP> builder command actions ( command actions p command actions ) { this . command actions = p command actions ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hystrix", "command", "<DELETE_END>", "<KEEP>", "builder", "command", "actions", "(", "command", "actions", "p", "command", "actions", ")", "{", "this", ".", "command", "actions", "=", "p", "command", "actions", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> builder <INSERT_NEW_KEEP_BEFORE> builder . builder <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "builder", "<INSERT_NEW_KEEP_BEFORE>", "builder", ".", "builder", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hystrix", "<DELETE>", "command", "<KEEP>", "builder", "<KEEP>", "command", "<KEEP>", "actions", "<KEEP>", "(", "<KEEP>", "command", "<KEEP>", "actions", "<KEEP>", "p", "<KEEP>", "command", "<KEEP>", "actions", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "command", "<KEEP>", "actions", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "command", "<KEEP>", "actions", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9102205927088944, "using": 0, "keep": 1}
{"id": "apache_stratos-135-6574", "old_comment": "the network partition", "old_comment_tokens": ["the", "network", "partition"], "new_comment": "the network partition ref", "new_comment_tokens": ["the", "network", "partition", "ref"], "old_code": "public network partition get network partition by network partition id ( string network partition id ) { if ( network partitions ! = null ) { for ( network partition network partition : network partitions ) { if ( network partition . get id ( ) . equals ( network partition id ) ) { return network partition ; } } } return null ; }", "old_code_tokens": ["public", "network", "partition", "get", "network", "partition", "by", "network", "partition", "id", "(", "string", "network", "partition", "id", ")", "{", "if", "(", "network", "partitions", "!", "=", "null", ")", "{", "for", "(", "network", "partition", "network", "partition", ":", "network", "partitions", ")", "{", "if", "(", "network", "partition", ".", "get", "id", "(", ")", ".", "equals", "(", "network", "partition", "id", ")", ")", "{", "return", "network", "partition", ";", "}", "}", "}", "return", "null", ";", "}"], "new_code": "public network partition ref get network partition by network partition id ( string network partition id ) { if ( network partition refs ! = null ) { for ( network partition ref network partition : network partition refs ) { if ( network partition . get id ( ) . equals ( network partition id ) ) { return network partition ; } } } return null ; }", "new_code_tokens": ["public", "network", "partition", "ref", "get", "network", "partition", "by", "network", "partition", "id", "(", "string", "network", "partition", "id", ")", "{", "if", "(", "network", "partition", "refs", "!", "=", "null", ")", "{", "for", "(", "network", "partition", "ref", "network", "partition", ":", "network", "partition", "refs", ")", "{", "if", "(", "network", "partition", ".", "get", "id", "(", ")", ".", "equals", "(", "network", "partition", "id", ")", ")", "{", "return", "network", "partition", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public network partition <KEEP_END> <INSERT> ref <INSERT_END> <KEEP> get network partition by network partition id ( string network partition id ) { if ( network <KEEP_END> <REPLACE_OLD> partitions <REPLACE_NEW> partition refs <REPLACE_END> <KEEP> ! = null ) { for ( network partition <KEEP_END> <INSERT> ref <INSERT_END> <KEEP> network partition : network <KEEP_END> <REPLACE_OLD> partitions <REPLACE_NEW> partition refs <REPLACE_END> <KEEP> ) { if ( network partition . get id ( ) . equals ( network partition id ) ) { return network partition ; } } } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "network", "partition", "<KEEP_END>", "<INSERT>", "ref", "<INSERT_END>", "<KEEP>", "get", "network", "partition", "by", "network", "partition", "id", "(", "string", "network", "partition", "id", ")", "{", "if", "(", "network", "<KEEP_END>", "<REPLACE_OLD>", "partitions", "<REPLACE_NEW>", "partition", "refs", "<REPLACE_END>", "<KEEP>", "!", "=", "null", ")", "{", "for", "(", "network", "partition", "<KEEP_END>", "<INSERT>", "ref", "<INSERT_END>", "<KEEP>", "network", "partition", ":", "network", "<KEEP_END>", "<REPLACE_OLD>", "partitions", "<REPLACE_NEW>", "partition", "refs", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "network", "partition", ".", "get", "id", "(", ")", ".", "equals", "(", "network", "partition", "id", ")", ")", "{", "return", "network", "partition", ";", "}", "}", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> partition <INSERT_NEW_KEEP_BEFORE> partition ref <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "partition", "<INSERT_NEW_KEEP_BEFORE>", "partition", "ref", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "network", "<KEEP>", "partition", "<INSERT>", "ref", "<KEEP>", "get", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", "by", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "network", "<REPLACE_OLD>", "partitions", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "refs", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "partition", "<INSERT>", "ref", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", ":", "<KEEP>", "network", "<REPLACE_OLD>", "partitions", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "refs", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "network", "<KEEP>", "partition", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9685017860932916, "using": 2, "keep": 1}
{"id": "codehaus_coconut-56-4057", "old_comment": "an event processor wrapped in a offerable", "old_comment_tokens": ["an", "event", "processor", "wrapped", "in", "a", "offerable"], "new_comment": "an procedure wrapped in a offerable", "new_comment_tokens": ["an", "procedure", "wrapped", "in", "a", "offerable"], "old_code": "public static < e > offerable < e > to offerable safe ( final procedure < e > processor ) { return new event processor2 offerable safe < e > ( processor ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "offerable", "<", "e", ">", "to", "offerable", "safe", "(", "final", "procedure", "<", "e", ">", "processor", ")", "{", "return", "new", "event", "processor2", "offerable", "safe", "<", "e", ">", "(", "processor", ")", ";", "}"], "new_code": "public static < e > offerable < e > to offerable safe ( final procedure < e > processor ) { return new procedure2 offerable safe < e > ( processor ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "offerable", "<", "e", ">", "to", "offerable", "safe", "(", "final", "procedure", "<", "e", ">", "processor", ")", "{", "return", "new", "procedure2", "offerable", "safe", "<", "e", ">", "(", "processor", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > offerable < e > to offerable safe ( final procedure < e > processor ) { return new <KEEP_END> <REPLACE_OLD> event processor2 <REPLACE_NEW> procedure2 <REPLACE_END> <KEEP> offerable safe < e > ( processor ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "offerable", "<", "e", ">", "to", "offerable", "safe", "(", "final", "procedure", "<", "e", ">", "processor", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "event", "processor2", "<REPLACE_NEW>", "procedure2", "<REPLACE_END>", "<KEEP>", "offerable", "safe", "<", "e", ">", "(", "processor", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> event processor <REPLACE_NEW> procedure <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "event", "processor", "<REPLACE_NEW>", "procedure", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "offerable", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "to", "<KEEP>", "offerable", "<KEEP>", "safe", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "procedure", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "processor", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "event", "<REPLACE_OLD>", "processor2", "<REPLACE_NEW>", "procedure2", "<KEEP>", "offerable", "<KEEP>", "safe", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "processor", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9738652404225836, "using": 2, "keep": 1}
{"id": "eclipse_webtools.webservices-11-4546", "old_comment": "empty if no ear components", "old_comment_tokens": ["empty", "if", "no", "ear", "components"], "new_comment": "empty if no ear components ; must not return null", "new_comment_tokens": ["empty", "if", "no", "ear", "components", ";", "must", "not", "return", "null"], "old_code": "public static ivirtual component [ ] get earcomponents from project ( iproject project ) { structure edit mc = null ; ivirtual component [ ] ear components = null ; try { mc = structure edit . get structure edit for read ( project ) ; if ( mc ! = null ) { workbench component [ ] wbcs = mc . get workbench modules ( ) ; ear components = new ivirtual component [ wbcs . length ] ; for ( int i = num ; i < wbcs . length ; i + + ) { if ( is earcomponent ( project , wbcs [ i ] . get name ( ) ) ) ear components [ i ] = component core . create component ( project , wbcs [ i ] . get name ( ) ) ; } } } catch ( exception e ) { } finally { if ( mc ! = null ) mc . dispose ( ) ; } return ear components ; }", "old_code_tokens": ["public", "static", "ivirtual", "component", "[", "]", "get", "earcomponents", "from", "project", "(", "iproject", "project", ")", "{", "structure", "edit", "mc", "=", "null", ";", "ivirtual", "component", "[", "]", "ear", "components", "=", "null", ";", "try", "{", "mc", "=", "structure", "edit", ".", "get", "structure", "edit", "for", "read", "(", "project", ")", ";", "if", "(", "mc", "!", "=", "null", ")", "{", "workbench", "component", "[", "]", "wbcs", "=", "mc", ".", "get", "workbench", "modules", "(", ")", ";", "ear", "components", "=", "new", "ivirtual", "component", "[", "wbcs", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "wbcs", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "is", "earcomponent", "(", "project", ",", "wbcs", "[", "i", "]", ".", "get", "name", "(", ")", ")", ")", "ear", "components", "[", "i", "]", "=", "component", "core", ".", "create", "component", "(", "project", ",", "wbcs", "[", "i", "]", ".", "get", "name", "(", ")", ")", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "finally", "{", "if", "(", "mc", "!", "=", "null", ")", "mc", ".", "dispose", "(", ")", ";", "}", "return", "ear", "components", ";", "}"], "new_code": "public static ivirtual component [ ] get earcomponents from project ( iproject project ) { vector v = new vector ( ) ; try { iflexible project flex = component core . create flexible project ( project ) ; ivirtual component [ ] components = flex . get components ( ) ; for ( int i = num ; i < components . length ; i + + ) { if ( is earcomponent ( project , components [ i ] . get name ( ) ) ) { v . add ( components [ i ] ) ; } } } catch ( exception e ) { } return ( ivirtual component [ ] ) v . to array ( new ivirtual component [ num ] ) ; }", "new_code_tokens": ["public", "static", "ivirtual", "component", "[", "]", "get", "earcomponents", "from", "project", "(", "iproject", "project", ")", "{", "vector", "v", "=", "new", "vector", "(", ")", ";", "try", "{", "iflexible", "project", "flex", "=", "component", "core", ".", "create", "flexible", "project", "(", "project", ")", ";", "ivirtual", "component", "[", "]", "components", "=", "flex", ".", "get", "components", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "components", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "is", "earcomponent", "(", "project", ",", "components", "[", "i", "]", ".", "get", "name", "(", ")", ")", ")", "{", "v", ".", "add", "(", "components", "[", "i", "]", ")", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "return", "(", "ivirtual", "component", "[", "]", ")", "v", ".", "to", "array", "(", "new", "ivirtual", "component", "[", "num", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public static ivirtual component [ ] get earcomponents from project ( iproject project ) { <KEEP_END> <REPLACE_OLD> structure edit mc <REPLACE_NEW> vector v <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new vector ( ) ; try { iflexible project flex = component core . create flexible project ( project ) <REPLACE_END> <KEEP> ; ivirtual component [ ] <KEEP_END> <DELETE> ear <DELETE_END> <KEEP> components = <KEEP_END> <REPLACE_OLD> null ; try { mc = structure edit <REPLACE_NEW> flex <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> structure edit for read ( project ) ; if ( mc ! = null ) { workbench component [ ] wbcs = mc . get workbench modules <REPLACE_NEW> components <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> ; ear components = new ivirtual component [ wbcs . length ] <DELETE_END> <KEEP> ; for ( int i = num ; i < <KEEP_END> <REPLACE_OLD> wbcs <REPLACE_NEW> components <REPLACE_END> <KEEP> . length ; i + + ) { if ( is earcomponent ( project , <KEEP_END> <REPLACE_OLD> wbcs <REPLACE_NEW> components <REPLACE_END> <KEEP> [ i ] . get name ( ) ) ) <KEEP_END> <REPLACE_OLD> ear <REPLACE_NEW> { v . add ( <REPLACE_END> <KEEP> components [ i ] <KEEP_END> <DELETE> = component core . create component ( project , wbcs [ i ] . get name ( ) <DELETE_END> <KEEP> ) ; } } } catch ( exception e ) { } <KEEP_END> <REPLACE_OLD> finally { if <REPLACE_NEW> return <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> mc ! = null <REPLACE_NEW> ivirtual component [ ] <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> mc <REPLACE_NEW> v <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> dispose <REPLACE_NEW> to array <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> new ivirtual component [ num ] <INSERT_END> <KEEP> ) ; } <KEEP_END> <DELETE> return ear components ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "ivirtual", "component", "[", "]", "get", "earcomponents", "from", "project", "(", "iproject", "project", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "structure", "edit", "mc", "<REPLACE_NEW>", "vector", "v", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "vector", "(", ")", ";", "try", "{", "iflexible", "project", "flex", "=", "component", "core", ".", "create", "flexible", "project", "(", "project", ")", "<REPLACE_END>", "<KEEP>", ";", "ivirtual", "component", "[", "]", "<KEEP_END>", "<DELETE>", "ear", "<DELETE_END>", "<KEEP>", "components", "=", "<KEEP_END>", "<REPLACE_OLD>", "null", ";", "try", "{", "mc", "=", "structure", "edit", "<REPLACE_NEW>", "flex", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "structure", "edit", "for", "read", "(", "project", ")", ";", "if", "(", "mc", "!", "=", "null", ")", "{", "workbench", "component", "[", "]", "wbcs", "=", "mc", ".", "get", "workbench", "modules", "<REPLACE_NEW>", "components", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ";", "ear", "components", "=", "new", "ivirtual", "component", "[", "wbcs", ".", "length", "]", "<DELETE_END>", "<KEEP>", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "<KEEP_END>", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<REPLACE_END>", "<KEEP>", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "is", "earcomponent", "(", "project", ",", "<KEEP_END>", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<REPLACE_END>", "<KEEP>", "[", "i", "]", ".", "get", "name", "(", ")", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "ear", "<REPLACE_NEW>", "{", "v", ".", "add", "(", "<REPLACE_END>", "<KEEP>", "components", "[", "i", "]", "<KEEP_END>", "<DELETE>", "=", "component", "core", ".", "create", "component", "(", "project", ",", "wbcs", "[", "i", "]", ".", "get", "name", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "<KEEP_END>", "<REPLACE_OLD>", "finally", "{", "if", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "mc", "!", "=", "null", "<REPLACE_NEW>", "ivirtual", "component", "[", "]", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "mc", "<REPLACE_NEW>", "v", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "dispose", "<REPLACE_NEW>", "to", "array", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "new", "ivirtual", "component", "[", "num", "]", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "ear", "components", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> components <INSERT_NEW_KEEP_BEFORE> components ; must not return null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "components", "<INSERT_NEW_KEEP_BEFORE>", "components", ";", "must", "not", "return", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "ivirtual", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "earcomponents", "<KEEP>", "from", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "structure", "<REPLACE_OLD>", "edit", "<REPLACE_OLD>", "mc", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "v", "<KEEP>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "vector", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "iflexible", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "flex", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "component", "<REPLACE_NEW>", "core", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "flexible", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "ivirtual", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<DELETE>", "ear", "<KEEP>", "components", "<KEEP>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "structure", "<REPLACE_OLD>", "edit", "<REPLACE_NEW>", "flex", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "structure", "<REPLACE_OLD>", "edit", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "read", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "workbench", "<REPLACE_OLD>", "component", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "wbcs", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "workbench", "<REPLACE_OLD>", "modules", "<REPLACE_NEW>", "components", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "ear", "<DELETE>", "components", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "ivirtual", "<DELETE>", "component", "<DELETE>", "[", "<DELETE>", "wbcs", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "earcomponent", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", ",", "<REPLACE_OLD>", "wbcs", "<REPLACE_NEW>", "components", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "ear", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "v", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<KEEP>", "components", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<DELETE>", "=", "<DELETE>", "component", "<DELETE>", "core", "<DELETE>", ".", "<DELETE>", "create", "<DELETE>", "component", "<DELETE>", "(", "<DELETE>", "project", "<DELETE>", ",", "<DELETE>", "wbcs", "<DELETE>", "[", "<DELETE>", "i", "<DELETE>", "]", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<REPLACE_OLD>", "finally", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "mc", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "ivirtual", "<REPLACE_NEW>", "component", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<KEEP>", ")", "<REPLACE_OLD>", "mc", "<REPLACE_NEW>", "v", "<KEEP>", ".", "<REPLACE_OLD>", "dispose", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "array", "<KEEP>", "(", "<INSERT>", "new", "<INSERT>", "ivirtual", "<INSERT>", "component", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "ear", "<DELETE>", "components", "<DELETE>", ";", "<DELETE>", "}"], "split": "valid", "score": 0.9089995656441487, "using": 2, "keep": 1}
{"id": "hibernate_hibernate-orm-139-3070", "old_comment": "a set view of the entities contained in this event cache", "old_comment_tokens": ["a", "set", "view", "of", "the", "entities", "contained", "in", "this", "event", "cache"], "new_comment": "an unmodifiable set view of the entities contained in this event cache", "new_comment_tokens": ["an", "unmodifiable", "set", "view", "of", "the", "entities", "contained", "in", "this", "event", "cache"], "old_code": "public set key set ( ) { return entity to copy map . key set ( ) ; }", "old_code_tokens": ["public", "set", "key", "set", "(", ")", "{", "return", "entity", "to", "copy", "map", ".", "key", "set", "(", ")", ";", "}"], "new_code": "public set key set ( ) { return collections . unmodifiable set ( entity to copy map . key set ( ) ) ; }", "new_code_tokens": ["public", "set", "key", "set", "(", ")", "{", "return", "collections", ".", "unmodifiable", "set", "(", "entity", "to", "copy", "map", ".", "key", "set", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public set key set ( ) { return <KEEP_END> <INSERT> collections . unmodifiable set ( <INSERT_END> <KEEP> entity to copy map . key set ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "set", "key", "set", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "set", "(", "<INSERT_END>", "<KEEP>", "entity", "to", "copy", "map", ".", "key", "set", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a <REPLACE_NEW> an unmodifiable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "<REPLACE_NEW>", "an", "unmodifiable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "set", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "set", "<INSERT>", "(", "<KEEP>", "entity", "<KEEP>", "to", "<KEEP>", "copy", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9799510770030622, "using": 2, "keep": 1}
{"id": "nuxeo_nuxeo-29-6686", "old_comment": "true if the file contains searched entry name . false otherwise", "old_comment_tokens": ["true", "if", "the", "file", "contains", "searched", "entry", "name", ".", "false", "otherwise"], "new_comment": "true if the file contains entry name . false otherwise", "new_comment_tokens": ["true", "if", "the", "file", "contains", "entry", "name", ".", "false", "otherwise"], "old_code": "public static boolean has entry ( file file , string searched entry name ) throws ioexception { list < string > elements = get entry names ( file ) ; return elements . contains ( searched entry name ) ; }", "old_code_tokens": ["public", "static", "boolean", "has", "entry", "(", "file", "file", ",", "string", "searched", "entry", "name", ")", "throws", "ioexception", "{", "list", "<", "string", ">", "elements", "=", "get", "entry", "names", "(", "file", ")", ";", "return", "elements", ".", "contains", "(", "searched", "entry", "name", ")", ";", "}"], "new_code": "public static boolean has entry ( file file , string entry name ) throws ioexception { list < string > elements = get entry names ( file ) ; return elements . contains ( entry name ) ; }", "new_code_tokens": ["public", "static", "boolean", "has", "entry", "(", "file", "file", ",", "string", "entry", "name", ")", "throws", "ioexception", "{", "list", "<", "string", ">", "elements", "=", "get", "entry", "names", "(", "file", ")", ";", "return", "elements", ".", "contains", "(", "entry", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean has entry ( file file , string <KEEP_END> <DELETE> searched <DELETE_END> <KEEP> entry name ) throws ioexception { list < string > elements = get entry names ( file ) ; return elements . contains ( <KEEP_END> <DELETE> searched <DELETE_END> <KEEP> entry name ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "has", "entry", "(", "file", "file", ",", "string", "<KEEP_END>", "<DELETE>", "searched", "<DELETE_END>", "<KEEP>", "entry", "name", ")", "throws", "ioexception", "{", "list", "<", "string", ">", "elements", "=", "get", "entry", "names", "(", "file", ")", ";", "return", "elements", ".", "contains", "(", "<KEEP_END>", "<DELETE>", "searched", "<DELETE_END>", "<KEEP>", "entry", "name", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> searched <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "searched", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "entry", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "string", "<DELETE>", "searched", "<KEEP>", "entry", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "elements", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "entry", "<KEEP>", "names", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "elements", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<DELETE>", "searched", "<KEEP>", "entry", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9912896152915274, "using": 2, "keep": 1}
{"id": "bitcoinj_bitcoinj-42-3630", "old_comment": "the height of the best chain as claimed by peer .", "old_comment_tokens": ["the", "height", "of", "the", "best", "chain", "as", "claimed", "by", "peer", "."], "new_comment": "the height of the best chain as claimed by peer : sum of its ver announcement and blocks announced since .", "new_comment_tokens": ["the", "height", "of", "the", "best", "chain", "as", "claimed", "by", "peer", ":", "sum", "of", "its", "ver", "announcement", "and", "blocks", "announced", "since", "."], "old_code": "public long get best height ( ) { return peer version message . best height ; }", "old_code_tokens": ["public", "long", "get", "best", "height", "(", ")", "{", "return", "peer", "version", "message", ".", "best", "height", ";", "}"], "new_code": "public long get best height ( ) { return peer version message . best height + blocks announced ; }", "new_code_tokens": ["public", "long", "get", "best", "height", "(", ")", "{", "return", "peer", "version", "message", ".", "best", "height", "+", "blocks", "announced", ";", "}"], "span_diff_code": "<KEEP> public long get best height ( ) { return peer version message . best height <KEEP_END> <INSERT> + blocks announced <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "best", "height", "(", ")", "{", "return", "peer", "version", "message", ".", "best", "height", "<KEEP_END>", "<INSERT>", "+", "blocks", "announced", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> peer <INSERT_NEW_KEEP_BEFORE> peer : sum of its ver announcement and blocks announced since <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "peer", "<INSERT_NEW_KEEP_BEFORE>", "peer", ":", "sum", "of", "its", "ver", "announcement", "and", "blocks", "announced", "since", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "best", "<KEEP>", "height", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "peer", "<KEEP>", "version", "<KEEP>", "message", "<KEEP>", ".", "<KEEP>", "best", "<KEEP>", "height", "<INSERT>", "+", "<INSERT>", "blocks", "<INSERT>", "announced", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9119858131432751, "using": 1, "keep": 1}
{"id": "mikepenz_Android-Iconics-14-1269", "old_comment": "the current icon ext drawable for chaining .", "old_comment_tokens": ["the", "current", "icon", "ext", "drawable", "for", "chaining", "."], "new_comment": "the current iconics drawable for chaining .", "new_comment_tokens": ["the", "current", "iconics", "drawable", "for", "chaining", "."], "old_code": "public iconics drawable icon ( character icon ) { return icon text ( icon . to string ( ) ) ; }", "old_code_tokens": ["public", "iconics", "drawable", "icon", "(", "character", "icon", ")", "{", "return", "icon", "text", "(", "icon", ".", "to", "string", "(", ")", ")", ";", "}"], "new_code": "public iconics drawable icon ( character icon ) { return icon text ( icon . to string ( ) , null ) ; }", "new_code_tokens": ["public", "iconics", "drawable", "icon", "(", "character", "icon", ")", "{", "return", "icon", "text", "(", "icon", ".", "to", "string", "(", ")", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public iconics drawable icon ( character icon ) { return icon text ( icon . to string ( ) <KEEP_END> <INSERT> , null <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iconics", "drawable", "icon", "(", "character", "icon", ")", "{", "return", "icon", "text", "(", "icon", ".", "to", "string", "(", ")", "<KEEP_END>", "<INSERT>", ",", "null", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> icon ext <REPLACE_NEW> iconics <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "icon", "ext", "<REPLACE_NEW>", "iconics", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iconics", "<KEEP>", "drawable", "<KEEP>", "icon", "<KEEP>", "(", "<KEEP>", "character", "<KEEP>", "icon", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "icon", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "icon", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ",", "<INSERT>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8576174147056317, "using": 1, "keep": 1}
{"id": "albfan_diffxml-13-4007", "old_comment": "a depth - ordered set of the nodes in the doc .", "old_comment_tokens": ["a", "depth", "-", "ordered", "set", "of", "the", "nodes", "in", "the", "doc", "."], "new_comment": "a depth - ordered list of the nodes in the doc .", "new_comment_tokens": ["a", "depth", "-", "ordered", "list", "of", "the", "nodes", "in", "the", "doc", "."], "old_code": "private static sorted set < node depth > initialise and order nodes ( final document doc ) { node iterator ni = ( ( document traversal ) doc ) . create node iterator ( doc . get document element ( ) , node filter . show _ all , null , false ) ; tree set < node depth > depth sorted = new tree set < node depth > ( new node depth comparator ( ) ) ; node n ; while ( ( n = ni . next node ( ) ) ! = null ) { depth sorted . add ( new node depth ( n ) ) ; } ni . detach ( ) ; return depth sorted ; }", "old_code_tokens": ["private", "static", "sorted", "set", "<", "node", "depth", ">", "initialise", "and", "order", "nodes", "(", "final", "document", "doc", ")", "{", "node", "iterator", "ni", "=", "(", "(", "document", "traversal", ")", "doc", ")", ".", "create", "node", "iterator", "(", "doc", ".", "get", "document", "element", "(", ")", ",", "node", "filter", ".", "show", "_", "all", ",", "null", ",", "false", ")", ";", "tree", "set", "<", "node", "depth", ">", "depth", "sorted", "=", "new", "tree", "set", "<", "node", "depth", ">", "(", "new", "node", "depth", "comparator", "(", ")", ")", ";", "node", "n", ";", "while", "(", "(", "n", "=", "ni", ".", "next", "node", "(", ")", ")", "!", "=", "null", ")", "{", "depth", "sorted", ".", "add", "(", "new", "node", "depth", "(", "n", ")", ")", ";", "}", "ni", ".", "detach", "(", ")", ";", "return", "depth", "sorted", ";", "}"], "new_code": "private static list < node depth > initialise and order nodes ( final document doc ) { node iterator ni = ( ( document traversal ) doc ) . create node iterator ( doc . get document element ( ) , node filter . show _ all , null , false ) ; list < node depth > depth sorted = new array list < node depth > ( ) ; node n ; while ( ( n = ni . next node ( ) ) ! = null ) { depth sorted . add ( new node depth ( n ) ) ; } ni . detach ( ) ; collections . sort ( depth sorted , new node depth comparator ( ) ) ; return depth sorted ; }", "new_code_tokens": ["private", "static", "list", "<", "node", "depth", ">", "initialise", "and", "order", "nodes", "(", "final", "document", "doc", ")", "{", "node", "iterator", "ni", "=", "(", "(", "document", "traversal", ")", "doc", ")", ".", "create", "node", "iterator", "(", "doc", ".", "get", "document", "element", "(", ")", ",", "node", "filter", ".", "show", "_", "all", ",", "null", ",", "false", ")", ";", "list", "<", "node", "depth", ">", "depth", "sorted", "=", "new", "array", "list", "<", "node", "depth", ">", "(", ")", ";", "node", "n", ";", "while", "(", "(", "n", "=", "ni", ".", "next", "node", "(", ")", ")", "!", "=", "null", ")", "{", "depth", "sorted", ".", "add", "(", "new", "node", "depth", "(", "n", ")", ")", ";", "}", "ni", ".", "detach", "(", ")", ";", "collections", ".", "sort", "(", "depth", "sorted", ",", "new", "node", "depth", "comparator", "(", ")", ")", ";", "return", "depth", "sorted", ";", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <REPLACE_OLD> sorted set <REPLACE_NEW> list <REPLACE_END> <KEEP> < node depth > initialise and order nodes ( final document doc ) { node iterator ni = ( ( document traversal ) doc ) . create node iterator ( doc . get document element ( ) , node filter . show _ all , null , false ) ; <KEEP_END> <REPLACE_OLD> tree set <REPLACE_NEW> list <REPLACE_END> <KEEP> < node depth > depth sorted = new <KEEP_END> <REPLACE_OLD> tree set <REPLACE_NEW> array list <REPLACE_END> <KEEP> < node depth > ( <KEEP_END> <DELETE> new node depth comparator ( ) <DELETE_END> <KEEP> ) ; node n ; while ( ( n = ni . next node ( ) ) ! = null ) { depth sorted . add ( new node depth ( n ) ) ; } ni . detach ( ) ; <KEEP_END> <INSERT> collections . sort ( depth sorted , new node depth comparator ( ) ) ; <INSERT_END> <KEEP> return depth sorted ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<REPLACE_OLD>", "sorted", "set", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "node", "depth", ">", "initialise", "and", "order", "nodes", "(", "final", "document", "doc", ")", "{", "node", "iterator", "ni", "=", "(", "(", "document", "traversal", ")", "doc", ")", ".", "create", "node", "iterator", "(", "doc", ".", "get", "document", "element", "(", ")", ",", "node", "filter", ".", "show", "_", "all", ",", "null", ",", "false", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "tree", "set", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "node", "depth", ">", "depth", "sorted", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "tree", "set", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "<", "node", "depth", ">", "(", "<KEEP_END>", "<DELETE>", "new", "node", "depth", "comparator", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "node", "n", ";", "while", "(", "(", "n", "=", "ni", ".", "next", "node", "(", ")", ")", "!", "=", "null", ")", "{", "depth", "sorted", ".", "add", "(", "new", "node", "depth", "(", "n", ")", ")", ";", "}", "ni", ".", "detach", "(", ")", ";", "<KEEP_END>", "<INSERT>", "collections", ".", "sort", "(", "depth", "sorted", ",", "new", "node", "depth", "comparator", "(", ")", ")", ";", "<INSERT_END>", "<KEEP>", "return", "depth", "sorted", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<REPLACE_OLD>", "sorted", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "node", "<KEEP>", "depth", "<KEEP>", ">", "<KEEP>", "initialise", "<KEEP>", "and", "<KEEP>", "order", "<KEEP>", "nodes", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "document", "<KEEP>", "doc", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "node", "<KEEP>", "iterator", "<KEEP>", "ni", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "document", "<KEEP>", "traversal", "<KEEP>", ")", "<KEEP>", "doc", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "node", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", "doc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "document", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "filter", "<KEEP>", ".", "<KEEP>", "show", "<KEEP>", "_", "<KEEP>", "all", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "node", "<KEEP>", "depth", "<KEEP>", ">", "<KEEP>", "depth", "<KEEP>", "sorted", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "node", "<KEEP>", "depth", "<KEEP>", ">", "<KEEP>", "(", "<DELETE>", "new", "<DELETE>", "node", "<DELETE>", "depth", "<DELETE>", "comparator", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "n", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "n", "<KEEP>", "=", "<KEEP>", "ni", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "depth", "<KEEP>", "sorted", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "node", "<KEEP>", "depth", "<KEEP>", "(", "<KEEP>", "n", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "ni", "<KEEP>", ".", "<KEEP>", "detach", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "sort", "<INSERT>", "(", "<INSERT>", "depth", "<INSERT>", "sorted", "<INSERT>", ",", "<INSERT>", "new", "<INSERT>", "node", "<INSERT>", "depth", "<INSERT>", "comparator", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "depth", "<KEEP>", "sorted", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9959070713148551, "using": 2, "keep": 1}
{"id": "nickman_apmrouter-106-4123", "old_comment": "the sliding average elapsed time in ms . of the last 15 catalog calls", "old_comment_tokens": ["the", "sliding", "average", "elapsed", "time", "in", "ms", ".", "of", "the", "last", "15", "catalog", "calls"], "new_comment": "the sliding average elapsed time in ms . of the last 50 catalog calls", "new_comment_tokens": ["the", "sliding", "average", "elapsed", "time", "in", "ms", ".", "of", "the", "last", "50", "catalog", "calls"], "old_code": "@ managed metric ( category = str , metric type = org . springframework . jmx . support . metric type . gauge , description = str ) public long get average call time ms ( ) { return elapsed times ms . avg ( ) ; }", "old_code_tokens": ["@", "managed", "metric", "(", "category", "=", "str", ",", "metric", "type", "=", "org", ".", "springframework", ".", "jmx", ".", "support", ".", "metric", "type", ".", "gauge", ",", "description", "=", "str", ")", "public", "long", "get", "average", "call", "time", "ms", "(", ")", "{", "return", "elapsed", "times", "ms", ".", "avg", "(", ")", ";", "}"], "new_code": "@ managed metric ( category = str , display name = str , metric type = org . springframework . jmx . support . metric type . gauge , description = str ) public long get average call time ms ( ) { return time unit . milliseconds . convert ( get average call time ns ( ) , time unit . nanoseconds ) ; }", "new_code_tokens": ["@", "managed", "metric", "(", "category", "=", "str", ",", "display", "name", "=", "str", ",", "metric", "type", "=", "org", ".", "springframework", ".", "jmx", ".", "support", ".", "metric", "type", ".", "gauge", ",", "description", "=", "str", ")", "public", "long", "get", "average", "call", "time", "ms", "(", ")", "{", "return", "time", "unit", ".", "milliseconds", ".", "convert", "(", "get", "average", "call", "time", "ns", "(", ")", ",", "time", "unit", ".", "nanoseconds", ")", ";", "}"], "span_diff_code": "<KEEP> @ managed metric ( category <KEEP_END> <INSERT> = str , display name <INSERT_END> <KEEP> = str , metric type = org . springframework . jmx . support . metric type . gauge , description = str ) public long get average call time ms ( ) { return <KEEP_END> <REPLACE_OLD> elapsed times ms <REPLACE_NEW> time unit <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> avg <REPLACE_NEW> milliseconds . convert <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> get average call time ns ( ) , time unit . nanoseconds <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "managed", "metric", "(", "category", "<KEEP_END>", "<INSERT>", "=", "str", ",", "display", "name", "<INSERT_END>", "<KEEP>", "=", "str", ",", "metric", "type", "=", "org", ".", "springframework", ".", "jmx", ".", "support", ".", "metric", "type", ".", "gauge", ",", "description", "=", "str", ")", "public", "long", "get", "average", "call", "time", "ms", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "elapsed", "times", "ms", "<REPLACE_NEW>", "time", "unit", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "avg", "<REPLACE_NEW>", "milliseconds", ".", "convert", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "get", "average", "call", "time", "ns", "(", ")", ",", "time", "unit", ".", "nanoseconds", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> 15 <REPLACE_NEW> 50 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "15", "<REPLACE_NEW>", "50", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "managed", "<KEEP>", "metric", "<KEEP>", "(", "<KEEP>", "category", "<INSERT>", "=", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "display", "<INSERT>", "name", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "metric", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "org", "<KEEP>", ".", "<KEEP>", "springframework", "<KEEP>", ".", "<KEEP>", "jmx", "<KEEP>", ".", "<KEEP>", "support", "<KEEP>", ".", "<KEEP>", "metric", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "gauge", "<KEEP>", ",", "<KEEP>", "description", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "average", "<KEEP>", "call", "<KEEP>", "time", "<KEEP>", "ms", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "elapsed", "<REPLACE_OLD>", "times", "<REPLACE_OLD>", "ms", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "unit", "<KEEP>", ".", "<REPLACE_OLD>", "avg", "<REPLACE_NEW>", "milliseconds", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "convert", "<KEEP>", "(", "<INSERT>", "get", "<INSERT>", "average", "<INSERT>", "call", "<INSERT>", "time", "<INSERT>", "ns", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "time", "<INSERT>", "unit", "<INSERT>", ".", "<INSERT>", "nanoseconds", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9009379364500664, "using": 0, "keep": 1}
{"id": "apache_harmony-classlib-42-7165", "old_comment": "object referent to which reference refers , or null if object has been cleared .", "old_comment_tokens": ["object", "referent", "to", "which", "reference", "refers", ",", "or", "null", "if", "object", "has", "been", "cleared", "."], "new_comment": "referent to which reference refers , or null if object has been cleared .", "new_comment_tokens": ["referent", "to", "which", "reference", "refers", ",", "or", "null", "if", "object", "has", "been", "cleared", "."], "old_code": "public object get ( ) { return null ; }", "old_code_tokens": ["public", "object", "get", "(", ")", "{", "return", "null", ";", "}"], "new_code": "public t get ( ) { return null ; }", "new_code_tokens": ["public", "t", "get", "(", ")", "{", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> object <REPLACE_NEW> t <REPLACE_END> <KEEP> get ( ) { return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", "get", "(", ")", "{", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> object referent <REPLACE_NEW_DELETE_KEEP_AFTER> referent <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "object", "referent", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "referent", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "t", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9396203437643748, "using": 0, "keep": 1}
{"id": "apache_ftpserver-27-4509", "old_comment": "the inet address used for active data connections", "old_comment_tokens": ["the", "inet", "address", "used", "for", "active", "data", "connections"], "new_comment": "the address used for active data connections", "new_comment_tokens": ["the", "address", "used", "for", "active", "data", "connections"], "old_code": "public inet address get active local address ( ) { return active local address ; }", "old_code_tokens": ["public", "inet", "address", "get", "active", "local", "address", "(", ")", "{", "return", "active", "local", "address", ";", "}"], "new_code": "public string get active local address ( ) { return active local address ; }", "new_code_tokens": ["public", "string", "get", "active", "local", "address", "(", ")", "{", "return", "active", "local", "address", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> inet address <REPLACE_NEW> string <REPLACE_END> <KEEP> get active local address ( ) { return active local address ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "inet", "address", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "active", "local", "address", "(", ")", "{", "return", "active", "local", "address", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> inet <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "inet", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "inet", "<REPLACE_OLD>", "address", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "active", "<KEEP>", "local", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "active", "<KEEP>", "local", "<KEEP>", "address", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9887614938628421, "using": 2, "keep": 1}
{"id": "eclipse_ecf-15-4512", "old_comment": "remote shared object descriptions [ ] to determine replica descriptions for each receiver . a null return value indicates that no replicas are to be created . if the returned array is not null , then it must be of same length as the receivers parameter .", "old_comment_tokens": ["remote", "shared", "object", "descriptions", "[", "]", "to", "determine", "replica", "descriptions", "for", "each", "receiver", ".", "a", "null", "return", "value", "indicates", "that", "no", "replicas", "are", "to", "be", "created", ".", "if", "the", "returned", "array", "is", "not", "null", ",", "then", "it", "must", "be", "of", "same", "length", "as", "the", "receivers", "parameter", "."], "new_comment": "shared object descriptions [ ] to determine replica descriptions for each receiver . a null return value indicates that no replicas are to be created . if the returned array is not null , then it must be of same length as the receivers parameter .", "new_comment_tokens": ["shared", "object", "descriptions", "[", "]", "to", "determine", "replica", "descriptions", "for", "each", "receiver", ".", "a", "null", "return", "value", "indicates", "that", "no", "replicas", "are", "to", "be", "created", ".", "if", "the", "returned", "array", "is", "not", "null", ",", "then", "it", "must", "be", "of", "same", "length", "as", "the", "receivers", "parameter", "."], "old_code": "protected replica shared object description [ ] get replica descriptions ( id [ ] receivers ) { replica shared object description [ ] descriptions = null ; if ( receivers = = null | | receivers . length = = num ) { descriptions = new replica shared object description [ num ] ; descriptions [ num ] = get replica description ( ( receivers = = null ) ? null : receivers [ num ] ) ; } else { descriptions = new replica shared object description [ receivers . length ] ; for ( int i = num ; i < receivers . length ; i + + ) { descriptions [ i ] = get replica description ( receivers [ i ] ) ; } } return descriptions ; }", "old_code_tokens": ["protected", "replica", "shared", "object", "description", "[", "]", "get", "replica", "descriptions", "(", "id", "[", "]", "receivers", ")", "{", "replica", "shared", "object", "description", "[", "]", "descriptions", "=", "null", ";", "if", "(", "receivers", "=", "=", "null", "|", "|", "receivers", ".", "length", "=", "=", "num", ")", "{", "descriptions", "=", "new", "replica", "shared", "object", "description", "[", "num", "]", ";", "descriptions", "[", "num", "]", "=", "get", "replica", "description", "(", "(", "receivers", "=", "=", "null", ")", "?", "null", ":", "receivers", "[", "num", "]", ")", ";", "}", "else", "{", "descriptions", "=", "new", "replica", "shared", "object", "description", "[", "receivers", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "receivers", ".", "length", ";", "i", "+", "+", ")", "{", "descriptions", "[", "i", "]", "=", "get", "replica", "description", "(", "receivers", "[", "i", "]", ")", ";", "}", "}", "return", "descriptions", ";", "}"], "new_code": "protected shared object description [ ] get replica descriptions ( id [ ] receivers ) { shared object description [ ] descriptions = null ; if ( receivers = = null | | receivers . length = = num ) { descriptions = new shared object description [ num ] ; descriptions [ num ] = get replica description ( ( receivers = = null ) ? null : receivers [ num ] ) ; } else { descriptions = new shared object description [ receivers . length ] ; for ( int i = num ; i < receivers . length ; i + + ) { descriptions [ i ] = get replica description ( receivers [ i ] ) ; } } return descriptions ; }", "new_code_tokens": ["protected", "shared", "object", "description", "[", "]", "get", "replica", "descriptions", "(", "id", "[", "]", "receivers", ")", "{", "shared", "object", "description", "[", "]", "descriptions", "=", "null", ";", "if", "(", "receivers", "=", "=", "null", "|", "|", "receivers", ".", "length", "=", "=", "num", ")", "{", "descriptions", "=", "new", "shared", "object", "description", "[", "num", "]", ";", "descriptions", "[", "num", "]", "=", "get", "replica", "description", "(", "(", "receivers", "=", "=", "null", ")", "?", "null", ":", "receivers", "[", "num", "]", ")", ";", "}", "else", "{", "descriptions", "=", "new", "shared", "object", "description", "[", "receivers", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "receivers", ".", "length", ";", "i", "+", "+", ")", "{", "descriptions", "[", "i", "]", "=", "get", "replica", "description", "(", "receivers", "[", "i", "]", ")", ";", "}", "}", "return", "descriptions", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <DELETE> replica <DELETE_END> <KEEP> shared object description [ ] get replica descriptions ( id [ ] receivers ) { <KEEP_END> <DELETE> replica <DELETE_END> <KEEP> shared object description [ ] descriptions = null ; if ( receivers = = null | | receivers . length = = num ) { descriptions = new <KEEP_END> <DELETE> replica <DELETE_END> <KEEP> shared object description [ num ] ; descriptions [ num ] = get replica description ( ( receivers = = null ) ? null : receivers [ num ] ) ; } else { descriptions = new <KEEP_END> <DELETE> replica <DELETE_END> <KEEP> shared object description [ receivers . length ] ; for ( int i = num ; i < receivers . length ; i + + ) { descriptions [ i ] = get replica description ( receivers [ i ] ) ; } } return descriptions ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<DELETE>", "replica", "<DELETE_END>", "<KEEP>", "shared", "object", "description", "[", "]", "get", "replica", "descriptions", "(", "id", "[", "]", "receivers", ")", "{", "<KEEP_END>", "<DELETE>", "replica", "<DELETE_END>", "<KEEP>", "shared", "object", "description", "[", "]", "descriptions", "=", "null", ";", "if", "(", "receivers", "=", "=", "null", "|", "|", "receivers", ".", "length", "=", "=", "num", ")", "{", "descriptions", "=", "new", "<KEEP_END>", "<DELETE>", "replica", "<DELETE_END>", "<KEEP>", "shared", "object", "description", "[", "num", "]", ";", "descriptions", "[", "num", "]", "=", "get", "replica", "description", "(", "(", "receivers", "=", "=", "null", ")", "?", "null", ":", "receivers", "[", "num", "]", ")", ";", "}", "else", "{", "descriptions", "=", "new", "<KEEP_END>", "<DELETE>", "replica", "<DELETE_END>", "<KEEP>", "shared", "object", "description", "[", "receivers", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "receivers", ".", "length", ";", "i", "+", "+", ")", "{", "descriptions", "[", "i", "]", "=", "get", "replica", "description", "(", "receivers", "[", "i", "]", ")", ";", "}", "}", "return", "descriptions", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> remote <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "remote", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<DELETE>", "replica", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "descriptions", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "receivers", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "replica", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "descriptions", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "receivers", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "receivers", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "descriptions", "<KEEP>", "=", "<KEEP>", "new", "<DELETE>", "replica", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "descriptions", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "receivers", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "receivers", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "descriptions", "<KEEP>", "=", "<KEEP>", "new", "<DELETE>", "replica", "<KEEP>", "shared", "<KEEP>", "object", "<KEEP>", "description", "<KEEP>", "[", "<KEEP>", "receivers", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "receivers", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "descriptions", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "replica", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", "receivers", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "descriptions", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9393492707366922, "using": 0, "keep": 1}
{"id": "nickman_UnsafeAdapter-20-6441", "old_comment": "an array of booleans indicating the configuration of the passed @ unsafe adapter configuration instance", "old_comment_tokens": ["an", "array", "of", "booleans", "indicating", "the", "configuration", "of", "the", "passed", "@", "unsafe", "adapter", "configuration", "instance"], "new_comment": "an array of ints indicating the configuration of the passed @ unsafe adapter configuration instance", "new_comment_tokens": ["an", "array", "of", "ints", "indicating", "the", "configuration", "of", "the", "passed", "@", "unsafe", "adapter", "configuration", "instance"], "old_code": "public static boolean [ ] get requested configuration ( unsafe adapter configuration config ) { final boolean [ ] current = new boolean [ num ] ; current [ num ] = config . unsafe ( ) ; current [ num ] = config . mem tracking ( ) ; current [ num ] = config . mem alignment ( ) ; current [ num ] = config . off heap ( ) ; return current ; }", "old_code_tokens": ["public", "static", "boolean", "[", "]", "get", "requested", "configuration", "(", "unsafe", "adapter", "configuration", "config", ")", "{", "final", "boolean", "[", "]", "current", "=", "new", "boolean", "[", "num", "]", ";", "current", "[", "num", "]", "=", "config", ".", "unsafe", "(", ")", ";", "current", "[", "num", "]", "=", "config", ".", "mem", "tracking", "(", ")", ";", "current", "[", "num", "]", "=", "config", ".", "mem", "alignment", "(", ")", ";", "current", "[", "num", "]", "=", "config", ".", "off", "heap", "(", ")", ";", "return", "current", ";", "}"], "new_code": "public static int [ ] get requested configuration ( unsafe adapter configuration config ) { final int [ ] requested = new int [ prop _ size ] ; requested [ num ] = config . unsafe ( ) ? num : num ; requested [ num ] = config . mem tracking ( ) ? num : num ; requested [ num ] = config . mem alignment ( ) ? num : num ; requested [ num ] = config . off heap ( ) ? num : num ; requested [ num ] = config . ap alloc size ( ) ; return requested ; }", "new_code_tokens": ["public", "static", "int", "[", "]", "get", "requested", "configuration", "(", "unsafe", "adapter", "configuration", "config", ")", "{", "final", "int", "[", "]", "requested", "=", "new", "int", "[", "prop", "_", "size", "]", ";", "requested", "[", "num", "]", "=", "config", ".", "unsafe", "(", ")", "?", "num", ":", "num", ";", "requested", "[", "num", "]", "=", "config", ".", "mem", "tracking", "(", ")", "?", "num", ":", "num", ";", "requested", "[", "num", "]", "=", "config", ".", "mem", "alignment", "(", ")", "?", "num", ":", "num", ";", "requested", "[", "num", "]", "=", "config", ".", "off", "heap", "(", ")", "?", "num", ":", "num", ";", "requested", "[", "num", "]", "=", "config", ".", "ap", "alloc", "size", "(", ")", ";", "return", "requested", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> [ ] get requested configuration ( unsafe adapter configuration config ) { final <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> [ ] <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> requested <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> [ <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> prop _ size <REPLACE_END> <KEEP> ] ; <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> requested <REPLACE_END> <KEEP> [ num ] = config . unsafe ( ) <KEEP_END> <INSERT> ? num : num <INSERT_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> requested <REPLACE_END> <KEEP> [ num ] = config . mem tracking ( ) <KEEP_END> <INSERT> ? num : num <INSERT_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> requested <REPLACE_END> <KEEP> [ num ] = config . mem alignment ( ) <KEEP_END> <INSERT> ? num : num <INSERT_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> requested <REPLACE_END> <KEEP> [ num ] = config . off heap ( ) <KEEP_END> <INSERT> ? num : num ; requested [ num ] = config . ap alloc size ( ) <INSERT_END> <KEEP> ; return <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> requested <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "requested", "configuration", "(", "unsafe", "adapter", "configuration", "config", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "prop", "_", "size", "<REPLACE_END>", "<KEEP>", "]", ";", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<REPLACE_END>", "<KEEP>", "[", "num", "]", "=", "config", ".", "unsafe", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<REPLACE_END>", "<KEEP>", "[", "num", "]", "=", "config", ".", "mem", "tracking", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<REPLACE_END>", "<KEEP>", "[", "num", "]", "=", "config", ".", "mem", "alignment", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<REPLACE_END>", "<KEEP>", "[", "num", "]", "=", "config", ".", "off", "heap", "(", ")", "<KEEP_END>", "<INSERT>", "?", "num", ":", "num", ";", "requested", "[", "num", "]", "=", "config", ".", "ap", "alloc", "size", "(", ")", "<INSERT_END>", "<KEEP>", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> booleans <REPLACE_NEW> ints <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "booleans", "<REPLACE_NEW>", "ints", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "requested", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", "unsafe", "<KEEP>", "adapter", "<KEEP>", "configuration", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "prop", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "size", "<KEEP>", "]", "<KEEP>", ";", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "unsafe", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<KEEP>", ";", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "mem", "<KEEP>", "tracking", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<KEEP>", ";", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "mem", "<KEEP>", "alignment", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<KEEP>", ";", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", "=", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "off", "<KEEP>", "heap", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "?", "<INSERT>", "num", "<INSERT>", ":", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "requested", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "config", "<INSERT>", ".", "<INSERT>", "ap", "<INSERT>", "alloc", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "requested", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8200321308177069, "using": 0, "keep": 1}
{"id": "jenkinsci_pipeline-maven-plugin-0-6545", "old_comment": "path on the build agent to the repo", "old_comment_tokens": ["path", "on", "the", "build", "agent", "to", "the", "repo"], "new_comment": "path on the build agent to the repo or null if not defined", "new_comment_tokens": ["path", "on", "the", "build", "agent", "to", "the", "repo", "or", "null", "if", "not", "defined"], "old_code": "private string setup maven local repo ( ) throws ioexception , interrupted exception { if ( ! string utils . is empty ( step . get maven local repo ( ) ) ) { string expanded path = env override . expand ( env . expand ( step . get maven local repo ( ) ) ) ; file path repo path = new file path ( ws , expanded path ) ; repo path . mkdirs ( ) ; return repo path . get remote ( ) ; } return null ; }", "old_code_tokens": ["private", "string", "setup", "maven", "local", "repo", "(", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "if", "(", "!", "string", "utils", ".", "is", "empty", "(", "step", ".", "get", "maven", "local", "repo", "(", ")", ")", ")", "{", "string", "expanded", "path", "=", "env", "override", ".", "expand", "(", "env", ".", "expand", "(", "step", ".", "get", "maven", "local", "repo", "(", ")", ")", ")", ";", "file", "path", "repo", "path", "=", "new", "file", "path", "(", "ws", ",", "expanded", "path", ")", ";", "repo", "path", ".", "mkdirs", "(", ")", ";", "return", "repo", "path", ".", "get", "remote", "(", ")", ";", "}", "return", "null", ";", "}"], "new_code": "@ nullable private string setup maven local repo ( ) throws ioexception , interrupted exception { if ( string utils . is empty ( step . get maven local repo ( ) ) ) { return null ; } else { string expanded path = env override . expand ( env . expand ( step . get maven local repo ( ) ) ) ; file path repo path = new file path ( ws , expanded path ) ; repo path . mkdirs ( ) ; return repo path . get remote ( ) ; } }", "new_code_tokens": ["@", "nullable", "private", "string", "setup", "maven", "local", "repo", "(", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "if", "(", "string", "utils", ".", "is", "empty", "(", "step", ".", "get", "maven", "local", "repo", "(", ")", ")", ")", "{", "return", "null", ";", "}", "else", "{", "string", "expanded", "path", "=", "env", "override", ".", "expand", "(", "env", ".", "expand", "(", "step", ".", "get", "maven", "local", "repo", "(", ")", ")", ")", ";", "file", "path", "repo", "path", "=", "new", "file", "path", "(", "ws", ",", "expanded", "path", ")", ";", "repo", "path", ".", "mkdirs", "(", ")", ";", "return", "repo", "path", ".", "get", "remote", "(", ")", ";", "}", "}"], "span_diff_code": "<INSERT> @ nullable <INSERT_END> <KEEP> private string setup maven local repo ( ) throws ioexception , interrupted exception { if ( <KEEP_END> <DELETE> ! <DELETE_END> <KEEP> string utils . is empty ( step . get maven local repo ( ) ) ) <KEEP_END> <INSERT> { return null ; } else <INSERT_END> <KEEP> { string expanded path = env override . expand ( env . expand ( step . get maven local repo ( ) ) ) ; file path repo path = new file path ( ws , expanded path ) ; repo path . mkdirs ( ) ; return repo path . get remote ( ) ; } <KEEP_END> <DELETE> return null ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "nullable", "<INSERT_END>", "<KEEP>", "private", "string", "setup", "maven", "local", "repo", "(", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "if", "(", "<KEEP_END>", "<DELETE>", "!", "<DELETE_END>", "<KEEP>", "string", "utils", ".", "is", "empty", "(", "step", ".", "get", "maven", "local", "repo", "(", ")", ")", ")", "<KEEP_END>", "<INSERT>", "{", "return", "null", ";", "}", "else", "<INSERT_END>", "<KEEP>", "{", "string", "expanded", "path", "=", "env", "override", ".", "expand", "(", "env", ".", "expand", "(", "step", ".", "get", "maven", "local", "repo", "(", ")", ")", ")", ";", "file", "path", "repo", "path", "=", "new", "file", "path", "(", "ws", ",", "expanded", "path", ")", ";", "repo", "path", ".", "mkdirs", "(", ")", ";", "return", "repo", "path", ".", "get", "remote", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "null", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> repo <INSERT_NEW_KEEP_BEFORE> repo or null if not defined <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "repo", "<INSERT_NEW_KEEP_BEFORE>", "repo", "or", "null", "if", "not", "defined", "<INSERT_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "nullable", "<KEEP>", "private", "<KEEP>", "string", "<KEEP>", "setup", "<KEEP>", "maven", "<KEEP>", "local", "<KEEP>", "repo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "!", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "step", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "maven", "<KEEP>", "local", "<KEEP>", "repo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "expanded", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "env", "<KEEP>", "override", "<KEEP>", ".", "<KEEP>", "expand", "<KEEP>", "(", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "expand", "<KEEP>", "(", "<KEEP>", "step", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "maven", "<KEEP>", "local", "<KEEP>", "repo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", "repo", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "ws", "<KEEP>", ",", "<KEEP>", "expanded", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "repo", "<KEEP>", "path", "<KEEP>", ".", "<KEEP>", "mkdirs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "repo", "<KEEP>", "path", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "remote", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8202596232232557, "using": 0, "keep": 1}
{"id": "uber_AutoDispose-3-2838", "old_comment": "a resolved maybe representation of a given lifecycle , targeting the given event", "old_comment_tokens": ["a", "resolved", "maybe", "representation", "of", "a", "given", "lifecycle", ",", "targeting", "the", "given", "event"], "new_comment": "a resolved completable representation of a given lifecycle , targeting the given event", "new_comment_tokens": ["a", "resolved", "completable", "representation", "of", "a", "given", "lifecycle", ",", "targeting", "the", "given", "event"], "old_code": "public static < e > maybe < ? > resolve scope from lifecycle ( observable < e > lifecycle , final e end event , @ nullable final comparator < e > comparator ) { function < e , boolean > equality function ; if ( comparator ! = null ) { equality function = new function < e , boolean > ( ) { @ override public boolean apply ( e e ) { return comparator . compare ( e , end event ) > = num ; } } ; } else { equality function = new function < e , boolean > ( ) { @ override public boolean apply ( e e ) { return e . equals ( end event ) ; } } ; } return lifecycle . skip ( num ) . map ( equality function ) . filter ( identity _ boolean _ predicate ) . map ( transform _ to _ end ) . first element ( ) ; }", "old_code_tokens": ["public", "static", "<", "e", ">", "maybe", "<", "?", ">", "resolve", "scope", "from", "lifecycle", "(", "observable", "<", "e", ">", "lifecycle", ",", "final", "e", "end", "event", ",", "@", "nullable", "final", "comparator", "<", "e", ">", "comparator", ")", "{", "function", "<", "e", ",", "boolean", ">", "equality", "function", ";", "if", "(", "comparator", "!", "=", "null", ")", "{", "equality", "function", "=", "new", "function", "<", "e", ",", "boolean", ">", "(", ")", "{", "@", "override", "public", "boolean", "apply", "(", "e", "e", ")", "{", "return", "comparator", ".", "compare", "(", "e", ",", "end", "event", ")", ">", "=", "num", ";", "}", "}", ";", "}", "else", "{", "equality", "function", "=", "new", "function", "<", "e", ",", "boolean", ">", "(", ")", "{", "@", "override", "public", "boolean", "apply", "(", "e", "e", ")", "{", "return", "e", ".", "equals", "(", "end", "event", ")", ";", "}", "}", ";", "}", "return", "lifecycle", ".", "skip", "(", "num", ")", ".", "map", "(", "equality", "function", ")", ".", "filter", "(", "identity", "_", "boolean", "_", "predicate", ")", ".", "map", "(", "transform", "_", "to", "_", "end", ")", ".", "first", "element", "(", ")", ";", "}"], "new_code": "public static < e > completable source resolve scope from lifecycle ( observable < e > lifecycle , final e end event , @ nullable final comparator < e > comparator ) { predicate < e > equality predicate ; if ( comparator ! = null ) { equality predicate = new predicate < e > ( ) { @ override public boolean test ( e e ) { return comparator . compare ( e , end event ) > = num ; } } ; } else { equality predicate = new predicate < e > ( ) { @ override public boolean test ( e e ) { return e . equals ( end event ) ; } } ; } return lifecycle . skip ( num ) . take until ( equality predicate ) . ignore elements ( ) ; }", "new_code_tokens": ["public", "static", "<", "e", ">", "completable", "source", "resolve", "scope", "from", "lifecycle", "(", "observable", "<", "e", ">", "lifecycle", ",", "final", "e", "end", "event", ",", "@", "nullable", "final", "comparator", "<", "e", ">", "comparator", ")", "{", "predicate", "<", "e", ">", "equality", "predicate", ";", "if", "(", "comparator", "!", "=", "null", ")", "{", "equality", "predicate", "=", "new", "predicate", "<", "e", ">", "(", ")", "{", "@", "override", "public", "boolean", "test", "(", "e", "e", ")", "{", "return", "comparator", ".", "compare", "(", "e", ",", "end", "event", ")", ">", "=", "num", ";", "}", "}", ";", "}", "else", "{", "equality", "predicate", "=", "new", "predicate", "<", "e", ">", "(", ")", "{", "@", "override", "public", "boolean", "test", "(", "e", "e", ")", "{", "return", "e", ".", "equals", "(", "end", "event", ")", ";", "}", "}", ";", "}", "return", "lifecycle", ".", "skip", "(", "num", ")", ".", "take", "until", "(", "equality", "predicate", ")", ".", "ignore", "elements", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static < e > <KEEP_END> <REPLACE_OLD> maybe < ? > <REPLACE_NEW> completable source <REPLACE_END> <KEEP> resolve scope from lifecycle ( observable < e > lifecycle , final e end event , @ nullable final comparator < e > comparator ) { <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e <KEEP_END> <DELETE> , boolean <DELETE_END> <KEEP> > equality <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> predicate <REPLACE_END> <KEEP> ; if ( comparator ! = null ) { equality <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> predicate <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e <KEEP_END> <DELETE> , boolean <DELETE_END> <KEEP> > ( ) { @ override public boolean <KEEP_END> <REPLACE_OLD> apply <REPLACE_NEW> test <REPLACE_END> <KEEP> ( e e ) { return comparator . compare ( e , end event ) > = num ; } } ; } else { equality <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> predicate <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> predicate <REPLACE_END> <KEEP> < e <KEEP_END> <DELETE> , boolean <DELETE_END> <KEEP> > ( ) { @ override public boolean <KEEP_END> <REPLACE_OLD> apply <REPLACE_NEW> test <REPLACE_END> <KEEP> ( e e ) { return e . equals ( end event ) ; } } ; } return lifecycle . skip ( num ) . <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> take until <REPLACE_END> <KEEP> ( equality <KEEP_END> <DELETE> function ) . filter ( identity _ boolean _ <DELETE_END> <KEEP> predicate ) . <KEEP_END> <REPLACE_OLD> map ( transform _ to _ end ) . first element <REPLACE_NEW> ignore elements <REPLACE_END> <KEEP> ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "e", ">", "<KEEP_END>", "<REPLACE_OLD>", "maybe", "<", "?", ">", "<REPLACE_NEW>", "completable", "source", "<REPLACE_END>", "<KEEP>", "resolve", "scope", "from", "lifecycle", "(", "observable", "<", "e", ">", "lifecycle", ",", "final", "e", "end", "event", ",", "@", "nullable", "final", "comparator", "<", "e", ">", "comparator", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", "<KEEP_END>", "<DELETE>", ",", "boolean", "<DELETE_END>", "<KEEP>", ">", "equality", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", ";", "if", "(", "comparator", "!", "=", "null", ")", "{", "equality", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", "<KEEP_END>", "<DELETE>", ",", "boolean", "<DELETE_END>", "<KEEP>", ">", "(", ")", "{", "@", "override", "public", "boolean", "<KEEP_END>", "<REPLACE_OLD>", "apply", "<REPLACE_NEW>", "test", "<REPLACE_END>", "<KEEP>", "(", "e", "e", ")", "{", "return", "comparator", ".", "compare", "(", "e", ",", "end", "event", ")", ">", "=", "num", ";", "}", "}", ";", "}", "else", "{", "equality", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", "<", "e", "<KEEP_END>", "<DELETE>", ",", "boolean", "<DELETE_END>", "<KEEP>", ">", "(", ")", "{", "@", "override", "public", "boolean", "<KEEP_END>", "<REPLACE_OLD>", "apply", "<REPLACE_NEW>", "test", "<REPLACE_END>", "<KEEP>", "(", "e", "e", ")", "{", "return", "e", ".", "equals", "(", "end", "event", ")", ";", "}", "}", ";", "}", "return", "lifecycle", ".", "skip", "(", "num", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "take", "until", "<REPLACE_END>", "<KEEP>", "(", "equality", "<KEEP_END>", "<DELETE>", "function", ")", ".", "filter", "(", "identity", "_", "boolean", "_", "<DELETE_END>", "<KEEP>", "predicate", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "map", "(", "transform", "_", "to", "_", "end", ")", ".", "first", "element", "<REPLACE_NEW>", "ignore", "elements", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> maybe <REPLACE_NEW> completable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "maybe", "<REPLACE_NEW>", "completable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<REPLACE_OLD>", "maybe", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "completable", "<REPLACE_NEW>", "source", "<KEEP>", "resolve", "<KEEP>", "scope", "<KEEP>", "from", "<KEEP>", "lifecycle", "<KEEP>", "(", "<KEEP>", "observable", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "lifecycle", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "e", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "final", "<KEEP>", "comparator", "<KEEP>", "<", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "comparator", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<DELETE>", ",", "<DELETE>", "boolean", "<KEEP>", ">", "<KEEP>", "equality", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "comparator", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "equality", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<DELETE>", ",", "<DELETE>", "boolean", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<REPLACE_OLD>", "apply", "<REPLACE_NEW>", "test", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "comparator", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ",", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "equality", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "predicate", "<KEEP>", "<", "<KEEP>", "e", "<DELETE>", ",", "<DELETE>", "boolean", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<REPLACE_OLD>", "apply", "<REPLACE_NEW>", "test", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "end", "<KEEP>", "event", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "skip", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "take", "<REPLACE_NEW>", "until", "<KEEP>", "(", "<KEEP>", "equality", "<DELETE>", "function", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "filter", "<DELETE>", "(", "<DELETE>", "identity", "<DELETE>", "_", "<DELETE>", "boolean", "<DELETE>", "_", "<KEEP>", "predicate", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "transform", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "first", "<REPLACE_OLD>", "element", "<REPLACE_NEW>", "ignore", "<REPLACE_NEW>", "elements", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9756670925782512, "using": 2, "keep": 1}
{"id": "voldemort_voldemort-3-3704", "old_comment": "a set of added partitions in target cluster or empty set", "old_comment_tokens": ["a", "set", "of", "added", "partitions", "in", "target", "cluster", "or", "empty", "set"], "new_comment": "a set of added partitions in target or empty set", "new_comment_tokens": ["a", "set", "of", "added", "partitions", "in", "target", "or", "empty", "set"], "old_code": "public static set < integer > get added in target ( set < integer > current , set < integer > target ) { if ( current = = null | | target = = null ) { return new tree set < integer > ( ) ; } return get diff ( target , current ) ; }", "old_code_tokens": ["public", "static", "set", "<", "integer", ">", "get", "added", "in", "target", "(", "set", "<", "integer", ">", "current", ",", "set", "<", "integer", ">", "target", ")", "{", "if", "(", "current", "=", "=", "null", "|", "|", "target", "=", "=", "null", ")", "{", "return", "new", "tree", "set", "<", "integer", ">", "(", ")", ";", "}", "return", "get", "diff", "(", "target", ",", "current", ")", ";", "}"], "new_code": "public static < t > set < t > get added in target ( set < t > current , set < t > target ) { if ( current = = null | | target = = null ) { return new hash set < t > ( ) ; } return get diff ( target , current ) ; }", "new_code_tokens": ["public", "static", "<", "t", ">", "set", "<", "t", ">", "get", "added", "in", "target", "(", "set", "<", "t", ">", "current", ",", "set", "<", "t", ">", "target", ")", "{", "if", "(", "current", "=", "=", "null", "|", "|", "target", "=", "=", "null", ")", "{", "return", "new", "hash", "set", "<", "t", ">", "(", ")", ";", "}", "return", "get", "diff", "(", "target", ",", "current", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> < t > <INSERT_END> <KEEP> set < <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> t <REPLACE_END> <KEEP> > get added in target ( set < <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> t <REPLACE_END> <KEEP> > current , set < <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> t <REPLACE_END> <KEEP> > target ) { if ( current = = null | | target = = null ) { return new <KEEP_END> <REPLACE_OLD> tree <REPLACE_NEW> hash <REPLACE_END> <KEEP> set < <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> t <REPLACE_END> <KEEP> > ( ) ; } return get diff ( target , current ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "<", "t", ">", "<INSERT_END>", "<KEEP>", "set", "<", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", ">", "get", "added", "in", "target", "(", "set", "<", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", ">", "current", ",", "set", "<", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", ">", "target", ")", "{", "if", "(", "current", "=", "=", "null", "|", "|", "target", "=", "=", "null", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "tree", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", "set", "<", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "}", "return", "get", "diff", "(", "target", ",", "current", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> cluster <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "cluster", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "<", "<INSERT>", "t", "<INSERT>", ">", "<KEEP>", "set", "<KEEP>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "added", "<KEEP>", "in", "<KEEP>", "target", "<KEEP>", "(", "<KEEP>", "set", "<KEEP>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<KEEP>", ">", "<KEEP>", "current", "<KEEP>", ",", "<KEEP>", "set", "<KEEP>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<KEEP>", ">", "<KEEP>", "target", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "target", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "tree", "<REPLACE_NEW>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "t", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "diff", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", ",", "<KEEP>", "current", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.8645260912376391, "using": 0, "keep": 1}
{"id": "Raizlabs_DBFlow-243-3329", "old_comment": "the model class", "old_comment_tokens": ["the", "model", "class"], "new_comment": "the tmodel", "new_comment_tokens": ["the", "tmodel"], "old_code": "public model class get model object ( int index ) { return get json model ( index ) . to model ( ) ; }", "old_code_tokens": ["public", "model", "class", "get", "model", "object", "(", "int", "index", ")", "{", "return", "get", "json", "model", "(", "index", ")", ".", "to", "model", "(", ")", ";", "}"], "new_code": "public tmodel get model object ( int index ) { return get json model ( index ) . to model ( ) ; }", "new_code_tokens": ["public", "tmodel", "get", "model", "object", "(", "int", "index", ")", "{", "return", "get", "json", "model", "(", "index", ")", ".", "to", "model", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END> <KEEP> get model object ( int index ) { return get json model ( index ) . to model ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>", "<KEEP>", "get", "model", "object", "(", "int", "index", ")", "{", "return", "get", "json", "model", "(", "index", ")", ".", "to", "model", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> model class <REPLACE_NEW> tmodel <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "model", "class", "<REPLACE_NEW>", "tmodel", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "tmodel", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "json", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.988871942669901, "using": 2, "keep": 1}
{"id": "apache_santuario-java-174-5578", "old_comment": "the document fragment resulting from the parse of the source", "old_comment_tokens": ["the", "document", "fragment", "resulting", "from", "the", "parse", "of", "the", "source"], "new_comment": "the node resulting from the parse of the source", "new_comment_tokens": ["the", "node", "resulting", "from", "the", "parse", "of", "the", "source"], "old_code": "document fragment deserialize ( string source , node ctx ) throws xmlencryption exception { document fragment result ; final string tagname = str ; string builder sb = new string builder ( ) ; sb . append ( str + tagname ) ; node wk = ctx ; while ( wk ! = null ) { named node map atts = wk . get attributes ( ) ; int length ; if ( atts ! = null ) { length = atts . get length ( ) ; } else { length = num ; } for ( int i = num ; i < length ; + + i ) { node att = atts . item ( i ) ; if ( att . get node name ( ) . starts with ( str ) | | att . get node name ( ) . equals ( str ) ) { node p = ctx ; boolean found = false ; while ( p ! = wk ) { named node map tst atts = p . get attributes ( ) ; if ( tst atts ! = null & & tst atts . get named item ( att . get node name ( ) ) ! = null ) { found = true ; break ; } p = p . get parent node ( ) ; } if ( found = = false ) { sb . append ( str + att . get node name ( ) + str + att . get node value ( ) + str ) ; } } } wk = wk . get parent node ( ) ; } sb . append ( str + source + str + tagname + str ) ; string fragment = sb . to string ( ) ; try { document builder factory dbf = document builder factory . new instance ( ) ; dbf . set namespace aware ( true ) ; dbf . set attribute ( str , boolean . true ) ; document builder db = dbf . new document builder ( ) ; document d = db . parse ( new input source ( new string reader ( fragment ) ) ) ; element frag elt = ( element ) context document . import node ( d . get document element ( ) , true ) ; result = context document . create document fragment ( ) ; node child = frag elt . get first child ( ) ; while ( child ! = null ) { frag elt . remove child ( child ) ; result . append child ( child ) ; child = frag elt . get first child ( ) ; } } catch ( saxexception se ) { throw new xmlencryption exception ( str , se ) ; } catch ( parser configuration exception pce ) { throw new xmlencryption exception ( str , pce ) ; } catch ( ioexception ioe ) { throw new xmlencryption exception ( str , ioe ) ; } return result ; }", "old_code_tokens": ["document", "fragment", "deserialize", "(", "string", "source", ",", "node", "ctx", ")", "throws", "xmlencryption", "exception", "{", "document", "fragment", "result", ";", "final", "string", "tagname", "=", "str", ";", "string", "builder", "sb", "=", "new", "string", "builder", "(", ")", ";", "sb", ".", "append", "(", "str", "+", "tagname", ")", ";", "node", "wk", "=", "ctx", ";", "while", "(", "wk", "!", "=", "null", ")", "{", "named", "node", "map", "atts", "=", "wk", ".", "get", "attributes", "(", ")", ";", "int", "length", ";", "if", "(", "atts", "!", "=", "null", ")", "{", "length", "=", "atts", ".", "get", "length", "(", ")", ";", "}", "else", "{", "length", "=", "num", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "length", ";", "+", "+", "i", ")", "{", "node", "att", "=", "atts", ".", "item", "(", "i", ")", ";", "if", "(", "att", ".", "get", "node", "name", "(", ")", ".", "starts", "with", "(", "str", ")", "|", "|", "att", ".", "get", "node", "name", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "node", "p", "=", "ctx", ";", "boolean", "found", "=", "false", ";", "while", "(", "p", "!", "=", "wk", ")", "{", "named", "node", "map", "tst", "atts", "=", "p", ".", "get", "attributes", "(", ")", ";", "if", "(", "tst", "atts", "!", "=", "null", "&", "&", "tst", "atts", ".", "get", "named", "item", "(", "att", ".", "get", "node", "name", "(", ")", ")", "!", "=", "null", ")", "{", "found", "=", "true", ";", "break", ";", "}", "p", "=", "p", ".", "get", "parent", "node", "(", ")", ";", "}", "if", "(", "found", "=", "=", "false", ")", "{", "sb", ".", "append", "(", "str", "+", "att", ".", "get", "node", "name", "(", ")", "+", "str", "+", "att", ".", "get", "node", "value", "(", ")", "+", "str", ")", ";", "}", "}", "}", "wk", "=", "wk", ".", "get", "parent", "node", "(", ")", ";", "}", "sb", ".", "append", "(", "str", "+", "source", "+", "str", "+", "tagname", "+", "str", ")", ";", "string", "fragment", "=", "sb", ".", "to", "string", "(", ")", ";", "try", "{", "document", "builder", "factory", "dbf", "=", "document", "builder", "factory", ".", "new", "instance", "(", ")", ";", "dbf", ".", "set", "namespace", "aware", "(", "true", ")", ";", "dbf", ".", "set", "attribute", "(", "str", ",", "boolean", ".", "true", ")", ";", "document", "builder", "db", "=", "dbf", ".", "new", "document", "builder", "(", ")", ";", "document", "d", "=", "db", ".", "parse", "(", "new", "input", "source", "(", "new", "string", "reader", "(", "fragment", ")", ")", ")", ";", "element", "frag", "elt", "=", "(", "element", ")", "context", "document", ".", "import", "node", "(", "d", ".", "get", "document", "element", "(", ")", ",", "true", ")", ";", "result", "=", "context", "document", ".", "create", "document", "fragment", "(", ")", ";", "node", "child", "=", "frag", "elt", ".", "get", "first", "child", "(", ")", ";", "while", "(", "child", "!", "=", "null", ")", "{", "frag", "elt", ".", "remove", "child", "(", "child", ")", ";", "result", ".", "append", "child", "(", "child", ")", ";", "child", "=", "frag", "elt", ".", "get", "first", "child", "(", ")", ";", "}", "}", "catch", "(", "saxexception", "se", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "se", ")", ";", "}", "catch", "(", "parser", "configuration", "exception", "pce", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "pce", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "ioe", ")", ";", "}", "return", "result", ";", "}"], "new_code": "node deserialize ( string source , node ctx ) throws xmlencryption exception { string builder sb = new string builder ( ) ; sb . append ( str ) ; map < string , string > stored namespaces = new hash map < string , string > ( ) ; node wk = ctx ; while ( wk ! = null ) { named node map atts = wk . get attributes ( ) ; if ( atts ! = null ) { for ( int i = num ; i < atts . get length ( ) ; + + i ) { node att = atts . item ( i ) ; string node name = att . get node name ( ) ; if ( ( node name . equals ( str ) | | node name . starts with ( str ) ) & & ! stored namespaces . contains key ( att . get node name ( ) ) ) { sb . append ( str + node name + str + att . get node value ( ) + str ) ; stored namespaces . put ( node name , att . get node value ( ) ) ; } } } wk = wk . get parent node ( ) ; } sb . append ( str + source + str ) ; string fragment = sb . to string ( ) ; try { if ( dbf = = null ) { dbf = document builder factory . new instance ( ) ; dbf . set namespace aware ( true ) ; dbf . set attribute ( str , boolean . true ) ; dbf . set validating ( false ) ; } document builder db = dbf . new document builder ( ) ; document d = db . parse ( new input source ( new string reader ( fragment ) ) ) ; element frag elt = ( element ) context document . import node ( d . get document element ( ) , true ) ; document fragment result = context document . create document fragment ( ) ; node child = frag elt . get first child ( ) ; while ( child ! = null ) { frag elt . remove child ( child ) ; result . append child ( child ) ; child = frag elt . get first child ( ) ; } return result ; } catch ( saxexception se ) { throw new xmlencryption exception ( str , se ) ; } catch ( parser configuration exception pce ) { throw new xmlencryption exception ( str , pce ) ; } catch ( ioexception ioe ) { throw new xmlencryption exception ( str , ioe ) ; } }", "new_code_tokens": ["node", "deserialize", "(", "string", "source", ",", "node", "ctx", ")", "throws", "xmlencryption", "exception", "{", "string", "builder", "sb", "=", "new", "string", "builder", "(", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "map", "<", "string", ",", "string", ">", "stored", "namespaces", "=", "new", "hash", "map", "<", "string", ",", "string", ">", "(", ")", ";", "node", "wk", "=", "ctx", ";", "while", "(", "wk", "!", "=", "null", ")", "{", "named", "node", "map", "atts", "=", "wk", ".", "get", "attributes", "(", ")", ";", "if", "(", "atts", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "atts", ".", "get", "length", "(", ")", ";", "+", "+", "i", ")", "{", "node", "att", "=", "atts", ".", "item", "(", "i", ")", ";", "string", "node", "name", "=", "att", ".", "get", "node", "name", "(", ")", ";", "if", "(", "(", "node", "name", ".", "equals", "(", "str", ")", "|", "|", "node", "name", ".", "starts", "with", "(", "str", ")", ")", "&", "&", "!", "stored", "namespaces", ".", "contains", "key", "(", "att", ".", "get", "node", "name", "(", ")", ")", ")", "{", "sb", ".", "append", "(", "str", "+", "node", "name", "+", "str", "+", "att", ".", "get", "node", "value", "(", ")", "+", "str", ")", ";", "stored", "namespaces", ".", "put", "(", "node", "name", ",", "att", ".", "get", "node", "value", "(", ")", ")", ";", "}", "}", "}", "wk", "=", "wk", ".", "get", "parent", "node", "(", ")", ";", "}", "sb", ".", "append", "(", "str", "+", "source", "+", "str", ")", ";", "string", "fragment", "=", "sb", ".", "to", "string", "(", ")", ";", "try", "{", "if", "(", "dbf", "=", "=", "null", ")", "{", "dbf", "=", "document", "builder", "factory", ".", "new", "instance", "(", ")", ";", "dbf", ".", "set", "namespace", "aware", "(", "true", ")", ";", "dbf", ".", "set", "attribute", "(", "str", ",", "boolean", ".", "true", ")", ";", "dbf", ".", "set", "validating", "(", "false", ")", ";", "}", "document", "builder", "db", "=", "dbf", ".", "new", "document", "builder", "(", ")", ";", "document", "d", "=", "db", ".", "parse", "(", "new", "input", "source", "(", "new", "string", "reader", "(", "fragment", ")", ")", ")", ";", "element", "frag", "elt", "=", "(", "element", ")", "context", "document", ".", "import", "node", "(", "d", ".", "get", "document", "element", "(", ")", ",", "true", ")", ";", "document", "fragment", "result", "=", "context", "document", ".", "create", "document", "fragment", "(", ")", ";", "node", "child", "=", "frag", "elt", ".", "get", "first", "child", "(", ")", ";", "while", "(", "child", "!", "=", "null", ")", "{", "frag", "elt", ".", "remove", "child", "(", "child", ")", ";", "result", ".", "append", "child", "(", "child", ")", ";", "child", "=", "frag", "elt", ".", "get", "first", "child", "(", ")", ";", "}", "return", "result", ";", "}", "catch", "(", "saxexception", "se", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "se", ")", ";", "}", "catch", "(", "parser", "configuration", "exception", "pce", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "pce", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "ioe", ")", ";", "}", "}"], "span_diff_code": "<REPLACE_OLD> document fragment <REPLACE_NEW> node <REPLACE_END> <KEEP> deserialize ( string source , node ctx ) throws xmlencryption exception { <KEEP_END> <DELETE> document fragment result ; final string tagname = str ; <DELETE_END> <KEEP> string builder sb = new string builder ( ) ; sb . append ( str <KEEP_END> <REPLACE_OLD> + tagname <REPLACE_NEW> ) ; map < string , string > stored namespaces = new hash map < string , string > ( <REPLACE_END> <KEEP> ) ; node wk = ctx ; while ( wk ! = null ) { named node map atts = wk . get attributes ( ) ; <KEEP_END> <DELETE> int length ; <DELETE_END> <KEEP> if ( atts ! = null ) { <KEEP_END> <DELETE> length = atts . get length ( ) ; } else { length = num ; } <DELETE_END> <KEEP> for ( int i = num ; i < <KEEP_END> <INSERT> atts . get <INSERT_END> <KEEP> length <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; + + i ) { node att = atts . item ( i ) ; <KEEP_END> <INSERT> string node name = att . get node name ( ) ; <INSERT_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> att . get node name ( ) <REPLACE_NEW> ( node name . equals ( str ) | | node name <REPLACE_END> <KEEP> . starts with ( str ) <KEEP_END> <REPLACE_OLD> | | att . get node name ( ) . equals ( str ) ) { node p = ctx ; boolean found = false ; while ( p ! = wk ) { named node map tst atts = p . get attributes ( ) ; if ( tst atts ! = null <REPLACE_NEW> ) <REPLACE_END> <KEEP> & & <KEEP_END> <REPLACE_OLD> tst atts . get named item <REPLACE_NEW> ! stored namespaces . contains key <REPLACE_END> <KEEP> ( att . get node name ( ) ) <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> ) { sb . append ( str + node name + str + att . get node value ( ) + str ) ; stored namespaces . put ( node name , att . get node value ( ) ) ; } } } wk = wk . get parent node ( ) ; } sb . append ( str + source + str ) ; string fragment = sb . to string ( ) ; try { if ( dbf = <REPLACE_END> <KEEP> = null ) { <KEEP_END> <DELETE> found = true ; break ; } p = p . get parent node ( ) ; } if ( found = = false ) { sb . append ( str + att . get node name ( ) + str + att . get node value ( ) + str ) ; } } } wk = wk . get parent node ( ) ; } sb . append ( str + source + str + tagname + str ) ; string fragment = sb . to string ( ) ; try { document builder factory <DELETE_END> <KEEP> dbf = document builder factory . new instance ( ) ; dbf . set namespace aware ( true ) ; dbf . set attribute ( str , boolean . true ) ; <KEEP_END> <INSERT> dbf . set validating ( false ) ; } <INSERT_END> <KEEP> document builder db = dbf . new document builder ( ) ; document d = db . parse ( new input source ( new string reader ( fragment ) ) ) ; element frag elt = ( element ) context document . import node ( d . get document element ( ) , true ) ; <KEEP_END> <INSERT> document fragment <INSERT_END> <KEEP> result = context document . create document fragment ( ) ; node child = frag elt . get first child ( ) ; while ( child ! = null ) { frag elt . remove child ( child ) ; result . append child ( child ) ; child = frag elt . get first child ( ) ; } <KEEP_END> <INSERT> return result ; <INSERT_END> <KEEP> } catch ( saxexception se ) { throw new xmlencryption exception ( str , se ) ; } catch ( parser configuration exception pce ) { throw new xmlencryption exception ( str , pce ) ; } catch ( ioexception ioe ) { throw new xmlencryption exception ( str , ioe ) ; } <KEEP_END> <REPLACE_OLD> return result ; } <REPLACE_NEW> } <REPLACE_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "document", "fragment", "<REPLACE_NEW>", "node", "<REPLACE_END>", "<KEEP>", "deserialize", "(", "string", "source", ",", "node", "ctx", ")", "throws", "xmlencryption", "exception", "{", "<KEEP_END>", "<DELETE>", "document", "fragment", "result", ";", "final", "string", "tagname", "=", "str", ";", "<DELETE_END>", "<KEEP>", "string", "builder", "sb", "=", "new", "string", "builder", "(", ")", ";", "sb", ".", "append", "(", "str", "<KEEP_END>", "<REPLACE_OLD>", "+", "tagname", "<REPLACE_NEW>", ")", ";", "map", "<", "string", ",", "string", ">", "stored", "namespaces", "=", "new", "hash", "map", "<", "string", ",", "string", ">", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "node", "wk", "=", "ctx", ";", "while", "(", "wk", "!", "=", "null", ")", "{", "named", "node", "map", "atts", "=", "wk", ".", "get", "attributes", "(", ")", ";", "<KEEP_END>", "<DELETE>", "int", "length", ";", "<DELETE_END>", "<KEEP>", "if", "(", "atts", "!", "=", "null", ")", "{", "<KEEP_END>", "<DELETE>", "length", "=", "atts", ".", "get", "length", "(", ")", ";", "}", "else", "{", "length", "=", "num", ";", "}", "<DELETE_END>", "<KEEP>", "for", "(", "int", "i", "=", "num", ";", "i", "<", "<KEEP_END>", "<INSERT>", "atts", ".", "get", "<INSERT_END>", "<KEEP>", "length", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "+", "+", "i", ")", "{", "node", "att", "=", "atts", ".", "item", "(", "i", ")", ";", "<KEEP_END>", "<INSERT>", "string", "node", "name", "=", "att", ".", "get", "node", "name", "(", ")", ";", "<INSERT_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "att", ".", "get", "node", "name", "(", ")", "<REPLACE_NEW>", "(", "node", "name", ".", "equals", "(", "str", ")", "|", "|", "node", "name", "<REPLACE_END>", "<KEEP>", ".", "starts", "with", "(", "str", ")", "<KEEP_END>", "<REPLACE_OLD>", "|", "|", "att", ".", "get", "node", "name", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "node", "p", "=", "ctx", ";", "boolean", "found", "=", "false", ";", "while", "(", "p", "!", "=", "wk", ")", "{", "named", "node", "map", "tst", "atts", "=", "p", ".", "get", "attributes", "(", ")", ";", "if", "(", "tst", "atts", "!", "=", "null", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", "&", "&", "<KEEP_END>", "<REPLACE_OLD>", "tst", "atts", ".", "get", "named", "item", "<REPLACE_NEW>", "!", "stored", "namespaces", ".", "contains", "key", "<REPLACE_END>", "<KEEP>", "(", "att", ".", "get", "node", "name", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", ")", "{", "sb", ".", "append", "(", "str", "+", "node", "name", "+", "str", "+", "att", ".", "get", "node", "value", "(", ")", "+", "str", ")", ";", "stored", "namespaces", ".", "put", "(", "node", "name", ",", "att", ".", "get", "node", "value", "(", ")", ")", ";", "}", "}", "}", "wk", "=", "wk", ".", "get", "parent", "node", "(", ")", ";", "}", "sb", ".", "append", "(", "str", "+", "source", "+", "str", ")", ";", "string", "fragment", "=", "sb", ".", "to", "string", "(", ")", ";", "try", "{", "if", "(", "dbf", "=", "<REPLACE_END>", "<KEEP>", "=", "null", ")", "{", "<KEEP_END>", "<DELETE>", "found", "=", "true", ";", "break", ";", "}", "p", "=", "p", ".", "get", "parent", "node", "(", ")", ";", "}", "if", "(", "found", "=", "=", "false", ")", "{", "sb", ".", "append", "(", "str", "+", "att", ".", "get", "node", "name", "(", ")", "+", "str", "+", "att", ".", "get", "node", "value", "(", ")", "+", "str", ")", ";", "}", "}", "}", "wk", "=", "wk", ".", "get", "parent", "node", "(", ")", ";", "}", "sb", ".", "append", "(", "str", "+", "source", "+", "str", "+", "tagname", "+", "str", ")", ";", "string", "fragment", "=", "sb", ".", "to", "string", "(", ")", ";", "try", "{", "document", "builder", "factory", "<DELETE_END>", "<KEEP>", "dbf", "=", "document", "builder", "factory", ".", "new", "instance", "(", ")", ";", "dbf", ".", "set", "namespace", "aware", "(", "true", ")", ";", "dbf", ".", "set", "attribute", "(", "str", ",", "boolean", ".", "true", ")", ";", "<KEEP_END>", "<INSERT>", "dbf", ".", "set", "validating", "(", "false", ")", ";", "}", "<INSERT_END>", "<KEEP>", "document", "builder", "db", "=", "dbf", ".", "new", "document", "builder", "(", ")", ";", "document", "d", "=", "db", ".", "parse", "(", "new", "input", "source", "(", "new", "string", "reader", "(", "fragment", ")", ")", ")", ";", "element", "frag", "elt", "=", "(", "element", ")", "context", "document", ".", "import", "node", "(", "d", ".", "get", "document", "element", "(", ")", ",", "true", ")", ";", "<KEEP_END>", "<INSERT>", "document", "fragment", "<INSERT_END>", "<KEEP>", "result", "=", "context", "document", ".", "create", "document", "fragment", "(", ")", ";", "node", "child", "=", "frag", "elt", ".", "get", "first", "child", "(", ")", ";", "while", "(", "child", "!", "=", "null", ")", "{", "frag", "elt", ".", "remove", "child", "(", "child", ")", ";", "result", ".", "append", "child", "(", "child", ")", ";", "child", "=", "frag", "elt", ".", "get", "first", "child", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "result", ";", "<INSERT_END>", "<KEEP>", "}", "catch", "(", "saxexception", "se", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "se", ")", ";", "}", "catch", "(", "parser", "configuration", "exception", "pce", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "pce", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "throw", "new", "xmlencryption", "exception", "(", "str", ",", "ioe", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "result", ";", "}", "<REPLACE_NEW>", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> document fragment <REPLACE_NEW> node <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "document", "fragment", "<REPLACE_NEW>", "node", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "document", "<REPLACE_OLD>", "fragment", "<REPLACE_NEW>", "node", "<KEEP>", "deserialize", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "source", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "ctx", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "xmlencryption", "<KEEP>", "exception", "<KEEP>", "{", "<DELETE>", "document", "<DELETE>", "fragment", "<DELETE>", "result", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "tagname", "<DELETE>", "=", "<DELETE>", "str", "<DELETE>", ";", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "sb", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sb", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "tagname", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "stored", "<REPLACE_NEW>", "namespaces", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "wk", "<KEEP>", "=", "<KEEP>", "ctx", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "wk", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "named", "<KEEP>", "node", "<KEEP>", "map", "<KEEP>", "atts", "<KEEP>", "=", "<KEEP>", "wk", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "int", "<DELETE>", "length", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "atts", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "length", "<DELETE>", "=", "<DELETE>", "atts", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "length", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<INSERT>", "atts", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "length", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "node", "<KEEP>", "att", "<KEEP>", "=", "<KEEP>", "atts", "<KEEP>", ".", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "string", "<INSERT>", "node", "<INSERT>", "name", "<INSERT>", "=", "<INSERT>", "att", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "node", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "att", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "name", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "att", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "ctx", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "found", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "while", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "wk", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "named", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "tst", "<REPLACE_OLD>", "atts", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "tst", "<REPLACE_OLD>", "atts", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", ")", "<KEEP>", "&", "<KEEP>", "&", "<REPLACE_OLD>", "tst", "<REPLACE_OLD>", "atts", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "named", "<REPLACE_OLD>", "item", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "stored", "<REPLACE_NEW>", "namespaces", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "contains", "<REPLACE_NEW>", "key", "<KEEP>", "(", "<KEEP>", "att", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "node", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "sb", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "append", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "att", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "stored", "<REPLACE_NEW>", "namespaces", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "att", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "wk", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "wk", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "parent", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "sb", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "append", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "fragment", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "sb", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "dbf", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "found", "<DELETE>", "=", "<DELETE>", "true", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "p", "<DELETE>", "=", "<DELETE>", "p", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parent", "<DELETE>", "node", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "found", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "false", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "sb", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "att", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "node", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "att", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "node", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "wk", "<DELETE>", "=", "<DELETE>", "wk", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parent", "<DELETE>", "node", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "sb", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "source", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "tagname", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "fragment", "<DELETE>", "=", "<DELETE>", "sb", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "document", "<DELETE>", "builder", "<DELETE>", "factory", "<KEEP>", "dbf", "<KEEP>", "=", "<KEEP>", "document", "<KEEP>", "builder", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "dbf", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "namespace", "<KEEP>", "aware", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "dbf", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", ".", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "dbf", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "validating", "<INSERT>", "(", "<INSERT>", "false", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "document", "<KEEP>", "builder", "<KEEP>", "db", "<KEEP>", "=", "<KEEP>", "dbf", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "document", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "document", "<KEEP>", "d", "<KEEP>", "=", "<KEEP>", "db", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "input", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "fragment", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "element", "<KEEP>", "frag", "<KEEP>", "elt", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", "context", "<KEEP>", "document", "<KEEP>", ".", "<KEEP>", "import", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "document", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "document", "<INSERT>", "fragment", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "context", "<KEEP>", "document", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "document", "<KEEP>", "fragment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "child", "<KEEP>", "=", "<KEEP>", "frag", "<KEEP>", "elt", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "frag", "<KEEP>", "elt", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "child", "<KEEP>", "=", "<KEEP>", "frag", "<KEEP>", "elt", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "result", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "saxexception", "<KEEP>", "se", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "xmlencryption", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "se", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "parser", "<KEEP>", "configuration", "<KEEP>", "exception", "<KEEP>", "pce", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "xmlencryption", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "pce", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "ioe", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "xmlencryption", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "ioe", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "}"], "split": "valid", "score": 0.9557007721645219, "using": 2, "keep": 1}
{"id": "marshall_rhino_titanium-50-5229", "old_comment": "an object representing the parsed program . if the parse fails , null will be returned . ( the parse failure will result in a call to the error reporter from compiler environs . )", "old_comment_tokens": ["an", "object", "representing", "the", "parsed", "program", ".", "if", "the", "parse", "fails", ",", "null", "will", "be", "returned", ".", "(", "the", "parse", "failure", "will", "result", "in", "a", "call", "to", "the", "error", "reporter", "from", "compiler", "environs", ".", ")"], "new_comment": "an ast root object representing the parsed program . if the parse fails , null will be returned . ( the parse failure will result in a call to the error reporter from compiler environs . )", "new_comment_tokens": ["an", "ast", "root", "object", "representing", "the", "parsed", "program", ".", "if", "the", "parse", "fails", ",", "null", "will", "be", "returned", ".", "(", "the", "parse", "failure", "will", "result", "in", "a", "call", "to", "the", "error", "reporter", "from", "compiler", "environs", ".", ")"], "old_code": "public script or fn node parse ( string source string , string source uri , int lineno ) { this . source uri = source uri ; this . ts = new token stream ( this , null , source string , lineno ) ; try { return parse ( ) ; } catch ( ioexception ex ) { throw new illegal state exception ( ) ; } }", "old_code_tokens": ["public", "script", "or", "fn", "node", "parse", "(", "string", "source", "string", ",", "string", "source", "uri", ",", "int", "lineno", ")", "{", "this", ".", "source", "uri", "=", "source", "uri", ";", "this", ".", "ts", "=", "new", "token", "stream", "(", "this", ",", "null", ",", "source", "string", ",", "lineno", ")", ";", "try", "{", "return", "parse", "(", ")", ";", "}", "catch", "(", "ioexception", "ex", ")", "{", "throw", "new", "illegal", "state", "exception", "(", ")", ";", "}", "}"], "new_code": "public ast root parse ( string source string , string source uri , int lineno ) { if ( parse finished ) throw new illegal state exception ( str ) ; this . source uri = source uri ; if ( compiler env . is ide mode ( ) ) { this . source chars = source string . to char array ( ) ; } this . ts = new token stream ( this , null , source string , lineno ) ; try { return parse ( ) ; } catch ( ioexception iox ) { throw new illegal state exception ( ) ; } finally { parse finished = true ; } }", "new_code_tokens": ["public", "ast", "root", "parse", "(", "string", "source", "string", ",", "string", "source", "uri", ",", "int", "lineno", ")", "{", "if", "(", "parse", "finished", ")", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "this", ".", "source", "uri", "=", "source", "uri", ";", "if", "(", "compiler", "env", ".", "is", "ide", "mode", "(", ")", ")", "{", "this", ".", "source", "chars", "=", "source", "string", ".", "to", "char", "array", "(", ")", ";", "}", "this", ".", "ts", "=", "new", "token", "stream", "(", "this", ",", "null", ",", "source", "string", ",", "lineno", ")", ";", "try", "{", "return", "parse", "(", ")", ";", "}", "catch", "(", "ioexception", "iox", ")", "{", "throw", "new", "illegal", "state", "exception", "(", ")", ";", "}", "finally", "{", "parse", "finished", "=", "true", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> script or fn node <REPLACE_NEW> ast root <REPLACE_END> <KEEP> parse ( string source string , string source uri , int lineno ) { <KEEP_END> <INSERT> if ( parse finished ) throw new illegal state exception ( str ) ; <INSERT_END> <KEEP> this . source uri = source uri ; <KEEP_END> <INSERT> if ( compiler env . is ide mode ( ) ) { this . source chars = source string . to char array ( ) ; } <INSERT_END> <KEEP> this . ts = new token stream ( this , null , source string , lineno ) ; try { return parse ( ) ; } catch ( ioexception <KEEP_END> <REPLACE_OLD> ex <REPLACE_NEW> iox <REPLACE_END> <KEEP> ) { throw new illegal state exception ( ) ; } <KEEP_END> <INSERT> finally { parse finished = true ; <INSERT_END> <KEEP> } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "script", "or", "fn", "node", "<REPLACE_NEW>", "ast", "root", "<REPLACE_END>", "<KEEP>", "parse", "(", "string", "source", "string", ",", "string", "source", "uri", ",", "int", "lineno", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "parse", "finished", ")", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "<INSERT_END>", "<KEEP>", "this", ".", "source", "uri", "=", "source", "uri", ";", "<KEEP_END>", "<INSERT>", "if", "(", "compiler", "env", ".", "is", "ide", "mode", "(", ")", ")", "{", "this", ".", "source", "chars", "=", "source", "string", ".", "to", "char", "array", "(", ")", ";", "}", "<INSERT_END>", "<KEEP>", "this", ".", "ts", "=", "new", "token", "stream", "(", "this", ",", "null", ",", "source", "string", ",", "lineno", ")", ";", "try", "{", "return", "parse", "(", ")", ";", "}", "catch", "(", "ioexception", "<KEEP_END>", "<REPLACE_OLD>", "ex", "<REPLACE_NEW>", "iox", "<REPLACE_END>", "<KEEP>", ")", "{", "throw", "new", "illegal", "state", "exception", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "finally", "{", "parse", "finished", "=", "true", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> an <INSERT_NEW_KEEP_BEFORE> an ast root <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "an", "<INSERT_NEW_KEEP_BEFORE>", "an", "ast", "root", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "script", "<REPLACE_OLD>", "or", "<REPLACE_OLD>", "fn", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "ast", "<REPLACE_NEW>", "root", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "source", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "source", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "lineno", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "parse", "<INSERT>", "finished", "<INSERT>", ")", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "source", "<KEEP>", "uri", "<KEEP>", "=", "<KEEP>", "source", "<KEEP>", "uri", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "compiler", "<INSERT>", "env", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "ide", "<INSERT>", "mode", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "source", "<INSERT>", "chars", "<INSERT>", "=", "<INSERT>", "source", "<INSERT>", "string", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "char", "<INSERT>", "array", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "ts", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "source", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "lineno", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<REPLACE_OLD>", "ex", "<REPLACE_NEW>", "iox", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "finally", "<INSERT>", "{", "<INSERT>", "parse", "<INSERT>", "finished", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "valid", "score": 0.9944347123736925, "using": 2, "keep": 1}
{"id": "apache_stratos-65-6573", "old_comment": "org . apache . stratos . messaging . domain . instance . context . instance context object if object found and removed , null if otherwise .", "old_comment_tokens": ["org", ".", "apache", ".", "stratos", ".", "messaging", ".", "domain", ".", "instance", ".", "context", ".", "instance", "context", "object", "if", "object", "found", "and", "removed", ",", "null", "if", "otherwise", "."], "new_comment": "org . apache . stratos . messaging . domain . instance . instance object if object found and removed , null if otherwise .", "new_comment_tokens": ["org", ".", "apache", ".", "stratos", ".", "messaging", ".", "domain", ".", "instance", ".", "instance", "object", "if", "object", "found", "and", "removed", ",", "null", "if", "otherwise", "."], "old_code": "private instance context remove instance from ( iterator < instance context > iterator , string instance id ) { while ( iterator . has next ( ) ) { instance context active instance = iterator . next ( ) ; if ( active instance = = null ) { iterator . remove ( ) ; continue ; } if ( instance id . equals ( active instance . get instance id ( ) ) ) { iterator . remove ( ) ; return active instance ; } } return null ; }", "old_code_tokens": ["private", "instance", "context", "remove", "instance", "from", "(", "iterator", "<", "instance", "context", ">", "iterator", ",", "string", "instance", "id", ")", "{", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "instance", "context", "active", "instance", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "active", "instance", "=", "=", "null", ")", "{", "iterator", ".", "remove", "(", ")", ";", "continue", ";", "}", "if", "(", "instance", "id", ".", "equals", "(", "active", "instance", ".", "get", "instance", "id", "(", ")", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "return", "active", "instance", ";", "}", "}", "return", "null", ";", "}"], "new_code": "private instance remove instance from ( iterator < instance > iterator , string instance id ) { while ( iterator . has next ( ) ) { instance active instance = iterator . next ( ) ; if ( active instance = = null ) { iterator . remove ( ) ; continue ; } if ( instance id . equals ( active instance . get instance id ( ) ) ) { iterator . remove ( ) ; return active instance ; } } return null ; }", "new_code_tokens": ["private", "instance", "remove", "instance", "from", "(", "iterator", "<", "instance", ">", "iterator", ",", "string", "instance", "id", ")", "{", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "instance", "active", "instance", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "active", "instance", "=", "=", "null", ")", "{", "iterator", ".", "remove", "(", ")", ";", "continue", ";", "}", "if", "(", "instance", "id", ".", "equals", "(", "active", "instance", ".", "get", "instance", "id", "(", ")", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "return", "active", "instance", ";", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> private instance <KEEP_END> <DELETE> context <DELETE_END> <KEEP> remove instance from ( iterator < instance <KEEP_END> <DELETE> context <DELETE_END> <KEEP> > iterator , string instance id ) { while ( iterator . has next ( ) ) { instance <KEEP_END> <DELETE> context <DELETE_END> <KEEP> active instance = iterator . next ( ) ; if ( active instance = = null ) { iterator . remove ( ) ; continue ; } if ( instance id . equals ( active instance . get instance id ( ) ) ) { iterator . remove ( ) ; return active instance ; } } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "instance", "<KEEP_END>", "<DELETE>", "context", "<DELETE_END>", "<KEEP>", "remove", "instance", "from", "(", "iterator", "<", "instance", "<KEEP_END>", "<DELETE>", "context", "<DELETE_END>", "<KEEP>", ">", "iterator", ",", "string", "instance", "id", ")", "{", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "instance", "<KEEP_END>", "<DELETE>", "context", "<DELETE_END>", "<KEEP>", "active", "instance", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "active", "instance", "=", "=", "null", ")", "{", "iterator", ".", "remove", "(", ")", ";", "continue", ";", "}", "if", "(", "instance", "id", ".", "equals", "(", "active", "instance", ".", "get", "instance", "id", "(", ")", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "return", "active", "instance", ";", "}", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> context . <DELETE_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> instance context <REPLACE_NEW_DELETE_KEEP_BEFORE> instance <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "context", ".", "<DELETE_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", "instance", "context", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "instance", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "instance", "<DELETE>", "context", "<KEEP>", "remove", "<KEEP>", "instance", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "instance", "<DELETE>", "context", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "instance", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "instance", "<DELETE>", "context", "<KEEP>", "active", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "active", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "instance", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "active", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "active", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "valid", "score": 0.9899781889784262, "using": 2, "keep": 1}
