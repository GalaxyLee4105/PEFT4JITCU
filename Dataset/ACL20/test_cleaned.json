{"id": "codehaus_cake-12-4534", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public long get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "long", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public long get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "long", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public long get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mccraigmccraig_prefuse-11-5602", "old_comment": "the requested graph item , or null if the graph item wasn ' t found and the create parameter is false .", "old_comment_tokens": ["the", "requested", "graph", "item", ",", "or", "null", "if", "the", "graph", "item", "wasn", "'", "t", "found", "and", "the", "create", "parameter", "is", "false", "."], "new_comment": "the requested visual item , or null if the visual item wasn ' t found and the create parameter is false .", "new_comment_tokens": ["the", "requested", "visual", "item", ",", "or", "null", "if", "the", "visual", "item", "wasn", "'", "t", "found", "and", "the", "create", "parameter", "is", "false", "."], "old_code": "public synchronized graph item get item ( string item class , entity entity , boolean create ) { item entry entry = ( item entry ) m _ entry map . get ( item class ) ; if ( entry ! = null ) { graph item item = ( graph item ) entry . item map . get ( entity ) ; if ( ! create ) { return item ; } else if ( item = = null ) { item = m _ ifactory . get item ( item class ) ; item . init ( this , item class , entity ) ; add item ( entry , entity , item ) ; } if ( item instanceof node item ) ( ( node item ) item ) . remove all neighbors ( ) ; item . set dirty ( num ) ; item . set visible ( true ) ; return item ; } else { throw new illegal argument exception ( str + str ) ; } }", "old_code_tokens": ["public", "synchronized", "graph", "item", "get", "item", "(", "string", "item", "class", ",", "entity", "entity", ",", "boolean", "create", ")", "{", "item", "entry", "entry", "=", "(", "item", "entry", ")", "m", "_", "entry", "map", ".", "get", "(", "item", "class", ")", ";", "if", "(", "entry", "!", "=", "null", ")", "{", "graph", "item", "item", "=", "(", "graph", "item", ")", "entry", ".", "item", "map", ".", "get", "(", "entity", ")", ";", "if", "(", "!", "create", ")", "{", "return", "item", ";", "}", "else", "if", "(", "item", "=", "=", "null", ")", "{", "item", "=", "m", "_", "ifactory", ".", "get", "item", "(", "item", "class", ")", ";", "item", ".", "init", "(", "this", ",", "item", "class", ",", "entity", ")", ";", "add", "item", "(", "entry", ",", "entity", ",", "item", ")", ";", "}", "if", "(", "item", "instanceof", "node", "item", ")", "(", "(", "node", "item", ")", "item", ")", ".", "remove", "all", "neighbors", "(", ")", ";", "item", ".", "set", "dirty", "(", "num", ")", ";", "item", ".", "set", "visible", "(", "true", ")", ";", "return", "item", ";", "}", "else", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "str", ")", ";", "}", "}"], "new_code": "public synchronized visual item get item ( string item class , entity entity , boolean create ) { item entry entry = ( item entry ) m _ entry map . get ( item class ) ; if ( entry ! = null ) { visual item item = ( visual item ) entry . item map . get ( entity ) ; if ( ! create ) { return item ; } else if ( item = = null ) { item = m _ ifactory . get item ( item class ) ; item . init ( this , item class , entity ) ; add item ( entry , entity , item ) ; } if ( item instanceof node item ) ( ( node item ) item ) . remove all neighbors ( ) ; item . set dirty ( num ) ; item . set visible ( true ) ; return item ; } else { throw new illegal argument exception ( str + str ) ; } }", "new_code_tokens": ["public", "synchronized", "visual", "item", "get", "item", "(", "string", "item", "class", ",", "entity", "entity", ",", "boolean", "create", ")", "{", "item", "entry", "entry", "=", "(", "item", "entry", ")", "m", "_", "entry", "map", ".", "get", "(", "item", "class", ")", ";", "if", "(", "entry", "!", "=", "null", ")", "{", "visual", "item", "item", "=", "(", "visual", "item", ")", "entry", ".", "item", "map", ".", "get", "(", "entity", ")", ";", "if", "(", "!", "create", ")", "{", "return", "item", ";", "}", "else", "if", "(", "item", "=", "=", "null", ")", "{", "item", "=", "m", "_", "ifactory", ".", "get", "item", "(", "item", "class", ")", ";", "item", ".", "init", "(", "this", ",", "item", "class", ",", "entity", ")", ";", "add", "item", "(", "entry", ",", "entity", ",", "item", ")", ";", "}", "if", "(", "item", "instanceof", "node", "item", ")", "(", "(", "node", "item", ")", "item", ")", ".", "remove", "all", "neighbors", "(", ")", ";", "item", ".", "set", "dirty", "(", "num", ")", ";", "item", ".", "set", "visible", "(", "true", ")", ";", "return", "item", ";", "}", "else", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "str", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public synchronized <KEEP_END> <REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END> <KEEP> item get item ( string item class , entity entity , boolean create ) { item entry entry = ( item entry ) m _ entry map . get ( item class ) ; if ( entry ! = null ) { <KEEP_END> <REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END> <KEEP> item item = ( <KEEP_END> <REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END> <KEEP> item ) entry . item map . get ( entity ) ; if ( ! create ) { return item ; } else if ( item = = null ) { item = m _ ifactory . get item ( item class ) ; item . init ( this , item class , entity ) ; add item ( entry , entity , item ) ; } if ( item instanceof node item ) ( ( node item ) item ) . remove all neighbors ( ) ; item . set dirty ( num ) ; item . set visible ( true ) ; return item ; } else { throw new illegal argument exception ( str + str ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "synchronized", "<KEEP_END>", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>", "<KEEP>", "item", "get", "item", "(", "string", "item", "class", ",", "entity", "entity", ",", "boolean", "create", ")", "{", "item", "entry", "entry", "=", "(", "item", "entry", ")", "m", "_", "entry", "map", ".", "get", "(", "item", "class", ")", ";", "if", "(", "entry", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>", "<KEEP>", "item", "item", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>", "<KEEP>", "item", ")", "entry", ".", "item", "map", ".", "get", "(", "entity", ")", ";", "if", "(", "!", "create", ")", "{", "return", "item", ";", "}", "else", "if", "(", "item", "=", "=", "null", ")", "{", "item", "=", "m", "_", "ifactory", ".", "get", "item", "(", "item", "class", ")", ";", "item", ".", "init", "(", "this", ",", "item", "class", ",", "entity", ")", ";", "add", "item", "(", "entry", ",", "entity", ",", "item", ")", ";", "}", "if", "(", "item", "instanceof", "node", "item", ")", "(", "(", "node", "item", ")", "item", ")", ".", "remove", "all", "neighbors", "(", ")", ";", "item", ".", "set", "dirty", "(", "num", ")", ";", "item", ".", "set", "visible", "(", "true", ")", ";", "return", "item", ";", "}", "else", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "str", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> requested graph <REPLACE_NEW_KEEP_BEFORE> requested visual <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> the graph <REPLACE_NEW_KEEP_BEFORE> the visual <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "requested", "graph", "<REPLACE_NEW_KEEP_BEFORE>", "requested", "visual", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "the", "graph", "<REPLACE_NEW_KEEP_BEFORE>", "the", "visual", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "synchronized", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<KEEP>", "item", "<KEEP>", "get", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "item", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "entity", "<KEEP>", "entity", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "create", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "item", "<KEEP>", "entry", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "item", "<KEEP>", "entry", "<KEEP>", ")", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "entry", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "item", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<KEEP>", "item", "<KEEP>", "item", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "item", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "create", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "item", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "item", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "item", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "ifactory", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "item", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "item", "<KEEP>", ".", "<KEEP>", "init", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "item", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "entity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ",", "<KEEP>", "entity", "<KEEP>", ",", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "item", "<KEEP>", "instanceof", "<KEEP>", "node", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "all", "<KEEP>", "neighbors", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "item", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "dirty", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "item", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "visible", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "item", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_giraph-99-5640", "old_comment": "the new vertex edges data structure .", "old_comment_tokens": ["the", "new", "vertex", "edges", "data", "structure", "."], "new_comment": "the new out edges data structure .", "new_comment_tokens": ["the", "new", "out", "edges", "data", "structure", "."], "old_code": "public vertex edges < i , e > unwrap ( ) { if ( current edge ! = null ) { new edges . add ( current edge ) ; current edge = null ; } while ( old edges iterator . has next ( ) ) { new edges . add ( old edges iterator . next ( ) ) ; } return new edges ; }", "old_code_tokens": ["public", "vertex", "edges", "<", "i", ",", "e", ">", "unwrap", "(", ")", "{", "if", "(", "current", "edge", "!", "=", "null", ")", "{", "new", "edges", ".", "add", "(", "current", "edge", ")", ";", "current", "edge", "=", "null", ";", "}", "while", "(", "old", "edges", "iterator", ".", "has", "next", "(", ")", ")", "{", "new", "edges", ".", "add", "(", "old", "edges", "iterator", ".", "next", "(", ")", ")", ";", "}", "return", "new", "edges", ";", "}"], "new_code": "public out edges < i , e > unwrap ( ) { if ( current edge ! = null ) { new edges . add ( current edge ) ; current edge = null ; } while ( old edges iterator . has next ( ) ) { new edges . add ( old edges iterator . next ( ) ) ; } return new edges ; }", "new_code_tokens": ["public", "out", "edges", "<", "i", ",", "e", ">", "unwrap", "(", ")", "{", "if", "(", "current", "edge", "!", "=", "null", ")", "{", "new", "edges", ".", "add", "(", "current", "edge", ")", ";", "current", "edge", "=", "null", ";", "}", "while", "(", "old", "edges", "iterator", ".", "has", "next", "(", ")", ")", "{", "new", "edges", ".", "add", "(", "old", "edges", "iterator", ".", "next", "(", ")", ")", ";", "}", "return", "new", "edges", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> vertex <REPLACE_NEW> out <REPLACE_END> <KEEP> edges < i , e > unwrap ( ) { if ( current edge ! = null ) { new edges . add ( current edge ) ; current edge = null ; } while ( old edges iterator . has next ( ) ) { new edges . add ( old edges iterator . next ( ) ) ; } return new edges ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "vertex", "<REPLACE_NEW>", "out", "<REPLACE_END>", "<KEEP>", "edges", "<", "i", ",", "e", ">", "unwrap", "(", ")", "{", "if", "(", "current", "edge", "!", "=", "null", ")", "{", "new", "edges", ".", "add", "(", "current", "edge", ")", ";", "current", "edge", "=", "null", ";", "}", "while", "(", "old", "edges", "iterator", ".", "has", "next", "(", ")", ")", "{", "new", "edges", ".", "add", "(", "old", "edges", "iterator", ".", "next", "(", ")", ")", ";", "}", "return", "new", "edges", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vertex <REPLACE_NEW> out <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vertex", "<REPLACE_NEW>", "out", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "vertex", "<REPLACE_NEW>", "out", "<KEEP>", "edges", "<KEEP>", "<", "<KEEP>", "i", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ">", "<KEEP>", "unwrap", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "edge", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "edges", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "edge", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "current", "<KEEP>", "edge", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "edges", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "edges", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "edges", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "edges", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "johan_closure-compiler-12-5698", "old_comment": "for an assignment or variable declaration return the assigned value , otherwise null .", "old_comment_tokens": ["for", "an", "assignment", "or", "variable", "declaration", "return", "the", "assigned", "value", ",", "otherwise", "null", "."], "new_comment": "for an assignment , variable declaration , or function declaration return the assigned value , otherwise null .", "new_comment_tokens": ["for", "an", "assignment", ",", "variable", "declaration", ",", "or", "function", "declaration", "return", "the", "assigned", "value", ",", "otherwise", "null", "."], "old_code": "node get assigned value ( ) { return node util . get assigned value ( get name node ( ) ) ; }", "old_code_tokens": ["node", "get", "assigned", "value", "(", ")", "{", "return", "node", "util", ".", "get", "assigned", "value", "(", "get", "name", "node", "(", ")", ")", ";", "}"], "new_code": "node get assigned value ( ) { return ( parent . get type ( ) = = token . function ) ? parent : node util . get assigned value ( get name node ( ) ) ; }", "new_code_tokens": ["node", "get", "assigned", "value", "(", ")", "{", "return", "(", "parent", ".", "get", "type", "(", ")", "=", "=", "token", ".", "function", ")", "?", "parent", ":", "node", "util", ".", "get", "assigned", "value", "(", "get", "name", "node", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> node get assigned value ( ) { return <KEEP_END> <INSERT> ( parent . get type ( ) = = token . function ) ? parent : <INSERT_END> <KEEP> node util . get assigned value ( get name node ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "node", "get", "assigned", "value", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "(", "parent", ".", "get", "type", "(", ")", "=", "=", "token", ".", "function", ")", "?", "parent", ":", "<INSERT_END>", "<KEEP>", "node", "util", ".", "get", "assigned", "value", "(", "get", "name", "node", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> assignment <INSERT_NEW_KEEP_BEFORE> assignment , variable declaration , <INSERT_END> <REPLACE_OLD> variable <REPLACE_NEW> function <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "assignment", "<INSERT_NEW_KEEP_BEFORE>", "assignment", ",", "variable", "declaration", ",", "<INSERT_END>", "<REPLACE_OLD>", "variable", "<REPLACE_NEW>", "function", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "node", "<KEEP>", "get", "<KEEP>", "assigned", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "(", "<INSERT>", "parent", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "token", "<INSERT>", ".", "<INSERT>", "function", "<INSERT>", ")", "<INSERT>", "?", "<INSERT>", "parent", "<INSERT>", ":", "<KEEP>", "node", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "assigned", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nelsonsilva_vaadin-245-4295", "old_comment": "the maximum length of the string .", "old_comment_tokens": ["the", "maximum", "length", "of", "the", "string", "."], "new_comment": "the maximum length of the string or null if there is no limit", "new_comment_tokens": ["the", "maximum", "length", "of", "the", "string", "or", "null", "if", "there", "is", "no", "limit"], "old_code": "public final int get max length ( ) { return max length ; }", "old_code_tokens": ["public", "final", "int", "get", "max", "length", "(", ")", "{", "return", "max", "length", ";", "}"], "new_code": "public integer get max length ( ) { return max length ; }", "new_code_tokens": ["public", "integer", "get", "max", "length", "(", ")", "{", "return", "max", "length", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> final int <REPLACE_NEW> integer <REPLACE_END> <KEEP> get max length ( ) { return max length ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "final", "int", "<REPLACE_NEW>", "integer", "<REPLACE_END>", "<KEEP>", "get", "max", "length", "(", ")", "{", "return", "max", "length", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> . <REPLACE_NEW> or null if there is no limit <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ".", "<REPLACE_NEW>", "or", "null", "if", "there", "is", "no", "limit", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "integer", "<KEEP>", "get", "<KEEP>", "max", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "max", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-78-6952", "old_comment": "the full xml rpc file manager client built from the cas curator property filemgr . url .", "old_comment_tokens": ["the", "full", "xml", "rpc", "file", "manager", "client", "built", "from", "the", "cas", "curator", "property", "filemgr", ".", "url", "."], "new_comment": "the full file manager client built from the cas curator property filemgr . url .", "new_comment_tokens": ["the", "full", "file", "manager", "client", "built", "from", "the", "cas", "curator", "property", "filemgr", ".", "url", "."], "old_code": "public xml rpc file manager client get file manager client ( ) { try { return new xml rpc file manager client ( new url ( this . get file mgr url ( ) ) ) ; } catch ( exception e ) { log . log ( level . severe , e . get message ( ) ) ; return null ; } }", "old_code_tokens": ["public", "xml", "rpc", "file", "manager", "client", "get", "file", "manager", "client", "(", ")", "{", "try", "{", "return", "new", "xml", "rpc", "file", "manager", "client", "(", "new", "url", "(", "this", ".", "get", "file", "mgr", "url", "(", ")", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "log", "(", "level", ".", "severe", ",", "e", ".", "get", "message", "(", ")", ")", ";", "return", "null", ";", "}", "}"], "new_code": "public file manager client get file manager client ( ) { try { return rpc communication factory . create client ( new url ( this . get file mgr url ( ) ) ) ; } catch ( exception e ) { log . log ( level . severe , e . get message ( ) ) ; return null ; } }", "new_code_tokens": ["public", "file", "manager", "client", "get", "file", "manager", "client", "(", ")", "{", "try", "{", "return", "rpc", "communication", "factory", ".", "create", "client", "(", "new", "url", "(", "this", ".", "get", "file", "mgr", "url", "(", ")", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "log", "(", "level", ".", "severe", ",", "e", ".", "get", "message", "(", ")", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> xml rpc <DELETE_END> <KEEP> file manager client get file manager client ( ) { try { return <KEEP_END> <DELETE> new xml <DELETE_END> <KEEP> rpc <KEEP_END> <REPLACE_OLD> file manager <REPLACE_NEW> communication factory . create <REPLACE_END> <KEEP> client ( new url ( this . get file mgr url ( ) ) ) ; } catch ( exception e ) { log . log ( level . severe , e . get message ( ) ) ; return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "xml", "rpc", "<DELETE_END>", "<KEEP>", "file", "manager", "client", "get", "file", "manager", "client", "(", ")", "{", "try", "{", "return", "<KEEP_END>", "<DELETE>", "new", "xml", "<DELETE_END>", "<KEEP>", "rpc", "<KEEP_END>", "<REPLACE_OLD>", "file", "manager", "<REPLACE_NEW>", "communication", "factory", ".", "create", "<REPLACE_END>", "<KEEP>", "client", "(", "new", "url", "(", "this", ".", "get", "file", "mgr", "url", "(", ")", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "log", "(", "level", ".", "severe", ",", "e", ".", "get", "message", "(", ")", ")", ";", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> xml rpc <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "xml", "rpc", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "xml", "<DELETE>", "rpc", "<KEEP>", "file", "<KEEP>", "manager", "<KEEP>", "client", "<KEEP>", "get", "<KEEP>", "file", "<KEEP>", "manager", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "new", "<DELETE>", "xml", "<KEEP>", "rpc", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "manager", "<REPLACE_NEW>", "communication", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "file", "<KEEP>", "mgr", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "severe", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_acceptance-test-harness-80-4493", "old_comment": "a map of the first two columns . ( first column = > second column )", "old_comment_tokens": ["a", "map", "of", "the", "first", "two", "columns", ".", "(", "first", "column", "=", ">", "second", "column", ")"], "new_comment": "a map of the specified two columns . ( first column = > selected column )", "new_comment_tokens": ["a", "map", "of", "the", "specified", "two", "columns", ".", "(", "first", "column", "=", ">", "selected", "column", ")"], "old_code": "public sorted map < string , string > get origin tab contents as strings ( ) { open tab ( tab . origin ) ; return map table cells key value ( string . class , get visible table rows ( true , true ) , num ) ; }", "old_code_tokens": ["public", "sorted", "map", "<", "string", ",", "string", ">", "get", "origin", "tab", "contents", "as", "strings", "(", ")", "{", "open", "tab", "(", "tab", ".", "origin", ")", ";", "return", "map", "table", "cells", "key", "value", "(", "string", ".", "class", ",", "get", "visible", "table", "rows", "(", "true", ",", "true", ")", ",", "num", ")", ";", "}"], "new_code": "public sorted map < string , string > get origin tab contents as strings ( final origin selected column ) { open tab ( tab . origin ) ; return map table cells key value ( string . class , get visible table rows ( true , false ) , selected column . column ) ; }", "new_code_tokens": ["public", "sorted", "map", "<", "string", ",", "string", ">", "get", "origin", "tab", "contents", "as", "strings", "(", "final", "origin", "selected", "column", ")", "{", "open", "tab", "(", "tab", ".", "origin", ")", ";", "return", "map", "table", "cells", "key", "value", "(", "string", ".", "class", ",", "get", "visible", "table", "rows", "(", "true", ",", "false", ")", ",", "selected", "column", ".", "column", ")", ";", "}"], "span_diff_code": "<KEEP> public sorted map < string , string > get origin tab contents as strings ( <KEEP_END> <INSERT> final origin selected column <INSERT_END> <KEEP> ) { open tab ( tab . origin ) ; return map table cells key value ( string . class , get visible table rows ( true , <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> false <REPLACE_END> <KEEP> ) , <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> selected column . column <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "sorted", "map", "<", "string", ",", "string", ">", "get", "origin", "tab", "contents", "as", "strings", "(", "<KEEP_END>", "<INSERT>", "final", "origin", "selected", "column", "<INSERT_END>", "<KEEP>", ")", "{", "open", "tab", "(", "tab", ".", "origin", ")", ";", "return", "map", "table", "cells", "key", "value", "(", "string", ".", "class", ",", "get", "visible", "table", "rows", "(", "true", ",", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "selected", "column", ".", "column", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the first <REPLACE_NEW_KEEP_BEFORE> the specified <REPLACE_END> <REPLACE_OLD> second <REPLACE_NEW> selected <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "first", "<REPLACE_NEW_KEEP_BEFORE>", "the", "specified", "<REPLACE_END>", "<REPLACE_OLD>", "second", "<REPLACE_NEW>", "selected", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "sorted", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "origin", "<KEEP>", "tab", "<KEEP>", "contents", "<KEEP>", "as", "<KEEP>", "strings", "<KEEP>", "(", "<INSERT>", "final", "<INSERT>", "origin", "<INSERT>", "selected", "<INSERT>", "column", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "open", "<KEEP>", "tab", "<KEEP>", "(", "<KEEP>", "tab", "<KEEP>", ".", "<KEEP>", "origin", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "map", "<KEEP>", "table", "<KEEP>", "cells", "<KEEP>", "key", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "visible", "<KEEP>", "table", "<KEEP>", "rows", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ",", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "false", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "selected", "<REPLACE_NEW>", "column", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "column", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "TommyLemon_APIJSON-14-923", "old_comment": "# format key ( string , boolean , boolean , boolean ) format at = true , format colon = false , format hyphen = false , first case = false", "old_comment_tokens": ["#", "format", "key", "(", "string", ",", "boolean", ",", "boolean", ",", "boolean", ")", "format", "at", "=", "true", ",", "format", "colon", "=", "false", ",", "format", "hyphen", "=", "false", ",", "first", "case", "=", "false"], "new_comment": "# format key ( string , boolean , boolean , boolean ) format colon = false , format at = true , format hyphen = false , first case = false", "new_comment_tokens": ["#", "format", "key", "(", "string", ",", "boolean", ",", "boolean", ",", "boolean", ")", "format", "colon", "=", "false", ",", "format", "at", "=", "true", ",", "format", "hyphen", "=", "false", ",", "first", "case", "=", "false"], "old_code": "public static string format other key ( string full name ) { return format key ( full name , true , false , false , false ) ; }", "old_code_tokens": ["public", "static", "string", "format", "other", "key", "(", "string", "full", "name", ")", "{", "return", "format", "key", "(", "full", "name", ",", "true", ",", "false", ",", "false", ",", "false", ")", ";", "}"], "new_code": "public static string format other key ( string full name ) { return format key ( full name , false , true , false , false ) ; }", "new_code_tokens": ["public", "static", "string", "format", "other", "key", "(", "string", "full", "name", ")", "{", "return", "format", "key", "(", "full", "name", ",", "false", ",", "true", ",", "false", ",", "false", ")", ";", "}"], "span_diff_code": "<KEEP> public static string format other key ( string full name ) { return format key ( full name , <KEEP_END> <INSERT> false , <INSERT_END> <KEEP> true <KEEP_END> <DELETE> , false <DELETE_END> <KEEP> , false , false ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "format", "other", "key", "(", "string", "full", "name", ")", "{", "return", "format", "key", "(", "full", "name", ",", "<KEEP_END>", "<INSERT>", "false", ",", "<INSERT_END>", "<KEEP>", "true", "<KEEP_END>", "<DELETE>", ",", "false", "<DELETE_END>", "<KEEP>", ",", "false", ",", "false", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> ) format <INSERT_NEW_KEEP_BEFORE> ) format colon = false , format <INSERT_END> <DELETE> , format colon = false <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", ")", "format", "<INSERT_NEW_KEEP_BEFORE>", ")", "format", "colon", "=", "false", ",", "format", "<INSERT_END>", "<DELETE>", ",", "format", "colon", "=", "false", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "format", "<KEEP>", "other", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "full", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "format", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "full", "<KEEP>", "name", "<KEEP>", ",", "<INSERT>", "false", "<INSERT>", ",", "<KEEP>", "true", "<DELETE>", ",", "<DELETE>", "false", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dehora_nakadi-java-3-6583", "old_comment": "the allowed read scopes", "old_comment_tokens": ["the", "allowed", "read", "scopes"], "new_comment": "an empty list", "new_comment_tokens": ["an", "empty", "list"], "old_code": "public list < string > read scopes ( ) { return read scopes ; }", "old_code_tokens": ["public", "list", "<", "string", ">", "read", "scopes", "(", ")", "{", "return", "read", "scopes", ";", "}"], "new_code": "@ deprecated public list < string > read scopes ( ) { return sentinel _ empty _ scopes ; }", "new_code_tokens": ["@", "deprecated", "public", "list", "<", "string", ">", "read", "scopes", "(", ")", "{", "return", "sentinel", "_", "empty", "_", "scopes", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public list < string > read scopes ( ) { return <KEEP_END> <REPLACE_OLD> read <REPLACE_NEW> sentinel _ empty _ <REPLACE_END> <KEEP> scopes ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "list", "<", "string", ">", "read", "scopes", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "read", "<REPLACE_NEW>", "sentinel", "_", "empty", "_", "<REPLACE_END>", "<KEEP>", "scopes", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the allowed read scopes <REPLACE_NEW> an empty list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "allowed", "read", "scopes", "<REPLACE_NEW>", "an", "empty", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "read", "<KEEP>", "scopes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "read", "<REPLACE_NEW>", "sentinel", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "empty", "<REPLACE_NEW>", "_", "<KEEP>", "scopes", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-67-5912", "old_comment": "default value as string representation", "old_comment_tokens": ["default", "value", "as", "string", "representation"], "new_comment": "default value", "new_comment_tokens": ["default", "value"], "old_code": "public fx string get default value ( ) { return default value ; }", "old_code_tokens": ["public", "fx", "string", "get", "default", "value", "(", ")", "{", "return", "default", "value", ";", "}"], "new_code": "public fx value get default value ( ) { if ( default value = = null ) default value = get empty value ( ) ; return default value ; }", "new_code_tokens": ["public", "fx", "value", "get", "default", "value", "(", ")", "{", "if", "(", "default", "value", "=", "=", "null", ")", "default", "value", "=", "get", "empty", "value", "(", ")", ";", "return", "default", "value", ";", "}"], "span_diff_code": "<KEEP> public fx <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> value <REPLACE_END> <KEEP> get default value ( ) { <KEEP_END> <INSERT> if ( default value = = null ) default value = get empty value ( ) ; <INSERT_END> <KEEP> return default value ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "fx", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "value", "<REPLACE_END>", "<KEEP>", "get", "default", "value", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "default", "value", "=", "=", "null", ")", "default", "value", "=", "get", "empty", "value", "(", ")", ";", "<INSERT_END>", "<KEEP>", "return", "default", "value", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> as string representation <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "as", "string", "representation", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "fx", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "value", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "default", "<INSERT>", "value", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "default", "<INSERT>", "value", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "empty", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "default", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "iSoron_uhabits-5-2473", "old_comment": "score for that day", "old_comment_tokens": ["score", "for", "that", "day"], "new_comment": "score value for that day", "new_comment_tokens": ["score", "value", "for", "that", "day"], "old_code": "public int get value ( long timestamp ) { compute all ( ) ; string [ ] args = { habit . get id ( ) . to string ( ) , long . to string ( timestamp ) } ; return sqlite utils . int query ( str , args ) ; }", "old_code_tokens": ["public", "int", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "all", "(", ")", ";", "string", "[", "]", "args", "=", "{", "habit", ".", "get", "id", "(", ")", ".", "to", "string", "(", ")", ",", "long", ".", "to", "string", "(", "timestamp", ")", "}", ";", "return", "sqlite", "utils", ".", "int", "query", "(", "str", ",", "args", ")", ";", "}"], "new_code": "public final double get value ( long timestamp ) { compute ( timestamp , timestamp ) ; score s = get computed by timestamp ( timestamp ) ; if ( s = = null ) throw new illegal state exception ( ) ; return s . get value ( ) ; }", "new_code_tokens": ["public", "final", "double", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "(", "timestamp", ",", "timestamp", ")", ";", "score", "s", "=", "get", "computed", "by", "timestamp", "(", "timestamp", ")", ";", "if", "(", "s", "=", "=", "null", ")", "throw", "new", "illegal", "state", "exception", "(", ")", ";", "return", "s", ".", "get", "value", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> final double <REPLACE_END> <KEEP> get value ( long timestamp ) { compute <KEEP_END> <REPLACE_OLD> all <REPLACE_NEW> ( timestamp , timestamp ) ; score s = get computed by timestamp ( timestamp ) ; if ( s = = null ) throw new illegal state exception <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <REPLACE_OLD> string [ ] args = { habit <REPLACE_NEW> return s <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> value <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ) . to string ( ) , long . to string ( timestamp ) } ; return sqlite utils . int query ( str , args <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "final", "double", "<REPLACE_END>", "<KEEP>", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "<KEEP_END>", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "(", "timestamp", ",", "timestamp", ")", ";", "score", "s", "=", "get", "computed", "by", "timestamp", "(", "timestamp", ")", ";", "if", "(", "s", "=", "=", "null", ")", "throw", "new", "illegal", "state", "exception", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "string", "[", "]", "args", "=", "{", "habit", "<REPLACE_NEW>", "return", "s", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "value", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", ".", "to", "string", "(", ")", ",", "long", ".", "to", "string", "(", "timestamp", ")", "}", ";", "return", "sqlite", "utils", ".", "int", "query", "(", "str", ",", "args", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> score <INSERT_NEW_KEEP_BEFORE> score value <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "score", "<INSERT_NEW_KEEP_BEFORE>", "score", "value", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "double", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "timestamp", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "compute", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "score", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "computed", "<REPLACE_NEW>", "by", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "illegal", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "args", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "habit", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "s", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "value", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "long", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "timestamp", "<DELETE>", ")", "<DELETE>", "}", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "sqlite", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "int", "<DELETE>", "query", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "args", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "android_platform_packages_apps_settings-75-5484", "old_comment": "a string object for title items and a device admin info object for actual device admins .", "old_comment_tokens": ["a", "string", "object", "for", "title", "items", "and", "a", "device", "admin", "info", "object", "for", "actual", "device", "admins", "."], "new_comment": "device admin info object for actual device admins .", "new_comment_tokens": ["device", "admin", "info", "object", "for", "actual", "device", "admins", "."], "old_code": "@ override public object get item ( int position ) { if ( position < num ) { throw new array index out of bounds exception ( ) ; } int admin position = position ; final int n = m admins by profile . size ( ) ; int i = num ; for ( ; i < n ; + + i ) { final int list size = m admins by profile . value at ( i ) . size ( ) + num ; if ( admin position < list size ) { break ; } admin position - = list size ; } if ( i = = n ) { throw new array index out of bounds exception ( ) ; } if ( admin position = = num ) { resources res = get activity ( ) . get resources ( ) ; if ( m admins by profile . key at ( i ) = = user handle . my user id ( ) ) { return res . get string ( r . string . personal _ device _ admin _ title ) ; } else { return res . get string ( r . string . managed _ device _ admin _ title ) ; } } else { return m admins by profile . value at ( i ) . get ( admin position - num ) ; } }", "old_code_tokens": ["@", "override", "public", "object", "get", "item", "(", "int", "position", ")", "{", "if", "(", "position", "<", "num", ")", "{", "throw", "new", "array", "index", "out", "of", "bounds", "exception", "(", ")", ";", "}", "int", "admin", "position", "=", "position", ";", "final", "int", "n", "=", "m", "admins", "by", "profile", ".", "size", "(", ")", ";", "int", "i", "=", "num", ";", "for", "(", ";", "i", "<", "n", ";", "+", "+", "i", ")", "{", "final", "int", "list", "size", "=", "m", "admins", "by", "profile", ".", "value", "at", "(", "i", ")", ".", "size", "(", ")", "+", "num", ";", "if", "(", "admin", "position", "<", "list", "size", ")", "{", "break", ";", "}", "admin", "position", "-", "=", "list", "size", ";", "}", "if", "(", "i", "=", "=", "n", ")", "{", "throw", "new", "array", "index", "out", "of", "bounds", "exception", "(", ")", ";", "}", "if", "(", "admin", "position", "=", "=", "num", ")", "{", "resources", "res", "=", "get", "activity", "(", ")", ".", "get", "resources", "(", ")", ";", "if", "(", "m", "admins", "by", "profile", ".", "key", "at", "(", "i", ")", "=", "=", "user", "handle", ".", "my", "user", "id", "(", ")", ")", "{", "return", "res", ".", "get", "string", "(", "r", ".", "string", ".", "personal", "_", "device", "_", "admin", "_", "title", ")", ";", "}", "else", "{", "return", "res", ".", "get", "string", "(", "r", ".", "string", ".", "managed", "_", "device", "_", "admin", "_", "title", ")", ";", "}", "}", "else", "{", "return", "m", "admins", "by", "profile", ".", "value", "at", "(", "i", ")", ".", "get", "(", "admin", "position", "-", "num", ")", ";", "}", "}"], "new_code": "@ override public object get item ( int position ) { return ( ( device admin list item ) ( m admins . get ( position ) ) ) . info ; }", "new_code_tokens": ["@", "override", "public", "object", "get", "item", "(", "int", "position", ")", "{", "return", "(", "(", "device", "admin", "list", "item", ")", "(", "m", "admins", ".", "get", "(", "position", ")", ")", ")", ".", "info", ";", "}"], "span_diff_code": "<KEEP> @ override public object get item ( int position ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> position < num <REPLACE_NEW> ( device admin list item <REPLACE_END> <KEEP> ) <KEEP_END> <DELETE> { throw new array index out of bounds exception ( ) ; } int admin position = position ; final int n = m admins by profile . size ( ) ; int i = num ; for ( ; i < n ; + + i ) { final int list size = m admins by profile . value at ( i ) . size ( ) + num ; if ( admin position < list size ) { break ; } admin position - = list size ; } if ( i = = n ) { throw new array index out of bounds exception ( ) ; } if ( admin position = = num ) { resources res = get activity ( ) . get resources ( ) ; if <DELETE_END> <KEEP> ( m admins <KEEP_END> <DELETE> by profile . key at ( i ) = = user handle . my user id ( ) ) { return res . get string ( r . string . personal _ device _ admin _ title ) ; } else { return res . get string ( r . string . managed _ device _ admin _ title ) ; } } else { return m admins by profile . value at ( i ) <DELETE_END> <KEEP> . get ( <KEEP_END> <DELETE> admin <DELETE_END> <KEEP> position <KEEP_END> <DELETE> - num <DELETE_END> <KEEP> ) <KEEP_END> <INSERT> ) ) . info <INSERT_END> <KEEP> ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "object", "get", "item", "(", "int", "position", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "position", "<", "num", "<REPLACE_NEW>", "(", "device", "admin", "list", "item", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "{", "throw", "new", "array", "index", "out", "of", "bounds", "exception", "(", ")", ";", "}", "int", "admin", "position", "=", "position", ";", "final", "int", "n", "=", "m", "admins", "by", "profile", ".", "size", "(", ")", ";", "int", "i", "=", "num", ";", "for", "(", ";", "i", "<", "n", ";", "+", "+", "i", ")", "{", "final", "int", "list", "size", "=", "m", "admins", "by", "profile", ".", "value", "at", "(", "i", ")", ".", "size", "(", ")", "+", "num", ";", "if", "(", "admin", "position", "<", "list", "size", ")", "{", "break", ";", "}", "admin", "position", "-", "=", "list", "size", ";", "}", "if", "(", "i", "=", "=", "n", ")", "{", "throw", "new", "array", "index", "out", "of", "bounds", "exception", "(", ")", ";", "}", "if", "(", "admin", "position", "=", "=", "num", ")", "{", "resources", "res", "=", "get", "activity", "(", ")", ".", "get", "resources", "(", ")", ";", "if", "<DELETE_END>", "<KEEP>", "(", "m", "admins", "<KEEP_END>", "<DELETE>", "by", "profile", ".", "key", "at", "(", "i", ")", "=", "=", "user", "handle", ".", "my", "user", "id", "(", ")", ")", "{", "return", "res", ".", "get", "string", "(", "r", ".", "string", ".", "personal", "_", "device", "_", "admin", "_", "title", ")", ";", "}", "else", "{", "return", "res", ".", "get", "string", "(", "r", ".", "string", ".", "managed", "_", "device", "_", "admin", "_", "title", ")", ";", "}", "}", "else", "{", "return", "m", "admins", "by", "profile", ".", "value", "at", "(", "i", ")", "<DELETE_END>", "<KEEP>", ".", "get", "(", "<KEEP_END>", "<DELETE>", "admin", "<DELETE_END>", "<KEEP>", "position", "<KEEP_END>", "<DELETE>", "-", "num", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", ")", ")", ".", "info", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> a string object for title items and a <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "a", "string", "object", "for", "title", "items", "and", "a", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "position", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "device", "<REPLACE_NEW>", "admin", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "item", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "array", "<DELETE>", "index", "<DELETE>", "out", "<DELETE>", "of", "<DELETE>", "bounds", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "int", "<DELETE>", "admin", "<DELETE>", "position", "<DELETE>", "=", "<DELETE>", "position", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "n", "<DELETE>", "=", "<DELETE>", "m", "<DELETE>", "admins", "<DELETE>", "by", "<DELETE>", "profile", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "int", "<DELETE>", "i", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", ";", "<DELETE>", "i", "<DELETE>", "<", "<DELETE>", "n", "<DELETE>", ";", "<DELETE>", "+", "<DELETE>", "+", "<DELETE>", "i", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "list", "<DELETE>", "size", "<DELETE>", "=", "<DELETE>", "m", "<DELETE>", "admins", "<DELETE>", "by", "<DELETE>", "profile", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", "at", "<DELETE>", "(", "<DELETE>", "i", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "admin", "<DELETE>", "position", "<DELETE>", "<", "<DELETE>", "list", "<DELETE>", "size", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "admin", "<DELETE>", "position", "<DELETE>", "-", "<DELETE>", "=", "<DELETE>", "list", "<DELETE>", "size", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "i", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "n", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "array", "<DELETE>", "index", "<DELETE>", "out", "<DELETE>", "of", "<DELETE>", "bounds", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "admin", "<DELETE>", "position", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "resources", "<DELETE>", "res", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "activity", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "resources", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "admins", "<DELETE>", "by", "<DELETE>", "profile", "<DELETE>", ".", "<DELETE>", "key", "<DELETE>", "at", "<DELETE>", "(", "<DELETE>", "i", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "user", "<DELETE>", "handle", "<DELETE>", ".", "<DELETE>", "my", "<DELETE>", "user", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "res", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "r", "<DELETE>", ".", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "personal", "<DELETE>", "_", "<DELETE>", "device", "<DELETE>", "_", "<DELETE>", "admin", "<DELETE>", "_", "<DELETE>", "title", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "res", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "r", "<DELETE>", ".", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "managed", "<DELETE>", "_", "<DELETE>", "device", "<DELETE>", "_", "<DELETE>", "admin", "<DELETE>", "_", "<DELETE>", "title", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "m", "<DELETE>", "admins", "<DELETE>", "by", "<DELETE>", "profile", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", "at", "<DELETE>", "(", "<DELETE>", "i", "<DELETE>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<DELETE>", "admin", "<KEEP>", "position", "<DELETE>", "-", "<DELETE>", "num", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "info", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "Omegaphora_cts-2-4587", "old_comment": "if reached , return true ; else , return false .", "old_comment_tokens": ["if", "reached", ",", "return", "true", ";", "else", ",", "return", "false", "."], "new_comment": "true , if the max count is enabled and exceeded .", "new_comment_tokens": ["true", ",", "if", "the", "max", "count", "is", "enabled", "and", "exceeded", "."], "old_code": "public static boolean exceeds max count ( ) { return m test count > = max _ test _ count ; }", "old_code_tokens": ["public", "static", "boolean", "exceeds", "max", "count", "(", ")", "{", "return", "m", "test", "count", ">", "=", "max", "_", "test", "_", "count", ";", "}"], "new_code": "public static boolean exceeds max count ( ) { final long max test count = host config . get max test count ( ) ; return ( max test count > num ) & & ( m test count > = max test count ) ; }", "new_code_tokens": ["public", "static", "boolean", "exceeds", "max", "count", "(", ")", "{", "final", "long", "max", "test", "count", "=", "host", "config", ".", "get", "max", "test", "count", "(", ")", ";", "return", "(", "max", "test", "count", ">", "num", ")", "&", "&", "(", "m", "test", "count", ">", "=", "max", "test", "count", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean exceeds max count ( ) { <KEEP_END> <INSERT> final long max test count = host config . get max test count ( ) ; <INSERT_END> <KEEP> return <KEEP_END> <INSERT> ( max test count > num ) & & ( <INSERT_END> <KEEP> m test count > = max <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> test <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> count <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "exceeds", "max", "count", "(", ")", "{", "<KEEP_END>", "<INSERT>", "final", "long", "max", "test", "count", "=", "host", "config", ".", "get", "max", "test", "count", "(", ")", ";", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<INSERT>", "(", "max", "test", "count", ">", "num", ")", "&", "&", "(", "<INSERT_END>", "<KEEP>", "m", "test", "count", ">", "=", "max", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "test", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "count", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> if <INSERT_NEW_KEEP_AFTER> true , if <INSERT_END> <REPLACE_OLD> reached , return true ; else , return false <REPLACE_NEW> the max count is enabled and exceeded <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "if", "<INSERT_NEW_KEEP_AFTER>", "true", ",", "if", "<INSERT_END>", "<REPLACE_OLD>", "reached", ",", "return", "true", ";", "else", ",", "return", "false", "<REPLACE_NEW>", "the", "max", "count", "is", "enabled", "and", "exceeded", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "exceeds", "<KEEP>", "max", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "final", "<INSERT>", "long", "<INSERT>", "max", "<INSERT>", "test", "<INSERT>", "count", "<INSERT>", "=", "<INSERT>", "host", "<INSERT>", "config", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "max", "<INSERT>", "test", "<INSERT>", "count", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<INSERT>", "(", "<INSERT>", "max", "<INSERT>", "test", "<INSERT>", "count", "<INSERT>", ">", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "(", "<KEEP>", "m", "<KEEP>", "test", "<KEEP>", "count", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "max", "<DELETE>", "_", "<KEEP>", "test", "<DELETE>", "_", "<KEEP>", "count", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "heuermh_ensembl-rest-client-8-5259", "old_comment": "a new sequence service with the default server url", "old_comment_tokens": ["a", "new", "sequence", "service", "with", "the", "default", "server", "url"], "new_comment": "a new sequence service with the default endpoint url", "new_comment_tokens": ["a", "new", "sequence", "service", "with", "the", "default", "endpoint", "url"], "old_code": "public sequence service create sequence service ( ) { return create sequence service ( default server url ) ; }", "old_code_tokens": ["public", "sequence", "service", "create", "sequence", "service", "(", ")", "{", "return", "create", "sequence", "service", "(", "default", "server", "url", ")", ";", "}"], "new_code": "public sequence service create sequence service ( ) { return create sequence service ( default endpoint url ) ; }", "new_code_tokens": ["public", "sequence", "service", "create", "sequence", "service", "(", ")", "{", "return", "create", "sequence", "service", "(", "default", "endpoint", "url", ")", ";", "}"], "span_diff_code": "<KEEP> public sequence service create sequence service ( ) { return create sequence service ( default <KEEP_END> <REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END> <KEEP> url ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "sequence", "service", "create", "sequence", "service", "(", ")", "{", "return", "create", "sequence", "service", "(", "default", "<KEEP_END>", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>", "<KEEP>", "url", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "sequence", "<KEEP>", "service", "<KEEP>", "create", "<KEEP>", "sequence", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "sequence", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "default", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-45-5335", "old_comment": "value between 1 and 16 , 777 , 215", "old_comment_tokens": ["value", "between", "1", "and", "16", ",", "777", ",", "215"], "new_comment": "position relative to home .", "new_comment_tokens": ["position", "relative", "to", "home", "."], "old_code": "public int get position ( ) { return this . current position ; }", "old_code_tokens": ["public", "int", "get", "position", "(", ")", "{", "return", "this", ".", "current", "position", ";", "}"], "new_code": "public int get position ( ) { return current position ; }", "new_code_tokens": ["public", "int", "get", "position", "(", ")", "{", "return", "current", "position", ";", "}"], "span_diff_code": "<KEEP> public int get position ( ) { return <KEEP_END> <DELETE> this . <DELETE_END> <KEEP> current position ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "position", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "this", ".", "<DELETE_END>", "<KEEP>", "current", "position", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> value between 1 and 16 , 777 , 215 <REPLACE_NEW> position relative to home . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "value", "between", "1", "and", "16", ",", "777", ",", "215", "<REPLACE_NEW>", "position", "relative", "to", "home", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "this", "<DELETE>", ".", "<KEEP>", "current", "<KEEP>", "position", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_derby-71-6335", "old_comment": "true if changes are visible for the result set type", "old_comment_tokens": ["true", "if", "changes", "are", "visible", "for", "the", "result", "set", "type"], "new_comment": "true if updates are visible for the result set type", "new_comment_tokens": ["true", "if", "updates", "are", "visible", "for", "the", "result", "set", "type"], "old_code": "public boolean own updates are visible ( int type ) { return false ; }", "old_code_tokens": ["public", "boolean", "own", "updates", "are", "visible", "(", "int", "type", ")", "{", "return", "false", ";", "}"], "new_code": "public boolean own updates are visible ( int type ) { if ( type = = jdbc20 translation . type _ scroll _ insensitive ) { return true ; } else { return false ; } }", "new_code_tokens": ["public", "boolean", "own", "updates", "are", "visible", "(", "int", "type", ")", "{", "if", "(", "type", "=", "=", "jdbc20", "translation", ".", "type", "_", "scroll", "_", "insensitive", ")", "{", "return", "true", ";", "}", "else", "{", "return", "false", ";", "}", "}"], "span_diff_code": "<KEEP> public boolean own updates are visible ( int type ) { <KEEP_END> <INSERT> if ( type = = jdbc20 translation . type _ scroll _ insensitive ) { return true ; } else { <INSERT_END> <KEEP> return false ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "own", "updates", "are", "visible", "(", "int", "type", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "type", "=", "=", "jdbc20", "translation", ".", "type", "_", "scroll", "_", "insensitive", ")", "{", "return", "true", ";", "}", "else", "{", "<INSERT_END>", "<KEEP>", "return", "false", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> changes <REPLACE_NEW> updates <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "changes", "<REPLACE_NEW>", "updates", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "own", "<KEEP>", "updates", "<KEEP>", "are", "<KEEP>", "visible", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "jdbc20", "<INSERT>", "translation", "<INSERT>", ".", "<INSERT>", "type", "<INSERT>", "_", "<INSERT>", "scroll", "<INSERT>", "_", "<INSERT>", "insensitive", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "stanfordnlp_CoreNLP-187-3305", "old_comment": "string buffer filled with the plain text form of all sentences in the matches panel", "old_comment_tokens": ["string", "buffer", "filled", "with", "the", "plain", "text", "form", "of", "all", "sentences", "in", "the", "matches", "panel"], "new_comment": "string filled with the plain text form of all sentences in the matches panel", "new_comment_tokens": ["string", "filled", "with", "the", "plain", "text", "form", "of", "all", "sentences", "in", "the", "matches", "panel"], "old_code": "public string buffer get matched sentences ( ) { string buffer sb = new string buffer ( ) ; for ( int i = num ; i < list . get model ( ) . get size ( ) ; i + + ) { string t = ( ( tree from file ) list . get model ( ) . get element at ( i ) ) . get label ( ) . get text ( ) ; sb . append ( t ) ; sb . append ( str ) ; } return sb ; }", "old_code_tokens": ["public", "string", "buffer", "get", "matched", "sentences", "(", ")", "{", "string", "buffer", "sb", "=", "new", "string", "buffer", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "list", ".", "get", "model", "(", ")", ".", "get", "size", "(", ")", ";", "i", "+", "+", ")", "{", "string", "t", "=", "(", "(", "tree", "from", "file", ")", "list", ".", "get", "model", "(", ")", ".", "get", "element", "at", "(", "i", ")", ")", ".", "get", "label", "(", ")", ".", "get", "text", "(", ")", ";", "sb", ".", "append", "(", "t", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", ";", "}"], "new_code": "public string get matched sentences ( ) { string builder sb = new string builder ( ) ; for ( int i = num , sz = list . get model ( ) . get size ( ) ; i < sz ; i + + ) { string t = list . get model ( ) . get element at ( i ) . get label ( ) . get text ( ) ; sb . append ( t ) ; sb . append ( str ) ; } return sb . to string ( ) ; }", "new_code_tokens": ["public", "string", "get", "matched", "sentences", "(", ")", "{", "string", "builder", "sb", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "int", "i", "=", "num", ",", "sz", "=", "list", ".", "get", "model", "(", ")", ".", "get", "size", "(", ")", ";", "i", "<", "sz", ";", "i", "+", "+", ")", "{", "string", "t", "=", "list", ".", "get", "model", "(", ")", ".", "get", "element", "at", "(", "i", ")", ".", "get", "label", "(", ")", ".", "get", "text", "(", ")", ";", "sb", ".", "append", "(", "t", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string <KEEP_END> <DELETE> buffer <DELETE_END> <KEEP> get matched sentences ( ) { string <KEEP_END> <REPLACE_OLD> buffer <REPLACE_NEW> builder <REPLACE_END> <KEEP> sb = new string <KEEP_END> <REPLACE_OLD> buffer <REPLACE_NEW> builder <REPLACE_END> <KEEP> ( ) ; for ( int i = num <KEEP_END> <REPLACE_OLD> ; i < <REPLACE_NEW> , sz = <REPLACE_END> <KEEP> list . get model ( ) . get size ( ) ; i <KEEP_END> <INSERT> < sz ; i <INSERT_END> <KEEP> + + ) { string t = <KEEP_END> <DELETE> ( ( tree from file ) <DELETE_END> <KEEP> list . get model ( ) . get element at ( i <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ) . get label ( ) . get text ( ) ; sb . append ( t ) ; sb . append ( str ) ; } return sb <KEEP_END> <INSERT> . to string ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "<KEEP_END>", "<DELETE>", "buffer", "<DELETE_END>", "<KEEP>", "get", "matched", "sentences", "(", ")", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "sb", "=", "new", "string", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "int", "i", "=", "num", "<KEEP_END>", "<REPLACE_OLD>", ";", "i", "<", "<REPLACE_NEW>", ",", "sz", "=", "<REPLACE_END>", "<KEEP>", "list", ".", "get", "model", "(", ")", ".", "get", "size", "(", ")", ";", "i", "<KEEP_END>", "<INSERT>", "<", "sz", ";", "i", "<INSERT_END>", "<KEEP>", "+", "+", ")", "{", "string", "t", "=", "<KEEP_END>", "<DELETE>", "(", "(", "tree", "from", "file", ")", "<DELETE_END>", "<KEEP>", "list", ".", "get", "model", "(", ")", ".", "get", "element", "at", "(", "i", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ")", ".", "get", "label", "(", ")", ".", "get", "text", "(", ")", ";", "sb", ".", "append", "(", "t", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", "<KEEP_END>", "<INSERT>", ".", "to", "string", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> buffer <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "buffer", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<DELETE>", "buffer", "<KEEP>", "get", "<KEEP>", "matched", "<KEEP>", "sentences", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<KEEP>", "sb", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sz", "<REPLACE_NEW>", "=", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<INSERT>", "<", "<INSERT>", "sz", "<INSERT>", ";", "<INSERT>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "t", "<KEEP>", "=", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "tree", "<DELETE>", "from", "<DELETE>", "file", "<DELETE>", ")", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "element", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "i", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "label", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sb", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sb", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "sb", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "caillette_novelang-3-4497", "old_comment": "a non - null object iterating over no nulls .", "old_comment_tokens": ["a", "non", "-", "null", "object", "iterating", "over", "no", "nulls", "."], "new_comment": "a non - null object iterating over no nulls , containing at least one element .", "new_comment_tokens": ["a", "non", "-", "null", "object", "iterating", "over", "no", "nulls", ",", "containing", "at", "least", "one", "element", "."], "old_code": "public iterable < document request > get document requests ( ) { throw new unsupported operation exception ( str ) ; }", "old_code_tokens": ["public", "iterable", "<", "document", "request", ">", "get", "document", "requests", "(", ")", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", ")", ";", "}"], "new_code": "public iterable < document request > get document requests ( ) { return document requests ; }", "new_code_tokens": ["public", "iterable", "<", "document", "request", ">", "get", "document", "requests", "(", ")", "{", "return", "document", "requests", ";", "}"], "span_diff_code": "<KEEP> public iterable < document request > get document requests ( ) { <KEEP_END> <REPLACE_OLD> throw new unsupported operation exception ( str ) <REPLACE_NEW> return document requests <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iterable", "<", "document", "request", ">", "get", "document", "requests", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "throw", "new", "unsupported", "operation", "exception", "(", "str", ")", "<REPLACE_NEW>", "return", "document", "requests", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> nulls <INSERT_NEW_KEEP_BEFORE> nulls , containing at least one element <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "nulls", "<INSERT_NEW_KEEP_BEFORE>", "nulls", ",", "containing", "at", "least", "one", "element", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iterable", "<KEEP>", "<", "<KEEP>", "document", "<KEEP>", "request", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "document", "<KEEP>", "requests", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "unsupported", "<REPLACE_OLD>", "operation", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "document", "<REPLACE_NEW>", "requests", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "elventear_quartz-scheduler-18-6483", "old_comment": "the last time the trigger will fire .", "old_comment_tokens": ["the", "last", "time", "the", "trigger", "will", "fire", "."], "new_comment": "the last time the trigger will fire , or null if there is no last time .", "new_comment_tokens": ["the", "last", "time", "the", "trigger", "will", "fire", ",", "or", "null", "if", "there", "is", "no", "last", "time", "."], "old_code": "public date get final fire time ( ) { date final time = null ; java . util . calendar curr cal = java . util . calendar . get instance ( ) ; curr cal . set time ( this . end time ) ; while ( ( final time = = null ) & & ( this . start time . before ( curr cal . get time ( ) ) ) ) { curr cal . add ( java . util . calendar . date , - num ) ; final time = get fire time after ( curr cal . get time ( ) ) ; } return final time ; }", "old_code_tokens": ["public", "date", "get", "final", "fire", "time", "(", ")", "{", "date", "final", "time", "=", "null", ";", "java", ".", "util", ".", "calendar", "curr", "cal", "=", "java", ".", "util", ".", "calendar", ".", "get", "instance", "(", ")", ";", "curr", "cal", ".", "set", "time", "(", "this", ".", "end", "time", ")", ";", "while", "(", "(", "final", "time", "=", "=", "null", ")", "&", "&", "(", "this", ".", "start", "time", ".", "before", "(", "curr", "cal", ".", "get", "time", "(", ")", ")", ")", ")", "{", "curr", "cal", ".", "add", "(", "java", ".", "util", ".", "calendar", ".", "date", ",", "-", "num", ")", ";", "final", "time", "=", "get", "fire", "time", "after", "(", "curr", "cal", ".", "get", "time", "(", ")", ")", ";", "}", "return", "final", "time", ";", "}"], "new_code": "public date get final fire time ( ) { if ( end time = = null ) return null ; date final time = null ; java . util . calendar curr cal = java . util . calendar . get instance ( ) ; curr cal . set time ( this . end time ) ; while ( ( final time = = null ) & & ( this . start time . before ( curr cal . get time ( ) ) ) ) { curr cal . add ( java . util . calendar . date , - num ) ; final time = get fire time after ( curr cal . get time ( ) ) ; } return final time ; }", "new_code_tokens": ["public", "date", "get", "final", "fire", "time", "(", ")", "{", "if", "(", "end", "time", "=", "=", "null", ")", "return", "null", ";", "date", "final", "time", "=", "null", ";", "java", ".", "util", ".", "calendar", "curr", "cal", "=", "java", ".", "util", ".", "calendar", ".", "get", "instance", "(", ")", ";", "curr", "cal", ".", "set", "time", "(", "this", ".", "end", "time", ")", ";", "while", "(", "(", "final", "time", "=", "=", "null", ")", "&", "&", "(", "this", ".", "start", "time", ".", "before", "(", "curr", "cal", ".", "get", "time", "(", ")", ")", ")", ")", "{", "curr", "cal", ".", "add", "(", "java", ".", "util", ".", "calendar", ".", "date", ",", "-", "num", ")", ";", "final", "time", "=", "get", "fire", "time", "after", "(", "curr", "cal", ".", "get", "time", "(", ")", ")", ";", "}", "return", "final", "time", ";", "}"], "span_diff_code": "<KEEP> public date get final fire time ( ) { <KEEP_END> <INSERT> if ( end time = = null ) return null ; <INSERT_END> <KEEP> date final time = null ; java . util . calendar curr cal = java . util . calendar . get instance ( ) ; curr cal . set time ( this . end time ) ; while ( ( final time = = null ) & & ( this . start time . before ( curr cal . get time ( ) ) ) ) { curr cal . add ( java . util . calendar . date , - num ) ; final time = get fire time after ( curr cal . get time ( ) ) ; } return final time ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "date", "get", "final", "fire", "time", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "end", "time", "=", "=", "null", ")", "return", "null", ";", "<INSERT_END>", "<KEEP>", "date", "final", "time", "=", "null", ";", "java", ".", "util", ".", "calendar", "curr", "cal", "=", "java", ".", "util", ".", "calendar", ".", "get", "instance", "(", ")", ";", "curr", "cal", ".", "set", "time", "(", "this", ".", "end", "time", ")", ";", "while", "(", "(", "final", "time", "=", "=", "null", ")", "&", "&", "(", "this", ".", "start", "time", ".", "before", "(", "curr", "cal", ".", "get", "time", "(", ")", ")", ")", ")", "{", "curr", "cal", ".", "add", "(", "java", ".", "util", ".", "calendar", ".", "date", ",", "-", "num", ")", ";", "final", "time", "=", "get", "fire", "time", "after", "(", "curr", "cal", ".", "get", "time", "(", ")", ")", ";", "}", "return", "final", "time", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> fire <INSERT_NEW_KEEP_BEFORE> fire , or null if there is no last time <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "fire", "<INSERT_NEW_KEEP_BEFORE>", "fire", ",", "or", "null", "if", "there", "is", "no", "last", "time", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "date", "<KEEP>", "get", "<KEEP>", "final", "<KEEP>", "fire", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "end", "<INSERT>", "time", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "date", "<KEEP>", "final", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "java", "<KEEP>", ".", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "calendar", "<KEEP>", "curr", "<KEEP>", "cal", "<KEEP>", "=", "<KEEP>", "java", "<KEEP>", ".", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "calendar", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "curr", "<KEEP>", "cal", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "end", "<KEEP>", "time", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "start", "<KEEP>", "time", "<KEEP>", ".", "<KEEP>", "before", "<KEEP>", "(", "<KEEP>", "curr", "<KEEP>", "cal", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "curr", "<KEEP>", "cal", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "java", "<KEEP>", ".", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "calendar", "<KEEP>", ".", "<KEEP>", "date", "<KEEP>", ",", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "fire", "<KEEP>", "time", "<KEEP>", "after", "<KEEP>", "(", "<KEEP>", "curr", "<KEEP>", "cal", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "final", "<KEEP>", "time", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_tuscany-das-2-4012", "old_comment": "the dir context", "old_comment_tokens": ["the", "dir", "context"], "new_comment": "the ldap context", "new_comment_tokens": ["the", "ldap", "context"], "old_code": "public static ldap context create path context ( ldap context ldap context , string [ ] path tokens ) throws naming exception { for ( int i = num ; i < ( path tokens . length ) ; i + + ) { string sub context = cn + str + path tokens [ i ] ; ldap context = ( ldap context ) create sub context ( ldap context , sub context , null ) ; } return ldap context ; }", "old_code_tokens": ["public", "static", "ldap", "context", "create", "path", "context", "(", "ldap", "context", "ldap", "context", ",", "string", "[", "]", "path", "tokens", ")", "throws", "naming", "exception", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "(", "path", "tokens", ".", "length", ")", ";", "i", "+", "+", ")", "{", "string", "sub", "context", "=", "cn", "+", "str", "+", "path", "tokens", "[", "i", "]", ";", "ldap", "context", "=", "(", "ldap", "context", ")", "create", "sub", "context", "(", "ldap", "context", ",", "sub", "context", ",", "null", ")", ";", "}", "return", "ldap", "context", ";", "}"], "new_code": "public static ldap context create path context ( ldap context authority context , string [ ] path tokens ) throws naming exception { for ( int i = num ; i < ( path tokens . length ) ; i + + ) { string sub context = cn + str + path tokens [ i ] ; authority context = ( ldap context ) create sub context ( authority context , sub context , null ) ; } return authority context ; }", "new_code_tokens": ["public", "static", "ldap", "context", "create", "path", "context", "(", "ldap", "context", "authority", "context", ",", "string", "[", "]", "path", "tokens", ")", "throws", "naming", "exception", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "(", "path", "tokens", ".", "length", ")", ";", "i", "+", "+", ")", "{", "string", "sub", "context", "=", "cn", "+", "str", "+", "path", "tokens", "[", "i", "]", ";", "authority", "context", "=", "(", "ldap", "context", ")", "create", "sub", "context", "(", "authority", "context", ",", "sub", "context", ",", "null", ")", ";", "}", "return", "authority", "context", ";", "}"], "span_diff_code": "<KEEP> public static ldap context create path context ( ldap context <KEEP_END> <REPLACE_OLD> ldap <REPLACE_NEW> authority <REPLACE_END> <KEEP> context , string [ ] path tokens ) throws naming exception { for ( int i = num ; i < ( path tokens . length ) ; i + + ) { string sub context = cn + str + path tokens [ i ] ; <KEEP_END> <REPLACE_OLD> ldap <REPLACE_NEW> authority <REPLACE_END> <KEEP> context = ( ldap context ) create sub context ( <KEEP_END> <REPLACE_OLD> ldap <REPLACE_NEW> authority <REPLACE_END> <KEEP> context , sub context , null ) ; } return <KEEP_END> <REPLACE_OLD> ldap <REPLACE_NEW> authority <REPLACE_END> <KEEP> context ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "ldap", "context", "create", "path", "context", "(", "ldap", "context", "<KEEP_END>", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<REPLACE_END>", "<KEEP>", "context", ",", "string", "[", "]", "path", "tokens", ")", "throws", "naming", "exception", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "(", "path", "tokens", ".", "length", ")", ";", "i", "+", "+", ")", "{", "string", "sub", "context", "=", "cn", "+", "str", "+", "path", "tokens", "[", "i", "]", ";", "<KEEP_END>", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<REPLACE_END>", "<KEEP>", "context", "=", "(", "ldap", "context", ")", "create", "sub", "context", "(", "<KEEP_END>", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<REPLACE_END>", "<KEEP>", "context", ",", "sub", "context", ",", "null", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<REPLACE_END>", "<KEEP>", "context", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> dir <REPLACE_NEW> ldap <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "dir", "<REPLACE_NEW>", "ldap", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "ldap", "<KEEP>", "context", "<KEEP>", "create", "<KEEP>", "path", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", "ldap", "<KEEP>", "context", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "path", "<KEEP>", "tokens", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "naming", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", "tokens", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "sub", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "cn", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "path", "<KEEP>", "tokens", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ";", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "ldap", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "create", "<KEEP>", "sub", "<KEEP>", "context", "<KEEP>", "(", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "sub", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "ldap", "<REPLACE_NEW>", "authority", "<KEEP>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "macalinao_albkit-14-5743", "old_comment": "the offline player by the name of the raw arg", "old_comment_tokens": ["the", "offline", "player", "by", "the", "name", "of", "the", "raw", "arg"], "new_comment": "the offline player by the name of the raw raw", "new_comment_tokens": ["the", "offline", "player", "by", "the", "name", "of", "the", "raw", "raw"], "old_code": "public offline player as offline player ( ) { return bukkit . get offline player ( arg ) ; }", "old_code_tokens": ["public", "offline", "player", "as", "offline", "player", "(", ")", "{", "return", "bukkit", ".", "get", "offline", "player", "(", "arg", ")", ";", "}"], "new_code": "public offline player as offline player ( ) { return bukkit . get offline player ( raw ) ; }", "new_code_tokens": ["public", "offline", "player", "as", "offline", "player", "(", ")", "{", "return", "bukkit", ".", "get", "offline", "player", "(", "raw", ")", ";", "}"], "span_diff_code": "<KEEP> public offline player as offline player ( ) { return bukkit . get offline player ( <KEEP_END> <REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "offline", "player", "as", "offline", "player", "(", ")", "{", "return", "bukkit", ".", "get", "offline", "player", "(", "<KEEP_END>", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "offline", "<KEEP>", "player", "<KEEP>", "as", "<KEEP>", "offline", "<KEEP>", "player", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "bukkit", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "offline", "<KEEP>", "player", "<KEEP>", "(", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ushahidi_Ushahidi_Java-10-4709", "old_comment": "the report task", "old_comment_tokens": ["the", "report", "task"], "new_comment": "the incidents task", "new_comment_tokens": ["the", "incidents", "task"], "old_code": "public reports task create reports task ( ) { return new reports task ( url ) ; }", "old_code_tokens": ["public", "reports", "task", "create", "reports", "task", "(", ")", "{", "return", "new", "reports", "task", "(", "url", ")", ";", "}"], "new_code": "public incidents task create reports task ( ) { return new incidents task ( url ) ; }", "new_code_tokens": ["public", "incidents", "task", "create", "reports", "task", "(", ")", "{", "return", "new", "incidents", "task", "(", "url", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> reports <REPLACE_NEW> incidents <REPLACE_END> <KEEP> task create reports task ( ) { return new <KEEP_END> <REPLACE_OLD> reports <REPLACE_NEW> incidents <REPLACE_END> <KEEP> task ( url ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "reports", "<REPLACE_NEW>", "incidents", "<REPLACE_END>", "<KEEP>", "task", "create", "reports", "task", "(", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "reports", "<REPLACE_NEW>", "incidents", "<REPLACE_END>", "<KEEP>", "task", "(", "url", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> report <REPLACE_NEW> incidents <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "report", "<REPLACE_NEW>", "incidents", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "reports", "<REPLACE_NEW>", "incidents", "<KEEP>", "task", "<KEEP>", "create", "<KEEP>", "reports", "<KEEP>", "task", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "reports", "<REPLACE_NEW>", "incidents", "<KEEP>", "task", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-10-3944", "old_comment": "an object name based on the given key", "old_comment_tokens": ["an", "object", "name", "based", "on", "the", "given", "key"], "new_comment": "an object name based on the given component key", "new_comment_tokens": ["an", "object", "name", "based", "on", "the", "given", "component", "key"], "old_code": "public static object name as object name ( object key ) throws malformed object name exception { if ( key = = null ) { throw new null pointer exception ( str ) ; } if ( key instanceof object name ) { return ( object name ) key ; } if ( key instanceof class ) { class clazz = ( class ) key ; return new object name ( str + clazz . get name ( ) ) ; } else { string text = key . to string ( ) ; if ( text . index of ( str ) = = - num ) { text = str + text ; } return new object name ( text ) ; } }", "old_code_tokens": ["public", "static", "object", "name", "as", "object", "name", "(", "object", "key", ")", "throws", "malformed", "object", "name", "exception", "{", "if", "(", "key", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "if", "(", "key", "instanceof", "object", "name", ")", "{", "return", "(", "object", "name", ")", "key", ";", "}", "if", "(", "key", "instanceof", "class", ")", "{", "class", "clazz", "=", "(", "class", ")", "key", ";", "return", "new", "object", "name", "(", "str", "+", "clazz", ".", "get", "name", "(", ")", ")", ";", "}", "else", "{", "string", "text", "=", "key", ".", "to", "string", "(", ")", ";", "if", "(", "text", ".", "index", "of", "(", "str", ")", "=", "=", "-", "num", ")", "{", "text", "=", "str", "+", "text", ";", "}", "return", "new", "object", "name", "(", "text", ")", ";", "}", "}"], "new_code": "private static object name as object name ( object component key ) throws malformed object name exception { if ( component key = = null ) { throw new null pointer exception ( str ) ; } if ( component key instanceof object name ) { return ( object name ) component key ; } if ( component key instanceof class ) { class clazz = ( class ) component key ; return new object name ( str + clazz . get name ( ) ) ; } else { string text = component key . to string ( ) ; if ( text . index of ( str ) = = - num ) { text = str + text ; } return new object name ( text ) ; } }", "new_code_tokens": ["private", "static", "object", "name", "as", "object", "name", "(", "object", "component", "key", ")", "throws", "malformed", "object", "name", "exception", "{", "if", "(", "component", "key", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "if", "(", "component", "key", "instanceof", "object", "name", ")", "{", "return", "(", "object", "name", ")", "component", "key", ";", "}", "if", "(", "component", "key", "instanceof", "class", ")", "{", "class", "clazz", "=", "(", "class", ")", "component", "key", ";", "return", "new", "object", "name", "(", "str", "+", "clazz", ".", "get", "name", "(", ")", ")", ";", "}", "else", "{", "string", "text", "=", "component", "key", ".", "to", "string", "(", ")", ";", "if", "(", "text", ".", "index", "of", "(", "str", ")", "=", "=", "-", "num", ")", "{", "text", "=", "str", "+", "text", ";", "}", "return", "new", "object", "name", "(", "text", ")", ";", "}", "}"], "span_diff_code": "<REPLACE_OLD> public <REPLACE_NEW> private <REPLACE_END> <KEEP> static object name as object name ( object <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key ) throws malformed object name exception { if ( <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key = = null ) { throw new null pointer exception ( str ) ; } if ( <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key instanceof object name ) { return ( object name ) <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key ; } if ( <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key instanceof class ) { class clazz = ( class ) <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key ; return new object name ( str + clazz . get name ( ) ) ; } else { string text = <KEEP_END> <INSERT> component <INSERT_END> <KEEP> key . to string ( ) ; if ( text . index of ( str ) = = - num ) { text = str + text ; } return new object name ( text ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_NEW>", "private", "<REPLACE_END>", "<KEEP>", "static", "object", "name", "as", "object", "name", "(", "object", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", ")", "throws", "malformed", "object", "name", "exception", "{", "if", "(", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "str", ")", ";", "}", "if", "(", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", "instanceof", "object", "name", ")", "{", "return", "(", "object", "name", ")", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", ";", "}", "if", "(", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", "instanceof", "class", ")", "{", "class", "clazz", "=", "(", "class", ")", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", ";", "return", "new", "object", "name", "(", "str", "+", "clazz", ".", "get", "name", "(", ")", ")", ";", "}", "else", "{", "string", "text", "=", "<KEEP_END>", "<INSERT>", "component", "<INSERT_END>", "<KEEP>", "key", ".", "to", "string", "(", ")", ";", "if", "(", "text", ".", "index", "of", "(", "str", ")", "=", "=", "-", "num", ")", "{", "text", "=", "str", "+", "text", ";", "}", "return", "new", "object", "name", "(", "text", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> given <INSERT_NEW_KEEP_BEFORE> given component <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "given", "<INSERT_NEW_KEEP_BEFORE>", "given", "component", "<INSERT_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_NEW>", "private", "<KEEP>", "static", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "as", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "object", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "malformed", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", "instanceof", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", ")", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", "instanceof", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "clazz", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", ")", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "clazz", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "text", "<KEEP>", "=", "<INSERT>", "component", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "text", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "text", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "text", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "text", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "MarkBennett_dart-29-4841", "old_comment": "the source range of \" word pattern \" in # result code .", "old_comment_tokens": ["the", "source", "range", "of", "\"", "word", "pattern", "\"", "in", "#", "result", "code", "."], "new_comment": "the source range of \" ident pattern \" in # result code .", "new_comment_tokens": ["the", "source", "range", "of", "\"", "ident", "pattern", "\"", "in", "#", "result", "code", "."], "old_code": "private source range get result range ( string word pattern ) { int offset = result code . index of ( word pattern ) ; assert that ( offset ) . described as ( word pattern + str + result code ) . is positive ( ) ; string word = string utils . substring before ( word pattern , str ) ; return new source range ( offset , word . length ( ) ) ; }", "old_code_tokens": ["private", "source", "range", "get", "result", "range", "(", "string", "word", "pattern", ")", "{", "int", "offset", "=", "result", "code", ".", "index", "of", "(", "word", "pattern", ")", ";", "assert", "that", "(", "offset", ")", ".", "described", "as", "(", "word", "pattern", "+", "str", "+", "result", "code", ")", ".", "is", "positive", "(", ")", ";", "string", "word", "=", "string", "utils", ".", "substring", "before", "(", "word", "pattern", ",", "str", ")", ";", "return", "new", "source", "range", "(", "offset", ",", "word", ".", "length", "(", ")", ")", ";", "}"], "new_code": "private source range get result range ( string ident pattern ) { int offset = result code . index of ( ident pattern ) ; assert that ( offset ) . described as ( ident pattern + str + result code ) . is positive ( ) ; string identifier = ident pattern . substring ( num , not _ identifier _ matcher . index in ( ident pattern ) ) ; return new source range ( offset , identifier . length ( ) ) ; }", "new_code_tokens": ["private", "source", "range", "get", "result", "range", "(", "string", "ident", "pattern", ")", "{", "int", "offset", "=", "result", "code", ".", "index", "of", "(", "ident", "pattern", ")", ";", "assert", "that", "(", "offset", ")", ".", "described", "as", "(", "ident", "pattern", "+", "str", "+", "result", "code", ")", ".", "is", "positive", "(", ")", ";", "string", "identifier", "=", "ident", "pattern", ".", "substring", "(", "num", ",", "not", "_", "identifier", "_", "matcher", ".", "index", "in", "(", "ident", "pattern", ")", ")", ";", "return", "new", "source", "range", "(", "offset", ",", "identifier", ".", "length", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> private source range get result range ( string <KEEP_END> <REPLACE_OLD> word <REPLACE_NEW> ident <REPLACE_END> <KEEP> pattern ) { int offset = result code . index of ( <KEEP_END> <REPLACE_OLD> word <REPLACE_NEW> ident <REPLACE_END> <KEEP> pattern ) ; assert that ( offset ) . described as ( <KEEP_END> <REPLACE_OLD> word <REPLACE_NEW> ident <REPLACE_END> <KEEP> pattern + str + result code ) . is positive ( ) ; string <KEEP_END> <REPLACE_OLD> word <REPLACE_NEW> identifier <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> string utils <REPLACE_NEW> ident pattern <REPLACE_END> <KEEP> . substring <KEEP_END> <DELETE> before <DELETE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> word <REPLACE_NEW> num , not _ identifier _ matcher . index in ( ident <REPLACE_END> <KEEP> pattern <KEEP_END> <REPLACE_OLD> , str <REPLACE_NEW> ) <REPLACE_END> <KEEP> ) ; return new source range ( offset , <KEEP_END> <REPLACE_OLD> word <REPLACE_NEW> identifier <REPLACE_END> <KEEP> . length ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "source", "range", "get", "result", "range", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<REPLACE_END>", "<KEEP>", "pattern", ")", "{", "int", "offset", "=", "result", "code", ".", "index", "of", "(", "<KEEP_END>", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<REPLACE_END>", "<KEEP>", "pattern", ")", ";", "assert", "that", "(", "offset", ")", ".", "described", "as", "(", "<KEEP_END>", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<REPLACE_END>", "<KEEP>", "pattern", "+", "str", "+", "result", "code", ")", ".", "is", "positive", "(", ")", ";", "string", "<KEEP_END>", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "identifier", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "string", "utils", "<REPLACE_NEW>", "ident", "pattern", "<REPLACE_END>", "<KEEP>", ".", "substring", "<KEEP_END>", "<DELETE>", "before", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "num", ",", "not", "_", "identifier", "_", "matcher", ".", "index", "in", "(", "ident", "<REPLACE_END>", "<KEEP>", "pattern", "<KEEP_END>", "<REPLACE_OLD>", ",", "str", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "new", "source", "range", "(", "offset", ",", "<KEEP_END>", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "identifier", "<REPLACE_END>", "<KEEP>", ".", "length", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> word <REPLACE_NEW> ident <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "source", "<KEEP>", "range", "<KEEP>", "get", "<KEEP>", "result", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<KEEP>", "pattern", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "offset", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", "code", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<KEEP>", "pattern", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "assert", "<KEEP>", "that", "<KEEP>", "(", "<KEEP>", "offset", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "described", "<KEEP>", "as", "<KEEP>", "(", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "ident", "<KEEP>", "pattern", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "result", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "positive", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "identifier", "<KEEP>", "=", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_NEW>", "ident", "<REPLACE_NEW>", "pattern", "<KEEP>", ".", "<KEEP>", "substring", "<DELETE>", "before", "<KEEP>", "(", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "not", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "identifier", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "matcher", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "in", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ident", "<KEEP>", "pattern", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "source", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "offset", "<KEEP>", ",", "<REPLACE_OLD>", "word", "<REPLACE_NEW>", "identifier", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "byterom_android_external_spongycastle-89-5630", "old_comment": "the derobject", "old_comment_tokens": ["the", "derobject"], "new_comment": "the asn1 object", "new_comment_tokens": ["the", "asn1", "object"], "old_code": "private derobject to asn1 object ( x509 certificate cert ) throws certificate encoding exception { try { return new asn1 input stream ( cert . get encoded ( ) ) . read object ( ) ; } catch ( exception e ) { throw new certificate encoding exception ( str + e . to string ( ) ) ; } }", "old_code_tokens": ["private", "derobject", "to", "asn1", "object", "(", "x509", "certificate", "cert", ")", "throws", "certificate", "encoding", "exception", "{", "try", "{", "return", "new", "asn1", "input", "stream", "(", "cert", ".", "get", "encoded", "(", ")", ")", ".", "read", "object", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "certificate", "encoding", "exception", "(", "str", "+", "e", ".", "to", "string", "(", ")", ")", ";", "}", "}"], "new_code": "private asn1 object to asn1 object ( x509 certificate cert ) throws certificate encoding exception { try { return new asn1 input stream ( cert . get encoded ( ) ) . read object ( ) ; } catch ( exception e ) { throw new certificate encoding exception ( str + e . to string ( ) ) ; } }", "new_code_tokens": ["private", "asn1", "object", "to", "asn1", "object", "(", "x509", "certificate", "cert", ")", "throws", "certificate", "encoding", "exception", "{", "try", "{", "return", "new", "asn1", "input", "stream", "(", "cert", ".", "get", "encoded", "(", ")", ")", ".", "read", "object", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "certificate", "encoding", "exception", "(", "str", "+", "e", ".", "to", "string", "(", ")", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> derobject <REPLACE_NEW> asn1 object <REPLACE_END> <KEEP> to asn1 object ( x509 certificate cert ) throws certificate encoding exception { try { return new asn1 input stream ( cert . get encoded ( ) ) . read object ( ) ; } catch ( exception e ) { throw new certificate encoding exception ( str + e . to string ( ) ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "derobject", "<REPLACE_NEW>", "asn1", "object", "<REPLACE_END>", "<KEEP>", "to", "asn1", "object", "(", "x509", "certificate", "cert", ")", "throws", "certificate", "encoding", "exception", "{", "try", "{", "return", "new", "asn1", "input", "stream", "(", "cert", ".", "get", "encoded", "(", ")", ")", ".", "read", "object", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "certificate", "encoding", "exception", "(", "str", "+", "e", ".", "to", "string", "(", ")", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> derobject <REPLACE_NEW> asn1 object <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "derobject", "<REPLACE_NEW>", "asn1", "object", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "derobject", "<REPLACE_NEW>", "asn1", "<REPLACE_NEW>", "object", "<KEEP>", "to", "<KEEP>", "asn1", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "x509", "<KEEP>", "certificate", "<KEEP>", "cert", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "certificate", "<KEEP>", "encoding", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "asn1", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "cert", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "encoded", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "certificate", "<KEEP>", "encoding", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "square_keywhiz-1-7218", "old_comment": "builds a fixture - making object using the given secret dao", "old_comment_tokens": ["builds", "a", "fixture", "-", "making", "object", "using", "the", "given", "secret", "dao"], "new_comment": "builds a fixture - making object using the given secret jooq dao", "new_comment_tokens": ["builds", "a", "fixture", "-", "making", "object", "using", "the", "given", "secret", "jooq", "dao"], "old_code": "public static secret fixtures using ( secret dao secret dao ) { return new secret fixtures ( secret dao ) ; }", "old_code_tokens": ["public", "static", "secret", "fixtures", "using", "(", "secret", "dao", "secret", "dao", ")", "{", "return", "new", "secret", "fixtures", "(", "secret", "dao", ")", ";", "}"], "new_code": "public static secret fixtures using ( secret jooq dao secret jooq dao ) { return new secret fixtures ( secret jooq dao ) ; }", "new_code_tokens": ["public", "static", "secret", "fixtures", "using", "(", "secret", "jooq", "dao", "secret", "jooq", "dao", ")", "{", "return", "new", "secret", "fixtures", "(", "secret", "jooq", "dao", ")", ";", "}"], "span_diff_code": "<KEEP> public static secret fixtures using ( secret <KEEP_END> <INSERT> jooq <INSERT_END> <KEEP> dao secret <KEEP_END> <INSERT> jooq <INSERT_END> <KEEP> dao ) { return new secret fixtures ( secret <KEEP_END> <INSERT> jooq <INSERT_END> <KEEP> dao ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "secret", "fixtures", "using", "(", "secret", "<KEEP_END>", "<INSERT>", "jooq", "<INSERT_END>", "<KEEP>", "dao", "secret", "<KEEP_END>", "<INSERT>", "jooq", "<INSERT_END>", "<KEEP>", "dao", ")", "{", "return", "new", "secret", "fixtures", "(", "secret", "<KEEP_END>", "<INSERT>", "jooq", "<INSERT_END>", "<KEEP>", "dao", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> secret <INSERT_NEW_KEEP_BEFORE> secret jooq <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "secret", "<INSERT_NEW_KEEP_BEFORE>", "secret", "jooq", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "secret", "<KEEP>", "fixtures", "<KEEP>", "using", "<KEEP>", "(", "<KEEP>", "secret", "<INSERT>", "jooq", "<KEEP>", "dao", "<KEEP>", "secret", "<INSERT>", "jooq", "<KEEP>", "dao", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "secret", "<KEEP>", "fixtures", "<KEEP>", "(", "<KEEP>", "secret", "<INSERT>", "jooq", "<KEEP>", "dao", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_empire-db-13-4900", "old_comment": "a list of the values of the first column of an sql query", "old_comment_tokens": ["a", "list", "of", "the", "values", "of", "the", "first", "column", "of", "an", "sql", "query"], "new_comment": "the number of elements that have been added to the collection or - 1 if an error occurred", "new_comment_tokens": ["the", "number", "of", "elements", "that", "have", "been", "added", "to", "the", "collection", "or", "-", "1", "if", "an", "error", "occurred"], "old_code": "public < t > list < t > query simple list ( class < t > c , string sql cmd , connection conn ) { if ( check open ( ) = = false ) return null ; result set rs = null ; try { if ( check open ( ) = = false ) return null ; long start = system . current time millis ( ) ; if ( log . is info enabled ( ) ) log . info ( str + sql cmd ) ; rs = driver . execute query ( sql cmd , null , false , conn ) ; if ( rs = = null ) { error ( driver ) ; return null ; } list < t > result = new array list < t > ( ) ; while ( rs . next ( ) ) { t item = object utils . convert ( c , rs . get object ( num ) ) ; result . add ( item ) ; } if ( log . is info enabled ( ) ) log . info ( str + string . value of ( result . size ( ) ) + str + string . value of ( system . current time millis ( ) - start ) + str ) ; clear error ( ) ; return result ; } catch ( class cast exception e ) { log . error ( str , e ) ; error ( errors . exception , e ) ; return null ; } catch ( sqlexception e ) { log . error ( str , e ) ; error ( dberrors . query failed , e ) ; return null ; } finally { close result set ( rs ) ; } }", "old_code_tokens": ["public", "<", "t", ">", "list", "<", "t", ">", "query", "simple", "list", "(", "class", "<", "t", ">", "c", ",", "string", "sql", "cmd", ",", "connection", "conn", ")", "{", "if", "(", "check", "open", "(", ")", "=", "=", "false", ")", "return", "null", ";", "result", "set", "rs", "=", "null", ";", "try", "{", "if", "(", "check", "open", "(", ")", "=", "=", "false", ")", "return", "null", ";", "long", "start", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "log", ".", "info", "(", "str", "+", "sql", "cmd", ")", ";", "rs", "=", "driver", ".", "execute", "query", "(", "sql", "cmd", ",", "null", ",", "false", ",", "conn", ")", ";", "if", "(", "rs", "=", "=", "null", ")", "{", "error", "(", "driver", ")", ";", "return", "null", ";", "}", "list", "<", "t", ">", "result", "=", "new", "array", "list", "<", "t", ">", "(", ")", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "t", "item", "=", "object", "utils", ".", "convert", "(", "c", ",", "rs", ".", "get", "object", "(", "num", ")", ")", ";", "result", ".", "add", "(", "item", ")", ";", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "log", ".", "info", "(", "str", "+", "string", ".", "value", "of", "(", "result", ".", "size", "(", ")", ")", "+", "str", "+", "string", ".", "value", "of", "(", "system", ".", "current", "time", "millis", "(", ")", "-", "start", ")", "+", "str", ")", ";", "clear", "error", "(", ")", ";", "return", "result", ";", "}", "catch", "(", "class", "cast", "exception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "error", "(", "errors", ".", "exception", ",", "e", ")", ";", "return", "null", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "error", "(", "dberrors", ".", "query", "failed", ",", "e", ")", ";", "return", "null", ";", "}", "finally", "{", "close", "result", "set", "(", "rs", ")", ";", "}", "}"], "new_code": "public < t > int query simple list ( class < t > c , string sql cmd , connection conn , collection < t > result ) { if ( check open ( ) = = false ) return - num ; result set rs = null ; try { long start = system . current time millis ( ) ; if ( log . is info enabled ( ) ) log . info ( str + sql cmd ) ; rs = driver . execute query ( sql cmd , null , false , conn ) ; if ( rs = = null ) { error ( driver ) ; return - num ; } int count = num ; while ( rs . next ( ) ) { t item = object utils . convert ( c , rs . get object ( num ) ) ; result . add ( item ) ; count + + ; } if ( log . is info enabled ( ) ) log . info ( str + string . value of ( count ) + str + string . value of ( system . current time millis ( ) - start ) + str ) ; clear error ( ) ; return count ; } catch ( class cast exception e ) { log . error ( str , e ) ; error ( errors . exception , e ) ; return - num ; } catch ( sqlexception e ) { log . error ( str , e ) ; error ( dberrors . query failed , e ) ; return - num ; } finally { close result set ( rs ) ; } }", "new_code_tokens": ["public", "<", "t", ">", "int", "query", "simple", "list", "(", "class", "<", "t", ">", "c", ",", "string", "sql", "cmd", ",", "connection", "conn", ",", "collection", "<", "t", ">", "result", ")", "{", "if", "(", "check", "open", "(", ")", "=", "=", "false", ")", "return", "-", "num", ";", "result", "set", "rs", "=", "null", ";", "try", "{", "long", "start", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "log", ".", "info", "(", "str", "+", "sql", "cmd", ")", ";", "rs", "=", "driver", ".", "execute", "query", "(", "sql", "cmd", ",", "null", ",", "false", ",", "conn", ")", ";", "if", "(", "rs", "=", "=", "null", ")", "{", "error", "(", "driver", ")", ";", "return", "-", "num", ";", "}", "int", "count", "=", "num", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "t", "item", "=", "object", "utils", ".", "convert", "(", "c", ",", "rs", ".", "get", "object", "(", "num", ")", ")", ";", "result", ".", "add", "(", "item", ")", ";", "count", "+", "+", ";", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "log", ".", "info", "(", "str", "+", "string", ".", "value", "of", "(", "count", ")", "+", "str", "+", "string", ".", "value", "of", "(", "system", ".", "current", "time", "millis", "(", ")", "-", "start", ")", "+", "str", ")", ";", "clear", "error", "(", ")", ";", "return", "count", ";", "}", "catch", "(", "class", "cast", "exception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "error", "(", "errors", ".", "exception", ",", "e", ")", ";", "return", "-", "num", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "error", "(", "dberrors", ".", "query", "failed", ",", "e", ")", ";", "return", "-", "num", ";", "}", "finally", "{", "close", "result", "set", "(", "rs", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public < t > <KEEP_END> <REPLACE_OLD> list < t > <REPLACE_NEW> int <REPLACE_END> <KEEP> query simple list ( class < t > c , string sql cmd , connection conn <KEEP_END> <INSERT> , collection < t > result <INSERT_END> <KEEP> ) { if ( check open ( ) = = false ) return <KEEP_END> <INSERT> - num ; result set rs = <INSERT_END> <KEEP> null ; <KEEP_END> <DELETE> result set rs = null ; <DELETE_END> <KEEP> try { <KEEP_END> <DELETE> if ( check open ( ) = = false ) return null ; <DELETE_END> <KEEP> long start = system . current time millis ( ) ; if ( log . is info enabled ( ) ) log . info ( str + sql cmd ) ; rs = driver . execute query ( sql cmd , null , false , conn ) ; if ( rs = = null ) { error ( driver ) ; return <KEEP_END> <REPLACE_OLD> null ; } list < t > result = new array list < t > ( ) <REPLACE_NEW> - num ; } int count = num <REPLACE_END> <KEEP> ; while ( rs . next ( ) ) { t item = object utils . convert ( c , rs . get object ( num ) ) ; result . add ( item ) ; <KEEP_END> <INSERT> count + + ; <INSERT_END> <KEEP> } if ( log . is info enabled ( ) ) log . info ( str + string . value of ( <KEEP_END> <REPLACE_OLD> result . size ( ) <REPLACE_NEW> count <REPLACE_END> <KEEP> ) + str + string . value of ( system . current time millis ( ) - start ) + str ) ; clear error ( ) ; return <KEEP_END> <REPLACE_OLD> result <REPLACE_NEW> count <REPLACE_END> <KEEP> ; } catch ( class cast exception e ) { log . error ( str , e ) ; error ( errors . exception , e ) ; return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } catch ( sqlexception e ) { log . error ( str , e ) ; error ( dberrors . query failed , e ) ; return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } finally { close result set ( rs ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<", "t", ">", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "t", ">", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "query", "simple", "list", "(", "class", "<", "t", ">", "c", ",", "string", "sql", "cmd", ",", "connection", "conn", "<KEEP_END>", "<INSERT>", ",", "collection", "<", "t", ">", "result", "<INSERT_END>", "<KEEP>", ")", "{", "if", "(", "check", "open", "(", ")", "=", "=", "false", ")", "return", "<KEEP_END>", "<INSERT>", "-", "num", ";", "result", "set", "rs", "=", "<INSERT_END>", "<KEEP>", "null", ";", "<KEEP_END>", "<DELETE>", "result", "set", "rs", "=", "null", ";", "<DELETE_END>", "<KEEP>", "try", "{", "<KEEP_END>", "<DELETE>", "if", "(", "check", "open", "(", ")", "=", "=", "false", ")", "return", "null", ";", "<DELETE_END>", "<KEEP>", "long", "start", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "log", ".", "info", "(", "str", "+", "sql", "cmd", ")", ";", "rs", "=", "driver", ".", "execute", "query", "(", "sql", "cmd", ",", "null", ",", "false", ",", "conn", ")", ";", "if", "(", "rs", "=", "=", "null", ")", "{", "error", "(", "driver", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", ";", "}", "list", "<", "t", ">", "result", "=", "new", "array", "list", "<", "t", ">", "(", ")", "<REPLACE_NEW>", "-", "num", ";", "}", "int", "count", "=", "num", "<REPLACE_END>", "<KEEP>", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "t", "item", "=", "object", "utils", ".", "convert", "(", "c", ",", "rs", ".", "get", "object", "(", "num", ")", ")", ";", "result", ".", "add", "(", "item", ")", ";", "<KEEP_END>", "<INSERT>", "count", "+", "+", ";", "<INSERT_END>", "<KEEP>", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "log", ".", "info", "(", "str", "+", "string", ".", "value", "of", "(", "<KEEP_END>", "<REPLACE_OLD>", "result", ".", "size", "(", ")", "<REPLACE_NEW>", "count", "<REPLACE_END>", "<KEEP>", ")", "+", "str", "+", "string", ".", "value", "of", "(", "system", ".", "current", "time", "millis", "(", ")", "-", "start", ")", "+", "str", ")", ";", "clear", "error", "(", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "count", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "class", "cast", "exception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "error", "(", "errors", ".", "exception", ",", "e", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "error", "(", "dberrors", ".", "query", "failed", ",", "e", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "finally", "{", "close", "result", "set", "(", "rs", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a list of the values of the first column of an sql query <REPLACE_NEW> the number of elements that have been added to the collection or - 1 if an error occurred <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "list", "of", "the", "values", "of", "the", "first", "column", "of", "an", "sql", "query", "<REPLACE_NEW>", "the", "number", "of", "elements", "that", "have", "been", "added", "to", "the", "collection", "or", "-", "1", "if", "an", "error", "occurred", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "int", "<KEEP>", "query", "<KEEP>", "simple", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "c", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "sql", "<KEEP>", "cmd", "<KEEP>", ",", "<KEEP>", "connection", "<KEEP>", "conn", "<INSERT>", ",", "<INSERT>", "collection", "<INSERT>", "<", "<INSERT>", "t", "<INSERT>", ">", "<INSERT>", "result", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "check", "<KEEP>", "open", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", "return", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "result", "<INSERT>", "set", "<INSERT>", "rs", "<INSERT>", "=", "<KEEP>", "null", "<KEEP>", ";", "<DELETE>", "result", "<DELETE>", "set", "<DELETE>", "rs", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "try", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "check", "<DELETE>", "open", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "false", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "long", "<KEEP>", "start", "<KEEP>", "=", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "info", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sql", "<KEEP>", "cmd", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "driver", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", "cmd", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "conn", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "driver", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "count", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "t", "<KEEP>", "item", "<KEEP>", "=", "<KEEP>", "object", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "convert", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ",", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "count", "<INSERT>", "+", "<INSERT>", "+", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "info", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "count", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "start", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "clear", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "result", "<REPLACE_NEW>", "count", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "cast", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "errors", "<KEEP>", ".", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "sqlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "dberrors", "<KEEP>", ".", "<KEEP>", "query", "<KEEP>", "failed", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "close", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "twitter_commons-30-4491", "old_comment": "a token stream object . notice that , in order to support lucene - like token stream behavior , this object ' s reset method must only be used as reset ( null ) and will reset the token stream to its starting point .", "old_comment_tokens": ["a", "token", "stream", "object", ".", "notice", "that", ",", "in", "order", "to", "support", "lucene", "-", "like", "token", "stream", "behavior", ",", "this", "object", "'", "s", "reset", "method", "must", "only", "be", "used", "as", "reset", "(", "null", ")", "and", "will", "reset", "the", "token", "stream", "to", "its", "starting", "point", "."], "new_comment": "a twitter token stream object . notice that , in order to support lucene - like twitter token stream behavior , this object ' s reset method must only be used as reset ( null ) and will reset the twitter token stream to its starting point .", "new_comment_tokens": ["a", "twitter", "token", "stream", "object", ".", "notice", "that", ",", "in", "order", "to", "support", "lucene", "-", "like", "twitter", "token", "stream", "behavior", ",", "this", "object", "'", "s", "reset", "method", "must", "only", "be", "used", "as", "reset", "(", "null", ")", "and", "will", "reset", "the", "twitter", "token", "stream", "to", "its", "starting", "point", "."], "old_code": "public final token stream deserialize ( final byte [ ] data , final char sequence char sequence ) throws ioexception { return deserialize ( data , num , data . length , char sequence ) ; }", "old_code_tokens": ["public", "final", "token", "stream", "deserialize", "(", "final", "byte", "[", "]", "data", ",", "final", "char", "sequence", "char", "sequence", ")", "throws", "ioexception", "{", "return", "deserialize", "(", "data", ",", "num", ",", "data", ".", "length", ",", "char", "sequence", ")", ";", "}"], "new_code": "public final twitter token stream deserialize ( final byte [ ] data , final char sequence char sequence ) throws ioexception { return deserialize ( data , num , data . length , char sequence ) ; }", "new_code_tokens": ["public", "final", "twitter", "token", "stream", "deserialize", "(", "final", "byte", "[", "]", "data", ",", "final", "char", "sequence", "char", "sequence", ")", "throws", "ioexception", "{", "return", "deserialize", "(", "data", ",", "num", ",", "data", ".", "length", ",", "char", "sequence", ")", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <INSERT> twitter <INSERT_END> <KEEP> token stream deserialize ( final byte [ ] data , final char sequence char sequence ) throws ioexception { return deserialize ( data , num , data . length , char sequence ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<INSERT>", "twitter", "<INSERT_END>", "<KEEP>", "token", "stream", "deserialize", "(", "final", "byte", "[", "]", "data", ",", "final", "char", "sequence", "char", "sequence", ")", "throws", "ioexception", "{", "return", "deserialize", "(", "data", ",", "num", ",", "data", ".", "length", ",", "char", "sequence", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a twitter <INSERT_END> <INSERT_OLD_KEEP_BEFORE> like <INSERT_NEW_KEEP_BEFORE> like twitter <INSERT_END> <INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the twitter <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "twitter", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "like", "<INSERT_NEW_KEEP_BEFORE>", "like", "twitter", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "twitter", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<INSERT>", "twitter", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "deserialize", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "data", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "char", "<KEEP>", "sequence", "<KEEP>", "char", "<KEEP>", "sequence", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "deserialize", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ",", "<KEEP>", "char", "<KEEP>", "sequence", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_january-64-5481", "old_comment": "blue value in given position", "old_comment_tokens": ["blue", "value", "in", "given", "position"], "new_comment": "blue value in the first position", "new_comment_tokens": ["blue", "value", "in", "the", "first", "position"], "old_code": "public short get blue ( final int i ) { return data [ get1 dindex ( i ) + num ] ; }", "old_code_tokens": ["public", "short", "get", "blue", "(", "final", "int", "i", ")", "{", "return", "data", "[", "get1", "dindex", "(", "i", ")", "+", "num", "]", ";", "}"], "new_code": "public short get blue ( ) { return data [ get first1 dindex ( ) + num ] ; }", "new_code_tokens": ["public", "short", "get", "blue", "(", ")", "{", "return", "data", "[", "get", "first1", "dindex", "(", ")", "+", "num", "]", ";", "}"], "span_diff_code": "<KEEP> public short get blue ( <KEEP_END> <DELETE> final int i <DELETE_END> <KEEP> ) { return data [ <KEEP_END> <REPLACE_OLD> get1 <REPLACE_NEW> get first1 <REPLACE_END> <KEEP> dindex ( <KEEP_END> <DELETE> i <DELETE_END> <KEEP> ) + num ] ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "short", "get", "blue", "(", "<KEEP_END>", "<DELETE>", "final", "int", "i", "<DELETE_END>", "<KEEP>", ")", "{", "return", "data", "[", "<KEEP_END>", "<REPLACE_OLD>", "get1", "<REPLACE_NEW>", "get", "first1", "<REPLACE_END>", "<KEEP>", "dindex", "(", "<KEEP_END>", "<DELETE>", "i", "<DELETE_END>", "<KEEP>", ")", "+", "num", "]", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> given <REPLACE_NEW> the first <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "given", "<REPLACE_NEW>", "the", "first", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "short", "<KEEP>", "get", "<KEEP>", "blue", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "data", "<KEEP>", "[", "<REPLACE_OLD>", "get1", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "first1", "<KEEP>", "dindex", "<KEEP>", "(", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "byterom_android_external_spongycastle-61-5631", "old_comment": "the other object type id or null if no object digest info is set .", "old_comment_tokens": ["the", "other", "object", "type", "id", "or", "null", "if", "no", "object", "digest", "info", "is", "set", "."], "new_comment": "digest algorithm identifier or null if object digest info is absent .", "new_comment_tokens": ["digest", "algorithm", "identifier", "or", "null", "if", "object", "digest", "info", "is", "absent", "."], "old_code": "public string get digest algorithm ( ) { if ( holder . get object digest info ( ) ! = null ) { holder . get object digest info ( ) . get digest algorithm ( ) . get object id ( ) . get id ( ) ; } return null ; }", "old_code_tokens": ["public", "string", "get", "digest", "algorithm", "(", ")", "{", "if", "(", "holder", ".", "get", "object", "digest", "info", "(", ")", "!", "=", "null", ")", "{", "holder", ".", "get", "object", "digest", "info", "(", ")", ".", "get", "digest", "algorithm", "(", ")", ".", "get", "object", "id", "(", ")", ".", "get", "id", "(", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public algorithm identifier get digest algorithm ( ) { if ( holder . get object digest info ( ) ! = null ) { return holder . get object digest info ( ) . get digest algorithm ( ) ; } return null ; }", "new_code_tokens": ["public", "algorithm", "identifier", "get", "digest", "algorithm", "(", ")", "{", "if", "(", "holder", ".", "get", "object", "digest", "info", "(", ")", "!", "=", "null", ")", "{", "return", "holder", ".", "get", "object", "digest", "info", "(", ")", ".", "get", "digest", "algorithm", "(", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> algorithm identifier <REPLACE_END> <KEEP> get digest algorithm ( ) { if ( holder . get object digest info ( ) ! = null ) { <KEEP_END> <INSERT> return <INSERT_END> <KEEP> holder . get object digest info ( ) . get digest algorithm ( ) <KEEP_END> <DELETE> . get object id ( ) . get id ( ) <DELETE_END> <KEEP> ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "algorithm", "identifier", "<REPLACE_END>", "<KEEP>", "get", "digest", "algorithm", "(", ")", "{", "if", "(", "holder", ".", "get", "object", "digest", "info", "(", ")", "!", "=", "null", ")", "{", "<KEEP_END>", "<INSERT>", "return", "<INSERT_END>", "<KEEP>", "holder", ".", "get", "object", "digest", "info", "(", ")", ".", "get", "digest", "algorithm", "(", ")", "<KEEP_END>", "<DELETE>", ".", "get", "object", "id", "(", ")", ".", "get", "id", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the other object type id <REPLACE_NEW> digest algorithm identifier <REPLACE_END> <DELETE> no <DELETE_END> <REPLACE_OLD> set <REPLACE_NEW> absent <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "other", "object", "type", "id", "<REPLACE_NEW>", "digest", "algorithm", "identifier", "<REPLACE_END>", "<DELETE>", "no", "<DELETE_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "absent", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "algorithm", "<REPLACE_NEW>", "identifier", "<KEEP>", "get", "<KEEP>", "digest", "<KEEP>", "algorithm", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "holder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "digest", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "return", "<KEEP>", "holder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "digest", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "digest", "<KEEP>", "algorithm", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "object", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rektide_waterken-mirror-64-4288", "old_comment": "uri , stripped of any fragment", "old_comment_tokens": ["uri", ",", "stripped", "of", "any", "fragment"], "new_comment": "href , stripped of any fragment", "new_comment_tokens": ["href", ",", "stripped", "of", "any", "fragment"], "old_code": "static public string proxy ( final string uri ) { final int fragment start = uri . index of ( str ) ; return - num = = fragment start ? uri : uri . substring ( num , fragment start ) ; }", "old_code_tokens": ["static", "public", "string", "proxy", "(", "final", "string", "uri", ")", "{", "final", "int", "fragment", "start", "=", "uri", ".", "index", "of", "(", "str", ")", ";", "return", "-", "num", "=", "=", "fragment", "start", "?", "uri", ":", "uri", ".", "substring", "(", "num", ",", "fragment", "start", ")", ";", "}"], "new_code": "static public string proxy ( final string href ) { final int hash = href . index of ( str ) ; return - num = = hash ? href : href . substring ( num , hash ) ; }", "new_code_tokens": ["static", "public", "string", "proxy", "(", "final", "string", "href", ")", "{", "final", "int", "hash", "=", "href", ".", "index", "of", "(", "str", ")", ";", "return", "-", "num", "=", "=", "hash", "?", "href", ":", "href", ".", "substring", "(", "num", ",", "hash", ")", ";", "}"], "span_diff_code": "<KEEP> static public string proxy ( final string <KEEP_END> <REPLACE_OLD> uri <REPLACE_NEW> href <REPLACE_END> <KEEP> ) { final int <KEEP_END> <REPLACE_OLD> fragment start <REPLACE_NEW> hash <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> uri <REPLACE_NEW> href <REPLACE_END> <KEEP> . index of ( str ) ; return - num = = <KEEP_END> <REPLACE_OLD> fragment start <REPLACE_NEW> hash <REPLACE_END> <KEEP> ? <KEEP_END> <REPLACE_OLD> uri <REPLACE_NEW> href <REPLACE_END> <KEEP> : <KEEP_END> <REPLACE_OLD> uri <REPLACE_NEW> href <REPLACE_END> <KEEP> . substring ( num , <KEEP_END> <REPLACE_OLD> fragment start <REPLACE_NEW> hash <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "public", "string", "proxy", "(", "final", "string", "<KEEP_END>", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<REPLACE_END>", "<KEEP>", ")", "{", "final", "int", "<KEEP_END>", "<REPLACE_OLD>", "fragment", "start", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<REPLACE_END>", "<KEEP>", ".", "index", "of", "(", "str", ")", ";", "return", "-", "num", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "fragment", "start", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", "?", "<KEEP_END>", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<REPLACE_END>", "<KEEP>", ":", "<KEEP_END>", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<REPLACE_END>", "<KEEP>", ".", "substring", "(", "num", ",", "<KEEP_END>", "<REPLACE_OLD>", "fragment", "start", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> uri <REPLACE_NEW> href <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "proxy", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "int", "<REPLACE_OLD>", "fragment", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "hash", "<KEEP>", "=", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "fragment", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "hash", "<KEEP>", "?", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<KEEP>", ":", "<REPLACE_OLD>", "uri", "<REPLACE_NEW>", "href", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<REPLACE_OLD>", "fragment", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "hash", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_axis1-java-117-6691", "old_comment": "a string containing the unique identity hash code", "old_comment_tokens": ["a", "string", "containing", "the", "unique", "identity", "hash", "code"], "new_comment": "a unique idkey for the identity", "new_comment_tokens": ["a", "unique", "idkey", "for", "the", "identity"], "old_code": "private string get identity key ( object value ) { return str + system . identity hash code ( value ) ; }", "old_code_tokens": ["private", "string", "get", "identity", "key", "(", "object", "value", ")", "{", "return", "str", "+", "system", ".", "identity", "hash", "code", "(", "value", ")", ";", "}"], "new_code": "private idkey get identity key ( object value ) { return new idkey ( value ) ; }", "new_code_tokens": ["private", "idkey", "get", "identity", "key", "(", "object", "value", ")", "{", "return", "new", "idkey", "(", "value", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> idkey <REPLACE_END> <KEEP> get identity key ( object value ) { return <KEEP_END> <REPLACE_OLD> str + system . identity hash code <REPLACE_NEW> new idkey <REPLACE_END> <KEEP> ( value ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "idkey", "<REPLACE_END>", "<KEEP>", "get", "identity", "key", "(", "object", "value", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "+", "system", ".", "identity", "hash", "code", "<REPLACE_NEW>", "new", "idkey", "<REPLACE_END>", "<KEEP>", "(", "value", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> string containing <REPLACE_NEW> unique idkey for <REPLACE_END> <DELETE> unique <DELETE_END> <DELETE> hash code <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "string", "containing", "<REPLACE_NEW>", "unique", "idkey", "for", "<REPLACE_END>", "<DELETE>", "unique", "<DELETE_END>", "<DELETE>", "hash", "code", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "idkey", "<KEEP>", "get", "<KEEP>", "identity", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "identity", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "code", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "idkey", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_livetribe-18-6321", "old_comment": "the value of this entry ( in case it is single valued ) , or the first value of this entry ( in case it is multivalued ) .", "old_comment_tokens": ["the", "value", "of", "this", "entry", "(", "in", "case", "it", "is", "single", "valued", ")", ",", "or", "the", "first", "value", "of", "this", "entry", "(", "in", "case", "it", "is", "multivalued", ")", "."], "new_comment": "the value of this value object ( in case it is single valued ) , or the first value of this entry ( in case it is multivalued ) .", "new_comment_tokens": ["the", "value", "of", "this", "value", "object", "(", "in", "case", "it", "is", "single", "valued", ")", ",", "or", "the", "first", "value", "of", "this", "entry", "(", "in", "case", "it", "is", "multivalued", ")", "."], "old_code": "public object get value ( ) { if ( is presence type ( ) ) return null ; if ( value is array ) return ( ( object [ ] ) value ) [ num ] ; return value ; }", "old_code_tokens": ["public", "object", "get", "value", "(", ")", "{", "if", "(", "is", "presence", "type", "(", ")", ")", "return", "null", ";", "if", "(", "value", "is", "array", ")", "return", "(", "(", "object", "[", "]", ")", "value", ")", "[", "num", "]", ";", "return", "value", ";", "}"], "new_code": "public object get value ( ) { if ( is presence type ( ) ) return null ; if ( multi valued ) return ( ( object [ ] ) value ) [ num ] ; return value ; }", "new_code_tokens": ["public", "object", "get", "value", "(", ")", "{", "if", "(", "is", "presence", "type", "(", ")", ")", "return", "null", ";", "if", "(", "multi", "valued", ")", "return", "(", "(", "object", "[", "]", ")", "value", ")", "[", "num", "]", ";", "return", "value", ";", "}"], "span_diff_code": "<KEEP> public object get value ( ) { if ( is presence type ( ) ) return null ; if ( <KEEP_END> <REPLACE_OLD> value is array <REPLACE_NEW> multi valued <REPLACE_END> <KEEP> ) return ( ( object [ ] ) value ) [ num ] ; return value ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "object", "get", "value", "(", ")", "{", "if", "(", "is", "presence", "type", "(", ")", ")", "return", "null", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "value", "is", "array", "<REPLACE_NEW>", "multi", "valued", "<REPLACE_END>", "<KEEP>", ")", "return", "(", "(", "object", "[", "]", ")", "value", ")", "[", "num", "]", ";", "return", "value", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the value of this entry <REPLACE_NEW_KEEP_BEFORE> the value of this value object <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "value", "of", "this", "entry", "<REPLACE_NEW_KEEP_BEFORE>", "the", "value", "of", "this", "value", "object", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "presence", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "multi", "<REPLACE_NEW>", "valued", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_derby-120-6338", "old_comment": "true if the received query expression matches at least one node in the received xml value ; unknown if either the query expression or the xml value is null ; false otherwise .", "old_comment_tokens": ["true", "if", "the", "received", "query", "expression", "matches", "at", "least", "one", "node", "in", "the", "received", "xml", "value", ";", "unknown", "if", "either", "the", "query", "expression", "or", "the", "xml", "value", "is", "null", ";", "false", "otherwise", "."], "new_comment": "true if evaluation of the query expression stored in sqlx util returns at least one node for this xml value ; unknown if the xml value is null ; false otherwise .", "new_comment_tokens": ["true", "if", "evaluation", "of", "the", "query", "expression", "stored", "in", "sqlx", "util", "returns", "at", "least", "one", "node", "for", "this", "xml", "value", ";", "unknown", "if", "the", "xml", "value", "is", "null", ";", "false", "otherwise", "."], "old_code": "public boolean data value xmlexists ( string data value x expr , xmldata value xml ) throws standard exception { if ( ( x expr = = null ) | | x expr . is null ( ) ) return sqlboolean . unknown truth value ( ) ; if ( ( xml = = null ) | | xml . is null ( ) ) return sqlboolean . unknown truth value ( ) ; return new sqlboolean ( xml . exists ( x expr . get string ( ) ) ) ; }", "old_code_tokens": ["public", "boolean", "data", "value", "xmlexists", "(", "string", "data", "value", "x", "expr", ",", "xmldata", "value", "xml", ")", "throws", "standard", "exception", "{", "if", "(", "(", "x", "expr", "=", "=", "null", ")", "|", "|", "x", "expr", ".", "is", "null", "(", ")", ")", "return", "sqlboolean", ".", "unknown", "truth", "value", "(", ")", ";", "if", "(", "(", "xml", "=", "=", "null", ")", "|", "|", "xml", ".", "is", "null", "(", ")", ")", "return", "sqlboolean", ".", "unknown", "truth", "value", "(", ")", ";", "return", "new", "sqlboolean", "(", "xml", ".", "exists", "(", "x", "expr", ".", "get", "string", "(", ")", ")", ")", ";", "}"], "new_code": "public boolean data value xmlexists ( sql xml util sqlx util ) throws standard exception { if ( this . is null ( ) ) { return sqlboolean . unknown truth value ( ) ; } if ( sanity manager . debug ) { sanity manager . assert ( sqlx util ! = null , str ) ; } try { return new sqlboolean ( sqlx util . eval xqexpression ( this ) ) ; } catch ( exception xe ) { if ( xe instanceof standard exception ) throw ( standard exception ) xe ; else { throw standard exception . new exception ( sqlstate . lang _ unexpected _ xml _ exception , xe ) ; } } }", "new_code_tokens": ["public", "boolean", "data", "value", "xmlexists", "(", "sql", "xml", "util", "sqlx", "util", ")", "throws", "standard", "exception", "{", "if", "(", "this", ".", "is", "null", "(", ")", ")", "{", "return", "sqlboolean", ".", "unknown", "truth", "value", "(", ")", ";", "}", "if", "(", "sanity", "manager", ".", "debug", ")", "{", "sanity", "manager", ".", "assert", "(", "sqlx", "util", "!", "=", "null", ",", "str", ")", ";", "}", "try", "{", "return", "new", "sqlboolean", "(", "sqlx", "util", ".", "eval", "xqexpression", "(", "this", ")", ")", ";", "}", "catch", "(", "exception", "xe", ")", "{", "if", "(", "xe", "instanceof", "standard", "exception", ")", "throw", "(", "standard", "exception", ")", "xe", ";", "else", "{", "throw", "standard", "exception", ".", "new", "exception", "(", "sqlstate", ".", "lang", "_", "unexpected", "_", "xml", "_", "exception", ",", "xe", ")", ";", "}", "}", "}"], "span_diff_code": "<KEEP> public boolean data value xmlexists ( <KEEP_END> <REPLACE_OLD> string data value x expr , xmldata value <REPLACE_NEW> sql <REPLACE_END> <KEEP> xml <KEEP_END> <INSERT> util sqlx util <INSERT_END> <KEEP> ) throws standard exception { if ( <KEEP_END> <REPLACE_OLD> ( x expr = = null ) | | x expr <REPLACE_NEW> this <REPLACE_END> <KEEP> . is null ( ) ) <KEEP_END> <INSERT> { <INSERT_END> <KEEP> return sqlboolean . unknown truth value ( ) ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> if ( <KEEP_END> <INSERT> sanity manager . debug ) { sanity manager . assert <INSERT_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> xml = <REPLACE_NEW> sqlx util ! <REPLACE_END> <KEEP> = null <KEEP_END> <REPLACE_OLD> ) | | xml . is null ( ) ) return sqlboolean . unknown truth value ( <REPLACE_NEW> , str <REPLACE_END> <KEEP> ) ; <KEEP_END> <INSERT> } try { <INSERT_END> <KEEP> return new sqlboolean ( <KEEP_END> <REPLACE_OLD> xml <REPLACE_NEW> sqlx util <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> exists <REPLACE_NEW> eval xqexpression <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> x expr . get string ( ) <REPLACE_NEW> this <REPLACE_END> <KEEP> ) ) ; } <KEEP_END> <INSERT> catch ( exception xe ) { if ( xe instanceof standard exception ) throw ( standard exception ) xe ; else { throw standard exception . new exception ( sqlstate . lang _ unexpected _ xml _ exception , xe ) ; } } } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "data", "value", "xmlexists", "(", "<KEEP_END>", "<REPLACE_OLD>", "string", "data", "value", "x", "expr", ",", "xmldata", "value", "<REPLACE_NEW>", "sql", "<REPLACE_END>", "<KEEP>", "xml", "<KEEP_END>", "<INSERT>", "util", "sqlx", "util", "<INSERT_END>", "<KEEP>", ")", "throws", "standard", "exception", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "(", "x", "expr", "=", "=", "null", ")", "|", "|", "x", "expr", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ".", "is", "null", "(", ")", ")", "<KEEP_END>", "<INSERT>", "{", "<INSERT_END>", "<KEEP>", "return", "sqlboolean", ".", "unknown", "truth", "value", "(", ")", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<INSERT>", "sanity", "manager", ".", "debug", ")", "{", "sanity", "manager", ".", "assert", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "xml", "=", "<REPLACE_NEW>", "sqlx", "util", "!", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", ")", "|", "|", "xml", ".", "is", "null", "(", ")", ")", "return", "sqlboolean", ".", "unknown", "truth", "value", "(", "<REPLACE_NEW>", ",", "str", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "}", "try", "{", "<INSERT_END>", "<KEEP>", "return", "new", "sqlboolean", "(", "<KEEP_END>", "<REPLACE_OLD>", "xml", "<REPLACE_NEW>", "sqlx", "util", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "exists", "<REPLACE_NEW>", "eval", "xqexpression", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "x", "expr", ".", "get", "string", "(", ")", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "catch", "(", "exception", "xe", ")", "{", "if", "(", "xe", "instanceof", "standard", "exception", ")", "throw", "(", "standard", "exception", ")", "xe", ";", "else", "{", "throw", "standard", "exception", ".", "new", "exception", "(", "sqlstate", ".", "lang", "_", "unexpected", "_", "xml", "_", "exception", ",", "xe", ")", ";", "}", "}", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> true if <INSERT_NEW_KEEP_BEFORE> true if evaluation of <INSERT_END> <REPLACE_OLD_DELETE_KEEP_AFTER> received query <REPLACE_NEW_DELETE_KEEP_AFTER> query <REPLACE_END> <REPLACE_OLD> matches <REPLACE_NEW> stored in sqlx util returns <REPLACE_END> <REPLACE_OLD> in the received <REPLACE_NEW> for this <REPLACE_END> <DELETE> either the query expression or <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "true", "if", "<INSERT_NEW_KEEP_BEFORE>", "true", "if", "evaluation", "of", "<INSERT_END>", "<REPLACE_OLD_DELETE_KEEP_AFTER>", "received", "query", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "query", "<REPLACE_END>", "<REPLACE_OLD>", "matches", "<REPLACE_NEW>", "stored", "in", "sqlx", "util", "returns", "<REPLACE_END>", "<REPLACE_OLD>", "in", "the", "received", "<REPLACE_NEW>", "for", "this", "<REPLACE_END>", "<DELETE>", "either", "the", "query", "expression", "or", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "data", "<KEEP>", "value", "<KEEP>", "xmlexists", "<KEEP>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "expr", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "xmldata", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "sql", "<KEEP>", "xml", "<INSERT>", "util", "<INSERT>", "sqlx", "<INSERT>", "util", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "standard", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "expr", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "expr", "<REPLACE_NEW>", "this", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "sqlboolean", "<KEEP>", ".", "<KEEP>", "unknown", "<KEEP>", "truth", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "sanity", "<INSERT>", "manager", "<INSERT>", ".", "<INSERT>", "debug", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "sanity", "<INSERT>", "manager", "<INSERT>", ".", "<INSERT>", "assert", "<KEEP>", "(", "<REPLACE_OLD>", "xml", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "sqlx", "<REPLACE_NEW>", "util", "<REPLACE_NEW>", "!", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "xml", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "sqlboolean", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "unknown", "<REPLACE_OLD>", "truth", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<INSERT>", "try", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "sqlboolean", "<KEEP>", "(", "<REPLACE_OLD>", "xml", "<REPLACE_NEW>", "sqlx", "<REPLACE_NEW>", "util", "<KEEP>", ".", "<REPLACE_OLD>", "exists", "<REPLACE_NEW>", "eval", "<REPLACE_NEW>", "xqexpression", "<KEEP>", "(", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "expr", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "this", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "exception", "<INSERT>", "xe", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "xe", "<INSERT>", "instanceof", "<INSERT>", "standard", "<INSERT>", "exception", "<INSERT>", ")", "<INSERT>", "throw", "<INSERT>", "(", "<INSERT>", "standard", "<INSERT>", "exception", "<INSERT>", ")", "<INSERT>", "xe", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "standard", "<INSERT>", "exception", "<INSERT>", ".", "<INSERT>", "new", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "sqlstate", "<INSERT>", ".", "<INSERT>", "lang", "<INSERT>", "_", "<INSERT>", "unexpected", "<INSERT>", "_", "<INSERT>", "xml", "<INSERT>", "_", "<INSERT>", "exception", "<INSERT>", ",", "<INSERT>", "xe", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "ansell_openrdf-sesame-151-6361", "old_comment": "a read - only view of the additional http headers which will be included in every request to the server , or null if no headers have been added", "old_comment_tokens": ["a", "read", "-", "only", "view", "of", "the", "additional", "http", "headers", "which", "will", "be", "included", "in", "every", "request", "to", "the", "server", ",", "or", "null", "if", "no", "headers", "have", "been", "added"], "new_comment": "a read - only view of the additional http headers which will be included in every request to the server .", "new_comment_tokens": ["a", "read", "-", "only", "view", "of", "the", "additional", "http", "headers", "which", "will", "be", "included", "in", "every", "request", "to", "the", "server", "."], "old_code": "public map < string , string > get additional http headers ( ) { return additional http headers = = null ? null : collections . unmodifiable map ( additional http headers ) ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "string", ">", "get", "additional", "http", "headers", "(", ")", "{", "return", "additional", "http", "headers", "=", "=", "null", "?", "null", ":", "collections", ".", "unmodifiable", "map", "(", "additional", "http", "headers", ")", ";", "}"], "new_code": "public map < string , string > get additional http headers ( ) { return collections . unmodifiable map ( additional http headers ) ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "string", ">", "get", "additional", "http", "headers", "(", ")", "{", "return", "collections", ".", "unmodifiable", "map", "(", "additional", "http", "headers", ")", ";", "}"], "span_diff_code": "<KEEP> public map < string , string > get additional http headers ( ) { return <KEEP_END> <DELETE> additional http headers = = null ? null : <DELETE_END> <KEEP> collections . unmodifiable map ( additional http headers ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "map", "<", "string", ",", "string", ">", "get", "additional", "http", "headers", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "additional", "http", "headers", "=", "=", "null", "?", "null", ":", "<DELETE_END>", "<KEEP>", "collections", ".", "unmodifiable", "map", "(", "additional", "http", "headers", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> , or null if no headers have been added <REPLACE_NEW> . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ",", "or", "null", "if", "no", "headers", "have", "been", "added", "<REPLACE_NEW>", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "additional", "<KEEP>", "http", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "additional", "<DELETE>", "http", "<DELETE>", "headers", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "?", "<DELETE>", "null", "<DELETE>", ":", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "http", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dropwizard_dropwizard-12-757", "old_comment": "an http client", "old_comment_tokens": ["an", "http", "client"], "new_comment": "an closeable http client", "new_comment_tokens": ["an", "closeable", "http", "client"], "old_code": "public http client build ( string name ) { final basic http params params = create http params ( name ) ; final instrumented client conn manager manager = create connection manager ( registry , name ) ; final instrumented http client client = new instrumented http client ( metric registry , manager , params , name ) ; set strategies for client ( client ) ; return client ; }", "old_code_tokens": ["public", "http", "client", "build", "(", "string", "name", ")", "{", "final", "basic", "http", "params", "params", "=", "create", "http", "params", "(", "name", ")", ";", "final", "instrumented", "client", "conn", "manager", "manager", "=", "create", "connection", "manager", "(", "registry", ",", "name", ")", ";", "final", "instrumented", "http", "client", "client", "=", "new", "instrumented", "http", "client", "(", "metric", "registry", ",", "manager", ",", "params", ",", "name", ")", ";", "set", "strategies", "for", "client", "(", "client", ")", ";", "return", "client", ";", "}"], "new_code": "public closeable http client build ( string name ) { final instrumented http client connection manager manager = create connection manager ( registry , name ) ; final closeable http client client = create client ( manager , name ) ; return client ; }", "new_code_tokens": ["public", "closeable", "http", "client", "build", "(", "string", "name", ")", "{", "final", "instrumented", "http", "client", "connection", "manager", "manager", "=", "create", "connection", "manager", "(", "registry", ",", "name", ")", ";", "final", "closeable", "http", "client", "client", "=", "create", "client", "(", "manager", ",", "name", ")", ";", "return", "client", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> closeable <INSERT_END> <KEEP> http client build ( string name ) { final <KEEP_END> <REPLACE_OLD> basic <REPLACE_NEW> instrumented <REPLACE_END> <KEEP> http <KEEP_END> <DELETE> params params = create http params ( name ) ; final instrumented <DELETE_END> <KEEP> client <KEEP_END> <REPLACE_OLD> conn <REPLACE_NEW> connection <REPLACE_END> <KEEP> manager manager = create connection manager ( registry , name ) ; final <KEEP_END> <REPLACE_OLD> instrumented <REPLACE_NEW> closeable <REPLACE_END> <KEEP> http client client = <KEEP_END> <REPLACE_OLD> new instrumented http <REPLACE_NEW> create <REPLACE_END> <KEEP> client ( <KEEP_END> <DELETE> metric registry , <DELETE_END> <KEEP> manager , <KEEP_END> <DELETE> params , <DELETE_END> <KEEP> name <KEEP_END> <DELETE> ) ; set strategies for client ( client <DELETE_END> <KEEP> ) ; return client ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "closeable", "<INSERT_END>", "<KEEP>", "http", "client", "build", "(", "string", "name", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "basic", "<REPLACE_NEW>", "instrumented", "<REPLACE_END>", "<KEEP>", "http", "<KEEP_END>", "<DELETE>", "params", "params", "=", "create", "http", "params", "(", "name", ")", ";", "final", "instrumented", "<DELETE_END>", "<KEEP>", "client", "<KEEP_END>", "<REPLACE_OLD>", "conn", "<REPLACE_NEW>", "connection", "<REPLACE_END>", "<KEEP>", "manager", "manager", "=", "create", "connection", "manager", "(", "registry", ",", "name", ")", ";", "final", "<KEEP_END>", "<REPLACE_OLD>", "instrumented", "<REPLACE_NEW>", "closeable", "<REPLACE_END>", "<KEEP>", "http", "client", "client", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "instrumented", "http", "<REPLACE_NEW>", "create", "<REPLACE_END>", "<KEEP>", "client", "(", "<KEEP_END>", "<DELETE>", "metric", "registry", ",", "<DELETE_END>", "<KEEP>", "manager", ",", "<KEEP_END>", "<DELETE>", "params", ",", "<DELETE_END>", "<KEEP>", "name", "<KEEP_END>", "<DELETE>", ")", ";", "set", "strategies", "for", "client", "(", "client", "<DELETE_END>", "<KEEP>", ")", ";", "return", "client", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> an <INSERT_NEW_KEEP_BEFORE> an closeable <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "an", "<INSERT_NEW_KEEP_BEFORE>", "an", "closeable", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "closeable", "<KEEP>", "http", "<KEEP>", "client", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "basic", "<REPLACE_NEW>", "instrumented", "<KEEP>", "http", "<DELETE>", "params", "<DELETE>", "params", "<DELETE>", "=", "<DELETE>", "create", "<DELETE>", "http", "<DELETE>", "params", "<DELETE>", "(", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "instrumented", "<KEEP>", "client", "<REPLACE_OLD>", "conn", "<REPLACE_NEW>", "connection", "<KEEP>", "manager", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "connection", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", "registry", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<REPLACE_OLD>", "instrumented", "<REPLACE_NEW>", "closeable", "<KEEP>", "http", "<KEEP>", "client", "<KEEP>", "client", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "instrumented", "<REPLACE_OLD>", "http", "<REPLACE_NEW>", "create", "<KEEP>", "client", "<KEEP>", "(", "<DELETE>", "metric", "<DELETE>", "registry", "<DELETE>", ",", "<KEEP>", "manager", "<KEEP>", ",", "<DELETE>", "params", "<DELETE>", ",", "<KEEP>", "name", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "set", "<DELETE>", "strategies", "<DELETE>", "for", "<DELETE>", "client", "<DELETE>", "(", "<DELETE>", "client", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "client", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_struts1-29-6829", "old_comment": "the application config object", "old_comment_tokens": ["the", "application", "config", "object"], "new_comment": "the module config object", "new_comment_tokens": ["the", "module", "config", "object"], "old_code": "public static application config get module config ( page context page context ) { application config app config = ( application config ) page context . get request ( ) . get attribute ( globals . module _ key ) ; if ( app config = = null ) { app config = ( application config ) page context . get servlet context ( ) . get attribute ( globals . module _ key ) ; } return app config ; }", "old_code_tokens": ["public", "static", "application", "config", "get", "module", "config", "(", "page", "context", "page", "context", ")", "{", "application", "config", "app", "config", "=", "(", "application", "config", ")", "page", "context", ".", "get", "request", "(", ")", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "if", "(", "app", "config", "=", "=", "null", ")", "{", "app", "config", "=", "(", "application", "config", ")", "page", "context", ".", "get", "servlet", "context", "(", ")", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "}", "return", "app", "config", ";", "}"], "new_code": "public static module config get module config ( page context page context ) { module config module config = ( module config ) page context . get request ( ) . get attribute ( globals . module _ key ) ; if ( module config = = null ) { module config = ( module config ) page context . get servlet context ( ) . get attribute ( globals . module _ key ) ; } return module config ; }", "new_code_tokens": ["public", "static", "module", "config", "get", "module", "config", "(", "page", "context", "page", "context", ")", "{", "module", "config", "module", "config", "=", "(", "module", "config", ")", "page", "context", ".", "get", "request", "(", ")", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "if", "(", "module", "config", "=", "=", "null", ")", "{", "module", "config", "=", "(", "module", "config", ")", "page", "context", ".", "get", "servlet", "context", "(", ")", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "}", "return", "module", "config", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config get module config ( page context page context ) { <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config = ( <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config ) page context . get request ( ) . get attribute ( globals . module _ key ) ; if ( <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config = = null ) { <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config = ( <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config ) page context . get servlet context ( ) . get attribute ( globals . module _ key ) ; } return <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "get", "module", "config", "(", "page", "context", "page", "context", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", ")", "page", "context", ".", "get", "request", "(", ")", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", ")", "page", "context", ".", "get", "servlet", "context", "(", ")", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "get", "<KEEP>", "module", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", "page", "<KEEP>", "context", "<KEEP>", "page", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "page", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "globals", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "page", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "globals", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_scm-api-plugin-4-4380", "old_comment": "a valid revision object corresponding to the argument , with a usable corresponding head , or null if malformed or not found", "old_comment_tokens": ["a", "valid", "revision", "object", "corresponding", "to", "the", "argument", ",", "with", "a", "usable", "corresponding", "head", ",", "or", "null", "if", "malformed", "or", "not", "found"], "new_comment": "a valid thing name object corresponding to the argument , with a usable corresponding head , or null if malformed or not found", "new_comment_tokens": ["a", "valid", "thing", "name", "object", "corresponding", "to", "the", "argument", ",", "with", "a", "usable", "corresponding", "head", ",", "or", "null", "if", "malformed", "or", "not", "found"], "old_code": "@ check for null public final scmrevision fetch ( @ non null string revision , @ check for null task listener listener ) throws ioexception , interrupted exception { return retrieve ( revision , default listener ( listener ) ) ; }", "old_code_tokens": ["@", "check", "for", "null", "public", "final", "scmrevision", "fetch", "(", "@", "non", "null", "string", "revision", ",", "@", "check", "for", "null", "task", "listener", "listener", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "retrieve", "(", "revision", ",", "default", "listener", "(", "listener", ")", ")", ";", "}"], "new_code": "@ check for null public final scmrevision fetch ( @ non null string thing name , @ check for null task listener listener ) throws ioexception , interrupted exception { return retrieve ( thing name , default listener ( listener ) ) ; }", "new_code_tokens": ["@", "check", "for", "null", "public", "final", "scmrevision", "fetch", "(", "@", "non", "null", "string", "thing", "name", ",", "@", "check", "for", "null", "task", "listener", "listener", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "retrieve", "(", "thing", "name", ",", "default", "listener", "(", "listener", ")", ")", ";", "}"], "span_diff_code": "<KEEP> @ check for null public final scmrevision fetch ( @ non null string <KEEP_END> <REPLACE_OLD> revision <REPLACE_NEW> thing name <REPLACE_END> <KEEP> , @ check for null task listener listener ) throws ioexception , interrupted exception { return retrieve ( <KEEP_END> <REPLACE_OLD> revision <REPLACE_NEW> thing name <REPLACE_END> <KEEP> , default listener ( listener ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "check", "for", "null", "public", "final", "scmrevision", "fetch", "(", "@", "non", "null", "string", "<KEEP_END>", "<REPLACE_OLD>", "revision", "<REPLACE_NEW>", "thing", "name", "<REPLACE_END>", "<KEEP>", ",", "@", "check", "for", "null", "task", "listener", "listener", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "retrieve", "(", "<KEEP_END>", "<REPLACE_OLD>", "revision", "<REPLACE_NEW>", "thing", "name", "<REPLACE_END>", "<KEEP>", ",", "default", "listener", "(", "listener", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> revision <REPLACE_NEW> thing name <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "revision", "<REPLACE_NEW>", "thing", "name", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "check", "<KEEP>", "for", "<KEEP>", "null", "<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "scmrevision", "<KEEP>", "fetch", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "string", "<REPLACE_OLD>", "revision", "<REPLACE_NEW>", "thing", "<REPLACE_NEW>", "name", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "check", "<KEEP>", "for", "<KEEP>", "null", "<KEEP>", "task", "<KEEP>", "listener", "<KEEP>", "listener", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "retrieve", "<KEEP>", "(", "<REPLACE_OLD>", "revision", "<REPLACE_NEW>", "thing", "<REPLACE_NEW>", "name", "<KEEP>", ",", "<KEEP>", "default", "<KEEP>", "listener", "<KEEP>", "(", "<KEEP>", "listener", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_activemq-53-6619", "old_comment": "the list", "old_comment_tokens": ["the", "list"], "new_comment": "the index list", "new_comment_tokens": ["the", "index", "list"], "old_code": "public index linked list get list ( ) { return list ; }", "old_code_tokens": ["public", "index", "linked", "list", "get", "list", "(", ")", "{", "return", "list", ";", "}"], "new_code": "public index linked list get list ( ) { return index list ; }", "new_code_tokens": ["public", "index", "linked", "list", "get", "list", "(", ")", "{", "return", "index", "list", ";", "}"], "span_diff_code": "<KEEP> public index linked list get list ( ) { return <KEEP_END> <INSERT> index <INSERT_END> <KEEP> list ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "index", "linked", "list", "get", "list", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "index", "<INSERT_END>", "<KEEP>", "list", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the index <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "index", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "index", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "get", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "index", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_batik-170-4421", "old_comment": "a style sheet processing instruction if target is \" xml - stylesheet \" or a generic processing instruction otherwise .", "old_comment_tokens": ["a", "style", "sheet", "processing", "instruction", "if", "target", "is", "\"", "xml", "-", "stylesheet", "\"", "or", "a", "generic", "processing", "instruction", "otherwise", "."], "new_comment": "a svgstyle sheet processing instruction if target is \" xml - stylesheet \" or a generic processing instruction otherwise .", "new_comment_tokens": ["a", "svgstyle", "sheet", "processing", "instruction", "if", "target", "is", "\"", "xml", "-", "stylesheet", "\"", "or", "a", "generic", "processing", "instruction", "otherwise", "."], "old_code": "public processing instruction create processing instruction ( string target , string data ) throws domexception { if ( str . equals ( target ) ) { return new style sheet processing instruction ( data , this , ( style sheet factory ) get implementation ( ) ) ; } return new generic processing instruction ( target , data , this ) ; }", "old_code_tokens": ["public", "processing", "instruction", "create", "processing", "instruction", "(", "string", "target", ",", "string", "data", ")", "throws", "domexception", "{", "if", "(", "str", ".", "equals", "(", "target", ")", ")", "{", "return", "new", "style", "sheet", "processing", "instruction", "(", "data", ",", "this", ",", "(", "style", "sheet", "factory", ")", "get", "implementation", "(", ")", ")", ";", "}", "return", "new", "generic", "processing", "instruction", "(", "target", ",", "data", ",", "this", ")", ";", "}"], "new_code": "public processing instruction create processing instruction ( string target , string data ) throws domexception { if ( str . equals ( target ) ) { return new svgstyle sheet processing instruction ( data , this , ( style sheet factory ) get implementation ( ) ) ; } return new generic processing instruction ( target , data , this ) ; }", "new_code_tokens": ["public", "processing", "instruction", "create", "processing", "instruction", "(", "string", "target", ",", "string", "data", ")", "throws", "domexception", "{", "if", "(", "str", ".", "equals", "(", "target", ")", ")", "{", "return", "new", "svgstyle", "sheet", "processing", "instruction", "(", "data", ",", "this", ",", "(", "style", "sheet", "factory", ")", "get", "implementation", "(", ")", ")", ";", "}", "return", "new", "generic", "processing", "instruction", "(", "target", ",", "data", ",", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public processing instruction create processing instruction ( string target , string data ) throws domexception { if ( str . equals ( target ) ) { return new <KEEP_END> <REPLACE_OLD> style <REPLACE_NEW> svgstyle <REPLACE_END> <KEEP> sheet processing instruction ( data , this , ( style sheet factory ) get implementation ( ) ) ; } return new generic processing instruction ( target , data , this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "processing", "instruction", "create", "processing", "instruction", "(", "string", "target", ",", "string", "data", ")", "throws", "domexception", "{", "if", "(", "str", ".", "equals", "(", "target", ")", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "style", "<REPLACE_NEW>", "svgstyle", "<REPLACE_END>", "<KEEP>", "sheet", "processing", "instruction", "(", "data", ",", "this", ",", "(", "style", "sheet", "factory", ")", "get", "implementation", "(", ")", ")", ";", "}", "return", "new", "generic", "processing", "instruction", "(", "target", ",", "data", ",", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> style <REPLACE_NEW> svgstyle <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "style", "<REPLACE_NEW>", "svgstyle", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "processing", "<KEEP>", "instruction", "<KEEP>", "create", "<KEEP>", "processing", "<KEEP>", "instruction", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "target", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "domexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "style", "<REPLACE_NEW>", "svgstyle", "<KEEP>", "sheet", "<KEEP>", "processing", "<KEEP>", "instruction", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", "style", "<KEEP>", "sheet", "<KEEP>", "factory", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "implementation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "generic", "<KEEP>", "processing", "<KEEP>", "instruction", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", ",", "<KEEP>", "data", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "davidB_metrics-influxdb-1-3720", "old_comment": "a influxdb reporter", "old_comment_tokens": ["a", "influxdb", "reporter"], "new_comment": "a scheduled reporter", "new_comment_tokens": ["a", "scheduled", "reporter"], "old_code": "public scheduled reporter build ( influxdb influxdb ) { return executor = = null ? new reporter v08 ( registry , influxdb , clock , prefix , rate unit , duration unit , filter , skip idle metrics ) : new reporter v08 ( registry , influxdb , clock , prefix , rate unit , duration unit , filter , skip idle metrics , executor ) ; }", "old_code_tokens": ["public", "scheduled", "reporter", "build", "(", "influxdb", "influxdb", ")", "{", "return", "executor", "=", "=", "null", "?", "new", "reporter", "v08", "(", "registry", ",", "influxdb", ",", "clock", ",", "prefix", ",", "rate", "unit", ",", "duration", "unit", ",", "filter", ",", "skip", "idle", "metrics", ")", ":", "new", "reporter", "v08", "(", "registry", ",", "influxdb", ",", "clock", ",", "prefix", ",", "rate", "unit", ",", "duration", "unit", ",", "filter", ",", "skip", "idle", "metrics", ",", "executor", ")", ";", "}"], "new_code": "public scheduled reporter build ( ) { scheduled reporter reporter ; switch ( influxdb version ) { case v08 : influxdb influxdb = build influxdb ( ) ; reporter = ( executor = = null ) ? new reporter v08 ( registry , influxdb , clock , prefix , rate unit , duration unit , filter , skip idle metrics ) : new reporter v08 ( registry , influxdb , clock , prefix , rate unit , duration unit , filter , skip idle metrics , executor ) ; break ; default : sender s = build sender ( ) ; reporter = executor = = null ? new measurement reporter ( s , registry , filter , rate unit , duration unit , clock , tags , transformer ) : new measurement reporter ( s , registry , filter , rate unit , duration unit , clock , tags , transformer , executor ) ; } return reporter ; }", "new_code_tokens": ["public", "scheduled", "reporter", "build", "(", ")", "{", "scheduled", "reporter", "reporter", ";", "switch", "(", "influxdb", "version", ")", "{", "case", "v08", ":", "influxdb", "influxdb", "=", "build", "influxdb", "(", ")", ";", "reporter", "=", "(", "executor", "=", "=", "null", ")", "?", "new", "reporter", "v08", "(", "registry", ",", "influxdb", ",", "clock", ",", "prefix", ",", "rate", "unit", ",", "duration", "unit", ",", "filter", ",", "skip", "idle", "metrics", ")", ":", "new", "reporter", "v08", "(", "registry", ",", "influxdb", ",", "clock", ",", "prefix", ",", "rate", "unit", ",", "duration", "unit", ",", "filter", ",", "skip", "idle", "metrics", ",", "executor", ")", ";", "break", ";", "default", ":", "sender", "s", "=", "build", "sender", "(", ")", ";", "reporter", "=", "executor", "=", "=", "null", "?", "new", "measurement", "reporter", "(", "s", ",", "registry", ",", "filter", ",", "rate", "unit", ",", "duration", "unit", ",", "clock", ",", "tags", ",", "transformer", ")", ":", "new", "measurement", "reporter", "(", "s", ",", "registry", ",", "filter", ",", "rate", "unit", ",", "duration", "unit", ",", "clock", ",", "tags", ",", "transformer", ",", "executor", ")", ";", "}", "return", "reporter", ";", "}"], "span_diff_code": "<KEEP> public scheduled reporter build ( <KEEP_END> <INSERT> ) { scheduled reporter reporter ; switch ( influxdb version ) { case v08 : <INSERT_END> <KEEP> influxdb influxdb <KEEP_END> <INSERT> = build influxdb ( <INSERT_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> { return <REPLACE_NEW> ; reporter = ( <REPLACE_END> <KEEP> executor = = null <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ? new reporter v08 ( registry , influxdb , clock , prefix , rate unit , duration unit , filter , skip idle metrics ) : new reporter v08 ( registry , influxdb , clock , prefix , rate unit , duration unit , filter , skip idle metrics , executor ) ; <KEEP_END> <INSERT> break ; default : sender s = build sender ( ) ; reporter = executor = = null ? new measurement reporter ( s , registry , filter , rate unit , duration unit , clock , tags , transformer ) : new measurement reporter ( s , registry , filter , rate unit , duration unit , clock , tags , transformer , executor ) ; <INSERT_END> <KEEP> } <KEEP_END> <INSERT> return reporter ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "scheduled", "reporter", "build", "(", "<KEEP_END>", "<INSERT>", ")", "{", "scheduled", "reporter", "reporter", ";", "switch", "(", "influxdb", "version", ")", "{", "case", "v08", ":", "<INSERT_END>", "<KEEP>", "influxdb", "influxdb", "<KEEP_END>", "<INSERT>", "=", "build", "influxdb", "(", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "return", "<REPLACE_NEW>", ";", "reporter", "=", "(", "<REPLACE_END>", "<KEEP>", "executor", "=", "=", "null", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", "?", "new", "reporter", "v08", "(", "registry", ",", "influxdb", ",", "clock", ",", "prefix", ",", "rate", "unit", ",", "duration", "unit", ",", "filter", ",", "skip", "idle", "metrics", ")", ":", "new", "reporter", "v08", "(", "registry", ",", "influxdb", ",", "clock", ",", "prefix", ",", "rate", "unit", ",", "duration", "unit", ",", "filter", ",", "skip", "idle", "metrics", ",", "executor", ")", ";", "<KEEP_END>", "<INSERT>", "break", ";", "default", ":", "sender", "s", "=", "build", "sender", "(", ")", ";", "reporter", "=", "executor", "=", "=", "null", "?", "new", "measurement", "reporter", "(", "s", ",", "registry", ",", "filter", ",", "rate", "unit", ",", "duration", "unit", ",", "clock", ",", "tags", ",", "transformer", ")", ":", "new", "measurement", "reporter", "(", "s", ",", "registry", ",", "filter", ",", "rate", "unit", ",", "duration", "unit", ",", "clock", ",", "tags", ",", "transformer", ",", "executor", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<INSERT>", "return", "reporter", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> influxdb <REPLACE_NEW> scheduled <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "influxdb", "<REPLACE_NEW>", "scheduled", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "scheduled", "<KEEP>", "reporter", "<KEEP>", "build", "<KEEP>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "scheduled", "<INSERT>", "reporter", "<INSERT>", "reporter", "<INSERT>", ";", "<INSERT>", "switch", "<INSERT>", "(", "<INSERT>", "influxdb", "<INSERT>", "version", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "case", "<INSERT>", "v08", "<INSERT>", ":", "<KEEP>", "influxdb", "<KEEP>", "influxdb", "<INSERT>", "=", "<INSERT>", "build", "<INSERT>", "influxdb", "<INSERT>", "(", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "reporter", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<KEEP>", "executor", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<INSERT>", ")", "<KEEP>", "?", "<KEEP>", "new", "<KEEP>", "reporter", "<KEEP>", "v08", "<KEEP>", "(", "<KEEP>", "registry", "<KEEP>", ",", "<KEEP>", "influxdb", "<KEEP>", ",", "<KEEP>", "clock", "<KEEP>", ",", "<KEEP>", "prefix", "<KEEP>", ",", "<KEEP>", "rate", "<KEEP>", "unit", "<KEEP>", ",", "<KEEP>", "duration", "<KEEP>", "unit", "<KEEP>", ",", "<KEEP>", "filter", "<KEEP>", ",", "<KEEP>", "skip", "<KEEP>", "idle", "<KEEP>", "metrics", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "new", "<KEEP>", "reporter", "<KEEP>", "v08", "<KEEP>", "(", "<KEEP>", "registry", "<KEEP>", ",", "<KEEP>", "influxdb", "<KEEP>", ",", "<KEEP>", "clock", "<KEEP>", ",", "<KEEP>", "prefix", "<KEEP>", ",", "<KEEP>", "rate", "<KEEP>", "unit", "<KEEP>", ",", "<KEEP>", "duration", "<KEEP>", "unit", "<KEEP>", ",", "<KEEP>", "filter", "<KEEP>", ",", "<KEEP>", "skip", "<KEEP>", "idle", "<KEEP>", "metrics", "<KEEP>", ",", "<KEEP>", "executor", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "break", "<INSERT>", ";", "<INSERT>", "default", "<INSERT>", ":", "<INSERT>", "sender", "<INSERT>", "s", "<INSERT>", "=", "<INSERT>", "build", "<INSERT>", "sender", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "reporter", "<INSERT>", "=", "<INSERT>", "executor", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "new", "<INSERT>", "measurement", "<INSERT>", "reporter", "<INSERT>", "(", "<INSERT>", "s", "<INSERT>", ",", "<INSERT>", "registry", "<INSERT>", ",", "<INSERT>", "filter", "<INSERT>", ",", "<INSERT>", "rate", "<INSERT>", "unit", "<INSERT>", ",", "<INSERT>", "duration", "<INSERT>", "unit", "<INSERT>", ",", "<INSERT>", "clock", "<INSERT>", ",", "<INSERT>", "tags", "<INSERT>", ",", "<INSERT>", "transformer", "<INSERT>", ")", "<INSERT>", ":", "<INSERT>", "new", "<INSERT>", "measurement", "<INSERT>", "reporter", "<INSERT>", "(", "<INSERT>", "s", "<INSERT>", ",", "<INSERT>", "registry", "<INSERT>", ",", "<INSERT>", "filter", "<INSERT>", ",", "<INSERT>", "rate", "<INSERT>", "unit", "<INSERT>", ",", "<INSERT>", "duration", "<INSERT>", "unit", "<INSERT>", ",", "<INSERT>", "clock", "<INSERT>", ",", "<INSERT>", "tags", "<INSERT>", ",", "<INSERT>", "transformer", "<INSERT>", ",", "<INSERT>", "executor", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "reporter", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "boundary_boundary-camel-components-0-4883", "old_comment": "ping info", "old_comment_tokens": ["ping", "info"], "new_comment": "ping result", "new_comment_tokens": ["ping", "result"], "old_code": "protected ping info parse ( int exit value , list < string > out lines , list < string > err lines ) { ping info info = new ping info ( ) ; pattern round trip time pat = pattern . compile ( rtt _ reg _ ex ) ; pattern transmit receive pat = pattern . compile ( transmitted _ received _ reg _ ex ) ; pattern no route to host pat = pattern . compile ( no _ route _ to _ host _ reg _ ex ) ; pattern unknown host pat = pattern . compile ( unknown _ host _ reg _ ex ) ; info . set host ( get host ( ) ) ; switch ( exit value ) { case num : for ( string line : out lines ) { matcher matcher = round trip time pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set rttmin ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttavg ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttmax ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttmdev ( double . parse double ( matcher . group ( num ) ) ) ; } } for ( string line : out lines ) { matcher matcher = transmit receive pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set transmitted ( integer . parse int ( matcher . group ( num ) ) ) ; info . set received ( integer . parse int ( matcher . group ( num ) ) ) ; } } if ( info . get received ( ) = = num ) { info . set status ( service status . fail ) ; } else { info . set status ( service status . success ) ; } break ; case num : case num : case num : for ( string line : out lines ) { matcher matcher = transmit receive pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set transmitted ( integer . parse int ( matcher . group ( num ) ) ) ; info . set received ( integer . parse int ( matcher . group ( num ) ) ) ; } } for ( string line : err lines ) { matcher matcher = unknown host pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set message ( matcher . group ( num ) ) ; } } info . set status ( service status . fail ) ; break ; default : assert false : str ; } return info ; }", "old_code_tokens": ["protected", "ping", "info", "parse", "(", "int", "exit", "value", ",", "list", "<", "string", ">", "out", "lines", ",", "list", "<", "string", ">", "err", "lines", ")", "{", "ping", "info", "info", "=", "new", "ping", "info", "(", ")", ";", "pattern", "round", "trip", "time", "pat", "=", "pattern", ".", "compile", "(", "rtt", "_", "reg", "_", "ex", ")", ";", "pattern", "transmit", "receive", "pat", "=", "pattern", ".", "compile", "(", "transmitted", "_", "received", "_", "reg", "_", "ex", ")", ";", "pattern", "no", "route", "to", "host", "pat", "=", "pattern", ".", "compile", "(", "no", "_", "route", "_", "to", "_", "host", "_", "reg", "_", "ex", ")", ";", "pattern", "unknown", "host", "pat", "=", "pattern", ".", "compile", "(", "unknown", "_", "host", "_", "reg", "_", "ex", ")", ";", "info", ".", "set", "host", "(", "get", "host", "(", ")", ")", ";", "switch", "(", "exit", "value", ")", "{", "case", "num", ":", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "round", "trip", "time", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "rttmin", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttavg", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttmax", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttmdev", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "transmit", "receive", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "transmitted", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "received", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "if", "(", "info", ".", "get", "received", "(", ")", "=", "=", "num", ")", "{", "info", ".", "set", "status", "(", "service", "status", ".", "fail", ")", ";", "}", "else", "{", "info", ".", "set", "status", "(", "service", "status", ".", "success", ")", ";", "}", "break", ";", "case", "num", ":", "case", "num", ":", "case", "num", ":", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "transmit", "receive", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "transmitted", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "received", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "for", "(", "string", "line", ":", "err", "lines", ")", "{", "matcher", "matcher", "=", "unknown", "host", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "message", "(", "matcher", ".", "group", "(", "num", ")", ")", ";", "}", "}", "info", ".", "set", "status", "(", "service", "status", ".", "fail", ")", ";", "break", ";", "default", ":", "assert", "false", ":", "str", ";", "}", "return", "info", ";", "}"], "new_code": "protected ping result parse ( int exit value , list < string > out lines , list < string > err lines ) { ping result info = new ping result ( ) ; pattern round trip time pat = pattern . compile ( rtt _ reg _ ex ) ; pattern transmit receive pat = pattern . compile ( transmitted _ received _ reg _ ex ) ; pattern no route to host pat = pattern . compile ( no _ route _ to _ host _ reg _ ex ) ; pattern unknown host pat = pattern . compile ( unknown _ host _ reg _ ex ) ; info . set host ( get host ( ) ) ; switch ( exit value ) { case num : for ( string line : out lines ) { matcher matcher = round trip time pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set rttmin ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttavg ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttmax ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttmdev ( double . parse double ( matcher . group ( num ) ) ) ; } } for ( string line : out lines ) { matcher matcher = transmit receive pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set transmitted ( integer . parse int ( matcher . group ( num ) ) ) ; info . set received ( integer . parse int ( matcher . group ( num ) ) ) ; } } if ( info . get received ( ) = = num ) { info . set status ( service status . fail ) ; } else { info . set status ( service status . success ) ; } break ; case num : case num : case num : for ( string line : out lines ) { matcher matcher = transmit receive pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set transmitted ( integer . parse int ( matcher . group ( num ) ) ) ; info . set received ( integer . parse int ( matcher . group ( num ) ) ) ; } } for ( string line : err lines ) { matcher matcher = unknown host pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set message ( matcher . group ( num ) ) ; } } info . set status ( service status . fail ) ; break ; default : assert false : str ; } return info ; }", "new_code_tokens": ["protected", "ping", "result", "parse", "(", "int", "exit", "value", ",", "list", "<", "string", ">", "out", "lines", ",", "list", "<", "string", ">", "err", "lines", ")", "{", "ping", "result", "info", "=", "new", "ping", "result", "(", ")", ";", "pattern", "round", "trip", "time", "pat", "=", "pattern", ".", "compile", "(", "rtt", "_", "reg", "_", "ex", ")", ";", "pattern", "transmit", "receive", "pat", "=", "pattern", ".", "compile", "(", "transmitted", "_", "received", "_", "reg", "_", "ex", ")", ";", "pattern", "no", "route", "to", "host", "pat", "=", "pattern", ".", "compile", "(", "no", "_", "route", "_", "to", "_", "host", "_", "reg", "_", "ex", ")", ";", "pattern", "unknown", "host", "pat", "=", "pattern", ".", "compile", "(", "unknown", "_", "host", "_", "reg", "_", "ex", ")", ";", "info", ".", "set", "host", "(", "get", "host", "(", ")", ")", ";", "switch", "(", "exit", "value", ")", "{", "case", "num", ":", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "round", "trip", "time", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "rttmin", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttavg", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttmax", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttmdev", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "transmit", "receive", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "transmitted", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "received", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "if", "(", "info", ".", "get", "received", "(", ")", "=", "=", "num", ")", "{", "info", ".", "set", "status", "(", "service", "status", ".", "fail", ")", ";", "}", "else", "{", "info", ".", "set", "status", "(", "service", "status", ".", "success", ")", ";", "}", "break", ";", "case", "num", ":", "case", "num", ":", "case", "num", ":", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "transmit", "receive", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "transmitted", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "received", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "for", "(", "string", "line", ":", "err", "lines", ")", "{", "matcher", "matcher", "=", "unknown", "host", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "message", "(", "matcher", ".", "group", "(", "num", ")", ")", ";", "}", "}", "info", ".", "set", "status", "(", "service", "status", ".", "fail", ")", ";", "break", ";", "default", ":", "assert", "false", ":", "str", ";", "}", "return", "info", ";", "}"], "span_diff_code": "<KEEP> protected ping <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END> <KEEP> parse ( int exit value , list < string > out lines , list < string > err lines ) { ping <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END> <KEEP> info = new ping <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END> <KEEP> ( ) ; pattern round trip time pat = pattern . compile ( rtt _ reg _ ex ) ; pattern transmit receive pat = pattern . compile ( transmitted _ received _ reg _ ex ) ; pattern no route to host pat = pattern . compile ( no _ route _ to _ host _ reg _ ex ) ; pattern unknown host pat = pattern . compile ( unknown _ host _ reg _ ex ) ; info . set host ( get host ( ) ) ; switch ( exit value ) { case num : for ( string line : out lines ) { matcher matcher = round trip time pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set rttmin ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttavg ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttmax ( double . parse double ( matcher . group ( num ) ) ) ; info . set rttmdev ( double . parse double ( matcher . group ( num ) ) ) ; } } for ( string line : out lines ) { matcher matcher = transmit receive pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set transmitted ( integer . parse int ( matcher . group ( num ) ) ) ; info . set received ( integer . parse int ( matcher . group ( num ) ) ) ; } } if ( info . get received ( ) = = num ) { info . set status ( service status . fail ) ; } else { info . set status ( service status . success ) ; } break ; case num : case num : case num : for ( string line : out lines ) { matcher matcher = transmit receive pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set transmitted ( integer . parse int ( matcher . group ( num ) ) ) ; info . set received ( integer . parse int ( matcher . group ( num ) ) ) ; } } for ( string line : err lines ) { matcher matcher = unknown host pat . matcher ( line ) ; if ( matcher . find ( ) ) { info . set message ( matcher . group ( num ) ) ; } } info . set status ( service status . fail ) ; break ; default : assert false : str ; } return info ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "ping", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", "parse", "(", "int", "exit", "value", ",", "list", "<", "string", ">", "out", "lines", ",", "list", "<", "string", ">", "err", "lines", ")", "{", "ping", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", "info", "=", "new", "ping", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "pattern", "round", "trip", "time", "pat", "=", "pattern", ".", "compile", "(", "rtt", "_", "reg", "_", "ex", ")", ";", "pattern", "transmit", "receive", "pat", "=", "pattern", ".", "compile", "(", "transmitted", "_", "received", "_", "reg", "_", "ex", ")", ";", "pattern", "no", "route", "to", "host", "pat", "=", "pattern", ".", "compile", "(", "no", "_", "route", "_", "to", "_", "host", "_", "reg", "_", "ex", ")", ";", "pattern", "unknown", "host", "pat", "=", "pattern", ".", "compile", "(", "unknown", "_", "host", "_", "reg", "_", "ex", ")", ";", "info", ".", "set", "host", "(", "get", "host", "(", ")", ")", ";", "switch", "(", "exit", "value", ")", "{", "case", "num", ":", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "round", "trip", "time", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "rttmin", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttavg", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttmax", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "rttmdev", "(", "double", ".", "parse", "double", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "transmit", "receive", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "transmitted", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "received", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "if", "(", "info", ".", "get", "received", "(", ")", "=", "=", "num", ")", "{", "info", ".", "set", "status", "(", "service", "status", ".", "fail", ")", ";", "}", "else", "{", "info", ".", "set", "status", "(", "service", "status", ".", "success", ")", ";", "}", "break", ";", "case", "num", ":", "case", "num", ":", "case", "num", ":", "for", "(", "string", "line", ":", "out", "lines", ")", "{", "matcher", "matcher", "=", "transmit", "receive", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "transmitted", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "info", ".", "set", "received", "(", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ")", ";", "}", "}", "for", "(", "string", "line", ":", "err", "lines", ")", "{", "matcher", "matcher", "=", "unknown", "host", "pat", ".", "matcher", "(", "line", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "info", ".", "set", "message", "(", "matcher", ".", "group", "(", "num", ")", ")", ";", "}", "}", "info", ".", "set", "status", "(", "service", "status", ".", "fail", ")", ";", "break", ";", "default", ":", "assert", "false", ":", "str", ";", "}", "return", "info", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "ping", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "exit", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "out", "<KEEP>", "lines", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "err", "<KEEP>", "lines", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ping", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "ping", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pattern", "<KEEP>", "round", "<KEEP>", "trip", "<KEEP>", "time", "<KEEP>", "pat", "<KEEP>", "=", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "rtt", "<KEEP>", "_", "<KEEP>", "reg", "<KEEP>", "_", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pattern", "<KEEP>", "transmit", "<KEEP>", "receive", "<KEEP>", "pat", "<KEEP>", "=", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "transmitted", "<KEEP>", "_", "<KEEP>", "received", "<KEEP>", "_", "<KEEP>", "reg", "<KEEP>", "_", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pattern", "<KEEP>", "no", "<KEEP>", "route", "<KEEP>", "to", "<KEEP>", "host", "<KEEP>", "pat", "<KEEP>", "=", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "no", "<KEEP>", "_", "<KEEP>", "route", "<KEEP>", "_", "<KEEP>", "to", "<KEEP>", "_", "<KEEP>", "host", "<KEEP>", "_", "<KEEP>", "reg", "<KEEP>", "_", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pattern", "<KEEP>", "unknown", "<KEEP>", "host", "<KEEP>", "pat", "<KEEP>", "=", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "unknown", "<KEEP>", "_", "<KEEP>", "host", "<KEEP>", "_", "<KEEP>", "reg", "<KEEP>", "_", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "host", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "host", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "exit", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", ":", "<KEEP>", "out", "<KEEP>", "lines", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "matcher", "<KEEP>", "matcher", "<KEEP>", "=", "<KEEP>", "round", "<KEEP>", "trip", "<KEEP>", "time", "<KEEP>", "pat", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "rttmin", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "double", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "rttavg", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "double", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "rttmax", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "double", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "rttmdev", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "double", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", ":", "<KEEP>", "out", "<KEEP>", "lines", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "matcher", "<KEEP>", "matcher", "<KEEP>", "=", "<KEEP>", "transmit", "<KEEP>", "receive", "<KEEP>", "pat", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "transmitted", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "received", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "received", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "service", "<KEEP>", "status", "<KEEP>", ".", "<KEEP>", "fail", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "service", "<KEEP>", "status", "<KEEP>", ".", "<KEEP>", "success", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "case", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "case", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", ":", "<KEEP>", "out", "<KEEP>", "lines", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "matcher", "<KEEP>", "matcher", "<KEEP>", "=", "<KEEP>", "transmit", "<KEEP>", "receive", "<KEEP>", "pat", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "transmitted", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "received", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "line", "<KEEP>", ":", "<KEEP>", "err", "<KEEP>", "lines", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "matcher", "<KEEP>", "matcher", "<KEEP>", "=", "<KEEP>", "unknown", "<KEEP>", "host", "<KEEP>", "pat", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", "matcher", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "service", "<KEEP>", "status", "<KEEP>", ".", "<KEEP>", "fail", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "assert", "<KEEP>", "false", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "info", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ncdc_Qpid-1-85-3932", "old_comment": "the hostname , null if not found or takes longer than 30s to find", "old_comment_tokens": ["the", "hostname", ",", "null", "if", "not", "found", "or", "takes", "longer", "than", "30s", "to", "find"], "new_comment": "the hostname , null if not found , takes longer than 30s to find or otherwise fails", "new_comment_tokens": ["the", "hostname", ",", "null", "if", "not", "found", ",", "takes", "longer", "than", "30s", "to", "find", "or", "otherwise", "fails"], "old_code": "private string get hostname ( final inet address remote ) { final string [ ] hostname = new string [ ] { null } ; final atomic boolean done = new atomic boolean ( false ) ; thread thread = new thread ( new runnable ( ) { public void run ( ) { hostname [ num ] = remote . get canonical host name ( ) ; done . get and set ( true ) ; synchronized ( done ) { done . notify all ( ) ; } } } ) ; thread . run ( ) ; long end time = system . current time millis ( ) + dns _ timeout ; while ( system . current time millis ( ) < end time & & ! done . get ( ) ) { try { synchronized ( done ) { done . wait ( end time - system . current time millis ( ) ) ; } } catch ( interrupted exception e ) { } } return hostname [ num ] ; }", "old_code_tokens": ["private", "string", "get", "hostname", "(", "final", "inet", "address", "remote", ")", "{", "final", "string", "[", "]", "hostname", "=", "new", "string", "[", "]", "{", "null", "}", ";", "final", "atomic", "boolean", "done", "=", "new", "atomic", "boolean", "(", "false", ")", ";", "thread", "thread", "=", "new", "thread", "(", "new", "runnable", "(", ")", "{", "public", "void", "run", "(", ")", "{", "hostname", "[", "num", "]", "=", "remote", ".", "get", "canonical", "host", "name", "(", ")", ";", "done", ".", "get", "and", "set", "(", "true", ")", ";", "synchronized", "(", "done", ")", "{", "done", ".", "notify", "all", "(", ")", ";", "}", "}", "}", ")", ";", "thread", ".", "run", "(", ")", ";", "long", "end", "time", "=", "system", ".", "current", "time", "millis", "(", ")", "+", "dns", "_", "timeout", ";", "while", "(", "system", ".", "current", "time", "millis", "(", ")", "<", "end", "time", "&", "&", "!", "done", ".", "get", "(", ")", ")", "{", "try", "{", "synchronized", "(", "done", ")", "{", "done", ".", "wait", "(", "end", "time", "-", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "}", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "}", "return", "hostname", "[", "num", "]", ";", "}"], "new_code": "private string get hostname ( final inet address remote ) throws firewall exception { future task < string > lookup = new future task < string > ( new callable < string > ( ) { public string call ( ) { return remote . get canonical host name ( ) ; } } ) ; dns _ lookup . execute ( lookup ) ; try { return lookup . get ( dns _ timeout , time unit . milliseconds ) ; } catch ( exception e ) { return null ; } finally { lookup . cancel ( true ) ; } }", "new_code_tokens": ["private", "string", "get", "hostname", "(", "final", "inet", "address", "remote", ")", "throws", "firewall", "exception", "{", "future", "task", "<", "string", ">", "lookup", "=", "new", "future", "task", "<", "string", ">", "(", "new", "callable", "<", "string", ">", "(", ")", "{", "public", "string", "call", "(", ")", "{", "return", "remote", ".", "get", "canonical", "host", "name", "(", ")", ";", "}", "}", ")", ";", "dns", "_", "lookup", ".", "execute", "(", "lookup", ")", ";", "try", "{", "return", "lookup", ".", "get", "(", "dns", "_", "timeout", ",", "time", "unit", ".", "milliseconds", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "null", ";", "}", "finally", "{", "lookup", ".", "cancel", "(", "true", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private string get hostname ( final inet address remote ) <KEEP_END> <INSERT> throws firewall exception <INSERT_END> <KEEP> { <KEEP_END> <REPLACE_OLD> final <REPLACE_NEW> future task < <REPLACE_END> <KEEP> string <KEEP_END> <REPLACE_OLD> [ ] hostname <REPLACE_NEW> > lookup <REPLACE_END> <KEEP> = new <KEEP_END> <INSERT> future task < <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> [ ] { null } ; final atomic boolean done = new atomic boolean ( false ) ; thread thread = new thread <REPLACE_NEW> > <REPLACE_END> <KEEP> ( new <KEEP_END> <REPLACE_OLD> runnable <REPLACE_NEW> callable < string > <REPLACE_END> <KEEP> ( ) { public <KEEP_END> <REPLACE_OLD> void run <REPLACE_NEW> string call <REPLACE_END> <KEEP> ( ) { <KEEP_END> <REPLACE_OLD> hostname [ num ] = <REPLACE_NEW> return <REPLACE_END> <KEEP> remote . get canonical host name ( ) ; <KEEP_END> <REPLACE_OLD> done <REPLACE_NEW> } } ) ; dns _ lookup . execute ( lookup ) ; try { return lookup <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> and set <REPLACE_NEW> ( dns _ timeout , time unit . milliseconds ) ; } catch ( exception e ) { return null ; } finally { lookup . cancel <REPLACE_END> <KEEP> ( true ) ; <KEEP_END> <DELETE> synchronized ( done ) { done . notify all ( ) ; <DELETE_END> <KEEP> } } <KEEP_END> <DELETE> } ) ; thread . run ( ) ; long end time = system . current time millis ( ) + dns _ timeout ; while ( system . current time millis ( ) < end time & & ! done . get ( ) ) { try { synchronized ( done ) { done . wait ( end time - system . current time millis ( ) ) ; } } catch ( interrupted exception e ) { } } return hostname [ num ] ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "string", "get", "hostname", "(", "final", "inet", "address", "remote", ")", "<KEEP_END>", "<INSERT>", "throws", "firewall", "exception", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "future", "task", "<", "<REPLACE_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "hostname", "<REPLACE_NEW>", ">", "lookup", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<INSERT>", "future", "task", "<", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "{", "null", "}", ";", "final", "atomic", "boolean", "done", "=", "new", "atomic", "boolean", "(", "false", ")", ";", "thread", "thread", "=", "new", "thread", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "(", "new", "<KEEP_END>", "<REPLACE_OLD>", "runnable", "<REPLACE_NEW>", "callable", "<", "string", ">", "<REPLACE_END>", "<KEEP>", "(", ")", "{", "public", "<KEEP_END>", "<REPLACE_OLD>", "void", "run", "<REPLACE_NEW>", "string", "call", "<REPLACE_END>", "<KEEP>", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hostname", "[", "num", "]", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "remote", ".", "get", "canonical", "host", "name", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "done", "<REPLACE_NEW>", "}", "}", ")", ";", "dns", "_", "lookup", ".", "execute", "(", "lookup", ")", ";", "try", "{", "return", "lookup", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "and", "set", "<REPLACE_NEW>", "(", "dns", "_", "timeout", ",", "time", "unit", ".", "milliseconds", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "null", ";", "}", "finally", "{", "lookup", ".", "cancel", "<REPLACE_END>", "<KEEP>", "(", "true", ")", ";", "<KEEP_END>", "<DELETE>", "synchronized", "(", "done", ")", "{", "done", ".", "notify", "all", "(", ")", ";", "<DELETE_END>", "<KEEP>", "}", "}", "<KEEP_END>", "<DELETE>", "}", ")", ";", "thread", ".", "run", "(", ")", ";", "long", "end", "time", "=", "system", ".", "current", "time", "millis", "(", ")", "+", "dns", "_", "timeout", ";", "while", "(", "system", ".", "current", "time", "millis", "(", ")", "<", "end", "time", "&", "&", "!", "done", ".", "get", "(", ")", ")", "{", "try", "{", "synchronized", "(", "done", ")", "{", "done", ".", "wait", "(", "end", "time", "-", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "}", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "}", "return", "hostname", "[", "num", "]", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> or <REPLACE_NEW> , <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> find <INSERT_NEW_KEEP_BEFORE> find or otherwise fails <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "or", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "find", "<INSERT_NEW_KEEP_BEFORE>", "find", "or", "otherwise", "fails", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "hostname", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "inet", "<KEEP>", "address", "<KEEP>", "remote", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "firewall", "<INSERT>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "future", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "<", "<KEEP>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "hostname", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "lookup", "<KEEP>", "=", "<KEEP>", "new", "<INSERT>", "future", "<INSERT>", "task", "<INSERT>", "<", "<KEEP>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "done", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "thread", "<REPLACE_OLD>", "thread", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "thread", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", "new", "<REPLACE_OLD>", "runnable", "<REPLACE_NEW>", "callable", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "run", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "call", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hostname", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "remote", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "canonical", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "done", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "dns", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "lookup", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "execute", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "lookup", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "lookup", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "dns", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "timeout", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "unit", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "milliseconds", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "finally", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "lookup", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "cancel", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "synchronized", "<DELETE>", "(", "<DELETE>", "done", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "done", "<DELETE>", ".", "<DELETE>", "notify", "<DELETE>", "all", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "thread", "<DELETE>", ".", "<DELETE>", "run", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "long", "<DELETE>", "end", "<DELETE>", "time", "<DELETE>", "=", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "current", "<DELETE>", "time", "<DELETE>", "millis", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "dns", "<DELETE>", "_", "<DELETE>", "timeout", "<DELETE>", ";", "<DELETE>", "while", "<DELETE>", "(", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "current", "<DELETE>", "time", "<DELETE>", "millis", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "<", "<DELETE>", "end", "<DELETE>", "time", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "!", "<DELETE>", "done", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "synchronized", "<DELETE>", "(", "<DELETE>", "done", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "done", "<DELETE>", ".", "<DELETE>", "wait", "<DELETE>", "(", "<DELETE>", "end", "<DELETE>", "time", "<DELETE>", "-", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "current", "<DELETE>", "time", "<DELETE>", "millis", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "interrupted", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "hostname", "<DELETE>", "[", "<DELETE>", "num", "<DELETE>", "]", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_config-file-provider-plugin-1-7169", "old_comment": "a list of temp files", "old_comment_tokens": ["a", "list", "of", "temp", "files"], "new_comment": "a list of paths to the temp files ( remotes )", "new_comment_tokens": ["a", "list", "of", "paths", "to", "the", "temp", "files", "(", "remotes", ")"], "old_code": "public list < file path > get temp files ( ) { list < file path > temp files = new array list < file path > ( ) ; for ( entry < managed file , file path > entry : file2 path . entry set ( ) ) { boolean no target given = string utils . is blank ( entry . get key ( ) . target location ) ; if ( no target given ) { temp files . add ( entry . get value ( ) ) ; } } return temp files ; }", "old_code_tokens": ["public", "list", "<", "file", "path", ">", "get", "temp", "files", "(", ")", "{", "list", "<", "file", "path", ">", "temp", "files", "=", "new", "array", "list", "<", "file", "path", ">", "(", ")", ";", "for", "(", "entry", "<", "managed", "file", ",", "file", "path", ">", "entry", ":", "file2", "path", ".", "entry", "set", "(", ")", ")", "{", "boolean", "no", "target", "given", "=", "string", "utils", ".", "is", "blank", "(", "entry", ".", "get", "key", "(", ")", ".", "target", "location", ")", ";", "if", "(", "no", "target", "given", ")", "{", "temp", "files", ".", "add", "(", "entry", ".", "get", "value", "(", ")", ")", ";", "}", "}", "return", "temp", "files", ";", "}"], "new_code": "list < string > get temp files ( ) { list < string > temp files = new array list < string > ( ) ; for ( entry < managed file , file path > entry : file2 path . entry set ( ) ) { boolean no target given = string utils . is blank ( entry . get key ( ) . target location ) ; if ( no target given ) { temp files . add ( entry . get value ( ) . get remote ( ) ) ; } } return temp files ; }", "new_code_tokens": ["list", "<", "string", ">", "get", "temp", "files", "(", ")", "{", "list", "<", "string", ">", "temp", "files", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "for", "(", "entry", "<", "managed", "file", ",", "file", "path", ">", "entry", ":", "file2", "path", ".", "entry", "set", "(", ")", ")", "{", "boolean", "no", "target", "given", "=", "string", "utils", ".", "is", "blank", "(", "entry", ".", "get", "key", "(", ")", ".", "target", "location", ")", ";", "if", "(", "no", "target", "given", ")", "{", "temp", "files", ".", "add", "(", "entry", ".", "get", "value", "(", ")", ".", "get", "remote", "(", ")", ")", ";", "}", "}", "return", "temp", "files", ";", "}"], "span_diff_code": "<DELETE> public <DELETE_END> <KEEP> list < <KEEP_END> <REPLACE_OLD> file path <REPLACE_NEW> string <REPLACE_END> <KEEP> > get temp files ( ) { list < <KEEP_END> <REPLACE_OLD> file path <REPLACE_NEW> string <REPLACE_END> <KEEP> > temp files = new array list < <KEEP_END> <REPLACE_OLD> file path <REPLACE_NEW> string <REPLACE_END> <KEEP> > ( ) ; for ( entry < managed file , file path > entry : file2 path . entry set ( ) ) { boolean no target given = string utils . is blank ( entry . get key ( ) . target location ) ; if ( no target given ) { temp files . add ( entry . get value ( ) <KEEP_END> <INSERT> . get remote ( ) <INSERT_END> <KEEP> ) ; } } return temp files ; } <KEEP_END>", "span_diff_code_tokens": ["<DELETE>", "public", "<DELETE_END>", "<KEEP>", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "file", "path", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", ">", "get", "temp", "files", "(", ")", "{", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "file", "path", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", ">", "temp", "files", "=", "new", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "file", "path", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "for", "(", "entry", "<", "managed", "file", ",", "file", "path", ">", "entry", ":", "file2", "path", ".", "entry", "set", "(", ")", ")", "{", "boolean", "no", "target", "given", "=", "string", "utils", ".", "is", "blank", "(", "entry", ".", "get", "key", "(", ")", ".", "target", "location", ")", ";", "if", "(", "no", "target", "given", ")", "{", "temp", "files", ".", "add", "(", "entry", ".", "get", "value", "(", ")", "<KEEP_END>", "<INSERT>", ".", "get", "remote", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "}", "return", "temp", "files", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> of <INSERT_NEW_KEEP_BEFORE> of paths to the <INSERT_END> <INSERT_OLD_KEEP_BEFORE> files <INSERT_NEW_KEEP_BEFORE> files ( remotes ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "of", "<INSERT_NEW_KEEP_BEFORE>", "of", "paths", "to", "the", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "files", "<INSERT_NEW_KEEP_BEFORE>", "files", "(", "remotes", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<DELETE>", "public", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "temp", "<KEEP>", "files", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "string", "<KEEP>", ">", "<KEEP>", "temp", "<KEEP>", "files", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "managed", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ">", "<KEEP>", "entry", "<KEEP>", ":", "<KEEP>", "file2", "<KEEP>", "path", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "boolean", "<KEEP>", "no", "<KEEP>", "target", "<KEEP>", "given", "<KEEP>", "=", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "blank", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "target", "<KEEP>", "location", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "no", "<KEEP>", "target", "<KEEP>", "given", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "temp", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "remote", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "temp", "<KEEP>", "files", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "galderz_rhq-9-3971", "old_comment": "the failover list composite assigned to it by the server", "old_comment_tokens": ["the", "failover", "list", "composite", "assigned", "to", "it", "by", "the", "server"], "new_comment": "the failover list composite assigned to it by the server ( will not be null but may be empty )", "new_comment_tokens": ["the", "failover", "list", "composite", "assigned", "to", "it", "by", "the", "server", "(", "will", "not", "be", "null", "but", "may", "be", "empty", ")"], "old_code": "public failover list composite get failover list ( ) { return failover list ; }", "old_code_tokens": ["public", "failover", "list", "composite", "get", "failover", "list", "(", ")", "{", "return", "failover", "list", ";", "}"], "new_code": "public failover list composite get failover list ( ) { return failover list ! = null ? failover list : new failover list composite ( new array list < server entry > ( ) ) ; }", "new_code_tokens": ["public", "failover", "list", "composite", "get", "failover", "list", "(", ")", "{", "return", "failover", "list", "!", "=", "null", "?", "failover", "list", ":", "new", "failover", "list", "composite", "(", "new", "array", "list", "<", "server", "entry", ">", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public failover list composite get failover list ( ) { return failover list <KEEP_END> <INSERT> ! = null ? failover list : new failover list composite ( new array list < server entry > ( ) ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "failover", "list", "composite", "get", "failover", "list", "(", ")", "{", "return", "failover", "list", "<KEEP_END>", "<INSERT>", "!", "=", "null", "?", "failover", "list", ":", "new", "failover", "list", "composite", "(", "new", "array", "list", "<", "server", "entry", ">", "(", ")", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> server <INSERT_NEW_KEEP_BEFORE> server ( will not be null but may be empty ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "server", "<INSERT_NEW_KEEP_BEFORE>", "server", "(", "will", "not", "be", "null", "but", "may", "be", "empty", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "failover", "<KEEP>", "list", "<KEEP>", "composite", "<KEEP>", "get", "<KEEP>", "failover", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "failover", "<KEEP>", "list", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "failover", "<INSERT>", "list", "<INSERT>", ":", "<INSERT>", "new", "<INSERT>", "failover", "<INSERT>", "list", "<INSERT>", "composite", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "server", "<INSERT>", "entry", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-171-5908", "old_comment": "true if the edit - value is longer then ta _ length chars", "old_comment_tokens": ["true", "if", "the", "edit", "-", "value", "is", "longer", "then", "ta", "_", "length", "chars"], "new_comment": "true if the edit - value is longer then ta _ length chars or has a line break", "new_comment_tokens": ["true", "if", "the", "edit", "-", "value", "is", "longer", "then", "ta", "_", "length", "chars", "or", "has", "a", "line", "break"], "old_code": "public boolean is ta ( ) { return cur edit _ str _ value . length ( ) > ta _ length ; }", "old_code_tokens": ["public", "boolean", "is", "ta", "(", ")", "{", "return", "cur", "edit", "_", "str", "_", "value", ".", "length", "(", ")", ">", "ta", "_", "length", ";", "}"], "new_code": "public boolean is ta ( ) { return cur edit _ str _ value . length ( ) > ta _ length | | cur edit _ str _ value . index of ( str ) > num ; }", "new_code_tokens": ["public", "boolean", "is", "ta", "(", ")", "{", "return", "cur", "edit", "_", "str", "_", "value", ".", "length", "(", ")", ">", "ta", "_", "length", "|", "|", "cur", "edit", "_", "str", "_", "value", ".", "index", "of", "(", "str", ")", ">", "num", ";", "}"], "span_diff_code": "<KEEP> public boolean is ta ( ) { return cur edit _ str _ value . length ( ) > ta _ length <KEEP_END> <INSERT> | | cur edit _ str _ value . index of ( str ) > num <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "ta", "(", ")", "{", "return", "cur", "edit", "_", "str", "_", "value", ".", "length", "(", ")", ">", "ta", "_", "length", "<KEEP_END>", "<INSERT>", "|", "|", "cur", "edit", "_", "str", "_", "value", ".", "index", "of", "(", "str", ")", ">", "num", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> chars <INSERT_NEW_KEEP_BEFORE> chars or has a line break <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "chars", "<INSERT_NEW_KEEP_BEFORE>", "chars", "or", "has", "a", "line", "break", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "ta", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "cur", "<KEEP>", "edit", "<KEEP>", "_", "<KEEP>", "str", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "ta", "<KEEP>", "_", "<KEEP>", "length", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "cur", "<INSERT>", "edit", "<INSERT>", "_", "<INSERT>", "str", "<INSERT>", "_", "<INSERT>", "value", "<INSERT>", ".", "<INSERT>", "index", "<INSERT>", "of", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ">", "<INSERT>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "boundary_boundary-camel-components-1-4884", "old_comment": "ping info", "old_comment_tokens": ["ping", "info"], "new_comment": "ping result", "new_comment_tokens": ["ping", "result"], "old_code": "public ping info perform check ( ping configuration configuration ) { ping info info = client . ping ( configuration ) ; set ping info ( info , configuration , client ) ; return info ; }", "old_code_tokens": ["public", "ping", "info", "perform", "check", "(", "ping", "configuration", "configuration", ")", "{", "ping", "info", "info", "=", "client", ".", "ping", "(", "configuration", ")", ";", "set", "ping", "info", "(", "info", ",", "configuration", ",", "client", ")", ";", "return", "info", ";", "}"], "new_code": "public ping result perform check ( ping configuration configuration ) { ping result info = client . ping ( configuration ) ; set ping info ( info , configuration , client ) ; return info ; }", "new_code_tokens": ["public", "ping", "result", "perform", "check", "(", "ping", "configuration", "configuration", ")", "{", "ping", "result", "info", "=", "client", ".", "ping", "(", "configuration", ")", ";", "set", "ping", "info", "(", "info", ",", "configuration", ",", "client", ")", ";", "return", "info", ";", "}"], "span_diff_code": "<KEEP> public ping <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END> <KEEP> perform check ( ping configuration configuration ) { ping <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END> <KEEP> info = client . ping ( configuration ) ; set ping info ( info , configuration , client ) ; return info ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "ping", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", "perform", "check", "(", "ping", "configuration", "configuration", ")", "{", "ping", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", "info", "=", "client", ".", "ping", "(", "configuration", ")", ";", "set", "ping", "info", "(", "info", ",", "configuration", ",", "client", ")", ";", "return", "info", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> info <REPLACE_NEW> result <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "ping", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<KEEP>", "perform", "<KEEP>", "check", "<KEEP>", "(", "<KEEP>", "ping", "<KEEP>", "configuration", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ping", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "result", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "ping", "<KEEP>", "(", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "set", "<KEEP>", "ping", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "configuration", "<KEEP>", ",", "<KEEP>", "client", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "info", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RobotiumTech_robotium-65-3691", "old_comment": "an array list of the view objects located in the current activity", "old_comment_tokens": ["an", "array", "list", "of", "the", "view", "objects", "located", "in", "the", "current", "activity"], "new_comment": "an array list of the view objects located in the focused window", "new_comment_tokens": ["an", "array", "list", "of", "the", "view", "objects", "located", "in", "the", "focused", "window"], "old_code": "public array list < view > get views ( ) { try { return view fetcher . get views ( null ) ; } catch ( exception e ) { e . print stack trace ( ) ; return null ; } }", "old_code_tokens": ["public", "array", "list", "<", "view", ">", "get", "views", "(", ")", "{", "try", "{", "return", "view", "fetcher", ".", "get", "views", "(", "null", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "return", "null", ";", "}", "}"], "new_code": "public array list < view > get views ( ) { try { return view fetcher . get views ( null , false ) ; } catch ( exception e ) { e . print stack trace ( ) ; return null ; } }", "new_code_tokens": ["public", "array", "list", "<", "view", ">", "get", "views", "(", ")", "{", "try", "{", "return", "view", "fetcher", ".", "get", "views", "(", "null", ",", "false", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public array list < view > get views ( ) { try { return view fetcher . get views ( null <KEEP_END> <INSERT> , false <INSERT_END> <KEEP> ) ; } catch ( exception e ) { e . print stack trace ( ) ; return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "array", "list", "<", "view", ">", "get", "views", "(", ")", "{", "try", "{", "return", "view", "fetcher", ".", "get", "views", "(", "null", "<KEEP_END>", "<INSERT>", ",", "false", "<INSERT_END>", "<KEEP>", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> current activity <REPLACE_NEW> focused window <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "current", "activity", "<REPLACE_NEW>", "focused", "window", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "view", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "views", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "view", "<KEEP>", "fetcher", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "views", "<KEEP>", "(", "<KEEP>", "null", "<INSERT>", ",", "<INSERT>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "zaproxy_zaproxy-1-927", "old_comment": "true if it depends on the given add - on , false otherwise .", "old_comment_tokens": ["true", "if", "it", "depends", "on", "the", "given", "add", "-", "on", ",", "false", "otherwise", "."], "new_comment": "true if it depends on any of the given add - ons , false otherwise .", "new_comment_tokens": ["true", "if", "it", "depends", "on", "any", "of", "the", "given", "add", "-", "ons", ",", "false", "otherwise", "."], "old_code": "public boolean depends on ( add on add on ) { if ( dependencies = = null | | dependencies . get add ons ( ) . is empty ( ) ) { return false ; } return depends on ( dependencies . get add ons ( ) , add on ) ; }", "old_code_tokens": ["public", "boolean", "depends", "on", "(", "add", "on", "add", "on", ")", "{", "if", "(", "dependencies", "=", "=", "null", "|", "|", "dependencies", ".", "get", "add", "ons", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "return", "depends", "on", "(", "dependencies", ".", "get", "add", "ons", "(", ")", ",", "add", "on", ")", ";", "}"], "new_code": "public boolean depends on ( collection < add on > add ons ) { if ( dependencies = = null | | dependencies . get add ons ( ) . is empty ( ) ) { return false ; } for ( add on add on : add ons ) { if ( depends on ( add on ) ) { return true ; } } return false ; }", "new_code_tokens": ["public", "boolean", "depends", "on", "(", "collection", "<", "add", "on", ">", "add", "ons", ")", "{", "if", "(", "dependencies", "=", "=", "null", "|", "|", "dependencies", ".", "get", "add", "ons", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "for", "(", "add", "on", "add", "on", ":", "add", "ons", ")", "{", "if", "(", "depends", "on", "(", "add", "on", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public boolean depends on ( <KEEP_END> <INSERT> collection < <INSERT_END> <KEEP> add on <KEEP_END> <INSERT> > <INSERT_END> <KEEP> add <KEEP_END> <REPLACE_OLD> on <REPLACE_NEW> ons <REPLACE_END> <KEEP> ) { if ( dependencies = = null | | dependencies . get add ons ( ) . is empty ( ) ) { return false ; } <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> for ( add on add on : add ons ) { if ( <REPLACE_END> <KEEP> depends on ( <KEEP_END> <DELETE> dependencies . get add ons ( ) , <DELETE_END> <KEEP> add on ) <KEEP_END> <INSERT> ) { return true <INSERT_END> <KEEP> ; } <KEEP_END> <INSERT> } return false ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "depends", "on", "(", "<KEEP_END>", "<INSERT>", "collection", "<", "<INSERT_END>", "<KEEP>", "add", "on", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "add", "<KEEP_END>", "<REPLACE_OLD>", "on", "<REPLACE_NEW>", "ons", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "dependencies", "=", "=", "null", "|", "|", "dependencies", ".", "get", "add", "ons", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "for", "(", "add", "on", "add", "on", ":", "add", "ons", ")", "{", "if", "(", "<REPLACE_END>", "<KEEP>", "depends", "on", "(", "<KEEP_END>", "<DELETE>", "dependencies", ".", "get", "add", "ons", "(", ")", ",", "<DELETE_END>", "<KEEP>", "add", "on", ")", "<KEEP_END>", "<INSERT>", ")", "{", "return", "true", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "}", "return", "false", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> depends on <INSERT_NEW_KEEP_BEFORE> depends on any of <INSERT_END> <REPLACE_OLD_KEEP_BEFORE> - on <REPLACE_NEW_KEEP_BEFORE> - ons <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "depends", "on", "<INSERT_NEW_KEEP_BEFORE>", "depends", "on", "any", "of", "<INSERT_END>", "<REPLACE_OLD_KEEP_BEFORE>", "-", "on", "<REPLACE_NEW_KEEP_BEFORE>", "-", "ons", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "depends", "<KEEP>", "on", "<KEEP>", "(", "<INSERT>", "collection", "<INSERT>", "<", "<KEEP>", "add", "<KEEP>", "on", "<INSERT>", ">", "<KEEP>", "add", "<REPLACE_OLD>", "on", "<REPLACE_NEW>", "ons", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "dependencies", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "dependencies", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "add", "<KEEP>", "ons", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "on", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "on", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "ons", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "depends", "<KEEP>", "on", "<KEEP>", "(", "<DELETE>", "dependencies", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "add", "<DELETE>", "ons", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<KEEP>", "add", "<KEEP>", "on", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "true", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "egonw_pathvisio-89-4695", "old_comment": "a data instance that contains the cached data", "old_comment_tokens": ["a", "data", "instance", "that", "contains", "the", "cached", "data"], "new_comment": "a reporter data instance that contains the cached data", "new_comment_tokens": ["a", "reporter", "data", "instance", "that", "contains", "the", "cached", "data"], "old_code": "public data get single data ( xref idc ) { list < data > dlist = data . get ( idc ) ; if ( dlist ! = null & & dlist . size ( ) > num ) return dlist . get ( num ) ; return null ; }", "old_code_tokens": ["public", "data", "get", "single", "data", "(", "xref", "idc", ")", "{", "list", "<", "data", ">", "dlist", "=", "data", ".", "get", "(", "idc", ")", ";", "if", "(", "dlist", "!", "=", "null", "&", "&", "dlist", ".", "size", "(", ")", ">", "num", ")", "return", "dlist", ".", "get", "(", "num", ")", ";", "return", "null", ";", "}"], "new_code": "public reporter data get single data ( xref idc ) { list < reporter data > dlist = data . get ( idc ) ; if ( dlist ! = null & & dlist . size ( ) > num ) return dlist . get ( num ) ; return null ; }", "new_code_tokens": ["public", "reporter", "data", "get", "single", "data", "(", "xref", "idc", ")", "{", "list", "<", "reporter", "data", ">", "dlist", "=", "data", ".", "get", "(", "idc", ")", ";", "if", "(", "dlist", "!", "=", "null", "&", "&", "dlist", ".", "size", "(", ")", ">", "num", ")", "return", "dlist", ".", "get", "(", "num", ")", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> reporter <INSERT_END> <KEEP> data get single data ( xref idc ) { list < <KEEP_END> <INSERT> reporter <INSERT_END> <KEEP> data > dlist = data . get ( idc ) ; if ( dlist ! = null & & dlist . size ( ) > num ) return dlist . get ( num ) ; return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "reporter", "<INSERT_END>", "<KEEP>", "data", "get", "single", "data", "(", "xref", "idc", ")", "{", "list", "<", "<KEEP_END>", "<INSERT>", "reporter", "<INSERT_END>", "<KEEP>", "data", ">", "dlist", "=", "data", ".", "get", "(", "idc", ")", ";", "if", "(", "dlist", "!", "=", "null", "&", "&", "dlist", ".", "size", "(", ")", ">", "num", ")", "return", "dlist", ".", "get", "(", "num", ")", ";", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a reporter <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "reporter", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "reporter", "<KEEP>", "data", "<KEEP>", "get", "<KEEP>", "single", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "xref", "<KEEP>", "idc", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<INSERT>", "reporter", "<KEEP>", "data", "<KEEP>", ">", "<KEEP>", "dlist", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "idc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "dlist", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "dlist", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "dlist", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-67-5336", "old_comment": "current estimated rotation we are at", "old_comment_tokens": ["current", "estimated", "rotation", "we", "are", "at"], "new_comment": "estimated rotation of where we are at in angles .", "new_comment_tokens": ["estimated", "rotation", "of", "where", "we", "are", "at", "in", "angles", "."], "old_code": "public int get estimated rotation ( ) { if ( ! is rotating ( ) ) { return get rotation ( ) ; } else { double time spent = ( system . current time millis ( ) - starting time ) / num ; int pos = current starting point + ( int ) ( current velocity * time spent ) ; double angle = ( double ) ( pos ) / settings . get handler rotation ( ) * num ; return ( int ) ( math . round ( angle ) ) % num ; } }", "old_code_tokens": ["public", "int", "get", "estimated", "rotation", "(", ")", "{", "if", "(", "!", "is", "rotating", "(", ")", ")", "{", "return", "get", "rotation", "(", ")", ";", "}", "else", "{", "double", "time", "spent", "=", "(", "system", ".", "current", "time", "millis", "(", ")", "-", "starting", "time", ")", "/", "num", ";", "int", "pos", "=", "current", "starting", "point", "+", "(", "int", ")", "(", "current", "velocity", "*", "time", "spent", ")", ";", "double", "angle", "=", "(", "double", ")", "(", "pos", ")", "/", "settings", ".", "get", "handler", "rotation", "(", ")", "*", "num", ";", "return", "(", "int", ")", "(", "math", ".", "round", "(", "angle", ")", ")", "%", "num", ";", "}", "}"], "new_code": "public int get estimated rotation ( ) { if ( ! is rotating ( ) ) { return get rotation ( ) ; } double time spent = ( system . current time millis ( ) - estimated rotation start time ) / num ; int rotation = estimated rotation start + ( int ) ( current velocity * time spent ) ; if ( ( estimated rotation start < estimated rotation end ) ! = ( estimated rotation start < rotation ) ) { rotation = estimated rotation end ; } double angle = ( double ) ( rotation ) / settings . get handler rotation ( ) * num ; return ( int ) ( math . round ( angle ) ) % num ; }", "new_code_tokens": ["public", "int", "get", "estimated", "rotation", "(", ")", "{", "if", "(", "!", "is", "rotating", "(", ")", ")", "{", "return", "get", "rotation", "(", ")", ";", "}", "double", "time", "spent", "=", "(", "system", ".", "current", "time", "millis", "(", ")", "-", "estimated", "rotation", "start", "time", ")", "/", "num", ";", "int", "rotation", "=", "estimated", "rotation", "start", "+", "(", "int", ")", "(", "current", "velocity", "*", "time", "spent", ")", ";", "if", "(", "(", "estimated", "rotation", "start", "<", "estimated", "rotation", "end", ")", "!", "=", "(", "estimated", "rotation", "start", "<", "rotation", ")", ")", "{", "rotation", "=", "estimated", "rotation", "end", ";", "}", "double", "angle", "=", "(", "double", ")", "(", "rotation", ")", "/", "settings", ".", "get", "handler", "rotation", "(", ")", "*", "num", ";", "return", "(", "int", ")", "(", "math", ".", "round", "(", "angle", ")", ")", "%", "num", ";", "}"], "span_diff_code": "<KEEP> public int get estimated rotation ( ) { if ( ! is rotating ( ) ) { return get rotation ( ) ; } <KEEP_END> <DELETE> else { <DELETE_END> <KEEP> double time spent = ( system . current time millis ( ) - <KEEP_END> <REPLACE_OLD> starting <REPLACE_NEW> estimated rotation start <REPLACE_END> <KEEP> time ) / num ; int <KEEP_END> <REPLACE_OLD> pos <REPLACE_NEW> rotation <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> current starting point <REPLACE_NEW> estimated rotation start <REPLACE_END> <KEEP> + ( int ) ( current velocity * time spent ) ; <KEEP_END> <INSERT> if ( ( estimated rotation start < estimated rotation end ) ! = ( estimated rotation start < rotation ) ) { rotation = estimated rotation end ; } <INSERT_END> <KEEP> double angle = ( double ) ( <KEEP_END> <REPLACE_OLD> pos <REPLACE_NEW> rotation <REPLACE_END> <KEEP> ) / settings . get handler rotation ( ) * num ; return ( int ) ( math . round ( angle ) ) % num ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "estimated", "rotation", "(", ")", "{", "if", "(", "!", "is", "rotating", "(", ")", ")", "{", "return", "get", "rotation", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "else", "{", "<DELETE_END>", "<KEEP>", "double", "time", "spent", "=", "(", "system", ".", "current", "time", "millis", "(", ")", "-", "<KEEP_END>", "<REPLACE_OLD>", "starting", "<REPLACE_NEW>", "estimated", "rotation", "start", "<REPLACE_END>", "<KEEP>", "time", ")", "/", "num", ";", "int", "<KEEP_END>", "<REPLACE_OLD>", "pos", "<REPLACE_NEW>", "rotation", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "current", "starting", "point", "<REPLACE_NEW>", "estimated", "rotation", "start", "<REPLACE_END>", "<KEEP>", "+", "(", "int", ")", "(", "current", "velocity", "*", "time", "spent", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "(", "estimated", "rotation", "start", "<", "estimated", "rotation", "end", ")", "!", "=", "(", "estimated", "rotation", "start", "<", "rotation", ")", ")", "{", "rotation", "=", "estimated", "rotation", "end", ";", "}", "<INSERT_END>", "<KEEP>", "double", "angle", "=", "(", "double", ")", "(", "<KEEP_END>", "<REPLACE_OLD>", "pos", "<REPLACE_NEW>", "rotation", "<REPLACE_END>", "<KEEP>", ")", "/", "settings", ".", "get", "handler", "rotation", "(", ")", "*", "num", ";", "return", "(", "int", ")", "(", "math", ".", "round", "(", "angle", ")", ")", "%", "num", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> current <DELETE_END> <INSERT_OLD_KEEP_BEFORE> rotation <INSERT_NEW_KEEP_BEFORE> rotation of where <INSERT_END> <INSERT_OLD_KEEP_BEFORE> at <INSERT_NEW_KEEP_BEFORE> at in angles . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "current", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "rotation", "<INSERT_NEW_KEEP_BEFORE>", "rotation", "of", "where", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "at", "<INSERT_NEW_KEEP_BEFORE>", "at", "in", "angles", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "estimated", "<KEEP>", "rotation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "is", "<KEEP>", "rotating", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "rotation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "double", "<KEEP>", "time", "<KEEP>", "spent", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<REPLACE_OLD>", "starting", "<REPLACE_NEW>", "estimated", "<REPLACE_NEW>", "rotation", "<REPLACE_NEW>", "start", "<KEEP>", "time", "<KEEP>", ")", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "int", "<REPLACE_OLD>", "pos", "<REPLACE_NEW>", "rotation", "<KEEP>", "=", "<REPLACE_OLD>", "current", "<REPLACE_OLD>", "starting", "<REPLACE_OLD>", "point", "<REPLACE_NEW>", "estimated", "<REPLACE_NEW>", "rotation", "<REPLACE_NEW>", "start", "<KEEP>", "+", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "velocity", "<KEEP>", "*", "<KEEP>", "time", "<KEEP>", "spent", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "estimated", "<INSERT>", "rotation", "<INSERT>", "start", "<INSERT>", "<", "<INSERT>", "estimated", "<INSERT>", "rotation", "<INSERT>", "end", "<INSERT>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "estimated", "<INSERT>", "rotation", "<INSERT>", "start", "<INSERT>", "<", "<INSERT>", "rotation", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "rotation", "<INSERT>", "=", "<INSERT>", "estimated", "<INSERT>", "rotation", "<INSERT>", "end", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "double", "<KEEP>", "angle", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", ")", "<KEEP>", "(", "<REPLACE_OLD>", "pos", "<REPLACE_NEW>", "rotation", "<KEEP>", ")", "<KEEP>", "/", "<KEEP>", "settings", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "handler", "<KEEP>", "rotation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "round", "<KEEP>", "(", "<KEEP>", "angle", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "%", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_squidb-11-5485", "old_comment": "a criterion that evaluates the raw selection and selection args", "old_comment_tokens": ["a", "criterion", "that", "evaluates", "the", "raw", "selection", "and", "selection", "args"], "new_comment": "a criterion that evaluates the raw selection and selection args . if the selection string is empty , this will return null .", "new_comment_tokens": ["a", "criterion", "that", "evaluates", "the", "raw", "selection", "and", "selection", "args", ".", "if", "the", "selection", "string", "is", "empty", ",", "this", "will", "return", "null", "."], "old_code": "public static criterion from raw selection ( final string selection , final string [ ] selection args ) { if ( text utils . is empty ( selection ) ) { return criterion . all ; } return new criterion ( null ) { @ override protected void populate ( sql builder builder , boolean for sql validation ) { builder . sql . append ( selection ) ; if ( selection args ! = null & & selection args . length > num ) { if ( builder . args = = null ) { throw new unsupported operation exception ( str + str ) ; } collections . add all ( builder . args , selection args ) ; } } } ; }", "old_code_tokens": ["public", "static", "criterion", "from", "raw", "selection", "(", "final", "string", "selection", ",", "final", "string", "[", "]", "selection", "args", ")", "{", "if", "(", "text", "utils", ".", "is", "empty", "(", "selection", ")", ")", "{", "return", "criterion", ".", "all", ";", "}", "return", "new", "criterion", "(", "null", ")", "{", "@", "override", "protected", "void", "populate", "(", "sql", "builder", "builder", ",", "boolean", "for", "sql", "validation", ")", "{", "builder", ".", "sql", ".", "append", "(", "selection", ")", ";", "if", "(", "selection", "args", "!", "=", "null", "&", "&", "selection", "args", ".", "length", ">", "num", ")", "{", "if", "(", "builder", ".", "args", "=", "=", "null", ")", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", "+", "str", ")", ";", "}", "collections", ".", "add", "all", "(", "builder", ".", "args", ",", "selection", "args", ")", ";", "}", "}", "}", ";", "}"], "new_code": "public static criterion from raw selection ( final string selection , final string [ ] selection args ) { if ( text utils . is empty ( selection ) ) { return null ; } return new criterion ( null ) { @ override protected void populate ( sql builder builder , boolean for sql validation ) { builder . sql . append ( selection ) ; if ( selection args ! = null & & selection args . length > num ) { if ( builder . args = = null ) { throw new unsupported operation exception ( str + str ) ; } collections . add all ( builder . args , selection args ) ; } } } ; }", "new_code_tokens": ["public", "static", "criterion", "from", "raw", "selection", "(", "final", "string", "selection", ",", "final", "string", "[", "]", "selection", "args", ")", "{", "if", "(", "text", "utils", ".", "is", "empty", "(", "selection", ")", ")", "{", "return", "null", ";", "}", "return", "new", "criterion", "(", "null", ")", "{", "@", "override", "protected", "void", "populate", "(", "sql", "builder", "builder", ",", "boolean", "for", "sql", "validation", ")", "{", "builder", ".", "sql", ".", "append", "(", "selection", ")", ";", "if", "(", "selection", "args", "!", "=", "null", "&", "&", "selection", "args", ".", "length", ">", "num", ")", "{", "if", "(", "builder", ".", "args", "=", "=", "null", ")", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", "+", "str", ")", ";", "}", "collections", ".", "add", "all", "(", "builder", ".", "args", ",", "selection", "args", ")", ";", "}", "}", "}", ";", "}"], "span_diff_code": "<KEEP> public static criterion from raw selection ( final string selection , final string [ ] selection args ) { if ( text utils . is empty ( selection ) ) { return <KEEP_END> <REPLACE_OLD> criterion . all <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } return new criterion ( null ) { @ override protected void populate ( sql builder builder , boolean for sql validation ) { builder . sql . append ( selection ) ; if ( selection args ! = null & & selection args . length > num ) { if ( builder . args = = null ) { throw new unsupported operation exception ( str + str ) ; } collections . add all ( builder . args , selection args ) ; } } } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "criterion", "from", "raw", "selection", "(", "final", "string", "selection", ",", "final", "string", "[", "]", "selection", "args", ")", "{", "if", "(", "text", "utils", ".", "is", "empty", "(", "selection", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "criterion", ".", "all", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "new", "criterion", "(", "null", ")", "{", "@", "override", "protected", "void", "populate", "(", "sql", "builder", "builder", ",", "boolean", "for", "sql", "validation", ")", "{", "builder", ".", "sql", ".", "append", "(", "selection", ")", ";", "if", "(", "selection", "args", "!", "=", "null", "&", "&", "selection", "args", ".", "length", ">", "num", ")", "{", "if", "(", "builder", ".", "args", "=", "=", "null", ")", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", "+", "str", ")", ";", "}", "collections", ".", "add", "all", "(", "builder", ".", "args", ",", "selection", "args", ")", ";", "}", "}", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> args <INSERT_NEW_KEEP_BEFORE> args . if the selection string is empty , this will return null . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "args", "<INSERT_NEW_KEEP_BEFORE>", "args", ".", "if", "the", "selection", "string", "is", "empty", ",", "this", "will", "return", "null", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "criterion", "<KEEP>", "from", "<KEEP>", "raw", "<KEEP>", "selection", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "selection", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "text", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "selection", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "criterion", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "criterion", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "protected", "<KEEP>", "void", "<KEEP>", "populate", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", "builder", "<KEEP>", "builder", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "for", "<KEEP>", "sql", "<KEEP>", "validation", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "sql", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "selection", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "args", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "unsupported", "<KEEP>", "operation", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "args", "<KEEP>", ",", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RobotiumTech_robotium-57-3692", "old_comment": "true if text is found and false if it is not found before the timeout", "old_comment_tokens": ["true", "if", "text", "is", "found", "and", "false", "if", "it", "is", "not", "found", "before", "the", "timeout"], "new_comment": "true if text is shown and false if it is not shown before the timeout", "new_comment_tokens": ["true", "if", "text", "is", "shown", "and", "false", "if", "it", "is", "not", "shown", "before", "the", "timeout"], "old_code": "public boolean wait for text ( string text , int expected minimum number of matches , long timeout , boolean scroll ) { return robotium utils . wait for text ( text , expected minimum number of matches , timeout , scroll ) ; }", "old_code_tokens": ["public", "boolean", "wait", "for", "text", "(", "string", "text", ",", "int", "expected", "minimum", "number", "of", "matches", ",", "long", "timeout", ",", "boolean", "scroll", ")", "{", "return", "robotium", "utils", ".", "wait", "for", "text", "(", "text", ",", "expected", "minimum", "number", "of", "matches", ",", "timeout", ",", "scroll", ")", ";", "}"], "new_code": "public boolean wait for text ( string text , int minimum number of matches , long timeout , boolean scroll ) { return robotium utils . wait for text ( text , minimum number of matches , timeout , scroll ) ; }", "new_code_tokens": ["public", "boolean", "wait", "for", "text", "(", "string", "text", ",", "int", "minimum", "number", "of", "matches", ",", "long", "timeout", ",", "boolean", "scroll", ")", "{", "return", "robotium", "utils", ".", "wait", "for", "text", "(", "text", ",", "minimum", "number", "of", "matches", ",", "timeout", ",", "scroll", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean wait for text ( string text , int <KEEP_END> <DELETE> expected <DELETE_END> <KEEP> minimum number of matches , long timeout , boolean scroll ) { return robotium utils . wait for text ( text , <KEEP_END> <DELETE> expected <DELETE_END> <KEEP> minimum number of matches , timeout , scroll ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "wait", "for", "text", "(", "string", "text", ",", "int", "<KEEP_END>", "<DELETE>", "expected", "<DELETE_END>", "<KEEP>", "minimum", "number", "of", "matches", ",", "long", "timeout", ",", "boolean", "scroll", ")", "{", "return", "robotium", "utils", ".", "wait", "for", "text", "(", "text", ",", "<KEEP_END>", "<DELETE>", "expected", "<DELETE_END>", "<KEEP>", "minimum", "number", "of", "matches", ",", "timeout", ",", "scroll", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> is found <REPLACE_NEW_KEEP_BEFORE> is shown <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> not found <REPLACE_NEW_KEEP_BEFORE> not shown <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "is", "found", "<REPLACE_NEW_KEEP_BEFORE>", "is", "shown", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "not", "found", "<REPLACE_NEW_KEEP_BEFORE>", "not", "shown", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "wait", "<KEEP>", "for", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "text", "<KEEP>", ",", "<KEEP>", "int", "<DELETE>", "expected", "<KEEP>", "minimum", "<KEEP>", "number", "<KEEP>", "of", "<KEEP>", "matches", "<KEEP>", ",", "<KEEP>", "long", "<KEEP>", "timeout", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "scroll", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "robotium", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "wait", "<KEEP>", "for", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "text", "<KEEP>", ",", "<DELETE>", "expected", "<KEEP>", "minimum", "<KEEP>", "number", "<KEEP>", "of", "<KEEP>", "matches", "<KEEP>", ",", "<KEEP>", "timeout", "<KEEP>", ",", "<KEEP>", "scroll", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "kaendfinger_pircbotx-106-5593", "old_comment": "the address of the sender as a long .", "old_comment_tokens": ["the", "address", "of", "the", "sender", "as", "a", "long", "."], "new_comment": "the address of the sender", "new_comment_tokens": ["the", "address", "of", "the", "sender"], "old_code": "public long get numerical address ( ) { return address ; }", "old_code_tokens": ["public", "long", "get", "numerical", "address", "(", ")", "{", "return", "address", ";", "}"], "new_code": "public inet address get numerical address ( ) { return address ; }", "new_code_tokens": ["public", "inet", "address", "get", "numerical", "address", "(", ")", "{", "return", "address", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> inet address <REPLACE_END> <KEEP> get numerical address ( ) { return address ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "inet", "address", "<REPLACE_END>", "<KEEP>", "get", "numerical", "address", "(", ")", "{", "return", "address", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> as a long . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "as", "a", "long", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "inet", "<REPLACE_NEW>", "address", "<KEEP>", "get", "<KEEP>", "numerical", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "address", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-15-4449", "old_comment": "true if the method has a jsecurity has role or implies annotation , false otherwise .", "old_comment_tokens": ["true", "if", "the", "method", "has", "a", "jsecurity", "has", "role", "or", "implies", "annotation", ",", "false", "otherwise", "."], "new_comment": "true if the method has a jsecurity roles required or permission required annotation , false otherwise .", "new_comment_tokens": ["true", "if", "the", "method", "has", "a", "jsecurity", "roles", "required", "or", "permission", "required", "annotation", ",", "false", "otherwise", "."], "old_code": "public boolean matches ( method method , class target class ) { return ( ( method . get annotation ( implies . class ) ! = null ) | | ( method . get annotation ( has role . class ) ! = null ) ) ; }", "old_code_tokens": ["public", "boolean", "matches", "(", "method", "method", ",", "class", "target", "class", ")", "{", "return", "(", "(", "method", ".", "get", "annotation", "(", "implies", ".", "class", ")", "!", "=", "null", ")", "|", "|", "(", "method", ".", "get", "annotation", "(", "has", "role", ".", "class", ")", "!", "=", "null", ")", ")", ";", "}"], "new_code": "public boolean matches ( method method , class target class ) { return ( ( method . get annotation ( permission required . class ) ! = null ) | | ( method . get annotation ( roles required . class ) ! = null ) ) ; }", "new_code_tokens": ["public", "boolean", "matches", "(", "method", "method", ",", "class", "target", "class", ")", "{", "return", "(", "(", "method", ".", "get", "annotation", "(", "permission", "required", ".", "class", ")", "!", "=", "null", ")", "|", "|", "(", "method", ".", "get", "annotation", "(", "roles", "required", ".", "class", ")", "!", "=", "null", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean matches ( method method , class target class ) { return ( ( method . get annotation ( <KEEP_END> <REPLACE_OLD> implies <REPLACE_NEW> permission required <REPLACE_END> <KEEP> . class ) ! = null ) | | ( method . get annotation ( <KEEP_END> <REPLACE_OLD> has role <REPLACE_NEW> roles required <REPLACE_END> <KEEP> . class ) ! = null ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "matches", "(", "method", "method", ",", "class", "target", "class", ")", "{", "return", "(", "(", "method", ".", "get", "annotation", "(", "<KEEP_END>", "<REPLACE_OLD>", "implies", "<REPLACE_NEW>", "permission", "required", "<REPLACE_END>", "<KEEP>", ".", "class", ")", "!", "=", "null", ")", "|", "|", "(", "method", ".", "get", "annotation", "(", "<KEEP_END>", "<REPLACE_OLD>", "has", "role", "<REPLACE_NEW>", "roles", "required", "<REPLACE_END>", "<KEEP>", ".", "class", ")", "!", "=", "null", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> has role <REPLACE_NEW> roles required <REPLACE_END> <REPLACE_OLD> implies <REPLACE_NEW> permission required <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "has", "role", "<REPLACE_NEW>", "roles", "required", "<REPLACE_END>", "<REPLACE_OLD>", "implies", "<REPLACE_NEW>", "permission", "required", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "method", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "(", "<REPLACE_OLD>", "implies", "<REPLACE_NEW>", "permission", "<REPLACE_NEW>", "required", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "(", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "role", "<REPLACE_NEW>", "roles", "<REPLACE_NEW>", "required", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JohannesBuchner_Jake-90-3937", "old_comment": "service credentials if they are already set .", "old_comment_tokens": ["service", "credentials", "if", "they", "are", "already", "set", "."], "new_comment": "com . jakeapp . core . domain . account if they are already set .", "new_comment_tokens": ["com", ".", "jakeapp", ".", "core", ".", "domain", ".", "account", "if", "they", "are", "already", "set", "."], "old_code": "protected service credentials get service credentials ( ) { return this . service credentials ; }", "old_code_tokens": ["protected", "service", "credentials", "get", "service", "credentials", "(", ")", "{", "return", "this", ".", "service", "credentials", ";", "}"], "new_code": "protected account get service credentials ( ) { return this . account ; }", "new_code_tokens": ["protected", "account", "get", "service", "credentials", "(", ")", "{", "return", "this", ".", "account", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> service credentials <REPLACE_NEW> account <REPLACE_END> <KEEP> get service credentials ( ) { return this . <KEEP_END> <REPLACE_OLD> service credentials <REPLACE_NEW> account <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "service", "credentials", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", "get", "service", "credentials", "(", ")", "{", "return", "this", ".", "<KEEP_END>", "<REPLACE_OLD>", "service", "credentials", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> service credentials <REPLACE_NEW> com . jakeapp . core . domain . account <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "service", "credentials", "<REPLACE_NEW>", "com", ".", "jakeapp", ".", "core", ".", "domain", ".", "account", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "credentials", "<REPLACE_NEW>", "account", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "credentials", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "credentials", "<REPLACE_NEW>", "account", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_android-rcs-ims-stack-11-4661", "old_comment": "contact id , if not found invalid _ id is returned", "old_comment_tokens": ["contact", "id", ",", "if", "not", "found", "invalid", "_", "id", "is", "returned"], "new_comment": "list of contact ids , empty list if none was found", "new_comment_tokens": ["list", "of", "contact", "ids", ",", "empty", "list", "if", "none", "was", "found"], "old_code": "private long get rcs raw contact id from phone number ( string phone number ) { string [ ] projection = { data . raw _ contact _ id } ; string selection = data . mimetype + str + phone . number + str ; string [ ] selection args = { mimetype _ number , phone number } ; string sort order = data . raw _ contact _ id ; cursor cur = ctx . get content resolver ( ) . query ( data . content _ uri , projection , selection , selection args , sort order ) ; if ( cur ! = null ) { while ( cur . move to next ( ) ) { long rcs raw contact id = cur . get long ( cur . get column index ( data . raw _ contact _ id ) ) ; cur . close ( ) ; return rcs raw contact id ; } cur . close ( ) ; } return invalid _ id ; }", "old_code_tokens": ["private", "long", "get", "rcs", "raw", "contact", "id", "from", "phone", "number", "(", "string", "phone", "number", ")", "{", "string", "[", "]", "projection", "=", "{", "data", ".", "raw", "_", "contact", "_", "id", "}", ";", "string", "selection", "=", "data", ".", "mimetype", "+", "str", "+", "phone", ".", "number", "+", "str", ";", "string", "[", "]", "selection", "args", "=", "{", "mimetype", "_", "number", ",", "phone", "number", "}", ";", "string", "sort", "order", "=", "data", ".", "raw", "_", "contact", "_", "id", ";", "cursor", "cur", "=", "ctx", ".", "get", "content", "resolver", "(", ")", ".", "query", "(", "data", ".", "content", "_", "uri", ",", "projection", ",", "selection", ",", "selection", "args", ",", "sort", "order", ")", ";", "if", "(", "cur", "!", "=", "null", ")", "{", "while", "(", "cur", ".", "move", "to", "next", "(", ")", ")", "{", "long", "rcs", "raw", "contact", "id", "=", "cur", ".", "get", "long", "(", "cur", ".", "get", "column", "index", "(", "data", ".", "raw", "_", "contact", "_", "id", ")", ")", ";", "cur", ".", "close", "(", ")", ";", "return", "rcs", "raw", "contact", "id", ";", "}", "cur", ".", "close", "(", ")", ";", "}", "return", "invalid", "_", "id", ";", "}"], "new_code": "private list < long > get rcs raw contact id from phone number ( string phone number ) { list < long > contacts ids = new array list < long > ( ) ; string [ ] projection = { data . raw _ contact _ id } ; string selection = data . mimetype + str + phone . number + str ; string [ ] selection args = { mimetype _ number , phone number } ; string sort order = data . raw _ contact _ id ; cursor cur = ctx . get content resolver ( ) . query ( data . content _ uri , projection , selection , selection args , sort order ) ; if ( cur ! = null ) { while ( cur . move to next ( ) ) { long rcs raw contact id = cur . get long ( cur . get column index ( data . raw _ contact _ id ) ) ; contacts ids . add ( rcs raw contact id ) ; } cur . close ( ) ; } return contacts ids ; }", "new_code_tokens": ["private", "list", "<", "long", ">", "get", "rcs", "raw", "contact", "id", "from", "phone", "number", "(", "string", "phone", "number", ")", "{", "list", "<", "long", ">", "contacts", "ids", "=", "new", "array", "list", "<", "long", ">", "(", ")", ";", "string", "[", "]", "projection", "=", "{", "data", ".", "raw", "_", "contact", "_", "id", "}", ";", "string", "selection", "=", "data", ".", "mimetype", "+", "str", "+", "phone", ".", "number", "+", "str", ";", "string", "[", "]", "selection", "args", "=", "{", "mimetype", "_", "number", ",", "phone", "number", "}", ";", "string", "sort", "order", "=", "data", ".", "raw", "_", "contact", "_", "id", ";", "cursor", "cur", "=", "ctx", ".", "get", "content", "resolver", "(", ")", ".", "query", "(", "data", ".", "content", "_", "uri", ",", "projection", ",", "selection", ",", "selection", "args", ",", "sort", "order", ")", ";", "if", "(", "cur", "!", "=", "null", ")", "{", "while", "(", "cur", ".", "move", "to", "next", "(", ")", ")", "{", "long", "rcs", "raw", "contact", "id", "=", "cur", ".", "get", "long", "(", "cur", ".", "get", "column", "index", "(", "data", ".", "raw", "_", "contact", "_", "id", ")", ")", ";", "contacts", "ids", ".", "add", "(", "rcs", "raw", "contact", "id", ")", ";", "}", "cur", ".", "close", "(", ")", ";", "}", "return", "contacts", "ids", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <INSERT> list < <INSERT_END> <KEEP> long <KEEP_END> <INSERT> > <INSERT_END> <KEEP> get rcs raw contact id from phone number ( string phone number ) { <KEEP_END> <INSERT> list < long > contacts ids = new array list < long > ( ) ; <INSERT_END> <KEEP> string [ ] projection = { data . raw _ contact _ id } ; string selection = data . mimetype + str + phone . number + str ; string [ ] selection args = { mimetype _ number , phone number } ; string sort order = data . raw _ contact _ id ; cursor cur = ctx . get content resolver ( ) . query ( data . content _ uri , projection , selection , selection args , sort order ) ; if ( cur ! = null ) { while ( cur . move to next ( ) ) { long rcs raw contact id = cur . get long ( cur . get column index ( data . raw _ contact _ id ) ) ; <KEEP_END> <REPLACE_OLD> cur <REPLACE_NEW> contacts ids <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> close <REPLACE_NEW> add <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ) ; return <DELETE_END> <KEEP> rcs raw contact id <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } cur . close ( ) ; } return <KEEP_END> <REPLACE_OLD> invalid _ id <REPLACE_NEW> contacts ids <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<INSERT>", "list", "<", "<INSERT_END>", "<KEEP>", "long", "<KEEP_END>", "<INSERT>", ">", "<INSERT_END>", "<KEEP>", "get", "rcs", "raw", "contact", "id", "from", "phone", "number", "(", "string", "phone", "number", ")", "{", "<KEEP_END>", "<INSERT>", "list", "<", "long", ">", "contacts", "ids", "=", "new", "array", "list", "<", "long", ">", "(", ")", ";", "<INSERT_END>", "<KEEP>", "string", "[", "]", "projection", "=", "{", "data", ".", "raw", "_", "contact", "_", "id", "}", ";", "string", "selection", "=", "data", ".", "mimetype", "+", "str", "+", "phone", ".", "number", "+", "str", ";", "string", "[", "]", "selection", "args", "=", "{", "mimetype", "_", "number", ",", "phone", "number", "}", ";", "string", "sort", "order", "=", "data", ".", "raw", "_", "contact", "_", "id", ";", "cursor", "cur", "=", "ctx", ".", "get", "content", "resolver", "(", ")", ".", "query", "(", "data", ".", "content", "_", "uri", ",", "projection", ",", "selection", ",", "selection", "args", ",", "sort", "order", ")", ";", "if", "(", "cur", "!", "=", "null", ")", "{", "while", "(", "cur", ".", "move", "to", "next", "(", ")", ")", "{", "long", "rcs", "raw", "contact", "id", "=", "cur", ".", "get", "long", "(", "cur", ".", "get", "column", "index", "(", "data", ".", "raw", "_", "contact", "_", "id", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "cur", "<REPLACE_NEW>", "contacts", "ids", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "close", "<REPLACE_NEW>", "add", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", ";", "return", "<DELETE_END>", "<KEEP>", "rcs", "raw", "contact", "id", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "cur", ".", "close", "(", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "invalid", "_", "id", "<REPLACE_NEW>", "contacts", "ids", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> contact <INSERT_NEW_KEEP_AFTER> list of contact <INSERT_END> <REPLACE_OLD_KEEP_AFTER> id , <REPLACE_NEW_KEEP_AFTER> ids , <REPLACE_END> <INSERT_OLD_KEEP_AFTER> if <INSERT_NEW_KEEP_AFTER> empty list if <INSERT_END> <REPLACE_OLD> not <REPLACE_NEW> none was <REPLACE_END> <DELETE> invalid _ id is returned <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "contact", "<INSERT_NEW_KEEP_AFTER>", "list", "of", "contact", "<INSERT_END>", "<REPLACE_OLD_KEEP_AFTER>", "id", ",", "<REPLACE_NEW_KEEP_AFTER>", "ids", ",", "<REPLACE_END>", "<INSERT_OLD_KEEP_AFTER>", "if", "<INSERT_NEW_KEEP_AFTER>", "empty", "list", "if", "<INSERT_END>", "<REPLACE_OLD>", "not", "<REPLACE_NEW>", "none", "was", "<REPLACE_END>", "<DELETE>", "invalid", "_", "id", "is", "returned", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<INSERT>", "list", "<INSERT>", "<", "<KEEP>", "long", "<INSERT>", ">", "<KEEP>", "get", "<KEEP>", "rcs", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "id", "<KEEP>", "from", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "long", "<INSERT>", ">", "<INSERT>", "contacts", "<INSERT>", "ids", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "long", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "projection", "<KEEP>", "=", "<KEEP>", "{", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "_", "<KEEP>", "contact", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "mimetype", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "phone", "<KEEP>", ".", "<KEEP>", "number", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", "=", "<KEEP>", "{", "<KEEP>", "mimetype", "<KEEP>", "_", "<KEEP>", "number", "<KEEP>", ",", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "sort", "<KEEP>", "order", "<KEEP>", "=", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "_", "<KEEP>", "contact", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "cursor", "<KEEP>", "cur", "<KEEP>", "=", "<KEEP>", "ctx", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "resolver", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "content", "<KEEP>", "_", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "projection", "<KEEP>", ",", "<KEEP>", "selection", "<KEEP>", ",", "<KEEP>", "selection", "<KEEP>", "args", "<KEEP>", ",", "<KEEP>", "sort", "<KEEP>", "order", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "cur", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "cur", "<KEEP>", ".", "<KEEP>", "move", "<KEEP>", "to", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "long", "<KEEP>", "rcs", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "cur", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "cur", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "column", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "_", "<KEEP>", "contact", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "cur", "<REPLACE_NEW>", "contacts", "<REPLACE_NEW>", "ids", "<KEEP>", ".", "<REPLACE_OLD>", "close", "<REPLACE_NEW>", "add", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<KEEP>", "rcs", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "id", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "cur", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "invalid", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "contacts", "<REPLACE_NEW>", "ids", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ncdc_Qpid-1-82-3934", "old_comment": "the object name for the given exchange on the test virtual host .", "old_comment_tokens": ["the", "object", "name", "for", "the", "given", "exchange", "on", "the", "test", "virtual", "host", "."], "new_comment": "the object name for the given exchange on the virtual host", "new_comment_tokens": ["the", "object", "name", "for", "the", "given", "exchange", "on", "the", "virtual", "host"], "old_code": "public object name get exchange object name ( string virtual host name , string exchange ) { all objects all object = new all objects ( _ mbsc ) ; all object . querystring = str + virtual host name + str + exchange + str ; set < object name > object names = all object . return objects ( ) ; _ test . assert not null ( str , object names ) ; _ test . assert equals ( str + exchange + str , num , object names . size ( ) ) ; return object names . iterator ( ) . next ( ) ; }", "old_code_tokens": ["public", "object", "name", "get", "exchange", "object", "name", "(", "string", "virtual", "host", "name", ",", "string", "exchange", ")", "{", "all", "objects", "all", "object", "=", "new", "all", "objects", "(", "_", "mbsc", ")", ";", "all", "object", ".", "querystring", "=", "str", "+", "virtual", "host", "name", "+", "str", "+", "exchange", "+", "str", ";", "set", "<", "object", "name", ">", "object", "names", "=", "all", "object", ".", "return", "objects", "(", ")", ";", "_", "test", ".", "assert", "not", "null", "(", "str", ",", "object", "names", ")", ";", "_", "test", ".", "assert", "equals", "(", "str", "+", "exchange", "+", "str", ",", "num", ",", "object", "names", ".", "size", "(", ")", ")", ";", "return", "object", "names", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "}"], "new_code": "@ suppress warnings ( str ) public object name get exchange object name ( string virtual host name , string exchange ) { all objects all object = new all objects ( _ mbsc ) ; all object . querystring = str + virtual host name + str + exchange + str ; set < object name > object names = all object . return objects ( ) ; _ test . assert not null ( str , object names ) ; _ test . assert equals ( str + exchange + str , num , object names . size ( ) ) ; object name object name = object names . iterator ( ) . next ( ) ; _ test . get logger ( ) . info ( str + object name ) ; return object name ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "object", "name", "get", "exchange", "object", "name", "(", "string", "virtual", "host", "name", ",", "string", "exchange", ")", "{", "all", "objects", "all", "object", "=", "new", "all", "objects", "(", "_", "mbsc", ")", ";", "all", "object", ".", "querystring", "=", "str", "+", "virtual", "host", "name", "+", "str", "+", "exchange", "+", "str", ";", "set", "<", "object", "name", ">", "object", "names", "=", "all", "object", ".", "return", "objects", "(", ")", ";", "_", "test", ".", "assert", "not", "null", "(", "str", ",", "object", "names", ")", ";", "_", "test", ".", "assert", "equals", "(", "str", "+", "exchange", "+", "str", ",", "num", ",", "object", "names", ".", "size", "(", ")", ")", ";", "object", "name", "object", "name", "=", "object", "names", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "_", "test", ".", "get", "logger", "(", ")", ".", "info", "(", "str", "+", "object", "name", ")", ";", "return", "object", "name", ";", "}"], "span_diff_code": "<INSERT> @ suppress warnings ( str ) <INSERT_END> <KEEP> public object name get exchange object name ( string virtual host name , string exchange ) { all objects all object = new all objects ( _ mbsc ) ; all object . querystring = str + virtual host name + str + exchange + str ; set < object name > object names = all object . return objects ( ) ; _ test . assert not null ( str , object names ) ; _ test . assert equals ( str + exchange + str , num , object names . size ( ) ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> object name object name = <REPLACE_END> <KEEP> object names . iterator ( ) . next ( ) ; <KEEP_END> <INSERT> _ test . get logger ( ) . info ( str + object name ) ; return object name ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "suppress", "warnings", "(", "str", ")", "<INSERT_END>", "<KEEP>", "public", "object", "name", "get", "exchange", "object", "name", "(", "string", "virtual", "host", "name", ",", "string", "exchange", ")", "{", "all", "objects", "all", "object", "=", "new", "all", "objects", "(", "_", "mbsc", ")", ";", "all", "object", ".", "querystring", "=", "str", "+", "virtual", "host", "name", "+", "str", "+", "exchange", "+", "str", ";", "set", "<", "object", "name", ">", "object", "names", "=", "all", "object", ".", "return", "objects", "(", ")", ";", "_", "test", ".", "assert", "not", "null", "(", "str", ",", "object", "names", ")", ";", "_", "test", ".", "assert", "equals", "(", "str", "+", "exchange", "+", "str", ",", "num", ",", "object", "names", ".", "size", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "object", "name", "object", "name", "=", "<REPLACE_END>", "<KEEP>", "object", "names", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "<KEEP_END>", "<INSERT>", "_", "test", ".", "get", "logger", "(", ")", ".", "info", "(", "str", "+", "object", "name", ")", ";", "return", "object", "name", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> test <DELETE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "test", "<DELETE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "suppress", "<INSERT>", "warnings", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "get", "<KEEP>", "exchange", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "virtual", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "exchange", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "all", "<KEEP>", "objects", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "all", "<KEEP>", "objects", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "mbsc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "querystring", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "virtual", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "exchange", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", ">", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", "=", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "return", "<KEEP>", "objects", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "test", "<KEEP>", ".", "<KEEP>", "assert", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "test", "<KEEP>", ".", "<KEEP>", "assert", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "exchange", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "_", "<INSERT>", "test", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "logger", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "object", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "object", "<INSERT>", "name", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "davemorrissey_subsampling-scale-image-view-5-3136", "old_comment": "scale animation builder instance . call com . davemorrissey . labs . subscaleview . subsampling scale image view . scale animation builder # start ( ) to start the anim .", "old_comment_tokens": ["scale", "animation", "builder", "instance", ".", "call", "com", ".", "davemorrissey", ".", "labs", ".", "subscaleview", ".", "subsampling", "scale", "image", "view", ".", "scale", "animation", "builder", "#", "start", "(", ")", "to", "start", "the", "anim", "."], "new_comment": "animation builder instance . call com . davemorrissey . labs . subscaleview . subsampling scale image view . animation builder # start ( ) to start the anim .", "new_comment_tokens": ["animation", "builder", "instance", ".", "call", "com", ".", "davemorrissey", ".", "labs", ".", "subscaleview", ".", "subsampling", "scale", "image", "view", ".", "animation", "builder", "#", "start", "(", ")", "to", "start", "the", "anim", "."], "old_code": "public scale animation builder animate scale ( float scale ) { if ( ! is image ready ( ) ) { return null ; } return new scale animation builder ( scale ) ; }", "old_code_tokens": ["public", "scale", "animation", "builder", "animate", "scale", "(", "float", "scale", ")", "{", "if", "(", "!", "is", "image", "ready", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "scale", "animation", "builder", "(", "scale", ")", ";", "}"], "new_code": "public animation builder animate scale ( float scale ) { if ( ! is image ready ( ) ) { return null ; } return new animation builder ( scale ) ; }", "new_code_tokens": ["public", "animation", "builder", "animate", "scale", "(", "float", "scale", ")", "{", "if", "(", "!", "is", "image", "ready", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "animation", "builder", "(", "scale", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> scale <DELETE_END> <KEEP> animation builder animate scale ( float scale ) { if ( ! is image ready ( ) ) { return null ; } return new <KEEP_END> <DELETE> scale <DELETE_END> <KEEP> animation builder ( scale ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "scale", "<DELETE_END>", "<KEEP>", "animation", "builder", "animate", "scale", "(", "float", "scale", ")", "{", "if", "(", "!", "is", "image", "ready", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "<KEEP_END>", "<DELETE>", "scale", "<DELETE_END>", "<KEEP>", "animation", "builder", "(", "scale", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> scale animation builder instance <REPLACE_NEW_DELETE_KEEP_AFTER> animation builder instance <REPLACE_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> . scale <REPLACE_NEW_DELETE_KEEP_BEFORE> . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "scale", "animation", "builder", "instance", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "animation", "builder", "instance", "<REPLACE_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", ".", "scale", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "scale", "<KEEP>", "animation", "<KEEP>", "builder", "<KEEP>", "animate", "<KEEP>", "scale", "<KEEP>", "(", "<KEEP>", "float", "<KEEP>", "scale", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "is", "<KEEP>", "image", "<KEEP>", "ready", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<DELETE>", "scale", "<KEEP>", "animation", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", "scale", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_photran-4-5795", "old_comment": "the instance of fortran editor vpgtasks associated with the given editor , creating the instance on - demand if necessary", "old_comment_tokens": ["the", "instance", "of", "fortran", "editor", "vpgtasks", "associated", "with", "the", "given", "editor", ",", "creating", "the", "instance", "on", "-", "demand", "if", "necessary"], "new_comment": "the instance of fortran editor tasks associated with the given editor , creating the instance on - demand if necessary", "new_comment_tokens": ["the", "instance", "of", "fortran", "editor", "tasks", "associated", "with", "the", "given", "editor", ",", "creating", "the", "instance", "on", "-", "demand", "if", "necessary"], "old_code": "public static fortran editor vpgtasks instance ( abstract fortran editor editor ) { if ( editor . reconciler tasks = = null ) editor . reconciler tasks = new fortran editor vpgtasks ( editor ) ; return ( fortran editor vpgtasks ) editor . reconciler tasks ; }", "old_code_tokens": ["public", "static", "fortran", "editor", "vpgtasks", "instance", "(", "abstract", "fortran", "editor", "editor", ")", "{", "if", "(", "editor", ".", "reconciler", "tasks", "=", "=", "null", ")", "editor", ".", "reconciler", "tasks", "=", "new", "fortran", "editor", "vpgtasks", "(", "editor", ")", ";", "return", "(", "fortran", "editor", "vpgtasks", ")", "editor", ".", "reconciler", "tasks", ";", "}"], "new_code": "public static fortran editor tasks instance ( abstract fortran editor editor ) { if ( editor . reconciler tasks = = null ) editor . reconciler tasks = new fortran editor tasks ( editor ) ; return ( fortran editor tasks ) editor . reconciler tasks ; }", "new_code_tokens": ["public", "static", "fortran", "editor", "tasks", "instance", "(", "abstract", "fortran", "editor", "editor", ")", "{", "if", "(", "editor", ".", "reconciler", "tasks", "=", "=", "null", ")", "editor", ".", "reconciler", "tasks", "=", "new", "fortran", "editor", "tasks", "(", "editor", ")", ";", "return", "(", "fortran", "editor", "tasks", ")", "editor", ".", "reconciler", "tasks", ";", "}"], "span_diff_code": "<KEEP> public static fortran editor <KEEP_END> <REPLACE_OLD> vpgtasks <REPLACE_NEW> tasks <REPLACE_END> <KEEP> instance ( abstract fortran editor editor ) { if ( editor . reconciler tasks = = null ) editor . reconciler tasks = new fortran editor <KEEP_END> <REPLACE_OLD> vpgtasks <REPLACE_NEW> tasks <REPLACE_END> <KEEP> ( editor ) ; return ( fortran editor <KEEP_END> <REPLACE_OLD> vpgtasks <REPLACE_NEW> tasks <REPLACE_END> <KEEP> ) editor . reconciler tasks ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "fortran", "editor", "<KEEP_END>", "<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<REPLACE_END>", "<KEEP>", "instance", "(", "abstract", "fortran", "editor", "editor", ")", "{", "if", "(", "editor", ".", "reconciler", "tasks", "=", "=", "null", ")", "editor", ".", "reconciler", "tasks", "=", "new", "fortran", "editor", "<KEEP_END>", "<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<REPLACE_END>", "<KEEP>", "(", "editor", ")", ";", "return", "(", "fortran", "editor", "<KEEP_END>", "<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<REPLACE_END>", "<KEEP>", ")", "editor", ".", "reconciler", "tasks", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vpgtasks <REPLACE_NEW> tasks <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "fortran", "<KEEP>", "editor", "<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "abstract", "<KEEP>", "fortran", "<KEEP>", "editor", "<KEEP>", "editor", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "editor", "<KEEP>", ".", "<KEEP>", "reconciler", "<KEEP>", "tasks", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "editor", "<KEEP>", ".", "<KEEP>", "reconciler", "<KEEP>", "tasks", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "fortran", "<KEEP>", "editor", "<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<KEEP>", "(", "<KEEP>", "editor", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "fortran", "<KEEP>", "editor", "<REPLACE_OLD>", "vpgtasks", "<REPLACE_NEW>", "tasks", "<KEEP>", ")", "<KEEP>", "editor", "<KEEP>", ".", "<KEEP>", "reconciler", "<KEEP>", "tasks", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_android-rcs-ims-stack-43-4657", "old_comment": "string or empty", "old_comment_tokens": ["string", "or", "empty"], "new_comment": "message id", "new_comment_tokens": ["message", "id"], "old_code": "public static string get message id ( sip request request ) { extension header message id header = ( extension header ) request . get header ( imdn utils . header _ imdn _ msg _ id ) ; if ( message id header ! = null ) { return message id header . get value ( ) ; } try { string content = request . get content ( ) ; int index = content . index of ( imdn utils . header _ imdn _ msg _ id ) ; if ( index ! = - num ) { index = index + imdn utils . header _ imdn _ msg _ id . length ( ) + num ; string part = content . substring ( index ) ; string msg id = part . substring ( num , part . index of ( sip utils . crlf ) ) ; return msg id . trim ( ) ; } } catch ( exception e ) { } return null ; }", "old_code_tokens": ["public", "static", "string", "get", "message", "id", "(", "sip", "request", "request", ")", "{", "extension", "header", "message", "id", "header", "=", "(", "extension", "header", ")", "request", ".", "get", "header", "(", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ")", ";", "if", "(", "message", "id", "header", "!", "=", "null", ")", "{", "return", "message", "id", "header", ".", "get", "value", "(", ")", ";", "}", "try", "{", "string", "content", "=", "request", ".", "get", "content", "(", ")", ";", "int", "index", "=", "content", ".", "index", "of", "(", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ")", ";", "if", "(", "index", "!", "=", "-", "num", ")", "{", "index", "=", "index", "+", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ".", "length", "(", ")", "+", "num", ";", "string", "part", "=", "content", ".", "substring", "(", "index", ")", ";", "string", "msg", "id", "=", "part", ".", "substring", "(", "num", ",", "part", ".", "index", "of", "(", "sip", "utils", ".", "crlf", ")", ")", ";", "return", "msg", "id", ".", "trim", "(", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "return", "null", ";", "}"], "new_code": "public static string get message id ( sip request request ) { string result = null ; try { string content = request . get content ( ) ; int index = content . index of ( imdn utils . header _ imdn _ msg _ id ) ; if ( index ! = - num ) { index = index + imdn utils . header _ imdn _ msg _ id . length ( ) + num ; string part = content . substring ( index ) ; string msg id = part . substring ( num , part . index of ( crlf ) ) ; result = msg id . trim ( ) ; } } catch ( exception e ) { } return result ; }", "new_code_tokens": ["public", "static", "string", "get", "message", "id", "(", "sip", "request", "request", ")", "{", "string", "result", "=", "null", ";", "try", "{", "string", "content", "=", "request", ".", "get", "content", "(", ")", ";", "int", "index", "=", "content", ".", "index", "of", "(", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ")", ";", "if", "(", "index", "!", "=", "-", "num", ")", "{", "index", "=", "index", "+", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ".", "length", "(", ")", "+", "num", ";", "string", "part", "=", "content", ".", "substring", "(", "index", ")", ";", "string", "msg", "id", "=", "part", ".", "substring", "(", "num", ",", "part", ".", "index", "of", "(", "crlf", ")", ")", ";", "result", "=", "msg", "id", ".", "trim", "(", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public static string get message id ( sip request request ) { <KEEP_END> <REPLACE_OLD> extension header message id header = ( extension header ) request . get header ( imdn utils . header _ imdn _ msg _ id ) ; if ( message id header ! <REPLACE_NEW> string result <REPLACE_END> <KEEP> = null <KEEP_END> <DELETE> ) { return message id header . get value ( ) <DELETE_END> <KEEP> ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> try { string content = request . get content ( ) ; int index = content . index of ( imdn utils . header _ imdn _ msg _ id ) ; if ( index ! = - num ) { index = index + imdn utils . header _ imdn _ msg _ id . length ( ) + num ; string part = content . substring ( index ) ; string msg id = part . substring ( num , part . index of ( <KEEP_END> <DELETE> sip utils . <DELETE_END> <KEEP> crlf ) ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> result = <REPLACE_END> <KEEP> msg id . trim ( ) ; } } catch ( exception e ) { } return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> result <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "message", "id", "(", "sip", "request", "request", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "extension", "header", "message", "id", "header", "=", "(", "extension", "header", ")", "request", ".", "get", "header", "(", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ")", ";", "if", "(", "message", "id", "header", "!", "<REPLACE_NEW>", "string", "result", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<DELETE>", ")", "{", "return", "message", "id", "header", ".", "get", "value", "(", ")", "<DELETE_END>", "<KEEP>", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "try", "{", "string", "content", "=", "request", ".", "get", "content", "(", ")", ";", "int", "index", "=", "content", ".", "index", "of", "(", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ")", ";", "if", "(", "index", "!", "=", "-", "num", ")", "{", "index", "=", "index", "+", "imdn", "utils", ".", "header", "_", "imdn", "_", "msg", "_", "id", ".", "length", "(", ")", "+", "num", ";", "string", "part", "=", "content", ".", "substring", "(", "index", ")", ";", "string", "msg", "id", "=", "part", ".", "substring", "(", "num", ",", "part", ".", "index", "of", "(", "<KEEP_END>", "<DELETE>", "sip", "utils", ".", "<DELETE_END>", "<KEEP>", "crlf", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "result", "=", "<REPLACE_END>", "<KEEP>", "msg", "id", ".", "trim", "(", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> string or empty <REPLACE_NEW> message id <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "string", "or", "empty", "<REPLACE_NEW>", "message", "id", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "sip", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "extension", "<REPLACE_OLD>", "header", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "header", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "extension", "<REPLACE_OLD>", "header", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "header", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "imdn", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "header", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "imdn", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "msg", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "header", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "result", "<KEEP>", "=", "<KEEP>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "message", "<DELETE>", "id", "<DELETE>", "header", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "content", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "content", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "imdn", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "header", "<KEEP>", "_", "<KEEP>", "imdn", "<KEEP>", "_", "<KEEP>", "msg", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "index", "<KEEP>", "+", "<KEEP>", "imdn", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "header", "<KEEP>", "_", "<KEEP>", "imdn", "<KEEP>", "_", "<KEEP>", "msg", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "part", "<KEEP>", "=", "<KEEP>", "content", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "msg", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "part", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "part", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<DELETE>", "sip", "<DELETE>", "utils", "<DELETE>", ".", "<KEEP>", "crlf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<KEEP>", "msg", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-12-3939", "old_comment": "an array with all interfaces . the array may be empty .", "old_comment_tokens": ["an", "array", "with", "all", "interfaces", ".", "the", "array", "may", "be", "empty", "."], "new_comment": "a set with all interfaces . the array may be empty .", "new_comment_tokens": ["a", "set", "with", "all", "interfaces", ".", "the", "array", "may", "be", "empty", "."], "old_code": "public static class [ ] get all interfaces ( class clazz ) { set interfaces = new hash set ( ) ; get interfaces ( clazz , interfaces ) ; return ( class [ ] ) interfaces . to array ( new class [ interfaces . size ( ) ] ) ; }", "old_code_tokens": ["public", "static", "class", "[", "]", "get", "all", "interfaces", "(", "class", "clazz", ")", "{", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "return", "(", "class", "[", "]", ")", "interfaces", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public static set get all interfaces ( class clazz ) { set interfaces = new hash set ( ) ; get interfaces ( clazz , interfaces ) ; return interfaces ; }", "new_code_tokens": ["public", "static", "set", "get", "all", "interfaces", "(", "class", "clazz", ")", "{", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "return", "interfaces", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> class [ ] <REPLACE_NEW> set <REPLACE_END> <KEEP> get all interfaces ( class clazz ) { set interfaces = new hash set ( ) ; get interfaces ( clazz , interfaces ) ; return <KEEP_END> <DELETE> ( class [ ] ) <DELETE_END> <KEEP> interfaces <KEEP_END> <DELETE> . to array ( new class [ interfaces . size ( ) ] ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "class", "[", "]", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "get", "all", "interfaces", "(", "class", "clazz", ")", "{", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "return", "<KEEP_END>", "<DELETE>", "(", "class", "[", "]", ")", "<DELETE_END>", "<KEEP>", "interfaces", "<KEEP_END>", "<DELETE>", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an array <REPLACE_NEW> a set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "array", "<REPLACE_NEW>", "a", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "set", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "clazz", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<KEEP>", "interfaces", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "get", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "interfaces", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", "interfaces", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "interfaces", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_geronimo-18-4549", "old_comment": "when the work has ben accepted .", "old_comment_tokens": ["when", "the", "work", "has", "ben", "accepted", "."], "new_comment": "when the work has been accepted .", "new_comment_tokens": ["when", "the", "work", "has", "been", "accepted", "."], "old_code": "public synchronized long get accepted time ( ) { return m _ accepted time ; }", "old_code_tokens": ["public", "synchronized", "long", "get", "accepted", "time", "(", ")", "{", "return", "m", "_", "accepted", "time", ";", "}"], "new_code": "public synchronized long get accepted time ( ) { return accepted time ; }", "new_code_tokens": ["public", "synchronized", "long", "get", "accepted", "time", "(", ")", "{", "return", "accepted", "time", ";", "}"], "span_diff_code": "<KEEP> public synchronized long get accepted time ( ) { return <KEEP_END> <DELETE> m _ <DELETE_END> <KEEP> accepted time ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "synchronized", "long", "get", "accepted", "time", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "m", "_", "<DELETE_END>", "<KEEP>", "accepted", "time", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> ben <REPLACE_NEW> been <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "ben", "<REPLACE_NEW>", "been", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "synchronized", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "accepted", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "m", "<DELETE>", "_", "<KEEP>", "accepted", "<KEEP>", "time", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Graylog2_graylog2-server-1-1090", "old_comment": "a json array with the result of the cat indices request .", "old_comment_tokens": ["a", "json", "array", "with", "the", "result", "of", "the", "cat", "indices", "request", "."], "new_comment": "a json node with the result of the cat indices request .", "new_comment_tokens": ["a", "json", "node", "with", "the", "result", "of", "the", "cat", "indices", "request", "."], "old_code": "private json array cat indices ( collection < string > indices , string . . . fields ) { final string field names = string . join ( str , fields ) ; final cat request = new cat . indices builder ( ) . add index ( indices ) . set parameter ( str , field names ) . build ( ) ; final cat result response = jest utils . execute ( jest client , request , ( ) - > str + indices ) ; return optional . of ( response . get json object ( ) ) . map ( json - > gson utils . as json array ( json . get ( str ) ) ) . or else ( new json array ( ) ) ; }", "old_code_tokens": ["private", "json", "array", "cat", "indices", "(", "collection", "<", "string", ">", "indices", ",", "string", ".", ".", ".", "fields", ")", "{", "final", "string", "field", "names", "=", "string", ".", "join", "(", "str", ",", "fields", ")", ";", "final", "cat", "request", "=", "new", "cat", ".", "indices", "builder", "(", ")", ".", "add", "index", "(", "indices", ")", ".", "set", "parameter", "(", "str", ",", "field", "names", ")", ".", "build", "(", ")", ";", "final", "cat", "result", "response", "=", "jest", "utils", ".", "execute", "(", "jest", "client", ",", "request", ",", "(", ")", "-", ">", "str", "+", "indices", ")", ";", "return", "optional", ".", "of", "(", "response", ".", "get", "json", "object", "(", ")", ")", ".", "map", "(", "json", "-", ">", "gson", "utils", ".", "as", "json", "array", "(", "json", ".", "get", "(", "str", ")", ")", ")", ".", "or", "else", "(", "new", "json", "array", "(", ")", ")", ";", "}"], "new_code": "private json node cat indices ( collection < string > indices , string . . . fields ) { final string field names = string . join ( str , fields ) ; final cat request = new cat . indices builder ( ) . add index ( indices ) . set parameter ( str , field names ) . build ( ) ; final cat result response = jest utils . execute ( jest client , request , ( ) - > str + indices ) ; return response . get json object ( ) . path ( str ) ; }", "new_code_tokens": ["private", "json", "node", "cat", "indices", "(", "collection", "<", "string", ">", "indices", ",", "string", ".", ".", ".", "fields", ")", "{", "final", "string", "field", "names", "=", "string", ".", "join", "(", "str", ",", "fields", ")", ";", "final", "cat", "request", "=", "new", "cat", ".", "indices", "builder", "(", ")", ".", "add", "index", "(", "indices", ")", ".", "set", "parameter", "(", "str", ",", "field", "names", ")", ".", "build", "(", ")", ";", "final", "cat", "result", "response", "=", "jest", "utils", ".", "execute", "(", "jest", "client", ",", "request", ",", "(", ")", "-", ">", "str", "+", "indices", ")", ";", "return", "response", ".", "get", "json", "object", "(", ")", ".", "path", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> private json <KEEP_END> <REPLACE_OLD> array <REPLACE_NEW> node <REPLACE_END> <KEEP> cat indices ( collection < string > indices , string . . . fields ) { final string field names = string . join ( str , fields ) ; final cat request = new cat . indices builder ( ) . add index ( indices ) . set parameter ( str , field names ) . build ( ) ; final cat result response = jest utils . execute ( jest client , request , ( ) - > str + indices ) ; return <KEEP_END> <DELETE> optional . of ( <DELETE_END> <KEEP> response . get json object ( ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> map ( json - > gson utils . as json array ( json . get <REPLACE_NEW> path <REPLACE_END> <KEEP> ( str ) <KEEP_END> <DELETE> ) ) . or else ( new json array ( ) ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "json", "<KEEP_END>", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "node", "<REPLACE_END>", "<KEEP>", "cat", "indices", "(", "collection", "<", "string", ">", "indices", ",", "string", ".", ".", ".", "fields", ")", "{", "final", "string", "field", "names", "=", "string", ".", "join", "(", "str", ",", "fields", ")", ";", "final", "cat", "request", "=", "new", "cat", ".", "indices", "builder", "(", ")", ".", "add", "index", "(", "indices", ")", ".", "set", "parameter", "(", "str", ",", "field", "names", ")", ".", "build", "(", ")", ";", "final", "cat", "result", "response", "=", "jest", "utils", ".", "execute", "(", "jest", "client", ",", "request", ",", "(", ")", "-", ">", "str", "+", "indices", ")", ";", "return", "<KEEP_END>", "<DELETE>", "optional", ".", "of", "(", "<DELETE_END>", "<KEEP>", "response", ".", "get", "json", "object", "(", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "map", "(", "json", "-", ">", "gson", "utils", ".", "as", "json", "array", "(", "json", ".", "get", "<REPLACE_NEW>", "path", "<REPLACE_END>", "<KEEP>", "(", "str", ")", "<KEEP_END>", "<DELETE>", ")", ")", ".", "or", "else", "(", "new", "json", "array", "(", ")", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> array <REPLACE_NEW> node <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "array", "<REPLACE_NEW>", "node", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "json", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "node", "<KEEP>", "cat", "<KEEP>", "indices", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "indices", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "fields", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "field", "<KEEP>", "names", "<KEEP>", "=", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "join", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "fields", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "cat", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "cat", "<KEEP>", ".", "<KEEP>", "indices", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", "indices", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "field", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "cat", "<KEEP>", "result", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "jest", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", "jest", "<KEEP>", "client", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", ">", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "indices", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "optional", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "json", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "gson", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "path", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "or", "<DELETE>", "else", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "json", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ben-manes_caffeine-2-891", "old_comment": "the time when the entry will expire", "old_comment_tokens": ["the", "time", "when", "the", "entry", "will", "expire"], "new_comment": "the time when the entry will expire , or negative if the time should not be changed", "new_comment_tokens": ["the", "time", "when", "the", "entry", "will", "expire", ",", "or", "negative", "if", "the", "time", "should", "not", "be", "changed"], "old_code": "protected long expire time ms ( supplier < duration > expires ) { try { duration duration = expires . get ( ) ; return duration . is zero ( ) ? num : duration . get adjusted time ( current time millis ( ) ) ; } catch ( exception e ) { logger . log ( level . warning , str , e ) ; return long . max _ value ; } }", "old_code_tokens": ["protected", "long", "expire", "time", "ms", "(", "supplier", "<", "duration", ">", "expires", ")", "{", "try", "{", "duration", "duration", "=", "expires", ".", "get", "(", ")", ";", "return", "duration", ".", "is", "zero", "(", ")", "?", "num", ":", "duration", ".", "get", "adjusted", "time", "(", "current", "time", "millis", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ",", "e", ")", ";", "return", "long", ".", "max", "_", "value", ";", "}", "}"], "new_code": "protected long expire time ms ( supplier < duration > expires ) { try { duration duration = expires . get ( ) ; if ( duration = = null ) { return - num ; } return duration . is zero ( ) ? num : duration . get adjusted time ( current time millis ( ) ) ; } catch ( exception e ) { logger . log ( level . warning , str , e ) ; return - num ; } }", "new_code_tokens": ["protected", "long", "expire", "time", "ms", "(", "supplier", "<", "duration", ">", "expires", ")", "{", "try", "{", "duration", "duration", "=", "expires", ".", "get", "(", ")", ";", "if", "(", "duration", "=", "=", "null", ")", "{", "return", "-", "num", ";", "}", "return", "duration", ".", "is", "zero", "(", ")", "?", "num", ":", "duration", ".", "get", "adjusted", "time", "(", "current", "time", "millis", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ",", "e", ")", ";", "return", "-", "num", ";", "}", "}"], "span_diff_code": "<KEEP> protected long expire time ms ( supplier < duration > expires ) { try { duration duration = expires . get ( ) ; <KEEP_END> <INSERT> if ( duration = = null ) { return - num ; } <INSERT_END> <KEEP> return duration . is zero ( ) ? num : duration . get adjusted time ( current time millis ( ) ) ; } catch ( exception e ) { logger . log ( level . warning , str , e ) ; return <KEEP_END> <REPLACE_OLD> long . max _ value <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "long", "expire", "time", "ms", "(", "supplier", "<", "duration", ">", "expires", ")", "{", "try", "{", "duration", "duration", "=", "expires", ".", "get", "(", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "duration", "=", "=", "null", ")", "{", "return", "-", "num", ";", "}", "<INSERT_END>", "<KEEP>", "return", "duration", ".", "is", "zero", "(", ")", "?", "num", ":", "duration", ".", "get", "adjusted", "time", "(", "current", "time", "millis", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ",", "e", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "long", ".", "max", "_", "value", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> expire <INSERT_NEW_KEEP_BEFORE> expire , or negative if the time should not be changed <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "expire", "<INSERT_NEW_KEEP_BEFORE>", "expire", ",", "or", "negative", "if", "the", "time", "should", "not", "be", "changed", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "long", "<KEEP>", "expire", "<KEEP>", "time", "<KEEP>", "ms", "<KEEP>", "(", "<KEEP>", "supplier", "<KEEP>", "<", "<KEEP>", "duration", "<KEEP>", ">", "<KEEP>", "expires", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "duration", "<KEEP>", "duration", "<KEEP>", "=", "<KEEP>", "expires", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "duration", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "duration", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "zero", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "duration", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "adjusted", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "warning", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-26-5333", "old_comment": "current directory history , or if empty , only current directory ( as file [ 0 ] ) .", "old_comment_tokens": ["current", "directory", "history", ",", "or", "if", "empty", ",", "only", "current", "directory", "(", "as", "file", "[", "0", "]", ")", "."], "new_comment": "current directory history . should never return null .", "new_comment_tokens": ["current", "directory", "history", ".", "should", "never", "return", "null", "."], "old_code": "private file [ ] get directory history ( ) { file [ ] dirhist = settings . instance ( ) . get directory history ( ) ; if ( dirhist = = null | | dirhist . length = = num ) return new file [ ] { new file ( str ) . get absolute file ( ) } ; else return dirhist ; }", "old_code_tokens": ["private", "file", "[", "]", "get", "directory", "history", "(", ")", "{", "file", "[", "]", "dirhist", "=", "settings", ".", "instance", "(", ")", ".", "get", "directory", "history", "(", ")", ";", "if", "(", "dirhist", "=", "=", "null", "|", "|", "dirhist", ".", "length", "=", "=", "num", ")", "return", "new", "file", "[", "]", "{", "new", "file", "(", "str", ")", ".", "get", "absolute", "file", "(", ")", "}", ";", "else", "return", "dirhist", ";", "}"], "new_code": "private file [ ] get directory history ( ) { return settings . instance ( ) . get directory history ( ) ; }", "new_code_tokens": ["private", "file", "[", "]", "get", "directory", "history", "(", ")", "{", "return", "settings", ".", "instance", "(", ")", ".", "get", "directory", "history", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private file [ ] get directory history ( ) { <KEEP_END> <REPLACE_OLD> file [ ] dirhist = <REPLACE_NEW> return <REPLACE_END> <KEEP> settings . instance ( ) . get directory history ( ) ; <KEEP_END> <DELETE> if ( dirhist = = null | | dirhist . length = = num ) return new file [ ] { new file ( str ) . get absolute file ( ) <DELETE_END> <KEEP> } <KEEP_END> <DELETE> ; else return dirhist ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "file", "[", "]", "get", "directory", "history", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "file", "[", "]", "dirhist", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "settings", ".", "instance", "(", ")", ".", "get", "directory", "history", "(", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "dirhist", "=", "=", "null", "|", "|", "dirhist", ".", "length", "=", "=", "num", ")", "return", "new", "file", "[", "]", "{", "new", "file", "(", "str", ")", ".", "get", "absolute", "file", "(", ")", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", ";", "else", "return", "dirhist", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> , or if empty , only current directory ( as file [ 0 ] ) <DELETE_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . should never return null . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", ",", "or", "if", "empty", ",", "only", "current", "directory", "(", "as", "file", "[", "0", "]", ")", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "should", "never", "return", "null", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "file", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "directory", "<KEEP>", "history", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "dirhist", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "settings", "<KEEP>", ".", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "directory", "<KEEP>", "history", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "dirhist", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "dirhist", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "file", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "{", "<DELETE>", "new", "<DELETE>", "file", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "absolute", "<DELETE>", "file", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", "}", "<DELETE>", ";", "<DELETE>", "else", "<DELETE>", "return", "<DELETE>", "dirhist", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "caillette_novelang-7-4498", "old_comment": "null if gobble start was null , or a gobbling object containing the result of the gobble . gobbling # treepath minus gobbled still refers to the _ placeholder _ but some separators and one raw item have been removed . gobbling # gobbled tree is the result of the gobbling", "old_comment_tokens": ["null", "if", "gobble", "start", "was", "null", ",", "or", "a", "gobbling", "object", "containing", "the", "result", "of", "the", "gobble", ".", "gobbling", "#", "treepath", "minus", "gobbled", "still", "refers", "to", "the", "_", "placeholder", "_", "but", "some", "separators", "and", "one", "raw", "item", "have", "been", "removed", ".", "gobbling", "#", "gobbled", "tree", "is", "the", "result", "of", "the", "gobbling"], "new_comment": "a gobbling object containing the result of the gobble .", "new_comment_tokens": ["a", "gobbling", "object", "containing", "the", "result", "of", "the", "gobble", "."], "old_code": "private static gobbling gobble ( treepath < syntactic tree > gobble start ) { if ( null = = gobble start ) { return null ; } preconditions . check argument ( gobble start . get tree at end ( ) . is one of ( _ placeholder _ ) ) ; gobble start = treepath tools . get next sibling ( gobble start ) ; do { if ( is raw item ( gobble start ) ) { if ( treepath tools . has next sibling ( gobble start ) ) { final treepath < syntactic tree > next start = treepath tools . get next sibling ( gobble start ) ; final treepath < syntactic tree > next start minus previous = treepath tools . remove previous sibling ( next start ) ; return new gobbling ( next start minus previous , make embedded list item ( gobble start ) , true ) ; } else { final treepath < syntactic tree > minus previous = treepath tools . remove end ( gobble start ) ; return new gobbling ( minus previous , make embedded list item ( gobble start ) , false ) ; } } else if ( gobble start . get tree at end ( ) . is one of ( whitespace _ , line _ break _ ) ) { if ( treepath tools . has next sibling ( gobble start ) ) { gobble start = treepath tools . get next sibling ( gobble start ) ; } } else { return null ; } } while ( true ) ; }", "old_code_tokens": ["private", "static", "gobbling", "gobble", "(", "treepath", "<", "syntactic", "tree", ">", "gobble", "start", ")", "{", "if", "(", "null", "=", "=", "gobble", "start", ")", "{", "return", "null", ";", "}", "preconditions", ".", "check", "argument", "(", "gobble", "start", ".", "get", "tree", "at", "end", "(", ")", ".", "is", "one", "of", "(", "_", "placeholder", "_", ")", ")", ";", "gobble", "start", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "gobble", "start", ")", ";", "do", "{", "if", "(", "is", "raw", "item", "(", "gobble", "start", ")", ")", "{", "if", "(", "treepath", "tools", ".", "has", "next", "sibling", "(", "gobble", "start", ")", ")", "{", "final", "treepath", "<", "syntactic", "tree", ">", "next", "start", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "gobble", "start", ")", ";", "final", "treepath", "<", "syntactic", "tree", ">", "next", "start", "minus", "previous", "=", "treepath", "tools", ".", "remove", "previous", "sibling", "(", "next", "start", ")", ";", "return", "new", "gobbling", "(", "next", "start", "minus", "previous", ",", "make", "embedded", "list", "item", "(", "gobble", "start", ")", ",", "true", ")", ";", "}", "else", "{", "final", "treepath", "<", "syntactic", "tree", ">", "minus", "previous", "=", "treepath", "tools", ".", "remove", "end", "(", "gobble", "start", ")", ";", "return", "new", "gobbling", "(", "minus", "previous", ",", "make", "embedded", "list", "item", "(", "gobble", "start", ")", ",", "false", ")", ";", "}", "}", "else", "if", "(", "gobble", "start", ".", "get", "tree", "at", "end", "(", ")", ".", "is", "one", "of", "(", "whitespace", "_", ",", "line", "_", "break", "_", ")", ")", "{", "if", "(", "treepath", "tools", ".", "has", "next", "sibling", "(", "gobble", "start", ")", ")", "{", "gobble", "start", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "gobble", "start", ")", ";", "}", "}", "else", "{", "return", "null", ";", "}", "}", "while", "(", "true", ")", ";", "}"], "new_code": "private static gobbling gobble ( treepath < syntactic tree > gobble start , int indentation ) { preconditions . check argument ( gobble start . get tree at end ( ) . is one of ( _ placeholder _ ) ) ; treepath < syntactic tree > start = gobble start ; do { if ( treepath tools . has next sibling ( start ) ) { final treepath < syntactic tree > next = treepath tools . get next sibling ( start ) ; if ( is raw item ( next ) ) { final treepath < syntactic tree > minus next = treepath tools . remove next sibling ( start ) ; return new gobbling ( minus next , make embedded list item ( next ) , indentation ) ; } else { final syntactic tree next tree = next . get tree at end ( ) ; if ( next tree . is one of ( whitespace _ , line _ break _ ) ) { start = treepath tools . remove next sibling ( start ) ; if ( next tree . is one of ( whitespace _ ) ) { indentation = get whitespace length ( next ) ; } continue ; } } } return new gobbling ( start ) ; } while ( true ) ; }", "new_code_tokens": ["private", "static", "gobbling", "gobble", "(", "treepath", "<", "syntactic", "tree", ">", "gobble", "start", ",", "int", "indentation", ")", "{", "preconditions", ".", "check", "argument", "(", "gobble", "start", ".", "get", "tree", "at", "end", "(", ")", ".", "is", "one", "of", "(", "_", "placeholder", "_", ")", ")", ";", "treepath", "<", "syntactic", "tree", ">", "start", "=", "gobble", "start", ";", "do", "{", "if", "(", "treepath", "tools", ".", "has", "next", "sibling", "(", "start", ")", ")", "{", "final", "treepath", "<", "syntactic", "tree", ">", "next", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "start", ")", ";", "if", "(", "is", "raw", "item", "(", "next", ")", ")", "{", "final", "treepath", "<", "syntactic", "tree", ">", "minus", "next", "=", "treepath", "tools", ".", "remove", "next", "sibling", "(", "start", ")", ";", "return", "new", "gobbling", "(", "minus", "next", ",", "make", "embedded", "list", "item", "(", "next", ")", ",", "indentation", ")", ";", "}", "else", "{", "final", "syntactic", "tree", "next", "tree", "=", "next", ".", "get", "tree", "at", "end", "(", ")", ";", "if", "(", "next", "tree", ".", "is", "one", "of", "(", "whitespace", "_", ",", "line", "_", "break", "_", ")", ")", "{", "start", "=", "treepath", "tools", ".", "remove", "next", "sibling", "(", "start", ")", ";", "if", "(", "next", "tree", ".", "is", "one", "of", "(", "whitespace", "_", ")", ")", "{", "indentation", "=", "get", "whitespace", "length", "(", "next", ")", ";", "}", "continue", ";", "}", "}", "}", "return", "new", "gobbling", "(", "start", ")", ";", "}", "while", "(", "true", ")", ";", "}"], "span_diff_code": "<KEEP> private static gobbling gobble ( treepath < syntactic tree > gobble start <KEEP_END> <REPLACE_OLD> ) { if ( null = = gobble start ) { return null ; } <REPLACE_NEW> , int indentation ) { <REPLACE_END> <KEEP> preconditions . check argument ( gobble start . get tree at end ( ) . is one of ( _ placeholder _ ) ) ; <KEEP_END> <REPLACE_OLD> gobble start = treepath tools . get next sibling ( gobble start ) <REPLACE_NEW> treepath < syntactic tree > start = gobble start <REPLACE_END> <KEEP> ; do { <KEEP_END> <INSERT> if ( treepath tools . has next sibling ( start ) ) { final treepath < syntactic tree > next = treepath tools . get next sibling ( start ) ; <INSERT_END> <KEEP> if ( is raw item ( <KEEP_END> <REPLACE_OLD> gobble start ) ) { if ( treepath tools . has next sibling ( gobble start <REPLACE_NEW> next <REPLACE_END> <KEEP> ) ) { final treepath < syntactic tree > <KEEP_END> <DELETE> next start = treepath tools . get next sibling ( gobble start ) ; final treepath < syntactic tree > next start <DELETE_END> <KEEP> minus <KEEP_END> <REPLACE_OLD> previous <REPLACE_NEW> next <REPLACE_END> <KEEP> = treepath tools . remove <KEEP_END> <REPLACE_OLD> previous sibling ( next <REPLACE_NEW> next sibling ( <REPLACE_END> <KEEP> start ) ; return new gobbling ( <KEEP_END> <DELETE> next start <DELETE_END> <KEEP> minus <KEEP_END> <REPLACE_OLD> previous <REPLACE_NEW> next <REPLACE_END> <KEEP> , make embedded list item ( <KEEP_END> <REPLACE_OLD> gobble start ) , true <REPLACE_NEW> next ) , indentation <REPLACE_END> <KEEP> ) ; } else { final <KEEP_END> <REPLACE_OLD> treepath < syntactic tree > minus previous <REPLACE_NEW> syntactic tree next tree = next . get tree at end ( ) ; if ( next tree . is one of ( whitespace _ , line _ break _ ) ) { start <REPLACE_END> <KEEP> = treepath tools . remove <KEEP_END> <REPLACE_OLD> end ( gobble start ) ; <REPLACE_NEW> next sibling ( start ) ; if ( next tree . is one of ( whitespace _ ) ) { indentation = get whitespace length ( next ) ; } continue ; } } } <REPLACE_END> <KEEP> return new gobbling ( <KEEP_END> <REPLACE_OLD> minus previous , make embedded list item ( gobble start ) , false ) ; } } else if ( gobble start . get tree at end ( ) . is one of ( whitespace _ , line _ break _ ) ) { if ( treepath tools . has next sibling ( gobble start ) ) { gobble start = treepath tools . get next sibling ( gobble start ) ; } } else { return null ; } <REPLACE_NEW> start ) ; <REPLACE_END> <KEEP> } while ( true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "gobbling", "gobble", "(", "treepath", "<", "syntactic", "tree", ">", "gobble", "start", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "if", "(", "null", "=", "=", "gobble", "start", ")", "{", "return", "null", ";", "}", "<REPLACE_NEW>", ",", "int", "indentation", ")", "{", "<REPLACE_END>", "<KEEP>", "preconditions", ".", "check", "argument", "(", "gobble", "start", ".", "get", "tree", "at", "end", "(", ")", ".", "is", "one", "of", "(", "_", "placeholder", "_", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "gobble", "start", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "gobble", "start", ")", "<REPLACE_NEW>", "treepath", "<", "syntactic", "tree", ">", "start", "=", "gobble", "start", "<REPLACE_END>", "<KEEP>", ";", "do", "{", "<KEEP_END>", "<INSERT>", "if", "(", "treepath", "tools", ".", "has", "next", "sibling", "(", "start", ")", ")", "{", "final", "treepath", "<", "syntactic", "tree", ">", "next", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "start", ")", ";", "<INSERT_END>", "<KEEP>", "if", "(", "is", "raw", "item", "(", "<KEEP_END>", "<REPLACE_OLD>", "gobble", "start", ")", ")", "{", "if", "(", "treepath", "tools", ".", "has", "next", "sibling", "(", "gobble", "start", "<REPLACE_NEW>", "next", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "final", "treepath", "<", "syntactic", "tree", ">", "<KEEP_END>", "<DELETE>", "next", "start", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "gobble", "start", ")", ";", "final", "treepath", "<", "syntactic", "tree", ">", "next", "start", "<DELETE_END>", "<KEEP>", "minus", "<KEEP_END>", "<REPLACE_OLD>", "previous", "<REPLACE_NEW>", "next", "<REPLACE_END>", "<KEEP>", "=", "treepath", "tools", ".", "remove", "<KEEP_END>", "<REPLACE_OLD>", "previous", "sibling", "(", "next", "<REPLACE_NEW>", "next", "sibling", "(", "<REPLACE_END>", "<KEEP>", "start", ")", ";", "return", "new", "gobbling", "(", "<KEEP_END>", "<DELETE>", "next", "start", "<DELETE_END>", "<KEEP>", "minus", "<KEEP_END>", "<REPLACE_OLD>", "previous", "<REPLACE_NEW>", "next", "<REPLACE_END>", "<KEEP>", ",", "make", "embedded", "list", "item", "(", "<KEEP_END>", "<REPLACE_OLD>", "gobble", "start", ")", ",", "true", "<REPLACE_NEW>", "next", ")", ",", "indentation", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "else", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "treepath", "<", "syntactic", "tree", ">", "minus", "previous", "<REPLACE_NEW>", "syntactic", "tree", "next", "tree", "=", "next", ".", "get", "tree", "at", "end", "(", ")", ";", "if", "(", "next", "tree", ".", "is", "one", "of", "(", "whitespace", "_", ",", "line", "_", "break", "_", ")", ")", "{", "start", "<REPLACE_END>", "<KEEP>", "=", "treepath", "tools", ".", "remove", "<KEEP_END>", "<REPLACE_OLD>", "end", "(", "gobble", "start", ")", ";", "<REPLACE_NEW>", "next", "sibling", "(", "start", ")", ";", "if", "(", "next", "tree", ".", "is", "one", "of", "(", "whitespace", "_", ")", ")", "{", "indentation", "=", "get", "whitespace", "length", "(", "next", ")", ";", "}", "continue", ";", "}", "}", "}", "<REPLACE_END>", "<KEEP>", "return", "new", "gobbling", "(", "<KEEP_END>", "<REPLACE_OLD>", "minus", "previous", ",", "make", "embedded", "list", "item", "(", "gobble", "start", ")", ",", "false", ")", ";", "}", "}", "else", "if", "(", "gobble", "start", ".", "get", "tree", "at", "end", "(", ")", ".", "is", "one", "of", "(", "whitespace", "_", ",", "line", "_", "break", "_", ")", ")", "{", "if", "(", "treepath", "tools", ".", "has", "next", "sibling", "(", "gobble", "start", ")", ")", "{", "gobble", "start", "=", "treepath", "tools", ".", "get", "next", "sibling", "(", "gobble", "start", ")", ";", "}", "}", "else", "{", "return", "null", ";", "}", "<REPLACE_NEW>", "start", ")", ";", "<REPLACE_END>", "<KEEP>", "}", "while", "(", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> null if gobble start was null , or <DELETE_END> <DELETE> gobbling # treepath minus gobbled still refers to the _ placeholder _ but some separators and one raw item have been removed . gobbling # gobbled tree is the result of the gobbling <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "null", "if", "gobble", "start", "was", "null", ",", "or", "<DELETE_END>", "<DELETE>", "gobbling", "#", "treepath", "minus", "gobbled", "still", "refers", "to", "the", "_", "placeholder", "_", "but", "some", "separators", "and", "one", "raw", "item", "have", "been", "removed", ".", "gobbling", "#", "gobbled", "tree", "is", "the", "result", "of", "the", "gobbling", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<KEEP>", "gobbling", "<KEEP>", "gobble", "<KEEP>", "(", "<KEEP>", "treepath", "<KEEP>", "<", "<KEEP>", "syntactic", "<KEEP>", "tree", "<KEEP>", ">", "<KEEP>", "gobble", "<KEEP>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "indentation", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "preconditions", "<KEEP>", ".", "<KEEP>", "check", "<KEEP>", "argument", "<KEEP>", "(", "<KEEP>", "gobble", "<KEEP>", "start", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "tree", "<KEEP>", "at", "<KEEP>", "end", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "one", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "placeholder", "<KEEP>", "_", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "treepath", "<REPLACE_OLD>", "tools", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "sibling", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "treepath", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "syntactic", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "start", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "gobble", "<REPLACE_NEW>", "start", "<KEEP>", ";", "<KEEP>", "do", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "treepath", "<INSERT>", "tools", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "next", "<INSERT>", "sibling", "<INSERT>", "(", "<INSERT>", "start", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "final", "<INSERT>", "treepath", "<INSERT>", "<", "<INSERT>", "syntactic", "<INSERT>", "tree", "<INSERT>", ">", "<INSERT>", "next", "<INSERT>", "=", "<INSERT>", "treepath", "<INSERT>", "tools", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "next", "<INSERT>", "sibling", "<INSERT>", "(", "<INSERT>", "start", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "raw", "<KEEP>", "item", "<KEEP>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "treepath", "<REPLACE_OLD>", "tools", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "sibling", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "next", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "treepath", "<KEEP>", "<", "<KEEP>", "syntactic", "<KEEP>", "tree", "<KEEP>", ">", "<DELETE>", "next", "<DELETE>", "start", "<DELETE>", "=", "<DELETE>", "treepath", "<DELETE>", "tools", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "next", "<DELETE>", "sibling", "<DELETE>", "(", "<DELETE>", "gobble", "<DELETE>", "start", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "treepath", "<DELETE>", "<", "<DELETE>", "syntactic", "<DELETE>", "tree", "<DELETE>", ">", "<DELETE>", "next", "<DELETE>", "start", "<KEEP>", "minus", "<REPLACE_OLD>", "previous", "<REPLACE_NEW>", "next", "<KEEP>", "=", "<KEEP>", "treepath", "<KEEP>", "tools", "<KEEP>", ".", "<KEEP>", "remove", "<REPLACE_OLD>", "previous", "<REPLACE_OLD>", "sibling", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "next", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "sibling", "<REPLACE_NEW>", "(", "<KEEP>", "start", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "gobbling", "<KEEP>", "(", "<DELETE>", "next", "<DELETE>", "start", "<KEEP>", "minus", "<REPLACE_OLD>", "previous", "<REPLACE_NEW>", "next", "<KEEP>", ",", "<KEEP>", "make", "<KEEP>", "embedded", "<KEEP>", "list", "<KEEP>", "item", "<KEEP>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "indentation", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "treepath", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "syntactic", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "minus", "<REPLACE_OLD>", "previous", "<REPLACE_NEW>", "syntactic", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "at", "<REPLACE_NEW>", "end", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "whitespace", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "break", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "start", "<KEEP>", "=", "<KEEP>", "treepath", "<KEEP>", "tools", "<KEEP>", ".", "<KEEP>", "remove", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "sibling", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "start", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "whitespace", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "indentation", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "whitespace", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "continue", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "gobbling", "<KEEP>", "(", "<REPLACE_OLD>", "minus", "<REPLACE_OLD>", "previous", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "make", "<REPLACE_OLD>", "embedded", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "at", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "one", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "whitespace", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "line", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "treepath", "<REPLACE_OLD>", "tools", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "sibling", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "treepath", "<REPLACE_OLD>", "tools", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "sibling", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gobble", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "start", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_my-14-6913", "old_comment": "a sqlrow ( non fetched ) or null .", "old_comment_tokens": ["a", "sqlrow", "(", "non", "fetched", ")", "or", "null", "."], "new_comment": "a sqlrow or null .", "new_comment_tokens": ["a", "sqlrow", "or", "null", "."], "old_code": "public final sqlrow get selected row ( ) { if ( this . is empty ( ) ) return null ; else { return new sqlrow ( this . get foreign table ( ) , this . get selected id ( ) ) ; } }", "old_code_tokens": ["public", "final", "sqlrow", "get", "selected", "row", "(", ")", "{", "if", "(", "this", ".", "is", "empty", "(", ")", ")", "return", "null", ";", "else", "{", "return", "new", "sqlrow", "(", "this", ".", "get", "foreign", "table", "(", ")", ",", "this", ".", "get", "selected", "id", "(", ")", ")", ";", "}", "}"], "new_code": "public final sqlrow get selected row ( ) { if ( this . is empty ( ) ) { return null ; } else { final icombo selection item o = this . get value ( ) ; final sqlrow accessor r = o . get row ( ) ; if ( r ! = null ) { return r . as row ( ) ; } else { return new sqlrow ( this . get foreign table ( ) , o . get id ( ) ) ; } } }", "new_code_tokens": ["public", "final", "sqlrow", "get", "selected", "row", "(", ")", "{", "if", "(", "this", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "else", "{", "final", "icombo", "selection", "item", "o", "=", "this", ".", "get", "value", "(", ")", ";", "final", "sqlrow", "accessor", "r", "=", "o", ".", "get", "row", "(", ")", ";", "if", "(", "r", "!", "=", "null", ")", "{", "return", "r", ".", "as", "row", "(", ")", ";", "}", "else", "{", "return", "new", "sqlrow", "(", "this", ".", "get", "foreign", "table", "(", ")", ",", "o", ".", "get", "id", "(", ")", ")", ";", "}", "}", "}"], "span_diff_code": "<KEEP> public final sqlrow get selected row ( ) { if ( this . is empty ( ) ) <KEEP_END> <INSERT> { <INSERT_END> <KEEP> return null ; <KEEP_END> <INSERT> } else { final icombo selection item o = this . get value ( ) ; final sqlrow accessor r = o . get row ( ) ; if ( r ! = null ) { return r . as row ( ) ; } <INSERT_END> <KEEP> else { return new sqlrow ( this . get foreign table ( ) , <KEEP_END> <REPLACE_OLD> this <REPLACE_NEW> o <REPLACE_END> <KEEP> . get <KEEP_END> <DELETE> selected <DELETE_END> <KEEP> id ( ) ) ; } } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "sqlrow", "get", "selected", "row", "(", ")", "{", "if", "(", "this", ".", "is", "empty", "(", ")", ")", "<KEEP_END>", "<INSERT>", "{", "<INSERT_END>", "<KEEP>", "return", "null", ";", "<KEEP_END>", "<INSERT>", "}", "else", "{", "final", "icombo", "selection", "item", "o", "=", "this", ".", "get", "value", "(", ")", ";", "final", "sqlrow", "accessor", "r", "=", "o", ".", "get", "row", "(", ")", ";", "if", "(", "r", "!", "=", "null", ")", "{", "return", "r", ".", "as", "row", "(", ")", ";", "}", "<INSERT_END>", "<KEEP>", "else", "{", "return", "new", "sqlrow", "(", "this", ".", "get", "foreign", "table", "(", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "this", "<REPLACE_NEW>", "o", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<DELETE>", "selected", "<DELETE_END>", "<KEEP>", "id", "(", ")", ")", ";", "}", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> ( non fetched ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "non", "fetched", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "sqlrow", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "row", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "final", "<INSERT>", "icombo", "<INSERT>", "selection", "<INSERT>", "item", "<INSERT>", "o", "<INSERT>", "=", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "sqlrow", "<INSERT>", "accessor", "<INSERT>", "r", "<INSERT>", "=", "<INSERT>", "o", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "row", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "r", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "r", "<INSERT>", ".", "<INSERT>", "as", "<INSERT>", "row", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "sqlrow", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "foreign", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "this", "<REPLACE_NEW>", "o", "<KEEP>", ".", "<KEEP>", "get", "<DELETE>", "selected", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-315-7421", "old_comment": "new instance of the rule to be used by unit tests", "old_comment_tokens": ["new", "instance", "of", "the", "rule", "to", "be", "used", "by", "unit", "tests"], "new_comment": "new instance of the policy to be used by unit tests", "new_comment_tokens": ["new", "instance", "of", "the", "policy", "to", "be", "used", "by", "unit", "tests"], "old_code": "static mongo database rule create ( ) { final mongo client client ; if ( mongo assertions . use mongo ( ) ) { client = new mongo client ( ) ; } else if ( mongo assertions . use fongo ( ) ) { client = new fongo ( mongo database rule . class . get simple name ( ) ) . get mongo ( ) ; } else { throw new unsupported operation exception ( str ) ; } return new mongo database rule ( client ) ; }", "old_code_tokens": ["static", "mongo", "database", "rule", "create", "(", ")", "{", "final", "mongo", "client", "client", ";", "if", "(", "mongo", "assertions", ".", "use", "mongo", "(", ")", ")", "{", "client", "=", "new", "mongo", "client", "(", ")", ";", "}", "else", "if", "(", "mongo", "assertions", ".", "use", "fongo", "(", ")", ")", "{", "client", "=", "new", "fongo", "(", "mongo", "database", "rule", ".", "class", ".", "get", "simple", "name", "(", ")", ")", ".", "get", "mongo", "(", ")", ";", "}", "else", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", ")", ";", "}", "return", "new", "mongo", "database", "rule", "(", "client", ")", ";", "}"], "new_code": "static mongo database policy create ( ) { final mongo client client ; if ( mongo assertions . use mongo ( ) ) { client = new mongo client ( ) ; } else if ( mongo assertions . use fongo ( ) ) { client = new fongo ( mongo database policy . class . get simple name ( ) ) . get mongo ( ) ; } else { throw new unsupported operation exception ( str ) ; } return new mongo database policy ( client ) ; }", "new_code_tokens": ["static", "mongo", "database", "policy", "create", "(", ")", "{", "final", "mongo", "client", "client", ";", "if", "(", "mongo", "assertions", ".", "use", "mongo", "(", ")", ")", "{", "client", "=", "new", "mongo", "client", "(", ")", ";", "}", "else", "if", "(", "mongo", "assertions", ".", "use", "fongo", "(", ")", ")", "{", "client", "=", "new", "fongo", "(", "mongo", "database", "policy", ".", "class", ".", "get", "simple", "name", "(", ")", ")", ".", "get", "mongo", "(", ")", ";", "}", "else", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", ")", ";", "}", "return", "new", "mongo", "database", "policy", "(", "client", ")", ";", "}"], "span_diff_code": "<KEEP> static mongo database <KEEP_END> <REPLACE_OLD> rule <REPLACE_NEW> policy <REPLACE_END> <KEEP> create ( ) { final mongo client client ; if ( mongo assertions . use mongo ( ) ) { client = new mongo client ( ) ; } else if ( mongo assertions . use fongo ( ) ) { client = new fongo ( mongo database <KEEP_END> <REPLACE_OLD> rule <REPLACE_NEW> policy <REPLACE_END> <KEEP> . class . get simple name ( ) ) . get mongo ( ) ; } else { throw new unsupported operation exception ( str ) ; } return new mongo database <KEEP_END> <REPLACE_OLD> rule <REPLACE_NEW> policy <REPLACE_END> <KEEP> ( client ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "mongo", "database", "<KEEP_END>", "<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<REPLACE_END>", "<KEEP>", "create", "(", ")", "{", "final", "mongo", "client", "client", ";", "if", "(", "mongo", "assertions", ".", "use", "mongo", "(", ")", ")", "{", "client", "=", "new", "mongo", "client", "(", ")", ";", "}", "else", "if", "(", "mongo", "assertions", ".", "use", "fongo", "(", ")", ")", "{", "client", "=", "new", "fongo", "(", "mongo", "database", "<KEEP_END>", "<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<REPLACE_END>", "<KEEP>", ".", "class", ".", "get", "simple", "name", "(", ")", ")", ".", "get", "mongo", "(", ")", ";", "}", "else", "{", "throw", "new", "unsupported", "operation", "exception", "(", "str", ")", ";", "}", "return", "new", "mongo", "database", "<KEEP_END>", "<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<REPLACE_END>", "<KEEP>", "(", "client", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> rule <REPLACE_NEW> policy <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "mongo", "<KEEP>", "database", "<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<KEEP>", "create", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "mongo", "<KEEP>", "client", "<KEEP>", "client", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mongo", "<KEEP>", "assertions", "<KEEP>", ".", "<KEEP>", "use", "<KEEP>", "mongo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "client", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "mongo", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mongo", "<KEEP>", "assertions", "<KEEP>", ".", "<KEEP>", "use", "<KEEP>", "fongo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "client", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "fongo", "<KEEP>", "(", "<KEEP>", "mongo", "<KEEP>", "database", "<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "simple", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "mongo", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "unsupported", "<KEEP>", "operation", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "mongo", "<KEEP>", "database", "<REPLACE_OLD>", "rule", "<REPLACE_NEW>", "policy", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "heuermh_ensembl-rest-client-2-5256", "old_comment": "a new feature service with the default server url", "old_comment_tokens": ["a", "new", "feature", "service", "with", "the", "default", "server", "url"], "new_comment": "a new feature service with the default endpoint url", "new_comment_tokens": ["a", "new", "feature", "service", "with", "the", "default", "endpoint", "url"], "old_code": "public feature service create feature service ( ) { return create feature service ( default server url ) ; }", "old_code_tokens": ["public", "feature", "service", "create", "feature", "service", "(", ")", "{", "return", "create", "feature", "service", "(", "default", "server", "url", ")", ";", "}"], "new_code": "public feature service create feature service ( ) { return create feature service ( default endpoint url ) ; }", "new_code_tokens": ["public", "feature", "service", "create", "feature", "service", "(", ")", "{", "return", "create", "feature", "service", "(", "default", "endpoint", "url", ")", ";", "}"], "span_diff_code": "<KEEP> public feature service create feature service ( ) { return create feature service ( default <KEEP_END> <REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END> <KEEP> url ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "feature", "service", "create", "feature", "service", "(", ")", "{", "return", "create", "feature", "service", "(", "default", "<KEEP_END>", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>", "<KEEP>", "url", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "feature", "<KEEP>", "service", "<KEEP>", "create", "<KEEP>", "feature", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "feature", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "default", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-22-6958", "old_comment": "a hashtable representation of the passed in workflow task configuration ' s properties .", "old_comment_tokens": ["a", "hashtable", "representation", "of", "the", "passed", "in", "workflow", "task", "configuration", "'", "s", "properties", "."], "new_comment": "a hash map representation of the passed in workflow task configuration ' s properties .", "new_comment_tokens": ["a", "hash", "map", "representation", "of", "the", "passed", "in", "workflow", "task", "configuration", "'", "s", "properties", "."], "old_code": "public static hashtable get xml rpc workflow task configuration ( workflow task configuration config ) { hashtable configuration = new hashtable ( ) ; for ( object o : config . get properties ( ) . key set ( ) ) { string name = ( string ) o ; string value = ( string ) config . get properties ( ) . get ( name ) ; configuration . put ( name , value ) ; } return configuration ; }", "old_code_tokens": ["public", "static", "hashtable", "get", "xml", "rpc", "workflow", "task", "configuration", "(", "workflow", "task", "configuration", "config", ")", "{", "hashtable", "configuration", "=", "new", "hashtable", "(", ")", ";", "for", "(", "object", "o", ":", "config", ".", "get", "properties", "(", ")", ".", "key", "set", "(", ")", ")", "{", "string", "name", "=", "(", "string", ")", "o", ";", "string", "value", "=", "(", "string", ")", "config", ".", "get", "properties", "(", ")", ".", "get", "(", "name", ")", ";", "configuration", ".", "put", "(", "name", ",", "value", ")", ";", "}", "return", "configuration", ";", "}"], "new_code": "public static hash map get xml rpc workflow task configuration ( workflow task configuration config ) { hash map configuration = new hash map ( ) ; for ( object o : config . get properties ( ) . key set ( ) ) { string name = ( string ) o ; string value = ( string ) config . get properties ( ) . get ( name ) ; configuration . put ( name , value ) ; } return configuration ; }", "new_code_tokens": ["public", "static", "hash", "map", "get", "xml", "rpc", "workflow", "task", "configuration", "(", "workflow", "task", "configuration", "config", ")", "{", "hash", "map", "configuration", "=", "new", "hash", "map", "(", ")", ";", "for", "(", "object", "o", ":", "config", ".", "get", "properties", "(", ")", ".", "key", "set", "(", ")", ")", "{", "string", "name", "=", "(", "string", ")", "o", ";", "string", "value", "=", "(", "string", ")", "config", ".", "get", "properties", "(", ")", ".", "get", "(", "name", ")", ";", "configuration", ".", "put", "(", "name", ",", "value", ")", ";", "}", "return", "configuration", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> get xml rpc workflow task configuration ( workflow task configuration config ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> configuration = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> ( ) ; for ( object o : config . get properties ( ) . key set ( ) ) { string name = ( string ) o ; string value = ( string ) config . get properties ( ) . get ( name ) ; configuration . put ( name , value ) ; } return configuration ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "get", "xml", "rpc", "workflow", "task", "configuration", "(", "workflow", "task", "configuration", "config", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "configuration", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "object", "o", ":", "config", ".", "get", "properties", "(", ")", ".", "key", "set", "(", ")", ")", "{", "string", "name", "=", "(", "string", ")", "o", ";", "string", "value", "=", "(", "string", ")", "config", ".", "get", "properties", "(", ")", ".", "get", "(", "name", ")", ";", "configuration", ".", "put", "(", "name", ",", "value", ")", ";", "}", "return", "configuration", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "task", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", "workflow", "<KEEP>", "task", "<KEEP>", "configuration", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "configuration", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "o", "<KEEP>", ":", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "o", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "properties", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "configuration", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "tronprotocol_java-tron-0-2742", "old_comment": "- 20 right bytes of the hash keccak of the data", "old_comment_tokens": ["-", "20", "right", "bytes", "of", "the", "hash", "keccak", "of", "the", "data"], "new_comment": "- add _ pre _ fix + 20 right bytes of the hash keccak of the data", "new_comment_tokens": ["-", "add", "_", "pre", "_", "fix", "+", "20", "right", "bytes", "of", "the", "hash", "keccak", "of", "the", "data"], "old_code": "public static byte [ ] sha3omit12 ( byte [ ] input ) { byte [ ] hash = sha3 ( input ) ; return copy of range ( hash , num , hash . length ) ; }", "old_code_tokens": ["public", "static", "byte", "[", "]", "sha3omit12", "(", "byte", "[", "]", "input", ")", "{", "byte", "[", "]", "hash", "=", "sha3", "(", "input", ")", ";", "return", "copy", "of", "range", "(", "hash", ",", "num", ",", "hash", ".", "length", ")", ";", "}"], "new_code": "public static byte [ ] sha3omit12 ( byte [ ] input ) { byte [ ] hash = sha3 ( input ) ; byte [ ] address = copy of range ( hash , num , hash . length ) ; address [ num ] = wallet . get address pre fix byte ( ) ; return address ; }", "new_code_tokens": ["public", "static", "byte", "[", "]", "sha3omit12", "(", "byte", "[", "]", "input", ")", "{", "byte", "[", "]", "hash", "=", "sha3", "(", "input", ")", ";", "byte", "[", "]", "address", "=", "copy", "of", "range", "(", "hash", ",", "num", ",", "hash", ".", "length", ")", ";", "address", "[", "num", "]", "=", "wallet", ".", "get", "address", "pre", "fix", "byte", "(", ")", ";", "return", "address", ";", "}"], "span_diff_code": "<KEEP> public static byte [ ] sha3omit12 ( byte [ ] input ) { byte [ ] hash = sha3 ( input ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> byte [ ] address = <REPLACE_END> <KEEP> copy of range ( hash , num , hash . length ) ; <KEEP_END> <INSERT> address [ num ] = wallet . get address pre fix byte ( ) ; return address ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "byte", "[", "]", "sha3omit12", "(", "byte", "[", "]", "input", ")", "{", "byte", "[", "]", "hash", "=", "sha3", "(", "input", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "byte", "[", "]", "address", "=", "<REPLACE_END>", "<KEEP>", "copy", "of", "range", "(", "hash", ",", "num", ",", "hash", ".", "length", ")", ";", "<KEEP_END>", "<INSERT>", "address", "[", "num", "]", "=", "wallet", ".", "get", "address", "pre", "fix", "byte", "(", ")", ";", "return", "address", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> - <INSERT_NEW_KEEP_BEFORE> - add _ pre _ fix + <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "-", "<INSERT_NEW_KEEP_BEFORE>", "-", "add", "_", "pre", "_", "fix", "+", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "sha3omit12", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "hash", "<KEEP>", "=", "<KEEP>", "sha3", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "=", "<KEEP>", "copy", "<KEEP>", "of", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "hash", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "hash", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "address", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "wallet", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "address", "<INSERT>", "pre", "<INSERT>", "fix", "<INSERT>", "byte", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "address", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_sisu.inject-9-5388", "old_comment": "hidden source", "old_comment_tokens": ["hidden", "source"], "new_comment": "internal source", "new_comment_tokens": ["internal", "source"], "old_code": "public static hidden hide ( ) { return hide ( null ) ; }", "old_code_tokens": ["public", "static", "hidden", "hide", "(", ")", "{", "return", "hide", "(", "null", ")", ";", "}"], "new_code": "public static internal hide ( ) { return hide ( null ) ; }", "new_code_tokens": ["public", "static", "internal", "hide", "(", ")", "{", "return", "hide", "(", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hidden <REPLACE_NEW> internal <REPLACE_END> <KEEP> hide ( ) { return hide ( null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hidden", "<REPLACE_NEW>", "internal", "<REPLACE_END>", "<KEEP>", "hide", "(", ")", "{", "return", "hide", "(", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hidden <REPLACE_NEW> internal <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hidden", "<REPLACE_NEW>", "internal", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hidden", "<REPLACE_NEW>", "internal", "<KEEP>", "hide", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "hide", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-40-5910", "old_comment": "true if the function was successfully", "old_comment_tokens": ["true", "if", "the", "function", "was", "successfully"], "new_comment": "first created node id or - 1 if no node was created using this method", "new_comment_tokens": ["first", "created", "node", "id", "or", "-", "1", "if", "no", "node", "was", "created", "using", "this", "method"], "old_code": "public boolean reorganize space ( connection con , sequencer engine seq , fx tree mode source mode , fx tree mode dest mode , long node id , boolean include node id , big decimal override spacing , big decimal override left , fx tree node info insert parent , int insert position , big decimal insert space , big decimal [ ] insert boundaries , int depth delta , long destination node , boolean create mode , boolean create keep ids , long first created node id ) throws fx tree exception { fx tree node info spreaded node info ; try { node info = ( fx tree node info spreaded ) get tree node info ( con , source mode , node id ) ; } catch ( exception e ) { return false ; } if ( ! node info . is space optimizable ( ) ) { if ( node id = = root _ node ) { return false ; } return reorganize space ( con , seq , source mode , dest mode , node info . get parent id ( ) , include node id , override spacing , override left , insert parent , insert position , insert space , insert boundaries , depth delta , destination node , create mode , create keep ids , first created node id ) ; } big decimal spacing = node info . get default spacing ( ) ; if ( override spacing ! = null & & override spacing . compare to ( spacing ) < num ) { spacing = override spacing ; } else { if ( spacing . compare to ( go _ up ) < num ) { return reorganize space ( con , seq , source mode , dest mode , node info . get parent id ( ) , include node id , override spacing , override left , insert parent , insert position , insert space , insert boundaries , depth delta , destination node , create mode , create keep ids , first created node id ) ; } } statement stmt = null ; prepared statement ps = null ; result set rs ; big decimal left = override left = = null ? node info . get left ( ) : override left ; big decimal right = null ; string include node = include node id ? str : str ; long counter = num ; first created node id = - num ; long new id = - num ; try { string create props = create mode ? str : str ; string sql = str + create props + str + create props + str + get table ( source mode ) + str + str + include node + node info . get left ( ) + str + include node + node info . get right ( ) + str + str ; stmt = con . create statement ( ) ; rs = stmt . execute query ( sql ) ; if ( create mode ) { ps = con . prepare statement ( str + get table ( dest mode ) + str + str + str ) ; } else { ps = con . prepare statement ( str + get table ( source mode ) + str ) ; } long id ; int total _ childs ; int direct _ childs ; big decimal next left ; int last depth = node info . get depth ( ) + ( include node id ? num : num ) ; int depth ; big decimal _ rgt ; big decimal _ lft ; long ref = null ; string template = null ; string name = str ; stack < long > current parent = null ; if ( create mode ) { current parent = new stack < long > ( ) ; current parent . push ( destination node ) ; } while ( rs . next ( ) ) { id = rs . get long ( num ) ; total _ childs = rs . get int ( num ) ; direct _ childs = rs . get int ( num ) ; _ lft = rs . get big decimal ( num ) ; _ rgt = rs . get big decimal ( num ) ; depth = rs . get int ( num ) ; if ( create mode ) { ref = rs . get long ( num ) ; if ( rs . was null ( ) ) ref = null ; name = rs . get string ( num ) ; template = rs . get string ( num ) ; if ( rs . was null ( ) ) template = null ; } left = left . add ( spacing ) . add ( big decimal . one ) ; if ( last depth - depth > num ) { big decimal depth difference = spacing . add ( big decimal . one ) ; left = left . add ( depth difference . multiply ( new big decimal ( last depth - depth ) ) ) ; } if ( create mode ) { if ( last depth < depth ) { current parent . push ( new id ) ; } else if ( last depth > depth ) { current parent . pop ( ) ; } } right = left . add ( spacing ) . add ( big decimal . one ) ; if ( total _ childs > num ) { big decimal child space = spacing . multiply ( new big decimal ( total _ childs * num ) ) ; child space = child space . add ( new big decimal ( ( total _ childs * num ) - num ) ) ; right = right . add ( child space ) ; next left = left ; } else { next left = right ; } if ( insert boundaries ! = null ) { if ( _ lft . compare to ( insert boundaries [ num ] ) > num ) { left = left . add ( insert space ) ; } if ( _ rgt . compare to ( insert boundaries [ num ] ) > num ) { right = right . add ( insert space ) ; } } if ( create mode ) { new id = create keep ids ? id : seq . get id ( dest mode . get sequencer ( ) ) ; if ( first created node id = = - num ) { first created node id = new id ; } ps . set long ( num , new id ) ; ps . set long ( num , current parent . peek ( ) ) ; ps . set long ( num , depth + depth delta ) ; ps . set boolean ( num , dest mode ! = fx tree mode . live ) ; if ( ref = = null ) { ps . set null ( num , java . sql . types . numeric ) ; } else { ps . set long ( num , ref ) ; } if ( template = = null ) { ps . set null ( num , java . sql . types . varchar ) ; } else { ps . set string ( num , template ) ; } ps . set big decimal ( num , left ) ; ps . set big decimal ( num , right ) ; ps . set int ( num , total _ childs ) ; ps . set int ( num , direct _ childs ) ; ps . set string ( num , name ) ; ps . set long ( num , system . current time millis ( ) ) ; ps . add batch ( ) ; } else { ps . set big decimal ( num , left ) ; ps . set big decimal ( num , right ) ; ps . set int ( num , depth + depth delta ) ; ps . set long ( num , id ) ; ps . add batch ( ) ; ps . execute batch ( ) ; ps . clear batch ( ) ; } left = next left ; last depth = depth ; counter + + ; if ( counter % num = = num ) { ps . execute batch ( ) ; ps . clear batch ( ) ; } } rs . close ( ) ; stmt . close ( ) ; stmt = null ; ps . execute batch ( ) ; return true ; } catch ( throwable e ) { throw new fx tree exception ( log , e , str , counter , left , right , e . get message ( ) ) ; } finally { try { if ( stmt ! = null ) stmt . close ( ) ; } catch ( throwable t ) { } try { if ( ps ! = null ) ps . close ( ) ; } catch ( throwable t ) { } } }", "old_code_tokens": ["public", "boolean", "reorganize", "space", "(", "connection", "con", ",", "sequencer", "engine", "seq", ",", "fx", "tree", "mode", "source", "mode", ",", "fx", "tree", "mode", "dest", "mode", ",", "long", "node", "id", ",", "boolean", "include", "node", "id", ",", "big", "decimal", "override", "spacing", ",", "big", "decimal", "override", "left", ",", "fx", "tree", "node", "info", "insert", "parent", ",", "int", "insert", "position", ",", "big", "decimal", "insert", "space", ",", "big", "decimal", "[", "]", "insert", "boundaries", ",", "int", "depth", "delta", ",", "long", "destination", "node", ",", "boolean", "create", "mode", ",", "boolean", "create", "keep", "ids", ",", "long", "first", "created", "node", "id", ")", "throws", "fx", "tree", "exception", "{", "fx", "tree", "node", "info", "spreaded", "node", "info", ";", "try", "{", "node", "info", "=", "(", "fx", "tree", "node", "info", "spreaded", ")", "get", "tree", "node", "info", "(", "con", ",", "source", "mode", ",", "node", "id", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "false", ";", "}", "if", "(", "!", "node", "info", ".", "is", "space", "optimizable", "(", ")", ")", "{", "if", "(", "node", "id", "=", "=", "root", "_", "node", ")", "{", "return", "false", ";", "}", "return", "reorganize", "space", "(", "con", ",", "seq", ",", "source", "mode", ",", "dest", "mode", ",", "node", "info", ".", "get", "parent", "id", "(", ")", ",", "include", "node", "id", ",", "override", "spacing", ",", "override", "left", ",", "insert", "parent", ",", "insert", "position", ",", "insert", "space", ",", "insert", "boundaries", ",", "depth", "delta", ",", "destination", "node", ",", "create", "mode", ",", "create", "keep", "ids", ",", "first", "created", "node", "id", ")", ";", "}", "big", "decimal", "spacing", "=", "node", "info", ".", "get", "default", "spacing", "(", ")", ";", "if", "(", "override", "spacing", "!", "=", "null", "&", "&", "override", "spacing", ".", "compare", "to", "(", "spacing", ")", "<", "num", ")", "{", "spacing", "=", "override", "spacing", ";", "}", "else", "{", "if", "(", "spacing", ".", "compare", "to", "(", "go", "_", "up", ")", "<", "num", ")", "{", "return", "reorganize", "space", "(", "con", ",", "seq", ",", "source", "mode", ",", "dest", "mode", ",", "node", "info", ".", "get", "parent", "id", "(", ")", ",", "include", "node", "id", ",", "override", "spacing", ",", "override", "left", ",", "insert", "parent", ",", "insert", "position", ",", "insert", "space", ",", "insert", "boundaries", ",", "depth", "delta", ",", "destination", "node", ",", "create", "mode", ",", "create", "keep", "ids", ",", "first", "created", "node", "id", ")", ";", "}", "}", "statement", "stmt", "=", "null", ";", "prepared", "statement", "ps", "=", "null", ";", "result", "set", "rs", ";", "big", "decimal", "left", "=", "override", "left", "=", "=", "null", "?", "node", "info", ".", "get", "left", "(", ")", ":", "override", "left", ";", "big", "decimal", "right", "=", "null", ";", "string", "include", "node", "=", "include", "node", "id", "?", "str", ":", "str", ";", "long", "counter", "=", "num", ";", "first", "created", "node", "id", "=", "-", "num", ";", "long", "new", "id", "=", "-", "num", ";", "try", "{", "string", "create", "props", "=", "create", "mode", "?", "str", ":", "str", ";", "string", "sql", "=", "str", "+", "create", "props", "+", "str", "+", "create", "props", "+", "str", "+", "get", "table", "(", "source", "mode", ")", "+", "str", "+", "str", "+", "include", "node", "+", "node", "info", ".", "get", "left", "(", ")", "+", "str", "+", "include", "node", "+", "node", "info", ".", "get", "right", "(", ")", "+", "str", "+", "str", ";", "stmt", "=", "con", ".", "create", "statement", "(", ")", ";", "rs", "=", "stmt", ".", "execute", "query", "(", "sql", ")", ";", "if", "(", "create", "mode", ")", "{", "ps", "=", "con", ".", "prepare", "statement", "(", "str", "+", "get", "table", "(", "dest", "mode", ")", "+", "str", "+", "str", "+", "str", ")", ";", "}", "else", "{", "ps", "=", "con", ".", "prepare", "statement", "(", "str", "+", "get", "table", "(", "source", "mode", ")", "+", "str", ")", ";", "}", "long", "id", ";", "int", "total", "_", "childs", ";", "int", "direct", "_", "childs", ";", "big", "decimal", "next", "left", ";", "int", "last", "depth", "=", "node", "info", ".", "get", "depth", "(", ")", "+", "(", "include", "node", "id", "?", "num", ":", "num", ")", ";", "int", "depth", ";", "big", "decimal", "_", "rgt", ";", "big", "decimal", "_", "lft", ";", "long", "ref", "=", "null", ";", "string", "template", "=", "null", ";", "string", "name", "=", "str", ";", "stack", "<", "long", ">", "current", "parent", "=", "null", ";", "if", "(", "create", "mode", ")", "{", "current", "parent", "=", "new", "stack", "<", "long", ">", "(", ")", ";", "current", "parent", ".", "push", "(", "destination", "node", ")", ";", "}", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "id", "=", "rs", ".", "get", "long", "(", "num", ")", ";", "total", "_", "childs", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "direct", "_", "childs", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "_", "lft", "=", "rs", ".", "get", "big", "decimal", "(", "num", ")", ";", "_", "rgt", "=", "rs", ".", "get", "big", "decimal", "(", "num", ")", ";", "depth", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "if", "(", "create", "mode", ")", "{", "ref", "=", "rs", ".", "get", "long", "(", "num", ")", ";", "if", "(", "rs", ".", "was", "null", "(", ")", ")", "ref", "=", "null", ";", "name", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "template", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "if", "(", "rs", ".", "was", "null", "(", ")", ")", "template", "=", "null", ";", "}", "left", "=", "left", ".", "add", "(", "spacing", ")", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "if", "(", "last", "depth", "-", "depth", ">", "num", ")", "{", "big", "decimal", "depth", "difference", "=", "spacing", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "left", "=", "left", ".", "add", "(", "depth", "difference", ".", "multiply", "(", "new", "big", "decimal", "(", "last", "depth", "-", "depth", ")", ")", ")", ";", "}", "if", "(", "create", "mode", ")", "{", "if", "(", "last", "depth", "<", "depth", ")", "{", "current", "parent", ".", "push", "(", "new", "id", ")", ";", "}", "else", "if", "(", "last", "depth", ">", "depth", ")", "{", "current", "parent", ".", "pop", "(", ")", ";", "}", "}", "right", "=", "left", ".", "add", "(", "spacing", ")", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "if", "(", "total", "_", "childs", ">", "num", ")", "{", "big", "decimal", "child", "space", "=", "spacing", ".", "multiply", "(", "new", "big", "decimal", "(", "total", "_", "childs", "*", "num", ")", ")", ";", "child", "space", "=", "child", "space", ".", "add", "(", "new", "big", "decimal", "(", "(", "total", "_", "childs", "*", "num", ")", "-", "num", ")", ")", ";", "right", "=", "right", ".", "add", "(", "child", "space", ")", ";", "next", "left", "=", "left", ";", "}", "else", "{", "next", "left", "=", "right", ";", "}", "if", "(", "insert", "boundaries", "!", "=", "null", ")", "{", "if", "(", "_", "lft", ".", "compare", "to", "(", "insert", "boundaries", "[", "num", "]", ")", ">", "num", ")", "{", "left", "=", "left", ".", "add", "(", "insert", "space", ")", ";", "}", "if", "(", "_", "rgt", ".", "compare", "to", "(", "insert", "boundaries", "[", "num", "]", ")", ">", "num", ")", "{", "right", "=", "right", ".", "add", "(", "insert", "space", ")", ";", "}", "}", "if", "(", "create", "mode", ")", "{", "new", "id", "=", "create", "keep", "ids", "?", "id", ":", "seq", ".", "get", "id", "(", "dest", "mode", ".", "get", "sequencer", "(", ")", ")", ";", "if", "(", "first", "created", "node", "id", "=", "=", "-", "num", ")", "{", "first", "created", "node", "id", "=", "new", "id", ";", "}", "ps", ".", "set", "long", "(", "num", ",", "new", "id", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "current", "parent", ".", "peek", "(", ")", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "depth", "+", "depth", "delta", ")", ";", "ps", ".", "set", "boolean", "(", "num", ",", "dest", "mode", "!", "=", "fx", "tree", "mode", ".", "live", ")", ";", "if", "(", "ref", "=", "=", "null", ")", "{", "ps", ".", "set", "null", "(", "num", ",", "java", ".", "sql", ".", "types", ".", "numeric", ")", ";", "}", "else", "{", "ps", ".", "set", "long", "(", "num", ",", "ref", ")", ";", "}", "if", "(", "template", "=", "=", "null", ")", "{", "ps", ".", "set", "null", "(", "num", ",", "java", ".", "sql", ".", "types", ".", "varchar", ")", ";", "}", "else", "{", "ps", ".", "set", "string", "(", "num", ",", "template", ")", ";", "}", "ps", ".", "set", "big", "decimal", "(", "num", ",", "left", ")", ";", "ps", ".", "set", "big", "decimal", "(", "num", ",", "right", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "total", "_", "childs", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "direct", "_", "childs", ")", ";", "ps", ".", "set", "string", "(", "num", ",", "name", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "ps", ".", "add", "batch", "(", ")", ";", "}", "else", "{", "ps", ".", "set", "big", "decimal", "(", "num", ",", "left", ")", ";", "ps", ".", "set", "big", "decimal", "(", "num", ",", "right", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "depth", "+", "depth", "delta", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "id", ")", ";", "ps", ".", "add", "batch", "(", ")", ";", "ps", ".", "execute", "batch", "(", ")", ";", "ps", ".", "clear", "batch", "(", ")", ";", "}", "left", "=", "next", "left", ";", "last", "depth", "=", "depth", ";", "counter", "+", "+", ";", "if", "(", "counter", "%", "num", "=", "=", "num", ")", "{", "ps", ".", "execute", "batch", "(", ")", ";", "ps", ".", "clear", "batch", "(", ")", ";", "}", "}", "rs", ".", "close", "(", ")", ";", "stmt", ".", "close", "(", ")", ";", "stmt", "=", "null", ";", "ps", ".", "execute", "batch", "(", ")", ";", "return", "true", ";", "}", "catch", "(", "throwable", "e", ")", "{", "throw", "new", "fx", "tree", "exception", "(", "log", ",", "e", ",", "str", ",", "counter", ",", "left", ",", "right", ",", "e", ".", "get", "message", "(", ")", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "stmt", "!", "=", "null", ")", "stmt", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "}", "try", "{", "if", "(", "ps", "!", "=", "null", ")", "ps", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "}", "}", "}"], "new_code": "public long reorganize space ( connection con , sequencer engine seq , fx tree mode source mode , fx tree mode dest mode , long node id , boolean include node id , big decimal override spacing , big decimal override left , fx tree node info insert parent , int insert position , big decimal insert space , big decimal [ ] insert boundaries , int depth delta , long destination node , boolean create mode , boolean create keep ids ) throws fx tree exception { long first created node id = - num ; fx tree node info spreaded node info ; try { node info = ( fx tree node info spreaded ) get tree node info ( con , source mode , node id ) ; } catch ( exception e ) { return - num ; } if ( ! node info . is space optimizable ( ) ) { if ( node id = = root _ node ) { return - num ; } return reorganize space ( con , seq , source mode , dest mode , node info . get parent id ( ) , include node id , override spacing , override left , insert parent , insert position , insert space , insert boundaries , depth delta , destination node , create mode , create keep ids ) ; } big decimal spacing = node info . get default spacing ( ) ; if ( override spacing ! = null & & override spacing . compare to ( spacing ) < num ) { spacing = override spacing ; } else { if ( spacing . compare to ( go _ up ) < num ) { return reorganize space ( con , seq , source mode , dest mode , node info . get parent id ( ) , include node id , override spacing , override left , insert parent , insert position , insert space , insert boundaries , depth delta , destination node , create mode , create keep ids ) ; } } statement stmt = null ; prepared statement ps = null ; result set rs ; big decimal left = override left = = null ? node info . get left ( ) : override left ; big decimal right = null ; string include node = include node id ? str : str ; long counter = num ; long new id = - num ; try { string create props = create mode ? str : str ; string sql = str + create props + str + create props + str + get table ( source mode ) + str + str + include node + node info . get left ( ) + str + include node + node info . get right ( ) + str + str ; stmt = con . create statement ( ) ; rs = stmt . execute query ( sql ) ; if ( create mode ) { ps = con . prepare statement ( str + get table ( dest mode ) + str + str + str ) ; } else { ps = con . prepare statement ( str + get table ( source mode ) + str ) ; } long id ; int total _ childs ; int direct _ childs ; big decimal next left ; int last depth = node info . get depth ( ) + ( include node id ? num : num ) ; int depth ; big decimal _ rgt ; big decimal _ lft ; long ref = null ; string template = null ; string name = str ; stack < long > current parent = null ; if ( create mode ) { current parent = new stack < long > ( ) ; current parent . push ( destination node ) ; } while ( rs . next ( ) ) { id = rs . get long ( num ) ; total _ childs = rs . get int ( num ) ; direct _ childs = rs . get int ( num ) ; _ lft = rs . get big decimal ( num ) ; _ rgt = rs . get big decimal ( num ) ; depth = rs . get int ( num ) ; if ( create mode ) { ref = rs . get long ( num ) ; if ( rs . was null ( ) ) ref = null ; name = rs . get string ( num ) ; template = rs . get string ( num ) ; if ( rs . was null ( ) ) template = null ; } left = left . add ( spacing ) . add ( big decimal . one ) ; if ( last depth - depth > num ) { big decimal depth difference = spacing . add ( big decimal . one ) ; left = left . add ( depth difference . multiply ( new big decimal ( last depth - depth ) ) ) ; } if ( create mode ) { if ( last depth < depth ) { current parent . push ( new id ) ; } else if ( last depth > depth ) { current parent . pop ( ) ; } } right = left . add ( spacing ) . add ( big decimal . one ) ; if ( total _ childs > num ) { big decimal child space = spacing . multiply ( new big decimal ( total _ childs * num ) ) ; child space = child space . add ( new big decimal ( ( total _ childs * num ) - num ) ) ; right = right . add ( child space ) ; next left = left ; } else { next left = right ; } if ( insert boundaries ! = null ) { if ( _ lft . compare to ( insert boundaries [ num ] ) > num ) { left = left . add ( insert space ) ; } if ( _ rgt . compare to ( insert boundaries [ num ] ) > num ) { right = right . add ( insert space ) ; } } if ( create mode ) { new id = create keep ids ? id : seq . get id ( dest mode . get sequencer ( ) ) ; if ( first created node id = = - num ) { first created node id = new id ; } ps . set long ( num , new id ) ; ps . set long ( num , current parent . peek ( ) ) ; ps . set long ( num , depth + depth delta ) ; ps . set boolean ( num , dest mode ! = fx tree mode . live ) ; if ( ref = = null ) { ps . set null ( num , java . sql . types . numeric ) ; } else { ps . set long ( num , ref ) ; } if ( template = = null ) { ps . set null ( num , java . sql . types . varchar ) ; } else { ps . set string ( num , template ) ; } ps . set big decimal ( num , left ) ; ps . set big decimal ( num , right ) ; ps . set int ( num , total _ childs ) ; ps . set int ( num , direct _ childs ) ; ps . set string ( num , name ) ; ps . set long ( num , system . current time millis ( ) ) ; ps . add batch ( ) ; } else { ps . set big decimal ( num , left ) ; ps . set big decimal ( num , right ) ; ps . set int ( num , depth + depth delta ) ; ps . set long ( num , id ) ; ps . add batch ( ) ; ps . execute batch ( ) ; ps . clear batch ( ) ; } left = next left ; last depth = depth ; counter + + ; if ( counter % num = = num ) { ps . execute batch ( ) ; ps . clear batch ( ) ; } } rs . close ( ) ; stmt . close ( ) ; stmt = null ; ps . execute batch ( ) ; return first created node id ; } catch ( throwable e ) { throw new fx tree exception ( log , e , str , counter , left , right , e . get message ( ) ) ; } finally { try { if ( stmt ! = null ) stmt . close ( ) ; } catch ( throwable t ) { } try { if ( ps ! = null ) ps . close ( ) ; } catch ( throwable t ) { } } }", "new_code_tokens": ["public", "long", "reorganize", "space", "(", "connection", "con", ",", "sequencer", "engine", "seq", ",", "fx", "tree", "mode", "source", "mode", ",", "fx", "tree", "mode", "dest", "mode", ",", "long", "node", "id", ",", "boolean", "include", "node", "id", ",", "big", "decimal", "override", "spacing", ",", "big", "decimal", "override", "left", ",", "fx", "tree", "node", "info", "insert", "parent", ",", "int", "insert", "position", ",", "big", "decimal", "insert", "space", ",", "big", "decimal", "[", "]", "insert", "boundaries", ",", "int", "depth", "delta", ",", "long", "destination", "node", ",", "boolean", "create", "mode", ",", "boolean", "create", "keep", "ids", ")", "throws", "fx", "tree", "exception", "{", "long", "first", "created", "node", "id", "=", "-", "num", ";", "fx", "tree", "node", "info", "spreaded", "node", "info", ";", "try", "{", "node", "info", "=", "(", "fx", "tree", "node", "info", "spreaded", ")", "get", "tree", "node", "info", "(", "con", ",", "source", "mode", ",", "node", "id", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "-", "num", ";", "}", "if", "(", "!", "node", "info", ".", "is", "space", "optimizable", "(", ")", ")", "{", "if", "(", "node", "id", "=", "=", "root", "_", "node", ")", "{", "return", "-", "num", ";", "}", "return", "reorganize", "space", "(", "con", ",", "seq", ",", "source", "mode", ",", "dest", "mode", ",", "node", "info", ".", "get", "parent", "id", "(", ")", ",", "include", "node", "id", ",", "override", "spacing", ",", "override", "left", ",", "insert", "parent", ",", "insert", "position", ",", "insert", "space", ",", "insert", "boundaries", ",", "depth", "delta", ",", "destination", "node", ",", "create", "mode", ",", "create", "keep", "ids", ")", ";", "}", "big", "decimal", "spacing", "=", "node", "info", ".", "get", "default", "spacing", "(", ")", ";", "if", "(", "override", "spacing", "!", "=", "null", "&", "&", "override", "spacing", ".", "compare", "to", "(", "spacing", ")", "<", "num", ")", "{", "spacing", "=", "override", "spacing", ";", "}", "else", "{", "if", "(", "spacing", ".", "compare", "to", "(", "go", "_", "up", ")", "<", "num", ")", "{", "return", "reorganize", "space", "(", "con", ",", "seq", ",", "source", "mode", ",", "dest", "mode", ",", "node", "info", ".", "get", "parent", "id", "(", ")", ",", "include", "node", "id", ",", "override", "spacing", ",", "override", "left", ",", "insert", "parent", ",", "insert", "position", ",", "insert", "space", ",", "insert", "boundaries", ",", "depth", "delta", ",", "destination", "node", ",", "create", "mode", ",", "create", "keep", "ids", ")", ";", "}", "}", "statement", "stmt", "=", "null", ";", "prepared", "statement", "ps", "=", "null", ";", "result", "set", "rs", ";", "big", "decimal", "left", "=", "override", "left", "=", "=", "null", "?", "node", "info", ".", "get", "left", "(", ")", ":", "override", "left", ";", "big", "decimal", "right", "=", "null", ";", "string", "include", "node", "=", "include", "node", "id", "?", "str", ":", "str", ";", "long", "counter", "=", "num", ";", "long", "new", "id", "=", "-", "num", ";", "try", "{", "string", "create", "props", "=", "create", "mode", "?", "str", ":", "str", ";", "string", "sql", "=", "str", "+", "create", "props", "+", "str", "+", "create", "props", "+", "str", "+", "get", "table", "(", "source", "mode", ")", "+", "str", "+", "str", "+", "include", "node", "+", "node", "info", ".", "get", "left", "(", ")", "+", "str", "+", "include", "node", "+", "node", "info", ".", "get", "right", "(", ")", "+", "str", "+", "str", ";", "stmt", "=", "con", ".", "create", "statement", "(", ")", ";", "rs", "=", "stmt", ".", "execute", "query", "(", "sql", ")", ";", "if", "(", "create", "mode", ")", "{", "ps", "=", "con", ".", "prepare", "statement", "(", "str", "+", "get", "table", "(", "dest", "mode", ")", "+", "str", "+", "str", "+", "str", ")", ";", "}", "else", "{", "ps", "=", "con", ".", "prepare", "statement", "(", "str", "+", "get", "table", "(", "source", "mode", ")", "+", "str", ")", ";", "}", "long", "id", ";", "int", "total", "_", "childs", ";", "int", "direct", "_", "childs", ";", "big", "decimal", "next", "left", ";", "int", "last", "depth", "=", "node", "info", ".", "get", "depth", "(", ")", "+", "(", "include", "node", "id", "?", "num", ":", "num", ")", ";", "int", "depth", ";", "big", "decimal", "_", "rgt", ";", "big", "decimal", "_", "lft", ";", "long", "ref", "=", "null", ";", "string", "template", "=", "null", ";", "string", "name", "=", "str", ";", "stack", "<", "long", ">", "current", "parent", "=", "null", ";", "if", "(", "create", "mode", ")", "{", "current", "parent", "=", "new", "stack", "<", "long", ">", "(", ")", ";", "current", "parent", ".", "push", "(", "destination", "node", ")", ";", "}", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "id", "=", "rs", ".", "get", "long", "(", "num", ")", ";", "total", "_", "childs", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "direct", "_", "childs", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "_", "lft", "=", "rs", ".", "get", "big", "decimal", "(", "num", ")", ";", "_", "rgt", "=", "rs", ".", "get", "big", "decimal", "(", "num", ")", ";", "depth", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "if", "(", "create", "mode", ")", "{", "ref", "=", "rs", ".", "get", "long", "(", "num", ")", ";", "if", "(", "rs", ".", "was", "null", "(", ")", ")", "ref", "=", "null", ";", "name", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "template", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "if", "(", "rs", ".", "was", "null", "(", ")", ")", "template", "=", "null", ";", "}", "left", "=", "left", ".", "add", "(", "spacing", ")", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "if", "(", "last", "depth", "-", "depth", ">", "num", ")", "{", "big", "decimal", "depth", "difference", "=", "spacing", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "left", "=", "left", ".", "add", "(", "depth", "difference", ".", "multiply", "(", "new", "big", "decimal", "(", "last", "depth", "-", "depth", ")", ")", ")", ";", "}", "if", "(", "create", "mode", ")", "{", "if", "(", "last", "depth", "<", "depth", ")", "{", "current", "parent", ".", "push", "(", "new", "id", ")", ";", "}", "else", "if", "(", "last", "depth", ">", "depth", ")", "{", "current", "parent", ".", "pop", "(", ")", ";", "}", "}", "right", "=", "left", ".", "add", "(", "spacing", ")", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "if", "(", "total", "_", "childs", ">", "num", ")", "{", "big", "decimal", "child", "space", "=", "spacing", ".", "multiply", "(", "new", "big", "decimal", "(", "total", "_", "childs", "*", "num", ")", ")", ";", "child", "space", "=", "child", "space", ".", "add", "(", "new", "big", "decimal", "(", "(", "total", "_", "childs", "*", "num", ")", "-", "num", ")", ")", ";", "right", "=", "right", ".", "add", "(", "child", "space", ")", ";", "next", "left", "=", "left", ";", "}", "else", "{", "next", "left", "=", "right", ";", "}", "if", "(", "insert", "boundaries", "!", "=", "null", ")", "{", "if", "(", "_", "lft", ".", "compare", "to", "(", "insert", "boundaries", "[", "num", "]", ")", ">", "num", ")", "{", "left", "=", "left", ".", "add", "(", "insert", "space", ")", ";", "}", "if", "(", "_", "rgt", ".", "compare", "to", "(", "insert", "boundaries", "[", "num", "]", ")", ">", "num", ")", "{", "right", "=", "right", ".", "add", "(", "insert", "space", ")", ";", "}", "}", "if", "(", "create", "mode", ")", "{", "new", "id", "=", "create", "keep", "ids", "?", "id", ":", "seq", ".", "get", "id", "(", "dest", "mode", ".", "get", "sequencer", "(", ")", ")", ";", "if", "(", "first", "created", "node", "id", "=", "=", "-", "num", ")", "{", "first", "created", "node", "id", "=", "new", "id", ";", "}", "ps", ".", "set", "long", "(", "num", ",", "new", "id", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "current", "parent", ".", "peek", "(", ")", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "depth", "+", "depth", "delta", ")", ";", "ps", ".", "set", "boolean", "(", "num", ",", "dest", "mode", "!", "=", "fx", "tree", "mode", ".", "live", ")", ";", "if", "(", "ref", "=", "=", "null", ")", "{", "ps", ".", "set", "null", "(", "num", ",", "java", ".", "sql", ".", "types", ".", "numeric", ")", ";", "}", "else", "{", "ps", ".", "set", "long", "(", "num", ",", "ref", ")", ";", "}", "if", "(", "template", "=", "=", "null", ")", "{", "ps", ".", "set", "null", "(", "num", ",", "java", ".", "sql", ".", "types", ".", "varchar", ")", ";", "}", "else", "{", "ps", ".", "set", "string", "(", "num", ",", "template", ")", ";", "}", "ps", ".", "set", "big", "decimal", "(", "num", ",", "left", ")", ";", "ps", ".", "set", "big", "decimal", "(", "num", ",", "right", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "total", "_", "childs", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "direct", "_", "childs", ")", ";", "ps", ".", "set", "string", "(", "num", ",", "name", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "ps", ".", "add", "batch", "(", ")", ";", "}", "else", "{", "ps", ".", "set", "big", "decimal", "(", "num", ",", "left", ")", ";", "ps", ".", "set", "big", "decimal", "(", "num", ",", "right", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "depth", "+", "depth", "delta", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "id", ")", ";", "ps", ".", "add", "batch", "(", ")", ";", "ps", ".", "execute", "batch", "(", ")", ";", "ps", ".", "clear", "batch", "(", ")", ";", "}", "left", "=", "next", "left", ";", "last", "depth", "=", "depth", ";", "counter", "+", "+", ";", "if", "(", "counter", "%", "num", "=", "=", "num", ")", "{", "ps", ".", "execute", "batch", "(", ")", ";", "ps", ".", "clear", "batch", "(", ")", ";", "}", "}", "rs", ".", "close", "(", ")", ";", "stmt", ".", "close", "(", ")", ";", "stmt", "=", "null", ";", "ps", ".", "execute", "batch", "(", ")", ";", "return", "first", "created", "node", "id", ";", "}", "catch", "(", "throwable", "e", ")", "{", "throw", "new", "fx", "tree", "exception", "(", "log", ",", "e", ",", "str", ",", "counter", ",", "left", ",", "right", ",", "e", ".", "get", "message", "(", ")", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "stmt", "!", "=", "null", ")", "stmt", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "}", "try", "{", "if", "(", "ps", "!", "=", "null", ")", "ps", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "}", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> long <REPLACE_END> <KEEP> reorganize space ( connection con , sequencer engine seq , fx tree mode source mode , fx tree mode dest mode , long node id , boolean include node id , big decimal override spacing , big decimal override left , fx tree node info insert parent , int insert position , big decimal insert space , big decimal [ ] insert boundaries , int depth delta , long destination node , boolean create mode , boolean create keep ids <KEEP_END> <DELETE> , long first created node id <DELETE_END> <KEEP> ) throws fx tree exception { <KEEP_END> <INSERT> long first created node id = - num ; <INSERT_END> <KEEP> fx tree node info spreaded node info ; try { node info = ( fx tree node info spreaded ) get tree node info ( con , source mode , node id ) ; } catch ( exception e ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } if ( ! node info . is space optimizable ( ) ) { if ( node id = = root _ node ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } return reorganize space ( con , seq , source mode , dest mode , node info . get parent id ( ) , include node id , override spacing , override left , insert parent , insert position , insert space , insert boundaries , depth delta , destination node , create mode , create keep ids <KEEP_END> <DELETE> , first created node id <DELETE_END> <KEEP> ) ; } big decimal spacing = node info . get default spacing ( ) ; if ( override spacing ! = null & & override spacing . compare to ( spacing ) < num ) { spacing = override spacing ; } else { if ( spacing . compare to ( go _ up ) < num ) { return reorganize space ( con , seq , source mode , dest mode , node info . get parent id ( ) , include node id , override spacing , override left , insert parent , insert position , insert space , insert boundaries , depth delta , destination node , create mode , create keep ids <KEEP_END> <DELETE> , first created node id <DELETE_END> <KEEP> ) ; } } statement stmt = null ; prepared statement ps = null ; result set rs ; big decimal left = override left = = null ? node info . get left ( ) : override left ; big decimal right = null ; string include node = include node id ? str : str ; long counter = <KEEP_END> <DELETE> num ; first created node id = - <DELETE_END> <KEEP> num ; long new id = - num ; try { string create props = create mode ? str : str ; string sql = str + create props + str + create props + str + get table ( source mode ) + str + str + include node + node info . get left ( ) + str + include node + node info . get right ( ) + str + str ; stmt = con . create statement ( ) ; rs = stmt . execute query ( sql ) ; if ( create mode ) { ps = con . prepare statement ( str + get table ( dest mode ) + str + str + str ) ; } else { ps = con . prepare statement ( str + get table ( source mode ) + str ) ; } long id ; int total _ childs ; int direct _ childs ; big decimal next left ; int last depth = node info . get depth ( ) + ( include node id ? num : num ) ; int depth ; big decimal _ rgt ; big decimal _ lft ; long ref = null ; string template = null ; string name = str ; stack < long > current parent = null ; if ( create mode ) { current parent = new stack < long > ( ) ; current parent . push ( destination node ) ; } while ( rs . next ( ) ) { id = rs . get long ( num ) ; total _ childs = rs . get int ( num ) ; direct _ childs = rs . get int ( num ) ; _ lft = rs . get big decimal ( num ) ; _ rgt = rs . get big decimal ( num ) ; depth = rs . get int ( num ) ; if ( create mode ) { ref = rs . get long ( num ) ; if ( rs . was null ( ) ) ref = null ; name = rs . get string ( num ) ; template = rs . get string ( num ) ; if ( rs . was null ( ) ) template = null ; } left = left . add ( spacing ) . add ( big decimal . one ) ; if ( last depth - depth > num ) { big decimal depth difference = spacing . add ( big decimal . one ) ; left = left . add ( depth difference . multiply ( new big decimal ( last depth - depth ) ) ) ; } if ( create mode ) { if ( last depth < depth ) { current parent . push ( new id ) ; } else if ( last depth > depth ) { current parent . pop ( ) ; } } right = left . add ( spacing ) . add ( big decimal . one ) ; if ( total _ childs > num ) { big decimal child space = spacing . multiply ( new big decimal ( total _ childs * num ) ) ; child space = child space . add ( new big decimal ( ( total _ childs * num ) - num ) ) ; right = right . add ( child space ) ; next left = left ; } else { next left = right ; } if ( insert boundaries ! = null ) { if ( _ lft . compare to ( insert boundaries [ num ] ) > num ) { left = left . add ( insert space ) ; } if ( _ rgt . compare to ( insert boundaries [ num ] ) > num ) { right = right . add ( insert space ) ; } } if ( create mode ) { new id = create keep ids ? id : seq . get id ( dest mode . get sequencer ( ) ) ; if ( first created node id = = - num ) { first created node id = new id ; } ps . set long ( num , new id ) ; ps . set long ( num , current parent . peek ( ) ) ; ps . set long ( num , depth + depth delta ) ; ps . set boolean ( num , dest mode ! = fx tree mode . live ) ; if ( ref = = null ) { ps . set null ( num , java . sql . types . numeric ) ; } else { ps . set long ( num , ref ) ; } if ( template = = null ) { ps . set null ( num , java . sql . types . varchar ) ; } else { ps . set string ( num , template ) ; } ps . set big decimal ( num , left ) ; ps . set big decimal ( num , right ) ; ps . set int ( num , total _ childs ) ; ps . set int ( num , direct _ childs ) ; ps . set string ( num , name ) ; ps . set long ( num , system . current time millis ( ) ) ; ps . add batch ( ) ; } else { ps . set big decimal ( num , left ) ; ps . set big decimal ( num , right ) ; ps . set int ( num , depth + depth delta ) ; ps . set long ( num , id ) ; ps . add batch ( ) ; ps . execute batch ( ) ; ps . clear batch ( ) ; } left = next left ; last depth = depth ; counter + + ; if ( counter % num = = num ) { ps . execute batch ( ) ; ps . clear batch ( ) ; } } rs . close ( ) ; stmt . close ( ) ; stmt = null ; ps . execute batch ( ) ; return <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> first created node id <REPLACE_END> <KEEP> ; } catch ( throwable e ) { throw new fx tree exception ( log , e , str , counter , left , right , e . get message ( ) ) ; } finally { try { if ( stmt ! = null ) stmt . close ( ) ; } catch ( throwable t ) { } try { if ( ps ! = null ) ps . close ( ) ; } catch ( throwable t ) { } } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "reorganize", "space", "(", "connection", "con", ",", "sequencer", "engine", "seq", ",", "fx", "tree", "mode", "source", "mode", ",", "fx", "tree", "mode", "dest", "mode", ",", "long", "node", "id", ",", "boolean", "include", "node", "id", ",", "big", "decimal", "override", "spacing", ",", "big", "decimal", "override", "left", ",", "fx", "tree", "node", "info", "insert", "parent", ",", "int", "insert", "position", ",", "big", "decimal", "insert", "space", ",", "big", "decimal", "[", "]", "insert", "boundaries", ",", "int", "depth", "delta", ",", "long", "destination", "node", ",", "boolean", "create", "mode", ",", "boolean", "create", "keep", "ids", "<KEEP_END>", "<DELETE>", ",", "long", "first", "created", "node", "id", "<DELETE_END>", "<KEEP>", ")", "throws", "fx", "tree", "exception", "{", "<KEEP_END>", "<INSERT>", "long", "first", "created", "node", "id", "=", "-", "num", ";", "<INSERT_END>", "<KEEP>", "fx", "tree", "node", "info", "spreaded", "node", "info", ";", "try", "{", "node", "info", "=", "(", "fx", "tree", "node", "info", "spreaded", ")", "get", "tree", "node", "info", "(", "con", ",", "source", "mode", ",", "node", "id", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "if", "(", "!", "node", "info", ".", "is", "space", "optimizable", "(", ")", ")", "{", "if", "(", "node", "id", "=", "=", "root", "_", "node", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "reorganize", "space", "(", "con", ",", "seq", ",", "source", "mode", ",", "dest", "mode", ",", "node", "info", ".", "get", "parent", "id", "(", ")", ",", "include", "node", "id", ",", "override", "spacing", ",", "override", "left", ",", "insert", "parent", ",", "insert", "position", ",", "insert", "space", ",", "insert", "boundaries", ",", "depth", "delta", ",", "destination", "node", ",", "create", "mode", ",", "create", "keep", "ids", "<KEEP_END>", "<DELETE>", ",", "first", "created", "node", "id", "<DELETE_END>", "<KEEP>", ")", ";", "}", "big", "decimal", "spacing", "=", "node", "info", ".", "get", "default", "spacing", "(", ")", ";", "if", "(", "override", "spacing", "!", "=", "null", "&", "&", "override", "spacing", ".", "compare", "to", "(", "spacing", ")", "<", "num", ")", "{", "spacing", "=", "override", "spacing", ";", "}", "else", "{", "if", "(", "spacing", ".", "compare", "to", "(", "go", "_", "up", ")", "<", "num", ")", "{", "return", "reorganize", "space", "(", "con", ",", "seq", ",", "source", "mode", ",", "dest", "mode", ",", "node", "info", ".", "get", "parent", "id", "(", ")", ",", "include", "node", "id", ",", "override", "spacing", ",", "override", "left", ",", "insert", "parent", ",", "insert", "position", ",", "insert", "space", ",", "insert", "boundaries", ",", "depth", "delta", ",", "destination", "node", ",", "create", "mode", ",", "create", "keep", "ids", "<KEEP_END>", "<DELETE>", ",", "first", "created", "node", "id", "<DELETE_END>", "<KEEP>", ")", ";", "}", "}", "statement", "stmt", "=", "null", ";", "prepared", "statement", "ps", "=", "null", ";", "result", "set", "rs", ";", "big", "decimal", "left", "=", "override", "left", "=", "=", "null", "?", "node", "info", ".", "get", "left", "(", ")", ":", "override", "left", ";", "big", "decimal", "right", "=", "null", ";", "string", "include", "node", "=", "include", "node", "id", "?", "str", ":", "str", ";", "long", "counter", "=", "<KEEP_END>", "<DELETE>", "num", ";", "first", "created", "node", "id", "=", "-", "<DELETE_END>", "<KEEP>", "num", ";", "long", "new", "id", "=", "-", "num", ";", "try", "{", "string", "create", "props", "=", "create", "mode", "?", "str", ":", "str", ";", "string", "sql", "=", "str", "+", "create", "props", "+", "str", "+", "create", "props", "+", "str", "+", "get", "table", "(", "source", "mode", ")", "+", "str", "+", "str", "+", "include", "node", "+", "node", "info", ".", "get", "left", "(", ")", "+", "str", "+", "include", "node", "+", "node", "info", ".", "get", "right", "(", ")", "+", "str", "+", "str", ";", "stmt", "=", "con", ".", "create", "statement", "(", ")", ";", "rs", "=", "stmt", ".", "execute", "query", "(", "sql", ")", ";", "if", "(", "create", "mode", ")", "{", "ps", "=", "con", ".", "prepare", "statement", "(", "str", "+", "get", "table", "(", "dest", "mode", ")", "+", "str", "+", "str", "+", "str", ")", ";", "}", "else", "{", "ps", "=", "con", ".", "prepare", "statement", "(", "str", "+", "get", "table", "(", "source", "mode", ")", "+", "str", ")", ";", "}", "long", "id", ";", "int", "total", "_", "childs", ";", "int", "direct", "_", "childs", ";", "big", "decimal", "next", "left", ";", "int", "last", "depth", "=", "node", "info", ".", "get", "depth", "(", ")", "+", "(", "include", "node", "id", "?", "num", ":", "num", ")", ";", "int", "depth", ";", "big", "decimal", "_", "rgt", ";", "big", "decimal", "_", "lft", ";", "long", "ref", "=", "null", ";", "string", "template", "=", "null", ";", "string", "name", "=", "str", ";", "stack", "<", "long", ">", "current", "parent", "=", "null", ";", "if", "(", "create", "mode", ")", "{", "current", "parent", "=", "new", "stack", "<", "long", ">", "(", ")", ";", "current", "parent", ".", "push", "(", "destination", "node", ")", ";", "}", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "id", "=", "rs", ".", "get", "long", "(", "num", ")", ";", "total", "_", "childs", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "direct", "_", "childs", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "_", "lft", "=", "rs", ".", "get", "big", "decimal", "(", "num", ")", ";", "_", "rgt", "=", "rs", ".", "get", "big", "decimal", "(", "num", ")", ";", "depth", "=", "rs", ".", "get", "int", "(", "num", ")", ";", "if", "(", "create", "mode", ")", "{", "ref", "=", "rs", ".", "get", "long", "(", "num", ")", ";", "if", "(", "rs", ".", "was", "null", "(", ")", ")", "ref", "=", "null", ";", "name", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "template", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "if", "(", "rs", ".", "was", "null", "(", ")", ")", "template", "=", "null", ";", "}", "left", "=", "left", ".", "add", "(", "spacing", ")", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "if", "(", "last", "depth", "-", "depth", ">", "num", ")", "{", "big", "decimal", "depth", "difference", "=", "spacing", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "left", "=", "left", ".", "add", "(", "depth", "difference", ".", "multiply", "(", "new", "big", "decimal", "(", "last", "depth", "-", "depth", ")", ")", ")", ";", "}", "if", "(", "create", "mode", ")", "{", "if", "(", "last", "depth", "<", "depth", ")", "{", "current", "parent", ".", "push", "(", "new", "id", ")", ";", "}", "else", "if", "(", "last", "depth", ">", "depth", ")", "{", "current", "parent", ".", "pop", "(", ")", ";", "}", "}", "right", "=", "left", ".", "add", "(", "spacing", ")", ".", "add", "(", "big", "decimal", ".", "one", ")", ";", "if", "(", "total", "_", "childs", ">", "num", ")", "{", "big", "decimal", "child", "space", "=", "spacing", ".", "multiply", "(", "new", "big", "decimal", "(", "total", "_", "childs", "*", "num", ")", ")", ";", "child", "space", "=", "child", "space", ".", "add", "(", "new", "big", "decimal", "(", "(", "total", "_", "childs", "*", "num", ")", "-", "num", ")", ")", ";", "right", "=", "right", ".", "add", "(", "child", "space", ")", ";", "next", "left", "=", "left", ";", "}", "else", "{", "next", "left", "=", "right", ";", "}", "if", "(", "insert", "boundaries", "!", "=", "null", ")", "{", "if", "(", "_", "lft", ".", "compare", "to", "(", "insert", "boundaries", "[", "num", "]", ")", ">", "num", ")", "{", "left", "=", "left", ".", "add", "(", "insert", "space", ")", ";", "}", "if", "(", "_", "rgt", ".", "compare", "to", "(", "insert", "boundaries", "[", "num", "]", ")", ">", "num", ")", "{", "right", "=", "right", ".", "add", "(", "insert", "space", ")", ";", "}", "}", "if", "(", "create", "mode", ")", "{", "new", "id", "=", "create", "keep", "ids", "?", "id", ":", "seq", ".", "get", "id", "(", "dest", "mode", ".", "get", "sequencer", "(", ")", ")", ";", "if", "(", "first", "created", "node", "id", "=", "=", "-", "num", ")", "{", "first", "created", "node", "id", "=", "new", "id", ";", "}", "ps", ".", "set", "long", "(", "num", ",", "new", "id", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "current", "parent", ".", "peek", "(", ")", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "depth", "+", "depth", "delta", ")", ";", "ps", ".", "set", "boolean", "(", "num", ",", "dest", "mode", "!", "=", "fx", "tree", "mode", ".", "live", ")", ";", "if", "(", "ref", "=", "=", "null", ")", "{", "ps", ".", "set", "null", "(", "num", ",", "java", ".", "sql", ".", "types", ".", "numeric", ")", ";", "}", "else", "{", "ps", ".", "set", "long", "(", "num", ",", "ref", ")", ";", "}", "if", "(", "template", "=", "=", "null", ")", "{", "ps", ".", "set", "null", "(", "num", ",", "java", ".", "sql", ".", "types", ".", "varchar", ")", ";", "}", "else", "{", "ps", ".", "set", "string", "(", "num", ",", "template", ")", ";", "}", "ps", ".", "set", "big", "decimal", "(", "num", ",", "left", ")", ";", "ps", ".", "set", "big", "decimal", "(", "num", ",", "right", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "total", "_", "childs", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "direct", "_", "childs", ")", ";", "ps", ".", "set", "string", "(", "num", ",", "name", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "ps", ".", "add", "batch", "(", ")", ";", "}", "else", "{", "ps", ".", "set", "big", "decimal", "(", "num", ",", "left", ")", ";", "ps", ".", "set", "big", "decimal", "(", "num", ",", "right", ")", ";", "ps", ".", "set", "int", "(", "num", ",", "depth", "+", "depth", "delta", ")", ";", "ps", ".", "set", "long", "(", "num", ",", "id", ")", ";", "ps", ".", "add", "batch", "(", ")", ";", "ps", ".", "execute", "batch", "(", ")", ";", "ps", ".", "clear", "batch", "(", ")", ";", "}", "left", "=", "next", "left", ";", "last", "depth", "=", "depth", ";", "counter", "+", "+", ";", "if", "(", "counter", "%", "num", "=", "=", "num", ")", "{", "ps", ".", "execute", "batch", "(", ")", ";", "ps", ".", "clear", "batch", "(", ")", ";", "}", "}", "rs", ".", "close", "(", ")", ";", "stmt", ".", "close", "(", ")", ";", "stmt", "=", "null", ";", "ps", ".", "execute", "batch", "(", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "first", "created", "node", "id", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "throwable", "e", ")", "{", "throw", "new", "fx", "tree", "exception", "(", "log", ",", "e", ",", "str", ",", "counter", ",", "left", ",", "right", ",", "e", ".", "get", "message", "(", ")", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "stmt", "!", "=", "null", ")", "stmt", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "}", "try", "{", "if", "(", "ps", "!", "=", "null", ")", "ps", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "t", ")", "{", "}", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true <REPLACE_NEW> first created node id or - 1 <REPLACE_END> <REPLACE_OLD> the function <REPLACE_NEW> no node <REPLACE_END> <REPLACE_OLD> successfully <REPLACE_NEW> created using this method <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "<REPLACE_NEW>", "first", "created", "node", "id", "or", "-", "1", "<REPLACE_END>", "<REPLACE_OLD>", "the", "function", "<REPLACE_NEW>", "no", "node", "<REPLACE_END>", "<REPLACE_OLD>", "successfully", "<REPLACE_NEW>", "created", "using", "this", "method", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "long", "<KEEP>", "reorganize", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "connection", "<KEEP>", "con", "<KEEP>", ",", "<KEEP>", "sequencer", "<KEEP>", "engine", "<KEEP>", "seq", "<KEEP>", ",", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "mode", "<KEEP>", "source", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "mode", "<KEEP>", "dest", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "long", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "override", "<KEEP>", "spacing", "<KEEP>", ",", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "override", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", "insert", "<KEEP>", "parent", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "insert", "<KEEP>", "position", "<KEEP>", ",", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "insert", "<KEEP>", "space", "<KEEP>", ",", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "insert", "<KEEP>", "boundaries", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "depth", "<KEEP>", "delta", "<KEEP>", ",", "<KEEP>", "long", "<KEEP>", "destination", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "create", "<KEEP>", "keep", "<KEEP>", "ids", "<DELETE>", ",", "<DELETE>", "long", "<DELETE>", "first", "<DELETE>", "created", "<DELETE>", "node", "<DELETE>", "id", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "exception", "<KEEP>", "{", "<INSERT>", "long", "<INSERT>", "first", "<INSERT>", "created", "<INSERT>", "node", "<INSERT>", "id", "<INSERT>", "=", "<INSERT>", "-", "<INSERT>", "num", "<INSERT>", ";", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", "spreaded", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", "spreaded", "<KEEP>", ")", "<KEEP>", "get", "<KEEP>", "tree", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "con", "<KEEP>", ",", "<KEEP>", "source", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "space", "<KEEP>", "optimizable", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "root", "<KEEP>", "_", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "reorganize", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "con", "<KEEP>", ",", "<KEEP>", "seq", "<KEEP>", ",", "<KEEP>", "source", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "dest", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "override", "<KEEP>", "spacing", "<KEEP>", ",", "<KEEP>", "override", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "parent", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "position", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "space", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "boundaries", "<KEEP>", ",", "<KEEP>", "depth", "<KEEP>", "delta", "<KEEP>", ",", "<KEEP>", "destination", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "create", "<KEEP>", "keep", "<KEEP>", "ids", "<DELETE>", ",", "<DELETE>", "first", "<DELETE>", "created", "<DELETE>", "node", "<DELETE>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "spacing", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "spacing", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "override", "<KEEP>", "spacing", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "override", "<KEEP>", "spacing", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "spacing", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "spacing", "<KEEP>", "=", "<KEEP>", "override", "<KEEP>", "spacing", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "spacing", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "go", "<KEEP>", "_", "<KEEP>", "up", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "reorganize", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "con", "<KEEP>", ",", "<KEEP>", "seq", "<KEEP>", ",", "<KEEP>", "source", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "dest", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "override", "<KEEP>", "spacing", "<KEEP>", ",", "<KEEP>", "override", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "parent", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "position", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "space", "<KEEP>", ",", "<KEEP>", "insert", "<KEEP>", "boundaries", "<KEEP>", ",", "<KEEP>", "depth", "<KEEP>", "delta", "<KEEP>", ",", "<KEEP>", "destination", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ",", "<KEEP>", "create", "<KEEP>", "keep", "<KEEP>", "ids", "<DELETE>", ",", "<DELETE>", "first", "<DELETE>", "created", "<DELETE>", "node", "<DELETE>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "statement", "<KEEP>", "stmt", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "prepared", "<KEEP>", "statement", "<KEEP>", "ps", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "rs", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "override", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "left", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "override", "<KEEP>", "left", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", "?", "<KEEP>", "str", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "counter", "<KEEP>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "first", "<DELETE>", "created", "<DELETE>", "node", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "new", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "create", "<KEEP>", "props", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", "?", "<KEEP>", "str", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "sql", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "create", "<KEEP>", "props", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "create", "<KEEP>", "props", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "source", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "left", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "right", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "stmt", "<KEEP>", "=", "<KEEP>", "con", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "statement", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "stmt", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", "=", "<KEEP>", "con", "<KEEP>", ".", "<KEEP>", "prepare", "<KEEP>", "statement", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "dest", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", "=", "<KEEP>", "con", "<KEEP>", ".", "<KEEP>", "prepare", "<KEEP>", "statement", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "source", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "long", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "total", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "direct", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "next", "<KEEP>", "left", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "last", "<KEEP>", "depth", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "depth", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "(", "<KEEP>", "include", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", "?", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "depth", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "_", "<KEEP>", "rgt", "<KEEP>", ";", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "_", "<KEEP>", "lft", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "ref", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "template", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "stack", "<KEEP>", "<", "<KEEP>", "long", "<KEEP>", ">", "<KEEP>", "current", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "stack", "<KEEP>", "<", "<KEEP>", "long", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "current", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "push", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "total", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "direct", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "lft", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "rgt", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "depth", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ref", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "was", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "ref", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "template", "<KEEP>", "=", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "was", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "template", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "left", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "spacing", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "depth", "<KEEP>", "-", "<KEEP>", "depth", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "depth", "<KEEP>", "difference", "<KEEP>", "=", "<KEEP>", "spacing", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "left", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "depth", "<KEEP>", "difference", "<KEEP>", ".", "<KEEP>", "multiply", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "depth", "<KEEP>", "-", "<KEEP>", "depth", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "depth", "<KEEP>", "<", "<KEEP>", "depth", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "push", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "depth", "<KEEP>", ">", "<KEEP>", "depth", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "pop", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "left", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "spacing", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "child", "<KEEP>", "space", "<KEEP>", "=", "<KEEP>", "spacing", "<KEEP>", ".", "<KEEP>", "multiply", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "child", "<KEEP>", "space", "<KEEP>", "=", "<KEEP>", "child", "<KEEP>", "space", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "right", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "space", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "next", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "left", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "next", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "right", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "insert", "<KEEP>", "boundaries", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "lft", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "insert", "<KEEP>", "boundaries", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "left", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "insert", "<KEEP>", "space", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "rgt", "<KEEP>", ".", "<KEEP>", "compare", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "insert", "<KEEP>", "boundaries", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "right", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "insert", "<KEEP>", "space", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "mode", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "keep", "<KEEP>", "ids", "<KEEP>", "?", "<KEEP>", "id", "<KEEP>", ":", "<KEEP>", "seq", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "dest", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "sequencer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "first", "<KEEP>", "created", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "first", "<KEEP>", "created", "<KEEP>", "node", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "current", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "peek", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "depth", "<KEEP>", "+", "<KEEP>", "depth", "<KEEP>", "delta", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "dest", "<KEEP>", "mode", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "live", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ref", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "java", "<KEEP>", ".", "<KEEP>", "sql", "<KEEP>", ".", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "numeric", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "ref", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "template", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "java", "<KEEP>", ".", "<KEEP>", "sql", "<KEEP>", ".", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "varchar", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "template", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "left", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "total", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "direct", "<KEEP>", "_", "<KEEP>", "childs", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "left", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "big", "<KEEP>", "decimal", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "depth", "<KEEP>", "+", "<KEEP>", "depth", "<KEEP>", "delta", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "next", "<KEEP>", "left", "<KEEP>", ";", "<KEEP>", "last", "<KEEP>", "depth", "<KEEP>", "=", "<KEEP>", "depth", "<KEEP>", ";", "<KEEP>", "counter", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "counter", "<KEEP>", "%", "<KEEP>", "num", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "stmt", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "stmt", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "first", "<REPLACE_NEW>", "created", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "fx", "<KEEP>", "tree", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "counter", "<KEEP>", ",", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "right", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "stmt", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "stmt", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ps", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "ps", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "cemcatik_jtds-121-3785", "old_comment": "connection jdbc2 object .", "old_comment_tokens": ["connection", "jdbc2", "object", "."], "new_comment": "connection jdbc object .", "new_comment_tokens": ["connection", "jdbc", "object", "."], "old_code": "private connection jdbc2 get connection ( ) throws sqlexception { return ( connection jdbc2 ) statement . get connection ( ) ; }", "old_code_tokens": ["private", "connection", "jdbc2", "get", "connection", "(", ")", "throws", "sqlexception", "{", "return", "(", "connection", "jdbc2", ")", "statement", ".", "get", "connection", "(", ")", ";", "}"], "new_code": "private connection jdbc get connection ( ) throws sqlexception { return ( connection jdbc ) statement . get connection ( ) ; }", "new_code_tokens": ["private", "connection", "jdbc", "get", "connection", "(", ")", "throws", "sqlexception", "{", "return", "(", "connection", "jdbc", ")", "statement", ".", "get", "connection", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private connection <KEEP_END> <REPLACE_OLD> jdbc2 <REPLACE_NEW> jdbc <REPLACE_END> <KEEP> get connection ( ) throws sqlexception { return ( connection <KEEP_END> <REPLACE_OLD> jdbc2 <REPLACE_NEW> jdbc <REPLACE_END> <KEEP> ) statement . get connection ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "connection", "<KEEP_END>", "<REPLACE_OLD>", "jdbc2", "<REPLACE_NEW>", "jdbc", "<REPLACE_END>", "<KEEP>", "get", "connection", "(", ")", "throws", "sqlexception", "{", "return", "(", "connection", "<KEEP_END>", "<REPLACE_OLD>", "jdbc2", "<REPLACE_NEW>", "jdbc", "<REPLACE_END>", "<KEEP>", ")", "statement", ".", "get", "connection", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> jdbc2 <REPLACE_NEW> jdbc <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "jdbc2", "<REPLACE_NEW>", "jdbc", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "connection", "<REPLACE_OLD>", "jdbc2", "<REPLACE_NEW>", "jdbc", "<KEEP>", "get", "<KEEP>", "connection", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sqlexception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "connection", "<REPLACE_OLD>", "jdbc2", "<REPLACE_NEW>", "jdbc", "<KEEP>", ")", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "connection", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_worldwind-14-5796", "old_comment": "label text .", "old_comment_tokens": ["label", "text", "."], "new_comment": "array of text for labels . this array will always include at least one string : the main label text . it may include a second element . the second element ( if present ) is text for a label that must be placed at the left side of the area .", "new_comment_tokens": ["array", "of", "text", "for", "labels", ".", "this", "array", "will", "always", "include", "at", "least", "one", "string", ":", "the", "main", "label", "text", ".", "it", "may", "include", "a", "second", "element", ".", "the", "second", "element", "(", "if", "present", ")", "is", "text", "for", "a", "label", "that", "must", "be", "placed", "at", "the", "left", "side", "of", "the", "area", "."], "old_code": "public string create text ( mil std2525 tactical graphic graphic ) { string function id = graphic . get function id ( ) ; if ( circular fire support area . function _ id _ target . equals ( function id ) ) return graphic . get text ( ) ; else return create date range text ( graphic , function id ) ; }", "old_code_tokens": ["public", "string", "create", "text", "(", "mil", "std2525", "tactical", "graphic", "graphic", ")", "{", "string", "function", "id", "=", "graphic", ".", "get", "function", "id", "(", ")", ";", "if", "(", "circular", "fire", "support", "area", ".", "function", "_", "id", "_", "target", ".", "equals", "(", "function", "id", ")", ")", "return", "graphic", ".", "get", "text", "(", ")", ";", "else", "return", "create", "date", "range", "text", "(", "graphic", ",", "function", "id", ")", ";", "}"], "new_code": "public string [ ] create text ( mil std2525 tactical graphic graphic ) { string [ ] result ; string function id = graphic . get function id ( ) ; if ( circular fire support area . function _ id _ target . equals ( function id ) ) { result = new string [ ] { graphic . get text ( ) } ; } else { boolean use separate time label = this . is show separate time label ( function id ) ; string main text = this . create main text ( graphic , function id , ! use separate time label ) ; if ( use separate time label ) { string time text = this . create time range text ( graphic ) ; result = new string [ ] { main text , time text } ; } else { result = new string [ ] { main text } ; } } return result ; }", "new_code_tokens": ["public", "string", "[", "]", "create", "text", "(", "mil", "std2525", "tactical", "graphic", "graphic", ")", "{", "string", "[", "]", "result", ";", "string", "function", "id", "=", "graphic", ".", "get", "function", "id", "(", ")", ";", "if", "(", "circular", "fire", "support", "area", ".", "function", "_", "id", "_", "target", ".", "equals", "(", "function", "id", ")", ")", "{", "result", "=", "new", "string", "[", "]", "{", "graphic", ".", "get", "text", "(", ")", "}", ";", "}", "else", "{", "boolean", "use", "separate", "time", "label", "=", "this", ".", "is", "show", "separate", "time", "label", "(", "function", "id", ")", ";", "string", "main", "text", "=", "this", ".", "create", "main", "text", "(", "graphic", ",", "function", "id", ",", "!", "use", "separate", "time", "label", ")", ";", "if", "(", "use", "separate", "time", "label", ")", "{", "string", "time", "text", "=", "this", ".", "create", "time", "range", "text", "(", "graphic", ")", ";", "result", "=", "new", "string", "[", "]", "{", "main", "text", ",", "time", "text", "}", ";", "}", "else", "{", "result", "=", "new", "string", "[", "]", "{", "main", "text", "}", ";", "}", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public string <KEEP_END> <INSERT> [ ] <INSERT_END> <KEEP> create text ( mil std2525 tactical graphic graphic ) { <KEEP_END> <INSERT> string [ ] result ; <INSERT_END> <KEEP> string function id = graphic . get function id ( ) ; if ( circular fire support area . function _ id _ target . equals ( function id ) ) <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> { result = new string [ ] { <REPLACE_END> <KEEP> graphic . get text ( ) <KEEP_END> <INSERT> } <INSERT_END> <KEEP> ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> else <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> { boolean use separate time label = this . is show separate time label ( function id ) ; string main text = this . <REPLACE_END> <KEEP> create <KEEP_END> <REPLACE_OLD> date range <REPLACE_NEW> main <REPLACE_END> <KEEP> text ( graphic , function id <KEEP_END> <INSERT> , ! use separate time label <INSERT_END> <KEEP> ) ; <KEEP_END> <INSERT> if ( use separate time label ) { string time text = this . create time range text ( graphic ) ; result = new string [ ] { main text , time text <INSERT_END> <KEEP> } <KEEP_END> <INSERT> ; } else { result = new string [ ] { main text } ; } } return result ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "<KEEP_END>", "<INSERT>", "[", "]", "<INSERT_END>", "<KEEP>", "create", "text", "(", "mil", "std2525", "tactical", "graphic", "graphic", ")", "{", "<KEEP_END>", "<INSERT>", "string", "[", "]", "result", ";", "<INSERT_END>", "<KEEP>", "string", "function", "id", "=", "graphic", ".", "get", "function", "id", "(", ")", ";", "if", "(", "circular", "fire", "support", "area", ".", "function", "_", "id", "_", "target", ".", "equals", "(", "function", "id", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "{", "result", "=", "new", "string", "[", "]", "{", "<REPLACE_END>", "<KEEP>", "graphic", ".", "get", "text", "(", ")", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "else", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "{", "boolean", "use", "separate", "time", "label", "=", "this", ".", "is", "show", "separate", "time", "label", "(", "function", "id", ")", ";", "string", "main", "text", "=", "this", ".", "<REPLACE_END>", "<KEEP>", "create", "<KEEP_END>", "<REPLACE_OLD>", "date", "range", "<REPLACE_NEW>", "main", "<REPLACE_END>", "<KEEP>", "text", "(", "graphic", ",", "function", "id", "<KEEP_END>", "<INSERT>", ",", "!", "use", "separate", "time", "label", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "use", "separate", "time", "label", ")", "{", "string", "time", "text", "=", "this", ".", "create", "time", "range", "text", "(", "graphic", ")", ";", "result", "=", "new", "string", "[", "]", "{", "main", "text", ",", "time", "text", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<INSERT>", ";", "}", "else", "{", "result", "=", "new", "string", "[", "]", "{", "main", "text", "}", ";", "}", "}", "return", "result", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> label <INSERT_NEW_KEEP_AFTER> array of text for labels . this array will always include at least one string : the main label <INSERT_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . it may include a second element . the second element ( if present ) is text for a label that must be placed at the left side of the area . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "label", "<INSERT_NEW_KEEP_AFTER>", "array", "of", "text", "for", "labels", ".", "this", "array", "will", "always", "include", "at", "least", "one", "string", ":", "the", "main", "label", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "it", "may", "include", "a", "second", "element", ".", "the", "second", "element", "(", "if", "present", ")", "is", "text", "for", "a", "label", "that", "must", "be", "placed", "at", "the", "left", "side", "of", "the", "area", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<INSERT>", "[", "<INSERT>", "]", "<KEEP>", "create", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "mil", "<KEEP>", "std2525", "<KEEP>", "tactical", "<KEEP>", "graphic", "<KEEP>", "graphic", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "result", "<INSERT>", ";", "<KEEP>", "string", "<KEEP>", "function", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "graphic", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "function", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "circular", "<KEEP>", "fire", "<KEEP>", "support", "<KEEP>", "area", "<KEEP>", ".", "<KEEP>", "function", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "_", "<KEEP>", "target", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "function", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "{", "<KEEP>", "graphic", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "}", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "else", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "use", "<REPLACE_NEW>", "separate", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "show", "<REPLACE_NEW>", "separate", "<REPLACE_NEW>", "time", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "function", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "main", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<KEEP>", "create", "<REPLACE_OLD>", "date", "<REPLACE_OLD>", "range", "<REPLACE_NEW>", "main", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "graphic", "<KEEP>", ",", "<KEEP>", "function", "<KEEP>", "id", "<INSERT>", ",", "<INSERT>", "!", "<INSERT>", "use", "<INSERT>", "separate", "<INSERT>", "time", "<INSERT>", "label", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "use", "<INSERT>", "separate", "<INSERT>", "time", "<INSERT>", "label", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "time", "<INSERT>", "text", "<INSERT>", "=", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "time", "<INSERT>", "range", "<INSERT>", "text", "<INSERT>", "(", "<INSERT>", "graphic", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "result", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "{", "<INSERT>", "main", "<INSERT>", "text", "<INSERT>", ",", "<INSERT>", "time", "<INSERT>", "text", "<KEEP>", "}", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "result", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "{", "<INSERT>", "main", "<INSERT>", "text", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "result", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "cryptomator_cryptomator-0-3101", "old_comment": "port , on which the server did start", "old_comment_tokens": ["port", ",", "on", "which", "the", "server", "did", "start"], "new_comment": "true upon success", "new_comment_tokens": ["true", "upon", "success"], "old_code": "public int start ( final string work dir , final cryptor cryptor ) { final server connector connector = new server connector ( server ) ; connector . set host ( localhost ) ; final string context path = str ; final servlet context handler context = new servlet context handler ( servlet context handler . sessions ) ; context . add servlet ( get milton servlet holder ( work dir , context path , cryptor ) , str ) ; context . set context path ( context path ) ; server . set handler ( context ) ; try { server . set connectors ( new connector [ ] { connector } ) ; server . start ( ) ; } catch ( exception ex ) { log . error ( str , ex ) ; } return connector . get local port ( ) ; }", "old_code_tokens": ["public", "int", "start", "(", "final", "string", "work", "dir", ",", "final", "cryptor", "cryptor", ")", "{", "final", "server", "connector", "connector", "=", "new", "server", "connector", "(", "server", ")", ";", "connector", ".", "set", "host", "(", "localhost", ")", ";", "final", "string", "context", "path", "=", "str", ";", "final", "servlet", "context", "handler", "context", "=", "new", "servlet", "context", "handler", "(", "servlet", "context", "handler", ".", "sessions", ")", ";", "context", ".", "add", "servlet", "(", "get", "milton", "servlet", "holder", "(", "work", "dir", ",", "context", "path", ",", "cryptor", ")", ",", "str", ")", ";", "context", ".", "set", "context", "path", "(", "context", "path", ")", ";", "server", ".", "set", "handler", "(", "context", ")", ";", "try", "{", "server", ".", "set", "connectors", "(", "new", "connector", "[", "]", "{", "connector", "}", ")", ";", "server", ".", "start", "(", ")", ";", "}", "catch", "(", "exception", "ex", ")", "{", "log", ".", "error", "(", "str", ",", "ex", ")", ";", "}", "return", "connector", ".", "get", "local", "port", "(", ")", ";", "}"], "new_code": "public synchronized boolean start ( final string work dir , final cryptor cryptor ) { final server connector connector = new server connector ( server ) ; connector . set host ( localhost ) ; final string context path = str ; final servlet context handler context = new servlet context handler ( servlet context handler . sessions ) ; context . add servlet ( get milton servlet holder ( work dir , context path , cryptor ) , str ) ; context . set context path ( context path ) ; server . set handler ( context ) ; try { server . set connectors ( new connector [ ] { connector } ) ; server . start ( ) ; port = connector . get local port ( ) ; return true ; } catch ( exception ex ) { log . error ( str , ex ) ; return false ; } }", "new_code_tokens": ["public", "synchronized", "boolean", "start", "(", "final", "string", "work", "dir", ",", "final", "cryptor", "cryptor", ")", "{", "final", "server", "connector", "connector", "=", "new", "server", "connector", "(", "server", ")", ";", "connector", ".", "set", "host", "(", "localhost", ")", ";", "final", "string", "context", "path", "=", "str", ";", "final", "servlet", "context", "handler", "context", "=", "new", "servlet", "context", "handler", "(", "servlet", "context", "handler", ".", "sessions", ")", ";", "context", ".", "add", "servlet", "(", "get", "milton", "servlet", "holder", "(", "work", "dir", ",", "context", "path", ",", "cryptor", ")", ",", "str", ")", ";", "context", ".", "set", "context", "path", "(", "context", "path", ")", ";", "server", ".", "set", "handler", "(", "context", ")", ";", "try", "{", "server", ".", "set", "connectors", "(", "new", "connector", "[", "]", "{", "connector", "}", ")", ";", "server", ".", "start", "(", ")", ";", "port", "=", "connector", ".", "get", "local", "port", "(", ")", ";", "return", "true", ";", "}", "catch", "(", "exception", "ex", ")", "{", "log", ".", "error", "(", "str", ",", "ex", ")", ";", "return", "false", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> synchronized boolean <REPLACE_END> <KEEP> start ( final string work dir , final cryptor cryptor ) { final server connector connector = new server connector ( server ) ; connector . set host ( localhost ) ; final string context path = str ; final servlet context handler context = new servlet context handler ( servlet context handler . sessions ) ; context . add servlet ( get milton servlet holder ( work dir , context path , cryptor ) , str ) ; context . set context path ( context path ) ; server . set handler ( context ) ; try { server . set connectors ( new connector [ ] { connector } ) ; server . start ( ) ; <KEEP_END> <INSERT> port = connector . get local port ( ) ; return true ; <INSERT_END> <KEEP> } catch ( exception ex ) { log . error ( str , ex ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> connector . get local port ( ) <REPLACE_NEW> false <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "synchronized", "boolean", "<REPLACE_END>", "<KEEP>", "start", "(", "final", "string", "work", "dir", ",", "final", "cryptor", "cryptor", ")", "{", "final", "server", "connector", "connector", "=", "new", "server", "connector", "(", "server", ")", ";", "connector", ".", "set", "host", "(", "localhost", ")", ";", "final", "string", "context", "path", "=", "str", ";", "final", "servlet", "context", "handler", "context", "=", "new", "servlet", "context", "handler", "(", "servlet", "context", "handler", ".", "sessions", ")", ";", "context", ".", "add", "servlet", "(", "get", "milton", "servlet", "holder", "(", "work", "dir", ",", "context", "path", ",", "cryptor", ")", ",", "str", ")", ";", "context", ".", "set", "context", "path", "(", "context", "path", ")", ";", "server", ".", "set", "handler", "(", "context", ")", ";", "try", "{", "server", ".", "set", "connectors", "(", "new", "connector", "[", "]", "{", "connector", "}", ")", ";", "server", ".", "start", "(", ")", ";", "<KEEP_END>", "<INSERT>", "port", "=", "connector", ".", "get", "local", "port", "(", ")", ";", "return", "true", ";", "<INSERT_END>", "<KEEP>", "}", "catch", "(", "exception", "ex", ")", "{", "log", ".", "error", "(", "str", ",", "ex", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "connector", ".", "get", "local", "port", "(", ")", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> port , on which the server did start <REPLACE_NEW> true upon success <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "port", ",", "on", "which", "the", "server", "did", "start", "<REPLACE_NEW>", "true", "upon", "success", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "synchronized", "<REPLACE_NEW>", "boolean", "<KEEP>", "start", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "work", "<KEEP>", "dir", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "cryptor", "<KEEP>", "cryptor", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "server", "<KEEP>", "connector", "<KEEP>", "connector", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "server", "<KEEP>", "connector", "<KEEP>", "(", "<KEEP>", "server", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "connector", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "host", "<KEEP>", "(", "<KEEP>", "localhost", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "context", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "handler", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "handler", "<KEEP>", ".", "<KEEP>", "sessions", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "servlet", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "milton", "<KEEP>", "servlet", "<KEEP>", "holder", "<KEEP>", "(", "<KEEP>", "work", "<KEEP>", "dir", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", "path", "<KEEP>", ",", "<KEEP>", "cryptor", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "context", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "connectors", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "connector", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "connector", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "start", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "port", "<INSERT>", "=", "<INSERT>", "connector", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "local", "<INSERT>", "port", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "connector", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "local", "<REPLACE_OLD>", "port", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_geode-76-6961", "old_comment": "jsonobject array list", "old_comment_tokens": ["jsonobject", "array", "list"], "new_comment": "object node array list", "new_comment_tokens": ["object", "node", "array", "list"], "old_code": "private jsonobject get selected region json ( cluster cluster , string selected region full path ) throws jsonexception { pulse log writer logger = pulse log writer . get logger ( ) ; long total heap size = cluster . get total heap size ( ) ; long total disk usage = cluster . get total bytes on disk ( ) ; cluster . region reg = cluster . get cluster region ( selected region full path ) ; if ( reg ! = null ) { jsonobject region json = new jsonobject ( ) ; region json . put ( str , reg . get name ( ) ) ; region json . put ( str , reg . get full path ( ) ) ; region json . put ( str , total heap size ) ; region json . put ( str , reg . get system region entry count ( ) ) ; region json . put ( str , reg . get member count ( ) ) ; final string region type = reg . get region type ( ) ; region json . put ( str , region type ) ; region json . put ( str , reg . get gets rate ( ) ) ; region json . put ( str , reg . get puts rate ( ) ) ; region json . put ( str , reg . get lru eviction rate ( ) ) ; decimal format df2 = new decimal format ( pulse constants . decimal _ format _ pattern ) ; cluster . member [ ] cluster members list = cluster . get members ( ) ; list < cluster . member > cluster members l = new array list < cluster . member > ( ) ; for ( string member name : reg . get member name ( ) ) { for ( cluster . member member : cluster members list ) { string name = member . get name ( ) ; name = name . replace ( str , str ) ; string id = member . get id ( ) ; id = id . replace ( str , str ) ; if ( ( member name . equals ( id ) ) | | ( member name . equals ( name ) ) ) { cluster members l . add ( member ) ; } } } collections . sort ( cluster members l , member current heap usage comparator ) ; jsonarray member array = new jsonarray ( ) ; for ( cluster . member member : cluster members l ) { jsonobject region member = new jsonobject ( ) ; region member . put ( str , member . get id ( ) ) ; region member . put ( str , member . get name ( ) ) ; region member . put ( str , member . get host ( ) ) ; long used heap size = cluster . get used heap size ( ) ; long current heap = member . get current heap size ( ) ; if ( used heap size > num ) { float heap usage = ( ( float ) current heap / ( float ) used heap size ) * num ; region member . put ( str , double . value of ( df2 . format ( heap usage ) ) ) ; } else { region member . put ( str , num ) ; } float current cpuusage = member . get cpu usage ( ) ; region member . put ( str , float . value of ( df2 . format ( current cpuusage ) ) ) ; region member . put ( str , member . get current heap size ( ) ) ; region member . put ( str , member . is manager ( ) ) ; region member . put ( str , time utils . convert time seconds to hms ( member . get uptime ( ) ) ) ; region member . put ( str , member . get load average ( ) ) ; region member . put ( str , member . get total file descriptor open ( ) ) ; region member . put ( str , member . get num threads ( ) ) ; if ( pulse controller . get pulse product support ( ) . equals ignore case ( pulse constants . product _ name _ sqlfire ) ) { region member . put ( str , member . get num sqlfire clients ( ) ) ; } else { region member . put ( str , member . get member clients hmap ( ) . size ( ) ) ; } region member . put ( str , member . get queue backlog ( ) ) ; member array . put ( region member ) ; } region json . put ( str , member array ) ; region json . put ( str , reg . get system region entry count ( ) ) ; boolean persistent = reg . get persistent enabled ( ) ; if ( persistent ) { region json . put ( str , pulse service . value _ on ) ; } else { region json . put ( str , pulse service . value _ off ) ; } boolean is enable off heap memory = reg . is enable off heap memory ( ) ; if ( is enable off heap memory ) { region json . put ( str , pulse service . value _ on ) ; } else { region json . put ( str , pulse service . value _ off ) ; } boolean is hdfswrite only = reg . is hdfs write only ( ) ; if ( region type . starts with ( str ) ) { if ( is hdfswrite only ) { region json . put ( str , pulse service . value _ on ) ; } else { region json . put ( str , pulse service . value _ off ) ; } } else { region json . put ( str , pulse service . value _ na ) ; } string reg comp codec = reg . get compression codec ( ) ; if ( string utils . is not null not empty not white space ( reg comp codec ) ) { region json . put ( str , reg . get compression codec ( ) ) ; } else { region json . put ( str , pulse service . value _ na ) ; } if ( pulse constants . product _ name _ sqlfire . equals ignore case ( pulse controller . get pulse product support ( ) ) ) { region json . put ( str , string utils . get table name from region name ( reg . get full path ( ) ) ) ; } else { region json . put ( str , reg . get full path ( ) ) ; } region json . put ( str , new jsonarray ( reg . get region statistic trend ( cluster . region . region _ stat _ gets _ per _ sec _ trend ) ) ) ; region json . put ( str , new jsonarray ( reg . get region statistic trend ( cluster . region . region _ stat _ puts _ per _ sec _ trend ) ) ) ; region json . put ( str , new jsonarray ( reg . get region statistic trend ( cluster . region . region _ stat _ disk _ reads _ per _ sec _ trend ) ) ) ; region json . put ( str , new jsonarray ( reg . get region statistic trend ( cluster . region . region _ stat _ disk _ writes _ per _ sec _ trend ) ) ) ; region json . put ( str , reg . get empty node ( ) ) ; long entry size = reg . get entry size ( ) ; decimal format form = new decimal format ( pulse constants . decimal _ format _ pattern _ 2 ) ; string entry size in mb = form . format ( entry size / ( num * num ) ) ; if ( entry size < num ) { region json . put ( this . entry _ size , pulse service . value _ na ) ; } else { region json . put ( this . entry _ size , entry size in mb ) ; } region json . put ( str , reg . get disk usage ( ) ) ; region json . put ( str , reg . get wan enabled ( ) ) ; region json . put ( str , total disk usage ) ; region json . put ( str , entry size in mb ) ; logger . fine ( str + region json ) ; return region json ; } else { jsonobject response json = new jsonobject ( ) ; response json . put ( str , str + selected region full path + str ) ; return response json ; } }", "old_code_tokens": ["private", "jsonobject", "get", "selected", "region", "json", "(", "cluster", "cluster", ",", "string", "selected", "region", "full", "path", ")", "throws", "jsonexception", "{", "pulse", "log", "writer", "logger", "=", "pulse", "log", "writer", ".", "get", "logger", "(", ")", ";", "long", "total", "heap", "size", "=", "cluster", ".", "get", "total", "heap", "size", "(", ")", ";", "long", "total", "disk", "usage", "=", "cluster", ".", "get", "total", "bytes", "on", "disk", "(", ")", ";", "cluster", ".", "region", "reg", "=", "cluster", ".", "get", "cluster", "region", "(", "selected", "region", "full", "path", ")", ";", "if", "(", "reg", "!", "=", "null", ")", "{", "jsonobject", "region", "json", "=", "new", "jsonobject", "(", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "name", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "full", "path", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "total", "heap", "size", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "system", "region", "entry", "count", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "member", "count", "(", ")", ")", ";", "final", "string", "region", "type", "=", "reg", ".", "get", "region", "type", "(", ")", ";", "region", "json", ".", "put", "(", "str", ",", "region", "type", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "gets", "rate", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "puts", "rate", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "lru", "eviction", "rate", "(", ")", ")", ";", "decimal", "format", "df2", "=", "new", "decimal", "format", "(", "pulse", "constants", ".", "decimal", "_", "format", "_", "pattern", ")", ";", "cluster", ".", "member", "[", "]", "cluster", "members", "list", "=", "cluster", ".", "get", "members", "(", ")", ";", "list", "<", "cluster", ".", "member", ">", "cluster", "members", "l", "=", "new", "array", "list", "<", "cluster", ".", "member", ">", "(", ")", ";", "for", "(", "string", "member", "name", ":", "reg", ".", "get", "member", "name", "(", ")", ")", "{", "for", "(", "cluster", ".", "member", "member", ":", "cluster", "members", "list", ")", "{", "string", "name", "=", "member", ".", "get", "name", "(", ")", ";", "name", "=", "name", ".", "replace", "(", "str", ",", "str", ")", ";", "string", "id", "=", "member", ".", "get", "id", "(", ")", ";", "id", "=", "id", ".", "replace", "(", "str", ",", "str", ")", ";", "if", "(", "(", "member", "name", ".", "equals", "(", "id", ")", ")", "|", "|", "(", "member", "name", ".", "equals", "(", "name", ")", ")", ")", "{", "cluster", "members", "l", ".", "add", "(", "member", ")", ";", "}", "}", "}", "collections", ".", "sort", "(", "cluster", "members", "l", ",", "member", "current", "heap", "usage", "comparator", ")", ";", "jsonarray", "member", "array", "=", "new", "jsonarray", "(", ")", ";", "for", "(", "cluster", ".", "member", "member", ":", "cluster", "members", "l", ")", "{", "jsonobject", "region", "member", "=", "new", "jsonobject", "(", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "id", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "name", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "host", "(", ")", ")", ";", "long", "used", "heap", "size", "=", "cluster", ".", "get", "used", "heap", "size", "(", ")", ";", "long", "current", "heap", "=", "member", ".", "get", "current", "heap", "size", "(", ")", ";", "if", "(", "used", "heap", "size", ">", "num", ")", "{", "float", "heap", "usage", "=", "(", "(", "float", ")", "current", "heap", "/", "(", "float", ")", "used", "heap", "size", ")", "*", "num", ";", "region", "member", ".", "put", "(", "str", ",", "double", ".", "value", "of", "(", "df2", ".", "format", "(", "heap", "usage", ")", ")", ")", ";", "}", "else", "{", "region", "member", ".", "put", "(", "str", ",", "num", ")", ";", "}", "float", "current", "cpuusage", "=", "member", ".", "get", "cpu", "usage", "(", ")", ";", "region", "member", ".", "put", "(", "str", ",", "float", ".", "value", "of", "(", "df2", ".", "format", "(", "current", "cpuusage", ")", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "current", "heap", "size", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "is", "manager", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "time", "utils", ".", "convert", "time", "seconds", "to", "hms", "(", "member", ".", "get", "uptime", "(", ")", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "load", "average", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "total", "file", "descriptor", "open", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "num", "threads", "(", ")", ")", ";", "if", "(", "pulse", "controller", ".", "get", "pulse", "product", "support", "(", ")", ".", "equals", "ignore", "case", "(", "pulse", "constants", ".", "product", "_", "name", "_", "sqlfire", ")", ")", "{", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "num", "sqlfire", "clients", "(", ")", ")", ";", "}", "else", "{", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "member", "clients", "hmap", "(", ")", ".", "size", "(", ")", ")", ";", "}", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "queue", "backlog", "(", ")", ")", ";", "member", "array", ".", "put", "(", "region", "member", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "member", "array", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "system", "region", "entry", "count", "(", ")", ")", ";", "boolean", "persistent", "=", "reg", ".", "get", "persistent", "enabled", "(", ")", ";", "if", "(", "persistent", ")", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "on", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "off", ")", ";", "}", "boolean", "is", "enable", "off", "heap", "memory", "=", "reg", ".", "is", "enable", "off", "heap", "memory", "(", ")", ";", "if", "(", "is", "enable", "off", "heap", "memory", ")", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "on", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "off", ")", ";", "}", "boolean", "is", "hdfswrite", "only", "=", "reg", ".", "is", "hdfs", "write", "only", "(", ")", ";", "if", "(", "region", "type", ".", "starts", "with", "(", "str", ")", ")", "{", "if", "(", "is", "hdfswrite", "only", ")", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "on", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "off", ")", ";", "}", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "string", "reg", "comp", "codec", "=", "reg", ".", "get", "compression", "codec", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "not", "null", "not", "empty", "not", "white", "space", "(", "reg", "comp", "codec", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "compression", "codec", "(", ")", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "if", "(", "pulse", "constants", ".", "product", "_", "name", "_", "sqlfire", ".", "equals", "ignore", "case", "(", "pulse", "controller", ".", "get", "pulse", "product", "support", "(", ")", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "string", "utils", ".", "get", "table", "name", "from", "region", "name", "(", "reg", ".", "get", "full", "path", "(", ")", ")", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "full", "path", "(", ")", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "new", "jsonarray", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "gets", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "new", "jsonarray", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "puts", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "new", "jsonarray", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "disk", "_", "reads", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "new", "jsonarray", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "disk", "_", "writes", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "empty", "node", "(", ")", ")", ";", "long", "entry", "size", "=", "reg", ".", "get", "entry", "size", "(", ")", ";", "decimal", "format", "form", "=", "new", "decimal", "format", "(", "pulse", "constants", ".", "decimal", "_", "format", "_", "pattern", "_", "2", ")", ";", "string", "entry", "size", "in", "mb", "=", "form", ".", "format", "(", "entry", "size", "/", "(", "num", "*", "num", ")", ")", ";", "if", "(", "entry", "size", "<", "num", ")", "{", "region", "json", ".", "put", "(", "this", ".", "entry", "_", "size", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "this", ".", "entry", "_", "size", ",", "entry", "size", "in", "mb", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "disk", "usage", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "wan", "enabled", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "total", "disk", "usage", ")", ";", "region", "json", ".", "put", "(", "str", ",", "entry", "size", "in", "mb", ")", ";", "logger", ".", "fine", "(", "str", "+", "region", "json", ")", ";", "return", "region", "json", ";", "}", "else", "{", "jsonobject", "response", "json", "=", "new", "jsonobject", "(", ")", ";", "response", "json", ".", "put", "(", "str", ",", "str", "+", "selected", "region", "full", "path", "+", "str", ")", ";", "return", "response", "json", ";", "}", "}"], "new_code": "private object node get selected region json ( cluster cluster , string selected region full path ) { pulse log writer logger = pulse log writer . get logger ( ) ; long total heap size = cluster . get total heap size ( ) ; long total disk usage = cluster . get total bytes on disk ( ) ; cluster . region reg = cluster . get cluster region ( selected region full path ) ; if ( reg ! = null ) { object node region json = mapper . create object node ( ) ; region json . put ( str , reg . get name ( ) ) ; region json . put ( str , reg . get full path ( ) ) ; region json . put ( str , total heap size ) ; region json . put ( str , reg . get system region entry count ( ) ) ; region json . put ( str , reg . get member count ( ) ) ; final string region type = reg . get region type ( ) ; region json . put ( str , region type ) ; region json . put ( str , reg . get gets rate ( ) ) ; region json . put ( str , reg . get puts rate ( ) ) ; region json . put ( str , reg . get lru eviction rate ( ) ) ; decimal format df2 = new decimal format ( pulse constants . decimal _ format _ pattern ) ; cluster . member [ ] cluster members list = cluster . get members ( ) ; list < cluster . member > cluster members l = new array list < cluster . member > ( ) ; for ( string member name : reg . get member name ( ) ) { for ( cluster . member member : cluster members list ) { string name = member . get name ( ) ; name = name . replace ( str , str ) ; string id = member . get id ( ) ; id = id . replace ( str , str ) ; if ( ( member name . equals ( id ) ) | | ( member name . equals ( name ) ) ) { cluster members l . add ( member ) ; } } } collections . sort ( cluster members l , member current heap usage comparator ) ; array node member array = mapper . create array node ( ) ; for ( cluster . member member : cluster members l ) { object node region member = mapper . create object node ( ) ; region member . put ( str , member . get id ( ) ) ; region member . put ( str , member . get name ( ) ) ; region member . put ( str , member . get host ( ) ) ; long used heap size = cluster . get used heap size ( ) ; long current heap = member . get current heap size ( ) ; if ( used heap size > num ) { float heap usage = ( ( float ) current heap / ( float ) used heap size ) * num ; region member . put ( str , double . value of ( df2 . format ( heap usage ) ) ) ; } else { region member . put ( str , num ) ; } float current cpuusage = member . get cpu usage ( ) ; region member . put ( str , float . value of ( df2 . format ( current cpuusage ) ) ) ; region member . put ( str , member . get current heap size ( ) ) ; region member . put ( str , member . is manager ( ) ) ; region member . put ( str , time utils . convert time seconds to hms ( member . get uptime ( ) ) ) ; region member . put ( str , member . get load average ( ) ) ; region member . put ( str , member . get total file descriptor open ( ) ) ; region member . put ( str , member . get num threads ( ) ) ; if ( pulse controller . get pulse product support ( ) . equals ignore case ( pulse constants . product _ name _ sqlfire ) ) { region member . put ( str , member . get num sqlfire clients ( ) ) ; } else { region member . put ( str , member . get member clients hmap ( ) . size ( ) ) ; } region member . put ( str , member . get queue backlog ( ) ) ; member array . add ( region member ) ; } region json . put ( str , member array ) ; region json . put ( str , reg . get system region entry count ( ) ) ; region json . put ( str , reg . get persistent enabled ( ) ? pulse service . value _ on : pulse service . value _ off ) ; region json . put ( str , reg . is enable off heap memory ( ) ? pulse service . value _ on : pulse service . value _ off ) ; if ( region type . starts with ( str ) ) { region json . put ( str , reg . is hdfs write only ( ) ? pulse service . value _ on : pulse service . value _ off ) ; } else { region json . put ( str , pulse service . value _ na ) ; } string reg comp codec = reg . get compression codec ( ) ; if ( string utils . is not null not empty not white space ( reg comp codec ) ) { region json . put ( str , reg . get compression codec ( ) ) ; } else { region json . put ( str , pulse service . value _ na ) ; } if ( pulse constants . product _ name _ sqlfire . equals ignore case ( pulse controller . get pulse product support ( ) ) ) { region json . put ( str , string utils . get table name from region name ( reg . get full path ( ) ) ) ; } else { region json . put ( str , reg . get full path ( ) ) ; } region json . put ( str , mapper . value to tree ( reg . get region statistic trend ( cluster . region . region _ stat _ gets _ per _ sec _ trend ) ) ) ; region json . put ( str , mapper . value to tree ( reg . get region statistic trend ( cluster . region . region _ stat _ puts _ per _ sec _ trend ) ) ) ; region json . put ( str , mapper . value to tree ( reg . get region statistic trend ( cluster . region . region _ stat _ disk _ reads _ per _ sec _ trend ) ) ) ; region json . put ( str , mapper . value to tree ( reg . get region statistic trend ( cluster . region . region _ stat _ disk _ writes _ per _ sec _ trend ) ) ) ; region json . put ( str , reg . get empty node ( ) ) ; long entry size = reg . get entry size ( ) ; decimal format form = new decimal format ( pulse constants . decimal _ format _ pattern _ 2 ) ; string entry size in mb = form . format ( entry size / ( num * num ) ) ; if ( entry size < num ) { region json . put ( this . entry _ size , pulse service . value _ na ) ; } else { region json . put ( this . entry _ size , entry size in mb ) ; } region json . put ( str , reg . get disk usage ( ) ) ; region json . put ( str , reg . get wan enabled ( ) ) ; region json . put ( str , total disk usage ) ; region json . put ( str , entry size in mb ) ; logger . fine ( str + region json ) ; return region json ; } else { object node response json = mapper . create object node ( ) ; response json . put ( str , str + selected region full path + str ) ; return response json ; } }", "new_code_tokens": ["private", "object", "node", "get", "selected", "region", "json", "(", "cluster", "cluster", ",", "string", "selected", "region", "full", "path", ")", "{", "pulse", "log", "writer", "logger", "=", "pulse", "log", "writer", ".", "get", "logger", "(", ")", ";", "long", "total", "heap", "size", "=", "cluster", ".", "get", "total", "heap", "size", "(", ")", ";", "long", "total", "disk", "usage", "=", "cluster", ".", "get", "total", "bytes", "on", "disk", "(", ")", ";", "cluster", ".", "region", "reg", "=", "cluster", ".", "get", "cluster", "region", "(", "selected", "region", "full", "path", ")", ";", "if", "(", "reg", "!", "=", "null", ")", "{", "object", "node", "region", "json", "=", "mapper", ".", "create", "object", "node", "(", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "name", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "full", "path", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "total", "heap", "size", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "system", "region", "entry", "count", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "member", "count", "(", ")", ")", ";", "final", "string", "region", "type", "=", "reg", ".", "get", "region", "type", "(", ")", ";", "region", "json", ".", "put", "(", "str", ",", "region", "type", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "gets", "rate", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "puts", "rate", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "lru", "eviction", "rate", "(", ")", ")", ";", "decimal", "format", "df2", "=", "new", "decimal", "format", "(", "pulse", "constants", ".", "decimal", "_", "format", "_", "pattern", ")", ";", "cluster", ".", "member", "[", "]", "cluster", "members", "list", "=", "cluster", ".", "get", "members", "(", ")", ";", "list", "<", "cluster", ".", "member", ">", "cluster", "members", "l", "=", "new", "array", "list", "<", "cluster", ".", "member", ">", "(", ")", ";", "for", "(", "string", "member", "name", ":", "reg", ".", "get", "member", "name", "(", ")", ")", "{", "for", "(", "cluster", ".", "member", "member", ":", "cluster", "members", "list", ")", "{", "string", "name", "=", "member", ".", "get", "name", "(", ")", ";", "name", "=", "name", ".", "replace", "(", "str", ",", "str", ")", ";", "string", "id", "=", "member", ".", "get", "id", "(", ")", ";", "id", "=", "id", ".", "replace", "(", "str", ",", "str", ")", ";", "if", "(", "(", "member", "name", ".", "equals", "(", "id", ")", ")", "|", "|", "(", "member", "name", ".", "equals", "(", "name", ")", ")", ")", "{", "cluster", "members", "l", ".", "add", "(", "member", ")", ";", "}", "}", "}", "collections", ".", "sort", "(", "cluster", "members", "l", ",", "member", "current", "heap", "usage", "comparator", ")", ";", "array", "node", "member", "array", "=", "mapper", ".", "create", "array", "node", "(", ")", ";", "for", "(", "cluster", ".", "member", "member", ":", "cluster", "members", "l", ")", "{", "object", "node", "region", "member", "=", "mapper", ".", "create", "object", "node", "(", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "id", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "name", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "host", "(", ")", ")", ";", "long", "used", "heap", "size", "=", "cluster", ".", "get", "used", "heap", "size", "(", ")", ";", "long", "current", "heap", "=", "member", ".", "get", "current", "heap", "size", "(", ")", ";", "if", "(", "used", "heap", "size", ">", "num", ")", "{", "float", "heap", "usage", "=", "(", "(", "float", ")", "current", "heap", "/", "(", "float", ")", "used", "heap", "size", ")", "*", "num", ";", "region", "member", ".", "put", "(", "str", ",", "double", ".", "value", "of", "(", "df2", ".", "format", "(", "heap", "usage", ")", ")", ")", ";", "}", "else", "{", "region", "member", ".", "put", "(", "str", ",", "num", ")", ";", "}", "float", "current", "cpuusage", "=", "member", ".", "get", "cpu", "usage", "(", ")", ";", "region", "member", ".", "put", "(", "str", ",", "float", ".", "value", "of", "(", "df2", ".", "format", "(", "current", "cpuusage", ")", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "current", "heap", "size", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "is", "manager", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "time", "utils", ".", "convert", "time", "seconds", "to", "hms", "(", "member", ".", "get", "uptime", "(", ")", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "load", "average", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "total", "file", "descriptor", "open", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "num", "threads", "(", ")", ")", ";", "if", "(", "pulse", "controller", ".", "get", "pulse", "product", "support", "(", ")", ".", "equals", "ignore", "case", "(", "pulse", "constants", ".", "product", "_", "name", "_", "sqlfire", ")", ")", "{", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "num", "sqlfire", "clients", "(", ")", ")", ";", "}", "else", "{", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "member", "clients", "hmap", "(", ")", ".", "size", "(", ")", ")", ";", "}", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "queue", "backlog", "(", ")", ")", ";", "member", "array", ".", "add", "(", "region", "member", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "member", "array", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "system", "region", "entry", "count", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "persistent", "enabled", "(", ")", "?", "pulse", "service", ".", "value", "_", "on", ":", "pulse", "service", ".", "value", "_", "off", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "is", "enable", "off", "heap", "memory", "(", ")", "?", "pulse", "service", ".", "value", "_", "on", ":", "pulse", "service", ".", "value", "_", "off", ")", ";", "if", "(", "region", "type", ".", "starts", "with", "(", "str", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "is", "hdfs", "write", "only", "(", ")", "?", "pulse", "service", ".", "value", "_", "on", ":", "pulse", "service", ".", "value", "_", "off", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "string", "reg", "comp", "codec", "=", "reg", ".", "get", "compression", "codec", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "not", "null", "not", "empty", "not", "white", "space", "(", "reg", "comp", "codec", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "compression", "codec", "(", ")", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "if", "(", "pulse", "constants", ".", "product", "_", "name", "_", "sqlfire", ".", "equals", "ignore", "case", "(", "pulse", "controller", ".", "get", "pulse", "product", "support", "(", ")", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "string", "utils", ".", "get", "table", "name", "from", "region", "name", "(", "reg", ".", "get", "full", "path", "(", ")", ")", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "full", "path", "(", ")", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "mapper", ".", "value", "to", "tree", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "gets", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "mapper", ".", "value", "to", "tree", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "puts", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "mapper", ".", "value", "to", "tree", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "disk", "_", "reads", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "mapper", ".", "value", "to", "tree", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "disk", "_", "writes", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "empty", "node", "(", ")", ")", ";", "long", "entry", "size", "=", "reg", ".", "get", "entry", "size", "(", ")", ";", "decimal", "format", "form", "=", "new", "decimal", "format", "(", "pulse", "constants", ".", "decimal", "_", "format", "_", "pattern", "_", "2", ")", ";", "string", "entry", "size", "in", "mb", "=", "form", ".", "format", "(", "entry", "size", "/", "(", "num", "*", "num", ")", ")", ";", "if", "(", "entry", "size", "<", "num", ")", "{", "region", "json", ".", "put", "(", "this", ".", "entry", "_", "size", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "this", ".", "entry", "_", "size", ",", "entry", "size", "in", "mb", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "disk", "usage", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "wan", "enabled", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "total", "disk", "usage", ")", ";", "region", "json", ".", "put", "(", "str", ",", "entry", "size", "in", "mb", ")", ";", "logger", ".", "fine", "(", "str", "+", "region", "json", ")", ";", "return", "region", "json", ";", "}", "else", "{", "object", "node", "response", "json", "=", "mapper", ".", "create", "object", "node", "(", ")", ";", "response", "json", ".", "put", "(", "str", ",", "str", "+", "selected", "region", "full", "path", "+", "str", ")", ";", "return", "response", "json", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> jsonobject <REPLACE_NEW> object node <REPLACE_END> <KEEP> get selected region json ( cluster cluster , string selected region full path ) <KEEP_END> <DELETE> throws jsonexception <DELETE_END> <KEEP> { pulse log writer logger = pulse log writer . get logger ( ) ; long total heap size = cluster . get total heap size ( ) ; long total disk usage = cluster . get total bytes on disk ( ) ; cluster . region reg = cluster . get cluster region ( selected region full path ) ; if ( reg ! = null ) { <KEEP_END> <REPLACE_OLD> jsonobject region json = new jsonobject <REPLACE_NEW> object node region json = mapper . create object node <REPLACE_END> <KEEP> ( ) ; region json . put ( str , reg . get name ( ) ) ; region json . put ( str , reg . get full path ( ) ) ; region json . put ( str , total heap size ) ; region json . put ( str , reg . get system region entry count ( ) ) ; region json . put ( str , reg . get member count ( ) ) ; final string region type = reg . get region type ( ) ; region json . put ( str , region type ) ; region json . put ( str , reg . get gets rate ( ) ) ; region json . put ( str , reg . get puts rate ( ) ) ; region json . put ( str , reg . get lru eviction rate ( ) ) ; decimal format df2 = new decimal format ( pulse constants . decimal _ format _ pattern ) ; cluster . member [ ] cluster members list = cluster . get members ( ) ; list < cluster . member > cluster members l = new array list < cluster . member > ( ) ; for ( string member name : reg . get member name ( ) ) { for ( cluster . member member : cluster members list ) { string name = member . get name ( ) ; name = name . replace ( str , str ) ; string id = member . get id ( ) ; id = id . replace ( str , str ) ; if ( ( member name . equals ( id ) ) | | ( member name . equals ( name ) ) ) { cluster members l . add ( member ) ; } } } collections . sort ( cluster members l , member current heap usage comparator ) ; <KEEP_END> <DELETE> jsonarray member <DELETE_END> <KEEP> array <KEEP_END> <REPLACE_OLD> = new jsonarray <REPLACE_NEW> node member array = mapper . create array node <REPLACE_END> <KEEP> ( ) ; for ( cluster . member member : cluster members l ) { <KEEP_END> <REPLACE_OLD> jsonobject region member = new jsonobject <REPLACE_NEW> object node region member = mapper . create object node <REPLACE_END> <KEEP> ( ) ; region member . put ( str , member . get id ( ) ) ; region member . put ( str , member . get name ( ) ) ; region member . put ( str , member . get host ( ) ) ; long used heap size = cluster . get used heap size ( ) ; long current heap = member . get current heap size ( ) ; if ( used heap size > num ) { float heap usage = ( ( float ) current heap / ( float ) used heap size ) * num ; region member . put ( str , double . value of ( df2 . format ( heap usage ) ) ) ; } else { region member . put ( str , num ) ; } float current cpuusage = member . get cpu usage ( ) ; region member . put ( str , float . value of ( df2 . format ( current cpuusage ) ) ) ; region member . put ( str , member . get current heap size ( ) ) ; region member . put ( str , member . is manager ( ) ) ; region member . put ( str , time utils . convert time seconds to hms ( member . get uptime ( ) ) ) ; region member . put ( str , member . get load average ( ) ) ; region member . put ( str , member . get total file descriptor open ( ) ) ; region member . put ( str , member . get num threads ( ) ) ; if ( pulse controller . get pulse product support ( ) . equals ignore case ( pulse constants . product _ name _ sqlfire ) ) { region member . put ( str , member . get num sqlfire clients ( ) ) ; } else { region member . put ( str , member . get member clients hmap ( ) . size ( ) ) ; } region member . put ( str , member . get queue backlog ( ) ) ; member array . <KEEP_END> <REPLACE_OLD> put <REPLACE_NEW> add <REPLACE_END> <KEEP> ( region member ) ; } region json . put ( str , member array ) ; region json . put ( str , reg . get system region entry count ( ) ) ; <KEEP_END> <REPLACE_OLD> boolean persistent = <REPLACE_NEW> region json . put ( str , <REPLACE_END> <KEEP> reg . get persistent enabled ( ) <KEEP_END> <REPLACE_OLD> ; if ( persistent ) { region json . put ( str , <REPLACE_NEW> ? <REPLACE_END> <KEEP> pulse service . value _ on <KEEP_END> <REPLACE_OLD> ) ; } else { region json . put ( str , <REPLACE_NEW> : <REPLACE_END> <KEEP> pulse service . value _ off ) ; <KEEP_END> <REPLACE_OLD> } boolean <REPLACE_NEW> region json . put ( str , reg . <REPLACE_END> <KEEP> is enable off heap memory <KEEP_END> <REPLACE_OLD> = reg . is enable <REPLACE_NEW> ( ) ? pulse service . value _ on : pulse service . value _ <REPLACE_END> <KEEP> off <KEEP_END> <DELETE> heap memory ( <DELETE_END> <KEEP> ) ; if ( <KEEP_END> <REPLACE_OLD> is enable off heap memory ) { region json . put ( str , pulse service . value _ on ) ; } else { region json . put ( str , pulse service . value _ off ) ; } boolean is hdfswrite only = <REPLACE_NEW> region type . starts with ( str ) ) { region json . put ( str , <REPLACE_END> <KEEP> reg . is hdfs write only ( ) <KEEP_END> <REPLACE_OLD> ; if ( region type . starts with ( str ) ) { if ( is hdfswrite only ) { region json . put ( str , <REPLACE_NEW> ? <REPLACE_END> <KEEP> pulse service . value _ on <KEEP_END> <REPLACE_OLD> ) ; } else { region json . put ( str , <REPLACE_NEW> : <REPLACE_END> <KEEP> pulse service . value _ off ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> } else { region json . put ( str , pulse service . value _ na ) ; } string reg comp codec = reg . get compression codec ( ) ; if ( string utils . is not null not empty not white space ( reg comp codec ) ) { region json . put ( str , reg . get compression codec ( ) ) ; } else { region json . put ( str , pulse service . value _ na ) ; } if ( pulse constants . product _ name _ sqlfire . equals ignore case ( pulse controller . get pulse product support ( ) ) ) { region json . put ( str , string utils . get table name from region name ( reg . get full path ( ) ) ) ; } else { region json . put ( str , reg . get full path ( ) ) ; } region json . put ( str , <KEEP_END> <REPLACE_OLD> new jsonarray <REPLACE_NEW> mapper . value to tree <REPLACE_END> <KEEP> ( reg . get region statistic trend ( cluster . region . region _ stat _ gets _ per _ sec _ trend ) ) ) ; region json . put ( str , <KEEP_END> <REPLACE_OLD> new jsonarray <REPLACE_NEW> mapper . value to tree <REPLACE_END> <KEEP> ( reg . get region statistic trend ( cluster . region . region _ stat _ puts _ per _ sec _ trend ) ) ) ; region json . put ( str , <KEEP_END> <REPLACE_OLD> new jsonarray <REPLACE_NEW> mapper . value to tree <REPLACE_END> <KEEP> ( reg . get region statistic trend ( cluster . region . region _ stat _ disk _ reads _ per _ sec _ trend ) ) ) ; region json . put ( str , <KEEP_END> <REPLACE_OLD> new jsonarray <REPLACE_NEW> mapper . value to tree <REPLACE_END> <KEEP> ( reg . get region statistic trend ( cluster . region . region _ stat _ disk _ writes _ per _ sec _ trend ) ) ) ; region json . put ( str , reg . get empty node ( ) ) ; long entry size = reg . get entry size ( ) ; decimal format form = new decimal format ( pulse constants . decimal _ format _ pattern _ 2 ) ; string entry size in mb = form . format ( entry size / ( num * num ) ) ; if ( entry size < num ) { region json . put ( this . entry _ size , pulse service . value _ na ) ; } else { region json . put ( this . entry _ size , entry size in mb ) ; } region json . put ( str , reg . get disk usage ( ) ) ; region json . put ( str , reg . get wan enabled ( ) ) ; region json . put ( str , total disk usage ) ; region json . put ( str , entry size in mb ) ; logger . fine ( str + region json ) ; return region json ; } else { <KEEP_END> <REPLACE_OLD> jsonobject <REPLACE_NEW> object node <REPLACE_END> <KEEP> response json = <KEEP_END> <REPLACE_OLD> new jsonobject <REPLACE_NEW> mapper . create object node <REPLACE_END> <KEEP> ( ) ; response json . put ( str , str + selected region full path + str ) ; return response json ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "node", "<REPLACE_END>", "<KEEP>", "get", "selected", "region", "json", "(", "cluster", "cluster", ",", "string", "selected", "region", "full", "path", ")", "<KEEP_END>", "<DELETE>", "throws", "jsonexception", "<DELETE_END>", "<KEEP>", "{", "pulse", "log", "writer", "logger", "=", "pulse", "log", "writer", ".", "get", "logger", "(", ")", ";", "long", "total", "heap", "size", "=", "cluster", ".", "get", "total", "heap", "size", "(", ")", ";", "long", "total", "disk", "usage", "=", "cluster", ".", "get", "total", "bytes", "on", "disk", "(", ")", ";", "cluster", ".", "region", "reg", "=", "cluster", ".", "get", "cluster", "region", "(", "selected", "region", "full", "path", ")", ";", "if", "(", "reg", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "jsonobject", "region", "json", "=", "new", "jsonobject", "<REPLACE_NEW>", "object", "node", "region", "json", "=", "mapper", ".", "create", "object", "node", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "name", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "full", "path", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "total", "heap", "size", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "system", "region", "entry", "count", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "member", "count", "(", ")", ")", ";", "final", "string", "region", "type", "=", "reg", ".", "get", "region", "type", "(", ")", ";", "region", "json", ".", "put", "(", "str", ",", "region", "type", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "gets", "rate", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "puts", "rate", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "lru", "eviction", "rate", "(", ")", ")", ";", "decimal", "format", "df2", "=", "new", "decimal", "format", "(", "pulse", "constants", ".", "decimal", "_", "format", "_", "pattern", ")", ";", "cluster", ".", "member", "[", "]", "cluster", "members", "list", "=", "cluster", ".", "get", "members", "(", ")", ";", "list", "<", "cluster", ".", "member", ">", "cluster", "members", "l", "=", "new", "array", "list", "<", "cluster", ".", "member", ">", "(", ")", ";", "for", "(", "string", "member", "name", ":", "reg", ".", "get", "member", "name", "(", ")", ")", "{", "for", "(", "cluster", ".", "member", "member", ":", "cluster", "members", "list", ")", "{", "string", "name", "=", "member", ".", "get", "name", "(", ")", ";", "name", "=", "name", ".", "replace", "(", "str", ",", "str", ")", ";", "string", "id", "=", "member", ".", "get", "id", "(", ")", ";", "id", "=", "id", ".", "replace", "(", "str", ",", "str", ")", ";", "if", "(", "(", "member", "name", ".", "equals", "(", "id", ")", ")", "|", "|", "(", "member", "name", ".", "equals", "(", "name", ")", ")", ")", "{", "cluster", "members", "l", ".", "add", "(", "member", ")", ";", "}", "}", "}", "collections", ".", "sort", "(", "cluster", "members", "l", ",", "member", "current", "heap", "usage", "comparator", ")", ";", "<KEEP_END>", "<DELETE>", "jsonarray", "member", "<DELETE_END>", "<KEEP>", "array", "<KEEP_END>", "<REPLACE_OLD>", "=", "new", "jsonarray", "<REPLACE_NEW>", "node", "member", "array", "=", "mapper", ".", "create", "array", "node", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "cluster", ".", "member", "member", ":", "cluster", "members", "l", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "jsonobject", "region", "member", "=", "new", "jsonobject", "<REPLACE_NEW>", "object", "node", "region", "member", "=", "mapper", ".", "create", "object", "node", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "id", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "name", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "host", "(", ")", ")", ";", "long", "used", "heap", "size", "=", "cluster", ".", "get", "used", "heap", "size", "(", ")", ";", "long", "current", "heap", "=", "member", ".", "get", "current", "heap", "size", "(", ")", ";", "if", "(", "used", "heap", "size", ">", "num", ")", "{", "float", "heap", "usage", "=", "(", "(", "float", ")", "current", "heap", "/", "(", "float", ")", "used", "heap", "size", ")", "*", "num", ";", "region", "member", ".", "put", "(", "str", ",", "double", ".", "value", "of", "(", "df2", ".", "format", "(", "heap", "usage", ")", ")", ")", ";", "}", "else", "{", "region", "member", ".", "put", "(", "str", ",", "num", ")", ";", "}", "float", "current", "cpuusage", "=", "member", ".", "get", "cpu", "usage", "(", ")", ";", "region", "member", ".", "put", "(", "str", ",", "float", ".", "value", "of", "(", "df2", ".", "format", "(", "current", "cpuusage", ")", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "current", "heap", "size", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "is", "manager", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "time", "utils", ".", "convert", "time", "seconds", "to", "hms", "(", "member", ".", "get", "uptime", "(", ")", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "load", "average", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "total", "file", "descriptor", "open", "(", ")", ")", ";", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "num", "threads", "(", ")", ")", ";", "if", "(", "pulse", "controller", ".", "get", "pulse", "product", "support", "(", ")", ".", "equals", "ignore", "case", "(", "pulse", "constants", ".", "product", "_", "name", "_", "sqlfire", ")", ")", "{", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "num", "sqlfire", "clients", "(", ")", ")", ";", "}", "else", "{", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "member", "clients", "hmap", "(", ")", ".", "size", "(", ")", ")", ";", "}", "region", "member", ".", "put", "(", "str", ",", "member", ".", "get", "queue", "backlog", "(", ")", ")", ";", "member", "array", ".", "<KEEP_END>", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "add", "<REPLACE_END>", "<KEEP>", "(", "region", "member", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "member", "array", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "system", "region", "entry", "count", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "persistent", "=", "<REPLACE_NEW>", "region", "json", ".", "put", "(", "str", ",", "<REPLACE_END>", "<KEEP>", "reg", ".", "get", "persistent", "enabled", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "if", "(", "persistent", ")", "{", "region", "json", ".", "put", "(", "str", ",", "<REPLACE_NEW>", "?", "<REPLACE_END>", "<KEEP>", "pulse", "service", ".", "value", "_", "on", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "<REPLACE_NEW>", ":", "<REPLACE_END>", "<KEEP>", "pulse", "service", ".", "value", "_", "off", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "boolean", "<REPLACE_NEW>", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "<REPLACE_END>", "<KEEP>", "is", "enable", "off", "heap", "memory", "<KEEP_END>", "<REPLACE_OLD>", "=", "reg", ".", "is", "enable", "<REPLACE_NEW>", "(", ")", "?", "pulse", "service", ".", "value", "_", "on", ":", "pulse", "service", ".", "value", "_", "<REPLACE_END>", "<KEEP>", "off", "<KEEP_END>", "<DELETE>", "heap", "memory", "(", "<DELETE_END>", "<KEEP>", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "is", "enable", "off", "heap", "memory", ")", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "on", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "off", ")", ";", "}", "boolean", "is", "hdfswrite", "only", "=", "<REPLACE_NEW>", "region", "type", ".", "starts", "with", "(", "str", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "<REPLACE_END>", "<KEEP>", "reg", ".", "is", "hdfs", "write", "only", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "if", "(", "region", "type", ".", "starts", "with", "(", "str", ")", ")", "{", "if", "(", "is", "hdfswrite", "only", ")", "{", "region", "json", ".", "put", "(", "str", ",", "<REPLACE_NEW>", "?", "<REPLACE_END>", "<KEEP>", "pulse", "service", ".", "value", "_", "on", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "<REPLACE_NEW>", ":", "<REPLACE_END>", "<KEEP>", "pulse", "service", ".", "value", "_", "off", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "string", "reg", "comp", "codec", "=", "reg", ".", "get", "compression", "codec", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "not", "null", "not", "empty", "not", "white", "space", "(", "reg", "comp", "codec", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "compression", "codec", "(", ")", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "if", "(", "pulse", "constants", ".", "product", "_", "name", "_", "sqlfire", ".", "equals", "ignore", "case", "(", "pulse", "controller", ".", "get", "pulse", "product", "support", "(", ")", ")", ")", "{", "region", "json", ".", "put", "(", "str", ",", "string", "utils", ".", "get", "table", "name", "from", "region", "name", "(", "reg", ".", "get", "full", "path", "(", ")", ")", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "full", "path", "(", ")", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "new", "jsonarray", "<REPLACE_NEW>", "mapper", ".", "value", "to", "tree", "<REPLACE_END>", "<KEEP>", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "gets", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "new", "jsonarray", "<REPLACE_NEW>", "mapper", ".", "value", "to", "tree", "<REPLACE_END>", "<KEEP>", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "puts", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "new", "jsonarray", "<REPLACE_NEW>", "mapper", ".", "value", "to", "tree", "<REPLACE_END>", "<KEEP>", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "disk", "_", "reads", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "new", "jsonarray", "<REPLACE_NEW>", "mapper", ".", "value", "to", "tree", "<REPLACE_END>", "<KEEP>", "(", "reg", ".", "get", "region", "statistic", "trend", "(", "cluster", ".", "region", ".", "region", "_", "stat", "_", "disk", "_", "writes", "_", "per", "_", "sec", "_", "trend", ")", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "empty", "node", "(", ")", ")", ";", "long", "entry", "size", "=", "reg", ".", "get", "entry", "size", "(", ")", ";", "decimal", "format", "form", "=", "new", "decimal", "format", "(", "pulse", "constants", ".", "decimal", "_", "format", "_", "pattern", "_", "2", ")", ";", "string", "entry", "size", "in", "mb", "=", "form", ".", "format", "(", "entry", "size", "/", "(", "num", "*", "num", ")", ")", ";", "if", "(", "entry", "size", "<", "num", ")", "{", "region", "json", ".", "put", "(", "this", ".", "entry", "_", "size", ",", "pulse", "service", ".", "value", "_", "na", ")", ";", "}", "else", "{", "region", "json", ".", "put", "(", "this", ".", "entry", "_", "size", ",", "entry", "size", "in", "mb", ")", ";", "}", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "disk", "usage", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "reg", ".", "get", "wan", "enabled", "(", ")", ")", ";", "region", "json", ".", "put", "(", "str", ",", "total", "disk", "usage", ")", ";", "region", "json", ".", "put", "(", "str", ",", "entry", "size", "in", "mb", ")", ";", "logger", ".", "fine", "(", "str", "+", "region", "json", ")", ";", "return", "region", "json", ";", "}", "else", "{", "<KEEP_END>", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "node", "<REPLACE_END>", "<KEEP>", "response", "json", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "jsonobject", "<REPLACE_NEW>", "mapper", ".", "create", "object", "node", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "response", "json", ".", "put", "(", "str", ",", "str", "+", "selected", "region", "full", "path", "+", "str", ")", ";", "return", "response", "json", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> jsonobject <REPLACE_NEW> object node <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "node", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", "cluster", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "selected", "<KEEP>", "region", "<KEEP>", "full", "<KEEP>", "path", "<KEEP>", ")", "<DELETE>", "throws", "<DELETE>", "jsonexception", "<KEEP>", "{", "<KEEP>", "pulse", "<KEEP>", "log", "<KEEP>", "writer", "<KEEP>", "logger", "<KEEP>", "=", "<KEEP>", "pulse", "<KEEP>", "log", "<KEEP>", "writer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "logger", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "total", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "total", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "total", "<KEEP>", "disk", "<KEEP>", "usage", "<KEEP>", "=", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "total", "<KEEP>", "bytes", "<KEEP>", "on", "<KEEP>", "disk", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "reg", "<KEEP>", "=", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cluster", "<KEEP>", "region", "<KEEP>", "(", "<KEEP>", "selected", "<KEEP>", "region", "<KEEP>", "full", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "jsonobject", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "full", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "total", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "system", "<KEEP>", "region", "<KEEP>", "entry", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "member", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "region", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "region", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "region", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "gets", "<KEEP>", "rate", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "puts", "<KEEP>", "rate", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "lru", "<KEEP>", "eviction", "<KEEP>", "rate", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "decimal", "<KEEP>", "format", "<KEEP>", "df2", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "decimal", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "pulse", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "decimal", "<KEEP>", "_", "<KEEP>", "format", "<KEEP>", "_", "<KEEP>", "pattern", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "member", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "cluster", "<KEEP>", "members", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "members", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "member", "<KEEP>", ">", "<KEEP>", "cluster", "<KEEP>", "members", "<KEEP>", "l", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "member", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "member", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "member", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "member", "<KEEP>", "member", "<KEEP>", ":", "<KEEP>", "cluster", "<KEEP>", "members", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "member", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "member", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "cluster", "<KEEP>", "members", "<KEEP>", "l", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "member", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "sort", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", "members", "<KEEP>", "l", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", "current", "<KEEP>", "heap", "<KEEP>", "usage", "<KEEP>", "comparator", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "jsonarray", "<DELETE>", "member", "<KEEP>", "array", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "member", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "member", "<KEEP>", "member", "<KEEP>", ":", "<KEEP>", "cluster", "<KEEP>", "members", "<KEEP>", "l", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "jsonobject", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "member", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "member", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "host", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "used", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "used", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "current", "<KEEP>", "heap", "<KEEP>", "=", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "used", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "float", "<KEEP>", "heap", "<KEEP>", "usage", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "float", "<KEEP>", ")", "<KEEP>", "current", "<KEEP>", "heap", "<KEEP>", "/", "<KEEP>", "(", "<KEEP>", "float", "<KEEP>", ")", "<KEEP>", "used", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "double", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "df2", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "heap", "<KEEP>", "usage", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "float", "<KEEP>", "current", "<KEEP>", "cpuusage", "<KEEP>", "=", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cpu", "<KEEP>", "usage", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "float", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "df2", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "cpuusage", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "heap", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "time", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "convert", "<KEEP>", "time", "<KEEP>", "seconds", "<KEEP>", "to", "<KEEP>", "hms", "<KEEP>", "(", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "uptime", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "load", "<KEEP>", "average", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "total", "<KEEP>", "file", "<KEEP>", "descriptor", "<KEEP>", "open", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "num", "<KEEP>", "threads", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "pulse", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "pulse", "<KEEP>", "product", "<KEEP>", "support", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", "pulse", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "product", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", "_", "<KEEP>", "sqlfire", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "num", "<KEEP>", "sqlfire", "<KEEP>", "clients", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "member", "<KEEP>", "clients", "<KEEP>", "hmap", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "queue", "<KEEP>", "backlog", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "member", "<KEEP>", "array", "<KEEP>", ".", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "add", "<KEEP>", "(", "<KEEP>", "region", "<KEEP>", "member", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "member", "<KEEP>", "array", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "system", "<KEEP>", "region", "<KEEP>", "entry", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "persistent", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "persistent", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "persistent", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "?", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "on", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ":", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "off", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "reg", "<REPLACE_NEW>", ".", "<KEEP>", "is", "<KEEP>", "enable", "<KEEP>", "off", "<KEEP>", "heap", "<KEEP>", "memory", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "reg", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "enable", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "pulse", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "on", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "pulse", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "_", "<KEEP>", "off", "<DELETE>", "heap", "<DELETE>", "memory", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "enable", "<REPLACE_OLD>", "off", "<REPLACE_OLD>", "heap", "<REPLACE_OLD>", "memory", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "pulse", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "pulse", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "off", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "hdfswrite", "<REPLACE_OLD>", "only", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "starts", "<REPLACE_NEW>", "with", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "region", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "hdfs", "<KEEP>", "write", "<KEEP>", "only", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "starts", "<REPLACE_OLD>", "with", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "hdfswrite", "<REPLACE_OLD>", "only", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "?", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "on", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "region", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ":", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "off", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "na", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "reg", "<KEEP>", "comp", "<KEEP>", "codec", "<KEEP>", "=", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "compression", "<KEEP>", "codec", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "not", "<KEEP>", "empty", "<KEEP>", "not", "<KEEP>", "white", "<KEEP>", "space", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", "comp", "<KEEP>", "codec", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "compression", "<KEEP>", "codec", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "na", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "pulse", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "product", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", "_", "<KEEP>", "sqlfire", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", "pulse", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "pulse", "<KEEP>", "product", "<KEEP>", "support", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", "from", "<KEEP>", "region", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "full", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "full", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "tree", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "region", "<KEEP>", "statistic", "<KEEP>", "trend", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "_", "<KEEP>", "stat", "<KEEP>", "_", "<KEEP>", "gets", "<KEEP>", "_", "<KEEP>", "per", "<KEEP>", "_", "<KEEP>", "sec", "<KEEP>", "_", "<KEEP>", "trend", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "tree", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "region", "<KEEP>", "statistic", "<KEEP>", "trend", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "_", "<KEEP>", "stat", "<KEEP>", "_", "<KEEP>", "puts", "<KEEP>", "_", "<KEEP>", "per", "<KEEP>", "_", "<KEEP>", "sec", "<KEEP>", "_", "<KEEP>", "trend", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "tree", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "region", "<KEEP>", "statistic", "<KEEP>", "trend", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "_", "<KEEP>", "stat", "<KEEP>", "_", "<KEEP>", "disk", "<KEEP>", "_", "<KEEP>", "reads", "<KEEP>", "_", "<KEEP>", "per", "<KEEP>", "_", "<KEEP>", "sec", "<KEEP>", "_", "<KEEP>", "trend", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "tree", "<KEEP>", "(", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "region", "<KEEP>", "statistic", "<KEEP>", "trend", "<KEEP>", "(", "<KEEP>", "cluster", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", ".", "<KEEP>", "region", "<KEEP>", "_", "<KEEP>", "stat", "<KEEP>", "_", "<KEEP>", "disk", "<KEEP>", "_", "<KEEP>", "writes", "<KEEP>", "_", "<KEEP>", "per", "<KEEP>", "_", "<KEEP>", "sec", "<KEEP>", "_", "<KEEP>", "trend", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "empty", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "=", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "decimal", "<KEEP>", "format", "<KEEP>", "form", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "decimal", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "pulse", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "decimal", "<KEEP>", "_", "<KEEP>", "format", "<KEEP>", "_", "<KEEP>", "pattern", "<KEEP>", "_", "<KEEP>", "2", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "in", "<KEEP>", "mb", "<KEEP>", "=", "<KEEP>", "form", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "/", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "_", "<KEEP>", "size", "<KEEP>", ",", "<KEEP>", "pulse", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "na", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "_", "<KEEP>", "size", "<KEEP>", ",", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "in", "<KEEP>", "mb", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "disk", "<KEEP>", "usage", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "reg", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "wan", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "total", "<KEEP>", "disk", "<KEEP>", "usage", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "entry", "<KEEP>", "size", "<KEEP>", "in", "<KEEP>", "mb", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "fine", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "region", "<KEEP>", "json", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<KEEP>", "response", "<KEEP>", "json", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonobject", "<REPLACE_NEW>", "mapper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "response", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "selected", "<KEEP>", "region", "<KEEP>", "full", "<KEEP>", "path", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "response", "<KEEP>", "json", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "sudosurootdev_frameworks_opt_telephony-50-4902", "old_comment": "the android . telecomm . connection . video provider .", "old_comment_tokens": ["the", "android", ".", "telecomm", ".", "connection", ".", "video", "provider", "."], "new_comment": "the android . telecom . connection . video provider .", "new_comment_tokens": ["the", "android", ".", "telecom", ".", "connection", ".", "video", "provider", "."], "old_code": "public android . telecomm . connection . video provider get video provider ( ) { return m video provider ; }", "old_code_tokens": ["public", "android", ".", "telecomm", ".", "connection", ".", "video", "provider", "get", "video", "provider", "(", ")", "{", "return", "m", "video", "provider", ";", "}"], "new_code": "public android . telecom . connection . video provider get video provider ( ) { return m video provider ; }", "new_code_tokens": ["public", "android", ".", "telecom", ".", "connection", ".", "video", "provider", "get", "video", "provider", "(", ")", "{", "return", "m", "video", "provider", ";", "}"], "span_diff_code": "<KEEP> public android . <KEEP_END> <REPLACE_OLD> telecomm <REPLACE_NEW> telecom <REPLACE_END> <KEEP> . connection . video provider get video provider ( ) { return m video provider ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "android", ".", "<KEEP_END>", "<REPLACE_OLD>", "telecomm", "<REPLACE_NEW>", "telecom", "<REPLACE_END>", "<KEEP>", ".", "connection", ".", "video", "provider", "get", "video", "provider", "(", ")", "{", "return", "m", "video", "provider", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> telecomm <REPLACE_NEW> telecom <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "telecomm", "<REPLACE_NEW>", "telecom", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "android", "<KEEP>", ".", "<REPLACE_OLD>", "telecomm", "<REPLACE_NEW>", "telecom", "<KEEP>", ".", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "video", "<KEEP>", "provider", "<KEEP>", "get", "<KEEP>", "video", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "video", "<KEEP>", "provider", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dimagi_commcare-j2me-15-4005", "old_comment": "a prototype factory containing prototypes for ianswer data ' s , idata references , and question data groups . if a factory doesn ' t yet exist , one is created , and default ianswer data implementing classes are pre - populated .", "old_comment_tokens": ["a", "prototype", "factory", "containing", "prototypes", "for", "ianswer", "data", "'", "s", ",", "idata", "references", ",", "and", "question", "data", "groups", ".", "if", "a", "factory", "doesn", "'", "t", "yet", "exist", ",", "one", "is", "created", ",", "and", "default", "ianswer", "data", "implementing", "classes", "are", "pre", "-", "populated", "."], "new_comment": "a prototype factory deprecated containing prototypes for ianswer data ' s , idata references , and question data groups . if a factory doesn ' t yet exist , one is created , and default ianswer data implementing classes are pre - populated .", "new_comment_tokens": ["a", "prototype", "factory", "deprecated", "containing", "prototypes", "for", "ianswer", "data", "'", "s", ",", "idata", "references", ",", "and", "question", "data", "groups", ".", "if", "a", "factory", "doesn", "'", "t", "yet", "exist", ",", "one", "is", "created", ",", "and", "default", "ianswer", "data", "implementing", "classes", "are", "pre", "-", "populated", "."], "old_code": "public prototype factory get question elements factory ( ) { if ( question factory = = null ) { question factory = new prototype factory ( ) ; add answer data prototype ( new date data ( ) ) ; add answer data prototype ( new integer data ( ) ) ; add answer data prototype ( new select multi data ( ) ) ; add answer data prototype ( new select one data ( ) ) ; add answer data prototype ( new string data ( ) ) ; add answer data prototype ( new time data ( ) ) ; } return question factory ; }", "old_code_tokens": ["public", "prototype", "factory", "get", "question", "elements", "factory", "(", ")", "{", "if", "(", "question", "factory", "=", "=", "null", ")", "{", "question", "factory", "=", "new", "prototype", "factory", "(", ")", ";", "add", "answer", "data", "prototype", "(", "new", "date", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "integer", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "select", "multi", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "select", "one", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "string", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "time", "data", "(", ")", ")", ";", "}", "return", "question", "factory", ";", "}"], "new_code": "public prototype factory deprecated get question elements factory ( ) { if ( question factory = = null ) { question factory = new prototype factory deprecated ( ) ; add answer data prototype ( new date data ( ) ) ; add answer data prototype ( new integer data ( ) ) ; add answer data prototype ( new select multi data ( ) ) ; add answer data prototype ( new select one data ( ) ) ; add answer data prototype ( new string data ( ) ) ; add answer data prototype ( new time data ( ) ) ; } return question factory ; }", "new_code_tokens": ["public", "prototype", "factory", "deprecated", "get", "question", "elements", "factory", "(", ")", "{", "if", "(", "question", "factory", "=", "=", "null", ")", "{", "question", "factory", "=", "new", "prototype", "factory", "deprecated", "(", ")", ";", "add", "answer", "data", "prototype", "(", "new", "date", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "integer", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "select", "multi", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "select", "one", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "string", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "time", "data", "(", ")", ")", ";", "}", "return", "question", "factory", ";", "}"], "span_diff_code": "<KEEP> public prototype factory <KEEP_END> <INSERT> deprecated <INSERT_END> <KEEP> get question elements factory ( ) { if ( question factory = = null ) { question factory = new prototype factory <KEEP_END> <INSERT> deprecated <INSERT_END> <KEEP> ( ) ; add answer data prototype ( new date data ( ) ) ; add answer data prototype ( new integer data ( ) ) ; add answer data prototype ( new select multi data ( ) ) ; add answer data prototype ( new select one data ( ) ) ; add answer data prototype ( new string data ( ) ) ; add answer data prototype ( new time data ( ) ) ; } return question factory ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "prototype", "factory", "<KEEP_END>", "<INSERT>", "deprecated", "<INSERT_END>", "<KEEP>", "get", "question", "elements", "factory", "(", ")", "{", "if", "(", "question", "factory", "=", "=", "null", ")", "{", "question", "factory", "=", "new", "prototype", "factory", "<KEEP_END>", "<INSERT>", "deprecated", "<INSERT_END>", "<KEEP>", "(", ")", ";", "add", "answer", "data", "prototype", "(", "new", "date", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "integer", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "select", "multi", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "select", "one", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "string", "data", "(", ")", ")", ";", "add", "answer", "data", "prototype", "(", "new", "time", "data", "(", ")", ")", ";", "}", "return", "question", "factory", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> prototype factory <INSERT_NEW_KEEP_BEFORE> prototype factory deprecated <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "prototype", "factory", "<INSERT_NEW_KEEP_BEFORE>", "prototype", "factory", "deprecated", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "prototype", "<KEEP>", "factory", "<INSERT>", "deprecated", "<KEEP>", "get", "<KEEP>", "question", "<KEEP>", "elements", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "question", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "question", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "prototype", "<KEEP>", "factory", "<INSERT>", "deprecated", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "answer", "<KEEP>", "data", "<KEEP>", "prototype", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "date", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "answer", "<KEEP>", "data", "<KEEP>", "prototype", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "answer", "<KEEP>", "data", "<KEEP>", "prototype", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "select", "<KEEP>", "multi", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "answer", "<KEEP>", "data", "<KEEP>", "prototype", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "select", "<KEEP>", "one", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "answer", "<KEEP>", "data", "<KEEP>", "prototype", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "add", "<KEEP>", "answer", "<KEEP>", "data", "<KEEP>", "prototype", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "time", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "question", "<KEEP>", "factory", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_physical-web-10-839", "old_comment": "true if the ranks are equal .", "old_comment_tokens": ["true", "if", "the", "ranks", "are", "equal", "."], "new_comment": "true if the pw pairs are equal .", "new_comment_tokens": ["true", "if", "the", "pw", "pairs", "are", "equal", "."], "old_code": "public boolean equals ( object other ) { if ( other instanceof pw pair ) { pw pair other pw pair = ( pw pair ) other ; return get rank ( ) = = other pw pair . get rank ( ) ; } return false ; }", "old_code_tokens": ["public", "boolean", "equals", "(", "object", "other", ")", "{", "if", "(", "other", "instanceof", "pw", "pair", ")", "{", "pw", "pair", "other", "pw", "pair", "=", "(", "pw", "pair", ")", "other", ";", "return", "get", "rank", "(", ")", "=", "=", "other", "pw", "pair", ".", "get", "rank", "(", ")", ";", "}", "return", "false", ";", "}"], "new_code": "@ override public boolean equals ( object other ) { if ( this = = other ) { return true ; } if ( other instanceof pw pair ) { pw pair other pw pair = ( pw pair ) other ; return get rank ( ) = = other pw pair . get rank ( ) & & m url device . equals ( other pw pair . m url device ) & & m pws result . equals ( other pw pair . m pws result ) ; } return false ; }", "new_code_tokens": ["@", "override", "public", "boolean", "equals", "(", "object", "other", ")", "{", "if", "(", "this", "=", "=", "other", ")", "{", "return", "true", ";", "}", "if", "(", "other", "instanceof", "pw", "pair", ")", "{", "pw", "pair", "other", "pw", "pair", "=", "(", "pw", "pair", ")", "other", ";", "return", "get", "rank", "(", ")", "=", "=", "other", "pw", "pair", ".", "get", "rank", "(", ")", "&", "&", "m", "url", "device", ".", "equals", "(", "other", "pw", "pair", ".", "m", "url", "device", ")", "&", "&", "m", "pws", "result", ".", "equals", "(", "other", "pw", "pair", ".", "m", "pws", "result", ")", ";", "}", "return", "false", ";", "}"], "span_diff_code": "<INSERT> @ override <INSERT_END> <KEEP> public boolean equals ( object other ) { <KEEP_END> <INSERT> if ( this = = other ) { return true ; } <INSERT_END> <KEEP> if ( other instanceof pw pair ) { pw pair other pw pair = ( pw pair ) other ; return get rank ( ) = = other pw pair . get rank ( ) <KEEP_END> <INSERT> & & m url device . equals ( other pw pair . m url device ) & & m pws result . equals ( other pw pair . m pws result ) <INSERT_END> <KEEP> ; } return false ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "override", "<INSERT_END>", "<KEEP>", "public", "boolean", "equals", "(", "object", "other", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "this", "=", "=", "other", ")", "{", "return", "true", ";", "}", "<INSERT_END>", "<KEEP>", "if", "(", "other", "instanceof", "pw", "pair", ")", "{", "pw", "pair", "other", "pw", "pair", "=", "(", "pw", "pair", ")", "other", ";", "return", "get", "rank", "(", ")", "=", "=", "other", "pw", "pair", ".", "get", "rank", "(", ")", "<KEEP_END>", "<INSERT>", "&", "&", "m", "url", "device", ".", "equals", "(", "other", "pw", "pair", ".", "m", "url", "device", ")", "&", "&", "m", "pws", "result", ".", "equals", "(", "other", "pw", "pair", ".", "m", "pws", "result", ")", "<INSERT_END>", "<KEEP>", ";", "}", "return", "false", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> ranks <REPLACE_NEW> pw pairs <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "ranks", "<REPLACE_NEW>", "pw", "pairs", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "other", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "this", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "other", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "other", "<KEEP>", "instanceof", "<KEEP>", "pw", "<KEEP>", "pair", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pw", "<KEEP>", "pair", "<KEEP>", "other", "<KEEP>", "pw", "<KEEP>", "pair", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "pw", "<KEEP>", "pair", "<KEEP>", ")", "<KEEP>", "other", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "rank", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "other", "<KEEP>", "pw", "<KEEP>", "pair", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "rank", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "m", "<INSERT>", "url", "<INSERT>", "device", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "other", "<INSERT>", "pw", "<INSERT>", "pair", "<INSERT>", ".", "<INSERT>", "m", "<INSERT>", "url", "<INSERT>", "device", "<INSERT>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "m", "<INSERT>", "pws", "<INSERT>", "result", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "other", "<INSERT>", "pw", "<INSERT>", "pair", "<INSERT>", ".", "<INSERT>", "m", "<INSERT>", "pws", "<INSERT>", "result", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Netflix_eureka-6-737", "old_comment": "uri identical to the one provided , with host name swapped with the resolved value", "old_comment_tokens": ["uri", "identical", "to", "the", "one", "provided", ",", "with", "host", "name", "swapped", "with", "the", "resolved", "value"], "new_comment": "resolved host name", "new_comment_tokens": ["resolved", "host", "name"], "old_code": "static string resolve ( string original host ) { string current host = original host ; if ( is local or ip ( current host ) ) { return original host ; } try { string target host = null ; do { attributes attrs = dir context . get attributes ( current host , new string [ ] { a _ record _ type , cname _ record _ type } ) ; attribute attr = attrs . get ( a _ record _ type ) ; if ( attr ! = null ) { target host = attr . get ( ) . to string ( ) ; } attr = attrs . get ( cname _ record _ type ) ; if ( attr ! = null ) { current host = attr . get ( ) . to string ( ) ; } else { target host = current host ; } } while ( target host = = null ) ; return target host ; } catch ( naming exception e ) { logger . warn ( str + current host + str + original host , e ) ; return original host ; } }", "old_code_tokens": ["static", "string", "resolve", "(", "string", "original", "host", ")", "{", "string", "current", "host", "=", "original", "host", ";", "if", "(", "is", "local", "or", "ip", "(", "current", "host", ")", ")", "{", "return", "original", "host", ";", "}", "try", "{", "string", "target", "host", "=", "null", ";", "do", "{", "attributes", "attrs", "=", "dir", "context", ".", "get", "attributes", "(", "current", "host", ",", "new", "string", "[", "]", "{", "a", "_", "record", "_", "type", ",", "cname", "_", "record", "_", "type", "}", ")", ";", "attribute", "attr", "=", "attrs", ".", "get", "(", "a", "_", "record", "_", "type", ")", ";", "if", "(", "attr", "!", "=", "null", ")", "{", "target", "host", "=", "attr", ".", "get", "(", ")", ".", "to", "string", "(", ")", ";", "}", "attr", "=", "attrs", ".", "get", "(", "cname", "_", "record", "_", "type", ")", ";", "if", "(", "attr", "!", "=", "null", ")", "{", "current", "host", "=", "attr", ".", "get", "(", ")", ".", "to", "string", "(", ")", ";", "}", "else", "{", "target", "host", "=", "current", "host", ";", "}", "}", "while", "(", "target", "host", "=", "=", "null", ")", ";", "return", "target", "host", ";", "}", "catch", "(", "naming", "exception", "e", ")", "{", "logger", ".", "warn", "(", "str", "+", "current", "host", "+", "str", "+", "original", "host", ",", "e", ")", ";", "return", "original", "host", ";", "}", "}"], "new_code": "public static string resolve ( string original host ) { string current host = original host ; if ( is local or ip ( current host ) ) { return original host ; } try { string target host = null ; do { attributes attrs = dir context . get attributes ( current host , new string [ ] { a _ record _ type , cname _ record _ type } ) ; attribute attr = attrs . get ( a _ record _ type ) ; if ( attr ! = null ) { target host = attr . get ( ) . to string ( ) ; } attr = attrs . get ( cname _ record _ type ) ; if ( attr ! = null ) { current host = attr . get ( ) . to string ( ) ; } else { target host = current host ; } } while ( target host = = null ) ; return target host ; } catch ( naming exception e ) { logger . warn ( str + current host + str + original host , e ) ; return original host ; } }", "new_code_tokens": ["public", "static", "string", "resolve", "(", "string", "original", "host", ")", "{", "string", "current", "host", "=", "original", "host", ";", "if", "(", "is", "local", "or", "ip", "(", "current", "host", ")", ")", "{", "return", "original", "host", ";", "}", "try", "{", "string", "target", "host", "=", "null", ";", "do", "{", "attributes", "attrs", "=", "dir", "context", ".", "get", "attributes", "(", "current", "host", ",", "new", "string", "[", "]", "{", "a", "_", "record", "_", "type", ",", "cname", "_", "record", "_", "type", "}", ")", ";", "attribute", "attr", "=", "attrs", ".", "get", "(", "a", "_", "record", "_", "type", ")", ";", "if", "(", "attr", "!", "=", "null", ")", "{", "target", "host", "=", "attr", ".", "get", "(", ")", ".", "to", "string", "(", ")", ";", "}", "attr", "=", "attrs", ".", "get", "(", "cname", "_", "record", "_", "type", ")", ";", "if", "(", "attr", "!", "=", "null", ")", "{", "current", "host", "=", "attr", ".", "get", "(", ")", ".", "to", "string", "(", ")", ";", "}", "else", "{", "target", "host", "=", "current", "host", ";", "}", "}", "while", "(", "target", "host", "=", "=", "null", ")", ";", "return", "target", "host", ";", "}", "catch", "(", "naming", "exception", "e", ")", "{", "logger", ".", "warn", "(", "str", "+", "current", "host", "+", "str", "+", "original", "host", ",", "e", ")", ";", "return", "original", "host", ";", "}", "}"], "span_diff_code": "<INSERT> public <INSERT_END> <KEEP> static string resolve ( string original host ) { string current host = original host ; if ( is local or ip ( current host ) ) { return original host ; } try { string target host = null ; do { attributes attrs = dir context . get attributes ( current host , new string [ ] { a _ record _ type , cname _ record _ type } ) ; attribute attr = attrs . get ( a _ record _ type ) ; if ( attr ! = null ) { target host = attr . get ( ) . to string ( ) ; } attr = attrs . get ( cname _ record _ type ) ; if ( attr ! = null ) { current host = attr . get ( ) . to string ( ) ; } else { target host = current host ; } } while ( target host = = null ) ; return target host ; } catch ( naming exception e ) { logger . warn ( str + current host + str + original host , e ) ; return original host ; } } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "public", "<INSERT_END>", "<KEEP>", "static", "string", "resolve", "(", "string", "original", "host", ")", "{", "string", "current", "host", "=", "original", "host", ";", "if", "(", "is", "local", "or", "ip", "(", "current", "host", ")", ")", "{", "return", "original", "host", ";", "}", "try", "{", "string", "target", "host", "=", "null", ";", "do", "{", "attributes", "attrs", "=", "dir", "context", ".", "get", "attributes", "(", "current", "host", ",", "new", "string", "[", "]", "{", "a", "_", "record", "_", "type", ",", "cname", "_", "record", "_", "type", "}", ")", ";", "attribute", "attr", "=", "attrs", ".", "get", "(", "a", "_", "record", "_", "type", ")", ";", "if", "(", "attr", "!", "=", "null", ")", "{", "target", "host", "=", "attr", ".", "get", "(", ")", ".", "to", "string", "(", ")", ";", "}", "attr", "=", "attrs", ".", "get", "(", "cname", "_", "record", "_", "type", ")", ";", "if", "(", "attr", "!", "=", "null", ")", "{", "current", "host", "=", "attr", ".", "get", "(", ")", ".", "to", "string", "(", ")", ";", "}", "else", "{", "target", "host", "=", "current", "host", ";", "}", "}", "while", "(", "target", "host", "=", "=", "null", ")", ";", "return", "target", "host", ";", "}", "catch", "(", "naming", "exception", "e", ")", "{", "logger", ".", "warn", "(", "str", "+", "current", "host", "+", "str", "+", "original", "host", ",", "e", ")", ";", "return", "original", "host", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> uri identical to the one provided , with <REPLACE_NEW> resolved <REPLACE_END> <DELETE> swapped with the resolved value <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "uri", "identical", "to", "the", "one", "provided", ",", "with", "<REPLACE_NEW>", "resolved", "<REPLACE_END>", "<DELETE>", "swapped", "with", "the", "resolved", "value", "<DELETE_END>"], "token_diff_code_tokens": ["<INSERT>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "resolve", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "original", "<KEEP>", "host", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "current", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "original", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "local", "<KEEP>", "or", "<KEEP>", "ip", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "host", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "original", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "target", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "do", "<KEEP>", "{", "<KEEP>", "attributes", "<KEEP>", "attrs", "<KEEP>", "=", "<KEEP>", "dir", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "host", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "a", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "cname", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "attribute", "<KEEP>", "attr", "<KEEP>", "=", "<KEEP>", "attrs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "a", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "attr", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "target", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "attr", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "attr", "<KEEP>", "=", "<KEEP>", "attrs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "cname", "<KEEP>", "_", "<KEEP>", "record", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "attr", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "current", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "attr", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "target", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "target", "<KEEP>", "host", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "target", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "naming", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "warn", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "current", "<KEEP>", "host", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "original", "<KEEP>", "host", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "original", "<KEEP>", "host", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "undertow-io_undertow-35-3528", "old_comment": "the content length of the response , or null if it has not been set", "old_comment_tokens": ["the", "content", "length", "of", "the", "response", ",", "or", "null", "if", "it", "has", "not", "been", "set"], "new_comment": "the content length of the response , or - 1 if it has not been set", "new_comment_tokens": ["the", "content", "length", "of", "the", "response", ",", "or", "-", "1", "if", "it", "has", "not", "been", "set"], "old_code": "public long get response content length ( ) { string content length string = response headers . get first ( headers . content _ length ) ; if ( content length string = = null ) { return null ; } return long . parse long ( content length string ) ; }", "old_code_tokens": ["public", "long", "get", "response", "content", "length", "(", ")", "{", "string", "content", "length", "string", "=", "response", "headers", ".", "get", "first", "(", "headers", ".", "content", "_", "length", ")", ";", "if", "(", "content", "length", "string", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "long", ".", "parse", "long", "(", "content", "length", "string", ")", ";", "}"], "new_code": "public long get response content length ( ) { string content length string = response headers . get first ( headers . content _ length ) ; if ( content length string = = null ) { return - num ; } return long . parse long ( content length string ) ; }", "new_code_tokens": ["public", "long", "get", "response", "content", "length", "(", ")", "{", "string", "content", "length", "string", "=", "response", "headers", ".", "get", "first", "(", "headers", ".", "content", "_", "length", ")", ";", "if", "(", "content", "length", "string", "=", "=", "null", ")", "{", "return", "-", "num", ";", "}", "return", "long", ".", "parse", "long", "(", "content", "length", "string", ")", ";", "}"], "span_diff_code": "<KEEP> public long get response content length ( ) { string content length string = response headers . get first ( headers . content _ length ) ; if ( content length string = = null ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } return long . parse long ( content length string ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "response", "content", "length", "(", ")", "{", "string", "content", "length", "string", "=", "response", "headers", ".", "get", "first", "(", "headers", ".", "content", "_", "length", ")", ";", "if", "(", "content", "length", "string", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "long", ".", "parse", "long", "(", "content", "length", "string", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> - 1 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "1", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "response", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", "headers", "<KEEP>", ".", "<KEEP>", "content", "<KEEP>", "_", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "long", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mcarlson_openlaszlo-18-6833", "old_comment": "a unique type", "old_comment_tokens": ["a", "unique", "type"], "new_comment": "a unique type corresponding to type name", "new_comment_tokens": ["a", "unique", "type", "corresponding", "to", "type", "name"], "old_code": "public static type new type ( string type name ) { type newtype = new type ( type name ) ; type names . put ( type name , newtype ) ; return newtype ; }", "old_code_tokens": ["public", "static", "type", "new", "type", "(", "string", "type", "name", ")", "{", "type", "newtype", "=", "new", "type", "(", "type", "name", ")", ";", "type", "names", ".", "put", "(", "type", "name", ",", "newtype", ")", ";", "return", "newtype", ";", "}"], "new_code": "public static type new type ( string type name ) { if ( type names . contains key ( type name ) ) { return ( type ) type names . get ( type name ) ; } type newtype = new type ( type name ) ; type names . put ( type name , newtype ) ; return newtype ; }", "new_code_tokens": ["public", "static", "type", "new", "type", "(", "string", "type", "name", ")", "{", "if", "(", "type", "names", ".", "contains", "key", "(", "type", "name", ")", ")", "{", "return", "(", "type", ")", "type", "names", ".", "get", "(", "type", "name", ")", ";", "}", "type", "newtype", "=", "new", "type", "(", "type", "name", ")", ";", "type", "names", ".", "put", "(", "type", "name", ",", "newtype", ")", ";", "return", "newtype", ";", "}"], "span_diff_code": "<KEEP> public static type new type ( string type name ) { <KEEP_END> <INSERT> if ( type names . contains key ( type name ) ) { return ( type ) type names . get ( type name ) ; } <INSERT_END> <KEEP> type newtype = new type ( type name ) ; type names . put ( type name , newtype ) ; return newtype ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "type", "new", "type", "(", "string", "type", "name", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "type", "names", ".", "contains", "key", "(", "type", "name", ")", ")", "{", "return", "(", "type", ")", "type", "names", ".", "get", "(", "type", "name", ")", ";", "}", "<INSERT_END>", "<KEEP>", "type", "newtype", "=", "new", "type", "(", "type", "name", ")", ";", "type", "names", ".", "put", "(", "type", "name", ",", "newtype", ")", ";", "return", "newtype", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> type <INSERT_NEW_KEEP_BEFORE> type corresponding to type name <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "type", "<INSERT_NEW_KEEP_BEFORE>", "type", "corresponding", "to", "type", "name", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "type", "<KEEP>", "new", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", "names", "<INSERT>", ".", "<INSERT>", "contains", "<INSERT>", "key", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", ")", "<INSERT>", "type", "<INSERT>", "names", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "type", "<KEEP>", "newtype", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "type", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "newtype", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "newtype", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_january-63-5480", "old_comment": "green value in given position", "old_comment_tokens": ["green", "value", "in", "given", "position"], "new_comment": "green value in the first position", "new_comment_tokens": ["green", "value", "in", "the", "first", "position"], "old_code": "public short get green ( final int i ) { return data [ get1 dindex ( i ) + num ] ; }", "old_code_tokens": ["public", "short", "get", "green", "(", "final", "int", "i", ")", "{", "return", "data", "[", "get1", "dindex", "(", "i", ")", "+", "num", "]", ";", "}"], "new_code": "public short get green ( ) { return data [ get first1 dindex ( ) + num ] ; }", "new_code_tokens": ["public", "short", "get", "green", "(", ")", "{", "return", "data", "[", "get", "first1", "dindex", "(", ")", "+", "num", "]", ";", "}"], "span_diff_code": "<KEEP> public short get green ( <KEEP_END> <DELETE> final int i <DELETE_END> <KEEP> ) { return data [ <KEEP_END> <REPLACE_OLD> get1 <REPLACE_NEW> get first1 <REPLACE_END> <KEEP> dindex ( <KEEP_END> <DELETE> i <DELETE_END> <KEEP> ) + num ] ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "short", "get", "green", "(", "<KEEP_END>", "<DELETE>", "final", "int", "i", "<DELETE_END>", "<KEEP>", ")", "{", "return", "data", "[", "<KEEP_END>", "<REPLACE_OLD>", "get1", "<REPLACE_NEW>", "get", "first1", "<REPLACE_END>", "<KEEP>", "dindex", "(", "<KEEP_END>", "<DELETE>", "i", "<DELETE_END>", "<KEEP>", ")", "+", "num", "]", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> given <REPLACE_NEW> the first <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "given", "<REPLACE_NEW>", "the", "first", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "short", "<KEEP>", "get", "<KEEP>", "green", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "data", "<KEEP>", "[", "<REPLACE_OLD>", "get1", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "first1", "<KEEP>", "dindex", "<KEEP>", "(", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "twitter_commons-22-4488", "old_comment": "token stream to tokenize the text", "old_comment_tokens": ["token", "stream", "to", "tokenize", "the", "text"], "new_comment": "twitter token stream to tokenize the text", "new_comment_tokens": ["twitter", "token", "stream", "to", "tokenize", "the", "text"], "old_code": "public token stream get default token stream ( ) { return tokenization stream ; }", "old_code_tokens": ["public", "token", "stream", "get", "default", "token", "stream", "(", ")", "{", "return", "tokenization", "stream", ";", "}"], "new_code": "public twitter token stream get default token stream ( ) { return tokenization stream ; }", "new_code_tokens": ["public", "twitter", "token", "stream", "get", "default", "token", "stream", "(", ")", "{", "return", "tokenization", "stream", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> twitter <INSERT_END> <KEEP> token stream get default token stream ( ) { return tokenization stream ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "twitter", "<INSERT_END>", "<KEEP>", "token", "stream", "get", "default", "token", "stream", "(", ")", "{", "return", "tokenization", "stream", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> token <INSERT_NEW_KEEP_AFTER> twitter token <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "token", "<INSERT_NEW_KEEP_AFTER>", "twitter", "token", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "twitter", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "tokenization", "<KEEP>", "stream", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_worldwind-17-5797", "old_comment": "list of radii , in meters . if there are no rings this returns an empty list .", "old_comment_tokens": ["list", "of", "radii", ",", "in", "meters", ".", "if", "there", "are", "no", "rings", "this", "returns", "an", "empty", "list", "."], "new_comment": "list of radii , in meters . this method never returns null . if there are no rings this returns an empty list .", "new_comment_tokens": ["list", "of", "radii", ",", "in", "meters", ".", "this", "method", "never", "returns", "null", ".", "if", "there", "are", "no", "rings", "this", "returns", "an", "empty", "list", "."], "old_code": "public iterable < double > get radii ( ) { return this . radii ; }", "old_code_tokens": ["public", "iterable", "<", "double", ">", "get", "radii", "(", ")", "{", "return", "this", ".", "radii", ";", "}"], "new_code": "public iterable < double > get radii ( ) { if ( this . radii ! = null ) return this . radii ; return collections . empty list ( ) ; }", "new_code_tokens": ["public", "iterable", "<", "double", ">", "get", "radii", "(", ")", "{", "if", "(", "this", ".", "radii", "!", "=", "null", ")", "return", "this", ".", "radii", ";", "return", "collections", ".", "empty", "list", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public iterable < double > get radii ( ) { <KEEP_END> <INSERT> if ( this . radii ! = null ) <INSERT_END> <KEEP> return this . radii ; <KEEP_END> <INSERT> return collections . empty list ( ) ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "iterable", "<", "double", ">", "get", "radii", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "this", ".", "radii", "!", "=", "null", ")", "<INSERT_END>", "<KEEP>", "return", "this", ".", "radii", ";", "<KEEP_END>", "<INSERT>", "return", "collections", ".", "empty", "list", "(", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> meters <INSERT_NEW_KEEP_BEFORE> meters . this method never returns null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "meters", "<INSERT_NEW_KEEP_BEFORE>", "meters", ".", "this", "method", "never", "returns", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "iterable", "<KEEP>", "<", "<KEEP>", "double", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "radii", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "radii", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "radii", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "empty", "<INSERT>", "list", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Ravikumarmaddi_socialauth-10-5614", "old_comment": "action forward where the action should flow", "old_comment_tokens": ["action", "forward", "where", "the", "action", "should", "flow"], "new_comment": "string where the action should flow", "new_comment_tokens": ["string", "where", "the", "action", "should", "flow"], "old_code": "@ override public action forward execute ( final action mapping mapping , final action form form , final http servlet request request , final http servlet response response ) throws exception { string status msg = request . get parameter ( str ) ; if ( status msg = = null | | status msg . trim ( ) . length ( ) = = num ) { request . set attribute ( str , str ) ; return mapping . find forward ( str ) ; } sasfhelper helper = sasfstatic helper . get helper ( request ) ; social auth manager manager = helper . get auth manager ( ) ; auth provider provider = null ; if ( manager ! = null ) { provider = manager . get current auth provider ( ) ; } if ( provider ! = null ) { try { provider . update status ( status msg ) ; request . set attribute ( str , str ) ; return mapping . find forward ( str ) ; } catch ( social auth exception e ) { request . set attribute ( str , e . get message ( ) ) ; e . print stack trace ( ) ; } } return mapping . find forward ( str ) ; }", "old_code_tokens": ["@", "override", "public", "action", "forward", "execute", "(", "final", "action", "mapping", "mapping", ",", "final", "action", "form", "form", ",", "final", "http", "servlet", "request", "request", ",", "final", "http", "servlet", "response", "response", ")", "throws", "exception", "{", "string", "status", "msg", "=", "request", ".", "get", "parameter", "(", "str", ")", ";", "if", "(", "status", "msg", "=", "=", "null", "|", "|", "status", "msg", ".", "trim", "(", ")", ".", "length", "(", ")", "=", "=", "num", ")", "{", "request", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "return", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}", "sasfhelper", "helper", "=", "sasfstatic", "helper", ".", "get", "helper", "(", "request", ")", ";", "social", "auth", "manager", "manager", "=", "helper", ".", "get", "auth", "manager", "(", ")", ";", "auth", "provider", "provider", "=", "null", ";", "if", "(", "manager", "!", "=", "null", ")", "{", "provider", "=", "manager", ".", "get", "current", "auth", "provider", "(", ")", ";", "}", "if", "(", "provider", "!", "=", "null", ")", "{", "try", "{", "provider", ".", "update", "status", "(", "status", "msg", ")", ";", "request", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "return", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}", "catch", "(", "social", "auth", "exception", "e", ")", "{", "request", ".", "set", "attribute", "(", "str", ",", "e", ".", "get", "message", "(", ")", ")", ";", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "}", "return", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}"], "new_code": "@ action ( value = str ) public string execute ( ) throws exception { if ( status message = = null | | status message . trim ( ) . length ( ) = = num ) { request . set attribute ( str , str ) ; return str ; } sasfhelper helper = sasfstatic helper . get helper ( request ) ; social auth manager manager = helper . get auth manager ( ) ; auth provider provider = null ; if ( manager ! = null ) { provider = manager . get current auth provider ( ) ; } if ( provider ! = null ) { try { provider . update status ( status message ) ; request . set attribute ( str , str ) ; return str ; } catch ( social auth exception e ) { request . set attribute ( str , e . get message ( ) ) ; e . print stack trace ( ) ; } } return str ; }", "new_code_tokens": ["@", "action", "(", "value", "=", "str", ")", "public", "string", "execute", "(", ")", "throws", "exception", "{", "if", "(", "status", "message", "=", "=", "null", "|", "|", "status", "message", ".", "trim", "(", ")", ".", "length", "(", ")", "=", "=", "num", ")", "{", "request", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "return", "str", ";", "}", "sasfhelper", "helper", "=", "sasfstatic", "helper", ".", "get", "helper", "(", "request", ")", ";", "social", "auth", "manager", "manager", "=", "helper", ".", "get", "auth", "manager", "(", ")", ";", "auth", "provider", "provider", "=", "null", ";", "if", "(", "manager", "!", "=", "null", ")", "{", "provider", "=", "manager", ".", "get", "current", "auth", "provider", "(", ")", ";", "}", "if", "(", "provider", "!", "=", "null", ")", "{", "try", "{", "provider", ".", "update", "status", "(", "status", "message", ")", ";", "request", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "return", "str", ";", "}", "catch", "(", "social", "auth", "exception", "e", ")", "{", "request", ".", "set", "attribute", "(", "str", ",", "e", ".", "get", "message", "(", ")", ")", ";", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "}", "return", "str", ";", "}"], "span_diff_code": "<KEEP> @ <KEEP_END> <REPLACE_OLD> override <REPLACE_NEW> action ( value = str ) <REPLACE_END> <KEEP> public <KEEP_END> <REPLACE_OLD> action forward <REPLACE_NEW> string <REPLACE_END> <KEEP> execute ( <KEEP_END> <DELETE> final action mapping mapping , final action form form , final http servlet request request , final http servlet response response <DELETE_END> <KEEP> ) throws exception { <KEEP_END> <DELETE> string status msg = request . get parameter ( str ) ; <DELETE_END> <KEEP> if ( status <KEEP_END> <REPLACE_OLD> msg <REPLACE_NEW> message <REPLACE_END> <KEEP> = = null | | status <KEEP_END> <REPLACE_OLD> msg <REPLACE_NEW> message <REPLACE_END> <KEEP> . trim ( ) . length ( ) = = num ) { request . set attribute ( str , str ) ; return <KEEP_END> <DELETE> mapping . find forward ( <DELETE_END> <KEEP> str <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } sasfhelper helper = sasfstatic helper . get helper ( request ) ; social auth manager manager = helper . get auth manager ( ) ; auth provider provider = null ; if ( manager ! = null ) { provider = manager . get current auth provider ( ) ; } if ( provider ! = null ) { try { provider . update status ( status <KEEP_END> <REPLACE_OLD> msg <REPLACE_NEW> message <REPLACE_END> <KEEP> ) ; request . set attribute ( str , str ) ; return <KEEP_END> <DELETE> mapping . find forward ( <DELETE_END> <KEEP> str <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } catch ( social auth exception e ) { request . set attribute ( str , e . get message ( ) ) ; e . print stack trace ( ) ; } } return <KEEP_END> <DELETE> mapping . find forward ( <DELETE_END> <KEEP> str <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "<KEEP_END>", "<REPLACE_OLD>", "override", "<REPLACE_NEW>", "action", "(", "value", "=", "str", ")", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "action", "forward", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "execute", "(", "<KEEP_END>", "<DELETE>", "final", "action", "mapping", "mapping", ",", "final", "action", "form", "form", ",", "final", "http", "servlet", "request", "request", ",", "final", "http", "servlet", "response", "response", "<DELETE_END>", "<KEEP>", ")", "throws", "exception", "{", "<KEEP_END>", "<DELETE>", "string", "status", "msg", "=", "request", ".", "get", "parameter", "(", "str", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "status", "<KEEP_END>", "<REPLACE_OLD>", "msg", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", "=", "=", "null", "|", "|", "status", "<KEEP_END>", "<REPLACE_OLD>", "msg", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", ".", "trim", "(", ")", ".", "length", "(", ")", "=", "=", "num", ")", "{", "request", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "return", "<KEEP_END>", "<DELETE>", "mapping", ".", "find", "forward", "(", "<DELETE_END>", "<KEEP>", "str", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "sasfhelper", "helper", "=", "sasfstatic", "helper", ".", "get", "helper", "(", "request", ")", ";", "social", "auth", "manager", "manager", "=", "helper", ".", "get", "auth", "manager", "(", ")", ";", "auth", "provider", "provider", "=", "null", ";", "if", "(", "manager", "!", "=", "null", ")", "{", "provider", "=", "manager", ".", "get", "current", "auth", "provider", "(", ")", ";", "}", "if", "(", "provider", "!", "=", "null", ")", "{", "try", "{", "provider", ".", "update", "status", "(", "status", "<KEEP_END>", "<REPLACE_OLD>", "msg", "<REPLACE_NEW>", "message", "<REPLACE_END>", "<KEEP>", ")", ";", "request", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "return", "<KEEP_END>", "<DELETE>", "mapping", ".", "find", "forward", "(", "<DELETE_END>", "<KEEP>", "str", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "catch", "(", "social", "auth", "exception", "e", ")", "{", "request", ".", "set", "attribute", "(", "str", ",", "e", ".", "get", "message", "(", ")", ")", ";", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "}", "return", "<KEEP_END>", "<DELETE>", "mapping", ".", "find", "forward", "(", "<DELETE_END>", "<KEEP>", "str", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> action forward <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "action", "forward", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<REPLACE_OLD>", "override", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", "public", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "forward", "<REPLACE_NEW>", "string", "<KEEP>", "execute", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "action", "<DELETE>", "mapping", "<DELETE>", "mapping", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "action", "<DELETE>", "form", "<DELETE>", "form", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "http", "<DELETE>", "servlet", "<DELETE>", "request", "<DELETE>", "request", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "http", "<DELETE>", "servlet", "<DELETE>", "response", "<DELETE>", "response", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<DELETE>", "string", "<DELETE>", "status", "<DELETE>", "msg", "<DELETE>", "=", "<DELETE>", "request", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parameter", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "status", "<REPLACE_OLD>", "msg", "<REPLACE_NEW>", "message", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "status", "<REPLACE_OLD>", "msg", "<REPLACE_NEW>", "message", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "mapping", "<DELETE>", ".", "<DELETE>", "find", "<DELETE>", "forward", "<DELETE>", "(", "<KEEP>", "str", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "sasfhelper", "<KEEP>", "helper", "<KEEP>", "=", "<KEEP>", "sasfstatic", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "helper", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "manager", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "auth", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "auth", "<KEEP>", "provider", "<KEEP>", "provider", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "manager", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "provider", "<KEEP>", "=", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "auth", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "provider", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "status", "<REPLACE_OLD>", "msg", "<REPLACE_NEW>", "message", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "mapping", "<DELETE>", ".", "<DELETE>", "find", "<DELETE>", "forward", "<DELETE>", "(", "<KEEP>", "str", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "mapping", "<DELETE>", ".", "<DELETE>", "find", "<DELETE>", "forward", "<DELETE>", "(", "<KEEP>", "str", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "stanfordnlp_CoreNLP-186-3304", "old_comment": "string buffer filled with the penn treebank forms of all trees in the matches panel", "old_comment_tokens": ["string", "buffer", "filled", "with", "the", "penn", "treebank", "forms", "of", "all", "trees", "in", "the", "matches", "panel"], "new_comment": "string filled with the penn treebank forms of all trees in the matches panel", "new_comment_tokens": ["string", "filled", "with", "the", "penn", "treebank", "forms", "of", "all", "trees", "in", "the", "matches", "panel"], "old_code": "public string buffer get matches ( ) { string buffer sb = new string buffer ( ) ; for ( int i = num ; i < list . get model ( ) . get size ( ) ; i + + ) { tree t = ( ( tree from file ) list . get model ( ) . get element at ( i ) ) . get tree ( ) ; sb . append ( t . penn string ( ) ) ; sb . append ( str ) ; } return sb ; }", "old_code_tokens": ["public", "string", "buffer", "get", "matches", "(", ")", "{", "string", "buffer", "sb", "=", "new", "string", "buffer", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "list", ".", "get", "model", "(", ")", ".", "get", "size", "(", ")", ";", "i", "+", "+", ")", "{", "tree", "t", "=", "(", "(", "tree", "from", "file", ")", "list", ".", "get", "model", "(", ")", ".", "get", "element", "at", "(", "i", ")", ")", ".", "get", "tree", "(", ")", ";", "sb", ".", "append", "(", "t", ".", "penn", "string", "(", ")", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", ";", "}"], "new_code": "public string get matches ( ) { string builder sb = new string builder ( ) ; for ( int i = num , sz = list . get model ( ) . get size ( ) ; i < sz ; i + + ) { tree t = ( ( tree from file ) list . get model ( ) . get element at ( i ) ) . get tree ( ) ; sb . append ( t . penn string ( ) ) ; sb . append ( str ) ; } return sb . to string ( ) ; }", "new_code_tokens": ["public", "string", "get", "matches", "(", ")", "{", "string", "builder", "sb", "=", "new", "string", "builder", "(", ")", ";", "for", "(", "int", "i", "=", "num", ",", "sz", "=", "list", ".", "get", "model", "(", ")", ".", "get", "size", "(", ")", ";", "i", "<", "sz", ";", "i", "+", "+", ")", "{", "tree", "t", "=", "(", "(", "tree", "from", "file", ")", "list", ".", "get", "model", "(", ")", ".", "get", "element", "at", "(", "i", ")", ")", ".", "get", "tree", "(", ")", ";", "sb", ".", "append", "(", "t", ".", "penn", "string", "(", ")", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string <KEEP_END> <DELETE> buffer <DELETE_END> <KEEP> get matches ( ) { string <KEEP_END> <REPLACE_OLD> buffer <REPLACE_NEW> builder <REPLACE_END> <KEEP> sb = new string <KEEP_END> <REPLACE_OLD> buffer <REPLACE_NEW> builder <REPLACE_END> <KEEP> ( ) ; for ( int i = num <KEEP_END> <REPLACE_OLD> ; i < <REPLACE_NEW> , sz = <REPLACE_END> <KEEP> list . get model ( ) . get size ( ) <KEEP_END> <INSERT> ; i < sz <INSERT_END> <KEEP> ; i + + ) { tree t = ( ( tree from file ) list . get model ( ) . get element at ( i ) ) . get tree ( ) ; sb . append ( t . penn string ( ) ) ; sb . append ( str ) ; } return sb <KEEP_END> <INSERT> . to string ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "<KEEP_END>", "<DELETE>", "buffer", "<DELETE_END>", "<KEEP>", "get", "matches", "(", ")", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "sb", "=", "new", "string", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "int", "i", "=", "num", "<KEEP_END>", "<REPLACE_OLD>", ";", "i", "<", "<REPLACE_NEW>", ",", "sz", "=", "<REPLACE_END>", "<KEEP>", "list", ".", "get", "model", "(", ")", ".", "get", "size", "(", ")", "<KEEP_END>", "<INSERT>", ";", "i", "<", "sz", "<INSERT_END>", "<KEEP>", ";", "i", "+", "+", ")", "{", "tree", "t", "=", "(", "(", "tree", "from", "file", ")", "list", ".", "get", "model", "(", ")", ".", "get", "element", "at", "(", "i", ")", ")", ".", "get", "tree", "(", ")", ";", "sb", ".", "append", "(", "t", ".", "penn", "string", "(", ")", ")", ";", "sb", ".", "append", "(", "str", ")", ";", "}", "return", "sb", "<KEEP_END>", "<INSERT>", ".", "to", "string", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> buffer <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "buffer", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<DELETE>", "buffer", "<KEEP>", "get", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<KEEP>", "sb", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sz", "<REPLACE_NEW>", "=", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "i", "<INSERT>", "<", "<INSERT>", "sz", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tree", "<KEEP>", "t", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "tree", "<KEEP>", "from", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "element", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "tree", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sb", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "penn", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sb", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "sb", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_deltaspike-15-6596", "old_comment": "false if the processing should be aborted .", "old_comment_tokens": ["false", "if", "the", "processing", "should", "be", "aborted", "."], "new_comment": "the original exception if the default behavior was changed and the exception is unhandled", "new_comment_tokens": ["the", "original", "exception", "if", "the", "default", "behavior", "was", "changed", "and", "the", "exception", "is", "unhandled"], "old_code": "private boolean handle access denied exception ( access denied exception ade ) throws access denied exception { exception to catch event exception to catch event = new exception to catch event ( ade ) ; exception to catch event . set optional ( true ) ; bean manager . fire event ( exception to catch event ) ; if ( ! exception to catch event . is handled ( ) ) { throw ade ; } return false ; }", "old_code_tokens": ["private", "boolean", "handle", "access", "denied", "exception", "(", "access", "denied", "exception", "ade", ")", "throws", "access", "denied", "exception", "{", "exception", "to", "catch", "event", "exception", "to", "catch", "event", "=", "new", "exception", "to", "catch", "event", "(", "ade", ")", ";", "exception", "to", "catch", "event", ".", "set", "optional", "(", "true", ")", ";", "bean", "manager", ".", "fire", "event", "(", "exception", "to", "catch", "event", ")", ";", "if", "(", "!", "exception", "to", "catch", "event", ".", "is", "handled", "(", ")", ")", "{", "throw", "ade", ";", "}", "return", "false", ";", "}"], "new_code": "protected runtime exception handle access denied exception ( access denied exception original exception ) { exception to catch event exception to catch event = new exception to catch event ( original exception ) ; this . bean manager . fire event ( exception to catch event ) ; if ( ! exception to catch event . is handled ( ) ) { throw original exception ; } return null ; }", "new_code_tokens": ["protected", "runtime", "exception", "handle", "access", "denied", "exception", "(", "access", "denied", "exception", "original", "exception", ")", "{", "exception", "to", "catch", "event", "exception", "to", "catch", "event", "=", "new", "exception", "to", "catch", "event", "(", "original", "exception", ")", ";", "this", ".", "bean", "manager", ".", "fire", "event", "(", "exception", "to", "catch", "event", ")", ";", "if", "(", "!", "exception", "to", "catch", "event", ".", "is", "handled", "(", ")", ")", "{", "throw", "original", "exception", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<REPLACE_OLD> private boolean <REPLACE_NEW> protected runtime exception <REPLACE_END> <KEEP> handle access denied exception ( access denied exception <KEEP_END> <REPLACE_OLD> ade <REPLACE_NEW> original exception <REPLACE_END> <KEEP> ) <KEEP_END> <DELETE> throws access denied exception <DELETE_END> <KEEP> { exception to catch event exception to catch event = new exception to catch event ( <KEEP_END> <REPLACE_OLD> ade <REPLACE_NEW> original exception <REPLACE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> exception to catch event <REPLACE_NEW> this <REPLACE_END> <KEEP> . <KEEP_END> <DELETE> set optional ( true ) ; <DELETE_END> <KEEP> bean manager . fire event ( exception to catch event ) ; if ( ! exception to catch event . is handled ( ) ) { throw <KEEP_END> <REPLACE_OLD> ade <REPLACE_NEW> original exception <REPLACE_END> <KEEP> ; } return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "private", "boolean", "<REPLACE_NEW>", "protected", "runtime", "exception", "<REPLACE_END>", "<KEEP>", "handle", "access", "denied", "exception", "(", "access", "denied", "exception", "<KEEP_END>", "<REPLACE_OLD>", "ade", "<REPLACE_NEW>", "original", "exception", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "throws", "access", "denied", "exception", "<DELETE_END>", "<KEEP>", "{", "exception", "to", "catch", "event", "exception", "to", "catch", "event", "=", "new", "exception", "to", "catch", "event", "(", "<KEEP_END>", "<REPLACE_OLD>", "ade", "<REPLACE_NEW>", "original", "exception", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "exception", "to", "catch", "event", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<DELETE>", "set", "optional", "(", "true", ")", ";", "<DELETE_END>", "<KEEP>", "bean", "manager", ".", "fire", "event", "(", "exception", "to", "catch", "event", ")", ";", "if", "(", "!", "exception", "to", "catch", "event", ".", "is", "handled", "(", ")", ")", "{", "throw", "<KEEP_END>", "<REPLACE_OLD>", "ade", "<REPLACE_NEW>", "original", "exception", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> false <REPLACE_NEW> the original exception <REPLACE_END> <REPLACE_OLD> processing should be aborted . <REPLACE_NEW> default behavior was changed and the exception is unhandled <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "false", "<REPLACE_NEW>", "the", "original", "exception", "<REPLACE_END>", "<REPLACE_OLD>", "processing", "should", "be", "aborted", ".", "<REPLACE_NEW>", "default", "behavior", "was", "changed", "and", "the", "exception", "is", "unhandled", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "private", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "protected", "<REPLACE_NEW>", "runtime", "<REPLACE_NEW>", "exception", "<KEEP>", "handle", "<KEEP>", "access", "<KEEP>", "denied", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "access", "<KEEP>", "denied", "<KEEP>", "exception", "<REPLACE_OLD>", "ade", "<REPLACE_NEW>", "original", "<REPLACE_NEW>", "exception", "<KEEP>", ")", "<DELETE>", "throws", "<DELETE>", "access", "<DELETE>", "denied", "<DELETE>", "exception", "<KEEP>", "{", "<KEEP>", "exception", "<KEEP>", "to", "<KEEP>", "catch", "<KEEP>", "event", "<KEEP>", "exception", "<KEEP>", "to", "<KEEP>", "catch", "<KEEP>", "event", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "exception", "<KEEP>", "to", "<KEEP>", "catch", "<KEEP>", "event", "<KEEP>", "(", "<REPLACE_OLD>", "ade", "<REPLACE_NEW>", "original", "<REPLACE_NEW>", "exception", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "event", "<REPLACE_NEW>", "this", "<KEEP>", ".", "<DELETE>", "set", "<DELETE>", "optional", "<DELETE>", "(", "<DELETE>", "true", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "bean", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "fire", "<KEEP>", "event", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "to", "<KEEP>", "catch", "<KEEP>", "event", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "exception", "<KEEP>", "to", "<KEEP>", "catch", "<KEEP>", "event", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "handled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<REPLACE_OLD>", "ade", "<REPLACE_NEW>", "original", "<REPLACE_NEW>", "exception", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-165-5395", "old_comment": "a image list or null .", "old_comment_tokens": ["a", "image", "list", "or", "null", "."], "new_comment": "a image list .", "new_comment_tokens": ["a", "image", "list", "."], "old_code": "public final image [ ] get pending images ( ) { return pending images ! = null ? arrays . copy of ( pending images , pending images . length ) : null ; }", "old_code_tokens": ["public", "final", "image", "[", "]", "get", "pending", "images", "(", ")", "{", "return", "pending", "images", "!", "=", "null", "?", "arrays", ".", "copy", "of", "(", "pending", "images", ",", "pending", "images", ".", "length", ")", ":", "null", ";", "}"], "new_code": "public final image [ ] get pending images ( ) { return pending images ! = null ? arrays . copy of ( pending images , pending images . length ) : new image [ num ] ; }", "new_code_tokens": ["public", "final", "image", "[", "]", "get", "pending", "images", "(", ")", "{", "return", "pending", "images", "!", "=", "null", "?", "arrays", ".", "copy", "of", "(", "pending", "images", ",", "pending", "images", ".", "length", ")", ":", "new", "image", "[", "num", "]", ";", "}"], "span_diff_code": "<KEEP> public final image [ ] get pending images ( ) { return pending images ! = null ? arrays . copy of ( pending images , pending images . length ) : <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new image [ num ] <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "image", "[", "]", "get", "pending", "images", "(", ")", "{", "return", "pending", "images", "!", "=", "null", "?", "arrays", ".", "copy", "of", "(", "pending", "images", ",", "pending", "images", ".", "length", ")", ":", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "image", "[", "num", "]", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or null <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "image", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "pending", "<KEEP>", "images", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "pending", "<KEEP>", "images", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "copy", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "pending", "<KEEP>", "images", "<KEEP>", ",", "<KEEP>", "pending", "<KEEP>", "images", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ":", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "image", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RSB4760_apq8016_packages_apps_Settings-9-4160", "old_comment": "a user spinner adapter or null if there is only one profile .", "old_comment_tokens": ["a", "user", "spinner", "adapter", "or", "null", "if", "there", "is", "only", "one", "profile", "."], "new_comment": "a user adapter or null if there is only one profile .", "new_comment_tokens": ["a", "user", "adapter", "or", "null", "if", "there", "is", "only", "one", "profile", "."], "old_code": "public static user spinner adapter create user spinner adapter ( user manager user manager , context context ) { list < user handle > user profiles = user manager . get user profiles ( ) ; if ( user profiles . size ( ) < num ) { return null ; } user handle my user handle = new user handle ( user handle . my user id ( ) ) ; user profiles . remove ( my user handle ) ; user profiles . add ( num , my user handle ) ; array list < user details > user details = new array list < user details > ( user profiles . size ( ) ) ; final int count = user profiles . size ( ) ; for ( int i = num ; i < count ; i + + ) { user details . add ( new user details ( user profiles . get ( i ) , user manager , context ) ) ; } return new user spinner adapter ( context , user details ) ; }", "old_code_tokens": ["public", "static", "user", "spinner", "adapter", "create", "user", "spinner", "adapter", "(", "user", "manager", "user", "manager", ",", "context", "context", ")", "{", "list", "<", "user", "handle", ">", "user", "profiles", "=", "user", "manager", ".", "get", "user", "profiles", "(", ")", ";", "if", "(", "user", "profiles", ".", "size", "(", ")", "<", "num", ")", "{", "return", "null", ";", "}", "user", "handle", "my", "user", "handle", "=", "new", "user", "handle", "(", "user", "handle", ".", "my", "user", "id", "(", ")", ")", ";", "user", "profiles", ".", "remove", "(", "my", "user", "handle", ")", ";", "user", "profiles", ".", "add", "(", "num", ",", "my", "user", "handle", ")", ";", "array", "list", "<", "user", "details", ">", "user", "details", "=", "new", "array", "list", "<", "user", "details", ">", "(", "user", "profiles", ".", "size", "(", ")", ")", ";", "final", "int", "count", "=", "user", "profiles", ".", "size", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "user", "details", ".", "add", "(", "new", "user", "details", "(", "user", "profiles", ".", "get", "(", "i", ")", ",", "user", "manager", ",", "context", ")", ")", ";", "}", "return", "new", "user", "spinner", "adapter", "(", "context", ",", "user", "details", ")", ";", "}"], "new_code": "public static user adapter create user spinner adapter ( user manager user manager , context context ) { list < user handle > user profiles = user manager . get user profiles ( ) ; if ( user profiles . size ( ) < num ) { return null ; } user handle my user handle = new user handle ( user handle . my user id ( ) ) ; user profiles . remove ( my user handle ) ; user profiles . add ( num , my user handle ) ; return create user adapter ( user manager , context , user profiles ) ; }", "new_code_tokens": ["public", "static", "user", "adapter", "create", "user", "spinner", "adapter", "(", "user", "manager", "user", "manager", ",", "context", "context", ")", "{", "list", "<", "user", "handle", ">", "user", "profiles", "=", "user", "manager", ".", "get", "user", "profiles", "(", ")", ";", "if", "(", "user", "profiles", ".", "size", "(", ")", "<", "num", ")", "{", "return", "null", ";", "}", "user", "handle", "my", "user", "handle", "=", "new", "user", "handle", "(", "user", "handle", ".", "my", "user", "id", "(", ")", ")", ";", "user", "profiles", ".", "remove", "(", "my", "user", "handle", ")", ";", "user", "profiles", ".", "add", "(", "num", ",", "my", "user", "handle", ")", ";", "return", "create", "user", "adapter", "(", "user", "manager", ",", "context", ",", "user", "profiles", ")", ";", "}"], "span_diff_code": "<KEEP> public static user <KEEP_END> <DELETE> spinner <DELETE_END> <KEEP> adapter create user spinner adapter ( user manager user manager , context context ) { list < user handle > user profiles = user manager . get user profiles ( ) ; if ( user profiles . size ( ) < num ) { return null ; } user handle my user handle = new user handle ( user handle . my user id ( ) ) ; user profiles . remove ( my user handle ) ; user profiles . add ( num , my user handle ) ; <KEEP_END> <REPLACE_OLD> array list < <REPLACE_NEW> return create <REPLACE_END> <KEEP> user <KEEP_END> <REPLACE_OLD> details > user details = new array list < user details > <REPLACE_NEW> adapter <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> user profiles . size ( ) ) ; final int count = user profiles . size ( ) ; for ( int i = num ; i < count ; i + + ) { user details . add ( new user details ( user profiles . get ( i ) , <DELETE_END> <KEEP> user manager , context <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> , user profiles <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> return new user spinner adapter ( context , user details ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "user", "<KEEP_END>", "<DELETE>", "spinner", "<DELETE_END>", "<KEEP>", "adapter", "create", "user", "spinner", "adapter", "(", "user", "manager", "user", "manager", ",", "context", "context", ")", "{", "list", "<", "user", "handle", ">", "user", "profiles", "=", "user", "manager", ".", "get", "user", "profiles", "(", ")", ";", "if", "(", "user", "profiles", ".", "size", "(", ")", "<", "num", ")", "{", "return", "null", ";", "}", "user", "handle", "my", "user", "handle", "=", "new", "user", "handle", "(", "user", "handle", ".", "my", "user", "id", "(", ")", ")", ";", "user", "profiles", ".", "remove", "(", "my", "user", "handle", ")", ";", "user", "profiles", ".", "add", "(", "num", ",", "my", "user", "handle", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "array", "list", "<", "<REPLACE_NEW>", "return", "create", "<REPLACE_END>", "<KEEP>", "user", "<KEEP_END>", "<REPLACE_OLD>", "details", ">", "user", "details", "=", "new", "array", "list", "<", "user", "details", ">", "<REPLACE_NEW>", "adapter", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "user", "profiles", ".", "size", "(", ")", ")", ";", "final", "int", "count", "=", "user", "profiles", ".", "size", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "count", ";", "i", "+", "+", ")", "{", "user", "details", ".", "add", "(", "new", "user", "details", "(", "user", "profiles", ".", "get", "(", "i", ")", ",", "<DELETE_END>", "<KEEP>", "user", "manager", ",", "context", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ",", "user", "profiles", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "new", "user", "spinner", "adapter", "(", "context", ",", "user", "details", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> spinner <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "spinner", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "user", "<DELETE>", "spinner", "<KEEP>", "adapter", "<KEEP>", "create", "<KEEP>", "user", "<KEEP>", "spinner", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "manager", "<KEEP>", "user", "<KEEP>", "manager", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", ">", "<KEEP>", "user", "<KEEP>", "profiles", "<KEEP>", "=", "<KEEP>", "user", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "profiles", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "profiles", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", "my", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", ".", "<KEEP>", "my", "<KEEP>", "user", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "profiles", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "my", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "profiles", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "my", "<KEEP>", "user", "<KEEP>", "handle", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "create", "<KEEP>", "user", "<REPLACE_OLD>", "details", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "details", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "details", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "adapter", "<KEEP>", "(", "<DELETE>", "user", "<DELETE>", "profiles", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "count", "<DELETE>", "=", "<DELETE>", "user", "<DELETE>", "profiles", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "int", "<DELETE>", "i", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "i", "<DELETE>", "<", "<DELETE>", "count", "<DELETE>", ";", "<DELETE>", "i", "<DELETE>", "+", "<DELETE>", "+", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "user", "<DELETE>", "details", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "user", "<DELETE>", "details", "<DELETE>", "(", "<DELETE>", "user", "<DELETE>", "profiles", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "i", "<DELETE>", ")", "<DELETE>", ",", "<KEEP>", "user", "<KEEP>", "manager", "<KEEP>", ",", "<KEEP>", "context", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "profiles", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "user", "<DELETE>", "spinner", "<DELETE>", "adapter", "<DELETE>", "(", "<DELETE>", "context", "<DELETE>", ",", "<DELETE>", "user", "<DELETE>", "details", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "TommyLemon_APIJSON-24-925", "old_comment": "# put ( string , boolean )", "old_comment_tokens": ["#", "put", "(", "string", ",", "boolean", ")"], "new_comment": "# put ( string , object )", "new_comment_tokens": ["#", "put", "(", "string", ",", "object", ")"], "old_code": "@ override public object put ( object value ) { return put ( value , false ) ; }", "old_code_tokens": ["@", "override", "public", "object", "put", "(", "object", "value", ")", "{", "return", "put", "(", "value", ",", "false", ")", ";", "}"], "new_code": "@ override public object put ( object value ) { return put ( null , value ) ; }", "new_code_tokens": ["@", "override", "public", "object", "put", "(", "object", "value", ")", "{", "return", "put", "(", "null", ",", "value", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public object put ( object value ) { return put ( <KEEP_END> <INSERT> null , <INSERT_END> <KEEP> value <KEEP_END> <DELETE> , false <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "object", "put", "(", "object", "value", ")", "{", "return", "put", "(", "<KEEP_END>", "<INSERT>", "null", ",", "<INSERT_END>", "<KEEP>", "value", "<KEEP_END>", "<DELETE>", ",", "false", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> boolean <REPLACE_NEW> object <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "object", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "put", "<KEEP>", "(", "<INSERT>", "null", "<INSERT>", ",", "<KEEP>", "value", "<DELETE>", ",", "<DELETE>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wequick_Small-0-1113", "old_comment": "true : can launch bundle , false : otherwise", "old_comment_tokens": ["true", ":", "can", "launch", "bundle", ",", "false", ":", "otherwise"], "new_comment": "true : can load the bundle , false : cannot", "new_comment_tokens": ["true", ":", "can", "load", "the", "bundle", ",", "false", ":", "cannot"], "old_code": "public boolean preload bundle ( bundle bundle ) { return false ; }", "old_code_tokens": ["public", "boolean", "preload", "bundle", "(", "bundle", "bundle", ")", "{", "return", "false", ";", "}"], "new_code": "public boolean preload bundle ( bundle bundle ) { return true ; }", "new_code_tokens": ["public", "boolean", "preload", "bundle", "(", "bundle", "bundle", ")", "{", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public boolean preload bundle ( bundle bundle ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "preload", "bundle", "(", "bundle", "bundle", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> launch <REPLACE_NEW> load the <REPLACE_END> <REPLACE_OLD> otherwise <REPLACE_NEW> cannot <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "launch", "<REPLACE_NEW>", "load", "the", "<REPLACE_END>", "<REPLACE_OLD>", "otherwise", "<REPLACE_NEW>", "cannot", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "preload", "<KEEP>", "bundle", "<KEEP>", "(", "<KEEP>", "bundle", "<KEEP>", "bundle", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eseawind_opening-trunk-7-6426", "old_comment": "the specified heap object .", "old_comment_tokens": ["the", "specified", "heap", "object", "."], "new_comment": "the specified heap object or null if name contains null .", "new_comment_tokens": ["the", "specified", "heap", "object", "or", "null", "if", "name", "contains", "null", "."], "old_code": "@ suppress warnings ( str ) public static < t > t get object ( heap heap , json value name , class < t > type ) throws heap exception { object o = heap . get ( name . required ( ) . as string ( ) ) ; if ( o ! = null & & ! ( type . is instance ( o ) ) ) { throw new json value exception ( name , str + type . get name ( ) ) ; } return ( t ) o ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "static", "<", "t", ">", "t", "get", "object", "(", "heap", "heap", ",", "json", "value", "name", ",", "class", "<", "t", ">", "type", ")", "throws", "heap", "exception", "{", "object", "o", "=", "heap", ".", "get", "(", "name", ".", "required", "(", ")", ".", "as", "string", "(", ")", ")", ";", "if", "(", "o", "!", "=", "null", "&", "&", "!", "(", "type", ".", "is", "instance", "(", "o", ")", ")", ")", "{", "throw", "new", "json", "value", "exception", "(", "name", ",", "str", "+", "type", ".", "get", "name", "(", ")", ")", ";", "}", "return", "(", "t", ")", "o", ";", "}"], "new_code": "public static < t > t get object ( heap heap , json value name , class < t > type ) throws heap exception { if ( name . is null ( ) ) { return null ; } return get required object ( heap , name , type ) ; }", "new_code_tokens": ["public", "static", "<", "t", ">", "t", "get", "object", "(", "heap", "heap", ",", "json", "value", "name", ",", "class", "<", "t", ">", "type", ")", "throws", "heap", "exception", "{", "if", "(", "name", ".", "is", "null", "(", ")", ")", "{", "return", "null", ";", "}", "return", "get", "required", "object", "(", "heap", ",", "name", ",", "type", ")", ";", "}"], "span_diff_code": "<DELETE> @ suppress warnings ( str ) <DELETE_END> <KEEP> public static < t > t get object ( heap heap , json value name , class < t > type ) throws heap exception { <KEEP_END> <REPLACE_OLD> object o = heap . get <REPLACE_NEW> if <REPLACE_END> <KEEP> ( name . <KEEP_END> <REPLACE_OLD> required ( ) . as string <REPLACE_NEW> is null <REPLACE_END> <KEEP> ( ) ) <KEEP_END> <INSERT> { return null <INSERT_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> } return get required object <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> o ! = null & & ! ( type . is instance ( o ) ) ) { throw new json value exception ( <REPLACE_NEW> heap , <REPLACE_END> <KEEP> name , <KEEP_END> <DELETE> str + <DELETE_END> <KEEP> type <KEEP_END> <DELETE> . get name ( ) <DELETE_END> <KEEP> ) ; } <KEEP_END> <DELETE> return ( t ) o ; } <DELETE_END>", "span_diff_code_tokens": ["<DELETE>", "@", "suppress", "warnings", "(", "str", ")", "<DELETE_END>", "<KEEP>", "public", "static", "<", "t", ">", "t", "get", "object", "(", "heap", "heap", ",", "json", "value", "name", ",", "class", "<", "t", ">", "type", ")", "throws", "heap", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "object", "o", "=", "heap", ".", "get", "<REPLACE_NEW>", "if", "<REPLACE_END>", "<KEEP>", "(", "name", ".", "<KEEP_END>", "<REPLACE_OLD>", "required", "(", ")", ".", "as", "string", "<REPLACE_NEW>", "is", "null", "<REPLACE_END>", "<KEEP>", "(", ")", ")", "<KEEP_END>", "<INSERT>", "{", "return", "null", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "}", "return", "get", "required", "object", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "o", "!", "=", "null", "&", "&", "!", "(", "type", ".", "is", "instance", "(", "o", ")", ")", ")", "{", "throw", "new", "json", "value", "exception", "(", "<REPLACE_NEW>", "heap", ",", "<REPLACE_END>", "<KEEP>", "name", ",", "<KEEP_END>", "<DELETE>", "str", "+", "<DELETE_END>", "<KEEP>", "type", "<KEEP_END>", "<DELETE>", ".", "get", "name", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "(", "t", ")", "o", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> object <INSERT_NEW_KEEP_BEFORE> object or null if name contains null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "object", "<INSERT_NEW_KEEP_BEFORE>", "object", "or", "null", "if", "name", "contains", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<DELETE>", "@", "<DELETE>", "suppress", "<DELETE>", "warnings", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "t", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "heap", "<KEEP>", "heap", "<KEEP>", ",", "<KEEP>", "json", "<KEEP>", "value", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "heap", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "o", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "heap", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ".", "<REPLACE_OLD>", "required", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "null", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "required", "<REPLACE_NEW>", "object", "<KEEP>", "(", "<REPLACE_OLD>", "o", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "o", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "heap", "<REPLACE_NEW>", ",", "<KEEP>", "name", "<KEEP>", ",", "<DELETE>", "str", "<DELETE>", "+", "<KEEP>", "type", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "(", "<DELETE>", "t", "<DELETE>", ")", "<DELETE>", "o", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "apache_axis1-java-111-6693", "old_comment": "the qname of the type", "old_comment_tokens": ["the", "qname", "of", "the", "type"], "new_comment": "the qname of the parameter ' s type", "new_comment_tokens": ["the", "qname", "of", "the", "parameter", "'", "s", "type"], "old_code": "public static qname get xsitype ( type entry te ) { qname xml type = null ; if ( te ! = null & & te instanceof element & & te . get ref type ( ) ! = null ) { te = te . get ref type ( ) ; } if ( te ! = null & & te instanceof collection type & & te . get ref type ( ) ! = null ) { te = te . get ref type ( ) ; } if ( te ! = null ) { xml type = te . get qname ( ) ; } return xml type ; }", "old_code_tokens": ["public", "static", "qname", "get", "xsitype", "(", "type", "entry", "te", ")", "{", "qname", "xml", "type", "=", "null", ";", "if", "(", "te", "!", "=", "null", "&", "&", "te", "instanceof", "element", "&", "&", "te", ".", "get", "ref", "type", "(", ")", "!", "=", "null", ")", "{", "te", "=", "te", ".", "get", "ref", "type", "(", ")", ";", "}", "if", "(", "te", "!", "=", "null", "&", "&", "te", "instanceof", "collection", "type", "&", "&", "te", ".", "get", "ref", "type", "(", ")", "!", "=", "null", ")", "{", "te", "=", "te", ".", "get", "ref", "type", "(", ")", ";", "}", "if", "(", "te", "!", "=", "null", ")", "{", "xml", "type", "=", "te", ".", "get", "qname", "(", ")", ";", "}", "return", "xml", "type", ";", "}"], "new_code": "public static qname get xsitype ( parameter param ) { if ( param . get mimetype ( ) ! = null ) { return get mimetype qname ( param . get mimetype ( ) ) ; } qname xml type = null ; type entry te = param . get type ( ) ; if ( te ! = null & & te instanceof element & & te . get ref type ( ) ! = null ) { te = te . get ref type ( ) ; } if ( te ! = null & & te instanceof collection type & & te . get ref type ( ) ! = null ) { te = te . get ref type ( ) ; } if ( te ! = null ) { xml type = te . get qname ( ) ; } return xml type ; }", "new_code_tokens": ["public", "static", "qname", "get", "xsitype", "(", "parameter", "param", ")", "{", "if", "(", "param", ".", "get", "mimetype", "(", ")", "!", "=", "null", ")", "{", "return", "get", "mimetype", "qname", "(", "param", ".", "get", "mimetype", "(", ")", ")", ";", "}", "qname", "xml", "type", "=", "null", ";", "type", "entry", "te", "=", "param", ".", "get", "type", "(", ")", ";", "if", "(", "te", "!", "=", "null", "&", "&", "te", "instanceof", "element", "&", "&", "te", ".", "get", "ref", "type", "(", ")", "!", "=", "null", ")", "{", "te", "=", "te", ".", "get", "ref", "type", "(", ")", ";", "}", "if", "(", "te", "!", "=", "null", "&", "&", "te", "instanceof", "collection", "type", "&", "&", "te", ".", "get", "ref", "type", "(", ")", "!", "=", "null", ")", "{", "te", "=", "te", ".", "get", "ref", "type", "(", ")", ";", "}", "if", "(", "te", "!", "=", "null", ")", "{", "xml", "type", "=", "te", ".", "get", "qname", "(", ")", ";", "}", "return", "xml", "type", ";", "}"], "span_diff_code": "<KEEP> public static qname get xsitype ( <KEEP_END> <REPLACE_OLD> type entry te <REPLACE_NEW> parameter param <REPLACE_END> <KEEP> ) { <KEEP_END> <INSERT> if ( param . get mimetype ( ) ! = null ) { return get mimetype qname ( param . get mimetype ( ) ) ; } <INSERT_END> <KEEP> qname xml type = null <KEEP_END> <INSERT> ; type entry te = param . get type ( ) <INSERT_END> <KEEP> ; if ( te ! = null & & te instanceof element & & te . get ref type ( ) ! = null ) { te = te . get ref type ( ) ; } if ( te ! = null & & te instanceof collection type & & te . get ref type ( ) ! = null ) { te = te . get ref type ( ) ; } if ( te ! = null ) { xml type = te . get qname ( ) ; } return xml type ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "qname", "get", "xsitype", "(", "<KEEP_END>", "<REPLACE_OLD>", "type", "entry", "te", "<REPLACE_NEW>", "parameter", "param", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "param", ".", "get", "mimetype", "(", ")", "!", "=", "null", ")", "{", "return", "get", "mimetype", "qname", "(", "param", ".", "get", "mimetype", "(", ")", ")", ";", "}", "<INSERT_END>", "<KEEP>", "qname", "xml", "type", "=", "null", "<KEEP_END>", "<INSERT>", ";", "type", "entry", "te", "=", "param", ".", "get", "type", "(", ")", "<INSERT_END>", "<KEEP>", ";", "if", "(", "te", "!", "=", "null", "&", "&", "te", "instanceof", "element", "&", "&", "te", ".", "get", "ref", "type", "(", ")", "!", "=", "null", ")", "{", "te", "=", "te", ".", "get", "ref", "type", "(", ")", ";", "}", "if", "(", "te", "!", "=", "null", "&", "&", "te", "instanceof", "collection", "type", "&", "&", "te", ".", "get", "ref", "type", "(", ")", "!", "=", "null", ")", "{", "te", "=", "te", ".", "get", "ref", "type", "(", ")", ";", "}", "if", "(", "te", "!", "=", "null", ")", "{", "xml", "type", "=", "te", ".", "get", "qname", "(", ")", ";", "}", "return", "xml", "type", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> of the <INSERT_NEW_KEEP_BEFORE> of the parameter ' s <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "of", "the", "<INSERT_NEW_KEEP_BEFORE>", "of", "the", "parameter", "'", "s", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "qname", "<KEEP>", "get", "<KEEP>", "xsitype", "<KEEP>", "(", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "te", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "param", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "param", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "mimetype", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "get", "<INSERT>", "mimetype", "<INSERT>", "qname", "<INSERT>", "(", "<INSERT>", "param", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "mimetype", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "qname", "<KEEP>", "xml", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "null", "<INSERT>", ";", "<INSERT>", "type", "<INSERT>", "entry", "<INSERT>", "te", "<INSERT>", "=", "<INSERT>", "param", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "te", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "te", "<KEEP>", "instanceof", "<KEEP>", "element", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "te", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "ref", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "te", "<KEEP>", "=", "<KEEP>", "te", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "ref", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "te", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "te", "<KEEP>", "instanceof", "<KEEP>", "collection", "<KEEP>", "type", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "te", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "ref", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "te", "<KEEP>", "=", "<KEEP>", "te", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "ref", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "te", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "xml", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "te", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qname", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "xml", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rstudio_rstudio-0-2019", "old_comment": "host name and port , as a string .", "old_comment_tokens": ["host", "name", "and", "port", ",", "as", "a", "string", "."], "new_comment": "the host , as a string .", "new_comment_tokens": ["the", "host", ",", "as", "a", "string", "."], "old_code": "public static string get host from url ( string url ) { if ( url . index of ( str ) = = - num ) return url ; int slashes = num ; if ( url . contains ( str ) ) slashes + = num ; string [ ] parts = url . split ( str ) ; if ( parts . length < slashes ) return url ; return parts [ slashes ] ; }", "old_code_tokens": ["public", "static", "string", "get", "host", "from", "url", "(", "string", "url", ")", "{", "if", "(", "url", ".", "index", "of", "(", "str", ")", "=", "=", "-", "num", ")", "return", "url", ";", "int", "slashes", "=", "num", ";", "if", "(", "url", ".", "contains", "(", "str", ")", ")", "slashes", "+", "=", "num", ";", "string", "[", "]", "parts", "=", "url", ".", "split", "(", "str", ")", ";", "if", "(", "parts", ".", "length", "<", "slashes", ")", "return", "url", ";", "return", "parts", "[", "slashes", "]", ";", "}"], "new_code": "public static string get host from url ( string url ) { string authority = get authority from url ( url ) ; int idx = authority . index of ( str ) ; if ( idx = = - num ) return authority ; return authority . substring ( num , idx ) ; }", "new_code_tokens": ["public", "static", "string", "get", "host", "from", "url", "(", "string", "url", ")", "{", "string", "authority", "=", "get", "authority", "from", "url", "(", "url", ")", ";", "int", "idx", "=", "authority", ".", "index", "of", "(", "str", ")", ";", "if", "(", "idx", "=", "=", "-", "num", ")", "return", "authority", ";", "return", "authority", ".", "substring", "(", "num", ",", "idx", ")", ";", "}"], "span_diff_code": "<KEEP> public static string get host from url ( string url ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> string authority = get authority from url <REPLACE_END> <KEEP> ( url <KEEP_END> <INSERT> ) ; int idx = authority <INSERT_END> <KEEP> . index of ( str ) <KEEP_END> <INSERT> ; if ( idx <INSERT_END> <KEEP> = = - num ) return <KEEP_END> <REPLACE_OLD> url <REPLACE_NEW> authority <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> int slashes = <REPLACE_NEW> return authority . substring ( <REPLACE_END> <KEEP> num <KEEP_END> <REPLACE_OLD> ; if ( url . contains ( str ) ) slashes + = num ; string [ ] parts = url . split ( str <REPLACE_NEW> , idx <REPLACE_END> <KEEP> ) ; <KEEP_END> <DELETE> if ( parts . length < slashes ) return url ; return parts [ slashes ] ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "host", "from", "url", "(", "string", "url", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "string", "authority", "=", "get", "authority", "from", "url", "<REPLACE_END>", "<KEEP>", "(", "url", "<KEEP_END>", "<INSERT>", ")", ";", "int", "idx", "=", "authority", "<INSERT_END>", "<KEEP>", ".", "index", "of", "(", "str", ")", "<KEEP_END>", "<INSERT>", ";", "if", "(", "idx", "<INSERT_END>", "<KEEP>", "=", "=", "-", "num", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "authority", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "int", "slashes", "=", "<REPLACE_NEW>", "return", "authority", ".", "substring", "(", "<REPLACE_END>", "<KEEP>", "num", "<KEEP_END>", "<REPLACE_OLD>", ";", "if", "(", "url", ".", "contains", "(", "str", ")", ")", "slashes", "+", "=", "num", ";", "string", "[", "]", "parts", "=", "url", ".", "split", "(", "str", "<REPLACE_NEW>", ",", "idx", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "parts", ".", "length", "<", "slashes", ")", "return", "url", ";", "return", "parts", "[", "slashes", "]", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> host <INSERT_NEW_KEEP_AFTER> the host <INSERT_END> <DELETE> name and port <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "host", "<INSERT_NEW_KEEP_AFTER>", "the", "host", "<INSERT_END>", "<DELETE>", "name", "and", "port", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "host", "<KEEP>", "from", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "authority", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "authority", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "url", "<KEEP>", "(", "<KEEP>", "url", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "idx", "<INSERT>", "=", "<INSERT>", "authority", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "idx", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "authority", "<KEEP>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "slashes", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "authority", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "substring", "<REPLACE_NEW>", "(", "<KEEP>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "contains", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "slashes", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "parts", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "split", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "idx", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "parts", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "<", "<DELETE>", "slashes", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "url", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "parts", "<DELETE>", "[", "<DELETE>", "slashes", "<DELETE>", "]", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_mylyn.reviews-7-7312", "old_comment": "the meta object for the containment reference ' state ' .", "old_comment_tokens": ["the", "meta", "object", "for", "the", "containment", "reference", "'", "state", "'", "."], "new_comment": "the meta object for the attribute ' state ' .", "new_comment_tokens": ["the", "meta", "object", "for", "the", "attribute", "'", "state", "'", "."], "old_code": "public ereference get change _ state ( ) { return ( ereference ) change eclass . get estructural features ( ) . get ( num ) ; }", "old_code_tokens": ["public", "ereference", "get", "change", "_", "state", "(", ")", "{", "return", "(", "ereference", ")", "change", "eclass", ".", "get", "estructural", "features", "(", ")", ".", "get", "(", "num", ")", ";", "}"], "new_code": "public eattribute get change _ state ( ) { return ( eattribute ) change eclass . get estructural features ( ) . get ( num ) ; }", "new_code_tokens": ["public", "eattribute", "get", "change", "_", "state", "(", ")", "{", "return", "(", "eattribute", ")", "change", "eclass", ".", "get", "estructural", "features", "(", ")", ".", "get", "(", "num", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> ereference <REPLACE_NEW> eattribute <REPLACE_END> <KEEP> get change _ state ( ) { return ( <KEEP_END> <REPLACE_OLD> ereference <REPLACE_NEW> eattribute <REPLACE_END> <KEEP> ) change eclass . get estructural features ( ) . get ( num ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "ereference", "<REPLACE_NEW>", "eattribute", "<REPLACE_END>", "<KEEP>", "get", "change", "_", "state", "(", ")", "{", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "ereference", "<REPLACE_NEW>", "eattribute", "<REPLACE_END>", "<KEEP>", ")", "change", "eclass", ".", "get", "estructural", "features", "(", ")", ".", "get", "(", "num", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> containment reference <REPLACE_NEW> attribute <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "containment", "reference", "<REPLACE_NEW>", "attribute", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "ereference", "<REPLACE_NEW>", "eattribute", "<KEEP>", "get", "<KEEP>", "change", "<KEEP>", "_", "<KEEP>", "state", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "ereference", "<REPLACE_NEW>", "eattribute", "<KEEP>", ")", "<KEEP>", "change", "<KEEP>", "eclass", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "estructural", "<KEEP>", "features", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_loom-3-7326", "old_comment": "the home directory of phoenix", "old_comment_tokens": ["the", "home", "directory", "of", "phoenix"], "new_comment": "the home directory of loom", "new_comment_tokens": ["the", "home", "directory", "of", "loom"], "old_code": "public string get home directory ( ) { return m _ phoenix home ; }", "old_code_tokens": ["public", "string", "get", "home", "directory", "(", ")", "{", "return", "m", "_", "phoenix", "home", ";", "}"], "new_code": "public string get home directory ( ) { return m _ loom home ; }", "new_code_tokens": ["public", "string", "get", "home", "directory", "(", ")", "{", "return", "m", "_", "loom", "home", ";", "}"], "span_diff_code": "<KEEP> public string get home directory ( ) { return m _ <KEEP_END> <REPLACE_OLD> phoenix <REPLACE_NEW> loom <REPLACE_END> <KEEP> home ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "home", "directory", "(", ")", "{", "return", "m", "_", "<KEEP_END>", "<REPLACE_OLD>", "phoenix", "<REPLACE_NEW>", "loom", "<REPLACE_END>", "<KEEP>", "home", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> phoenix <REPLACE_NEW> loom <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "phoenix", "<REPLACE_NEW>", "loom", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "home", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "_", "<REPLACE_OLD>", "phoenix", "<REPLACE_NEW>", "loom", "<KEEP>", "home", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "tinkerpop_gremlin-2-3309", "old_comment": "the extended fluent pipeline", "old_comment_tokens": ["the", "extended", "fluent", "pipeline"], "new_comment": "the extended pipeline", "new_comment_tokens": ["the", "extended", "pipeline"], "old_code": "public t add ( final pipe pipe ) { this . add pipe ( pipe ) ; return ( t ) this ; }", "old_code_tokens": ["public", "t", "add", "(", "final", "pipe", "pipe", ")", "{", "this", ".", "add", "pipe", "(", "pipe", ")", ";", "return", "(", "t", ")", "this", ";", "}"], "new_code": "public gremlin pipeline add ( final pipe pipe ) { this . add pipe ( pipe ) ; return this ; }", "new_code_tokens": ["public", "gremlin", "pipeline", "add", "(", "final", "pipe", "pipe", ")", "{", "this", ".", "add", "pipe", "(", "pipe", ")", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> t <REPLACE_NEW> gremlin pipeline <REPLACE_END> <KEEP> add ( final pipe pipe ) { this . add pipe ( pipe ) ; return <KEEP_END> <DELETE> ( t ) <DELETE_END> <KEEP> this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "t", "<REPLACE_NEW>", "gremlin", "pipeline", "<REPLACE_END>", "<KEEP>", "add", "(", "final", "pipe", "pipe", ")", "{", "this", ".", "add", "pipe", "(", "pipe", ")", ";", "return", "<KEEP_END>", "<DELETE>", "(", "t", ")", "<DELETE_END>", "<KEEP>", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> fluent <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "fluent", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "t", "<REPLACE_NEW>", "gremlin", "<REPLACE_NEW>", "pipeline", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "pipe", "<KEEP>", "pipe", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "pipe", "<KEEP>", "(", "<KEEP>", "pipe", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "t", "<DELETE>", ")", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "gorkem_webtools.jsdt-51-6461", "old_comment": "absolute path to directory in which native npm call must be performed . basically , the method scans project for package . json file and returns it ' s parent , ignoring \" node _ modules \"", "old_comment_tokens": ["absolute", "path", "to", "directory", "in", "which", "native", "npm", "call", "must", "be", "performed", ".", "basically", ",", "the", "method", "scans", "project", "for", "package", ".", "json", "file", "and", "returns", "it", "'", "s", "parent", ",", "ignoring", "\"", "node", "_", "modules", "\""], "new_comment": "path to directory in which native npm call must be performed . basically , the method scans project for package . json file and returns it ' s parent , ignoring \" node _ modules \"", "new_comment_tokens": ["path", "to", "directory", "in", "which", "native", "npm", "call", "must", "be", "performed", ".", "basically", ",", "the", "method", "scans", "project", "for", "package", ".", "json", "file", "and", "returns", "it", "'", "s", "parent", ",", "ignoring", "\"", "node", "_", "modules", "\""], "old_code": "public static string get npm working dir ( iproject project , final string . . . ignores ) throws core exception { string working dir = null ; final list < ifile > found files = new array list < > ( ) ; if ( project ! = null & & project . exists ( ) ) { project . accept ( new iresource visitor ( ) { @ override public boolean visit ( iresource resource ) throws core exception { if ( ! found files . is empty ( ) ) { return false ; } else if ( resource . get type ( ) = = iresource . folder & & ignores ! = null ) { for ( string ignore : ignores ) { if ( resource . get name ( ) . equals ( ignore ) ) { return false ; } } } else if ( resource . get type ( ) = = iresource . file & & npm constants . package _ json . equals ( resource . get name ( ) ) ) { found files . add ( ( ifile ) resource ) ; } return true ; } } ) ; } if ( ! found files . is empty ( ) ) { working dir = found files . get ( num ) . get parent ( ) . get full path ( ) . to osstring ( ) ; } return working dir ; }", "old_code_tokens": ["public", "static", "string", "get", "npm", "working", "dir", "(", "iproject", "project", ",", "final", "string", ".", ".", ".", "ignores", ")", "throws", "core", "exception", "{", "string", "working", "dir", "=", "null", ";", "final", "list", "<", "ifile", ">", "found", "files", "=", "new", "array", "list", "<", ">", "(", ")", ";", "if", "(", "project", "!", "=", "null", "&", "&", "project", ".", "exists", "(", ")", ")", "{", "project", ".", "accept", "(", "new", "iresource", "visitor", "(", ")", "{", "@", "override", "public", "boolean", "visit", "(", "iresource", "resource", ")", "throws", "core", "exception", "{", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "folder", "&", "&", "ignores", "!", "=", "null", ")", "{", "for", "(", "string", "ignore", ":", "ignores", ")", "{", "if", "(", "resource", ".", "get", "name", "(", ")", ".", "equals", "(", "ignore", ")", ")", "{", "return", "false", ";", "}", "}", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "file", "&", "&", "npm", "constants", ".", "package", "_", "json", ".", "equals", "(", "resource", ".", "get", "name", "(", ")", ")", ")", "{", "found", "files", ".", "add", "(", "(", "ifile", ")", "resource", ")", ";", "}", "return", "true", ";", "}", "}", ")", ";", "}", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "working", "dir", "=", "found", "files", ".", "get", "(", "num", ")", ".", "get", "parent", "(", ")", ".", "get", "full", "path", "(", ")", ".", "to", "osstring", "(", ")", ";", "}", "return", "working", "dir", ";", "}"], "new_code": "public static ipath get npm working dir ( iproject project , final string . . . ignores ) throws core exception { ipath working dir = null ; final list < ifile > found files = new array list < > ( ) ; if ( project ! = null & & project . exists ( ) ) { project . accept ( new iresource visitor ( ) { @ override public boolean visit ( iresource resource ) throws core exception { if ( ! found files . is empty ( ) ) { return false ; } else if ( resource . get type ( ) = = iresource . folder & & ignores ! = null ) { for ( string ignore : ignores ) { if ( resource . get name ( ) . equals ( ignore ) ) { return false ; } } } else if ( resource . get type ( ) = = iresource . file & & npm constants . package _ json . equals ( resource . get name ( ) ) ) { found files . add ( ( ifile ) resource ) ; } return true ; } } ) ; } if ( ! found files . is empty ( ) ) { working dir = found files . get ( num ) . get parent ( ) . get location ( ) ; } return working dir ; }", "new_code_tokens": ["public", "static", "ipath", "get", "npm", "working", "dir", "(", "iproject", "project", ",", "final", "string", ".", ".", ".", "ignores", ")", "throws", "core", "exception", "{", "ipath", "working", "dir", "=", "null", ";", "final", "list", "<", "ifile", ">", "found", "files", "=", "new", "array", "list", "<", ">", "(", ")", ";", "if", "(", "project", "!", "=", "null", "&", "&", "project", ".", "exists", "(", ")", ")", "{", "project", ".", "accept", "(", "new", "iresource", "visitor", "(", ")", "{", "@", "override", "public", "boolean", "visit", "(", "iresource", "resource", ")", "throws", "core", "exception", "{", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "folder", "&", "&", "ignores", "!", "=", "null", ")", "{", "for", "(", "string", "ignore", ":", "ignores", ")", "{", "if", "(", "resource", ".", "get", "name", "(", ")", ".", "equals", "(", "ignore", ")", ")", "{", "return", "false", ";", "}", "}", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "file", "&", "&", "npm", "constants", ".", "package", "_", "json", ".", "equals", "(", "resource", ".", "get", "name", "(", ")", ")", ")", "{", "found", "files", ".", "add", "(", "(", "ifile", ")", "resource", ")", ";", "}", "return", "true", ";", "}", "}", ")", ";", "}", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "working", "dir", "=", "found", "files", ".", "get", "(", "num", ")", ".", "get", "parent", "(", ")", ".", "get", "location", "(", ")", ";", "}", "return", "working", "dir", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> ipath <REPLACE_END> <KEEP> get npm working dir ( iproject project , final string . . . ignores ) throws core exception { <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> ipath <REPLACE_END> <KEEP> working dir = null ; final list < ifile > found files = new array list < > ( ) ; if ( project ! = null & & project . exists ( ) ) { project . accept ( new iresource visitor ( ) { @ override public boolean visit ( iresource resource ) throws core exception { if ( ! found files . is empty ( ) ) { return false ; } else if ( resource . get type ( ) = = iresource . folder & & ignores ! = null ) { for ( string ignore : ignores ) { if ( resource . get name ( ) . equals ( ignore ) ) { return false ; } } } else if ( resource . get type ( ) = = iresource . file & & npm constants . package _ json . equals ( resource . get name ( ) ) ) { found files . add ( ( ifile ) resource ) ; } return true ; } } ) ; } if ( ! found files . is empty ( ) ) { working dir = found files . get ( num ) . get parent ( ) . get <KEEP_END> <REPLACE_OLD> full path ( ) . to osstring ( ) ; } return working dir ; } <REPLACE_NEW> location ( ) ; } return working dir ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<REPLACE_END>", "<KEEP>", "get", "npm", "working", "dir", "(", "iproject", "project", ",", "final", "string", ".", ".", ".", "ignores", ")", "throws", "core", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<REPLACE_END>", "<KEEP>", "working", "dir", "=", "null", ";", "final", "list", "<", "ifile", ">", "found", "files", "=", "new", "array", "list", "<", ">", "(", ")", ";", "if", "(", "project", "!", "=", "null", "&", "&", "project", ".", "exists", "(", ")", ")", "{", "project", ".", "accept", "(", "new", "iresource", "visitor", "(", ")", "{", "@", "override", "public", "boolean", "visit", "(", "iresource", "resource", ")", "throws", "core", "exception", "{", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "folder", "&", "&", "ignores", "!", "=", "null", ")", "{", "for", "(", "string", "ignore", ":", "ignores", ")", "{", "if", "(", "resource", ".", "get", "name", "(", ")", ".", "equals", "(", "ignore", ")", ")", "{", "return", "false", ";", "}", "}", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "file", "&", "&", "npm", "constants", ".", "package", "_", "json", ".", "equals", "(", "resource", ".", "get", "name", "(", ")", ")", ")", "{", "found", "files", ".", "add", "(", "(", "ifile", ")", "resource", ")", ";", "}", "return", "true", ";", "}", "}", ")", ";", "}", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "working", "dir", "=", "found", "files", ".", "get", "(", "num", ")", ".", "get", "parent", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "full", "path", "(", ")", ".", "to", "osstring", "(", ")", ";", "}", "return", "working", "dir", ";", "}", "<REPLACE_NEW>", "location", "(", ")", ";", "}", "return", "working", "dir", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<DELETE> absolute <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "absolute", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<KEEP>", "get", "<KEEP>", "npm", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "ignores", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "core", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "ifile", "<KEEP>", ">", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "iresource", "<KEEP>", "visitor", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "visit", "<KEEP>", "(", "<KEEP>", "iresource", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "core", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "iresource", "<KEEP>", ".", "<KEEP>", "folder", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "ignores", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "ignore", "<KEEP>", ":", "<KEEP>", "ignores", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "ignore", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "iresource", "<KEEP>", ".", "<KEEP>", "file", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "npm", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "package", "<KEEP>", "_", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "ifile", "<KEEP>", ")", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "=", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "full", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "osstring", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "working", "<REPLACE_OLD>", "dir", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "location", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "working", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_emf.diffmerge.core-0-5634", "old_comment": "a string which must be null if no business re - identification is needed", "old_comment_tokens": ["a", "string", "which", "must", "be", "null", "if", "no", "business", "re", "-", "identification", "is", "needed"], "new_comment": "a potentially null string", "new_comment_tokens": ["a", "potentially", "null", "string"], "old_code": "protected string get new id for ( eobject element _ p ) { return copy physical ids ( ) ? null : ecore util . generate uuid ( ) ; }", "old_code_tokens": ["protected", "string", "get", "new", "id", "for", "(", "eobject", "element", "_", "p", ")", "{", "return", "copy", "physical", "ids", "(", ")", "?", "null", ":", "ecore", "util", ".", "generate", "uuid", "(", ")", ";", "}"], "new_code": "protected string get new id for ( eobject element _ p ) { return copy xml ids ( ) ? null : ecore util . generate uuid ( ) ; }", "new_code_tokens": ["protected", "string", "get", "new", "id", "for", "(", "eobject", "element", "_", "p", ")", "{", "return", "copy", "xml", "ids", "(", ")", "?", "null", ":", "ecore", "util", ".", "generate", "uuid", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected string get new id for ( eobject element _ p ) { return copy <KEEP_END> <REPLACE_OLD> physical <REPLACE_NEW> xml <REPLACE_END> <KEEP> ids ( ) ? null : ecore util . generate uuid ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "string", "get", "new", "id", "for", "(", "eobject", "element", "_", "p", ")", "{", "return", "copy", "<KEEP_END>", "<REPLACE_OLD>", "physical", "<REPLACE_NEW>", "xml", "<REPLACE_END>", "<KEEP>", "ids", "(", ")", "?", "null", ":", "ecore", "util", ".", "generate", "uuid", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a potentially null <INSERT_END> <DELETE> which must be null if no business re - identification is needed <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "potentially", "null", "<INSERT_END>", "<DELETE>", "which", "must", "be", "null", "if", "no", "business", "re", "-", "identification", "is", "needed", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "new", "<KEEP>", "id", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "eobject", "<KEEP>", "element", "<KEEP>", "_", "<KEEP>", "p", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "copy", "<REPLACE_OLD>", "physical", "<REPLACE_NEW>", "xml", "<KEEP>", "ids", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "ecore", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "generate", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Atmosphere_atmosphere-60-3694", "old_comment": "a comet support instance", "old_comment_tokens": ["a", "comet", "support", "instance"], "new_comment": "a async support instance", "new_comment_tokens": ["a", "async", "support", "instance"], "old_code": "protected comet support resolve multiple native support conflict ( final list < class < ? extends comet support > > available ) { final string builder b = new string builder ( str ) ; for ( class < ? extends comet support > cs : available ) { b . append ( ( cs ! = null ) ? cs . get canonical name ( ) : str ) . append ( str ) ; } b . append ( str + available . get ( num ) ) ; logger . warn ( str , b . to string ( ) ) ; return new comet support ( available . get ( num ) ) ; }", "old_code_tokens": ["protected", "comet", "support", "resolve", "multiple", "native", "support", "conflict", "(", "final", "list", "<", "class", "<", "?", "extends", "comet", "support", ">", ">", "available", ")", "{", "final", "string", "builder", "b", "=", "new", "string", "builder", "(", "str", ")", ";", "for", "(", "class", "<", "?", "extends", "comet", "support", ">", "cs", ":", "available", ")", "{", "b", ".", "append", "(", "(", "cs", "!", "=", "null", ")", "?", "cs", ".", "get", "canonical", "name", "(", ")", ":", "str", ")", ".", "append", "(", "str", ")", ";", "}", "b", ".", "append", "(", "str", "+", "available", ".", "get", "(", "num", ")", ")", ";", "logger", ".", "warn", "(", "str", ",", "b", ".", "to", "string", "(", ")", ")", ";", "return", "new", "comet", "support", "(", "available", ".", "get", "(", "num", ")", ")", ";", "}"], "new_code": "protected async support resolve multiple native support conflict ( final list < class < ? extends async support > > available ) { final string builder b = new string builder ( str ) ; for ( class < ? extends async support > cs : available ) { b . append ( ( cs ! = null ) ? cs . get canonical name ( ) : str ) . append ( str ) ; } b . append ( str + available . get ( num ) ) ; logger . warn ( str , b . to string ( ) ) ; return new comet support ( available . get ( num ) ) ; }", "new_code_tokens": ["protected", "async", "support", "resolve", "multiple", "native", "support", "conflict", "(", "final", "list", "<", "class", "<", "?", "extends", "async", "support", ">", ">", "available", ")", "{", "final", "string", "builder", "b", "=", "new", "string", "builder", "(", "str", ")", ";", "for", "(", "class", "<", "?", "extends", "async", "support", ">", "cs", ":", "available", ")", "{", "b", ".", "append", "(", "(", "cs", "!", "=", "null", ")", "?", "cs", ".", "get", "canonical", "name", "(", ")", ":", "str", ")", ".", "append", "(", "str", ")", ";", "}", "b", ".", "append", "(", "str", "+", "available", ".", "get", "(", "num", ")", ")", ";", "logger", ".", "warn", "(", "str", ",", "b", ".", "to", "string", "(", ")", ")", ";", "return", "new", "comet", "support", "(", "available", ".", "get", "(", "num", ")", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> comet <REPLACE_NEW> async <REPLACE_END> <KEEP> support resolve multiple native support conflict ( final list < class < ? extends <KEEP_END> <REPLACE_OLD> comet <REPLACE_NEW> async <REPLACE_END> <KEEP> support > > available ) { final string builder b = new string builder ( str ) ; for ( class < ? extends <KEEP_END> <REPLACE_OLD> comet <REPLACE_NEW> async <REPLACE_END> <KEEP> support > cs : available ) { b . append ( ( cs ! = null ) ? cs . get canonical name ( ) : str ) . append ( str ) ; } b . append ( str + available . get ( num ) ) ; logger . warn ( str , b . to string ( ) ) ; return new comet support ( available . get ( num ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<REPLACE_END>", "<KEEP>", "support", "resolve", "multiple", "native", "support", "conflict", "(", "final", "list", "<", "class", "<", "?", "extends", "<KEEP_END>", "<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<REPLACE_END>", "<KEEP>", "support", ">", ">", "available", ")", "{", "final", "string", "builder", "b", "=", "new", "string", "builder", "(", "str", ")", ";", "for", "(", "class", "<", "?", "extends", "<KEEP_END>", "<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<REPLACE_END>", "<KEEP>", "support", ">", "cs", ":", "available", ")", "{", "b", ".", "append", "(", "(", "cs", "!", "=", "null", ")", "?", "cs", ".", "get", "canonical", "name", "(", ")", ":", "str", ")", ".", "append", "(", "str", ")", ";", "}", "b", ".", "append", "(", "str", "+", "available", ".", "get", "(", "num", ")", ")", ";", "logger", ".", "warn", "(", "str", ",", "b", ".", "to", "string", "(", ")", ")", ";", "return", "new", "comet", "support", "(", "available", ".", "get", "(", "num", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> comet <REPLACE_NEW> async <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<KEEP>", "support", "<KEEP>", "resolve", "<KEEP>", "multiple", "<KEEP>", "native", "<KEEP>", "support", "<KEEP>", "conflict", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<KEEP>", "support", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "available", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "b", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<REPLACE_OLD>", "comet", "<REPLACE_NEW>", "async", "<KEEP>", "support", "<KEEP>", ">", "<KEEP>", "cs", "<KEEP>", ":", "<KEEP>", "available", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "b", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "cs", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "cs", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "canonical", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "b", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "available", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "warn", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "b", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "comet", "<KEEP>", "support", "<KEEP>", "(", "<KEEP>", "available", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_google-api-java-client-0-5416", "old_comment": "whether it is text", "old_comment_tokens": ["whether", "it", "is", "text"], "new_comment": "whether it is not null and text - based", "new_comment_tokens": ["whether", "it", "is", "not", "null", "and", "text", "-", "based"], "old_code": "public static boolean is text based content type ( string content type ) { return content type . starts with ( str ) | | content type . starts with ( str ) ; }", "old_code_tokens": ["public", "static", "boolean", "is", "text", "based", "content", "type", "(", "string", "content", "type", ")", "{", "return", "content", "type", ".", "starts", "with", "(", "str", ")", "|", "|", "content", "type", ".", "starts", "with", "(", "str", ")", ";", "}"], "new_code": "public static boolean is text based content type ( string content type ) { return content type ! = null & & ( content type . starts with ( str ) | | content type . starts with ( str ) ) ; }", "new_code_tokens": ["public", "static", "boolean", "is", "text", "based", "content", "type", "(", "string", "content", "type", ")", "{", "return", "content", "type", "!", "=", "null", "&", "&", "(", "content", "type", ".", "starts", "with", "(", "str", ")", "|", "|", "content", "type", ".", "starts", "with", "(", "str", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean is text based content type ( string content type ) { return <KEEP_END> <INSERT> content type ! = null & & ( <INSERT_END> <KEEP> content type . starts with ( str ) | | content type . starts with ( str ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "text", "based", "content", "type", "(", "string", "content", "type", ")", "{", "return", "<KEEP_END>", "<INSERT>", "content", "type", "!", "=", "null", "&", "&", "(", "<INSERT_END>", "<KEEP>", "content", "type", ".", "starts", "with", "(", "str", ")", "|", "|", "content", "type", ".", "starts", "with", "(", "str", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> is <INSERT_NEW_KEEP_BEFORE> is not null and <INSERT_END> <INSERT_OLD_KEEP_BEFORE> text <INSERT_NEW_KEEP_BEFORE> text - based <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "is", "<INSERT_NEW_KEEP_BEFORE>", "is", "not", "null", "and", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "text", "<INSERT_NEW_KEEP_BEFORE>", "text", "-", "based", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "text", "<KEEP>", "based", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "content", "<INSERT>", "type", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "(", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-164-5394", "old_comment": "the filter extensions string array or null .", "old_comment_tokens": ["the", "filter", "extensions", "string", "array", "or", "null", "."], "new_comment": "the filter extensions string array .", "new_comment_tokens": ["the", "filter", "extensions", "string", "array", "."], "old_code": "public string [ ] get filter extensions ( ) { return filter extensions ! = null ? arrays . copy of ( filter extensions , filter extensions . length ) : null ; }", "old_code_tokens": ["public", "string", "[", "]", "get", "filter", "extensions", "(", ")", "{", "return", "filter", "extensions", "!", "=", "null", "?", "arrays", ".", "copy", "of", "(", "filter", "extensions", ",", "filter", "extensions", ".", "length", ")", ":", "null", ";", "}"], "new_code": "public string [ ] get filter extensions ( ) { return filter extensions ! = null ? arrays . copy of ( filter extensions , filter extensions . length ) : new string [ num ] ; }", "new_code_tokens": ["public", "string", "[", "]", "get", "filter", "extensions", "(", ")", "{", "return", "filter", "extensions", "!", "=", "null", "?", "arrays", ".", "copy", "of", "(", "filter", "extensions", ",", "filter", "extensions", ".", "length", ")", ":", "new", "string", "[", "num", "]", ";", "}"], "span_diff_code": "<KEEP> public string [ ] get filter extensions ( ) { return filter extensions ! = null ? arrays . copy of ( filter extensions , filter extensions . length ) : <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new string [ num ] <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "[", "]", "get", "filter", "extensions", "(", ")", "{", "return", "filter", "extensions", "!", "=", "null", "?", "arrays", ".", "copy", "of", "(", "filter", "extensions", ",", "filter", "extensions", ".", "length", ")", ":", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "string", "[", "num", "]", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or null <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "filter", "<KEEP>", "extensions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "filter", "<KEEP>", "extensions", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "copy", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "filter", "<KEEP>", "extensions", "<KEEP>", ",", "<KEEP>", "filter", "<KEEP>", "extensions", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ":", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_kylin-10-2859", "old_comment": "table metadata array", "old_comment_tokens": ["table", "metadata", "array"], "new_comment": "cube request cube change request", "new_comment_tokens": ["cube", "request", "cube", "change", "request"], "old_code": "@ request mapping ( value = str , method = { request method . put } ) @ response body public cube request update cube desc ( @ request body cube request cube request ) throws json processing exception { cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } final string cube name = desc . get name ( ) ; if ( string utils . is empty ( cube name ) ) { return error request ( cube request , str ) ; } metadata manager metadata manager = metadata manager . get instance ( kylin config . get instance from env ( ) ) ; data model desc model desc = null ; if ( string utils . is not empty ( cube request . get model desc data ( ) ) ) { model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return cube request ; } final string mode name = model desc . get name ( ) ; if ( ! string utils . equals ( desc . get model name ( ) , mode name ) ) { return error request ( cube request , str + desc . get model name ( ) + str + mode name ) ; } data model desc old model desc = metadata manager . get data model desc ( mode name ) ; if ( old model desc = = null ) { return error request ( cube request , str + mode name + str ) ; } if ( ! model desc . compatible with ( old model desc ) ) { return error request ( cube request , str ) ; } } if ( ! cube service . is cube desc editable ( desc ) ) { string error = str + desc . get name ( ) . to upper case ( ) + str ; return error request ( cube request , error ) ; } try { if ( model desc ! = null ) metadata manager . update data model desc ( model desc ) ; cube instance cube = cube service . get cube manager ( ) . get cube ( cube name ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; desc = cube service . update cube and desc ( cube , desc , project name ) ; } catch ( access denied exception access denied exception ) { throw new forbidden exception ( str ) ; } catch ( exception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } if ( desc . get error ( ) . is empty ( ) ) { cube request . set successful ( true ) ; } else { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; error request ( cube request , omit message ( desc . get error ( ) ) ) ; } string desc data = json util . write value as indent string ( desc ) ; cube request . set cube desc data ( desc data ) ; return cube request ; }", "old_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "put", "}", ")", "@", "response", "body", "public", "cube", "request", "update", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "throws", "json", "processing", "exception", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "cube", "name", "=", "desc", ".", "get", "name", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "cube", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "metadata", "manager", "metadata", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "kylin", "config", ".", "get", "instance", "from", "env", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "null", ";", "if", "(", "string", "utils", ".", "is", "not", "empty", "(", "cube", "request", ".", "get", "model", "desc", "data", "(", ")", ")", ")", "{", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "mode", "name", "=", "model", "desc", ".", "get", "name", "(", ")", ";", "if", "(", "!", "string", "utils", ".", "equals", "(", "desc", ".", "get", "model", "name", "(", ")", ",", "mode", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "desc", ".", "get", "model", "name", "(", ")", "+", "str", "+", "mode", "name", ")", ";", "}", "data", "model", "desc", "old", "model", "desc", "=", "metadata", "manager", ".", "get", "data", "model", "desc", "(", "mode", "name", ")", ";", "if", "(", "old", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "mode", "name", "+", "str", ")", ";", "}", "if", "(", "!", "model", "desc", ".", "compatible", "with", "(", "old", "model", "desc", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "}", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "string", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ".", "to", "upper", "case", "(", ")", "+", "str", ";", "return", "error", "request", "(", "cube", "request", ",", "error", ")", ";", "}", "try", "{", "if", "(", "model", "desc", "!", "=", "null", ")", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "cube", "instance", "cube", "=", "cube", "service", ".", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "name", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "desc", "=", "cube", "service", ".", "update", "cube", "and", "desc", "(", "cube", ",", "desc", ",", "project", "name", ")", ";", "}", "catch", "(", "access", "denied", "exception", "access", "denied", "exception", ")", "{", "throw", "new", "forbidden", "exception", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "if", "(", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "}", "else", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "error", "request", "(", "cube", "request", ",", "omit", "message", "(", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "}", "string", "desc", "data", "=", "json", "util", ".", "write", "value", "as", "indent", "string", "(", "desc", ")", ";", "cube", "request", ".", "set", "cube", "desc", "data", "(", "desc", "data", ")", ";", "return", "cube", "request", ";", "}"], "new_code": "@ request mapping ( value = str , method = { request method . put } ) @ response body public cube request update cube desc ( @ request body cube request cube request ) throws json processing exception { cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } final string cube name = cube request . get cube name ( ) ; if ( string utils . is empty ( cube name ) ) { return error request ( cube request , str ) ; } metadata manager metadata manager = metadata manager . get instance ( cube service . get config ( ) ) ; data model desc model desc = null ; data model desc old model desc = null ; if ( string utils . is not empty ( cube request . get model desc data ( ) ) ) { model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return cube request ; } final string mode name = model desc . get name ( ) ; if ( ! string utils . equals ( desc . get model name ( ) , mode name ) ) { return error request ( cube request , str + desc . get model name ( ) + str + mode name ) ; } old model desc = metadata manager . get data model desc ( mode name ) ; if ( old model desc = = null ) { return error request ( cube request , str + mode name + str ) ; } } if ( ! cube service . is cube desc editable ( desc ) ) { string error = str + desc . get name ( ) . to upper case ( ) + str ; return error request ( cube request , error ) ; } boolean update model success = false , update cube success = false ; try { if ( model desc ! = null ) { metadata manager . update data model desc ( model desc ) ; update model success = true ; } cube instance cube = cube service . get cube manager ( ) . get cube ( cube name ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; desc = cube service . update cube and desc ( cube , desc , project name ) ; project manager project manager = cube service . get project manager ( ) ; if ( ! cube service . is cube in project ( project name , cube ) ) { string owner = security context holder . get context ( ) . get authentication ( ) . get name ( ) ; project instance new project = project manager . move realization to project ( realization type . cube , cube . get name ( ) , project name , owner ) ; access service . inherit ( cube , new project ) ; } if ( desc . get error ( ) . is empty ( ) ) { cube request . set successful ( true ) ; update cube success = true ; } else { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; error request ( cube request , omit message ( desc . get error ( ) ) ) ; } } catch ( access denied exception access denied exception ) { throw new forbidden exception ( str ) ; } catch ( exception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } finally { if ( update model success = = true & & update cube success = = false ) { try { old model desc . set last modified ( model desc . get last modified ( ) ) ; metadata manager . update data model desc ( old model desc ) ; } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } } } string desc data = json util . write value as indent string ( desc ) ; cube request . set cube desc data ( desc data ) ; return cube request ; }", "new_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "put", "}", ")", "@", "response", "body", "public", "cube", "request", "update", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "throws", "json", "processing", "exception", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "cube", "name", "=", "cube", "request", ".", "get", "cube", "name", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "cube", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "metadata", "manager", "metadata", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "cube", "service", ".", "get", "config", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "null", ";", "data", "model", "desc", "old", "model", "desc", "=", "null", ";", "if", "(", "string", "utils", ".", "is", "not", "empty", "(", "cube", "request", ".", "get", "model", "desc", "data", "(", ")", ")", ")", "{", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "mode", "name", "=", "model", "desc", ".", "get", "name", "(", ")", ";", "if", "(", "!", "string", "utils", ".", "equals", "(", "desc", ".", "get", "model", "name", "(", ")", ",", "mode", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "desc", ".", "get", "model", "name", "(", ")", "+", "str", "+", "mode", "name", ")", ";", "}", "old", "model", "desc", "=", "metadata", "manager", ".", "get", "data", "model", "desc", "(", "mode", "name", ")", ";", "if", "(", "old", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "mode", "name", "+", "str", ")", ";", "}", "}", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "string", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ".", "to", "upper", "case", "(", ")", "+", "str", ";", "return", "error", "request", "(", "cube", "request", ",", "error", ")", ";", "}", "boolean", "update", "model", "success", "=", "false", ",", "update", "cube", "success", "=", "false", ";", "try", "{", "if", "(", "model", "desc", "!", "=", "null", ")", "{", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "update", "model", "success", "=", "true", ";", "}", "cube", "instance", "cube", "=", "cube", "service", ".", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "name", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "desc", "=", "cube", "service", ".", "update", "cube", "and", "desc", "(", "cube", ",", "desc", ",", "project", "name", ")", ";", "project", "manager", "project", "manager", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ";", "if", "(", "!", "cube", "service", ".", "is", "cube", "in", "project", "(", "project", "name", ",", "cube", ")", ")", "{", "string", "owner", "=", "security", "context", "holder", ".", "get", "context", "(", ")", ".", "get", "authentication", "(", ")", ".", "get", "name", "(", ")", ";", "project", "instance", "new", "project", "=", "project", "manager", ".", "move", "realization", "to", "project", "(", "realization", "type", ".", "cube", ",", "cube", ".", "get", "name", "(", ")", ",", "project", "name", ",", "owner", ")", ";", "access", "service", ".", "inherit", "(", "cube", ",", "new", "project", ")", ";", "}", "if", "(", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "update", "cube", "success", "=", "true", ";", "}", "else", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "error", "request", "(", "cube", "request", ",", "omit", "message", "(", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "}", "}", "catch", "(", "access", "denied", "exception", "access", "denied", "exception", ")", "{", "throw", "new", "forbidden", "exception", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "finally", "{", "if", "(", "update", "model", "success", "=", "=", "true", "&", "&", "update", "cube", "success", "=", "=", "false", ")", "{", "try", "{", "old", "model", "desc", ".", "set", "last", "modified", "(", "model", "desc", ".", "get", "last", "modified", "(", ")", ")", ";", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "old", "model", "desc", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "}", "string", "desc", "data", "=", "json", "util", ".", "write", "value", "as", "indent", "string", "(", "desc", ")", ";", "cube", "request", ".", "set", "cube", "desc", "data", "(", "desc", "data", ")", ";", "return", "cube", "request", ";", "}"], "span_diff_code": "<KEEP> @ request mapping ( value = str , method = { request method . put } ) @ response body public cube request update cube desc ( @ request body cube request cube request ) throws json processing exception { cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } final string cube name = <KEEP_END> <REPLACE_OLD> desc . get <REPLACE_NEW> cube request . get cube <REPLACE_END> <KEEP> name ( ) ; if ( string utils . is empty ( cube name ) ) { return error request ( cube request , str ) ; } metadata manager metadata manager = metadata manager . get instance ( <KEEP_END> <REPLACE_OLD> kylin <REPLACE_NEW> cube service . get <REPLACE_END> <KEEP> config <KEEP_END> <REPLACE_OLD> . get instance from env ( ) ) ; data model desc <REPLACE_NEW> ( ) ) ; data model desc model desc = null ; data model desc old <REPLACE_END> <KEEP> model desc = null ; if ( string utils . is not empty ( cube request . get model desc data ( ) ) ) { model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return cube request ; } final string mode name = model desc . get name ( ) ; if ( ! string utils . equals ( desc . get model name ( ) , mode name ) ) { return error request ( cube request , str + desc . get model name ( ) + str + mode name ) ; } <KEEP_END> <DELETE> data model desc <DELETE_END> <KEEP> old model desc = metadata manager . get data model desc ( mode name ) ; if ( old model desc = = null ) { return error request ( cube request , str + mode name + <KEEP_END> <DELETE> str ) ; } if ( ! model desc . compatible with ( old model desc ) ) { return error request ( cube request , <DELETE_END> <KEEP> str ) ; } } if ( ! cube service . is cube desc editable ( desc ) ) { string error = str + desc . get name ( ) . to upper case ( ) + str ; return error request ( cube request , error ) ; } <KEEP_END> <INSERT> boolean update model success = false , update cube success = false ; <INSERT_END> <KEEP> try { if ( model desc ! = null ) <KEEP_END> <INSERT> { <INSERT_END> <KEEP> metadata manager . update data model desc ( model desc ) ; <KEEP_END> <INSERT> update model success = true ; } <INSERT_END> <KEEP> cube instance cube = cube service . get cube manager ( ) . get cube ( cube name ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; desc = cube service . update cube and desc ( cube , desc , project name ) ; <KEEP_END> <INSERT> project manager project manager = cube service . get project manager ( ) ; if ( ! cube service . is cube in project ( project name , cube ) ) { string owner = security context holder . get context ( ) . get authentication ( ) . get name ( ) ; project instance new project = project manager . move realization to project ( realization type . cube , cube . get name ( ) , project name , owner ) ; access service . inherit ( cube , new project ) ; } if ( desc . get error ( ) . is empty ( ) ) { cube request . set successful ( true ) ; update cube success = true ; } else { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; error request ( cube request , omit message ( desc . get error ( ) ) ) ; } <INSERT_END> <KEEP> } catch ( access denied exception access denied exception ) { throw new forbidden exception ( str ) ; } catch ( exception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } <KEEP_END> <REPLACE_OLD> if ( desc . get error ( ) . is empty ( ) ) { cube request <REPLACE_NEW> finally { if ( update model success = = true & & update cube success = = false ) { try { old model desc <REPLACE_END> <KEEP> . set <KEEP_END> <REPLACE_OLD> successful ( true ) ; } else <REPLACE_NEW> last modified ( model desc . get last modified ( ) ) ; metadata manager . update data model desc ( old model desc ) ; } catch ( ioexception e ) <REPLACE_END> <KEEP> { logger . <KEEP_END> <REPLACE_OLD> warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; error request ( cube request , omit <REPLACE_NEW> error ( str + e . get localized <REPLACE_END> <KEEP> message ( <KEEP_END> <REPLACE_OLD> desc . get error ( ) ) ) ; <REPLACE_NEW> ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } } <REPLACE_END> <KEEP> } string desc data = json util . write value as indent string ( desc ) ; cube request . set cube desc data ( desc data ) ; return cube request ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "put", "}", ")", "@", "response", "body", "public", "cube", "request", "update", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "throws", "json", "processing", "exception", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "cube", "name", "=", "<KEEP_END>", "<REPLACE_OLD>", "desc", ".", "get", "<REPLACE_NEW>", "cube", "request", ".", "get", "cube", "<REPLACE_END>", "<KEEP>", "name", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "cube", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "metadata", "manager", "metadata", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "<KEEP_END>", "<REPLACE_OLD>", "kylin", "<REPLACE_NEW>", "cube", "service", ".", "get", "<REPLACE_END>", "<KEEP>", "config", "<KEEP_END>", "<REPLACE_OLD>", ".", "get", "instance", "from", "env", "(", ")", ")", ";", "data", "model", "desc", "<REPLACE_NEW>", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "null", ";", "data", "model", "desc", "old", "<REPLACE_END>", "<KEEP>", "model", "desc", "=", "null", ";", "if", "(", "string", "utils", ".", "is", "not", "empty", "(", "cube", "request", ".", "get", "model", "desc", "data", "(", ")", ")", ")", "{", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "mode", "name", "=", "model", "desc", ".", "get", "name", "(", ")", ";", "if", "(", "!", "string", "utils", ".", "equals", "(", "desc", ".", "get", "model", "name", "(", ")", ",", "mode", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "desc", ".", "get", "model", "name", "(", ")", "+", "str", "+", "mode", "name", ")", ";", "}", "<KEEP_END>", "<DELETE>", "data", "model", "desc", "<DELETE_END>", "<KEEP>", "old", "model", "desc", "=", "metadata", "manager", ".", "get", "data", "model", "desc", "(", "mode", "name", ")", ";", "if", "(", "old", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "mode", "name", "+", "<KEEP_END>", "<DELETE>", "str", ")", ";", "}", "if", "(", "!", "model", "desc", ".", "compatible", "with", "(", "old", "model", "desc", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "<DELETE_END>", "<KEEP>", "str", ")", ";", "}", "}", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "string", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ".", "to", "upper", "case", "(", ")", "+", "str", ";", "return", "error", "request", "(", "cube", "request", ",", "error", ")", ";", "}", "<KEEP_END>", "<INSERT>", "boolean", "update", "model", "success", "=", "false", ",", "update", "cube", "success", "=", "false", ";", "<INSERT_END>", "<KEEP>", "try", "{", "if", "(", "model", "desc", "!", "=", "null", ")", "<KEEP_END>", "<INSERT>", "{", "<INSERT_END>", "<KEEP>", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "<KEEP_END>", "<INSERT>", "update", "model", "success", "=", "true", ";", "}", "<INSERT_END>", "<KEEP>", "cube", "instance", "cube", "=", "cube", "service", ".", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "name", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "desc", "=", "cube", "service", ".", "update", "cube", "and", "desc", "(", "cube", ",", "desc", ",", "project", "name", ")", ";", "<KEEP_END>", "<INSERT>", "project", "manager", "project", "manager", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ";", "if", "(", "!", "cube", "service", ".", "is", "cube", "in", "project", "(", "project", "name", ",", "cube", ")", ")", "{", "string", "owner", "=", "security", "context", "holder", ".", "get", "context", "(", ")", ".", "get", "authentication", "(", ")", ".", "get", "name", "(", ")", ";", "project", "instance", "new", "project", "=", "project", "manager", ".", "move", "realization", "to", "project", "(", "realization", "type", ".", "cube", ",", "cube", ".", "get", "name", "(", ")", ",", "project", "name", ",", "owner", ")", ";", "access", "service", ".", "inherit", "(", "cube", ",", "new", "project", ")", ";", "}", "if", "(", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "update", "cube", "success", "=", "true", ";", "}", "else", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "error", "request", "(", "cube", "request", ",", "omit", "message", "(", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "}", "<INSERT_END>", "<KEEP>", "}", "catch", "(", "access", "denied", "exception", "access", "denied", "exception", ")", "{", "throw", "new", "forbidden", "exception", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "cube", "request", "<REPLACE_NEW>", "finally", "{", "if", "(", "update", "model", "success", "=", "=", "true", "&", "&", "update", "cube", "success", "=", "=", "false", ")", "{", "try", "{", "old", "model", "desc", "<REPLACE_END>", "<KEEP>", ".", "set", "<KEEP_END>", "<REPLACE_OLD>", "successful", "(", "true", ")", ";", "}", "else", "<REPLACE_NEW>", "last", "modified", "(", "model", "desc", ".", "get", "last", "modified", "(", ")", ")", ";", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "old", "model", "desc", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "<REPLACE_END>", "<KEEP>", "{", "logger", ".", "<KEEP_END>", "<REPLACE_OLD>", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "error", "request", "(", "cube", "request", ",", "omit", "<REPLACE_NEW>", "error", "(", "str", "+", "e", ".", "get", "localized", "<REPLACE_END>", "<KEEP>", "message", "(", "<KEEP_END>", "<REPLACE_OLD>", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "<REPLACE_NEW>", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "<REPLACE_END>", "<KEEP>", "}", "string", "desc", "data", "=", "json", "util", ".", "write", "value", "as", "indent", "string", "(", "desc", ")", ";", "cube", "request", ".", "set", "cube", "desc", "data", "(", "desc", "data", ")", ";", "return", "cube", "request", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> table metadata array <REPLACE_NEW> cube request cube change request <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "table", "metadata", "array", "<REPLACE_NEW>", "cube", "request", "cube", "change", "request", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "mapping", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "=", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", "@", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "public", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "update", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "body", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "json", "<KEEP>", "processing", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "deserialize", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "cube", "<KEEP>", "name", "<KEEP>", "=", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "cube", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "error", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<REPLACE_OLD>", "kylin", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "config", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "env", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "old", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "not", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "deserialize", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "mode", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "mode", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "error", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "model", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "mode", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "data", "<DELETE>", "model", "<DELETE>", "desc", "<KEEP>", "old", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "mode", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "error", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "mode", "<KEEP>", "name", "<KEEP>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "model", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "compatible", "<DELETE>", "with", "<DELETE>", "(", "<DELETE>", "old", "<DELETE>", "model", "<DELETE>", "desc", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "error", "<DELETE>", "request", "<DELETE>", "(", "<DELETE>", "cube", "<DELETE>", "request", "<DELETE>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "editable", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "error", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "upper", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "error", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "error", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "boolean", "<INSERT>", "update", "<INSERT>", "model", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ",", "<INSERT>", "update", "<INSERT>", "cube", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<INSERT>", "{", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "update", "<INSERT>", "model", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "cube", "<KEEP>", "instance", "<KEEP>", "cube", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cube", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cube", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "project", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "project", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "cube", "<KEEP>", "and", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", ",", "<KEEP>", "desc", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "project", "<INSERT>", "manager", "<INSERT>", "project", "<INSERT>", "manager", "<INSERT>", "=", "<INSERT>", "cube", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "project", "<INSERT>", "manager", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "cube", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "cube", "<INSERT>", "in", "<INSERT>", "project", "<INSERT>", "(", "<INSERT>", "project", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "cube", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "owner", "<INSERT>", "=", "<INSERT>", "security", "<INSERT>", "context", "<INSERT>", "holder", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "context", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "authentication", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "project", "<INSERT>", "instance", "<INSERT>", "new", "<INSERT>", "project", "<INSERT>", "=", "<INSERT>", "project", "<INSERT>", "manager", "<INSERT>", ".", "<INSERT>", "move", "<INSERT>", "realization", "<INSERT>", "to", "<INSERT>", "project", "<INSERT>", "(", "<INSERT>", "realization", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "cube", "<INSERT>", ",", "<INSERT>", "cube", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "project", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "owner", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "access", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "inherit", "<INSERT>", "(", "<INSERT>", "cube", "<INSERT>", ",", "<INSERT>", "new", "<INSERT>", "project", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "successful", "<INSERT>", "(", "<INSERT>", "true", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "update", "<INSERT>", "cube", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "warn", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "error", "<INSERT>", "request", "<INSERT>", "(", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ",", "<INSERT>", "omit", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "access", "<KEEP>", "denied", "<KEEP>", "exception", "<KEEP>", "access", "<KEEP>", "denied", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "forbidden", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "internal", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_NEW>", "finally", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "update", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "success", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "update", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "success", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "old", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<KEEP>", ".", "<KEEP>", "set", "<REPLACE_OLD>", "successful", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "modified", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "modified", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "update", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "old", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ioexception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<REPLACE_OLD>", "warn", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "omit", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "localized", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "json", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "value", "<KEEP>", "as", "<KEEP>", "indent", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "h4ck3rm1k3_josm-older-4-7418", "old_comment": "whether the segments matches ( in sense of \" be mergable \" ) .", "old_comment_tokens": ["whether", "the", "segments", "matches", "(", "in", "sense", "of", "\"", "be", "mergable", "\"", ")", "."], "new_comment": "whether the ways match ( in sense of \" be mergable \" ) .", "new_comment_tokens": ["whether", "the", "ways", "match", "(", "in", "sense", "of", "\"", "be", "mergable", "\"", ")", "."], "old_code": "private boolean match ( segment ls1 , segment ls2 ) { if ( ls1 . id = = ls2 . id & & ls1 . id ! = num ) return true ; if ( ls1 . incomplete | | ls2 . incomplete ) return false ; return match ( ls1 . from , ls2 . from ) & & match ( ls1 . to , ls2 . to ) ; }", "old_code_tokens": ["private", "boolean", "match", "(", "segment", "ls1", ",", "segment", "ls2", ")", "{", "if", "(", "ls1", ".", "id", "=", "=", "ls2", ".", "id", "&", "&", "ls1", ".", "id", "!", "=", "num", ")", "return", "true", ";", "if", "(", "ls1", ".", "incomplete", "|", "|", "ls2", ".", "incomplete", ")", "return", "false", ";", "return", "match", "(", "ls1", ".", "from", ",", "ls2", ".", "from", ")", "&", "&", "match", "(", "ls1", ".", "to", ",", "ls2", ".", "to", ")", ";", "}"], "new_code": "private boolean match ( way w1 , way w2 ) { if ( w1 . id = = num | | w2 . id = = num ) { if ( w1 . nodes . size ( ) ! = w2 . nodes . size ( ) ) return false ; iterator < node > it = w1 . nodes . iterator ( ) ; for ( node n : w2 . nodes ) if ( ! match ( n , it . next ( ) ) ) return false ; return true ; } return w1 . id = = w2 . id ; }", "new_code_tokens": ["private", "boolean", "match", "(", "way", "w1", ",", "way", "w2", ")", "{", "if", "(", "w1", ".", "id", "=", "=", "num", "|", "|", "w2", ".", "id", "=", "=", "num", ")", "{", "if", "(", "w1", ".", "nodes", ".", "size", "(", ")", "!", "=", "w2", ".", "nodes", ".", "size", "(", ")", ")", "return", "false", ";", "iterator", "<", "node", ">", "it", "=", "w1", ".", "nodes", ".", "iterator", "(", ")", ";", "for", "(", "node", "n", ":", "w2", ".", "nodes", ")", "if", "(", "!", "match", "(", "n", ",", "it", ".", "next", "(", ")", ")", ")", "return", "false", ";", "return", "true", ";", "}", "return", "w1", ".", "id", "=", "=", "w2", ".", "id", ";", "}"], "span_diff_code": "<KEEP> private boolean match ( <KEEP_END> <REPLACE_OLD> segment ls1 <REPLACE_NEW> way w1 <REPLACE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> segment ls2 <REPLACE_NEW> way w2 <REPLACE_END> <KEEP> ) { if ( <KEEP_END> <REPLACE_OLD> ls1 <REPLACE_NEW> w1 <REPLACE_END> <KEEP> . id = = <KEEP_END> <REPLACE_OLD> ls2 <REPLACE_NEW> num | | w2 <REPLACE_END> <KEEP> . id <KEEP_END> <REPLACE_OLD> & & ls1 . id ! <REPLACE_NEW> = <REPLACE_END> <KEEP> = num ) <KEEP_END> <REPLACE_OLD> return true ; <REPLACE_NEW> { <REPLACE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> ls1 <REPLACE_NEW> w1 <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> incomplete | | ls2 <REPLACE_NEW> nodes <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> incomplete <REPLACE_NEW> size ( ) ! = w2 . nodes . size ( ) ) return false ; iterator < node > it = w1 . nodes . iterator ( ) ; for ( node n : w2 . nodes ) if ( ! match ( n , it . next ( ) ) <REPLACE_END> <KEEP> ) return false ; return <KEEP_END> <REPLACE_OLD> match ( ls1 . from , ls2 . from ) & & match ( ls1 . to , ls2 . to ) <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> return w1 . id = = w2 . id ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "match", "(", "<KEEP_END>", "<REPLACE_OLD>", "segment", "ls1", "<REPLACE_NEW>", "way", "w1", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "segment", "ls2", "<REPLACE_NEW>", "way", "w2", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "ls1", "<REPLACE_NEW>", "w1", "<REPLACE_END>", "<KEEP>", ".", "id", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "ls2", "<REPLACE_NEW>", "num", "|", "|", "w2", "<REPLACE_END>", "<KEEP>", ".", "id", "<KEEP_END>", "<REPLACE_OLD>", "&", "&", "ls1", ".", "id", "!", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "=", "num", ")", "<KEEP_END>", "<REPLACE_OLD>", "return", "true", ";", "<REPLACE_NEW>", "{", "<REPLACE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "ls1", "<REPLACE_NEW>", "w1", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "incomplete", "|", "|", "ls2", "<REPLACE_NEW>", "nodes", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "incomplete", "<REPLACE_NEW>", "size", "(", ")", "!", "=", "w2", ".", "nodes", ".", "size", "(", ")", ")", "return", "false", ";", "iterator", "<", "node", ">", "it", "=", "w1", ".", "nodes", ".", "iterator", "(", ")", ";", "for", "(", "node", "n", ":", "w2", ".", "nodes", ")", "if", "(", "!", "match", "(", "n", ",", "it", ".", "next", "(", ")", ")", "<REPLACE_END>", "<KEEP>", ")", "return", "false", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "match", "(", "ls1", ".", "from", ",", "ls2", ".", "from", ")", "&", "&", "match", "(", "ls1", ".", "to", ",", "ls2", ".", "to", ")", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "return", "w1", ".", "id", "=", "=", "w2", ".", "id", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> segments matches <REPLACE_NEW> ways match <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "segments", "matches", "<REPLACE_NEW>", "ways", "match", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "match", "<KEEP>", "(", "<REPLACE_OLD>", "segment", "<REPLACE_OLD>", "ls1", "<REPLACE_NEW>", "way", "<REPLACE_NEW>", "w1", "<KEEP>", ",", "<REPLACE_OLD>", "segment", "<REPLACE_OLD>", "ls2", "<REPLACE_NEW>", "way", "<REPLACE_NEW>", "w2", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "ls1", "<REPLACE_NEW>", "w1", "<KEEP>", ".", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "ls2", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "w2", "<KEEP>", ".", "<KEEP>", "id", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "ls1", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "ls1", "<REPLACE_NEW>", "w1", "<KEEP>", ".", "<REPLACE_OLD>", "incomplete", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "ls2", "<REPLACE_NEW>", "nodes", "<KEEP>", ".", "<REPLACE_OLD>", "incomplete", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "w2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "nodes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "it", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "w1", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "nodes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "w2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "nodes", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "it", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "match", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ls1", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "ls2", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "match", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ls1", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "ls2", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "w1", "<INSERT>", ".", "<INSERT>", "id", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "w2", "<INSERT>", ".", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-avatica-115-5435", "old_comment": "list of set bits", "old_comment_tokens": ["list", "of", "set", "bits"], "new_comment": "array of set bits", "new_comment_tokens": ["array", "of", "set", "bits"], "old_code": "public static integer [ ] to array ( final bit set bit set ) { final list < integer > list = to list ( bit set ) ; return list . to array ( new integer [ list . size ( ) ] ) ; }", "old_code_tokens": ["public", "static", "integer", "[", "]", "to", "array", "(", "final", "bit", "set", "bit", "set", ")", "{", "final", "list", "<", "integer", ">", "list", "=", "to", "list", "(", "bit", "set", ")", ";", "return", "list", ".", "to", "array", "(", "new", "integer", "[", "list", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public static int [ ] to array ( final bit set bit set ) { final int [ ] integers = new int [ bit set . cardinality ( ) ] ; int j = num ; for ( int i = bit set . next set bit ( num ) ; i > = num ; i = bit set . next set bit ( i + num ) ) { integers [ j + + ] = i ; } return integers ; }", "new_code_tokens": ["public", "static", "int", "[", "]", "to", "array", "(", "final", "bit", "set", "bit", "set", ")", "{", "final", "int", "[", "]", "integers", "=", "new", "int", "[", "bit", "set", ".", "cardinality", "(", ")", "]", ";", "int", "j", "=", "num", ";", "for", "(", "int", "i", "=", "bit", "set", ".", "next", "set", "bit", "(", "num", ")", ";", "i", ">", "=", "num", ";", "i", "=", "bit", "set", ".", "next", "set", "bit", "(", "i", "+", "num", ")", ")", "{", "integers", "[", "j", "+", "+", "]", "=", "i", ";", "}", "return", "integers", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> int <REPLACE_END> <KEEP> [ ] to array ( final bit set bit set ) { final <KEEP_END> <REPLACE_OLD> list < integer > list <REPLACE_NEW> int [ ] integers <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> to list ( <REPLACE_NEW> new int [ <REPLACE_END> <KEEP> bit set <KEEP_END> <DELETE> ) ; return list <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> to array ( new integer [ list . size <REPLACE_NEW> cardinality <REPLACE_END> <KEEP> ( ) ] <KEEP_END> <INSERT> ; int j = num ; for ( int i = bit set . next set bit ( num <INSERT_END> <KEEP> ) ; <KEEP_END> <INSERT> i > = num ; i = bit set . next set bit ( i + num ) ) { integers [ j + + ] = i ; <INSERT_END> <KEEP> } <KEEP_END> <INSERT> return integers ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "[", "]", "to", "array", "(", "final", "bit", "set", "bit", "set", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "integer", ">", "list", "<REPLACE_NEW>", "int", "[", "]", "integers", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "to", "list", "(", "<REPLACE_NEW>", "new", "int", "[", "<REPLACE_END>", "<KEEP>", "bit", "set", "<KEEP_END>", "<DELETE>", ")", ";", "return", "list", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "to", "array", "(", "new", "integer", "[", "list", ".", "size", "<REPLACE_NEW>", "cardinality", "<REPLACE_END>", "<KEEP>", "(", ")", "]", "<KEEP_END>", "<INSERT>", ";", "int", "j", "=", "num", ";", "for", "(", "int", "i", "=", "bit", "set", ".", "next", "set", "bit", "(", "num", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "i", ">", "=", "num", ";", "i", "=", "bit", "set", ".", "next", "set", "bit", "(", "i", "+", "num", ")", ")", "{", "integers", "[", "j", "+", "+", "]", "=", "i", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<INSERT>", "return", "integers", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> array <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "array", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "bit", "<KEEP>", "set", "<KEEP>", "bit", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "integers", "<KEEP>", "=", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "[", "<KEEP>", "bit", "<KEEP>", "set", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "list", "<KEEP>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "cardinality", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<INSERT>", ";", "<INSERT>", "int", "<INSERT>", "j", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "int", "<INSERT>", "i", "<INSERT>", "=", "<INSERT>", "bit", "<INSERT>", "set", "<INSERT>", ".", "<INSERT>", "next", "<INSERT>", "set", "<INSERT>", "bit", "<INSERT>", "(", "<INSERT>", "num", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "i", "<INSERT>", ">", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "i", "<INSERT>", "=", "<INSERT>", "bit", "<INSERT>", "set", "<INSERT>", ".", "<INSERT>", "next", "<INSERT>", "set", "<INSERT>", "bit", "<INSERT>", "(", "<INSERT>", "i", "<INSERT>", "+", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "integers", "<INSERT>", "[", "<INSERT>", "j", "<INSERT>", "+", "<INSERT>", "+", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "i", "<INSERT>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "integers", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_giraph-154-5645", "old_comment": "profiler context", "old_comment_tokens": ["profiler", "context"], "new_comment": "profiler context , or null if controller cannot be created", "new_comment_tokens": ["profiler", "context", ",", "or", "null", "if", "controller", "cannot", "be", "created"], "old_code": "public static your kit context start profile ( giraph configuration conf ) { controller controller = null ; try { controller = new controller ( ) ; controller . enable stack telemetry ( ) ; controller . start cpuprofiling ( profiling modes . cpu _ sampling , controller . default _ filters ) ; log . debug ( str ) ; } catch ( exception e ) { log . debug ( str , e ) ; } return new your kit context ( controller ) ; }", "old_code_tokens": ["public", "static", "your", "kit", "context", "start", "profile", "(", "giraph", "configuration", "conf", ")", "{", "controller", "controller", "=", "null", ";", "try", "{", "controller", "=", "new", "controller", "(", ")", ";", "controller", ".", "enable", "stack", "telemetry", "(", ")", ";", "controller", ".", "start", "cpuprofiling", "(", "profiling", "modes", ".", "cpu", "_", "sampling", ",", "controller", ".", "default", "_", "filters", ")", ";", "log", ".", "debug", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "debug", "(", "str", ",", "e", ")", ";", "}", "return", "new", "your", "kit", "context", "(", "controller", ")", ";", "}"], "new_code": "public static your kit context start profile ( boolean enable stack telemetry , boolean enable cpuprofilling , boolean enable allocation recording ) { controller controller ; try { controller = new controller ( ) ; } catch ( exception e ) { log . info ( str , e ) ; return null ; } try { if ( enable stack telemetry ) { controller . enable stack telemetry ( ) ; log . info ( str ) ; } } catch ( exception e ) { log . info ( str , e ) ; } try { if ( enable cpuprofilling ) { controller . start cpuprofiling ( profiling modes . cpu _ sampling , controller . default _ filters , controller . default _ walltime _ spec ) ; log . info ( str ) ; } } catch ( exception e ) { log . info ( str , e ) ; } try { if ( enable allocation recording ) { controller . start allocation recording ( true , allocation _ recording _ interval , false , - num , true , false ) ; log . info ( str ) ; } } catch ( exception e ) { log . info ( str , e ) ; } return new your kit context ( controller ) ; }", "new_code_tokens": ["public", "static", "your", "kit", "context", "start", "profile", "(", "boolean", "enable", "stack", "telemetry", ",", "boolean", "enable", "cpuprofilling", ",", "boolean", "enable", "allocation", "recording", ")", "{", "controller", "controller", ";", "try", "{", "controller", "=", "new", "controller", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "return", "null", ";", "}", "try", "{", "if", "(", "enable", "stack", "telemetry", ")", "{", "controller", ".", "enable", "stack", "telemetry", "(", ")", ";", "log", ".", "info", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "}", "try", "{", "if", "(", "enable", "cpuprofilling", ")", "{", "controller", ".", "start", "cpuprofiling", "(", "profiling", "modes", ".", "cpu", "_", "sampling", ",", "controller", ".", "default", "_", "filters", ",", "controller", ".", "default", "_", "walltime", "_", "spec", ")", ";", "log", ".", "info", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "}", "try", "{", "if", "(", "enable", "allocation", "recording", ")", "{", "controller", ".", "start", "allocation", "recording", "(", "true", ",", "allocation", "_", "recording", "_", "interval", ",", "false", ",", "-", "num", ",", "true", ",", "false", ")", ";", "log", ".", "info", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "}", "return", "new", "your", "kit", "context", "(", "controller", ")", ";", "}"], "span_diff_code": "<KEEP> public static your kit context start profile ( <KEEP_END> <REPLACE_OLD> giraph configuration conf ) { controller controller = null <REPLACE_NEW> boolean enable stack telemetry , boolean enable cpuprofilling , boolean enable allocation recording ) { controller controller <REPLACE_END> <KEEP> ; try { controller = new controller ( ) ; <KEEP_END> <REPLACE_OLD> controller . <REPLACE_NEW> } catch ( exception e ) { log . info ( str , e ) ; return null ; } try { if ( <REPLACE_END> <KEEP> enable stack telemetry <KEEP_END> <REPLACE_OLD> ( ) ; <REPLACE_NEW> ) { controller . enable stack telemetry ( ) ; log . info ( str ) ; } } catch ( exception e ) { log . info ( str , e ) ; } try { if ( enable cpuprofilling ) { <REPLACE_END> <KEEP> controller . start cpuprofiling ( profiling modes . cpu _ sampling , controller . default _ filters <KEEP_END> <REPLACE_OLD> ) ; log . debug ( str ) ; } catch ( exception e ) { log . debug <REPLACE_NEW> , controller . default _ walltime _ spec ) ; log . info ( str ) ; } } catch ( exception e ) { log . info ( str , e ) ; } try { if ( enable allocation recording ) { controller . start allocation recording ( true , allocation _ recording _ interval , false , - num , true , false ) ; log . info ( str ) ; } } catch ( exception e ) { log . info <REPLACE_END> <KEEP> ( str , e ) ; } return new your kit context ( controller ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "your", "kit", "context", "start", "profile", "(", "<KEEP_END>", "<REPLACE_OLD>", "giraph", "configuration", "conf", ")", "{", "controller", "controller", "=", "null", "<REPLACE_NEW>", "boolean", "enable", "stack", "telemetry", ",", "boolean", "enable", "cpuprofilling", ",", "boolean", "enable", "allocation", "recording", ")", "{", "controller", "controller", "<REPLACE_END>", "<KEEP>", ";", "try", "{", "controller", "=", "new", "controller", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "controller", ".", "<REPLACE_NEW>", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "return", "null", ";", "}", "try", "{", "if", "(", "<REPLACE_END>", "<KEEP>", "enable", "stack", "telemetry", "<KEEP_END>", "<REPLACE_OLD>", "(", ")", ";", "<REPLACE_NEW>", ")", "{", "controller", ".", "enable", "stack", "telemetry", "(", ")", ";", "log", ".", "info", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "}", "try", "{", "if", "(", "enable", "cpuprofilling", ")", "{", "<REPLACE_END>", "<KEEP>", "controller", ".", "start", "cpuprofiling", "(", "profiling", "modes", ".", "cpu", "_", "sampling", ",", "controller", ".", "default", "_", "filters", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "log", ".", "debug", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "debug", "<REPLACE_NEW>", ",", "controller", ".", "default", "_", "walltime", "_", "spec", ")", ";", "log", ".", "info", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "(", "str", ",", "e", ")", ";", "}", "try", "{", "if", "(", "enable", "allocation", "recording", ")", "{", "controller", ".", "start", "allocation", "recording", "(", "true", ",", "allocation", "_", "recording", "_", "interval", ",", "false", ",", "-", "num", ",", "true", ",", "false", ")", ";", "log", ".", "info", "(", "str", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "info", "<REPLACE_END>", "<KEEP>", "(", "str", ",", "e", ")", ";", "}", "return", "new", "your", "kit", "context", "(", "controller", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> context <INSERT_NEW_KEEP_BEFORE> context , or null if controller cannot be created <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "context", "<INSERT_NEW_KEEP_BEFORE>", "context", ",", "or", "null", "if", "controller", "cannot", "be", "created", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "your", "<KEEP>", "kit", "<KEEP>", "context", "<KEEP>", "start", "<KEEP>", "profile", "<KEEP>", "(", "<REPLACE_OLD>", "giraph", "<REPLACE_OLD>", "configuration", "<REPLACE_OLD>", "conf", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "controller", "<REPLACE_OLD>", "controller", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "enable", "<REPLACE_NEW>", "stack", "<REPLACE_NEW>", "telemetry", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "enable", "<REPLACE_NEW>", "cpuprofilling", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "enable", "<REPLACE_NEW>", "allocation", "<REPLACE_NEW>", "recording", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "controller", "<REPLACE_NEW>", "controller", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "controller", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "controller", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "controller", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "enable", "<KEEP>", "stack", "<KEEP>", "telemetry", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "controller", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "enable", "<REPLACE_NEW>", "stack", "<REPLACE_NEW>", "telemetry", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "enable", "<REPLACE_NEW>", "cpuprofilling", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "start", "<KEEP>", "cpuprofiling", "<KEEP>", "(", "<KEEP>", "profiling", "<KEEP>", "modes", "<KEEP>", ".", "<KEEP>", "cpu", "<KEEP>", "_", "<KEEP>", "sampling", "<KEEP>", ",", "<KEEP>", "controller", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "filters", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "controller", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "walltime", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "spec", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "enable", "<REPLACE_NEW>", "allocation", "<REPLACE_NEW>", "recording", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "controller", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "start", "<REPLACE_NEW>", "allocation", "<REPLACE_NEW>", "recording", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "allocation", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "recording", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "interval", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "your", "<KEEP>", "kit", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", "controller", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "stanfordnlp_CoreNLP-230-3306", "old_comment": "sentence index or const # nonexist if stack doesn ' t have an element at this index", "old_comment_tokens": ["sentence", "index", "or", "const", "#", "nonexist", "if", "stack", "doesn", "'", "t", "have", "an", "element", "at", "this", "index"], "new_comment": "sentence index or config # nonexist if stack doesn ' t have an element at this index", "new_comment_tokens": ["sentence", "index", "or", "config", "#", "nonexist", "if", "stack", "doesn", "'", "t", "have", "an", "element", "at", "this", "index"], "old_code": "public int get stack ( int k ) { int n stack = get stack size ( ) ; return ( k > = num & & k < n stack ) ? stack . get ( n stack - num - k ) : const . nonexist ; }", "old_code_tokens": ["public", "int", "get", "stack", "(", "int", "k", ")", "{", "int", "n", "stack", "=", "get", "stack", "size", "(", ")", ";", "return", "(", "k", ">", "=", "num", "&", "&", "k", "<", "n", "stack", ")", "?", "stack", ".", "get", "(", "n", "stack", "-", "num", "-", "k", ")", ":", "const", ".", "nonexist", ";", "}"], "new_code": "public int get stack ( int k ) { int n stack = get stack size ( ) ; return ( k > = num & & k < n stack ) ? stack . get ( n stack - num - k ) : config . nonexist ; }", "new_code_tokens": ["public", "int", "get", "stack", "(", "int", "k", ")", "{", "int", "n", "stack", "=", "get", "stack", "size", "(", ")", ";", "return", "(", "k", ">", "=", "num", "&", "&", "k", "<", "n", "stack", ")", "?", "stack", ".", "get", "(", "n", "stack", "-", "num", "-", "k", ")", ":", "config", ".", "nonexist", ";", "}"], "span_diff_code": "<KEEP> public int get stack ( int k ) { int n stack = get stack size ( ) ; return ( k > = num & & k < n stack ) ? stack . get ( n stack - num - k ) : <KEEP_END> <REPLACE_OLD> const <REPLACE_NEW> config <REPLACE_END> <KEEP> . nonexist ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "stack", "(", "int", "k", ")", "{", "int", "n", "stack", "=", "get", "stack", "size", "(", ")", ";", "return", "(", "k", ">", "=", "num", "&", "&", "k", "<", "n", "stack", ")", "?", "stack", ".", "get", "(", "n", "stack", "-", "num", "-", "k", ")", ":", "<KEEP_END>", "<REPLACE_OLD>", "const", "<REPLACE_NEW>", "config", "<REPLACE_END>", "<KEEP>", ".", "nonexist", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> const <REPLACE_NEW> config <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "const", "<REPLACE_NEW>", "config", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "stack", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "k", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "n", "<KEEP>", "stack", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "stack", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "k", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "k", "<KEEP>", "<", "<KEEP>", "n", "<KEEP>", "stack", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "stack", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "n", "<KEEP>", "stack", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", "-", "<KEEP>", "k", "<KEEP>", ")", "<KEEP>", ":", "<REPLACE_OLD>", "const", "<REPLACE_NEW>", "config", "<KEEP>", ".", "<KEEP>", "nonexist", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_bullet-storm-1-4985", "old_comment": "a list of the combined bullet record so far . the list has a size that is at most the maximum specified by the aggregation .", "old_comment_tokens": ["a", "list", "of", "the", "combined", "bullet", "record", "so", "far", ".", "the", "list", "has", "a", "size", "that", "is", "at", "most", "the", "maximum", "specified", "by", "the", "aggregation", "."], "new_comment": "a clip of the combined records so far . the records have a size that is at most the maximum specified by the aggregation .", "new_comment_tokens": ["a", "clip", "of", "the", "combined", "records", "so", "far", ".", "the", "records", "have", "a", "size", "that", "is", "at", "most", "the", "maximum", "specified", "by", "the", "aggregation", "."], "old_code": "@ override public list < bullet record > get aggregation ( ) { return aggregate ; }", "old_code_tokens": ["@", "override", "public", "list", "<", "bullet", "record", ">", "get", "aggregation", "(", ")", "{", "return", "aggregate", ";", "}"], "new_code": "@ override public clip get aggregation ( ) { return clip . of ( aggregate ) ; }", "new_code_tokens": ["@", "override", "public", "clip", "get", "aggregation", "(", ")", "{", "return", "clip", ".", "of", "(", "aggregate", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public <KEEP_END> <REPLACE_OLD> list < bullet record > <REPLACE_NEW> clip <REPLACE_END> <KEEP> get aggregation ( ) { return <KEEP_END> <INSERT> clip . of ( <INSERT_END> <KEEP> aggregate <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "bullet", "record", ">", "<REPLACE_NEW>", "clip", "<REPLACE_END>", "<KEEP>", "get", "aggregation", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "clip", ".", "of", "(", "<INSERT_END>", "<KEEP>", "aggregate", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> a list <REPLACE_NEW_KEEP_BEFORE> a clip <REPLACE_END> <REPLACE_OLD> bullet record <REPLACE_NEW> records <REPLACE_END> <REPLACE_OLD> list has <REPLACE_NEW> records have <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "a", "list", "<REPLACE_NEW_KEEP_BEFORE>", "a", "clip", "<REPLACE_END>", "<REPLACE_OLD>", "bullet", "record", "<REPLACE_NEW>", "records", "<REPLACE_END>", "<REPLACE_OLD>", "list", "has", "<REPLACE_NEW>", "records", "have", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "bullet", "<REPLACE_OLD>", "record", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "clip", "<KEEP>", "get", "<KEEP>", "aggregation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "clip", "<INSERT>", ".", "<INSERT>", "of", "<INSERT>", "(", "<KEEP>", "aggregate", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "udayinfy_owasp-esapi-java-64-6727", "old_comment": "the user account name . \" & lt ; anonymous & gt ; \" is returned if # set user account name ( string ) was never called .", "old_comment_tokens": ["the", "user", "account", "name", ".", "\"", "&", "lt", ";", "anonymous", "&", "gt", ";", "\"", "is", "returned", "if", "#", "set", "user", "account", "name", "(", "string", ")", "was", "never", "called", "."], "new_comment": "the user account name . the string represented by # anonymous _ user is returned if # set user account name ( string ) was never called .", "new_comment_tokens": ["the", "user", "account", "name", ".", "the", "string", "represented", "by", "#", "anonymous", "_", "user", "is", "returned", "if", "#", "set", "user", "account", "name", "(", "string", ")", "was", "never", "called", "."], "old_code": "public string get user account name ( ) { return username ; }", "old_code_tokens": ["public", "string", "get", "user", "account", "name", "(", ")", "{", "return", "username", ";", "}"], "new_code": "public string get user account name ( ) { return ( ( username ! = null ) ? username : anonymous _ user ) ; }", "new_code_tokens": ["public", "string", "get", "user", "account", "name", "(", ")", "{", "return", "(", "(", "username", "!", "=", "null", ")", "?", "username", ":", "anonymous", "_", "user", ")", ";", "}"], "span_diff_code": "<KEEP> public string get user account name ( ) { return <KEEP_END> <INSERT> ( ( <INSERT_END> <KEEP> username <KEEP_END> <INSERT> ! = null ) ? username : anonymous _ user ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "user", "account", "name", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "(", "(", "<INSERT_END>", "<KEEP>", "username", "<KEEP_END>", "<INSERT>", "!", "=", "null", ")", "?", "username", ":", "anonymous", "_", "user", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> \" & lt ; <REPLACE_NEW> the string represented by # <REPLACE_END> <REPLACE_OLD> & gt ; \" <REPLACE_NEW> _ user <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "\"", "&", "lt", ";", "<REPLACE_NEW>", "the", "string", "represented", "by", "#", "<REPLACE_END>", "<REPLACE_OLD>", "&", "gt", ";", "\"", "<REPLACE_NEW>", "_", "user", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "account", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "(", "<INSERT>", "(", "<KEEP>", "username", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "?", "<INSERT>", "username", "<INSERT>", ":", "<INSERT>", "anonymous", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Qihoo360_RePlugin-7-918", "old_comment": "the validated collection ( never null for chaining )", "old_comment_tokens": ["the", "validated", "collection", "(", "never", "null", "for", "chaining", ")"], "new_comment": "the validated character sequence ( never null for method chaining )", "new_comment_tokens": ["the", "validated", "character", "sequence", "(", "never", "null", "for", "method", "chaining", ")"], "old_code": "public static < t extends collection < ? > > t valid index ( final t collection , final int index , final string message , final object . . . values ) { validate . not null ( collection ) ; if ( index < num | | index > = collection . size ( ) ) { throw new index out of bounds exception ( string . format ( message , values ) ) ; } return collection ; }", "old_code_tokens": ["public", "static", "<", "t", "extends", "collection", "<", "?", ">", ">", "t", "valid", "index", "(", "final", "t", "collection", ",", "final", "int", "index", ",", "final", "string", "message", ",", "final", "object", ".", ".", ".", "values", ")", "{", "validate", ".", "not", "null", "(", "collection", ")", ";", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "collection", ".", "size", "(", ")", ")", "{", "throw", "new", "index", "out", "of", "bounds", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "return", "collection", ";", "}"], "new_code": "public static < t extends char sequence > t valid index ( final t chars , final int index , final string message , final object . . . values ) { validate . not null ( chars ) ; if ( index < num | | index > = chars . length ( ) ) { throw new index out of bounds exception ( string . format ( message , values ) ) ; } return chars ; }", "new_code_tokens": ["public", "static", "<", "t", "extends", "char", "sequence", ">", "t", "valid", "index", "(", "final", "t", "chars", ",", "final", "int", "index", ",", "final", "string", "message", ",", "final", "object", ".", ".", ".", "values", ")", "{", "validate", ".", "not", "null", "(", "chars", ")", ";", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "chars", ".", "length", "(", ")", ")", "{", "throw", "new", "index", "out", "of", "bounds", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "return", "chars", ";", "}"], "span_diff_code": "<KEEP> public static < t extends <KEEP_END> <REPLACE_OLD> collection < ? > <REPLACE_NEW> char sequence <REPLACE_END> <KEEP> > t valid index ( final t <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> , final int index , final string message , final object . . . values ) { validate . not null ( <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> ) ; if ( index < num | | index > = <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> size <REPLACE_NEW> length <REPLACE_END> <KEEP> ( ) ) { throw new index out of bounds exception ( string . format ( message , values ) ) ; } return <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "t", "extends", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<", "?", ">", "<REPLACE_NEW>", "char", "sequence", "<REPLACE_END>", "<KEEP>", ">", "t", "valid", "index", "(", "final", "t", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ",", "final", "int", "index", ",", "final", "string", "message", ",", "final", "object", ".", ".", ".", "values", ")", "{", "validate", ".", "not", "null", "(", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ")", ";", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "length", "<REPLACE_END>", "<KEEP>", "(", ")", ")", "{", "throw", "new", "index", "out", "of", "bounds", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> character sequence <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> for <INSERT_NEW_KEEP_BEFORE> for method <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "character", "sequence", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "for", "<INSERT_NEW_KEEP_BEFORE>", "for", "method", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", "extends", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "char", "<REPLACE_NEW>", "sequence", "<KEEP>", ">", "<KEEP>", "t", "<KEEP>", "valid", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "t", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "validate", "<KEEP>", ".", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "index", "<KEEP>", ">", "<KEEP>", "=", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ".", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "index", "<KEEP>", "out", "<KEEP>", "of", "<KEEP>", "bounds", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "galderz_rhq-58-3970", "old_comment": "the mapping that was removed or null if the resource was not subscribed to this channel", "old_comment_tokens": ["the", "mapping", "that", "was", "removed", "or", "null", "if", "the", "resource", "was", "not", "subscribed", "to", "this", "channel"], "new_comment": "the mapping that was removed or null if the resource was not subscribed to this repo", "new_comment_tokens": ["the", "mapping", "that", "was", "removed", "or", "null", "if", "the", "resource", "was", "not", "subscribed", "to", "this", "repo"], "old_code": "public resource channel remove resource ( resource resource ) { if ( ( this . resource channels = = null ) | | ( resource = = null ) ) { return null ; } resource channel doomed = null ; for ( resource channel rc : this . resource channels ) { if ( resource . equals ( rc . get resource channel pk ( ) . get resource ( ) ) ) { doomed = rc ; break ; } } if ( doomed ! = null ) { this . resource channels . remove ( doomed ) ; } return doomed ; }", "old_code_tokens": ["public", "resource", "channel", "remove", "resource", "(", "resource", "resource", ")", "{", "if", "(", "(", "this", ".", "resource", "channels", "=", "=", "null", ")", "|", "|", "(", "resource", "=", "=", "null", ")", ")", "{", "return", "null", ";", "}", "resource", "channel", "doomed", "=", "null", ";", "for", "(", "resource", "channel", "rc", ":", "this", ".", "resource", "channels", ")", "{", "if", "(", "resource", ".", "equals", "(", "rc", ".", "get", "resource", "channel", "pk", "(", ")", ".", "get", "resource", "(", ")", ")", ")", "{", "doomed", "=", "rc", ";", "break", ";", "}", "}", "if", "(", "doomed", "!", "=", "null", ")", "{", "this", ".", "resource", "channels", ".", "remove", "(", "doomed", ")", ";", "}", "return", "doomed", ";", "}"], "new_code": "public resource repo remove resource ( resource resource ) { if ( ( this . resource repos = = null ) | | ( resource = = null ) ) { return null ; } resource repo doomed = null ; for ( resource repo rc : this . resource repos ) { if ( resource . equals ( rc . get resource repo pk ( ) . get resource ( ) ) ) { doomed = rc ; break ; } } if ( doomed ! = null ) { this . resource repos . remove ( doomed ) ; } return doomed ; }", "new_code_tokens": ["public", "resource", "repo", "remove", "resource", "(", "resource", "resource", ")", "{", "if", "(", "(", "this", ".", "resource", "repos", "=", "=", "null", ")", "|", "|", "(", "resource", "=", "=", "null", ")", ")", "{", "return", "null", ";", "}", "resource", "repo", "doomed", "=", "null", ";", "for", "(", "resource", "repo", "rc", ":", "this", ".", "resource", "repos", ")", "{", "if", "(", "resource", ".", "equals", "(", "rc", ".", "get", "resource", "repo", "pk", "(", ")", ".", "get", "resource", "(", ")", ")", ")", "{", "doomed", "=", "rc", ";", "break", ";", "}", "}", "if", "(", "doomed", "!", "=", "null", ")", "{", "this", ".", "resource", "repos", ".", "remove", "(", "doomed", ")", ";", "}", "return", "doomed", ";", "}"], "span_diff_code": "<KEEP> public resource <KEEP_END> <REPLACE_OLD> channel <REPLACE_NEW> repo <REPLACE_END> <KEEP> remove resource ( resource resource ) { if ( ( this . resource <KEEP_END> <REPLACE_OLD> channels <REPLACE_NEW> repos <REPLACE_END> <KEEP> = = null ) | | ( resource = = null ) ) { return null ; } resource <KEEP_END> <REPLACE_OLD> channel <REPLACE_NEW> repo <REPLACE_END> <KEEP> doomed = null ; for ( resource <KEEP_END> <REPLACE_OLD> channel <REPLACE_NEW> repo <REPLACE_END> <KEEP> rc : this . resource <KEEP_END> <REPLACE_OLD> channels <REPLACE_NEW> repos <REPLACE_END> <KEEP> ) { if ( resource . equals ( rc . get resource <KEEP_END> <REPLACE_OLD> channel <REPLACE_NEW> repo <REPLACE_END> <KEEP> pk ( ) . get resource ( ) ) ) { doomed = rc ; break ; } } if ( doomed ! = null ) { this . resource <KEEP_END> <REPLACE_OLD> channels <REPLACE_NEW> repos <REPLACE_END> <KEEP> . remove ( doomed ) ; } return doomed ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "remove", "resource", "(", "resource", "resource", ")", "{", "if", "(", "(", "this", ".", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channels", "<REPLACE_NEW>", "repos", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "|", "|", "(", "resource", "=", "=", "null", ")", ")", "{", "return", "null", ";", "}", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "doomed", "=", "null", ";", "for", "(", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "rc", ":", "this", ".", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channels", "<REPLACE_NEW>", "repos", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "resource", ".", "equals", "(", "rc", ".", "get", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<REPLACE_END>", "<KEEP>", "pk", "(", ")", ".", "get", "resource", "(", ")", ")", ")", "{", "doomed", "=", "rc", ";", "break", ";", "}", "}", "if", "(", "doomed", "!", "=", "null", ")", "{", "this", ".", "resource", "<KEEP_END>", "<REPLACE_OLD>", "channels", "<REPLACE_NEW>", "repos", "<REPLACE_END>", "<KEEP>", ".", "remove", "(", "doomed", ")", ";", "}", "return", "doomed", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> channel <REPLACE_NEW> repo <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "resource", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<KEEP>", "remove", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "resource", "<REPLACE_OLD>", "channels", "<REPLACE_NEW>", "repos", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "resource", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<KEEP>", "doomed", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "resource", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<KEEP>", "rc", "<KEEP>", ":", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "resource", "<REPLACE_OLD>", "channels", "<REPLACE_NEW>", "repos", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "rc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<REPLACE_OLD>", "channel", "<REPLACE_NEW>", "repo", "<KEEP>", "pk", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "doomed", "<KEEP>", "=", "<KEEP>", "rc", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "doomed", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "resource", "<REPLACE_OLD>", "channels", "<REPLACE_NEW>", "repos", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "doomed", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "doomed", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_qpid-jms-15-5341", "old_comment": "the annotation type value , or null if the supplied destination is null or can ' t be classified", "old_comment_tokens": ["the", "annotation", "type", "value", ",", "or", "null", "if", "the", "supplied", "destination", "is", "null", "or", "can", "'", "t", "be", "classified"], "new_comment": "the annotation type value , or amqp destination helper # unknown _ type if the supplied destination null or can ' t be classified", "new_comment_tokens": ["the", "annotation", "type", "value", ",", "or", "amqp", "destination", "helper", "#", "unknown", "_", "type", "if", "the", "supplied", "destination", "null", "or", "can", "'", "t", "be", "classified"], "old_code": "private object to type annotation ( jms destination destination ) { if ( destination = = null ) { return null ; } if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ type ; } else { return queue _ type ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ type ; } else { return topic _ type ; } } return null ; }", "old_code_tokens": ["private", "object", "to", "type", "annotation", "(", "jms", "destination", "destination", ")", "{", "if", "(", "destination", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "type", ";", "}", "else", "{", "return", "queue", "_", "type", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "type", ";", "}", "else", "{", "return", "topic", "_", "type", ";", "}", "}", "return", "null", ";", "}"], "new_code": "private byte to type annotation ( jms destination destination ) { if ( destination = = null ) { return unknown _ type ; } if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ type ; } else { return queue _ type ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ type ; } else { return topic _ type ; } } return unknown _ type ; }", "new_code_tokens": ["private", "byte", "to", "type", "annotation", "(", "jms", "destination", "destination", ")", "{", "if", "(", "destination", "=", "=", "null", ")", "{", "return", "unknown", "_", "type", ";", "}", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "type", ";", "}", "else", "{", "return", "queue", "_", "type", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "type", ";", "}", "else", "{", "return", "topic", "_", "type", ";", "}", "}", "return", "unknown", "_", "type", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> object <REPLACE_NEW> byte <REPLACE_END> <KEEP> to type annotation ( jms destination destination ) { if ( destination = = null ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> unknown _ type <REPLACE_END> <KEEP> ; } if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ type ; } else { return queue _ type ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ type ; } else { return topic _ type ; } } return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> unknown _ type <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "byte", "<REPLACE_END>", "<KEEP>", "to", "type", "annotation", "(", "jms", "destination", "destination", ")", "{", "if", "(", "destination", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "unknown", "_", "type", "<REPLACE_END>", "<KEEP>", ";", "}", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "type", ";", "}", "else", "{", "return", "queue", "_", "type", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "type", ";", "}", "else", "{", "return", "topic", "_", "type", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "unknown", "_", "type", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> or null <REPLACE_NEW_KEEP_BEFORE> or amqp destination helper # unknown _ type <REPLACE_END> <DELETE> is <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "or", "null", "<REPLACE_NEW_KEEP_BEFORE>", "or", "amqp", "destination", "helper", "#", "unknown", "_", "type", "<REPLACE_END>", "<DELETE>", "is", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "byte", "<KEEP>", "to", "<KEEP>", "type", "<KEEP>", "annotation", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "destination", "<KEEP>", "destination", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "unknown", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "type", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "queue", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "temporary", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "temp", "<KEEP>", "_", "<KEEP>", "queue", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "queue", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "topic", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "temporary", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "temp", "<KEEP>", "_", "<KEEP>", "topic", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "topic", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "unknown", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "type", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-19-6955", "old_comment": "a hashtable representation of a workflow instance .", "old_comment_tokens": ["a", "hashtable", "representation", "of", "a", "workflow", "instance", "."], "new_comment": "a hash map representation of a workflow instance .", "new_comment_tokens": ["a", "hash", "map", "representation", "of", "a", "workflow", "instance", "."], "old_code": "public static hashtable get xml rpc workflow instance ( workflow instance w inst ) { hashtable workflow instance = new hashtable ( ) ; workflow instance . put ( str , w inst . get current task id ( ) ) ; workflow instance . put ( str , w inst . get status ( ) ) ; workflow instance . put ( str , w inst . get id ( ) ) ; workflow instance . put ( str , get xml rpc workflow ( w inst . get workflow ( ) ) ) ; workflow instance . put ( str , w inst . get start date time iso str ( ) ! = null ? w inst . get start date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get end date time iso str ( ) ! = null ? w inst . get end date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get current task start date time iso str ( ) ! = null ? w inst . get current task start date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get current task end date time iso str ( ) ! = null ? w inst . get current task end date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get shared context ( ) ! = null ? w inst . get shared context ( ) . get map ( ) : new hashtable ( ) ) ; workflow instance . put ( str , w inst . get priority ( ) ! = null ? string . value of ( w inst . get priority ( ) . get value ( ) ) : string . value of ( priority . get default ( ) . get value ( ) ) ) ; return workflow instance ; }", "old_code_tokens": ["public", "static", "hashtable", "get", "xml", "rpc", "workflow", "instance", "(", "workflow", "instance", "w", "inst", ")", "{", "hashtable", "workflow", "instance", "=", "new", "hashtable", "(", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "id", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "status", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "id", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "(", "w", "inst", ".", "get", "workflow", "(", ")", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "start", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "start", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "end", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "end", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "start", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "current", "task", "start", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "end", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "current", "task", "end", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "shared", "context", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "shared", "context", "(", ")", ".", "get", "map", "(", ")", ":", "new", "hashtable", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "priority", "(", ")", "!", "=", "null", "?", "string", ".", "value", "of", "(", "w", "inst", ".", "get", "priority", "(", ")", ".", "get", "value", "(", ")", ")", ":", "string", ".", "value", "of", "(", "priority", ".", "get", "default", "(", ")", ".", "get", "value", "(", ")", ")", ")", ";", "return", "workflow", "instance", ";", "}"], "new_code": "public static hash map get xml rpc workflow instance ( workflow instance w inst ) { hash map workflow instance = new hash map ( ) ; workflow instance . put ( str , w inst . get current task id ( ) ) ; workflow instance . put ( str , w inst . get status ( ) ) ; workflow instance . put ( str , w inst . get id ( ) ) ; workflow instance . put ( str , get xml rpc workflow ( w inst . get workflow ( ) ) ) ; workflow instance . put ( str , w inst . get start date time iso str ( ) ! = null ? w inst . get start date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get end date time iso str ( ) ! = null ? w inst . get end date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get current task start date time iso str ( ) ! = null ? w inst . get current task start date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get current task end date time iso str ( ) ! = null ? w inst . get current task end date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get shared context ( ) ! = null ? w inst . get shared context ( ) . get map ( ) : new hash map ( ) ) ; workflow instance . put ( str , w inst . get priority ( ) ! = null ? string . value of ( w inst . get priority ( ) . get value ( ) ) : string . value of ( priority . get default ( ) . get value ( ) ) ) ; return workflow instance ; }", "new_code_tokens": ["public", "static", "hash", "map", "get", "xml", "rpc", "workflow", "instance", "(", "workflow", "instance", "w", "inst", ")", "{", "hash", "map", "workflow", "instance", "=", "new", "hash", "map", "(", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "id", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "status", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "id", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "(", "w", "inst", ".", "get", "workflow", "(", ")", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "start", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "start", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "end", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "end", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "start", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "current", "task", "start", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "end", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "current", "task", "end", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "shared", "context", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "shared", "context", "(", ")", ".", "get", "map", "(", ")", ":", "new", "hash", "map", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "priority", "(", ")", "!", "=", "null", "?", "string", ".", "value", "of", "(", "w", "inst", ".", "get", "priority", "(", ")", ".", "get", "value", "(", ")", ")", ":", "string", ".", "value", "of", "(", "priority", ".", "get", "default", "(", ")", ".", "get", "value", "(", ")", ")", ")", ";", "return", "workflow", "instance", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> get xml rpc workflow instance ( workflow instance w inst ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> workflow instance = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> ( ) ; workflow instance . put ( str , w inst . get current task id ( ) ) ; workflow instance . put ( str , w inst . get status ( ) ) ; workflow instance . put ( str , w inst . get id ( ) ) ; workflow instance . put ( str , get xml rpc workflow ( w inst . get workflow ( ) ) ) ; workflow instance . put ( str , w inst . get start date time iso str ( ) ! = null ? w inst . get start date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get end date time iso str ( ) ! = null ? w inst . get end date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get current task start date time iso str ( ) ! = null ? w inst . get current task start date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get current task end date time iso str ( ) ! = null ? w inst . get current task end date time iso str ( ) : str ) ; workflow instance . put ( str , w inst . get shared context ( ) ! = null ? w inst . get shared context ( ) . get map ( ) : new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> ( ) ) ; workflow instance . put ( str , w inst . get priority ( ) ! = null ? string . value of ( w inst . get priority ( ) . get value ( ) ) : string . value of ( priority . get default ( ) . get value ( ) ) ) ; return workflow instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "get", "xml", "rpc", "workflow", "instance", "(", "workflow", "instance", "w", "inst", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "workflow", "instance", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "id", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "status", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "id", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "(", "w", "inst", ".", "get", "workflow", "(", ")", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "start", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "start", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "end", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "end", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "start", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "current", "task", "start", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "current", "task", "end", "date", "time", "iso", "str", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "current", "task", "end", "date", "time", "iso", "str", "(", ")", ":", "str", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "shared", "context", "(", ")", "!", "=", "null", "?", "w", "inst", ".", "get", "shared", "context", "(", ")", ".", "get", "map", "(", ")", ":", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "(", ")", ")", ";", "workflow", "instance", ".", "put", "(", "str", ",", "w", "inst", ".", "get", "priority", "(", ")", "!", "=", "null", "?", "string", ".", "value", "of", "(", "w", "inst", ".", "get", "priority", "(", ")", ".", "get", "value", "(", ")", ")", ":", "string", ".", "value", "of", "(", "priority", ".", "get", "default", "(", ")", ".", "get", "value", "(", ")", ")", ")", ";", "return", "workflow", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "task", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "(", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "workflow", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "start", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "start", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "end", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "end", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "task", "<KEEP>", "start", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "task", "<KEEP>", "start", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "task", "<KEEP>", "end", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "task", "<KEEP>", "end", "<KEEP>", "date", "<KEEP>", "time", "<KEEP>", "iso", "<KEEP>", "str", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "shared", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "shared", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "priority", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "w", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "priority", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "priority", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_bullet-core-16-4505", "old_comment": "a boolean that is true if this is a time based query window .", "old_comment_tokens": ["a", "boolean", "that", "is", "true", "if", "this", "is", "a", "time", "based", "query", "window", "."], "new_comment": "a boolean that is true if the query results should be buffered .", "new_comment_tokens": ["a", "boolean", "that", "is", "true", "if", "the", "query", "results", "should", "be", "buffered", "."], "old_code": "public boolean should buffer ( ) { window window = running query . get query ( ) . get window ( ) ; return window = = null | | window . is time based ( ) ; }", "old_code_tokens": ["public", "boolean", "should", "buffer", "(", ")", "{", "window", "window", "=", "running", "query", ".", "get", "query", "(", ")", ".", "get", "window", "(", ")", ";", "return", "window", "=", "=", "null", "|", "|", "window", ".", "is", "time", "based", "(", ")", ";", "}"], "new_code": "public boolean should buffer ( ) { window window = running query . get query ( ) . get window ( ) ; boolean no window = window = = null ; if ( no window & & is raw ( ) ) { return running query . is timed out ( ) ; } return no window | | window . is time based ( ) ; }", "new_code_tokens": ["public", "boolean", "should", "buffer", "(", ")", "{", "window", "window", "=", "running", "query", ".", "get", "query", "(", ")", ".", "get", "window", "(", ")", ";", "boolean", "no", "window", "=", "window", "=", "=", "null", ";", "if", "(", "no", "window", "&", "&", "is", "raw", "(", ")", ")", "{", "return", "running", "query", ".", "is", "timed", "out", "(", ")", ";", "}", "return", "no", "window", "|", "|", "window", ".", "is", "time", "based", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean should buffer ( ) { window window = running query . get query ( ) . get window ( ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> boolean no window = <REPLACE_END> <KEEP> window = = null <KEEP_END> <INSERT> ; if ( no window & & is raw ( ) ) { return running query . is timed out ( ) ; } return no window <INSERT_END> <KEEP> | | window . is time based ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "should", "buffer", "(", ")", "{", "window", "window", "=", "running", "query", ".", "get", "query", "(", ")", ".", "get", "window", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "boolean", "no", "window", "=", "<REPLACE_END>", "<KEEP>", "window", "=", "=", "null", "<KEEP_END>", "<INSERT>", ";", "if", "(", "no", "window", "&", "&", "is", "raw", "(", ")", ")", "{", "return", "running", "query", ".", "is", "timed", "out", "(", ")", ";", "}", "return", "no", "window", "<INSERT_END>", "<KEEP>", "|", "|", "window", ".", "is", "time", "based", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this is a time based <REPLACE_NEW> the <REPLACE_END> <REPLACE_OLD> window <REPLACE_NEW> results should be buffered <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "is", "a", "time", "based", "<REPLACE_NEW>", "the", "<REPLACE_END>", "<REPLACE_OLD>", "window", "<REPLACE_NEW>", "results", "should", "be", "buffered", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "should", "<KEEP>", "buffer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "window", "<KEEP>", "window", "<KEEP>", "=", "<KEEP>", "running", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "no", "<REPLACE_NEW>", "window", "<REPLACE_NEW>", "=", "<KEEP>", "window", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "no", "<INSERT>", "window", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "is", "<INSERT>", "raw", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "running", "<INSERT>", "query", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "timed", "<INSERT>", "out", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "no", "<INSERT>", "window", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "window", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "time", "<KEEP>", "based", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Graylog2_graylog2-server-0-1089", "old_comment": "a json array with the result of the cat nodes request .", "old_comment_tokens": ["a", "json", "array", "with", "the", "result", "of", "the", "cat", "nodes", "request", "."], "new_comment": "a json node with the result of the cat nodes request .", "new_comment_tokens": ["a", "json", "node", "with", "the", "result", "of", "the", "cat", "nodes", "request", "."], "old_code": "private json array cat nodes ( string . . . fields ) { final string field names = string . join ( str , fields ) ; final cat request = new cat . nodes builder ( ) . set parameter ( str , field names ) . set parameter ( str , true ) . build ( ) ; final cat result response = jest utils . execute ( jest client , request , ( ) - > str ) ; return gson utils . as json array ( response . get json object ( ) . get ( str ) ) ; }", "old_code_tokens": ["private", "json", "array", "cat", "nodes", "(", "string", ".", ".", ".", "fields", ")", "{", "final", "string", "field", "names", "=", "string", ".", "join", "(", "str", ",", "fields", ")", ";", "final", "cat", "request", "=", "new", "cat", ".", "nodes", "builder", "(", ")", ".", "set", "parameter", "(", "str", ",", "field", "names", ")", ".", "set", "parameter", "(", "str", ",", "true", ")", ".", "build", "(", ")", ";", "final", "cat", "result", "response", "=", "jest", "utils", ".", "execute", "(", "jest", "client", ",", "request", ",", "(", ")", "-", ">", "str", ")", ";", "return", "gson", "utils", ".", "as", "json", "array", "(", "response", ".", "get", "json", "object", "(", ")", ".", "get", "(", "str", ")", ")", ";", "}"], "new_code": "private json node cat nodes ( string . . . fields ) { final string field names = string . join ( str , fields ) ; final cat request = new cat . nodes builder ( ) . set parameter ( str , field names ) . set parameter ( str , true ) . build ( ) ; final cat result response = jest utils . execute ( jest client , request , ( ) - > str ) ; return response . get json object ( ) . path ( str ) ; }", "new_code_tokens": ["private", "json", "node", "cat", "nodes", "(", "string", ".", ".", ".", "fields", ")", "{", "final", "string", "field", "names", "=", "string", ".", "join", "(", "str", ",", "fields", ")", ";", "final", "cat", "request", "=", "new", "cat", ".", "nodes", "builder", "(", ")", ".", "set", "parameter", "(", "str", ",", "field", "names", ")", ".", "set", "parameter", "(", "str", ",", "true", ")", ".", "build", "(", ")", ";", "final", "cat", "result", "response", "=", "jest", "utils", ".", "execute", "(", "jest", "client", ",", "request", ",", "(", ")", "-", ">", "str", ")", ";", "return", "response", ".", "get", "json", "object", "(", ")", ".", "path", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> private json <KEEP_END> <REPLACE_OLD> array <REPLACE_NEW> node <REPLACE_END> <KEEP> cat nodes ( string . . . fields ) { final string field names = string . join ( str , fields ) ; final cat request = new cat . nodes builder ( ) . set parameter ( str , field names ) . set parameter ( str , true ) . build ( ) ; final cat result response = jest utils . execute ( jest client , request , ( ) - > str ) ; return <KEEP_END> <DELETE> gson utils . as json array ( <DELETE_END> <KEEP> response . get json object ( ) . <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> path <REPLACE_END> <KEEP> ( str ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "json", "<KEEP_END>", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "node", "<REPLACE_END>", "<KEEP>", "cat", "nodes", "(", "string", ".", ".", ".", "fields", ")", "{", "final", "string", "field", "names", "=", "string", ".", "join", "(", "str", ",", "fields", ")", ";", "final", "cat", "request", "=", "new", "cat", ".", "nodes", "builder", "(", ")", ".", "set", "parameter", "(", "str", ",", "field", "names", ")", ".", "set", "parameter", "(", "str", ",", "true", ")", ".", "build", "(", ")", ";", "final", "cat", "result", "response", "=", "jest", "utils", ".", "execute", "(", "jest", "client", ",", "request", ",", "(", ")", "-", ">", "str", ")", ";", "return", "<KEEP_END>", "<DELETE>", "gson", "utils", ".", "as", "json", "array", "(", "<DELETE_END>", "<KEEP>", "response", ".", "get", "json", "object", "(", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "path", "<REPLACE_END>", "<KEEP>", "(", "str", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> array <REPLACE_NEW> node <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "array", "<REPLACE_NEW>", "node", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "json", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "node", "<KEEP>", "cat", "<KEEP>", "nodes", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "fields", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "field", "<KEEP>", "names", "<KEEP>", "=", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "join", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "fields", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "cat", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "cat", "<KEEP>", ".", "<KEEP>", "nodes", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "field", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "cat", "<KEEP>", "result", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "jest", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", "jest", "<KEEP>", "client", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", ">", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<DELETE>", "gson", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "as", "<DELETE>", "json", "<DELETE>", "array", "<DELETE>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "json", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "path", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oozie-15-3718", "old_comment": "bundle pause start service .", "old_comment_tokens": ["bundle", "pause", "start", "service", "."], "new_comment": "pause transit service .", "new_comment_tokens": ["pause", "transit", "service", "."], "old_code": "@ override public class < ? extends service > get interface ( ) { return bundle pause start service . class ; }", "old_code_tokens": ["@", "override", "public", "class", "<", "?", "extends", "service", ">", "get", "interface", "(", ")", "{", "return", "bundle", "pause", "start", "service", ".", "class", ";", "}"], "new_code": "@ override public class < ? extends service > get interface ( ) { return pause transit service . class ; }", "new_code_tokens": ["@", "override", "public", "class", "<", "?", "extends", "service", ">", "get", "interface", "(", ")", "{", "return", "pause", "transit", "service", ".", "class", ";", "}"], "span_diff_code": "<KEEP> @ override public class < ? extends service > get interface ( ) { return <KEEP_END> <DELETE> bundle <DELETE_END> <KEEP> pause <KEEP_END> <REPLACE_OLD> start <REPLACE_NEW> transit <REPLACE_END> <KEEP> service . class ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "class", "<", "?", "extends", "service", ">", "get", "interface", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "bundle", "<DELETE_END>", "<KEEP>", "pause", "<KEEP_END>", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "transit", "<REPLACE_END>", "<KEEP>", "service", ".", "class", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> bundle <DELETE_END> <REPLACE_OLD> start <REPLACE_NEW> transit <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "bundle", "<DELETE_END>", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "transit", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "service", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "interface", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "bundle", "<KEEP>", "pause", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "transit", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "reddit_Lob-0-7146", "old_comment": "a ravioli", "old_comment_tokens": ["a", "ravioli"], "new_comment": "a lob", "new_comment_tokens": ["a", "lob"], "old_code": "public ravioli build ( ) { return new ravioli ( this ) ; }", "old_code_tokens": ["public", "ravioli", "build", "(", ")", "{", "return", "new", "ravioli", "(", "this", ")", ";", "}"], "new_code": "public lob build ( ) { return new lob ( this ) ; }", "new_code_tokens": ["public", "lob", "build", "(", ")", "{", "return", "new", "lob", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> ravioli <REPLACE_NEW> lob <REPLACE_END> <KEEP> build ( ) { return new <KEEP_END> <REPLACE_OLD> ravioli <REPLACE_NEW> lob <REPLACE_END> <KEEP> ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "ravioli", "<REPLACE_NEW>", "lob", "<REPLACE_END>", "<KEEP>", "build", "(", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "ravioli", "<REPLACE_NEW>", "lob", "<REPLACE_END>", "<KEEP>", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> ravioli <REPLACE_NEW> lob <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "ravioli", "<REPLACE_NEW>", "lob", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "ravioli", "<REPLACE_NEW>", "lob", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "ravioli", "<REPLACE_NEW>", "lob", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_qreactor-2-5171", "old_comment": "the roll cycle", "old_comment_tokens": ["the", "roll", "cycle"], "new_comment": "the queue file roll cycle", "new_comment_tokens": ["the", "queue", "file", "roll", "cycle"], "old_code": "public roll cycle get roll cycle ( ) { return roll cycle ; }", "old_code_tokens": ["public", "roll", "cycle", "get", "roll", "cycle", "(", ")", "{", "return", "roll", "cycle", ";", "}"], "new_code": "public roll cycle get roll cycle ( ) { return queue . roll cycle ( ) ; }", "new_code_tokens": ["public", "roll", "cycle", "get", "roll", "cycle", "(", ")", "{", "return", "queue", ".", "roll", "cycle", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public roll cycle get roll cycle ( ) { return <KEEP_END> <INSERT> queue . <INSERT_END> <KEEP> roll cycle <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "roll", "cycle", "get", "roll", "cycle", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "queue", ".", "<INSERT_END>", "<KEEP>", "roll", "cycle", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the queue file <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "queue", "file", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "roll", "<KEEP>", "cycle", "<KEEP>", "get", "<KEEP>", "roll", "<KEEP>", "cycle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "queue", "<INSERT>", ".", "<KEEP>", "roll", "<KEEP>", "cycle", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wso2-extensions_siddhi-execution-extrema-2-6137", "old_comment": "maximum value ( without checking d , d conditions )", "old_comment_tokens": ["maximum", "value", "(", "without", "checking", "d", ",", "d", "conditions", ")"], "new_comment": "maximum value ( without checking pre bound change , post bound change conditions )", "new_comment_tokens": ["maximum", "value", "(", "without", "checking", "pre", "bound", "change", ",", "post", "bound", "change", "conditions", ")"], "old_code": "private attribute details max deque iterator ( attribute details val object ) { if ( value removed ! = null ) { for ( iterator < attribute details > iterator = max deque . descending iterator ( ) ; iterator . has next ( ) ; ) { double possible max value = iterator . next ( ) . get value ( ) ; if ( possible max value < val object . get value ( ) | | possible max value < = value removed . get value ( ) ) { if ( possible max value < val object . get value ( ) ) { iterator . remove ( ) ; } else if ( value removed . get value ( ) = = possible max value ) { iterator . remove ( ) ; break ; } } else { break ; } } } else { for ( iterator < attribute details > iterator = max deque . descending iterator ( ) ; iterator . has next ( ) ; ) { if ( iterator . next ( ) . get value ( ) < val object . get value ( ) ) { iterator . remove ( ) ; } else { break ; } } } val object . set max threshold ( ) ; max deque . add last ( val object ) ; return max deque . peek ( ) ; }", "old_code_tokens": ["private", "attribute", "details", "max", "deque", "iterator", "(", "attribute", "details", "val", "object", ")", "{", "if", "(", "value", "removed", "!", "=", "null", ")", "{", "for", "(", "iterator", "<", "attribute", "details", ">", "iterator", "=", "max", "deque", ".", "descending", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "double", "possible", "max", "value", "=", "iterator", ".", "next", "(", ")", ".", "get", "value", "(", ")", ";", "if", "(", "possible", "max", "value", "<", "val", "object", ".", "get", "value", "(", ")", "|", "|", "possible", "max", "value", "<", "=", "value", "removed", ".", "get", "value", "(", ")", ")", "{", "if", "(", "possible", "max", "value", "<", "val", "object", ".", "get", "value", "(", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "else", "if", "(", "value", "removed", ".", "get", "value", "(", ")", "=", "=", "possible", "max", "value", ")", "{", "iterator", ".", "remove", "(", ")", ";", "break", ";", "}", "}", "else", "{", "break", ";", "}", "}", "}", "else", "{", "for", "(", "iterator", "<", "attribute", "details", ">", "iterator", "=", "max", "deque", ".", "descending", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "if", "(", "iterator", ".", "next", "(", ")", ".", "get", "value", "(", ")", "<", "val", "object", ".", "get", "value", "(", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "else", "{", "break", ";", "}", "}", "}", "val", "object", ".", "set", "max", "threshold", "(", ")", ";", "max", "deque", ".", "add", "last", "(", "val", "object", ")", ";", "return", "max", "deque", ".", "peek", "(", ")", ";", "}"], "new_code": "private attribute details max deque iterator ( attribute details val object ) { if ( value removed ! = null ) { for ( iterator < attribute details > iterator = max deque . descending iterator ( ) ; iterator . has next ( ) ; ) { attribute details possible max value = iterator . next ( ) ; if ( possible max value . get value ( ) < val object . get value ( ) | | possible max value . get value ( ) < = value removed . get value ( ) ) { if ( possible max value . get value ( ) < val object . get value ( ) ) { iterator . remove ( ) ; } else if ( value removed . equals ( possible max value ) ) { iterator . remove ( ) ; } } else { break ; } } } else { for ( iterator < attribute details > iterator = max deque . descending iterator ( ) ; iterator . has next ( ) ; ) { if ( iterator . next ( ) . get value ( ) < val object . get value ( ) ) { iterator . remove ( ) ; } else { break ; } } } val object . set max threshold ( ) ; max deque . add last ( val object ) ; return max deque . peek ( ) ; }", "new_code_tokens": ["private", "attribute", "details", "max", "deque", "iterator", "(", "attribute", "details", "val", "object", ")", "{", "if", "(", "value", "removed", "!", "=", "null", ")", "{", "for", "(", "iterator", "<", "attribute", "details", ">", "iterator", "=", "max", "deque", ".", "descending", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "attribute", "details", "possible", "max", "value", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "possible", "max", "value", ".", "get", "value", "(", ")", "<", "val", "object", ".", "get", "value", "(", ")", "|", "|", "possible", "max", "value", ".", "get", "value", "(", ")", "<", "=", "value", "removed", ".", "get", "value", "(", ")", ")", "{", "if", "(", "possible", "max", "value", ".", "get", "value", "(", ")", "<", "val", "object", ".", "get", "value", "(", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "else", "if", "(", "value", "removed", ".", "equals", "(", "possible", "max", "value", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "}", "else", "{", "break", ";", "}", "}", "}", "else", "{", "for", "(", "iterator", "<", "attribute", "details", ">", "iterator", "=", "max", "deque", ".", "descending", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "if", "(", "iterator", ".", "next", "(", ")", ".", "get", "value", "(", ")", "<", "val", "object", ".", "get", "value", "(", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "else", "{", "break", ";", "}", "}", "}", "val", "object", ".", "set", "max", "threshold", "(", ")", ";", "max", "deque", ".", "add", "last", "(", "val", "object", ")", ";", "return", "max", "deque", ".", "peek", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private attribute details max deque iterator ( attribute details val object ) { if ( value removed ! = null ) { for ( iterator < attribute details > iterator = max deque . descending iterator ( ) ; iterator . has next ( ) ; ) { <KEEP_END> <REPLACE_OLD> double possible max value = iterator . next ( ) . get value ( ) ; if ( possible max value <REPLACE_NEW> attribute details possible max value = iterator . next ( ) ; if ( possible max value . get value ( ) <REPLACE_END> <KEEP> < val object . get value ( ) | | possible max value <KEEP_END> <INSERT> . get value ( ) <INSERT_END> <KEEP> < = value removed . get value ( ) ) { if ( possible max value <KEEP_END> <INSERT> . get value ( ) <INSERT_END> <KEEP> < val object . get value ( ) ) { iterator . remove ( ) ; } else if ( value removed . <KEEP_END> <REPLACE_OLD> get value ( ) = = possible max value <REPLACE_NEW> equals ( possible max value ) <REPLACE_END> <KEEP> ) { iterator . remove ( ) <KEEP_END> <DELETE> ; break <DELETE_END> <KEEP> ; } } else { break ; } } } else { for ( iterator < attribute details > iterator = max deque . descending iterator ( ) ; iterator . has next ( ) ; ) { if ( iterator . next ( ) . get value ( ) < val object . get value ( ) ) { iterator . remove ( ) ; } else { break ; } } } val object . set max threshold ( ) ; max deque . add last ( val object ) ; return max deque . peek ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "attribute", "details", "max", "deque", "iterator", "(", "attribute", "details", "val", "object", ")", "{", "if", "(", "value", "removed", "!", "=", "null", ")", "{", "for", "(", "iterator", "<", "attribute", "details", ">", "iterator", "=", "max", "deque", ".", "descending", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "double", "possible", "max", "value", "=", "iterator", ".", "next", "(", ")", ".", "get", "value", "(", ")", ";", "if", "(", "possible", "max", "value", "<REPLACE_NEW>", "attribute", "details", "possible", "max", "value", "=", "iterator", ".", "next", "(", ")", ";", "if", "(", "possible", "max", "value", ".", "get", "value", "(", ")", "<REPLACE_END>", "<KEEP>", "<", "val", "object", ".", "get", "value", "(", ")", "|", "|", "possible", "max", "value", "<KEEP_END>", "<INSERT>", ".", "get", "value", "(", ")", "<INSERT_END>", "<KEEP>", "<", "=", "value", "removed", ".", "get", "value", "(", ")", ")", "{", "if", "(", "possible", "max", "value", "<KEEP_END>", "<INSERT>", ".", "get", "value", "(", ")", "<INSERT_END>", "<KEEP>", "<", "val", "object", ".", "get", "value", "(", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "else", "if", "(", "value", "removed", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "value", "(", ")", "=", "=", "possible", "max", "value", "<REPLACE_NEW>", "equals", "(", "possible", "max", "value", ")", "<REPLACE_END>", "<KEEP>", ")", "{", "iterator", ".", "remove", "(", ")", "<KEEP_END>", "<DELETE>", ";", "break", "<DELETE_END>", "<KEEP>", ";", "}", "}", "else", "{", "break", ";", "}", "}", "}", "else", "{", "for", "(", "iterator", "<", "attribute", "details", ">", "iterator", "=", "max", "deque", ".", "descending", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "if", "(", "iterator", ".", "next", "(", ")", ".", "get", "value", "(", ")", "<", "val", "object", ".", "get", "value", "(", ")", ")", "{", "iterator", ".", "remove", "(", ")", ";", "}", "else", "{", "break", ";", "}", "}", "}", "val", "object", ".", "set", "max", "threshold", "(", ")", ";", "max", "deque", ".", "add", "last", "(", "val", "object", ")", ";", "return", "max", "deque", ".", "peek", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> checking d <REPLACE_NEW_KEEP_BEFORE> checking pre bound change <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> , d <REPLACE_NEW_KEEP_BEFORE> , post bound change <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "checking", "d", "<REPLACE_NEW_KEEP_BEFORE>", "checking", "pre", "bound", "change", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", ",", "d", "<REPLACE_NEW_KEEP_BEFORE>", ",", "post", "bound", "change", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "attribute", "<KEEP>", "details", "<KEEP>", "max", "<KEEP>", "deque", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", "attribute", "<KEEP>", "details", "<KEEP>", "val", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "removed", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "attribute", "<KEEP>", "details", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "max", "<KEEP>", "deque", "<KEEP>", ".", "<KEEP>", "descending", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "possible", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "possible", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "attribute", "<REPLACE_NEW>", "details", "<REPLACE_NEW>", "possible", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "possible", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "<", "<KEEP>", "val", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "possible", "<KEEP>", "max", "<KEEP>", "value", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", "removed", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "possible", "<KEEP>", "max", "<KEEP>", "value", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", "<", "<KEEP>", "val", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "removed", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "possible", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "possible", "<REPLACE_NEW>", "max", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "attribute", "<KEEP>", "details", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "max", "<KEEP>", "deque", "<KEEP>", ".", "<KEEP>", "descending", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "val", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "val", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "max", "<KEEP>", "threshold", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "max", "<KEEP>", "deque", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "last", "<KEEP>", "(", "<KEEP>", "val", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "max", "<KEEP>", "deque", "<KEEP>", ".", "<KEEP>", "peek", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RSB4760_apq8016_external_conscrypt-2-3712", "old_comment": "the session ' s accessing time in milli seconds since 12 . 00 pm , january 1st , 1970", "old_comment_tokens": ["the", "session", "'", "s", "accessing", "time", "in", "milli", "seconds", "since", "12", ".", "00", "pm", ",", "january", "1st", ",", "1970"], "new_comment": "the session ' s last access time in milliseconds since the epoch", "new_comment_tokens": ["the", "session", "'", "s", "last", "access", "time", "in", "milliseconds", "since", "the", "epoch"], "old_code": "public long get last accessed time ( ) { if ( last accessed time = = num ) return nativegetcreationtime ( ) ; else return last accessed time ; }", "old_code_tokens": ["public", "long", "get", "last", "accessed", "time", "(", ")", "{", "if", "(", "last", "accessed", "time", "=", "=", "num", ")", "return", "nativegetcreationtime", "(", ")", ";", "else", "return", "last", "accessed", "time", ";", "}"], "new_code": "public long get last accessed time ( ) { return ( last accessed time = = num ) ? get creation time ( ) : last accessed time ; }", "new_code_tokens": ["public", "long", "get", "last", "accessed", "time", "(", ")", "{", "return", "(", "last", "accessed", "time", "=", "=", "num", ")", "?", "get", "creation", "time", "(", ")", ":", "last", "accessed", "time", ";", "}"], "span_diff_code": "<KEEP> public long get last accessed time ( ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return <REPLACE_END> <KEEP> ( last accessed time = = num ) <KEEP_END> <REPLACE_OLD> return nativegetcreationtime <REPLACE_NEW> ? get creation time <REPLACE_END> <KEEP> ( ) <KEEP_END> <REPLACE_OLD> ; else return <REPLACE_NEW> : <REPLACE_END> <KEEP> last accessed time ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "last", "accessed", "time", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "(", "last", "accessed", "time", "=", "=", "num", ")", "<KEEP_END>", "<REPLACE_OLD>", "return", "nativegetcreationtime", "<REPLACE_NEW>", "?", "get", "creation", "time", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ";", "else", "return", "<REPLACE_NEW>", ":", "<REPLACE_END>", "<KEEP>", "last", "accessed", "time", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> accessing <REPLACE_NEW> last access <REPLACE_END> <REPLACE_OLD> milli seconds <REPLACE_NEW> milliseconds <REPLACE_END> <REPLACE_OLD> 12 . 00 pm , january 1st , 1970 <REPLACE_NEW> the epoch <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "accessing", "<REPLACE_NEW>", "last", "access", "<REPLACE_END>", "<REPLACE_OLD>", "milli", "seconds", "<REPLACE_NEW>", "milliseconds", "<REPLACE_END>", "<REPLACE_OLD>", "12", ".", "00", "pm", ",", "january", "1st", ",", "1970", "<REPLACE_NEW>", "the", "epoch", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "last", "<KEEP>", "accessed", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "accessed", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "nativegetcreationtime", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "creation", "<REPLACE_NEW>", "time", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", ":", "<KEEP>", "last", "<KEEP>", "accessed", "<KEEP>", "time", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Qihoo360_RePlugin-3-916", "old_comment": "the validated collection ( never null method for chaining )", "old_comment_tokens": ["the", "validated", "collection", "(", "never", "null", "method", "for", "chaining", ")"], "new_comment": "the validated character sequence ( never null method for chaining )", "new_comment_tokens": ["the", "validated", "character", "sequence", "(", "never", "null", "method", "for", "chaining", ")"], "old_code": "public static < t extends collection < ? > > t not empty ( final t collection , final string message , final object . . . values ) { if ( collection = = null ) { throw new null pointer exception ( string . format ( message , values ) ) ; } if ( collection . is empty ( ) ) { throw new illegal argument exception ( string . format ( message , values ) ) ; } return collection ; }", "old_code_tokens": ["public", "static", "<", "t", "extends", "collection", "<", "?", ">", ">", "t", "not", "empty", "(", "final", "t", "collection", ",", "final", "string", "message", ",", "final", "object", ".", ".", ".", "values", ")", "{", "if", "(", "collection", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "if", "(", "collection", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "return", "collection", ";", "}"], "new_code": "public static < t extends char sequence > t not empty ( final t chars , final string message , final object . . . values ) { if ( chars = = null ) { throw new null pointer exception ( string . format ( message , values ) ) ; } if ( chars . length ( ) = = num ) { throw new illegal argument exception ( string . format ( message , values ) ) ; } return chars ; }", "new_code_tokens": ["public", "static", "<", "t", "extends", "char", "sequence", ">", "t", "not", "empty", "(", "final", "t", "chars", ",", "final", "string", "message", ",", "final", "object", ".", ".", ".", "values", ")", "{", "if", "(", "chars", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "if", "(", "chars", ".", "length", "(", ")", "=", "=", "num", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "return", "chars", ";", "}"], "span_diff_code": "<KEEP> public static < t extends <KEEP_END> <REPLACE_OLD> collection < ? > <REPLACE_NEW> char sequence <REPLACE_END> <KEEP> > t not empty ( final t <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> , final string message , final object . . . values ) { if ( <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> = = null ) { throw new null pointer exception ( string . format ( message , values ) ) ; } if ( <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> is empty <REPLACE_NEW> length <REPLACE_END> <KEEP> ( ) <KEEP_END> <INSERT> = = num <INSERT_END> <KEEP> ) { throw new illegal argument exception ( string . format ( message , values ) ) ; } return <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "t", "extends", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<", "?", ">", "<REPLACE_NEW>", "char", "sequence", "<REPLACE_END>", "<KEEP>", ">", "t", "not", "empty", "(", "final", "t", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ",", "final", "string", "message", ",", "final", "object", ".", ".", ".", "values", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "{", "throw", "new", "null", "pointer", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "is", "empty", "<REPLACE_NEW>", "length", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<INSERT>", "=", "=", "num", "<INSERT_END>", "<KEEP>", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "string", ".", "format", "(", "message", ",", "values", ")", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> character sequence <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "character", "sequence", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", "extends", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "char", "<REPLACE_NEW>", "sequence", "<KEEP>", ">", "<KEEP>", "t", "<KEEP>", "not", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "t", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "null", "<KEEP>", "pointer", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_NEW>", "length", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "values", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "webdizz_sonarqube-spellcheck-2-6725", "old_comment": "string array of misspelt words", "old_comment_tokens": ["string", "array", "of", "misspelt", "words"], "new_comment": "string array of misspelled words", "new_comment_tokens": ["string", "array", "of", "misspelled", "words"], "old_code": "public string [ ] check all words ( string words ) { list < string > misspelt words = new array list < string > ( ) ; string word tokenizer tokenizer = new string word tokenizer ( words ) ; while ( tokenizer . has more words ( ) ) { string word = tokenizer . next word ( ) ; if ( ! is word correct ( word , tokenizer . is new sentence ( ) ) ) { misspelt words . add ( word ) ; } } return misspelt words . to array ( new string [ num ] ) ; }", "old_code_tokens": ["public", "string", "[", "]", "check", "all", "words", "(", "string", "words", ")", "{", "list", "<", "string", ">", "misspelt", "words", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "string", "word", "tokenizer", "tokenizer", "=", "new", "string", "word", "tokenizer", "(", "words", ")", ";", "while", "(", "tokenizer", ".", "has", "more", "words", "(", ")", ")", "{", "string", "word", "=", "tokenizer", ".", "next", "word", "(", ")", ";", "if", "(", "!", "is", "word", "correct", "(", "word", ",", "tokenizer", ".", "is", "new", "sentence", "(", ")", ")", ")", "{", "misspelt", "words", ".", "add", "(", "word", ")", ";", "}", "}", "return", "misspelt", "words", ".", "to", "array", "(", "new", "string", "[", "num", "]", ")", ";", "}"], "new_code": "public string [ ] check all words ( string words ) { list < string > misspelled words = new array list < string > ( ) ; string word tokenizer tokenizer = new string word tokenizer ( words ) ; while ( tokenizer . has more words ( ) ) { string word = tokenizer . next word ( ) ; if ( ! is word correct ( word , tokenizer . is new sentence ( ) ) ) { misspelled words . add ( word ) ; } } return misspelled words . to array ( new string [ num ] ) ; }", "new_code_tokens": ["public", "string", "[", "]", "check", "all", "words", "(", "string", "words", ")", "{", "list", "<", "string", ">", "misspelled", "words", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "string", "word", "tokenizer", "tokenizer", "=", "new", "string", "word", "tokenizer", "(", "words", ")", ";", "while", "(", "tokenizer", ".", "has", "more", "words", "(", ")", ")", "{", "string", "word", "=", "tokenizer", ".", "next", "word", "(", ")", ";", "if", "(", "!", "is", "word", "correct", "(", "word", ",", "tokenizer", ".", "is", "new", "sentence", "(", ")", ")", ")", "{", "misspelled", "words", ".", "add", "(", "word", ")", ";", "}", "}", "return", "misspelled", "words", ".", "to", "array", "(", "new", "string", "[", "num", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public string [ ] check all words ( string words ) { list < string > <KEEP_END> <REPLACE_OLD> misspelt <REPLACE_NEW> misspelled <REPLACE_END> <KEEP> words = new array list < string > ( ) ; string word tokenizer tokenizer = new string word tokenizer ( words ) ; while ( tokenizer . has more words ( ) ) { string word = tokenizer . next word ( ) ; if ( ! is word correct ( word , tokenizer . is new sentence ( ) ) ) { <KEEP_END> <REPLACE_OLD> misspelt <REPLACE_NEW> misspelled <REPLACE_END> <KEEP> words . add ( word ) ; } } return <KEEP_END> <REPLACE_OLD> misspelt <REPLACE_NEW> misspelled <REPLACE_END> <KEEP> words . to array ( new string [ num ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "[", "]", "check", "all", "words", "(", "string", "words", ")", "{", "list", "<", "string", ">", "<KEEP_END>", "<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<REPLACE_END>", "<KEEP>", "words", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "string", "word", "tokenizer", "tokenizer", "=", "new", "string", "word", "tokenizer", "(", "words", ")", ";", "while", "(", "tokenizer", ".", "has", "more", "words", "(", ")", ")", "{", "string", "word", "=", "tokenizer", ".", "next", "word", "(", ")", ";", "if", "(", "!", "is", "word", "correct", "(", "word", ",", "tokenizer", ".", "is", "new", "sentence", "(", ")", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<REPLACE_END>", "<KEEP>", "words", ".", "add", "(", "word", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<REPLACE_END>", "<KEEP>", "words", ".", "to", "array", "(", "new", "string", "[", "num", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> misspelt <REPLACE_NEW> misspelled <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "check", "<KEEP>", "all", "<KEEP>", "words", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "words", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<KEEP>", "words", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "word", "<KEEP>", "tokenizer", "<KEEP>", "tokenizer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "word", "<KEEP>", "tokenizer", "<KEEP>", "(", "<KEEP>", "words", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "tokenizer", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "more", "<KEEP>", "words", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "word", "<KEEP>", "=", "<KEEP>", "tokenizer", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "word", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "is", "<KEEP>", "word", "<KEEP>", "correct", "<KEEP>", "(", "<KEEP>", "word", "<KEEP>", ",", "<KEEP>", "tokenizer", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "new", "<KEEP>", "sentence", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<KEEP>", "words", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "word", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "misspelt", "<REPLACE_NEW>", "misspelled", "<KEEP>", "words", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_elide-1-6500", "old_comment": "true if this persistent resource ' s entity has the @ shareable annotation", "old_comment_tokens": ["true", "if", "this", "persistent", "resource", "'", "s", "entity", "has", "the", "@", "shareable", "annotation"], "new_comment": "true if this persistent resource ' s entity is sharable .", "new_comment_tokens": ["true", "if", "this", "persistent", "resource", "'", "s", "entity", "is", "sharable", "."], "old_code": "private boolean is shareable ( ) { return get request scope ( ) . get dictionary ( ) . get annotation ( obj . get class ( ) , shareable . class ) ! = null ; }", "old_code_tokens": ["private", "boolean", "is", "shareable", "(", ")", "{", "return", "get", "request", "scope", "(", ")", ".", "get", "dictionary", "(", ")", ".", "get", "annotation", "(", "obj", ".", "get", "class", "(", ")", ",", "shareable", ".", "class", ")", "!", "=", "null", ";", "}"], "new_code": "private boolean is shareable ( ) { return get request scope ( ) . get dictionary ( ) . is sharable ( obj . get class ( ) ) ; }", "new_code_tokens": ["private", "boolean", "is", "shareable", "(", ")", "{", "return", "get", "request", "scope", "(", ")", ".", "get", "dictionary", "(", ")", ".", "is", "sharable", "(", "obj", ".", "get", "class", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean is shareable ( ) { return get request scope ( ) . get dictionary ( ) . <KEEP_END> <REPLACE_OLD> get annotation <REPLACE_NEW> is sharable <REPLACE_END> <KEEP> ( obj . get class ( ) <KEEP_END> <DELETE> , shareable . class <DELETE_END> <KEEP> ) <KEEP_END> <DELETE> ! = null <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "is", "shareable", "(", ")", "{", "return", "get", "request", "scope", "(", ")", ".", "get", "dictionary", "(", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "annotation", "<REPLACE_NEW>", "is", "sharable", "<REPLACE_END>", "<KEEP>", "(", "obj", ".", "get", "class", "(", ")", "<KEEP_END>", "<DELETE>", ",", "shareable", ".", "class", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "!", "=", "null", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> has the @ shareable annotation <REPLACE_NEW> is sharable . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "has", "the", "@", "shareable", "annotation", "<REPLACE_NEW>", "is", "sharable", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "shareable", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "scope", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "dictionary", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "annotation", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "sharable", "<KEEP>", "(", "<KEEP>", "obj", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ",", "<DELETE>", "shareable", "<DELETE>", ".", "<DELETE>", "class", "<KEEP>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_worldwind-22-5798", "old_comment": "the symbol drawn at the center of the range fan . may be null .", "old_comment_tokens": ["the", "symbol", "drawn", "at", "the", "center", "of", "the", "range", "fan", ".", "may", "be", "null", "."], "new_comment": "the identifier of a symbol drawn at the center of the range fan . may be null .", "new_comment_tokens": ["the", "identifier", "of", "a", "symbol", "drawn", "at", "the", "center", "of", "the", "range", "fan", ".", "may", "be", "null", "."], "old_code": "public tactical symbol get symbol ( ) { return this . symbol ; }", "old_code_tokens": ["public", "tactical", "symbol", "get", "symbol", "(", ")", "{", "return", "this", ".", "symbol", ";", "}"], "new_code": "public string get symbol ( ) { return this . symbol ! = null ? this . symbol . get identifier ( ) : null ; }", "new_code_tokens": ["public", "string", "get", "symbol", "(", ")", "{", "return", "this", ".", "symbol", "!", "=", "null", "?", "this", ".", "symbol", ".", "get", "identifier", "(", ")", ":", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> tactical symbol <REPLACE_NEW> string <REPLACE_END> <KEEP> get symbol ( ) { return this . symbol <KEEP_END> <INSERT> ! = null ? this . symbol . get identifier ( ) : null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "tactical", "symbol", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "symbol", "(", ")", "{", "return", "this", ".", "symbol", "<KEEP_END>", "<INSERT>", "!", "=", "null", "?", "this", ".", "symbol", ".", "get", "identifier", "(", ")", ":", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> symbol <INSERT_NEW_KEEP_AFTER> identifier of a symbol <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "symbol", "<INSERT_NEW_KEEP_AFTER>", "identifier", "of", "a", "symbol", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "tactical", "<REPLACE_OLD>", "symbol", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "symbol", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "symbol", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "symbol", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "identifier", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ":", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rstudio_rstudio-4-2023", "old_comment": "caption for that handle", "old_comment_tokens": ["caption", "for", "that", "handle"], "new_comment": "caption for that handle or null if no such handle", "new_comment_tokens": ["caption", "for", "that", "handle", "or", "null", "if", "no", "such", "handle"], "old_code": "public string get caption ( string handle ) { return get metadata for handle ( handle ) . caption _ ; }", "old_code_tokens": ["public", "string", "get", "caption", "(", "string", "handle", ")", "{", "return", "get", "metadata", "for", "handle", "(", "handle", ")", ".", "caption", "_", ";", "}"], "new_code": "public string get caption ( string handle ) { terminal metadata data = get metadata for handle ( handle ) ; if ( data = = null ) { return null ; } return data . caption _ ; }", "new_code_tokens": ["public", "string", "get", "caption", "(", "string", "handle", ")", "{", "terminal", "metadata", "data", "=", "get", "metadata", "for", "handle", "(", "handle", ")", ";", "if", "(", "data", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "data", ".", "caption", "_", ";", "}"], "span_diff_code": "<KEEP> public string get caption ( string handle ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> terminal metadata data = <REPLACE_END> <KEEP> get metadata for handle ( handle ) <KEEP_END> <INSERT> ; if ( data = = null ) { return null ; } return data <INSERT_END> <KEEP> . caption _ ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "caption", "(", "string", "handle", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "terminal", "metadata", "data", "=", "<REPLACE_END>", "<KEEP>", "get", "metadata", "for", "handle", "(", "handle", ")", "<KEEP_END>", "<INSERT>", ";", "if", "(", "data", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "data", "<INSERT_END>", "<KEEP>", ".", "caption", "_", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> handle <INSERT_NEW_KEEP_BEFORE> handle or null if no such handle <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "handle", "<INSERT_NEW_KEEP_BEFORE>", "handle", "or", "null", "if", "no", "such", "handle", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "caption", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "handle", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "terminal", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "=", "<KEEP>", "get", "<KEEP>", "metadata", "<KEEP>", "for", "<KEEP>", "handle", "<KEEP>", "(", "<KEEP>", "handle", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "data", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "data", "<KEEP>", ".", "<KEEP>", "caption", "<KEEP>", "_", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lstoll_libvirt-java-6-4355", "old_comment": "vir domain object", "old_comment_tokens": ["vir", "domain", "object"], "new_comment": "domain object", "new_comment_tokens": ["domain", "object"], "old_code": "public vir domain get dom ( ) throws vir error exception { throw new vir error exception ( str ) ; }", "old_code_tokens": ["public", "vir", "domain", "get", "dom", "(", ")", "throws", "vir", "error", "exception", "{", "throw", "new", "vir", "error", "exception", "(", "str", ")", ";", "}"], "new_code": "public domain get dom ( ) throws error exception { throw new error exception ( str ) ; }", "new_code_tokens": ["public", "domain", "get", "dom", "(", ")", "throws", "error", "exception", "{", "throw", "new", "error", "exception", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> domain get dom ( ) throws <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> error exception { throw new <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> error exception ( str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "domain", "get", "dom", "(", ")", "throws", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "error", "exception", "{", "throw", "new", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "error", "exception", "(", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> vir <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "vir", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "vir", "<KEEP>", "domain", "<KEEP>", "get", "<KEEP>", "dom", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<DELETE>", "vir", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<DELETE>", "vir", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_empire-db-15-4895", "old_comment": "this cloned object", "old_comment_tokens": ["this", "cloned", "object"], "new_comment": "a table clone with new table alias", "new_comment_tokens": ["a", "table", "clone", "with", "new", "table", "alias"], "old_code": "@ override public object clone ( ) { try { dbtable clone = ( dbtable ) super . clone ( ) ; class < ? > col class = columns . get ( num ) . get class ( ) ; class < ? > col base = col class . get superclass ( ) ; clone . columns = new array list < dbcolumn > ( ) ; field [ ] fields = get class ( ) . get declared fields ( ) ; for ( int i = num ; i < columns . size ( ) ; i + + ) { dbtable column src col = ( dbtable column ) columns . get ( i ) ; dbtable column new col = new dbtable column ( clone , src col ) ; for ( int j = num ; j < fields . length ; j + + ) { class < ? > type = fields [ j ] . get type ( ) ; if ( type = = col class | | type = = col base ) { try { if ( fields [ j ] . get ( clone ) = = src col ) fields [ j ] . set ( clone , new col ) ; } catch ( exception e ) { log . error ( str + fields [ j ] . get name ( ) + str + e . get message ( ) ) ; } } } } clone . alias = str + string . value of ( table count . increment and get ( ) ) ; log . info ( str + name + str + alias + str + clone . alias ) ; return clone ; } catch ( clone not supported exception e ) { return null ; } }", "old_code_tokens": ["@", "override", "public", "object", "clone", "(", ")", "{", "try", "{", "dbtable", "clone", "=", "(", "dbtable", ")", "super", ".", "clone", "(", ")", ";", "class", "<", "?", ">", "col", "class", "=", "columns", ".", "get", "(", "num", ")", ".", "get", "class", "(", ")", ";", "class", "<", "?", ">", "col", "base", "=", "col", "class", ".", "get", "superclass", "(", ")", ";", "clone", ".", "columns", "=", "new", "array", "list", "<", "dbcolumn", ">", "(", ")", ";", "field", "[", "]", "fields", "=", "get", "class", "(", ")", ".", "get", "declared", "fields", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "columns", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "dbtable", "column", "src", "col", "=", "(", "dbtable", "column", ")", "columns", ".", "get", "(", "i", ")", ";", "dbtable", "column", "new", "col", "=", "new", "dbtable", "column", "(", "clone", ",", "src", "col", ")", ";", "for", "(", "int", "j", "=", "num", ";", "j", "<", "fields", ".", "length", ";", "j", "+", "+", ")", "{", "class", "<", "?", ">", "type", "=", "fields", "[", "j", "]", ".", "get", "type", "(", ")", ";", "if", "(", "type", "=", "=", "col", "class", "|", "|", "type", "=", "=", "col", "base", ")", "{", "try", "{", "if", "(", "fields", "[", "j", "]", ".", "get", "(", "clone", ")", "=", "=", "src", "col", ")", "fields", "[", "j", "]", ".", "set", "(", "clone", ",", "new", "col", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "error", "(", "str", "+", "fields", "[", "j", "]", ".", "get", "name", "(", ")", "+", "str", "+", "e", ".", "get", "message", "(", ")", ")", ";", "}", "}", "}", "}", "clone", ".", "alias", "=", "str", "+", "string", ".", "value", "of", "(", "table", "count", ".", "increment", "and", "get", "(", ")", ")", ";", "log", ".", "info", "(", "str", "+", "name", "+", "str", "+", "alias", "+", "str", "+", "clone", ".", "alias", ")", ";", "return", "clone", ";", "}", "catch", "(", "clone", "not", "supported", "exception", "e", ")", "{", "return", "null", ";", "}", "}"], "new_code": "@ override public object clone ( ) { try { dbtable clone = ( dbtable ) super . clone ( ) ; class < ? > col class = columns . get ( num ) . get class ( ) ; class < ? > col base = col class . get superclass ( ) ; clone . columns = new array list < dbcolumn > ( ) ; field [ ] fields = get class ( ) . get fields ( ) ; for ( int i = num ; i < columns . size ( ) ; i + + ) { dbtable column src col = ( dbtable column ) columns . get ( i ) ; dbtable column new col = new dbtable column ( clone , src col ) ; for ( int j = num ; j < fields . length ; j + + ) { class < ? > type = fields [ j ] . get type ( ) ; if ( type = = col class | | type = = col base ) { try { if ( fields [ j ] . get ( clone ) = = src col ) fields [ j ] . set ( clone , new col ) ; } catch ( exception e ) { string field name = fields [ j ] . get name ( ) ; log . error ( str + field name + str + e . get message ( ) ) ; clone not supported exception cnse = new clone not supported exception ( str + field name ) ; cnse . init cause ( e ) ; throw cnse ; } } } } clone . alias = str + string . value of ( table count . increment and get ( ) ) ; log . info ( str + name + str + alias + str + clone . alias ) ; return clone ; } catch ( clone not supported exception e ) { log . error ( str + get name ( ) ) ; throw new runtime exception ( e ) ; } }", "new_code_tokens": ["@", "override", "public", "object", "clone", "(", ")", "{", "try", "{", "dbtable", "clone", "=", "(", "dbtable", ")", "super", ".", "clone", "(", ")", ";", "class", "<", "?", ">", "col", "class", "=", "columns", ".", "get", "(", "num", ")", ".", "get", "class", "(", ")", ";", "class", "<", "?", ">", "col", "base", "=", "col", "class", ".", "get", "superclass", "(", ")", ";", "clone", ".", "columns", "=", "new", "array", "list", "<", "dbcolumn", ">", "(", ")", ";", "field", "[", "]", "fields", "=", "get", "class", "(", ")", ".", "get", "fields", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "columns", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "dbtable", "column", "src", "col", "=", "(", "dbtable", "column", ")", "columns", ".", "get", "(", "i", ")", ";", "dbtable", "column", "new", "col", "=", "new", "dbtable", "column", "(", "clone", ",", "src", "col", ")", ";", "for", "(", "int", "j", "=", "num", ";", "j", "<", "fields", ".", "length", ";", "j", "+", "+", ")", "{", "class", "<", "?", ">", "type", "=", "fields", "[", "j", "]", ".", "get", "type", "(", ")", ";", "if", "(", "type", "=", "=", "col", "class", "|", "|", "type", "=", "=", "col", "base", ")", "{", "try", "{", "if", "(", "fields", "[", "j", "]", ".", "get", "(", "clone", ")", "=", "=", "src", "col", ")", "fields", "[", "j", "]", ".", "set", "(", "clone", ",", "new", "col", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "string", "field", "name", "=", "fields", "[", "j", "]", ".", "get", "name", "(", ")", ";", "log", ".", "error", "(", "str", "+", "field", "name", "+", "str", "+", "e", ".", "get", "message", "(", ")", ")", ";", "clone", "not", "supported", "exception", "cnse", "=", "new", "clone", "not", "supported", "exception", "(", "str", "+", "field", "name", ")", ";", "cnse", ".", "init", "cause", "(", "e", ")", ";", "throw", "cnse", ";", "}", "}", "}", "}", "clone", ".", "alias", "=", "str", "+", "string", ".", "value", "of", "(", "table", "count", ".", "increment", "and", "get", "(", ")", ")", ";", "log", ".", "info", "(", "str", "+", "name", "+", "str", "+", "alias", "+", "str", "+", "clone", ".", "alias", ")", ";", "return", "clone", ";", "}", "catch", "(", "clone", "not", "supported", "exception", "e", ")", "{", "log", ".", "error", "(", "str", "+", "get", "name", "(", ")", ")", ";", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> @ override public object clone ( ) { try { dbtable clone = ( dbtable ) super . clone ( ) ; class < ? > col class = columns . get ( num ) . get class ( ) ; class < ? > col base = col class . get superclass ( ) ; clone . columns = new array list < dbcolumn > ( ) ; field [ ] fields = get class ( ) . get <KEEP_END> <DELETE> declared <DELETE_END> <KEEP> fields ( ) ; for ( int i = num ; i < columns . size ( ) ; i + + ) { dbtable column src col = ( dbtable column ) columns . get ( i ) ; dbtable column new col = new dbtable column ( clone , src col ) ; for ( int j = num ; j < fields . length ; j + + ) { class < ? > type = fields [ j ] . get type ( ) ; if ( type = = col class | | type = = col base ) { try { if ( fields [ j ] . get ( clone ) = = src col ) fields [ j ] . set ( clone , new col ) ; } catch ( exception e ) { <KEEP_END> <INSERT> string field name = fields [ j ] . get name ( ) ; <INSERT_END> <KEEP> log . error ( str + <KEEP_END> <REPLACE_OLD> fields [ j ] . get name ( ) <REPLACE_NEW> field name <REPLACE_END> <KEEP> + str + e . get message ( ) ) <KEEP_END> <INSERT> ; clone not supported exception cnse = new clone not supported exception ( str + field name ) ; cnse . init cause ( e ) ; throw cnse <INSERT_END> <KEEP> ; } } } } clone . alias = str + string . value of ( table count . increment and get ( ) ) ; log . info ( str + name + str + alias + str + clone . alias ) ; return clone ; } catch ( clone not supported exception e ) { <KEEP_END> <REPLACE_OLD> return null ; } } <REPLACE_NEW> log . error ( str + get name ( ) ) ; throw new runtime exception ( e ) ; } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "object", "clone", "(", ")", "{", "try", "{", "dbtable", "clone", "=", "(", "dbtable", ")", "super", ".", "clone", "(", ")", ";", "class", "<", "?", ">", "col", "class", "=", "columns", ".", "get", "(", "num", ")", ".", "get", "class", "(", ")", ";", "class", "<", "?", ">", "col", "base", "=", "col", "class", ".", "get", "superclass", "(", ")", ";", "clone", ".", "columns", "=", "new", "array", "list", "<", "dbcolumn", ">", "(", ")", ";", "field", "[", "]", "fields", "=", "get", "class", "(", ")", ".", "get", "<KEEP_END>", "<DELETE>", "declared", "<DELETE_END>", "<KEEP>", "fields", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "columns", ".", "size", "(", ")", ";", "i", "+", "+", ")", "{", "dbtable", "column", "src", "col", "=", "(", "dbtable", "column", ")", "columns", ".", "get", "(", "i", ")", ";", "dbtable", "column", "new", "col", "=", "new", "dbtable", "column", "(", "clone", ",", "src", "col", ")", ";", "for", "(", "int", "j", "=", "num", ";", "j", "<", "fields", ".", "length", ";", "j", "+", "+", ")", "{", "class", "<", "?", ">", "type", "=", "fields", "[", "j", "]", ".", "get", "type", "(", ")", ";", "if", "(", "type", "=", "=", "col", "class", "|", "|", "type", "=", "=", "col", "base", ")", "{", "try", "{", "if", "(", "fields", "[", "j", "]", ".", "get", "(", "clone", ")", "=", "=", "src", "col", ")", "fields", "[", "j", "]", ".", "set", "(", "clone", ",", "new", "col", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "<KEEP_END>", "<INSERT>", "string", "field", "name", "=", "fields", "[", "j", "]", ".", "get", "name", "(", ")", ";", "<INSERT_END>", "<KEEP>", "log", ".", "error", "(", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "fields", "[", "j", "]", ".", "get", "name", "(", ")", "<REPLACE_NEW>", "field", "name", "<REPLACE_END>", "<KEEP>", "+", "str", "+", "e", ".", "get", "message", "(", ")", ")", "<KEEP_END>", "<INSERT>", ";", "clone", "not", "supported", "exception", "cnse", "=", "new", "clone", "not", "supported", "exception", "(", "str", "+", "field", "name", ")", ";", "cnse", ".", "init", "cause", "(", "e", ")", ";", "throw", "cnse", "<INSERT_END>", "<KEEP>", ";", "}", "}", "}", "}", "clone", ".", "alias", "=", "str", "+", "string", ".", "value", "of", "(", "table", "count", ".", "increment", "and", "get", "(", ")", ")", ";", "log", ".", "info", "(", "str", "+", "name", "+", "str", "+", "alias", "+", "str", "+", "clone", ".", "alias", ")", ";", "return", "clone", ";", "}", "catch", "(", "clone", "not", "supported", "exception", "e", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "null", ";", "}", "}", "<REPLACE_NEW>", "log", ".", "error", "(", "str", "+", "get", "name", "(", ")", ")", ";", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this cloned object <REPLACE_NEW> a table clone with new table alias <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "cloned", "object", "<REPLACE_NEW>", "a", "table", "clone", "with", "new", "table", "alias", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "clone", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "dbtable", "<KEEP>", "clone", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "dbtable", "<KEEP>", ")", "<KEEP>", "super", "<KEEP>", ".", "<KEEP>", "clone", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "col", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "columns", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "col", "<KEEP>", "base", "<KEEP>", "=", "<KEEP>", "col", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "superclass", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "clone", "<KEEP>", ".", "<KEEP>", "columns", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "dbcolumn", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "field", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "fields", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<DELETE>", "declared", "<KEEP>", "fields", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "columns", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "dbtable", "<KEEP>", "column", "<KEEP>", "src", "<KEEP>", "col", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "dbtable", "<KEEP>", "column", "<KEEP>", ")", "<KEEP>", "columns", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "dbtable", "<KEEP>", "column", "<KEEP>", "new", "<KEEP>", "col", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "dbtable", "<KEEP>", "column", "<KEEP>", "(", "<KEEP>", "clone", "<KEEP>", ",", "<KEEP>", "src", "<KEEP>", "col", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "j", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "<", "<KEEP>", "fields", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "fields", "<KEEP>", "[", "<KEEP>", "j", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "col", "<KEEP>", "class", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "col", "<KEEP>", "base", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "fields", "<KEEP>", "[", "<KEEP>", "j", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "clone", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "src", "<KEEP>", "col", "<KEEP>", ")", "<KEEP>", "fields", "<KEEP>", "[", "<KEEP>", "j", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "clone", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "col", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "string", "<INSERT>", "field", "<INSERT>", "name", "<INSERT>", "=", "<INSERT>", "fields", "<INSERT>", "[", "<INSERT>", "j", "<INSERT>", "]", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "fields", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "j", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "name", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "clone", "<INSERT>", "not", "<INSERT>", "supported", "<INSERT>", "exception", "<INSERT>", "cnse", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "clone", "<INSERT>", "not", "<INSERT>", "supported", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "field", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "cnse", "<INSERT>", ".", "<INSERT>", "init", "<INSERT>", "cause", "<INSERT>", "(", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "throw", "<INSERT>", "cnse", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "clone", "<KEEP>", ".", "<KEEP>", "alias", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "count", "<KEEP>", ".", "<KEEP>", "increment", "<KEEP>", "and", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "name", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "alias", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "clone", "<KEEP>", ".", "<KEEP>", "alias", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "clone", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "clone", "<KEEP>", "not", "<KEEP>", "supported", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "runtime", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "ansell_openrdf-sesame-149-6360", "old_comment": "a read - only view of the additional http headers .", "old_comment_tokens": ["a", "read", "-", "only", "view", "of", "the", "additional", "http", "headers", "."], "new_comment": "a read - only view of the additional http headers , or null if none are set .", "new_comment_tokens": ["a", "read", "-", "only", "view", "of", "the", "additional", "http", "headers", ",", "or", "null", "if", "none", "are", "set", "."], "old_code": "public map < string , string > get additional http headers ( ) { return collections . unmodifiable map ( additional http headers ) ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "string", ">", "get", "additional", "http", "headers", "(", ")", "{", "return", "collections", ".", "unmodifiable", "map", "(", "additional", "http", "headers", ")", ";", "}"], "new_code": "public map < string , string > get additional http headers ( ) { return additional http headers = = null ? null : collections . unmodifiable map ( additional http headers ) ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "string", ">", "get", "additional", "http", "headers", "(", ")", "{", "return", "additional", "http", "headers", "=", "=", "null", "?", "null", ":", "collections", ".", "unmodifiable", "map", "(", "additional", "http", "headers", ")", ";", "}"], "span_diff_code": "<KEEP> public map < string , string > get additional http headers ( ) { return <KEEP_END> <INSERT> additional http headers = = null ? null : <INSERT_END> <KEEP> collections . unmodifiable map ( additional http headers ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "map", "<", "string", ",", "string", ">", "get", "additional", "http", "headers", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "additional", "http", "headers", "=", "=", "null", "?", "null", ":", "<INSERT_END>", "<KEEP>", "collections", ".", "unmodifiable", "map", "(", "additional", "http", "headers", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> headers <INSERT_NEW_KEEP_BEFORE> headers , or null if none are set <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "headers", "<INSERT_NEW_KEEP_BEFORE>", "headers", ",", "or", "null", "if", "none", "are", "set", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "additional", "<KEEP>", "http", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "additional", "<INSERT>", "http", "<INSERT>", "headers", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "null", "<INSERT>", ":", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "additional", "<KEEP>", "http", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bobmcwhirter_drools-96-4958", "old_comment": "returns the field accessor", "old_comment_tokens": ["returns", "the", "field", "accessor"], "new_comment": "returns the field extractor", "new_comment_tokens": ["returns", "the", "field", "extractor"], "old_code": "field accessor get field accessor ( ) { return this . accessor ; }", "old_code_tokens": ["field", "accessor", "get", "field", "accessor", "(", ")", "{", "return", "this", ".", "accessor", ";", "}"], "new_code": "public class field accessor get field accessor ( ) { return this . accessor ; }", "new_code_tokens": ["public", "class", "field", "accessor", "get", "field", "accessor", "(", ")", "{", "return", "this", ".", "accessor", ";", "}"], "span_diff_code": "<INSERT> public class <INSERT_END> <KEEP> field accessor get field accessor ( ) { return this . accessor ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "public", "class", "<INSERT_END>", "<KEEP>", "field", "accessor", "get", "field", "accessor", "(", ")", "{", "return", "this", ".", "accessor", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> accessor <REPLACE_NEW> extractor <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "accessor", "<REPLACE_NEW>", "extractor", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "public", "<INSERT>", "class", "<KEEP>", "field", "<KEEP>", "accessor", "<KEEP>", "get", "<KEEP>", "field", "<KEEP>", "accessor", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "accessor", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_jdk8u_jaxp-34-6323", "old_comment": "a hashtable which contains all datatypes", "old_comment_tokens": ["a", "hashtable", "which", "contains", "all", "datatypes"], "new_comment": "a map which contains all datatypes", "new_comment_tokens": ["a", "map", "which", "contains", "all", "datatypes"], "old_code": "public hashtable get built in types ( ) { hashtable to return = ( hashtable ) f built in types . clone ( ) ; enumeration xml11 keys = f xml11 built in types . keys ( ) ; while ( xml11 keys . has more elements ( ) ) { object key = xml11 keys . next element ( ) ; to return . put ( key , f xml11 built in types . get ( key ) ) ; } return to return ; }", "old_code_tokens": ["public", "hashtable", "get", "built", "in", "types", "(", ")", "{", "hashtable", "to", "return", "=", "(", "hashtable", ")", "f", "built", "in", "types", ".", "clone", "(", ")", ";", "enumeration", "xml11", "keys", "=", "f", "xml11", "built", "in", "types", ".", "keys", "(", ")", ";", "while", "(", "xml11", "keys", ".", "has", "more", "elements", "(", ")", ")", "{", "object", "key", "=", "xml11", "keys", ".", "next", "element", "(", ")", ";", "to", "return", ".", "put", "(", "key", ",", "f", "xml11", "built", "in", "types", ".", "get", "(", "key", ")", ")", ";", "}", "return", "to", "return", ";", "}"], "new_code": "@ override public map < string , datatype validator > get built in types ( ) { final hash map < string , datatype validator > to return = new hash map < > ( f built in types ) ; to return . put all ( xml11 builtintypes ) ; return to return ; }", "new_code_tokens": ["@", "override", "public", "map", "<", "string", ",", "datatype", "validator", ">", "get", "built", "in", "types", "(", ")", "{", "final", "hash", "map", "<", "string", ",", "datatype", "validator", ">", "to", "return", "=", "new", "hash", "map", "<", ">", "(", "f", "built", "in", "types", ")", ";", "to", "return", ".", "put", "all", "(", "xml11", "builtintypes", ")", ";", "return", "to", "return", ";", "}"], "span_diff_code": "<INSERT> @ override <INSERT_END> <KEEP> public <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> map < string , datatype validator > <REPLACE_END> <KEEP> get built in types ( ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> final hash map < string , datatype validator > <REPLACE_END> <KEEP> to return = <KEEP_END> <INSERT> new hash map < > <INSERT_END> <KEEP> ( <KEEP_END> <DELETE> hashtable ) <DELETE_END> <KEEP> f built in types <KEEP_END> <DELETE> . clone ( ) ; enumeration xml11 keys = f xml11 built in types . keys ( ) ; while ( xml11 keys . has more elements ( ) ) { object key = xml11 keys . next element ( <DELETE_END> <KEEP> ) ; to return . put <KEEP_END> <INSERT> all <INSERT_END> <KEEP> ( <KEEP_END> <DELETE> key , f <DELETE_END> <KEEP> xml11 <KEEP_END> <REPLACE_OLD> built in types . get ( key ) <REPLACE_NEW> builtintypes <REPLACE_END> <KEEP> ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return to return ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "override", "<INSERT_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<", "string", ",", "datatype", "validator", ">", "<REPLACE_END>", "<KEEP>", "get", "built", "in", "types", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "final", "hash", "map", "<", "string", ",", "datatype", "validator", ">", "<REPLACE_END>", "<KEEP>", "to", "return", "=", "<KEEP_END>", "<INSERT>", "new", "hash", "map", "<", ">", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "hashtable", ")", "<DELETE_END>", "<KEEP>", "f", "built", "in", "types", "<KEEP_END>", "<DELETE>", ".", "clone", "(", ")", ";", "enumeration", "xml11", "keys", "=", "f", "xml11", "built", "in", "types", ".", "keys", "(", ")", ";", "while", "(", "xml11", "keys", ".", "has", "more", "elements", "(", ")", ")", "{", "object", "key", "=", "xml11", "keys", ".", "next", "element", "(", "<DELETE_END>", "<KEEP>", ")", ";", "to", "return", ".", "put", "<KEEP_END>", "<INSERT>", "all", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "key", ",", "f", "<DELETE_END>", "<KEEP>", "xml11", "<KEEP_END>", "<REPLACE_OLD>", "built", "in", "types", ".", "get", "(", "key", ")", "<REPLACE_NEW>", "builtintypes", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "to", "return", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "override", "<KEEP>", "public", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "datatype", "<REPLACE_NEW>", "validator", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "built", "<KEEP>", "in", "<KEEP>", "types", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "datatype", "<REPLACE_NEW>", "validator", "<REPLACE_NEW>", ">", "<KEEP>", "to", "<KEEP>", "return", "<KEEP>", "=", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", ">", "<KEEP>", "(", "<DELETE>", "hashtable", "<DELETE>", ")", "<KEEP>", "f", "<KEEP>", "built", "<KEEP>", "in", "<KEEP>", "types", "<DELETE>", ".", "<DELETE>", "clone", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "enumeration", "<DELETE>", "xml11", "<DELETE>", "keys", "<DELETE>", "=", "<DELETE>", "f", "<DELETE>", "xml11", "<DELETE>", "built", "<DELETE>", "in", "<DELETE>", "types", "<DELETE>", ".", "<DELETE>", "keys", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "while", "<DELETE>", "(", "<DELETE>", "xml11", "<DELETE>", "keys", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "more", "<DELETE>", "elements", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "object", "<DELETE>", "key", "<DELETE>", "=", "<DELETE>", "xml11", "<DELETE>", "keys", "<DELETE>", ".", "<DELETE>", "next", "<DELETE>", "element", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "to", "<KEEP>", "return", "<KEEP>", ".", "<KEEP>", "put", "<INSERT>", "all", "<KEEP>", "(", "<DELETE>", "key", "<DELETE>", ",", "<DELETE>", "f", "<KEEP>", "xml11", "<REPLACE_OLD>", "built", "<REPLACE_OLD>", "in", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "builtintypes", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "to", "<KEEP>", "return", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Letractively_brsu-portal-3-6363", "old_comment": "the id _ category", "old_comment_tokens": ["the", "id", "_", "category"], "new_comment": "the id", "new_comment_tokens": ["the", "id"], "old_code": "public long get id ( ) { return id _ category ; }", "old_code_tokens": ["public", "long", "get", "id", "(", ")", "{", "return", "id", "_", "category", ";", "}"], "new_code": "public long get id ( ) { return id ; }", "new_code_tokens": ["public", "long", "get", "id", "(", ")", "{", "return", "id", ";", "}"], "span_diff_code": "<KEEP> public long get id ( ) { return id <KEEP_END> <DELETE> _ category <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "id", "(", ")", "{", "return", "id", "<KEEP_END>", "<DELETE>", "_", "category", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> _ category <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "_", "category", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "id", "<DELETE>", "_", "<DELETE>", "category", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Ravikumarmaddi_socialauth-13-5616", "old_comment": "action forward where the action should flow", "old_comment_tokens": ["action", "forward", "where", "the", "action", "should", "flow"], "new_comment": "string where the action should flow", "new_comment_tokens": ["string", "where", "the", "action", "should", "flow"], "old_code": "@ override public action forward execute ( final action mapping mapping , final action form form , final http servlet request request , final http servlet response response ) throws exception { auth form auth form = ( auth form ) form ; string id = auth form . get id ( ) ; social auth manager manager ; if ( auth form . get social auth manager ( ) ! = null ) { manager = auth form . get social auth manager ( ) ; if ( str . equals ( request . get parameter ( str ) ) ) { manager . disconnect provider ( id ) ; return mapping . find forward ( str ) ; } } else { input stream in = social authentication action . class . get class loader ( ) . get resource as stream ( str ) ; social auth config conf = social auth config . get default ( ) ; conf . load ( in ) ; manager = new social auth manager ( ) ; manager . set social auth config ( conf ) ; auth form . set social auth manager ( manager ) ; } string return to url = request utils . absolute url ( request , str ) . to string ( ) ; string url = manager . get authentication url ( id , return to url ) ; log . info ( str + url ) ; if ( url ! = null ) { action forward fwd = new action forward ( str , url , true ) ; return fwd ; } return mapping . find forward ( str ) ; }", "old_code_tokens": ["@", "override", "public", "action", "forward", "execute", "(", "final", "action", "mapping", "mapping", ",", "final", "action", "form", "form", ",", "final", "http", "servlet", "request", "request", ",", "final", "http", "servlet", "response", "response", ")", "throws", "exception", "{", "auth", "form", "auth", "form", "=", "(", "auth", "form", ")", "form", ";", "string", "id", "=", "auth", "form", ".", "get", "id", "(", ")", ";", "social", "auth", "manager", "manager", ";", "if", "(", "auth", "form", ".", "get", "social", "auth", "manager", "(", ")", "!", "=", "null", ")", "{", "manager", "=", "auth", "form", ".", "get", "social", "auth", "manager", "(", ")", ";", "if", "(", "str", ".", "equals", "(", "request", ".", "get", "parameter", "(", "str", ")", ")", ")", "{", "manager", ".", "disconnect", "provider", "(", "id", ")", ";", "return", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}", "}", "else", "{", "input", "stream", "in", "=", "social", "authentication", "action", ".", "class", ".", "get", "class", "loader", "(", ")", ".", "get", "resource", "as", "stream", "(", "str", ")", ";", "social", "auth", "config", "conf", "=", "social", "auth", "config", ".", "get", "default", "(", ")", ";", "conf", ".", "load", "(", "in", ")", ";", "manager", "=", "new", "social", "auth", "manager", "(", ")", ";", "manager", ".", "set", "social", "auth", "config", "(", "conf", ")", ";", "auth", "form", ".", "set", "social", "auth", "manager", "(", "manager", ")", ";", "}", "string", "return", "to", "url", "=", "request", "utils", ".", "absolute", "url", "(", "request", ",", "str", ")", ".", "to", "string", "(", ")", ";", "string", "url", "=", "manager", ".", "get", "authentication", "url", "(", "id", ",", "return", "to", "url", ")", ";", "log", ".", "info", "(", "str", "+", "url", ")", ";", "if", "(", "url", "!", "=", "null", ")", "{", "action", "forward", "fwd", "=", "new", "action", "forward", "(", "str", ",", "url", ",", "true", ")", ";", "return", "fwd", ";", "}", "return", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}"], "new_code": "@ action ( value = str ) public string execute ( ) throws exception { log . info ( str + id ) ; social auth manager manager ; if ( user session . get ( str ) ! = null ) { manager = ( social auth manager ) user session . get ( str ) ; if ( str . equals ( mode ) ) { manager . disconnect provider ( id ) ; return str ; } } else { input stream in = social authentication action . class . get class loader ( ) . get resource as stream ( str ) ; social auth config conf = social auth config . get default ( ) ; conf . load ( in ) ; manager = new social auth manager ( ) ; manager . set social auth config ( conf ) ; user session . put ( str , manager ) ; } string return to url = request utils . get servlet path ( request ) ; system . out . println ( return to url ) ; return to url = url helper . build url ( str , request , response , null , null , true , true , true ) ; url = manager . get authentication url ( id , return to url ) ; log . info ( str + url ) ; if ( url ! = null ) { return str ; } return str ; }", "new_code_tokens": ["@", "action", "(", "value", "=", "str", ")", "public", "string", "execute", "(", ")", "throws", "exception", "{", "log", ".", "info", "(", "str", "+", "id", ")", ";", "social", "auth", "manager", "manager", ";", "if", "(", "user", "session", ".", "get", "(", "str", ")", "!", "=", "null", ")", "{", "manager", "=", "(", "social", "auth", "manager", ")", "user", "session", ".", "get", "(", "str", ")", ";", "if", "(", "str", ".", "equals", "(", "mode", ")", ")", "{", "manager", ".", "disconnect", "provider", "(", "id", ")", ";", "return", "str", ";", "}", "}", "else", "{", "input", "stream", "in", "=", "social", "authentication", "action", ".", "class", ".", "get", "class", "loader", "(", ")", ".", "get", "resource", "as", "stream", "(", "str", ")", ";", "social", "auth", "config", "conf", "=", "social", "auth", "config", ".", "get", "default", "(", ")", ";", "conf", ".", "load", "(", "in", ")", ";", "manager", "=", "new", "social", "auth", "manager", "(", ")", ";", "manager", ".", "set", "social", "auth", "config", "(", "conf", ")", ";", "user", "session", ".", "put", "(", "str", ",", "manager", ")", ";", "}", "string", "return", "to", "url", "=", "request", "utils", ".", "get", "servlet", "path", "(", "request", ")", ";", "system", ".", "out", ".", "println", "(", "return", "to", "url", ")", ";", "return", "to", "url", "=", "url", "helper", ".", "build", "url", "(", "str", ",", "request", ",", "response", ",", "null", ",", "null", ",", "true", ",", "true", ",", "true", ")", ";", "url", "=", "manager", ".", "get", "authentication", "url", "(", "id", ",", "return", "to", "url", ")", ";", "log", ".", "info", "(", "str", "+", "url", ")", ";", "if", "(", "url", "!", "=", "null", ")", "{", "return", "str", ";", "}", "return", "str", ";", "}"], "span_diff_code": "<KEEP> @ <KEEP_END> <REPLACE_OLD> override <REPLACE_NEW> action ( value = str ) <REPLACE_END> <KEEP> public <KEEP_END> <REPLACE_OLD> action forward <REPLACE_NEW> string <REPLACE_END> <KEEP> execute ( <KEEP_END> <DELETE> final action mapping mapping , final action form form , final http servlet request request , final http servlet response response <DELETE_END> <KEEP> ) throws exception { <KEEP_END> <REPLACE_OLD> auth form auth form = ( auth form ) form ; string <REPLACE_NEW> log . info ( str + <REPLACE_END> <KEEP> id <KEEP_END> <DELETE> = auth form . get id ( <DELETE_END> <KEEP> ) ; social auth manager manager ; if ( <KEEP_END> <REPLACE_OLD> auth form . get social auth manager ( <REPLACE_NEW> user session . get ( str <REPLACE_END> <KEEP> ) ! = null ) { manager = <KEEP_END> <REPLACE_OLD> auth form . get social auth manager ( <REPLACE_NEW> ( social auth manager ) user session . get ( str <REPLACE_END> <KEEP> ) ; if ( str . equals ( <KEEP_END> <REPLACE_OLD> request . get parameter ( str ) <REPLACE_NEW> mode <REPLACE_END> <KEEP> ) ) { manager . disconnect provider ( id ) ; return <KEEP_END> <REPLACE_OLD> mapping . find forward ( str ) <REPLACE_NEW> str <REPLACE_END> <KEEP> ; } } else { input stream in = social authentication action . class . get class loader ( ) . get resource as stream ( str ) ; social auth config conf = social auth config . get default ( ) ; conf . load ( in ) ; manager = new social auth manager ( ) ; manager . set social auth config ( conf ) ; <KEEP_END> <REPLACE_OLD> auth form . set social auth manager ( <REPLACE_NEW> user session . put ( str , <REPLACE_END> <KEEP> manager ) ; } string return to url = request utils . <KEEP_END> <REPLACE_OLD> absolute url <REPLACE_NEW> get servlet path <REPLACE_END> <KEEP> ( request <KEEP_END> <REPLACE_OLD> , str ) . to string ( ) ; string <REPLACE_NEW> ) ; system . out . println ( return to url ) ; return to url = url helper . build url ( str , request , response , null , null , true , true , true ) ; <REPLACE_END> <KEEP> url = manager . get authentication url ( id , return to url ) ; log . info ( str + url ) ; if ( url ! = null ) { <KEEP_END> <REPLACE_OLD> action forward fwd = new action forward ( str , url , true ) ; return fwd ; } return mapping . find forward ( str ) ; } <REPLACE_NEW> return str ; } return str ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "@", "<KEEP_END>", "<REPLACE_OLD>", "override", "<REPLACE_NEW>", "action", "(", "value", "=", "str", ")", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "action", "forward", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "execute", "(", "<KEEP_END>", "<DELETE>", "final", "action", "mapping", "mapping", ",", "final", "action", "form", "form", ",", "final", "http", "servlet", "request", "request", ",", "final", "http", "servlet", "response", "response", "<DELETE_END>", "<KEEP>", ")", "throws", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "auth", "form", "auth", "form", "=", "(", "auth", "form", ")", "form", ";", "string", "<REPLACE_NEW>", "log", ".", "info", "(", "str", "+", "<REPLACE_END>", "<KEEP>", "id", "<KEEP_END>", "<DELETE>", "=", "auth", "form", ".", "get", "id", "(", "<DELETE_END>", "<KEEP>", ")", ";", "social", "auth", "manager", "manager", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "auth", "form", ".", "get", "social", "auth", "manager", "(", "<REPLACE_NEW>", "user", "session", ".", "get", "(", "str", "<REPLACE_END>", "<KEEP>", ")", "!", "=", "null", ")", "{", "manager", "=", "<KEEP_END>", "<REPLACE_OLD>", "auth", "form", ".", "get", "social", "auth", "manager", "(", "<REPLACE_NEW>", "(", "social", "auth", "manager", ")", "user", "session", ".", "get", "(", "str", "<REPLACE_END>", "<KEEP>", ")", ";", "if", "(", "str", ".", "equals", "(", "<KEEP_END>", "<REPLACE_OLD>", "request", ".", "get", "parameter", "(", "str", ")", "<REPLACE_NEW>", "mode", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "manager", ".", "disconnect", "provider", "(", "id", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "mapping", ".", "find", "forward", "(", "str", ")", "<REPLACE_NEW>", "str", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "else", "{", "input", "stream", "in", "=", "social", "authentication", "action", ".", "class", ".", "get", "class", "loader", "(", ")", ".", "get", "resource", "as", "stream", "(", "str", ")", ";", "social", "auth", "config", "conf", "=", "social", "auth", "config", ".", "get", "default", "(", ")", ";", "conf", ".", "load", "(", "in", ")", ";", "manager", "=", "new", "social", "auth", "manager", "(", ")", ";", "manager", ".", "set", "social", "auth", "config", "(", "conf", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "auth", "form", ".", "set", "social", "auth", "manager", "(", "<REPLACE_NEW>", "user", "session", ".", "put", "(", "str", ",", "<REPLACE_END>", "<KEEP>", "manager", ")", ";", "}", "string", "return", "to", "url", "=", "request", "utils", ".", "<KEEP_END>", "<REPLACE_OLD>", "absolute", "url", "<REPLACE_NEW>", "get", "servlet", "path", "<REPLACE_END>", "<KEEP>", "(", "request", "<KEEP_END>", "<REPLACE_OLD>", ",", "str", ")", ".", "to", "string", "(", ")", ";", "string", "<REPLACE_NEW>", ")", ";", "system", ".", "out", ".", "println", "(", "return", "to", "url", ")", ";", "return", "to", "url", "=", "url", "helper", ".", "build", "url", "(", "str", ",", "request", ",", "response", ",", "null", ",", "null", ",", "true", ",", "true", ",", "true", ")", ";", "<REPLACE_END>", "<KEEP>", "url", "=", "manager", ".", "get", "authentication", "url", "(", "id", ",", "return", "to", "url", ")", ";", "log", ".", "info", "(", "str", "+", "url", ")", ";", "if", "(", "url", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "action", "forward", "fwd", "=", "new", "action", "forward", "(", "str", ",", "url", ",", "true", ")", ";", "return", "fwd", ";", "}", "return", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}", "<REPLACE_NEW>", "return", "str", ";", "}", "return", "str", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> action forward <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "action", "forward", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<REPLACE_OLD>", "override", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", "public", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "forward", "<REPLACE_NEW>", "string", "<KEEP>", "execute", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "action", "<DELETE>", "mapping", "<DELETE>", "mapping", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "action", "<DELETE>", "form", "<DELETE>", "form", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "http", "<DELETE>", "servlet", "<DELETE>", "request", "<DELETE>", "request", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "http", "<DELETE>", "servlet", "<DELETE>", "response", "<DELETE>", "response", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<KEEP>", "id", "<DELETE>", "=", "<DELETE>", "auth", "<DELETE>", "form", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "id", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "manager", "<KEEP>", "manager", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "social", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "manager", "<KEEP>", "=", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "social", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "social", "<REPLACE_NEW>", "auth", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "parameter", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "mode", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "disconnect", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "mapping", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "find", "<REPLACE_OLD>", "forward", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "in", "<KEEP>", "=", "<KEEP>", "social", "<KEEP>", "authentication", "<KEEP>", "action", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "as", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "config", "<KEEP>", "conf", "<KEEP>", "=", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "conf", "<KEEP>", ".", "<KEEP>", "load", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", "conf", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "form", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "social", "<REPLACE_OLD>", "auth", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<KEEP>", "manager", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "return", "<KEEP>", "to", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", "utils", "<KEEP>", ".", "<REPLACE_OLD>", "absolute", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "servlet", "<REPLACE_NEW>", "path", "<KEEP>", "(", "<KEEP>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "out", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "println", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", "helper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "authentication", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "return", "<KEEP>", "to", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "forward", "<REPLACE_OLD>", "fwd", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "forward", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "fwd", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "mapping", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "find", "<REPLACE_OLD>", "forward", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "cemcatik_jtds-113-3788", "old_comment": "the test suite .", "old_comment_tokens": ["the", "test", "suite", "."], "new_comment": "the test suite ( always null ) .", "new_comment_tokens": ["the", "test", "suite", "(", "always", "null", ")", "."], "old_code": "public static test suite ( string name ) { return new test suite ( jtds data source unit test . test _ jtds data source _ get connection . class , name ) ; }", "old_code_tokens": ["public", "static", "test", "suite", "(", "string", "name", ")", "{", "return", "new", "test", "suite", "(", "jtds", "data", "source", "unit", "test", ".", "test", "_", "jtds", "data", "source", "_", "get", "connection", ".", "class", ",", "name", ")", ";", "}"], "new_code": "public static final test suite ( ) { return null ; }", "new_code_tokens": ["public", "static", "final", "test", "suite", "(", ")", "{", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> final <INSERT_END> <KEEP> test suite ( <KEEP_END> <DELETE> string name <DELETE_END> <KEEP> ) { return <KEEP_END> <REPLACE_OLD> new test suite ( jtds data source unit test . test _ jtds data source _ get connection . class , name ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "test", "suite", "(", "<KEEP_END>", "<DELETE>", "string", "name", "<DELETE_END>", "<KEEP>", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "test", "suite", "(", "jtds", "data", "source", "unit", "test", ".", "test", "_", "jtds", "data", "source", "_", "get", "connection", ".", "class", ",", "name", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> suite <INSERT_NEW_KEEP_BEFORE> suite ( always null ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "suite", "<INSERT_NEW_KEEP_BEFORE>", "suite", "(", "always", "null", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "final", "<KEEP>", "test", "<KEEP>", "suite", "<KEEP>", "(", "<DELETE>", "string", "<DELETE>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", "suite", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "jtds", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "unit", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "jtds", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "connection", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_empire-db-45-4897", "old_comment": "the result as a int value , if no result the int value 0", "old_comment_tokens": ["the", "result", "as", "a", "int", "value", ",", "if", "no", "result", "the", "int", "value", "0"], "new_comment": "the result as a int value", "new_comment_tokens": ["the", "result", "as", "a", "int", "value"], "old_code": "public final int query single int ( string sql cmd , int def val , connection conn ) { object value = query single value ( sql cmd , conn ) ; return object utils . get integer ( value , def val ) ; }", "old_code_tokens": ["public", "final", "int", "query", "single", "int", "(", "string", "sql", "cmd", ",", "int", "def", "val", ",", "connection", "conn", ")", "{", "object", "value", "=", "query", "single", "value", "(", "sql", "cmd", ",", "conn", ")", ";", "return", "object", "utils", ".", "get", "integer", "(", "value", ",", "def", "val", ")", ";", "}"], "new_code": "public final int query single int ( string sql cmd , int def val , connection conn ) { return query single int ( sql cmd , null , def val , conn ) ; }", "new_code_tokens": ["public", "final", "int", "query", "single", "int", "(", "string", "sql", "cmd", ",", "int", "def", "val", ",", "connection", "conn", ")", "{", "return", "query", "single", "int", "(", "sql", "cmd", ",", "null", ",", "def", "val", ",", "conn", ")", ";", "}"], "span_diff_code": "<KEEP> public final int query single int ( string sql cmd , int def val , connection conn ) { <KEEP_END> <REPLACE_OLD> object value = <REPLACE_NEW> return <REPLACE_END> <KEEP> query single <KEEP_END> <REPLACE_OLD> value <REPLACE_NEW> int <REPLACE_END> <KEEP> ( sql cmd , <KEEP_END> <INSERT> null , def val , <INSERT_END> <KEEP> conn ) ; <KEEP_END> <DELETE> return object utils . get integer ( value , def val ) ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "int", "query", "single", "int", "(", "string", "sql", "cmd", ",", "int", "def", "val", ",", "connection", "conn", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "object", "value", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "query", "single", "<KEEP_END>", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "(", "sql", "cmd", ",", "<KEEP_END>", "<INSERT>", "null", ",", "def", "val", ",", "<INSERT_END>", "<KEEP>", "conn", ")", ";", "<KEEP_END>", "<DELETE>", "return", "object", "utils", ".", "get", "integer", "(", "value", ",", "def", "val", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> , if no result the int value 0 <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", ",", "if", "no", "result", "the", "int", "value", "0", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "query", "<KEEP>", "single", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "sql", "<KEEP>", "cmd", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "def", "<KEEP>", "val", "<KEEP>", ",", "<KEEP>", "connection", "<KEEP>", "conn", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "query", "<KEEP>", "single", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "int", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", "cmd", "<KEEP>", ",", "<INSERT>", "null", "<INSERT>", ",", "<INSERT>", "def", "<INSERT>", "val", "<INSERT>", ",", "<KEEP>", "conn", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "object", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "integer", "<DELETE>", "(", "<DELETE>", "value", "<DELETE>", ",", "<DELETE>", "def", "<DELETE>", "val", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_giraph-23-5639", "old_comment": "map of healthy worker list to jsonarray ( hostname , port )", "old_comment_tokens": ["map", "of", "healthy", "worker", "list", "to", "jsonarray", "(", "hostname", ",", "port", ")"], "new_comment": "list of of healthy workers", "new_comment_tokens": ["list", "of", "of", "healthy", "workers"], "old_code": "private map < string , jsonarray > check workers ( ) { boolean fail job = true ; int poll attempt = num ; list < string > healthy worker list = new array list < string > ( ) ; list < string > unhealthy worker list = new array list < string > ( ) ; int total responses = - num ; while ( poll attempt < max poll attempts ) { get workers ( get superstep ( ) , healthy worker list , unhealthy worker list ) ; total responses = healthy worker list . size ( ) + unhealthy worker list . size ( ) ; if ( ( total responses * num / max workers ) > = min percent responded ) { fail job = false ; break ; } get context ( ) . set status ( get graph mapper ( ) . get map functions ( ) + str + str + total responses + str + max workers + str + get superstep ( ) ) ; if ( get worker health registration changed event ( ) . wait msecs ( msecs poll period ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + str ) ; } get worker health registration changed event ( ) . reset ( ) ; continue ; } if ( log . is info enabled ( ) ) { log . info ( str + total responses + str + max workers + str + get superstep ( ) + str + msecs poll period + str + poll attempt + str + max poll attempts + str ) ; if ( ( max workers - total responses ) < = partition long tail min print ) { set < integer > partition set = new tree set < integer > ( ) ; for ( string hostname partition id : healthy worker list ) { int last index = hostname partition id . last index of ( str ) ; integer partition = integer . parse int ( hostname partition id . substring ( last index + num ) ) ; partition set . add ( partition ) ; } for ( string hostname partition id : unhealthy worker list ) { int last index = hostname partition id . last index of ( str ) ; integer partition = integer . parse int ( hostname partition id . substring ( last index + num ) ) ; partition set . add ( partition ) ; } for ( int i = num ; i < = max workers ; + + i ) { if ( partition set . contains ( new integer ( i ) ) ) { continue ; } else if ( i = = get task partition ( ) ) { continue ; } else { log . info ( str + str + i + str ) ; } } } } + + poll attempt ; } if ( fail job ) { log . error ( str + str + total responses + str + min workers + str + str + str + str ) ; return null ; } if ( healthy worker list . size ( ) < min workers ) { log . error ( str + healthy worker list . size ( ) + str + min workers + str ) ; return null ; } map < string , jsonarray > worker hostname port map = new hash map < string , jsonarray > ( ) ; for ( string healthy worker : healthy worker list ) { string healthy worker path = null ; try { healthy worker path = get worker healthy path ( get application attempt ( ) , get superstep ( ) ) + str + healthy worker ; jsonarray hostname port array = new jsonarray ( new string ( get zk ext ( ) . get data ( healthy worker path , false , null ) ) ) ; worker hostname port map . put ( healthy worker , hostname port array ) ; } catch ( jsonexception e ) { throw new runtime exception ( str + healthy worker + str + healthy worker path ) ; } catch ( keeper exception e ) { throw new illegal state exception ( str , e ) ; } catch ( interrupted exception e ) { throw new illegal state exception ( str , e ) ; } } return worker hostname port map ; }", "old_code_tokens": ["private", "map", "<", "string", ",", "jsonarray", ">", "check", "workers", "(", ")", "{", "boolean", "fail", "job", "=", "true", ";", "int", "poll", "attempt", "=", "num", ";", "list", "<", "string", ">", "healthy", "worker", "list", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "list", "<", "string", ">", "unhealthy", "worker", "list", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "int", "total", "responses", "=", "-", "num", ";", "while", "(", "poll", "attempt", "<", "max", "poll", "attempts", ")", "{", "get", "workers", "(", "get", "superstep", "(", ")", ",", "healthy", "worker", "list", ",", "unhealthy", "worker", "list", ")", ";", "total", "responses", "=", "healthy", "worker", "list", ".", "size", "(", ")", "+", "unhealthy", "worker", "list", ".", "size", "(", ")", ";", "if", "(", "(", "total", "responses", "*", "num", "/", "max", "workers", ")", ">", "=", "min", "percent", "responded", ")", "{", "fail", "job", "=", "false", ";", "break", ";", "}", "get", "context", "(", ")", ".", "set", "status", "(", "get", "graph", "mapper", "(", ")", ".", "get", "map", "functions", "(", ")", "+", "str", "+", "str", "+", "total", "responses", "+", "str", "+", "max", "workers", "+", "str", "+", "get", "superstep", "(", ")", ")", ";", "if", "(", "get", "worker", "health", "registration", "changed", "event", "(", ")", ".", "wait", "msecs", "(", "msecs", "poll", "period", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "str", ")", ";", "}", "get", "worker", "health", "registration", "changed", "event", "(", ")", ".", "reset", "(", ")", ";", "continue", ";", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "total", "responses", "+", "str", "+", "max", "workers", "+", "str", "+", "get", "superstep", "(", ")", "+", "str", "+", "msecs", "poll", "period", "+", "str", "+", "poll", "attempt", "+", "str", "+", "max", "poll", "attempts", "+", "str", ")", ";", "if", "(", "(", "max", "workers", "-", "total", "responses", ")", "<", "=", "partition", "long", "tail", "min", "print", ")", "{", "set", "<", "integer", ">", "partition", "set", "=", "new", "tree", "set", "<", "integer", ">", "(", ")", ";", "for", "(", "string", "hostname", "partition", "id", ":", "healthy", "worker", "list", ")", "{", "int", "last", "index", "=", "hostname", "partition", "id", ".", "last", "index", "of", "(", "str", ")", ";", "integer", "partition", "=", "integer", ".", "parse", "int", "(", "hostname", "partition", "id", ".", "substring", "(", "last", "index", "+", "num", ")", ")", ";", "partition", "set", ".", "add", "(", "partition", ")", ";", "}", "for", "(", "string", "hostname", "partition", "id", ":", "unhealthy", "worker", "list", ")", "{", "int", "last", "index", "=", "hostname", "partition", "id", ".", "last", "index", "of", "(", "str", ")", ";", "integer", "partition", "=", "integer", ".", "parse", "int", "(", "hostname", "partition", "id", ".", "substring", "(", "last", "index", "+", "num", ")", ")", ";", "partition", "set", ".", "add", "(", "partition", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "=", "max", "workers", ";", "+", "+", "i", ")", "{", "if", "(", "partition", "set", ".", "contains", "(", "new", "integer", "(", "i", ")", ")", ")", "{", "continue", ";", "}", "else", "if", "(", "i", "=", "=", "get", "task", "partition", "(", ")", ")", "{", "continue", ";", "}", "else", "{", "log", ".", "info", "(", "str", "+", "str", "+", "i", "+", "str", ")", ";", "}", "}", "}", "}", "+", "+", "poll", "attempt", ";", "}", "if", "(", "fail", "job", ")", "{", "log", ".", "error", "(", "str", "+", "str", "+", "total", "responses", "+", "str", "+", "min", "workers", "+", "str", "+", "str", "+", "str", "+", "str", ")", ";", "return", "null", ";", "}", "if", "(", "healthy", "worker", "list", ".", "size", "(", ")", "<", "min", "workers", ")", "{", "log", ".", "error", "(", "str", "+", "healthy", "worker", "list", ".", "size", "(", ")", "+", "str", "+", "min", "workers", "+", "str", ")", ";", "return", "null", ";", "}", "map", "<", "string", ",", "jsonarray", ">", "worker", "hostname", "port", "map", "=", "new", "hash", "map", "<", "string", ",", "jsonarray", ">", "(", ")", ";", "for", "(", "string", "healthy", "worker", ":", "healthy", "worker", "list", ")", "{", "string", "healthy", "worker", "path", "=", "null", ";", "try", "{", "healthy", "worker", "path", "=", "get", "worker", "healthy", "path", "(", "get", "application", "attempt", "(", ")", ",", "get", "superstep", "(", ")", ")", "+", "str", "+", "healthy", "worker", ";", "jsonarray", "hostname", "port", "array", "=", "new", "jsonarray", "(", "new", "string", "(", "get", "zk", "ext", "(", ")", ".", "get", "data", "(", "healthy", "worker", "path", ",", "false", ",", "null", ")", ")", ")", ";", "worker", "hostname", "port", "map", ".", "put", "(", "healthy", "worker", ",", "hostname", "port", "array", ")", ";", "}", "catch", "(", "jsonexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", "+", "healthy", "worker", "+", "str", "+", "healthy", "worker", "path", ")", ";", "}", "catch", "(", "keeper", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ",", "e", ")", ";", "}", "}", "return", "worker", "hostname", "port", "map", ";", "}"], "new_code": "private list < worker info > check workers ( ) { boolean fail job = true ; int poll attempt = num ; list < worker info > healthy worker info list = new array list < worker info > ( ) ; list < worker info > unhealthy worker info list = new array list < worker info > ( ) ; int total responses = - num ; while ( poll attempt < max poll attempts ) { get all worker infos ( get superstep ( ) , healthy worker info list , unhealthy worker info list ) ; total responses = healthy worker info list . size ( ) + unhealthy worker info list . size ( ) ; if ( ( total responses * num / max workers ) > = min percent responded ) { fail job = false ; break ; } get context ( ) . set status ( get graph mapper ( ) . get map functions ( ) + str + str + total responses + str + max workers + str + get superstep ( ) ) ; if ( get worker health registration changed event ( ) . wait msecs ( msecs poll period ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + str ) ; } get worker health registration changed event ( ) . reset ( ) ; continue ; } if ( log . is info enabled ( ) ) { log . info ( str + total responses + str + max workers + str + get superstep ( ) + str + msecs poll period + str + poll attempt + str + max poll attempts + str ) ; if ( ( max workers - total responses ) < = partition long tail min print ) { set < integer > partition set = new tree set < integer > ( ) ; for ( worker info worker info : healthy worker info list ) { partition set . add ( worker info . get partition id ( ) ) ; } for ( worker info worker info : unhealthy worker info list ) { partition set . add ( worker info . get partition id ( ) ) ; } for ( int i = num ; i < = max workers ; + + i ) { if ( partition set . contains ( new integer ( i ) ) ) { continue ; } else if ( i = = get task partition ( ) ) { continue ; } else { log . info ( str + str + i + str ) ; } } } } + + poll attempt ; } if ( fail job ) { log . error ( str + str + total responses + str + min workers + str + str + str + str ) ; return null ; } if ( healthy worker info list . size ( ) < min workers ) { log . error ( str + healthy worker info list . size ( ) + str + min workers + str ) ; return null ; } return healthy worker info list ; }", "new_code_tokens": ["private", "list", "<", "worker", "info", ">", "check", "workers", "(", ")", "{", "boolean", "fail", "job", "=", "true", ";", "int", "poll", "attempt", "=", "num", ";", "list", "<", "worker", "info", ">", "healthy", "worker", "info", "list", "=", "new", "array", "list", "<", "worker", "info", ">", "(", ")", ";", "list", "<", "worker", "info", ">", "unhealthy", "worker", "info", "list", "=", "new", "array", "list", "<", "worker", "info", ">", "(", ")", ";", "int", "total", "responses", "=", "-", "num", ";", "while", "(", "poll", "attempt", "<", "max", "poll", "attempts", ")", "{", "get", "all", "worker", "infos", "(", "get", "superstep", "(", ")", ",", "healthy", "worker", "info", "list", ",", "unhealthy", "worker", "info", "list", ")", ";", "total", "responses", "=", "healthy", "worker", "info", "list", ".", "size", "(", ")", "+", "unhealthy", "worker", "info", "list", ".", "size", "(", ")", ";", "if", "(", "(", "total", "responses", "*", "num", "/", "max", "workers", ")", ">", "=", "min", "percent", "responded", ")", "{", "fail", "job", "=", "false", ";", "break", ";", "}", "get", "context", "(", ")", ".", "set", "status", "(", "get", "graph", "mapper", "(", ")", ".", "get", "map", "functions", "(", ")", "+", "str", "+", "str", "+", "total", "responses", "+", "str", "+", "max", "workers", "+", "str", "+", "get", "superstep", "(", ")", ")", ";", "if", "(", "get", "worker", "health", "registration", "changed", "event", "(", ")", ".", "wait", "msecs", "(", "msecs", "poll", "period", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "str", ")", ";", "}", "get", "worker", "health", "registration", "changed", "event", "(", ")", ".", "reset", "(", ")", ";", "continue", ";", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "total", "responses", "+", "str", "+", "max", "workers", "+", "str", "+", "get", "superstep", "(", ")", "+", "str", "+", "msecs", "poll", "period", "+", "str", "+", "poll", "attempt", "+", "str", "+", "max", "poll", "attempts", "+", "str", ")", ";", "if", "(", "(", "max", "workers", "-", "total", "responses", ")", "<", "=", "partition", "long", "tail", "min", "print", ")", "{", "set", "<", "integer", ">", "partition", "set", "=", "new", "tree", "set", "<", "integer", ">", "(", ")", ";", "for", "(", "worker", "info", "worker", "info", ":", "healthy", "worker", "info", "list", ")", "{", "partition", "set", ".", "add", "(", "worker", "info", ".", "get", "partition", "id", "(", ")", ")", ";", "}", "for", "(", "worker", "info", "worker", "info", ":", "unhealthy", "worker", "info", "list", ")", "{", "partition", "set", ".", "add", "(", "worker", "info", ".", "get", "partition", "id", "(", ")", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "=", "max", "workers", ";", "+", "+", "i", ")", "{", "if", "(", "partition", "set", ".", "contains", "(", "new", "integer", "(", "i", ")", ")", ")", "{", "continue", ";", "}", "else", "if", "(", "i", "=", "=", "get", "task", "partition", "(", ")", ")", "{", "continue", ";", "}", "else", "{", "log", ".", "info", "(", "str", "+", "str", "+", "i", "+", "str", ")", ";", "}", "}", "}", "}", "+", "+", "poll", "attempt", ";", "}", "if", "(", "fail", "job", ")", "{", "log", ".", "error", "(", "str", "+", "str", "+", "total", "responses", "+", "str", "+", "min", "workers", "+", "str", "+", "str", "+", "str", "+", "str", ")", ";", "return", "null", ";", "}", "if", "(", "healthy", "worker", "info", "list", ".", "size", "(", ")", "<", "min", "workers", ")", "{", "log", ".", "error", "(", "str", "+", "healthy", "worker", "info", "list", ".", "size", "(", ")", "+", "str", "+", "min", "workers", "+", "str", ")", ";", "return", "null", ";", "}", "return", "healthy", "worker", "info", "list", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> map < string , jsonarray <REPLACE_NEW> list < worker info <REPLACE_END> <KEEP> > check workers ( ) { boolean fail job = true ; int poll attempt = num ; list < <KEEP_END> <REPLACE_OLD> string > healthy worker <REPLACE_NEW> worker info > healthy worker info <REPLACE_END> <KEEP> list = new array list < <KEEP_END> <REPLACE_OLD> string > ( ) ; list < string <REPLACE_NEW> worker info > ( ) ; list < worker info <REPLACE_END> <KEEP> > unhealthy worker <KEEP_END> <INSERT> info <INSERT_END> <KEEP> list = new array list < <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> worker info <REPLACE_END> <KEEP> > ( ) ; int total responses = - num ; while ( poll attempt < max poll attempts ) { get <KEEP_END> <REPLACE_OLD> workers <REPLACE_NEW> all worker infos <REPLACE_END> <KEEP> ( get superstep ( ) , healthy worker <KEEP_END> <INSERT> info <INSERT_END> <KEEP> list , unhealthy worker <KEEP_END> <REPLACE_OLD> list ) ; total responses = healthy worker <REPLACE_NEW> info list ) ; total responses = healthy worker info <REPLACE_END> <KEEP> list . size ( ) + unhealthy worker <KEEP_END> <INSERT> info <INSERT_END> <KEEP> list . size ( ) ; if ( ( total responses * num / max workers ) > = min percent responded ) { fail job = false ; break ; } get context ( ) . set status ( get graph mapper ( ) . get map functions ( ) + str + str + total responses + str + max workers + str + get superstep ( ) ) ; if ( get worker health registration changed event ( ) . wait msecs ( msecs poll period ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + str ) ; } get worker health registration changed event ( ) . reset ( ) ; continue ; } if ( log . is info enabled ( ) ) { log . info ( str + total responses + str + max workers + str + get superstep ( ) + str + msecs poll period + str + poll attempt + str + max poll attempts + str ) ; if ( ( max workers - total responses ) < = partition long tail min print ) { set < integer > partition set = new tree set < integer > ( ) ; for ( <KEEP_END> <REPLACE_OLD> string hostname <REPLACE_NEW> worker info worker info : healthy worker info list ) { partition set . add ( worker info . get <REPLACE_END> <KEEP> partition id <KEEP_END> <REPLACE_OLD> : healthy worker list ) { int last index = hostname partition id . last index of ( str ) ; integer partition = integer . parse int ( hostname partition id . substring ( last index + num ) ) ; partition set . add ( partition <REPLACE_NEW> ( ) <REPLACE_END> <KEEP> ) ; } for ( <KEEP_END> <REPLACE_OLD> string hostname partition id <REPLACE_NEW> worker info worker info <REPLACE_END> <KEEP> : unhealthy worker <KEEP_END> <REPLACE_OLD> list ) { int last index = hostname <REPLACE_NEW> info list ) { partition set . add ( worker info . get <REPLACE_END> <KEEP> partition id <KEEP_END> <REPLACE_OLD> . last index of ( str ) ; integer partition = integer . parse int ( hostname partition id . substring ( last index + num ) ) ; partition set . add ( partition <REPLACE_NEW> ( ) <REPLACE_END> <KEEP> ) ; } for ( int i = num ; i < = max workers ; + + i ) { if ( partition set . contains ( new integer ( i ) ) ) { continue ; } else if ( i = = get task partition ( ) ) { continue ; } else { log . info ( str + str + i + str ) ; } } } } + + poll attempt ; } if ( fail job ) { log . error ( str + str + total responses + str + min workers + str + str + str + str ) ; return null ; } if ( healthy worker <KEEP_END> <INSERT> info <INSERT_END> <KEEP> list . size ( ) < min workers ) { log . error ( str + healthy worker <KEEP_END> <INSERT> info <INSERT_END> <KEEP> list . size ( ) + str + min workers + str ) ; return null ; } <KEEP_END> <DELETE> map < string , jsonarray > worker hostname port map = new hash map < string , jsonarray > ( ) ; for ( string healthy worker : healthy worker list ) { string healthy worker path = null ; try { healthy worker path = get worker healthy path ( get application attempt ( ) , get superstep ( ) ) + str + healthy worker ; jsonarray hostname port array = new jsonarray ( new string ( get zk ext ( ) . get data ( healthy worker path , false , null ) ) ) ; worker hostname port map . put ( healthy worker , hostname port array ) ; } catch ( jsonexception e ) { throw new runtime exception ( str + healthy worker + str + healthy worker path ) ; } catch ( keeper exception e ) { throw new illegal state exception ( str , e ) ; } catch ( interrupted exception e ) { throw new illegal state exception ( str , e ) ; } } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> worker hostname port map ; } <REPLACE_NEW> healthy worker info list ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "jsonarray", "<REPLACE_NEW>", "list", "<", "worker", "info", "<REPLACE_END>", "<KEEP>", ">", "check", "workers", "(", ")", "{", "boolean", "fail", "job", "=", "true", ";", "int", "poll", "attempt", "=", "num", ";", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", ">", "healthy", "worker", "<REPLACE_NEW>", "worker", "info", ">", "healthy", "worker", "info", "<REPLACE_END>", "<KEEP>", "list", "=", "new", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", ">", "(", ")", ";", "list", "<", "string", "<REPLACE_NEW>", "worker", "info", ">", "(", ")", ";", "list", "<", "worker", "info", "<REPLACE_END>", "<KEEP>", ">", "unhealthy", "worker", "<KEEP_END>", "<INSERT>", "info", "<INSERT_END>", "<KEEP>", "list", "=", "new", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "worker", "info", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "int", "total", "responses", "=", "-", "num", ";", "while", "(", "poll", "attempt", "<", "max", "poll", "attempts", ")", "{", "get", "<KEEP_END>", "<REPLACE_OLD>", "workers", "<REPLACE_NEW>", "all", "worker", "infos", "<REPLACE_END>", "<KEEP>", "(", "get", "superstep", "(", ")", ",", "healthy", "worker", "<KEEP_END>", "<INSERT>", "info", "<INSERT_END>", "<KEEP>", "list", ",", "unhealthy", "worker", "<KEEP_END>", "<REPLACE_OLD>", "list", ")", ";", "total", "responses", "=", "healthy", "worker", "<REPLACE_NEW>", "info", "list", ")", ";", "total", "responses", "=", "healthy", "worker", "info", "<REPLACE_END>", "<KEEP>", "list", ".", "size", "(", ")", "+", "unhealthy", "worker", "<KEEP_END>", "<INSERT>", "info", "<INSERT_END>", "<KEEP>", "list", ".", "size", "(", ")", ";", "if", "(", "(", "total", "responses", "*", "num", "/", "max", "workers", ")", ">", "=", "min", "percent", "responded", ")", "{", "fail", "job", "=", "false", ";", "break", ";", "}", "get", "context", "(", ")", ".", "set", "status", "(", "get", "graph", "mapper", "(", ")", ".", "get", "map", "functions", "(", ")", "+", "str", "+", "str", "+", "total", "responses", "+", "str", "+", "max", "workers", "+", "str", "+", "get", "superstep", "(", ")", ")", ";", "if", "(", "get", "worker", "health", "registration", "changed", "event", "(", ")", ".", "wait", "msecs", "(", "msecs", "poll", "period", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "str", ")", ";", "}", "get", "worker", "health", "registration", "changed", "event", "(", ")", ".", "reset", "(", ")", ";", "continue", ";", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "total", "responses", "+", "str", "+", "max", "workers", "+", "str", "+", "get", "superstep", "(", ")", "+", "str", "+", "msecs", "poll", "period", "+", "str", "+", "poll", "attempt", "+", "str", "+", "max", "poll", "attempts", "+", "str", ")", ";", "if", "(", "(", "max", "workers", "-", "total", "responses", ")", "<", "=", "partition", "long", "tail", "min", "print", ")", "{", "set", "<", "integer", ">", "partition", "set", "=", "new", "tree", "set", "<", "integer", ">", "(", ")", ";", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "string", "hostname", "<REPLACE_NEW>", "worker", "info", "worker", "info", ":", "healthy", "worker", "info", "list", ")", "{", "partition", "set", ".", "add", "(", "worker", "info", ".", "get", "<REPLACE_END>", "<KEEP>", "partition", "id", "<KEEP_END>", "<REPLACE_OLD>", ":", "healthy", "worker", "list", ")", "{", "int", "last", "index", "=", "hostname", "partition", "id", ".", "last", "index", "of", "(", "str", ")", ";", "integer", "partition", "=", "integer", ".", "parse", "int", "(", "hostname", "partition", "id", ".", "substring", "(", "last", "index", "+", "num", ")", ")", ";", "partition", "set", ".", "add", "(", "partition", "<REPLACE_NEW>", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "string", "hostname", "partition", "id", "<REPLACE_NEW>", "worker", "info", "worker", "info", "<REPLACE_END>", "<KEEP>", ":", "unhealthy", "worker", "<KEEP_END>", "<REPLACE_OLD>", "list", ")", "{", "int", "last", "index", "=", "hostname", "<REPLACE_NEW>", "info", "list", ")", "{", "partition", "set", ".", "add", "(", "worker", "info", ".", "get", "<REPLACE_END>", "<KEEP>", "partition", "id", "<KEEP_END>", "<REPLACE_OLD>", ".", "last", "index", "of", "(", "str", ")", ";", "integer", "partition", "=", "integer", ".", "parse", "int", "(", "hostname", "partition", "id", ".", "substring", "(", "last", "index", "+", "num", ")", ")", ";", "partition", "set", ".", "add", "(", "partition", "<REPLACE_NEW>", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "=", "max", "workers", ";", "+", "+", "i", ")", "{", "if", "(", "partition", "set", ".", "contains", "(", "new", "integer", "(", "i", ")", ")", ")", "{", "continue", ";", "}", "else", "if", "(", "i", "=", "=", "get", "task", "partition", "(", ")", ")", "{", "continue", ";", "}", "else", "{", "log", ".", "info", "(", "str", "+", "str", "+", "i", "+", "str", ")", ";", "}", "}", "}", "}", "+", "+", "poll", "attempt", ";", "}", "if", "(", "fail", "job", ")", "{", "log", ".", "error", "(", "str", "+", "str", "+", "total", "responses", "+", "str", "+", "min", "workers", "+", "str", "+", "str", "+", "str", "+", "str", ")", ";", "return", "null", ";", "}", "if", "(", "healthy", "worker", "<KEEP_END>", "<INSERT>", "info", "<INSERT_END>", "<KEEP>", "list", ".", "size", "(", ")", "<", "min", "workers", ")", "{", "log", ".", "error", "(", "str", "+", "healthy", "worker", "<KEEP_END>", "<INSERT>", "info", "<INSERT_END>", "<KEEP>", "list", ".", "size", "(", ")", "+", "str", "+", "min", "workers", "+", "str", ")", ";", "return", "null", ";", "}", "<KEEP_END>", "<DELETE>", "map", "<", "string", ",", "jsonarray", ">", "worker", "hostname", "port", "map", "=", "new", "hash", "map", "<", "string", ",", "jsonarray", ">", "(", ")", ";", "for", "(", "string", "healthy", "worker", ":", "healthy", "worker", "list", ")", "{", "string", "healthy", "worker", "path", "=", "null", ";", "try", "{", "healthy", "worker", "path", "=", "get", "worker", "healthy", "path", "(", "get", "application", "attempt", "(", ")", ",", "get", "superstep", "(", ")", ")", "+", "str", "+", "healthy", "worker", ";", "jsonarray", "hostname", "port", "array", "=", "new", "jsonarray", "(", "new", "string", "(", "get", "zk", "ext", "(", ")", ".", "get", "data", "(", "healthy", "worker", "path", ",", "false", ",", "null", ")", ")", ")", ";", "worker", "hostname", "port", "map", ".", "put", "(", "healthy", "worker", ",", "hostname", "port", "array", ")", ";", "}", "catch", "(", "jsonexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", "+", "healthy", "worker", "+", "str", "+", "healthy", "worker", "path", ")", ";", "}", "catch", "(", "keeper", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ",", "e", ")", ";", "}", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "worker", "hostname", "port", "map", ";", "}", "<REPLACE_NEW>", "healthy", "worker", "info", "list", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> list of <REPLACE_END> <REPLACE_OLD> worker list to jsonarray ( hostname , port ) <REPLACE_NEW> workers <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "list", "of", "<REPLACE_END>", "<REPLACE_OLD>", "worker", "list", "to", "jsonarray", "(", "hostname", ",", "port", ")", "<REPLACE_NEW>", "workers", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<KEEP>", ">", "<KEEP>", "check", "<KEEP>", "workers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "boolean", "<KEEP>", "fail", "<KEEP>", "job", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "poll", "<KEEP>", "attempt", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "healthy", "<REPLACE_OLD>", "worker", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "healthy", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<KEEP>", ">", "<KEEP>", "unhealthy", "<KEEP>", "worker", "<INSERT>", "info", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "total", "<KEEP>", "responses", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "poll", "<KEEP>", "attempt", "<KEEP>", "<", "<KEEP>", "max", "<KEEP>", "poll", "<KEEP>", "attempts", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "get", "<REPLACE_OLD>", "workers", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "infos", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "superstep", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "healthy", "<KEEP>", "worker", "<INSERT>", "info", "<KEEP>", "list", "<KEEP>", ",", "<KEEP>", "unhealthy", "<KEEP>", "worker", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "total", "<REPLACE_OLD>", "responses", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "healthy", "<REPLACE_OLD>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "total", "<REPLACE_NEW>", "responses", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "healthy", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "unhealthy", "<KEEP>", "worker", "<INSERT>", "info", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "total", "<KEEP>", "responses", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", "/", "<KEEP>", "max", "<KEEP>", "workers", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "min", "<KEEP>", "percent", "<KEEP>", "responded", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "fail", "<KEEP>", "job", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "graph", "<KEEP>", "mapper", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "map", "<KEEP>", "functions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "total", "<KEEP>", "responses", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "max", "<KEEP>", "workers", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "get", "<KEEP>", "superstep", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "worker", "<KEEP>", "health", "<KEEP>", "registration", "<KEEP>", "changed", "<KEEP>", "event", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "wait", "<KEEP>", "msecs", "<KEEP>", "(", "<KEEP>", "msecs", "<KEEP>", "poll", "<KEEP>", "period", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "get", "<KEEP>", "worker", "<KEEP>", "health", "<KEEP>", "registration", "<KEEP>", "changed", "<KEEP>", "event", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "reset", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "info", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "total", "<KEEP>", "responses", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "max", "<KEEP>", "workers", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "get", "<KEEP>", "superstep", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "msecs", "<KEEP>", "poll", "<KEEP>", "period", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "poll", "<KEEP>", "attempt", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "max", "<KEEP>", "poll", "<KEEP>", "attempts", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "max", "<KEEP>", "workers", "<KEEP>", "-", "<KEEP>", "total", "<KEEP>", "responses", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "partition", "<KEEP>", "long", "<KEEP>", "tail", "<KEEP>", "min", "<KEEP>", "print", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "partition", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "tree", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "hostname", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "healthy", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "partition", "<KEEP>", "id", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "healthy", "<REPLACE_OLD>", "worker", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "hostname", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "hostname", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "substring", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "partition", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "hostname", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<KEEP>", ":", "<KEEP>", "unhealthy", "<KEEP>", "worker", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "hostname", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "partition", "<KEEP>", "id", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "hostname", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "substring", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "partition", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "max", "<KEEP>", "workers", "<KEEP>", ";", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "partition", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "task", "<KEEP>", "partition", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", "poll", "<KEEP>", "attempt", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "fail", "<KEEP>", "job", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "total", "<KEEP>", "responses", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "min", "<KEEP>", "workers", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "healthy", "<KEEP>", "worker", "<INSERT>", "info", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "min", "<KEEP>", "workers", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "healthy", "<KEEP>", "worker", "<INSERT>", "info", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "min", "<KEEP>", "workers", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "jsonarray", "<DELETE>", ">", "<DELETE>", "worker", "<DELETE>", "hostname", "<DELETE>", "port", "<DELETE>", "map", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "hash", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "jsonarray", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", ":", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", "list", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "string", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", "path", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", "path", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "worker", "<DELETE>", "healthy", "<DELETE>", "path", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "application", "<DELETE>", "attempt", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "get", "<DELETE>", "superstep", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", ";", "<DELETE>", "jsonarray", "<DELETE>", "hostname", "<DELETE>", "port", "<DELETE>", "array", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "jsonarray", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "zk", "<DELETE>", "ext", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "data", "<DELETE>", "(", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", "path", "<DELETE>", ",", "<DELETE>", "false", "<DELETE>", ",", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "worker", "<DELETE>", "hostname", "<DELETE>", "port", "<DELETE>", "map", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", ",", "<DELETE>", "hostname", "<DELETE>", "port", "<DELETE>", "array", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "jsonexception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "runtime", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "healthy", "<DELETE>", "worker", "<DELETE>", "path", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "keeper", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "illegal", "<DELETE>", "state", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "interrupted", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "illegal", "<DELETE>", "state", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "worker", "<REPLACE_OLD>", "hostname", "<REPLACE_OLD>", "port", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "healthy", "<REPLACE_NEW>", "worker", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "signal_agathon-2-5233", "old_comment": "the list of cassandra instances", "old_comment_tokens": ["the", "list", "of", "cassandra", "instances"], "new_comment": "the set of cassandra instances", "new_comment_tokens": ["the", "set", "of", "cassandra", "instances"], "old_code": "@ get public list < cassandra instance > find all ( ) { return service . find all ( ) ; }", "old_code_tokens": ["@", "get", "public", "list", "<", "cassandra", "instance", ">", "find", "all", "(", ")", "{", "return", "service", ".", "find", "all", "(", ")", ";", "}"], "new_code": "@ get public set < cassandra instance > find all ( ) { return service . find all ( ) ; }", "new_code_tokens": ["@", "get", "public", "set", "<", "cassandra", "instance", ">", "find", "all", "(", ")", "{", "return", "service", ".", "find", "all", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ get public <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> set <REPLACE_END> <KEEP> < cassandra instance > find all ( ) { return service . find all ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "get", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "<", "cassandra", "instance", ">", "find", "all", "(", ")", "{", "return", "service", ".", "find", "all", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "get", "<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "cassandra", "<KEEP>", "instance", "<KEEP>", ">", "<KEEP>", "find", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "hazelcast_hazelcast-10-3196", "old_comment": "the map topic configs", "old_comment_tokens": ["the", "map", "topic", "configs"], "new_comment": "the topic configs", "new_comment_tokens": ["the", "topic", "configs"], "old_code": "public map < string , topic config > get topic configs ( ) { return collections . unmodifiable map ( map topic configs ) ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "topic", "config", ">", "get", "topic", "configs", "(", ")", "{", "return", "collections", ".", "unmodifiable", "map", "(", "map", "topic", "configs", ")", ";", "}"], "new_code": "public map < string , topic config > get topic configs ( ) { return collections . unmodifiable map ( topic configs ) ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "topic", "config", ">", "get", "topic", "configs", "(", ")", "{", "return", "collections", ".", "unmodifiable", "map", "(", "topic", "configs", ")", ";", "}"], "span_diff_code": "<KEEP> public map < string , topic config > get topic configs ( ) { return collections . unmodifiable map ( <KEEP_END> <DELETE> map <DELETE_END> <KEEP> topic configs ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "map", "<", "string", ",", "topic", "config", ">", "get", "topic", "configs", "(", ")", "{", "return", "collections", ".", "unmodifiable", "map", "(", "<KEEP_END>", "<DELETE>", "map", "<DELETE_END>", "<KEEP>", "topic", "configs", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> map <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "map", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "topic", "<KEEP>", "config", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "topic", "<KEEP>", "configs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "map", "<KEEP>", "(", "<DELETE>", "map", "<KEEP>", "topic", "<KEEP>", "configs", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "CellularPrivacy_Android-IMSI-Catcher-Detector-1-1405", "old_comment": "row id or - 1 if error todo : is this where csv data is populating the opencellid table ?", "old_comment_tokens": ["row", "id", "or", "-", "1", "if", "error", "todo", ":", "is", "this", "where", "csv", "data", "is", "populating", "the", "opencellid", "table", "?"], "new_comment": "row id or - 1 if error", "new_comment_tokens": ["row", "id", "or", "-", "1", "if", "error"], "old_code": "long insert open cell ( double latitude , double longitude , int mcc , int mnc , int lac , int cell id , int avg sig str , int range , int samples , int is gpsexact , string rat ) { content values cell idvalues = new content values ( ) ; cell idvalues . put ( str , latitude ) ; cell idvalues . put ( str , longitude ) ; cell idvalues . put ( str , mcc ) ; cell idvalues . put ( str , mnc ) ; cell idvalues . put ( str , lac ) ; cell idvalues . put ( str , cell id ) ; cell idvalues . put ( str , avg sig str ) ; cell idvalues . put ( str , range ) ; cell idvalues . put ( str , samples ) ; cell idvalues . put ( str , is gpsexact ) ; cell idvalues . put ( str , rat ) ; if ( open cell exists ( cell id ) ) { log . v ( tag , str + cell id ) ; return num ; } else { return m db . insert ( opencellid _ table , null , cell idvalues ) ; } }", "old_code_tokens": ["long", "insert", "open", "cell", "(", "double", "latitude", ",", "double", "longitude", ",", "int", "mcc", ",", "int", "mnc", ",", "int", "lac", ",", "int", "cell", "id", ",", "int", "avg", "sig", "str", ",", "int", "range", ",", "int", "samples", ",", "int", "is", "gpsexact", ",", "string", "rat", ")", "{", "content", "values", "cell", "idvalues", "=", "new", "content", "values", "(", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "latitude", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "longitude", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "mcc", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "mnc", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "lac", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "cell", "id", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "avg", "sig", "str", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "range", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "samples", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "is", "gpsexact", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "rat", ")", ";", "if", "(", "open", "cell", "exists", "(", "cell", "id", ")", ")", "{", "log", ".", "v", "(", "tag", ",", "str", "+", "cell", "id", ")", ";", "return", "num", ";", "}", "else", "{", "return", "m", "db", ".", "insert", "(", "opencellid", "_", "table", ",", "null", ",", "cell", "idvalues", ")", ";", "}", "}"], "new_code": "long insert open cell ( double latitude , double longitude , int mcc , int mnc , int lac , int cell id , int avg sig str , int range , int samples , int is gpsexact , string rat ) { content values cell idvalues = new content values ( ) ; cell idvalues . put ( str , latitude ) ; cell idvalues . put ( str , longitude ) ; cell idvalues . put ( str , mcc ) ; cell idvalues . put ( str , mnc ) ; cell idvalues . put ( str , lac ) ; cell idvalues . put ( str , cell id ) ; cell idvalues . put ( str , avg sig str ) ; cell idvalues . put ( str , range ) ; cell idvalues . put ( str , samples ) ; cell idvalues . put ( str , is gpsexact ) ; cell idvalues . put ( str , rat ) ; if ( open cell exists ( cell id ) ) { log . v ( tag , m tag + str + cell id ) ; return num ; } else { return m db . insert ( opencellid _ table , null , cell idvalues ) ; } }", "new_code_tokens": ["long", "insert", "open", "cell", "(", "double", "latitude", ",", "double", "longitude", ",", "int", "mcc", ",", "int", "mnc", ",", "int", "lac", ",", "int", "cell", "id", ",", "int", "avg", "sig", "str", ",", "int", "range", ",", "int", "samples", ",", "int", "is", "gpsexact", ",", "string", "rat", ")", "{", "content", "values", "cell", "idvalues", "=", "new", "content", "values", "(", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "latitude", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "longitude", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "mcc", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "mnc", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "lac", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "cell", "id", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "avg", "sig", "str", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "range", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "samples", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "is", "gpsexact", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "rat", ")", ";", "if", "(", "open", "cell", "exists", "(", "cell", "id", ")", ")", "{", "log", ".", "v", "(", "tag", ",", "m", "tag", "+", "str", "+", "cell", "id", ")", ";", "return", "num", ";", "}", "else", "{", "return", "m", "db", ".", "insert", "(", "opencellid", "_", "table", ",", "null", ",", "cell", "idvalues", ")", ";", "}", "}"], "span_diff_code": "<KEEP> long insert open cell ( double latitude , double longitude , int mcc , int mnc , int lac , int cell id , int avg sig str , int range , int samples , int is gpsexact , string rat ) { content values cell idvalues = new content values ( ) ; cell idvalues . put ( str , latitude ) ; cell idvalues . put ( str , longitude ) ; cell idvalues . put ( str , mcc ) ; cell idvalues . put ( str , mnc ) ; cell idvalues . put ( str , lac ) ; cell idvalues . put ( str , cell id ) ; cell idvalues . put ( str , avg sig str ) ; cell idvalues . put ( str , range ) ; cell idvalues . put ( str , samples ) ; cell idvalues . put ( str , is gpsexact ) ; cell idvalues . put ( str , rat ) ; if ( open cell exists ( cell id ) ) { log . v ( tag , <KEEP_END> <INSERT> m tag + <INSERT_END> <KEEP> str + cell id ) ; return num ; } else { return m db . insert ( opencellid _ table , null , cell idvalues ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "long", "insert", "open", "cell", "(", "double", "latitude", ",", "double", "longitude", ",", "int", "mcc", ",", "int", "mnc", ",", "int", "lac", ",", "int", "cell", "id", ",", "int", "avg", "sig", "str", ",", "int", "range", ",", "int", "samples", ",", "int", "is", "gpsexact", ",", "string", "rat", ")", "{", "content", "values", "cell", "idvalues", "=", "new", "content", "values", "(", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "latitude", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "longitude", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "mcc", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "mnc", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "lac", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "cell", "id", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "avg", "sig", "str", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "range", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "samples", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "is", "gpsexact", ")", ";", "cell", "idvalues", ".", "put", "(", "str", ",", "rat", ")", ";", "if", "(", "open", "cell", "exists", "(", "cell", "id", ")", ")", "{", "log", ".", "v", "(", "tag", ",", "<KEEP_END>", "<INSERT>", "m", "tag", "+", "<INSERT_END>", "<KEEP>", "str", "+", "cell", "id", ")", ";", "return", "num", ";", "}", "else", "{", "return", "m", "db", ".", "insert", "(", "opencellid", "_", "table", ",", "null", ",", "cell", "idvalues", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> todo : is this where csv data is populating the opencellid table ? <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "todo", ":", "is", "this", "where", "csv", "data", "is", "populating", "the", "opencellid", "table", "?", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "long", "<KEEP>", "insert", "<KEEP>", "open", "<KEEP>", "cell", "<KEEP>", "(", "<KEEP>", "double", "<KEEP>", "latitude", "<KEEP>", ",", "<KEEP>", "double", "<KEEP>", "longitude", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "mcc", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "mnc", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "lac", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "cell", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "avg", "<KEEP>", "sig", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "range", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "samples", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "is", "<KEEP>", "gpsexact", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "rat", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "content", "<KEEP>", "values", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "content", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "latitude", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "longitude", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "mcc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "mnc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "lac", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "cell", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "avg", "<KEEP>", "sig", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "range", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "samples", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "is", "<KEEP>", "gpsexact", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "rat", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "open", "<KEEP>", "cell", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", "cell", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "v", "<KEEP>", "(", "<KEEP>", "tag", "<KEEP>", ",", "<INSERT>", "m", "<INSERT>", "tag", "<INSERT>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "cell", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "db", "<KEEP>", ".", "<KEEP>", "insert", "<KEEP>", "(", "<KEEP>", "opencellid", "<KEEP>", "_", "<KEEP>", "table", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "cell", "<KEEP>", "idvalues", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_derby-123-6339", "old_comment": "true if evaluation returned at least one item , false otherwise .", "old_comment_tokens": ["true", "if", "evaluation", "returned", "at", "least", "one", "item", ",", "false", "otherwise", "."], "new_comment": "if return results is false then return an empty array list if evaluation returned at least one item and return null otherwise . if return results is true then return an array list containing all of the result items and return the qualified xml type via the result xtype parameter .", "new_comment_tokens": ["if", "return", "results", "is", "false", "then", "return", "an", "empty", "array", "list", "if", "evaluation", "returned", "at", "least", "one", "item", "and", "return", "null", "otherwise", ".", "if", "return", "results", "is", "true", "then", "return", "an", "array", "list", "containing", "all", "of", "the", "result", "items", "and", "return", "the", "qualified", "xml", "type", "via", "the", "result", "xtype", "parameter", "."], "old_code": "protected boolean eval xqexpression ( xmldata value xml context ) throws exception { if ( sanity manager . debug ) { sanity manager . assert ( ( query ! = null ) & & ( query . get expression ( ) ! = null ) , str ) ; } document doc node = null ; doc node = d builder . parse ( new input source ( new string reader ( xml context . get string ( ) ) ) ) ; get xpath context ( ) ; xp context . reset ( ) ; xobject x ob = query . execute ( xp context , doc node , null ) ; if ( ( x ob instanceof xnode set ) & & ( ( ( xnode set ) x ob ) . nodelist ( ) . get length ( ) > num ) ) { return true ; } else if ( ! ( x ob instanceof xnode set ) ) return true ; return false ; }", "old_code_tokens": ["protected", "boolean", "eval", "xqexpression", "(", "xmldata", "value", "xml", "context", ")", "throws", "exception", "{", "if", "(", "sanity", "manager", ".", "debug", ")", "{", "sanity", "manager", ".", "assert", "(", "(", "query", "!", "=", "null", ")", "&", "&", "(", "query", ".", "get", "expression", "(", ")", "!", "=", "null", ")", ",", "str", ")", ";", "}", "document", "doc", "node", "=", "null", ";", "doc", "node", "=", "d", "builder", ".", "parse", "(", "new", "input", "source", "(", "new", "string", "reader", "(", "xml", "context", ".", "get", "string", "(", ")", ")", ")", ")", ";", "get", "xpath", "context", "(", ")", ";", "xp", "context", ".", "reset", "(", ")", ";", "xobject", "x", "ob", "=", "query", ".", "execute", "(", "xp", "context", ",", "doc", "node", ",", "null", ")", ";", "if", "(", "(", "x", "ob", "instanceof", "xnode", "set", ")", "&", "&", "(", "(", "(", "xnode", "set", ")", "x", "ob", ")", ".", "nodelist", "(", ")", ".", "get", "length", "(", ")", ">", "num", ")", ")", "{", "return", "true", ";", "}", "else", "if", "(", "!", "(", "x", "ob", "instanceof", "xnode", "set", ")", ")", "return", "true", ";", "return", "false", ";", "}"], "new_code": "protected array list eval xqexpression ( xmldata value xml context , boolean return results , int [ ] result xtype ) throws exception { if ( sanity manager . debug ) { sanity manager . assert ( ( query ! = null ) & & ( query . get expression ( ) ! = null ) , str ) ; } if ( xml context . get xtype ( ) ! = xml . xml _ doc _ any ) { throw standard exception . new exception ( sqlstate . lang _ invalid _ xml _ context _ item , ( return results ? str : str ) ) ; } document doc node = null ; doc node = d builder . parse ( new input source ( new string reader ( xml context . get string ( ) ) ) ) ; get xpath context ( ) ; xp context . reset ( ) ; xobject x ob = query . execute ( xp context , doc node , null ) ; if ( ! return results ) { if ( ( x ob instanceof xnode set ) & & ( ( ( xnode set ) x ob ) . nodelist ( ) . get length ( ) > num ) ) { return new array list ( num ) ; } else if ( ! ( x ob instanceof xnode set ) ) return new array list ( num ) ; else { return null ; } } node list node list = null ; int num items = num ; if ( ! ( x ob instanceof xnode set ) ) num items = num ; else { node list = x ob . nodelist ( ) ; num items = node list . get length ( ) ; } array list item refs = new array list ( ) ; if ( node list = = null ) item refs . add ( x ob . str ( ) ) ; else { for ( int i = num ; i < num items ; i + + ) item refs . add ( node list . item ( i ) ) ; } node list = null ; if ( ( num items = = num ) & & ( ( item refs . get ( num ) instanceof document ) | | ( item refs . get ( num ) instanceof element ) ) ) { result xtype [ num ] = xml . xml _ doc _ any ; } else result xtype [ num ] = xml . xml _ sequence ; return item refs ; }", "new_code_tokens": ["protected", "array", "list", "eval", "xqexpression", "(", "xmldata", "value", "xml", "context", ",", "boolean", "return", "results", ",", "int", "[", "]", "result", "xtype", ")", "throws", "exception", "{", "if", "(", "sanity", "manager", ".", "debug", ")", "{", "sanity", "manager", ".", "assert", "(", "(", "query", "!", "=", "null", ")", "&", "&", "(", "query", ".", "get", "expression", "(", ")", "!", "=", "null", ")", ",", "str", ")", ";", "}", "if", "(", "xml", "context", ".", "get", "xtype", "(", ")", "!", "=", "xml", ".", "xml", "_", "doc", "_", "any", ")", "{", "throw", "standard", "exception", ".", "new", "exception", "(", "sqlstate", ".", "lang", "_", "invalid", "_", "xml", "_", "context", "_", "item", ",", "(", "return", "results", "?", "str", ":", "str", ")", ")", ";", "}", "document", "doc", "node", "=", "null", ";", "doc", "node", "=", "d", "builder", ".", "parse", "(", "new", "input", "source", "(", "new", "string", "reader", "(", "xml", "context", ".", "get", "string", "(", ")", ")", ")", ")", ";", "get", "xpath", "context", "(", ")", ";", "xp", "context", ".", "reset", "(", ")", ";", "xobject", "x", "ob", "=", "query", ".", "execute", "(", "xp", "context", ",", "doc", "node", ",", "null", ")", ";", "if", "(", "!", "return", "results", ")", "{", "if", "(", "(", "x", "ob", "instanceof", "xnode", "set", ")", "&", "&", "(", "(", "(", "xnode", "set", ")", "x", "ob", ")", ".", "nodelist", "(", ")", ".", "get", "length", "(", ")", ">", "num", ")", ")", "{", "return", "new", "array", "list", "(", "num", ")", ";", "}", "else", "if", "(", "!", "(", "x", "ob", "instanceof", "xnode", "set", ")", ")", "return", "new", "array", "list", "(", "num", ")", ";", "else", "{", "return", "null", ";", "}", "}", "node", "list", "node", "list", "=", "null", ";", "int", "num", "items", "=", "num", ";", "if", "(", "!", "(", "x", "ob", "instanceof", "xnode", "set", ")", ")", "num", "items", "=", "num", ";", "else", "{", "node", "list", "=", "x", "ob", ".", "nodelist", "(", ")", ";", "num", "items", "=", "node", "list", ".", "get", "length", "(", ")", ";", "}", "array", "list", "item", "refs", "=", "new", "array", "list", "(", ")", ";", "if", "(", "node", "list", "=", "=", "null", ")", "item", "refs", ".", "add", "(", "x", "ob", ".", "str", "(", ")", ")", ";", "else", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", "items", ";", "i", "+", "+", ")", "item", "refs", ".", "add", "(", "node", "list", ".", "item", "(", "i", ")", ")", ";", "}", "node", "list", "=", "null", ";", "if", "(", "(", "num", "items", "=", "=", "num", ")", "&", "&", "(", "(", "item", "refs", ".", "get", "(", "num", ")", "instanceof", "document", ")", "|", "|", "(", "item", "refs", ".", "get", "(", "num", ")", "instanceof", "element", ")", ")", ")", "{", "result", "xtype", "[", "num", "]", "=", "xml", ".", "xml", "_", "doc", "_", "any", ";", "}", "else", "result", "xtype", "[", "num", "]", "=", "xml", ".", "xml", "_", "sequence", ";", "return", "item", "refs", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> array list <REPLACE_END> <KEEP> eval xqexpression ( xmldata value xml context <KEEP_END> <INSERT> , boolean return results , int [ ] result xtype <INSERT_END> <KEEP> ) throws exception { if ( sanity manager . debug ) { sanity manager . assert ( ( query ! = null ) & & ( query . get expression ( ) ! = null ) , str ) ; } <KEEP_END> <INSERT> if ( xml context . get xtype ( ) ! = xml . xml _ doc _ any ) { throw standard exception . new exception ( sqlstate . lang _ invalid _ xml _ context _ item , ( return results ? str : str ) ) ; } <INSERT_END> <KEEP> document doc node = null ; doc node = d builder . parse ( new input source ( new string reader ( xml context . get string ( ) ) ) ) ; get xpath context ( ) ; xp context . reset ( ) ; xobject x ob = query . execute ( xp context , doc node , null ) ; <KEEP_END> <INSERT> if ( ! return results ) { <INSERT_END> <KEEP> if ( ( x ob instanceof xnode set ) & & ( ( ( xnode set ) x ob ) . nodelist ( ) . get length ( ) > num ) ) { return <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> new array list ( num ) <REPLACE_END> <KEEP> ; } else if ( ! ( x ob instanceof xnode set ) ) return <KEEP_END> <REPLACE_OLD> true ; return false ; } <REPLACE_NEW> new array list ( num ) ; else { return null ; } } node list node list = null ; int num items = num ; if ( ! ( x ob instanceof xnode set ) ) num items = num ; else { node list = x ob . nodelist ( ) ; num items = node list . get length ( ) ; } array list item refs = new array list ( ) ; if ( node list = = null ) item refs . add ( x ob . str ( ) ) ; else { for ( int i = num ; i < num items ; i + + ) item refs . add ( node list . item ( i ) ) ; } node list = null ; if ( ( num items = = num ) & & ( ( item refs . get ( num ) instanceof document ) | | ( item refs . get ( num ) instanceof element ) ) ) { result xtype [ num ] = xml . xml _ doc _ any ; } else result xtype [ num ] = xml . xml _ sequence ; return item refs ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "eval", "xqexpression", "(", "xmldata", "value", "xml", "context", "<KEEP_END>", "<INSERT>", ",", "boolean", "return", "results", ",", "int", "[", "]", "result", "xtype", "<INSERT_END>", "<KEEP>", ")", "throws", "exception", "{", "if", "(", "sanity", "manager", ".", "debug", ")", "{", "sanity", "manager", ".", "assert", "(", "(", "query", "!", "=", "null", ")", "&", "&", "(", "query", ".", "get", "expression", "(", ")", "!", "=", "null", ")", ",", "str", ")", ";", "}", "<KEEP_END>", "<INSERT>", "if", "(", "xml", "context", ".", "get", "xtype", "(", ")", "!", "=", "xml", ".", "xml", "_", "doc", "_", "any", ")", "{", "throw", "standard", "exception", ".", "new", "exception", "(", "sqlstate", ".", "lang", "_", "invalid", "_", "xml", "_", "context", "_", "item", ",", "(", "return", "results", "?", "str", ":", "str", ")", ")", ";", "}", "<INSERT_END>", "<KEEP>", "document", "doc", "node", "=", "null", ";", "doc", "node", "=", "d", "builder", ".", "parse", "(", "new", "input", "source", "(", "new", "string", "reader", "(", "xml", "context", ".", "get", "string", "(", ")", ")", ")", ")", ";", "get", "xpath", "context", "(", ")", ";", "xp", "context", ".", "reset", "(", ")", ";", "xobject", "x", "ob", "=", "query", ".", "execute", "(", "xp", "context", ",", "doc", "node", ",", "null", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "!", "return", "results", ")", "{", "<INSERT_END>", "<KEEP>", "if", "(", "(", "x", "ob", "instanceof", "xnode", "set", ")", "&", "&", "(", "(", "(", "xnode", "set", ")", "x", "ob", ")", ".", "nodelist", "(", ")", ".", "get", "length", "(", ")", ">", "num", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "new", "array", "list", "(", "num", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "if", "(", "!", "(", "x", "ob", "instanceof", "xnode", "set", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", ";", "return", "false", ";", "}", "<REPLACE_NEW>", "new", "array", "list", "(", "num", ")", ";", "else", "{", "return", "null", ";", "}", "}", "node", "list", "node", "list", "=", "null", ";", "int", "num", "items", "=", "num", ";", "if", "(", "!", "(", "x", "ob", "instanceof", "xnode", "set", ")", ")", "num", "items", "=", "num", ";", "else", "{", "node", "list", "=", "x", "ob", ".", "nodelist", "(", ")", ";", "num", "items", "=", "node", "list", ".", "get", "length", "(", ")", ";", "}", "array", "list", "item", "refs", "=", "new", "array", "list", "(", ")", ";", "if", "(", "node", "list", "=", "=", "null", ")", "item", "refs", ".", "add", "(", "x", "ob", ".", "str", "(", ")", ")", ";", "else", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "num", "items", ";", "i", "+", "+", ")", "item", "refs", ".", "add", "(", "node", "list", ".", "item", "(", "i", ")", ")", ";", "}", "node", "list", "=", "null", ";", "if", "(", "(", "num", "items", "=", "=", "num", ")", "&", "&", "(", "(", "item", "refs", ".", "get", "(", "num", ")", "instanceof", "document", ")", "|", "|", "(", "item", "refs", ".", "get", "(", "num", ")", "instanceof", "element", ")", ")", ")", "{", "result", "xtype", "[", "num", "]", "=", "xml", ".", "xml", "_", "doc", "_", "any", ";", "}", "else", "result", "xtype", "[", "num", "]", "=", "xml", ".", "xml", "_", "sequence", ";", "return", "item", "refs", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true <REPLACE_NEW> if return results is false then return an empty array list <REPLACE_END> <REPLACE_OLD> , false <REPLACE_NEW> and return null <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . if return results is true then return an array list containing all of the result items and return the qualified xml type via the result xtype parameter . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "<REPLACE_NEW>", "if", "return", "results", "is", "false", "then", "return", "an", "empty", "array", "list", "<REPLACE_END>", "<REPLACE_OLD>", ",", "false", "<REPLACE_NEW>", "and", "return", "null", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "if", "return", "results", "is", "true", "then", "return", "an", "array", "list", "containing", "all", "of", "the", "result", "items", "and", "return", "the", "qualified", "xml", "type", "via", "the", "result", "xtype", "parameter", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "eval", "<KEEP>", "xqexpression", "<KEEP>", "(", "<KEEP>", "xmldata", "<KEEP>", "value", "<KEEP>", "xml", "<KEEP>", "context", "<INSERT>", ",", "<INSERT>", "boolean", "<INSERT>", "return", "<INSERT>", "results", "<INSERT>", ",", "<INSERT>", "int", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "result", "<INSERT>", "xtype", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "sanity", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "sanity", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "assert", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "expression", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "xml", "<INSERT>", "context", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "xtype", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "xml", "<INSERT>", ".", "<INSERT>", "xml", "<INSERT>", "_", "<INSERT>", "doc", "<INSERT>", "_", "<INSERT>", "any", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "standard", "<INSERT>", "exception", "<INSERT>", ".", "<INSERT>", "new", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "sqlstate", "<INSERT>", ".", "<INSERT>", "lang", "<INSERT>", "_", "<INSERT>", "invalid", "<INSERT>", "_", "<INSERT>", "xml", "<INSERT>", "_", "<INSERT>", "context", "<INSERT>", "_", "<INSERT>", "item", "<INSERT>", ",", "<INSERT>", "(", "<INSERT>", "return", "<INSERT>", "results", "<INSERT>", "?", "<INSERT>", "str", "<INSERT>", ":", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "document", "<KEEP>", "doc", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "doc", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "d", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "input", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "xml", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "get", "<KEEP>", "xpath", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "xp", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "reset", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "xobject", "<KEEP>", "x", "<KEEP>", "ob", "<KEEP>", "=", "<KEEP>", "query", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", "xp", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "doc", "<KEEP>", "node", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "return", "<INSERT>", "results", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "x", "<KEEP>", "ob", "<KEEP>", "instanceof", "<KEEP>", "xnode", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "xnode", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", "x", "<KEEP>", "ob", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "nodelist", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "(", "<KEEP>", "x", "<KEEP>", "ob", "<KEEP>", "instanceof", "<KEEP>", "xnode", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "items", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "ob", "<REPLACE_NEW>", "instanceof", "<REPLACE_NEW>", "xnode", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "items", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "ob", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "nodelist", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "items", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "refs", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "refs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "ob", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "items", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "refs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "items", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "refs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "instanceof", "<REPLACE_NEW>", "document", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "refs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "instanceof", "<REPLACE_NEW>", "element", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "xtype", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "xml", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "xml", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "doc", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "any", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "xtype", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "xml", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "xml", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "sequence", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "refs", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "apache_struts1-30-6830", "old_comment": "the application config object", "old_comment_tokens": ["the", "application", "config", "object"], "new_comment": "the module config object", "new_comment_tokens": ["the", "module", "config", "object"], "old_code": "public static application config get module config ( http servlet request request , servlet context context ) { application config app config = ( application config ) request . get attribute ( globals . module _ key ) ; if ( app config = = null ) { app config = ( application config ) context . get attribute ( globals . module _ key ) ; } return app config ; }", "old_code_tokens": ["public", "static", "application", "config", "get", "module", "config", "(", "http", "servlet", "request", "request", ",", "servlet", "context", "context", ")", "{", "application", "config", "app", "config", "=", "(", "application", "config", ")", "request", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "if", "(", "app", "config", "=", "=", "null", ")", "{", "app", "config", "=", "(", "application", "config", ")", "context", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "}", "return", "app", "config", ";", "}"], "new_code": "public static module config get module config ( http servlet request request , servlet context context ) { module config module config = ( module config ) request . get attribute ( globals . module _ key ) ; if ( module config = = null ) { module config = ( module config ) context . get attribute ( globals . module _ key ) ; } return module config ; }", "new_code_tokens": ["public", "static", "module", "config", "get", "module", "config", "(", "http", "servlet", "request", "request", ",", "servlet", "context", "context", ")", "{", "module", "config", "module", "config", "=", "(", "module", "config", ")", "request", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "if", "(", "module", "config", "=", "=", "null", ")", "{", "module", "config", "=", "(", "module", "config", ")", "context", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "}", "return", "module", "config", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config get module config ( http servlet request request , servlet context context ) { <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config = ( <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config ) request . get attribute ( globals . module _ key ) ; if ( <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config = = null ) { <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config = ( <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END> <KEEP> config ) context . get attribute ( globals . module _ key ) ; } return <KEEP_END> <REPLACE_OLD> app <REPLACE_NEW> module <REPLACE_END> <KEEP> config ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "get", "module", "config", "(", "http", "servlet", "request", "request", ",", "servlet", "context", "context", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", ")", "request", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", ")", "context", ".", "get", "attribute", "(", "globals", ".", "module", "_", "key", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<REPLACE_END>", "<KEEP>", "config", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> application <REPLACE_NEW> module <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "get", "<KEEP>", "module", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "servlet", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "globals", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "globals", "<KEEP>", ".", "<KEEP>", "module", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "module", "<KEEP>", "config", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_my-23-6915", "old_comment": "true if the value was set , false otherwise .", "old_comment_tokens": ["true", "if", "the", "value", "was", "set", ",", "false", "otherwise", "."], "new_comment": "true if the value was set , false otherwise ; the new value ( null if the value wasn ' t set , i . e . if the value cannot be null the boolean isn ' t needed ) .", "new_comment_tokens": ["true", "if", "the", "value", "was", "set", ",", "false", "otherwise", ";", "the", "new", "value", "(", "null", "if", "the", "value", "wasn", "'", "t", "set", ",", "i", ".", "e", ".", "if", "the", "value", "cannot", "be", "null", "the", "boolean", "isn", "'", "t", "needed", ")", "."], "old_code": "boolean set fwk metadata ( string name , string value , boolean create table ) throws sqlexception { if ( boolean . get boolean ( noauto _ create _ metadata ) ) return false ; synchronized ( this . get tree mutex ( ) ) { final boolean should refresh ; if ( create table & & ! this . contains ( metadata _ tablename ) ) { final sqlcreate moveable table create = get create metadata ( get server ( ) . get sqlsystem ( ) . get syntax ( ) ) ; this . get base ( ) . get data source ( ) . execute ( create . as string ( get dbroot ( ) . get name ( ) ) ) ; should refresh = true ; } else should refresh = false ; final boolean res ; if ( create table | | this . contains ( metadata _ tablename ) ) { final sqlname table name = new sqlname ( this . get base ( ) . get name ( ) , this . get name ( ) , metadata _ tablename ) ; final string del = sqlselect . quote ( str , table name , str , name ) ; final string ins = sqlselect . quote ( str , table name , str , str , name , value ) ; sqlutils . execute atomic ( this . get base ( ) . get data source ( ) , new sqlfactory < object > ( ) { public object create ( ) throws sqlexception { get base ( ) . get data source ( ) . execute ( del ) ; get base ( ) . get data source ( ) . execute ( ins ) ; return null ; } } ) ; res = true ; } else res = false ; if ( should refresh ) this . fetch table ( metadata _ tablename ) ; return res ; } }", "old_code_tokens": ["boolean", "set", "fwk", "metadata", "(", "string", "name", ",", "string", "value", ",", "boolean", "create", "table", ")", "throws", "sqlexception", "{", "if", "(", "boolean", ".", "get", "boolean", "(", "noauto", "_", "create", "_", "metadata", ")", ")", "return", "false", ";", "synchronized", "(", "this", ".", "get", "tree", "mutex", "(", ")", ")", "{", "final", "boolean", "should", "refresh", ";", "if", "(", "create", "table", "&", "&", "!", "this", ".", "contains", "(", "metadata", "_", "tablename", ")", ")", "{", "final", "sqlcreate", "moveable", "table", "create", "=", "get", "create", "metadata", "(", "get", "server", "(", ")", ".", "get", "sqlsystem", "(", ")", ".", "get", "syntax", "(", ")", ")", ";", "this", ".", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ".", "execute", "(", "create", ".", "as", "string", "(", "get", "dbroot", "(", ")", ".", "get", "name", "(", ")", ")", ")", ";", "should", "refresh", "=", "true", ";", "}", "else", "should", "refresh", "=", "false", ";", "final", "boolean", "res", ";", "if", "(", "create", "table", "|", "|", "this", ".", "contains", "(", "metadata", "_", "tablename", ")", ")", "{", "final", "sqlname", "table", "name", "=", "new", "sqlname", "(", "this", ".", "get", "base", "(", ")", ".", "get", "name", "(", ")", ",", "this", ".", "get", "name", "(", ")", ",", "metadata", "_", "tablename", ")", ";", "final", "string", "del", "=", "sqlselect", ".", "quote", "(", "str", ",", "table", "name", ",", "str", ",", "name", ")", ";", "final", "string", "ins", "=", "sqlselect", ".", "quote", "(", "str", ",", "table", "name", ",", "str", ",", "str", ",", "name", ",", "value", ")", ";", "sqlutils", ".", "execute", "atomic", "(", "this", ".", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ",", "new", "sqlfactory", "<", "object", ">", "(", ")", "{", "public", "object", "create", "(", ")", "throws", "sqlexception", "{", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ".", "execute", "(", "del", ")", ";", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ".", "execute", "(", "ins", ")", ";", "return", "null", ";", "}", "}", ")", ";", "res", "=", "true", ";", "}", "else", "res", "=", "false", ";", "if", "(", "should", "refresh", ")", "this", ".", "fetch", "table", "(", "metadata", "_", "tablename", ")", ";", "return", "res", ";", "}", "}"], "new_code": "tuple2 < boolean , string > set fwk metadata ( string name , string sql expr , boolean create table ) throws sqlexception { if ( boolean . get boolean ( noauto _ create _ metadata ) ) return tuple2 . create ( false , null ) ; final sqlsystem sys = get server ( ) . get sqlsystem ( ) ; final sqlsyntax syntax = sys . get syntax ( ) ; final sqldata source ds = this . get dbsystem root ( ) . get data source ( ) ; synchronized ( this . get tree mutex ( ) ) { final boolean should refresh ; if ( create table & & ! this . contains ( metadata _ tablename ) ) { final sqlcreate moveable table create = get create metadata ( syntax ) ; ds . execute ( create . as string ( get dbroot ( ) . get name ( ) ) ) ; should refresh = true ; } else { should refresh = false ; } final tuple2 < boolean , string > res ; if ( create table | | this . contains ( metadata _ tablename ) ) { final list < string > queries = new array list < string > ( ) ; final sqlname table name = new sqlname ( this . get base ( ) . get name ( ) , this . get name ( ) , metadata _ tablename ) ; final string where = str + sqlbase . quote identifier ( str ) + str + get base ( ) . quote string ( name ) ; queries . add ( str + table name . quote ( ) + where ) ; final string returning = sys = = sqlsystem . postgresql ? str + sqlbase . quote identifier ( str ) : str ; final string ins = syntax . get insert one ( table name , arrays . as list ( str , str ) , get base ( ) . quote string ( name ) , sql expr ) + returning ; queries . add ( ins ) ; final list < ? extends result set handler > handlers ; if ( returning . length ( ) = = num ) { queries . add ( str + sqlbase . quote identifier ( str ) + str + table name . quote ( ) + where ) ; handlers = arrays . as list ( null , null , sqldata source . scalar _ handler ) ; } else { handlers = arrays . as list ( null , sqldata source . scalar _ handler ) ; } final list < ? > ress = sqlutils . execute multiple ( get dbsystem root ( ) , queries , handlers ) ; res = tuple2 . create ( true , ( string ) ress . get ( ress . size ( ) - num ) ) ; } else { res = tuple2 . create ( false , null ) ; } if ( should refresh ) this . fetch table ( metadata _ tablename ) ; return res ; } }", "new_code_tokens": ["tuple2", "<", "boolean", ",", "string", ">", "set", "fwk", "metadata", "(", "string", "name", ",", "string", "sql", "expr", ",", "boolean", "create", "table", ")", "throws", "sqlexception", "{", "if", "(", "boolean", ".", "get", "boolean", "(", "noauto", "_", "create", "_", "metadata", ")", ")", "return", "tuple2", ".", "create", "(", "false", ",", "null", ")", ";", "final", "sqlsystem", "sys", "=", "get", "server", "(", ")", ".", "get", "sqlsystem", "(", ")", ";", "final", "sqlsyntax", "syntax", "=", "sys", ".", "get", "syntax", "(", ")", ";", "final", "sqldata", "source", "ds", "=", "this", ".", "get", "dbsystem", "root", "(", ")", ".", "get", "data", "source", "(", ")", ";", "synchronized", "(", "this", ".", "get", "tree", "mutex", "(", ")", ")", "{", "final", "boolean", "should", "refresh", ";", "if", "(", "create", "table", "&", "&", "!", "this", ".", "contains", "(", "metadata", "_", "tablename", ")", ")", "{", "final", "sqlcreate", "moveable", "table", "create", "=", "get", "create", "metadata", "(", "syntax", ")", ";", "ds", ".", "execute", "(", "create", ".", "as", "string", "(", "get", "dbroot", "(", ")", ".", "get", "name", "(", ")", ")", ")", ";", "should", "refresh", "=", "true", ";", "}", "else", "{", "should", "refresh", "=", "false", ";", "}", "final", "tuple2", "<", "boolean", ",", "string", ">", "res", ";", "if", "(", "create", "table", "|", "|", "this", ".", "contains", "(", "metadata", "_", "tablename", ")", ")", "{", "final", "list", "<", "string", ">", "queries", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "final", "sqlname", "table", "name", "=", "new", "sqlname", "(", "this", ".", "get", "base", "(", ")", ".", "get", "name", "(", ")", ",", "this", ".", "get", "name", "(", ")", ",", "metadata", "_", "tablename", ")", ";", "final", "string", "where", "=", "str", "+", "sqlbase", ".", "quote", "identifier", "(", "str", ")", "+", "str", "+", "get", "base", "(", ")", ".", "quote", "string", "(", "name", ")", ";", "queries", ".", "add", "(", "str", "+", "table", "name", ".", "quote", "(", ")", "+", "where", ")", ";", "final", "string", "returning", "=", "sys", "=", "=", "sqlsystem", ".", "postgresql", "?", "str", "+", "sqlbase", ".", "quote", "identifier", "(", "str", ")", ":", "str", ";", "final", "string", "ins", "=", "syntax", ".", "get", "insert", "one", "(", "table", "name", ",", "arrays", ".", "as", "list", "(", "str", ",", "str", ")", ",", "get", "base", "(", ")", ".", "quote", "string", "(", "name", ")", ",", "sql", "expr", ")", "+", "returning", ";", "queries", ".", "add", "(", "ins", ")", ";", "final", "list", "<", "?", "extends", "result", "set", "handler", ">", "handlers", ";", "if", "(", "returning", ".", "length", "(", ")", "=", "=", "num", ")", "{", "queries", ".", "add", "(", "str", "+", "sqlbase", ".", "quote", "identifier", "(", "str", ")", "+", "str", "+", "table", "name", ".", "quote", "(", ")", "+", "where", ")", ";", "handlers", "=", "arrays", ".", "as", "list", "(", "null", ",", "null", ",", "sqldata", "source", ".", "scalar", "_", "handler", ")", ";", "}", "else", "{", "handlers", "=", "arrays", ".", "as", "list", "(", "null", ",", "sqldata", "source", ".", "scalar", "_", "handler", ")", ";", "}", "final", "list", "<", "?", ">", "ress", "=", "sqlutils", ".", "execute", "multiple", "(", "get", "dbsystem", "root", "(", ")", ",", "queries", ",", "handlers", ")", ";", "res", "=", "tuple2", ".", "create", "(", "true", ",", "(", "string", ")", "ress", ".", "get", "(", "ress", ".", "size", "(", ")", "-", "num", ")", ")", ";", "}", "else", "{", "res", "=", "tuple2", ".", "create", "(", "false", ",", "null", ")", ";", "}", "if", "(", "should", "refresh", ")", "this", ".", "fetch", "table", "(", "metadata", "_", "tablename", ")", ";", "return", "res", ";", "}", "}"], "span_diff_code": "<INSERT> tuple2 < <INSERT_END> <KEEP> boolean <KEEP_END> <INSERT> , string > <INSERT_END> <KEEP> set fwk metadata ( string name , string <KEEP_END> <REPLACE_OLD> value <REPLACE_NEW> sql expr <REPLACE_END> <KEEP> , boolean create table ) throws sqlexception { if ( boolean . get boolean ( noauto _ create _ metadata ) ) return <KEEP_END> <INSERT> tuple2 . create ( <INSERT_END> <KEEP> false <KEEP_END> <INSERT> , null ) ; final sqlsystem sys = get server ( ) . get sqlsystem ( ) ; final sqlsyntax syntax = sys . get syntax ( ) ; final sqldata source ds = this . get dbsystem root ( ) . get data source ( ) <INSERT_END> <KEEP> ; synchronized ( this . get tree mutex ( ) ) { final boolean should refresh ; if ( create table & & ! this . contains ( metadata _ tablename ) ) { final sqlcreate moveable table create = get create metadata ( <KEEP_END> <DELETE> get server ( ) . get sqlsystem ( ) . get <DELETE_END> <KEEP> syntax <KEEP_END> <REPLACE_OLD> ( ) ) ; this . get base ( ) . get data source ( ) <REPLACE_NEW> ) ; ds <REPLACE_END> <KEEP> . execute ( create . as string ( get dbroot ( ) . get name ( ) ) ) ; should refresh = true ; } else <KEEP_END> <INSERT> { <INSERT_END> <KEEP> should refresh = false ; <KEEP_END> <REPLACE_OLD> final <REPLACE_NEW> } final tuple2 < <REPLACE_END> <KEEP> boolean <KEEP_END> <INSERT> , string > <INSERT_END> <KEEP> res ; if ( create table | | this . contains ( metadata _ tablename ) ) { final <KEEP_END> <INSERT> list < string > queries = new array list < string > ( ) ; final <INSERT_END> <KEEP> sqlname table name = new sqlname ( this . get base ( ) . get name ( ) , this . get name ( ) , metadata _ tablename ) ; final string <KEEP_END> <REPLACE_OLD> del = sqlselect . quote ( str , table name , str , name ) <REPLACE_NEW> where = str + sqlbase . quote identifier ( str ) + str + get base ( ) . quote string ( name ) ; queries . add ( str + table name . quote ( ) + where ) ; final string returning = sys = = sqlsystem . postgresql ? str + sqlbase . quote identifier ( str ) : str <REPLACE_END> <KEEP> ; final string ins = <KEEP_END> <REPLACE_OLD> sqlselect . quote ( str , table name , str , str , name , value ) ; <REPLACE_NEW> syntax . get insert one ( table name , arrays . as list ( str , str ) , get base ( ) . quote string ( name ) , sql expr ) + returning ; queries . add ( ins ) ; final list < ? extends result set handler > handlers ; if ( returning . length ( ) = = num ) { queries . add ( str + sqlbase . quote identifier ( str ) + str + table name . quote ( ) + where ) ; handlers = arrays . as list ( null , null , sqldata source . scalar _ handler ) ; } else { handlers = arrays . as list ( null , sqldata source . scalar _ handler ) ; } final list < ? > ress = <REPLACE_END> <KEEP> sqlutils . execute <KEEP_END> <REPLACE_OLD> atomic ( this . get base ( ) . get data source ( ) , new sqlfactory < object > ( ) { public object create ( ) throws sqlexception { get base ( ) . get data source ( ) . execute ( del ) ; get base ( ) . get data source ( ) . execute ( ins ) ; return <REPLACE_NEW> multiple ( get dbsystem root ( ) , queries , handlers ) ; res = tuple2 . create ( true , ( string ) ress . get ( ress . size ( ) - num ) ) ; } else { res = tuple2 . create ( false , <REPLACE_END> <KEEP> null <KEEP_END> <REPLACE_OLD> ; } } ) ; res = true ; } else res = false ; <REPLACE_NEW> ) ; } <REPLACE_END> <KEEP> if ( should refresh ) this . fetch table ( metadata _ tablename ) ; return res ; } } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "tuple2", "<", "<INSERT_END>", "<KEEP>", "boolean", "<KEEP_END>", "<INSERT>", ",", "string", ">", "<INSERT_END>", "<KEEP>", "set", "fwk", "metadata", "(", "string", "name", ",", "string", "<KEEP_END>", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "sql", "expr", "<REPLACE_END>", "<KEEP>", ",", "boolean", "create", "table", ")", "throws", "sqlexception", "{", "if", "(", "boolean", ".", "get", "boolean", "(", "noauto", "_", "create", "_", "metadata", ")", ")", "return", "<KEEP_END>", "<INSERT>", "tuple2", ".", "create", "(", "<INSERT_END>", "<KEEP>", "false", "<KEEP_END>", "<INSERT>", ",", "null", ")", ";", "final", "sqlsystem", "sys", "=", "get", "server", "(", ")", ".", "get", "sqlsystem", "(", ")", ";", "final", "sqlsyntax", "syntax", "=", "sys", ".", "get", "syntax", "(", ")", ";", "final", "sqldata", "source", "ds", "=", "this", ".", "get", "dbsystem", "root", "(", ")", ".", "get", "data", "source", "(", ")", "<INSERT_END>", "<KEEP>", ";", "synchronized", "(", "this", ".", "get", "tree", "mutex", "(", ")", ")", "{", "final", "boolean", "should", "refresh", ";", "if", "(", "create", "table", "&", "&", "!", "this", ".", "contains", "(", "metadata", "_", "tablename", ")", ")", "{", "final", "sqlcreate", "moveable", "table", "create", "=", "get", "create", "metadata", "(", "<KEEP_END>", "<DELETE>", "get", "server", "(", ")", ".", "get", "sqlsystem", "(", ")", ".", "get", "<DELETE_END>", "<KEEP>", "syntax", "<KEEP_END>", "<REPLACE_OLD>", "(", ")", ")", ";", "this", ".", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", "<REPLACE_NEW>", ")", ";", "ds", "<REPLACE_END>", "<KEEP>", ".", "execute", "(", "create", ".", "as", "string", "(", "get", "dbroot", "(", ")", ".", "get", "name", "(", ")", ")", ")", ";", "should", "refresh", "=", "true", ";", "}", "else", "<KEEP_END>", "<INSERT>", "{", "<INSERT_END>", "<KEEP>", "should", "refresh", "=", "false", ";", "<KEEP_END>", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "}", "final", "tuple2", "<", "<REPLACE_END>", "<KEEP>", "boolean", "<KEEP_END>", "<INSERT>", ",", "string", ">", "<INSERT_END>", "<KEEP>", "res", ";", "if", "(", "create", "table", "|", "|", "this", ".", "contains", "(", "metadata", "_", "tablename", ")", ")", "{", "final", "<KEEP_END>", "<INSERT>", "list", "<", "string", ">", "queries", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "final", "<INSERT_END>", "<KEEP>", "sqlname", "table", "name", "=", "new", "sqlname", "(", "this", ".", "get", "base", "(", ")", ".", "get", "name", "(", ")", ",", "this", ".", "get", "name", "(", ")", ",", "metadata", "_", "tablename", ")", ";", "final", "string", "<KEEP_END>", "<REPLACE_OLD>", "del", "=", "sqlselect", ".", "quote", "(", "str", ",", "table", "name", ",", "str", ",", "name", ")", "<REPLACE_NEW>", "where", "=", "str", "+", "sqlbase", ".", "quote", "identifier", "(", "str", ")", "+", "str", "+", "get", "base", "(", ")", ".", "quote", "string", "(", "name", ")", ";", "queries", ".", "add", "(", "str", "+", "table", "name", ".", "quote", "(", ")", "+", "where", ")", ";", "final", "string", "returning", "=", "sys", "=", "=", "sqlsystem", ".", "postgresql", "?", "str", "+", "sqlbase", ".", "quote", "identifier", "(", "str", ")", ":", "str", "<REPLACE_END>", "<KEEP>", ";", "final", "string", "ins", "=", "<KEEP_END>", "<REPLACE_OLD>", "sqlselect", ".", "quote", "(", "str", ",", "table", "name", ",", "str", ",", "str", ",", "name", ",", "value", ")", ";", "<REPLACE_NEW>", "syntax", ".", "get", "insert", "one", "(", "table", "name", ",", "arrays", ".", "as", "list", "(", "str", ",", "str", ")", ",", "get", "base", "(", ")", ".", "quote", "string", "(", "name", ")", ",", "sql", "expr", ")", "+", "returning", ";", "queries", ".", "add", "(", "ins", ")", ";", "final", "list", "<", "?", "extends", "result", "set", "handler", ">", "handlers", ";", "if", "(", "returning", ".", "length", "(", ")", "=", "=", "num", ")", "{", "queries", ".", "add", "(", "str", "+", "sqlbase", ".", "quote", "identifier", "(", "str", ")", "+", "str", "+", "table", "name", ".", "quote", "(", ")", "+", "where", ")", ";", "handlers", "=", "arrays", ".", "as", "list", "(", "null", ",", "null", ",", "sqldata", "source", ".", "scalar", "_", "handler", ")", ";", "}", "else", "{", "handlers", "=", "arrays", ".", "as", "list", "(", "null", ",", "sqldata", "source", ".", "scalar", "_", "handler", ")", ";", "}", "final", "list", "<", "?", ">", "ress", "=", "<REPLACE_END>", "<KEEP>", "sqlutils", ".", "execute", "<KEEP_END>", "<REPLACE_OLD>", "atomic", "(", "this", ".", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ",", "new", "sqlfactory", "<", "object", ">", "(", ")", "{", "public", "object", "create", "(", ")", "throws", "sqlexception", "{", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ".", "execute", "(", "del", ")", ";", "get", "base", "(", ")", ".", "get", "data", "source", "(", ")", ".", "execute", "(", "ins", ")", ";", "return", "<REPLACE_NEW>", "multiple", "(", "get", "dbsystem", "root", "(", ")", ",", "queries", ",", "handlers", ")", ";", "res", "=", "tuple2", ".", "create", "(", "true", ",", "(", "string", ")", "ress", ".", "get", "(", "ress", ".", "size", "(", ")", "-", "num", ")", ")", ";", "}", "else", "{", "res", "=", "tuple2", ".", "create", "(", "false", ",", "<REPLACE_END>", "<KEEP>", "null", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "}", ")", ";", "res", "=", "true", ";", "}", "else", "res", "=", "false", ";", "<REPLACE_NEW>", ")", ";", "}", "<REPLACE_END>", "<KEEP>", "if", "(", "should", "refresh", ")", "this", ".", "fetch", "table", "(", "metadata", "_", "tablename", ")", ";", "return", "res", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> otherwise <INSERT_NEW_KEEP_BEFORE> otherwise ; the new value ( null if the value wasn ' t set , i <INSERT_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . e . if the value cannot be null the boolean isn ' t needed ) . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "otherwise", "<INSERT_NEW_KEEP_BEFORE>", "otherwise", ";", "the", "new", "value", "(", "null", "if", "the", "value", "wasn", "'", "t", "set", ",", "i", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "e", ".", "if", "the", "value", "cannot", "be", "null", "the", "boolean", "isn", "'", "t", "needed", ")", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<INSERT>", "tuple2", "<INSERT>", "<", "<KEEP>", "boolean", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<KEEP>", "set", "<KEEP>", "fwk", "<KEEP>", "metadata", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "expr", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "create", "<KEEP>", "table", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sqlexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "noauto", "<KEEP>", "_", "<KEEP>", "create", "<KEEP>", "_", "<KEEP>", "metadata", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<INSERT>", "tuple2", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "(", "<KEEP>", "false", "<INSERT>", ",", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "sqlsystem", "<INSERT>", "sys", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "server", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "sqlsystem", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "sqlsyntax", "<INSERT>", "syntax", "<INSERT>", "=", "<INSERT>", "sys", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "syntax", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "sqldata", "<INSERT>", "source", "<INSERT>", "ds", "<INSERT>", "=", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "dbsystem", "<INSERT>", "root", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "data", "<INSERT>", "source", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "tree", "<KEEP>", "mutex", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "boolean", "<KEEP>", "should", "<KEEP>", "refresh", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "table", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "metadata", "<KEEP>", "_", "<KEEP>", "tablename", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "sqlcreate", "<KEEP>", "moveable", "<KEEP>", "table", "<KEEP>", "create", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "create", "<KEEP>", "metadata", "<KEEP>", "(", "<DELETE>", "get", "<DELETE>", "server", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "sqlsystem", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "syntax", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "ds", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "dbroot", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "should", "<KEEP>", "refresh", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<INSERT>", "{", "<KEEP>", "should", "<KEEP>", "refresh", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "tuple2", "<REPLACE_NEW>", "<", "<KEEP>", "boolean", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<KEEP>", "res", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "create", "<KEEP>", "table", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "metadata", "<KEEP>", "_", "<KEEP>", "tablename", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "queries", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<KEEP>", "sqlname", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "sqlname", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "base", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "metadata", "<KEEP>", "_", "<KEEP>", "tablename", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<REPLACE_OLD>", "del", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "sqlselect", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "quote", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "where", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "sqlbase", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "identifier", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "base", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "queries", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "where", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "returning", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "sys", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "sqlsystem", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "postgresql", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "sqlbase", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "identifier", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "str", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "ins", "<KEEP>", "=", "<REPLACE_OLD>", "sqlselect", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "quote", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "syntax", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "insert", "<REPLACE_NEW>", "one", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "arrays", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "as", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "base", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "expr", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "returning", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "queries", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ins", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "extends", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "handlers", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "returning", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "queries", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "sqlbase", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "identifier", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "quote", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "where", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "handlers", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "arrays", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "as", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sqldata", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "scalar", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "handlers", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "arrays", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "as", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sqldata", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "scalar", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "handler", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "ress", "<REPLACE_NEW>", "=", "<KEEP>", "sqlutils", "<KEEP>", ".", "<KEEP>", "execute", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "sqlfactory", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "create", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "throws", "<REPLACE_OLD>", "sqlexception", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "execute", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "del", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "execute", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ins", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "multiple", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "dbsystem", "<REPLACE_NEW>", "root", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "queries", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "handlers", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "res", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "tuple2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "ress", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ress", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "res", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "tuple2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<KEEP>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "should", "<KEEP>", "refresh", "<KEEP>", ")", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "fetch", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "metadata", "<KEEP>", "_", "<KEEP>", "tablename", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "res", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ushahidi_Crowdmap-Java-6-5423", "old_comment": "the com . crowdmap . java . sdk . json . maps json response for the specific post", "old_comment_tokens": ["the", "com", ".", "crowdmap", ".", "java", ".", "sdk", ".", "json", ".", "maps", "json", "response", "for", "the", "specific", "post"], "new_comment": "the com . crowdmap . java . sdk . json . maps response for the specific post", "new_comment_tokens": ["the", "com", ".", "crowdmap", ".", "java", ".", "sdk", ".", "json", ".", "maps", "response", "for", "the", "specific", "post"], "old_code": "public maps json get post maps ( string id ) { return get ( id , segment _ maps , maps json . class ) ; }", "old_code_tokens": ["public", "maps", "json", "get", "post", "maps", "(", "string", "id", ")", "{", "return", "get", "(", "id", ",", "segment", "_", "maps", ",", "maps", "json", ".", "class", ")", ";", "}"], "new_code": "public maps get post maps ( string id ) { return get ( id , segment _ maps , maps . class ) ; }", "new_code_tokens": ["public", "maps", "get", "post", "maps", "(", "string", "id", ")", "{", "return", "get", "(", "id", ",", "segment", "_", "maps", ",", "maps", ".", "class", ")", ";", "}"], "span_diff_code": "<KEEP> public maps <KEEP_END> <DELETE> json <DELETE_END> <KEEP> get post maps ( string id ) { return get ( id , segment _ maps , maps <KEEP_END> <DELETE> json <DELETE_END> <KEEP> . class ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "maps", "<KEEP_END>", "<DELETE>", "json", "<DELETE_END>", "<KEEP>", "get", "post", "maps", "(", "string", "id", ")", "{", "return", "get", "(", "id", ",", "segment", "_", "maps", ",", "maps", "<KEEP_END>", "<DELETE>", "json", "<DELETE_END>", "<KEEP>", ".", "class", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> maps json <REPLACE_NEW_DELETE_KEEP_BEFORE> maps <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", "maps", "json", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "maps", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "maps", "<DELETE>", "json", "<KEEP>", "get", "<KEEP>", "post", "<KEEP>", "maps", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "segment", "<KEEP>", "_", "<KEEP>", "maps", "<KEEP>", ",", "<KEEP>", "maps", "<DELETE>", "json", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-10-5329", "old_comment": "the created project , or null if file was not writable .", "old_comment_tokens": ["the", "created", "project", ",", "or", "null", "if", "file", "was", "not", "writable", "."], "new_comment": "the created project , or null if file was not writable or it already existed .", "new_comment_tokens": ["the", "created", "project", ",", "or", "null", "if", "file", "was", "not", "writable", "or", "it", "already", "existed", "."], "old_code": "public static project create thermal project ( file file ) { return create project ( file , type . thermal ) ; }", "old_code_tokens": ["public", "static", "project", "create", "thermal", "project", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "type", ".", "thermal", ")", ";", "}"], "new_code": "public static project create thermal project ( file file ) { return create project ( file , thermal ) ; }", "new_code_tokens": ["public", "static", "project", "create", "thermal", "project", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "thermal", ")", ";", "}"], "span_diff_code": "<KEEP> public static project create thermal project ( file file ) { return create project ( file , <KEEP_END> <DELETE> type . <DELETE_END> <KEEP> thermal ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "project", "create", "thermal", "project", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "<KEEP_END>", "<DELETE>", "type", ".", "<DELETE_END>", "<KEEP>", "thermal", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> writable <INSERT_NEW_KEEP_BEFORE> writable or it already existed <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "writable", "<INSERT_NEW_KEEP_BEFORE>", "writable", "or", "it", "already", "existed", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "project", "<KEEP>", "create", "<KEEP>", "thermal", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ",", "<DELETE>", "type", "<DELETE>", ".", "<KEEP>", "thermal", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-0-4528", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public boolean get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "boolean", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public boolean get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "boolean", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_derby-87-6336", "old_comment": "the remaining bytes left to be read from the stream", "old_comment_tokens": ["the", "remaining", "bytes", "left", "to", "be", "read", "from", "the", "stream"], "new_comment": "the remaining characters left to be read from the stream", "new_comment_tokens": ["the", "remaining", "characters", "left", "to", "be", "read", "from", "the", "stream"], "old_code": "public final int get limit ( ) { return remaining bytes ; }", "old_code_tokens": ["public", "final", "int", "get", "limit", "(", ")", "{", "return", "remaining", "bytes", ";", "}"], "new_code": "public final int get limit ( ) { return remaining characters ; }", "new_code_tokens": ["public", "final", "int", "get", "limit", "(", ")", "{", "return", "remaining", "characters", ";", "}"], "span_diff_code": "<KEEP> public final int get limit ( ) { return remaining <KEEP_END> <REPLACE_OLD> bytes <REPLACE_NEW> characters <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "int", "get", "limit", "(", ")", "{", "return", "remaining", "<KEEP_END>", "<REPLACE_OLD>", "bytes", "<REPLACE_NEW>", "characters", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> bytes <REPLACE_NEW> characters <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "bytes", "<REPLACE_NEW>", "characters", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "limit", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "remaining", "<REPLACE_OLD>", "bytes", "<REPLACE_NEW>", "characters", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Ravikumarmaddi_socialauth-11-5615", "old_comment": "action forward where the action should flow", "old_comment_tokens": ["action", "forward", "where", "the", "action", "should", "flow"], "new_comment": "string where the action should flow", "new_comment_tokens": ["string", "where", "the", "action", "should", "flow"], "old_code": "@ override public action forward execute ( final action mapping mapping , final action form form , final http servlet request request , final http servlet response response ) throws exception { sasfhelper helper = sasfstatic helper . get helper ( request ) ; auth form auth form = ( auth form ) form ; string id = auth form . get id ( ) ; string mode = request . get parameter ( str ) ; action forward fwd = null ; if ( mode = = null ) { string filter url = str + id ; fwd = new action forward ( str , filter url , true ) ; } else if ( mode . equals ( str ) ) { social auth manager manager = null ; if ( helper ! = null ) { manager = helper . get auth manager ( ) ; if ( manager ! = null ) manager . disconnect provider ( id ) ; } fwd = mapping . find forward ( str ) ; } return fwd ; }", "old_code_tokens": ["@", "override", "public", "action", "forward", "execute", "(", "final", "action", "mapping", "mapping", ",", "final", "action", "form", "form", ",", "final", "http", "servlet", "request", "request", ",", "final", "http", "servlet", "response", "response", ")", "throws", "exception", "{", "sasfhelper", "helper", "=", "sasfstatic", "helper", ".", "get", "helper", "(", "request", ")", ";", "auth", "form", "auth", "form", "=", "(", "auth", "form", ")", "form", ";", "string", "id", "=", "auth", "form", ".", "get", "id", "(", ")", ";", "string", "mode", "=", "request", ".", "get", "parameter", "(", "str", ")", ";", "action", "forward", "fwd", "=", "null", ";", "if", "(", "mode", "=", "=", "null", ")", "{", "string", "filter", "url", "=", "str", "+", "id", ";", "fwd", "=", "new", "action", "forward", "(", "str", ",", "filter", "url", ",", "true", ")", ";", "}", "else", "if", "(", "mode", ".", "equals", "(", "str", ")", ")", "{", "social", "auth", "manager", "manager", "=", "null", ";", "if", "(", "helper", "!", "=", "null", ")", "{", "manager", "=", "helper", ".", "get", "auth", "manager", "(", ")", ";", "if", "(", "manager", "!", "=", "null", ")", "manager", ".", "disconnect", "provider", "(", "id", ")", ";", "}", "fwd", "=", "mapping", ".", "find", "forward", "(", "str", ")", ";", "}", "return", "fwd", ";", "}"], "new_code": "@ action ( value = str ) public string execute ( ) throws exception { log . info ( str + id ) ; sasfhelper helper = sasfstatic helper . get helper ( request ) ; if ( mode = = null ) { url = str + id ; return str ; } else if ( str . equals ( mode ) ) { social auth manager manager = null ; if ( helper ! = null ) { manager = helper . get auth manager ( ) ; if ( manager ! = null ) { manager . disconnect provider ( id ) ; } } return str ; } return str ; }", "new_code_tokens": ["@", "action", "(", "value", "=", "str", ")", "public", "string", "execute", "(", ")", "throws", "exception", "{", "log", ".", "info", "(", "str", "+", "id", ")", ";", "sasfhelper", "helper", "=", "sasfstatic", "helper", ".", "get", "helper", "(", "request", ")", ";", "if", "(", "mode", "=", "=", "null", ")", "{", "url", "=", "str", "+", "id", ";", "return", "str", ";", "}", "else", "if", "(", "str", ".", "equals", "(", "mode", ")", ")", "{", "social", "auth", "manager", "manager", "=", "null", ";", "if", "(", "helper", "!", "=", "null", ")", "{", "manager", "=", "helper", ".", "get", "auth", "manager", "(", ")", ";", "if", "(", "manager", "!", "=", "null", ")", "{", "manager", ".", "disconnect", "provider", "(", "id", ")", ";", "}", "}", "return", "str", ";", "}", "return", "str", ";", "}"], "span_diff_code": "<KEEP> @ <KEEP_END> <REPLACE_OLD> override <REPLACE_NEW> action ( value = str ) <REPLACE_END> <KEEP> public <KEEP_END> <REPLACE_OLD> action forward <REPLACE_NEW> string <REPLACE_END> <KEEP> execute ( <KEEP_END> <DELETE> final action mapping mapping , final action form form , final http servlet request request , final http servlet response response <DELETE_END> <KEEP> ) throws exception { <KEEP_END> <INSERT> log . info ( str + id ) ; <INSERT_END> <KEEP> sasfhelper helper = sasfstatic helper . get helper ( request ) ; <KEEP_END> <DELETE> auth form auth form = ( auth form ) form ; string id = auth form . get id ( ) ; string mode = request . get parameter ( str ) ; action forward fwd = null ; <DELETE_END> <KEEP> if ( mode = = null ) { <KEEP_END> <DELETE> string filter <DELETE_END> <KEEP> url = str + id ; <KEEP_END> <REPLACE_OLD> fwd = new action forward ( <REPLACE_NEW> return <REPLACE_END> <KEEP> str <KEEP_END> <DELETE> , filter url , true ) <DELETE_END> <KEEP> ; } else if ( <KEEP_END> <REPLACE_OLD> mode <REPLACE_NEW> str <REPLACE_END> <KEEP> . equals ( <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> mode <REPLACE_END> <KEEP> ) ) { social auth manager manager = null ; if ( helper ! = null ) { manager = helper . get auth manager ( ) ; if ( manager ! = null ) <KEEP_END> <INSERT> { <INSERT_END> <KEEP> manager . disconnect provider ( id ) ; } <KEEP_END> <REPLACE_OLD> fwd = mapping . find forward ( <REPLACE_NEW> } return <REPLACE_END> <KEEP> str <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } return <KEEP_END> <REPLACE_OLD> fwd <REPLACE_NEW> str <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "<KEEP_END>", "<REPLACE_OLD>", "override", "<REPLACE_NEW>", "action", "(", "value", "=", "str", ")", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "action", "forward", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "execute", "(", "<KEEP_END>", "<DELETE>", "final", "action", "mapping", "mapping", ",", "final", "action", "form", "form", ",", "final", "http", "servlet", "request", "request", ",", "final", "http", "servlet", "response", "response", "<DELETE_END>", "<KEEP>", ")", "throws", "exception", "{", "<KEEP_END>", "<INSERT>", "log", ".", "info", "(", "str", "+", "id", ")", ";", "<INSERT_END>", "<KEEP>", "sasfhelper", "helper", "=", "sasfstatic", "helper", ".", "get", "helper", "(", "request", ")", ";", "<KEEP_END>", "<DELETE>", "auth", "form", "auth", "form", "=", "(", "auth", "form", ")", "form", ";", "string", "id", "=", "auth", "form", ".", "get", "id", "(", ")", ";", "string", "mode", "=", "request", ".", "get", "parameter", "(", "str", ")", ";", "action", "forward", "fwd", "=", "null", ";", "<DELETE_END>", "<KEEP>", "if", "(", "mode", "=", "=", "null", ")", "{", "<KEEP_END>", "<DELETE>", "string", "filter", "<DELETE_END>", "<KEEP>", "url", "=", "str", "+", "id", ";", "<KEEP_END>", "<REPLACE_OLD>", "fwd", "=", "new", "action", "forward", "(", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "str", "<KEEP_END>", "<DELETE>", ",", "filter", "url", ",", "true", ")", "<DELETE_END>", "<KEEP>", ";", "}", "else", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "mode", "<REPLACE_NEW>", "str", "<REPLACE_END>", "<KEEP>", ".", "equals", "(", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "mode", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "social", "auth", "manager", "manager", "=", "null", ";", "if", "(", "helper", "!", "=", "null", ")", "{", "manager", "=", "helper", ".", "get", "auth", "manager", "(", ")", ";", "if", "(", "manager", "!", "=", "null", ")", "<KEEP_END>", "<INSERT>", "{", "<INSERT_END>", "<KEEP>", "manager", ".", "disconnect", "provider", "(", "id", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "fwd", "=", "mapping", ".", "find", "forward", "(", "<REPLACE_NEW>", "}", "return", "<REPLACE_END>", "<KEEP>", "str", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "fwd", "<REPLACE_NEW>", "str", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> action forward <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "action", "forward", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<REPLACE_OLD>", "override", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", "public", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "forward", "<REPLACE_NEW>", "string", "<KEEP>", "execute", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "action", "<DELETE>", "mapping", "<DELETE>", "mapping", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "action", "<DELETE>", "form", "<DELETE>", "form", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "http", "<DELETE>", "servlet", "<DELETE>", "request", "<DELETE>", "request", "<DELETE>", ",", "<DELETE>", "final", "<DELETE>", "http", "<DELETE>", "servlet", "<DELETE>", "response", "<DELETE>", "response", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<INSERT>", "log", "<INSERT>", ".", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "id", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "sasfhelper", "<KEEP>", "helper", "<KEEP>", "=", "<KEEP>", "sasfstatic", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "helper", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "auth", "<DELETE>", "form", "<DELETE>", "auth", "<DELETE>", "form", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "auth", "<DELETE>", "form", "<DELETE>", ")", "<DELETE>", "form", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "auth", "<DELETE>", "form", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "mode", "<DELETE>", "=", "<DELETE>", "request", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parameter", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "action", "<DELETE>", "forward", "<DELETE>", "fwd", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mode", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "string", "<DELETE>", "filter", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "id", "<KEEP>", ";", "<REPLACE_OLD>", "fwd", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "forward", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "return", "<KEEP>", "str", "<DELETE>", ",", "<DELETE>", "filter", "<DELETE>", "url", "<DELETE>", ",", "<DELETE>", "true", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "mode", "<REPLACE_NEW>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "mode", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "social", "<KEEP>", "auth", "<KEEP>", "manager", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "helper", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "auth", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "manager", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<INSERT>", "{", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "disconnect", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "fwd", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "mapping", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "find", "<REPLACE_OLD>", "forward", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<KEEP>", "str", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "fwd", "<REPLACE_NEW>", "str", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "TommyLemon_APIJSON-11-921", "old_comment": "# format key ( string , boolean , boolean , boolean ) format colon = false , format at = false , format hyphen = true , first case = true", "old_comment_tokens": ["#", "format", "key", "(", "string", ",", "boolean", ",", "boolean", ",", "boolean", ")", "format", "colon", "=", "false", ",", "format", "at", "=", "false", ",", "format", "hyphen", "=", "true", ",", "first", "case", "=", "true"], "new_comment": "# format key ( string , boolean , boolean , boolean ) format colon = false , format at = true , format hyphen = true , first case = true", "new_comment_tokens": ["#", "format", "key", "(", "string", ",", "boolean", ",", "boolean", ",", "boolean", ")", "format", "colon", "=", "false", ",", "format", "at", "=", "true", ",", "format", "hyphen", "=", "true", ",", "first", "case", "=", "true"], "old_code": "public static string format array key ( string key ) { if ( is array key ( key ) ) { key = string util . add suffix ( key . substring ( num , key . length ( ) - num ) , str ) ; } int index = key = = null ? - num : key . index of ( str ) ; if ( index > = num ) { return key . substring ( index + num ) ; } return format key ( key , false , false , true , true ) ; }", "old_code_tokens": ["public", "static", "string", "format", "array", "key", "(", "string", "key", ")", "{", "if", "(", "is", "array", "key", "(", "key", ")", ")", "{", "key", "=", "string", "util", ".", "add", "suffix", "(", "key", ".", "substring", "(", "num", ",", "key", ".", "length", "(", ")", "-", "num", ")", ",", "str", ")", ";", "}", "int", "index", "=", "key", "=", "=", "null", "?", "-", "num", ":", "key", ".", "index", "of", "(", "str", ")", ";", "if", "(", "index", ">", "=", "num", ")", "{", "return", "key", ".", "substring", "(", "index", "+", "num", ")", ";", "}", "return", "format", "key", "(", "key", ",", "false", ",", "false", ",", "true", ",", "true", ")", ";", "}"], "new_code": "public static string format array key ( string key ) { if ( is array key ( key ) ) { key = string util . add suffix ( key . substring ( num , key . length ( ) - num ) , str ) ; } int index = key = = null ? - num : key . index of ( str ) ; if ( index > = num ) { return key . substring ( index + num ) ; } return format key ( key , false , true , true , true ) ; }", "new_code_tokens": ["public", "static", "string", "format", "array", "key", "(", "string", "key", ")", "{", "if", "(", "is", "array", "key", "(", "key", ")", ")", "{", "key", "=", "string", "util", ".", "add", "suffix", "(", "key", ".", "substring", "(", "num", ",", "key", ".", "length", "(", ")", "-", "num", ")", ",", "str", ")", ";", "}", "int", "index", "=", "key", "=", "=", "null", "?", "-", "num", ":", "key", ".", "index", "of", "(", "str", ")", ";", "if", "(", "index", ">", "=", "num", ")", "{", "return", "key", ".", "substring", "(", "index", "+", "num", ")", ";", "}", "return", "format", "key", "(", "key", ",", "false", ",", "true", ",", "true", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public static string format array key ( string key ) { if ( is array key ( key ) ) { key = string util . add suffix ( key . substring ( num , key . length ( ) - num ) , str ) ; } int index = key = = null ? - num : key . index of ( str ) ; if ( index > = num ) { return key . substring ( index + num ) ; } return format key ( key , false , <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> true <REPLACE_END> <KEEP> , true , true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "format", "array", "key", "(", "string", "key", ")", "{", "if", "(", "is", "array", "key", "(", "key", ")", ")", "{", "key", "=", "string", "util", ".", "add", "suffix", "(", "key", ".", "substring", "(", "num", ",", "key", ".", "length", "(", ")", "-", "num", ")", ",", "str", ")", ";", "}", "int", "index", "=", "key", "=", "=", "null", "?", "-", "num", ":", "key", ".", "index", "of", "(", "str", ")", ";", "if", "(", "index", ">", "=", "num", ")", "{", "return", "key", ".", "substring", "(", "index", "+", "num", ")", ";", "}", "return", "format", "key", "(", "key", ",", "false", ",", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ",", "true", ",", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> at = false <REPLACE_NEW_KEEP_BEFORE> at = true <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "at", "=", "false", "<REPLACE_NEW_KEEP_BEFORE>", "at", "=", "true", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "format", "<KEEP>", "array", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "array", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "string", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "suffix", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "format", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_jaxen-2-4687", "old_comment": "the naemspace uri mapped to the prefix .", "old_comment_tokens": ["the", "naemspace", "uri", "mapped", "to", "the", "prefix", "."], "new_comment": "the namespace uri mapped to the prefix", "new_comment_tokens": ["the", "namespace", "uri", "mapped", "to", "the", "prefix"], "old_code": "public string translate namespace prefix to uri ( string prefix ) { namespace context context = get namespace context ( ) ; if ( context ! = null ) { return context . translate namespace prefix to uri ( prefix ) ; } return null ; }", "old_code_tokens": ["public", "string", "translate", "namespace", "prefix", "to", "uri", "(", "string", "prefix", ")", "{", "namespace", "context", "context", "=", "get", "namespace", "context", "(", ")", ";", "if", "(", "context", "!", "=", "null", ")", "{", "return", "context", ".", "translate", "namespace", "prefix", "to", "uri", "(", "prefix", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public string translate namespace prefix to uri ( string prefix ) { if ( str . equals ( prefix ) ) { return str ; } namespace context context = get namespace context ( ) ; if ( context ! = null ) { return context . translate namespace prefix to uri ( prefix ) ; } return null ; }", "new_code_tokens": ["public", "string", "translate", "namespace", "prefix", "to", "uri", "(", "string", "prefix", ")", "{", "if", "(", "str", ".", "equals", "(", "prefix", ")", ")", "{", "return", "str", ";", "}", "namespace", "context", "context", "=", "get", "namespace", "context", "(", ")", ";", "if", "(", "context", "!", "=", "null", ")", "{", "return", "context", ".", "translate", "namespace", "prefix", "to", "uri", "(", "prefix", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public string translate namespace prefix to uri ( string prefix ) { <KEEP_END> <INSERT> if ( str . equals ( prefix ) ) { return str ; } <INSERT_END> <KEEP> namespace context context = get namespace context ( ) ; if ( context ! = null ) { return context . translate namespace prefix to uri ( prefix ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "translate", "namespace", "prefix", "to", "uri", "(", "string", "prefix", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "str", ".", "equals", "(", "prefix", ")", ")", "{", "return", "str", ";", "}", "<INSERT_END>", "<KEEP>", "namespace", "context", "context", "=", "get", "namespace", "context", "(", ")", ";", "if", "(", "context", "!", "=", "null", ")", "{", "return", "context", ".", "translate", "namespace", "prefix", "to", "uri", "(", "prefix", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> naemspace <REPLACE_NEW> namespace <REPLACE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "naemspace", "<REPLACE_NEW>", "namespace", "<REPLACE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "translate", "<KEEP>", "namespace", "<KEEP>", "prefix", "<KEEP>", "to", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "prefix", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "prefix", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "str", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "namespace", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "namespace", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "translate", "<KEEP>", "namespace", "<KEEP>", "prefix", "<KEEP>", "to", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "prefix", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-4-4530", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public char get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "char", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public char get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "char", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public char get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "char", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "char", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-70-3942", "old_comment": "the adapter to test", "old_comment_tokens": ["the", "adapter", "to", "test"], "new_comment": "the add adapter to test", "new_comment_tokens": ["the", "add", "adapter", "to", "test"], "old_code": "private component adapter prep res _ lifecycle manager honors instantiation sequence ( mutable pico container pico container ) { pico container . component ( recording lifecycle . one . class ) ; pooling component adapter pooling component adapter = new pooling component adapter ( new constructor injection component adapter ( recording lifecycle . recorder . class , recording lifecycle . two . class ) ) ; return pico container . adapter ( pooling component adapter ) . last ca ( ) ; }", "old_code_tokens": ["private", "component", "adapter", "prep", "res", "_", "lifecycle", "manager", "honors", "instantiation", "sequence", "(", "mutable", "pico", "container", "pico", "container", ")", "{", "pico", "container", ".", "component", "(", "recording", "lifecycle", ".", "one", ".", "class", ")", ";", "pooling", "component", "adapter", "pooling", "component", "adapter", "=", "new", "pooling", "component", "adapter", "(", "new", "constructor", "injection", "component", "adapter", "(", "recording", "lifecycle", ".", "recorder", ".", "class", ",", "recording", "lifecycle", ".", "two", ".", "class", ")", ")", ";", "return", "pico", "container", ".", "adapter", "(", "pooling", "component", "adapter", ")", ".", "last", "ca", "(", ")", ";", "}"], "new_code": "private component adapter prep res _ lifecycle manager honors instantiation sequence ( mutable pico container pico container ) { pico container . add component ( recording lifecycle . one . class ) ; pooling component adapter pooling component adapter = new pooling component adapter ( new constructor injection component adapter ( recording lifecycle . recorder . class , recording lifecycle . two . class ) ) ; return pico container . add adapter ( pooling component adapter ) . last ca ( ) ; }", "new_code_tokens": ["private", "component", "adapter", "prep", "res", "_", "lifecycle", "manager", "honors", "instantiation", "sequence", "(", "mutable", "pico", "container", "pico", "container", ")", "{", "pico", "container", ".", "add", "component", "(", "recording", "lifecycle", ".", "one", ".", "class", ")", ";", "pooling", "component", "adapter", "pooling", "component", "adapter", "=", "new", "pooling", "component", "adapter", "(", "new", "constructor", "injection", "component", "adapter", "(", "recording", "lifecycle", ".", "recorder", ".", "class", ",", "recording", "lifecycle", ".", "two", ".", "class", ")", ")", ";", "return", "pico", "container", ".", "add", "adapter", "(", "pooling", "component", "adapter", ")", ".", "last", "ca", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private component adapter prep res _ lifecycle manager honors instantiation sequence ( mutable pico container pico container ) { pico container . <KEEP_END> <INSERT> add <INSERT_END> <KEEP> component ( recording lifecycle . one . class ) ; pooling component adapter pooling component adapter = new pooling component adapter ( new constructor injection component adapter ( recording lifecycle . recorder . class , recording lifecycle . two . class ) ) ; return pico container . <KEEP_END> <INSERT> add <INSERT_END> <KEEP> adapter ( pooling component adapter ) . last ca ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "component", "adapter", "prep", "res", "_", "lifecycle", "manager", "honors", "instantiation", "sequence", "(", "mutable", "pico", "container", "pico", "container", ")", "{", "pico", "container", ".", "<KEEP_END>", "<INSERT>", "add", "<INSERT_END>", "<KEEP>", "component", "(", "recording", "lifecycle", ".", "one", ".", "class", ")", ";", "pooling", "component", "adapter", "pooling", "component", "adapter", "=", "new", "pooling", "component", "adapter", "(", "new", "constructor", "injection", "component", "adapter", "(", "recording", "lifecycle", ".", "recorder", ".", "class", ",", "recording", "lifecycle", ".", "two", ".", "class", ")", ")", ";", "return", "pico", "container", ".", "<KEEP_END>", "<INSERT>", "add", "<INSERT_END>", "<KEEP>", "adapter", "(", "pooling", "component", "adapter", ")", ".", "last", "ca", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the add <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "add", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "prep", "<KEEP>", "res", "<KEEP>", "_", "<KEEP>", "lifecycle", "<KEEP>", "manager", "<KEEP>", "honors", "<KEEP>", "instantiation", "<KEEP>", "sequence", "<KEEP>", "(", "<KEEP>", "mutable", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", ".", "<INSERT>", "add", "<KEEP>", "component", "<KEEP>", "(", "<KEEP>", "recording", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "constructor", "<KEEP>", "injection", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "recording", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "recorder", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "recording", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "two", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", ".", "<INSERT>", "add", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "last", "<KEEP>", "ca", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "h4ck3rm1k3_josm-older-1-7417", "old_comment": "if the node is part of exactly one way , return this . null otherwise .", "old_comment_tokens": ["if", "the", "node", "is", "part", "of", "exactly", "one", "way", ",", "return", "this", ".", "null", "otherwise", "."], "new_comment": "if the node is the end of exactly one way , return this . null otherwise .", "new_comment_tokens": ["if", "the", "node", "is", "the", "end", "of", "exactly", "one", "way", ",", "return", "this", ".", "null", "otherwise", "."], "old_code": "private way get way for node ( node n ) { way way = null ; for ( way w : main . ds . ways ) { for ( segment s : w . segments ) { if ( s . from = = n | | s . to = = n ) { if ( way ! = null ) return null ; if ( s . from = = s . to ) return null ; way = w ; } } } return way ; }", "old_code_tokens": ["private", "way", "get", "way", "for", "node", "(", "node", "n", ")", "{", "way", "way", "=", "null", ";", "for", "(", "way", "w", ":", "main", ".", "ds", ".", "ways", ")", "{", "for", "(", "segment", "s", ":", "w", ".", "segments", ")", "{", "if", "(", "s", ".", "from", "=", "=", "n", "|", "|", "s", ".", "to", "=", "=", "n", ")", "{", "if", "(", "way", "!", "=", "null", ")", "return", "null", ";", "if", "(", "s", ".", "from", "=", "=", "s", ".", "to", ")", "return", "null", ";", "way", "=", "w", ";", "}", "}", "}", "return", "way", ";", "}"], "new_code": "private way get way for node ( node n ) { way way = null ; for ( way w : main . ds . ways ) { int i = w . nodes . index of ( n ) ; if ( i = = - num ) continue ; if ( i = = num | | i = = w . nodes . size ( ) - num ) { if ( way ! = null ) return null ; way = w ; } } return way ; }", "new_code_tokens": ["private", "way", "get", "way", "for", "node", "(", "node", "n", ")", "{", "way", "way", "=", "null", ";", "for", "(", "way", "w", ":", "main", ".", "ds", ".", "ways", ")", "{", "int", "i", "=", "w", ".", "nodes", ".", "index", "of", "(", "n", ")", ";", "if", "(", "i", "=", "=", "-", "num", ")", "continue", ";", "if", "(", "i", "=", "=", "num", "|", "|", "i", "=", "=", "w", ".", "nodes", ".", "size", "(", ")", "-", "num", ")", "{", "if", "(", "way", "!", "=", "null", ")", "return", "null", ";", "way", "=", "w", ";", "}", "}", "return", "way", ";", "}"], "span_diff_code": "<KEEP> private way get way for node ( node n ) { way way = null ; for ( way w : main . ds . ways ) { <KEEP_END> <REPLACE_OLD> for ( segment s : <REPLACE_NEW> int i = <REPLACE_END> <KEEP> w . <KEEP_END> <REPLACE_OLD> segments <REPLACE_NEW> nodes . index of ( n <REPLACE_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> { <REPLACE_NEW> ; <REPLACE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> s . from <REPLACE_NEW> i <REPLACE_END> <KEEP> = = <KEEP_END> <REPLACE_OLD> n <REPLACE_NEW> - num ) continue ; if ( i = = num <REPLACE_END> <KEEP> | | <KEEP_END> <REPLACE_OLD> s . to <REPLACE_NEW> i <REPLACE_END> <KEEP> = = <KEEP_END> <REPLACE_OLD> n <REPLACE_NEW> w . nodes . size ( ) - num <REPLACE_END> <KEEP> ) { if ( way ! = null ) return null ; <KEEP_END> <DELETE> if ( s . from = = s . to ) return null ; <DELETE_END> <KEEP> way = w ; } } <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return way ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "way", "get", "way", "for", "node", "(", "node", "n", ")", "{", "way", "way", "=", "null", ";", "for", "(", "way", "w", ":", "main", ".", "ds", ".", "ways", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "for", "(", "segment", "s", ":", "<REPLACE_NEW>", "int", "i", "=", "<REPLACE_END>", "<KEEP>", "w", ".", "<KEEP_END>", "<REPLACE_OLD>", "segments", "<REPLACE_NEW>", "nodes", ".", "index", "of", "(", "n", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<REPLACE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "s", ".", "from", "<REPLACE_NEW>", "i", "<REPLACE_END>", "<KEEP>", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "-", "num", ")", "continue", ";", "if", "(", "i", "=", "=", "num", "<REPLACE_END>", "<KEEP>", "|", "|", "<KEEP_END>", "<REPLACE_OLD>", "s", ".", "to", "<REPLACE_NEW>", "i", "<REPLACE_END>", "<KEEP>", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "w", ".", "nodes", ".", "size", "(", ")", "-", "num", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "way", "!", "=", "null", ")", "return", "null", ";", "<KEEP_END>", "<DELETE>", "if", "(", "s", ".", "from", "=", "=", "s", ".", "to", ")", "return", "null", ";", "<DELETE_END>", "<KEEP>", "way", "=", "w", ";", "}", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "way", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> part <REPLACE_NEW> the end <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "part", "<REPLACE_NEW>", "the", "end", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "way", "<KEEP>", "get", "<KEEP>", "way", "<KEEP>", "for", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "n", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "way", "<KEEP>", "way", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "way", "<KEEP>", "w", "<KEEP>", ":", "<KEEP>", "main", "<KEEP>", ".", "<KEEP>", "ds", "<KEEP>", ".", "<KEEP>", "ways", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "segment", "<REPLACE_OLD>", "s", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "=", "<KEEP>", "w", "<KEEP>", ".", "<REPLACE_OLD>", "segments", "<REPLACE_NEW>", "nodes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "n", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "s", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "from", "<REPLACE_NEW>", "i", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "continue", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<KEEP>", "|", "<KEEP>", "|", "<REPLACE_OLD>", "s", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_NEW>", "i", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "n", "<REPLACE_NEW>", "w", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "nodes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "way", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "s", "<DELETE>", ".", "<DELETE>", "from", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "s", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "way", "<KEEP>", "=", "<KEEP>", "w", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "way", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_elide-119-6501", "old_comment": "list of persistent resource objects", "old_comment_tokens": ["list", "of", "persistent", "resource", "objects"], "new_comment": "connection object .", "new_comment_tokens": ["connection", "object", "."], "old_code": "private set < persistent resource > upsert objects ( environment context ) { if ( context . ids . is present ( ) ) { throw new bad request exception ( str ) ; } if ( ! context . data . is present ( ) ) { throw new bad request exception ( str ) ; } class < ? > entity class ; entity dictionary dictionary = context . request scope . get dictionary ( ) ; if ( context . is root ( ) ) { entity class = dictionary . get entity class ( context . field . get name ( ) ) ; } else { entity class = dictionary . get parameterized type ( context . parent resource . get resource class ( ) , context . field . get name ( ) ) ; } optional < entity > parent entity ; if ( ! context . is root ( ) ) { parent entity = optional . of ( new entity ( optional . empty ( ) , null , context . parent resource . get resource class ( ) , context . request scope ) ) ; } else { parent entity = optional . empty ( ) ; } linked hash set < entity > entity set = new linked hash set < > ( ) ; for ( map < string , object > input : context . data . get ( ) ) { entity set . add ( new entity ( parent entity , input , entity class , context . request scope ) ) ; } for ( entity entity : entity set ) { graph walker ( entity , this : : upsert object ) ; } for ( entity entity : entity set ) { graph walker ( entity , this : : update relationship ) ; if ( ! context . is root ( ) ) { context . parent resource . add relation ( context . field . get name ( ) , entity . to persistent resource ( ) ) ; } } return entity set . stream ( ) . map ( entity : : to persistent resource ) . collect ( collectors . to collection ( linked hash set : : new ) ) ; }", "old_code_tokens": ["private", "set", "<", "persistent", "resource", ">", "upsert", "objects", "(", "environment", "context", ")", "{", "if", "(", "context", ".", "ids", ".", "is", "present", "(", ")", ")", "{", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "if", "(", "!", "context", ".", "data", ".", "is", "present", "(", ")", ")", "{", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "class", "<", "?", ">", "entity", "class", ";", "entity", "dictionary", "dictionary", "=", "context", ".", "request", "scope", ".", "get", "dictionary", "(", ")", ";", "if", "(", "context", ".", "is", "root", "(", ")", ")", "{", "entity", "class", "=", "dictionary", ".", "get", "entity", "class", "(", "context", ".", "field", ".", "get", "name", "(", ")", ")", ";", "}", "else", "{", "entity", "class", "=", "dictionary", ".", "get", "parameterized", "type", "(", "context", ".", "parent", "resource", ".", "get", "resource", "class", "(", ")", ",", "context", ".", "field", ".", "get", "name", "(", ")", ")", ";", "}", "optional", "<", "entity", ">", "parent", "entity", ";", "if", "(", "!", "context", ".", "is", "root", "(", ")", ")", "{", "parent", "entity", "=", "optional", ".", "of", "(", "new", "entity", "(", "optional", ".", "empty", "(", ")", ",", "null", ",", "context", ".", "parent", "resource", ".", "get", "resource", "class", "(", ")", ",", "context", ".", "request", "scope", ")", ")", ";", "}", "else", "{", "parent", "entity", "=", "optional", ".", "empty", "(", ")", ";", "}", "linked", "hash", "set", "<", "entity", ">", "entity", "set", "=", "new", "linked", "hash", "set", "<", ">", "(", ")", ";", "for", "(", "map", "<", "string", ",", "object", ">", "input", ":", "context", ".", "data", ".", "get", "(", ")", ")", "{", "entity", "set", ".", "add", "(", "new", "entity", "(", "parent", "entity", ",", "input", ",", "entity", "class", ",", "context", ".", "request", "scope", ")", ")", ";", "}", "for", "(", "entity", "entity", ":", "entity", "set", ")", "{", "graph", "walker", "(", "entity", ",", "this", ":", ":", "upsert", "object", ")", ";", "}", "for", "(", "entity", "entity", ":", "entity", "set", ")", "{", "graph", "walker", "(", "entity", ",", "this", ":", ":", "update", "relationship", ")", ";", "if", "(", "!", "context", ".", "is", "root", "(", ")", ")", "{", "context", ".", "parent", "resource", ".", "add", "relation", "(", "context", ".", "field", ".", "get", "name", "(", ")", ",", "entity", ".", "to", "persistent", "resource", "(", ")", ")", ";", "}", "}", "return", "entity", "set", ".", "stream", "(", ")", ".", "map", "(", "entity", ":", ":", "to", "persistent", "resource", ")", ".", "collect", "(", "collectors", ".", "to", "collection", "(", "linked", "hash", "set", ":", ":", "new", ")", ")", ";", "}"], "new_code": "private connection container upsert objects ( environment context ) { if ( context . ids . is present ( ) ) { throw new bad request exception ( str ) ; } if ( ! context . data . is present ( ) ) { throw new bad request exception ( str ) ; } class < ? > entity class ; entity dictionary dictionary = context . request scope . get dictionary ( ) ; if ( context . is root ( ) ) { entity class = dictionary . get entity class ( context . field . get name ( ) ) ; } else { entity class = dictionary . get parameterized type ( context . parent resource . get resource class ( ) , context . field . get name ( ) ) ; } optional < entity > parent entity ; if ( ! context . is root ( ) ) { parent entity = optional . of ( new entity ( optional . empty ( ) , null , context . parent resource . get resource class ( ) , context . request scope ) ) ; } else { parent entity = optional . empty ( ) ; } linked hash set < entity > entity set = new linked hash set < > ( ) ; for ( map < string , object > input : context . data . get ( ) ) { entity set . add ( new entity ( parent entity , input , entity class , context . request scope ) ) ; } for ( entity entity : entity set ) { graph walker ( entity , ( e ) - > upsert object ( context , e ) ) ; } for ( entity entity : entity set ) { graph walker ( entity , this : : update relationship ) ; if ( ! context . is root ( ) ) { context . parent resource . add relation ( context . field . get name ( ) , entity . to persistent resource ( ) ) ; } } string entity name = dictionary . get json alias for ( entity class ) ; set < persistent resource > resources = entity set . stream ( ) . map ( entity : : to persistent resource ) . collect ( collectors . to collection ( linked hash set : : new ) ) ; return new connection container ( resources , optional . empty ( ) , entity name ) ; }", "new_code_tokens": ["private", "connection", "container", "upsert", "objects", "(", "environment", "context", ")", "{", "if", "(", "context", ".", "ids", ".", "is", "present", "(", ")", ")", "{", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "if", "(", "!", "context", ".", "data", ".", "is", "present", "(", ")", ")", "{", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "class", "<", "?", ">", "entity", "class", ";", "entity", "dictionary", "dictionary", "=", "context", ".", "request", "scope", ".", "get", "dictionary", "(", ")", ";", "if", "(", "context", ".", "is", "root", "(", ")", ")", "{", "entity", "class", "=", "dictionary", ".", "get", "entity", "class", "(", "context", ".", "field", ".", "get", "name", "(", ")", ")", ";", "}", "else", "{", "entity", "class", "=", "dictionary", ".", "get", "parameterized", "type", "(", "context", ".", "parent", "resource", ".", "get", "resource", "class", "(", ")", ",", "context", ".", "field", ".", "get", "name", "(", ")", ")", ";", "}", "optional", "<", "entity", ">", "parent", "entity", ";", "if", "(", "!", "context", ".", "is", "root", "(", ")", ")", "{", "parent", "entity", "=", "optional", ".", "of", "(", "new", "entity", "(", "optional", ".", "empty", "(", ")", ",", "null", ",", "context", ".", "parent", "resource", ".", "get", "resource", "class", "(", ")", ",", "context", ".", "request", "scope", ")", ")", ";", "}", "else", "{", "parent", "entity", "=", "optional", ".", "empty", "(", ")", ";", "}", "linked", "hash", "set", "<", "entity", ">", "entity", "set", "=", "new", "linked", "hash", "set", "<", ">", "(", ")", ";", "for", "(", "map", "<", "string", ",", "object", ">", "input", ":", "context", ".", "data", ".", "get", "(", ")", ")", "{", "entity", "set", ".", "add", "(", "new", "entity", "(", "parent", "entity", ",", "input", ",", "entity", "class", ",", "context", ".", "request", "scope", ")", ")", ";", "}", "for", "(", "entity", "entity", ":", "entity", "set", ")", "{", "graph", "walker", "(", "entity", ",", "(", "e", ")", "-", ">", "upsert", "object", "(", "context", ",", "e", ")", ")", ";", "}", "for", "(", "entity", "entity", ":", "entity", "set", ")", "{", "graph", "walker", "(", "entity", ",", "this", ":", ":", "update", "relationship", ")", ";", "if", "(", "!", "context", ".", "is", "root", "(", ")", ")", "{", "context", ".", "parent", "resource", ".", "add", "relation", "(", "context", ".", "field", ".", "get", "name", "(", ")", ",", "entity", ".", "to", "persistent", "resource", "(", ")", ")", ";", "}", "}", "string", "entity", "name", "=", "dictionary", ".", "get", "json", "alias", "for", "(", "entity", "class", ")", ";", "set", "<", "persistent", "resource", ">", "resources", "=", "entity", "set", ".", "stream", "(", ")", ".", "map", "(", "entity", ":", ":", "to", "persistent", "resource", ")", ".", "collect", "(", "collectors", ".", "to", "collection", "(", "linked", "hash", "set", ":", ":", "new", ")", ")", ";", "return", "new", "connection", "container", "(", "resources", ",", "optional", ".", "empty", "(", ")", ",", "entity", "name", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> set < persistent resource > <REPLACE_NEW> connection container <REPLACE_END> <KEEP> upsert objects ( environment context ) { if ( context . ids . is present ( ) ) { throw new bad request exception ( str ) ; } if ( ! context . data . is present ( ) ) { throw new bad request exception ( str ) ; } class < ? > entity class ; entity dictionary dictionary = context . request scope . get dictionary ( ) ; if ( context . is root ( ) ) { entity class = dictionary . get entity class ( context . field . get name ( ) ) ; } else { entity class = dictionary . get parameterized type ( context . parent resource . get resource class ( ) , context . field . get name ( ) ) ; } optional < entity > parent entity ; if ( ! context . is root ( ) ) { parent entity = optional . of ( new entity ( optional . empty ( ) , null , context . parent resource . get resource class ( ) , context . request scope ) ) ; } else { parent entity = optional . empty ( ) ; } linked hash set < entity > entity set = new linked hash set < > ( ) ; for ( map < string , object > input : context . data . get ( ) ) { entity set . add ( new entity ( parent entity , input , entity class , context . request scope ) ) ; } for ( entity entity : entity set ) { graph walker ( entity , <KEEP_END> <REPLACE_OLD> this : : <REPLACE_NEW> ( e ) - > <REPLACE_END> <KEEP> upsert object <KEEP_END> <INSERT> ( context , e ) <INSERT_END> <KEEP> ) ; } for ( entity entity : entity set ) { graph walker ( entity , this : : update relationship ) ; if ( ! context . is root ( ) ) { context . parent resource . add relation ( context . field . get name ( ) , entity . to persistent resource ( ) ) ; } } <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> string entity name = dictionary . get json alias for ( entity class ) ; set < persistent resource > resources = <REPLACE_END> <KEEP> entity set . stream ( ) . map ( entity : : to persistent resource ) . collect ( collectors . to collection ( linked hash set : : new ) ) ; <KEEP_END> <REPLACE_OLD> } <REPLACE_NEW> return new connection container ( resources , optional . empty ( ) , entity name ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "set", "<", "persistent", "resource", ">", "<REPLACE_NEW>", "connection", "container", "<REPLACE_END>", "<KEEP>", "upsert", "objects", "(", "environment", "context", ")", "{", "if", "(", "context", ".", "ids", ".", "is", "present", "(", ")", ")", "{", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "if", "(", "!", "context", ".", "data", ".", "is", "present", "(", ")", ")", "{", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "class", "<", "?", ">", "entity", "class", ";", "entity", "dictionary", "dictionary", "=", "context", ".", "request", "scope", ".", "get", "dictionary", "(", ")", ";", "if", "(", "context", ".", "is", "root", "(", ")", ")", "{", "entity", "class", "=", "dictionary", ".", "get", "entity", "class", "(", "context", ".", "field", ".", "get", "name", "(", ")", ")", ";", "}", "else", "{", "entity", "class", "=", "dictionary", ".", "get", "parameterized", "type", "(", "context", ".", "parent", "resource", ".", "get", "resource", "class", "(", ")", ",", "context", ".", "field", ".", "get", "name", "(", ")", ")", ";", "}", "optional", "<", "entity", ">", "parent", "entity", ";", "if", "(", "!", "context", ".", "is", "root", "(", ")", ")", "{", "parent", "entity", "=", "optional", ".", "of", "(", "new", "entity", "(", "optional", ".", "empty", "(", ")", ",", "null", ",", "context", ".", "parent", "resource", ".", "get", "resource", "class", "(", ")", ",", "context", ".", "request", "scope", ")", ")", ";", "}", "else", "{", "parent", "entity", "=", "optional", ".", "empty", "(", ")", ";", "}", "linked", "hash", "set", "<", "entity", ">", "entity", "set", "=", "new", "linked", "hash", "set", "<", ">", "(", ")", ";", "for", "(", "map", "<", "string", ",", "object", ">", "input", ":", "context", ".", "data", ".", "get", "(", ")", ")", "{", "entity", "set", ".", "add", "(", "new", "entity", "(", "parent", "entity", ",", "input", ",", "entity", "class", ",", "context", ".", "request", "scope", ")", ")", ";", "}", "for", "(", "entity", "entity", ":", "entity", "set", ")", "{", "graph", "walker", "(", "entity", ",", "<KEEP_END>", "<REPLACE_OLD>", "this", ":", ":", "<REPLACE_NEW>", "(", "e", ")", "-", ">", "<REPLACE_END>", "<KEEP>", "upsert", "object", "<KEEP_END>", "<INSERT>", "(", "context", ",", "e", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "for", "(", "entity", "entity", ":", "entity", "set", ")", "{", "graph", "walker", "(", "entity", ",", "this", ":", ":", "update", "relationship", ")", ";", "if", "(", "!", "context", ".", "is", "root", "(", ")", ")", "{", "context", ".", "parent", "resource", ".", "add", "relation", "(", "context", ".", "field", ".", "get", "name", "(", ")", ",", "entity", ".", "to", "persistent", "resource", "(", ")", ")", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "entity", "name", "=", "dictionary", ".", "get", "json", "alias", "for", "(", "entity", "class", ")", ";", "set", "<", "persistent", "resource", ">", "resources", "=", "<REPLACE_END>", "<KEEP>", "entity", "set", ".", "stream", "(", ")", ".", "map", "(", "entity", ":", ":", "to", "persistent", "resource", ")", ".", "collect", "(", "collectors", ".", "to", "collection", "(", "linked", "hash", "set", ":", ":", "new", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "new", "connection", "container", "(", "resources", ",", "optional", ".", "empty", "(", ")", ",", "entity", "name", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list of persistent resource objects <REPLACE_NEW> connection object . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "of", "persistent", "resource", "objects", "<REPLACE_NEW>", "connection", "object", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "persistent", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "connection", "<REPLACE_NEW>", "container", "<KEEP>", "upsert", "<KEEP>", "objects", "<KEEP>", "(", "<KEEP>", "environment", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "ids", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "present", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "bad", "<KEEP>", "request", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "present", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "bad", "<KEEP>", "request", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "entity", "<KEEP>", "class", "<KEEP>", ";", "<KEEP>", "entity", "<KEEP>", "dictionary", "<KEEP>", "dictionary", "<KEEP>", "=", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "request", "<KEEP>", "scope", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "dictionary", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "root", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "entity", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "dictionary", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "entity", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "dictionary", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameterized", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "parent", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "optional", "<KEEP>", "<", "<KEEP>", "entity", "<KEEP>", ">", "<KEEP>", "parent", "<KEEP>", "entity", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "root", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "parent", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "parent", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "request", "<KEEP>", "scope", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "parent", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "linked", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "entity", "<KEEP>", ">", "<KEEP>", "entity", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "input", "<KEEP>", ":", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "entity", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", "entity", "<KEEP>", ",", "<KEEP>", "input", "<KEEP>", ",", "<KEEP>", "entity", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "request", "<KEEP>", "scope", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", "entity", "<KEEP>", ":", "<KEEP>", "entity", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "graph", "<KEEP>", "walker", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", ",", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", ">", "<KEEP>", "upsert", "<KEEP>", "object", "<INSERT>", "(", "<INSERT>", "context", "<INSERT>", ",", "<INSERT>", "e", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", "entity", "<KEEP>", ":", "<KEEP>", "entity", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "graph", "<KEEP>", "walker", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "update", "<KEEP>", "relationship", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "root", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "parent", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "relation", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "entity", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "persistent", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "dictionary", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", "alias", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "persistent", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "resources", "<REPLACE_NEW>", "=", "<KEEP>", "entity", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "entity", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "to", "<KEEP>", "persistent", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "collect", "<KEEP>", "(", "<KEEP>", "collectors", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "collection", "<KEEP>", "(", "<KEEP>", "linked", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", ":", "<KEEP>", ":", "<KEEP>", "new", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "connection", "<REPLACE_NEW>", "container", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "resources", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "optional", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "empty", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "iluwatar_java-design-patterns-6-3", "old_comment": "an option of the first object of the iteration", "old_comment_tokens": ["an", "option", "of", "the", "first", "object", "of", "the", "iteration"], "new_comment": "an optional containing the first object of this iterable", "new_comment_tokens": ["an", "optional", "containing", "the", "first", "object", "of", "this", "iterable"], "old_code": "@ override public optional < type > first ( ) { optional result = optional . empty ( ) ; list < type > list = first ( num ) . as list ( ) ; if ( ! list . is empty ( ) ) { result = optional . of ( list . get ( num ) ) ; } return result ; }", "old_code_tokens": ["@", "override", "public", "optional", "<", "type", ">", "first", "(", ")", "{", "optional", "result", "=", "optional", ".", "empty", "(", ")", ";", "list", "<", "type", ">", "list", "=", "first", "(", "num", ")", ".", "as", "list", "(", ")", ";", "if", "(", "!", "list", ".", "is", "empty", "(", ")", ")", "{", "result", "=", "optional", ".", "of", "(", "list", ".", "get", "(", "num", ")", ")", ";", "}", "return", "result", ";", "}"], "new_code": "@ override public optional < type > first ( ) { iterator < type > result iterator = first ( num ) . iterator ( ) ; return result iterator . has next ( ) ? optional . of ( result iterator . next ( ) ) : optional . empty ( ) ; }", "new_code_tokens": ["@", "override", "public", "optional", "<", "type", ">", "first", "(", ")", "{", "iterator", "<", "type", ">", "result", "iterator", "=", "first", "(", "num", ")", ".", "iterator", "(", ")", ";", "return", "result", "iterator", ".", "has", "next", "(", ")", "?", "optional", ".", "of", "(", "result", "iterator", ".", "next", "(", ")", ")", ":", "optional", ".", "empty", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public optional < type > first ( ) { <KEEP_END> <INSERT> iterator < type > result iterator = first ( num ) . iterator ( ) ; return result iterator . has next ( ) ? <INSERT_END> <KEEP> optional <KEEP_END> <INSERT> . of ( <INSERT_END> <KEEP> result <KEEP_END> <REPLACE_OLD> = <REPLACE_NEW> iterator . next ( ) ) : <REPLACE_END> <KEEP> optional . empty ( ) ; <KEEP_END> <DELETE> list < type > list = first ( num ) . as list ( ) ; if ( ! list . is empty ( ) ) { result = optional . of ( list . get ( num ) ) ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> return result ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "optional", "<", "type", ">", "first", "(", ")", "{", "<KEEP_END>", "<INSERT>", "iterator", "<", "type", ">", "result", "iterator", "=", "first", "(", "num", ")", ".", "iterator", "(", ")", ";", "return", "result", "iterator", ".", "has", "next", "(", ")", "?", "<INSERT_END>", "<KEEP>", "optional", "<KEEP_END>", "<INSERT>", ".", "of", "(", "<INSERT_END>", "<KEEP>", "result", "<KEEP_END>", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "iterator", ".", "next", "(", ")", ")", ":", "<REPLACE_END>", "<KEEP>", "optional", ".", "empty", "(", ")", ";", "<KEEP_END>", "<DELETE>", "list", "<", "type", ">", "list", "=", "first", "(", "num", ")", ".", "as", "list", "(", ")", ";", "if", "(", "!", "list", ".", "is", "empty", "(", ")", ")", "{", "result", "=", "optional", ".", "of", "(", "list", ".", "get", "(", "num", ")", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "return", "result", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> option of <REPLACE_NEW> optional containing <REPLACE_END> <REPLACE_OLD> the iteration <REPLACE_NEW> this iterable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "option", "of", "<REPLACE_NEW>", "optional", "containing", "<REPLACE_END>", "<REPLACE_OLD>", "the", "iteration", "<REPLACE_NEW>", "this", "iterable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "optional", "<KEEP>", "<", "<KEEP>", "type", "<KEEP>", ">", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "iterator", "<INSERT>", "<", "<INSERT>", "type", "<INSERT>", ">", "<INSERT>", "result", "<INSERT>", "iterator", "<INSERT>", "=", "<INSERT>", "first", "<INSERT>", "(", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "iterator", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "result", "<INSERT>", "iterator", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "next", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "?", "<KEEP>", "optional", "<INSERT>", ".", "<INSERT>", "of", "<INSERT>", "(", "<KEEP>", "result", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "next", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ":", "<KEEP>", "optional", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "list", "<DELETE>", "<", "<DELETE>", "type", "<DELETE>", ">", "<DELETE>", "list", "<DELETE>", "=", "<DELETE>", "first", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "as", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "list", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "empty", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "optional", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<DELETE>", "list", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "result", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-69-3941", "old_comment": "the adapter to test", "old_comment_tokens": ["the", "adapter", "to", "test"], "new_comment": "the add adapter to test", "new_comment_tokens": ["the", "add", "adapter", "to", "test"], "old_code": "private component adapter prep def _ lifecycle manager support ( mutable pico container pico container ) { pico container . component ( recording lifecycle . one . class ) ; pooling component adapter pooling component adapter = new pooling component adapter ( new constructor injection component adapter ( recording lifecycle . recorder . class , recording lifecycle . two . class ) ) ; return pico container . adapter ( pooling component adapter ) . last ca ( ) ; }", "old_code_tokens": ["private", "component", "adapter", "prep", "def", "_", "lifecycle", "manager", "support", "(", "mutable", "pico", "container", "pico", "container", ")", "{", "pico", "container", ".", "component", "(", "recording", "lifecycle", ".", "one", ".", "class", ")", ";", "pooling", "component", "adapter", "pooling", "component", "adapter", "=", "new", "pooling", "component", "adapter", "(", "new", "constructor", "injection", "component", "adapter", "(", "recording", "lifecycle", ".", "recorder", ".", "class", ",", "recording", "lifecycle", ".", "two", ".", "class", ")", ")", ";", "return", "pico", "container", ".", "adapter", "(", "pooling", "component", "adapter", ")", ".", "last", "ca", "(", ")", ";", "}"], "new_code": "private component adapter prep def _ lifecycle manager support ( mutable pico container pico container ) { pico container . add component ( recording lifecycle . one . class ) ; pooling component adapter pooling component adapter = new pooling component adapter ( new constructor injection component adapter ( recording lifecycle . recorder . class , recording lifecycle . two . class ) ) ; return pico container . add adapter ( pooling component adapter ) . last ca ( ) ; }", "new_code_tokens": ["private", "component", "adapter", "prep", "def", "_", "lifecycle", "manager", "support", "(", "mutable", "pico", "container", "pico", "container", ")", "{", "pico", "container", ".", "add", "component", "(", "recording", "lifecycle", ".", "one", ".", "class", ")", ";", "pooling", "component", "adapter", "pooling", "component", "adapter", "=", "new", "pooling", "component", "adapter", "(", "new", "constructor", "injection", "component", "adapter", "(", "recording", "lifecycle", ".", "recorder", ".", "class", ",", "recording", "lifecycle", ".", "two", ".", "class", ")", ")", ";", "return", "pico", "container", ".", "add", "adapter", "(", "pooling", "component", "adapter", ")", ".", "last", "ca", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private component adapter prep def _ lifecycle manager support ( mutable pico container pico container ) { pico container . <KEEP_END> <INSERT> add <INSERT_END> <KEEP> component ( recording lifecycle . one . class ) ; pooling component adapter pooling component adapter = new pooling component adapter ( new constructor injection component adapter ( recording lifecycle . recorder . class , recording lifecycle . two . class ) ) ; return pico container . <KEEP_END> <INSERT> add <INSERT_END> <KEEP> adapter ( pooling component adapter ) . last ca ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "component", "adapter", "prep", "def", "_", "lifecycle", "manager", "support", "(", "mutable", "pico", "container", "pico", "container", ")", "{", "pico", "container", ".", "<KEEP_END>", "<INSERT>", "add", "<INSERT_END>", "<KEEP>", "component", "(", "recording", "lifecycle", ".", "one", ".", "class", ")", ";", "pooling", "component", "adapter", "pooling", "component", "adapter", "=", "new", "pooling", "component", "adapter", "(", "new", "constructor", "injection", "component", "adapter", "(", "recording", "lifecycle", ".", "recorder", ".", "class", ",", "recording", "lifecycle", ".", "two", ".", "class", ")", ")", ";", "return", "pico", "container", ".", "<KEEP_END>", "<INSERT>", "add", "<INSERT_END>", "<KEEP>", "adapter", "(", "pooling", "component", "adapter", ")", ".", "last", "ca", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the add <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "add", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "prep", "<KEEP>", "def", "<KEEP>", "_", "<KEEP>", "lifecycle", "<KEEP>", "manager", "<KEEP>", "support", "<KEEP>", "(", "<KEEP>", "mutable", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", ".", "<INSERT>", "add", "<KEEP>", "component", "<KEEP>", "(", "<KEEP>", "recording", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "constructor", "<KEEP>", "injection", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "recording", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "recorder", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "recording", "<KEEP>", "lifecycle", "<KEEP>", ".", "<KEEP>", "two", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "pico", "<KEEP>", "container", "<KEEP>", ".", "<INSERT>", "add", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "pooling", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "last", "<KEEP>", "ca", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_openshift-sync-plugin-0-5830", "old_comment": "the jenkins job name for the given build config and default namespace", "old_comment_tokens": ["the", "jenkins", "job", "name", "for", "the", "given", "build", "config", "and", "default", "namespace"], "new_comment": "the jenkins job name for the given build config", "new_comment_tokens": ["the", "jenkins", "job", "name", "for", "the", "given", "build", "config"], "old_code": "public static string jenkins job name ( build config bc , string default namespace ) { string namespace = bc . get metadata ( ) . get namespace ( ) ; string name = bc . get metadata ( ) . get name ( ) ; return jenkins job name ( namespace , name , default namespace ) ; }", "old_code_tokens": ["public", "static", "string", "jenkins", "job", "name", "(", "build", "config", "bc", ",", "string", "default", "namespace", ")", "{", "string", "namespace", "=", "bc", ".", "get", "metadata", "(", ")", ".", "get", "namespace", "(", ")", ";", "string", "name", "=", "bc", ".", "get", "metadata", "(", ")", ".", "get", "name", "(", ")", ";", "return", "jenkins", "job", "name", "(", "namespace", ",", "name", ",", "default", "namespace", ")", ";", "}"], "new_code": "public static string jenkins job name ( build config bc ) { string namespace = bc . get metadata ( ) . get namespace ( ) ; string name = bc . get metadata ( ) . get name ( ) ; return jenkins job name ( namespace , name ) ; }", "new_code_tokens": ["public", "static", "string", "jenkins", "job", "name", "(", "build", "config", "bc", ")", "{", "string", "namespace", "=", "bc", ".", "get", "metadata", "(", ")", ".", "get", "namespace", "(", ")", ";", "string", "name", "=", "bc", ".", "get", "metadata", "(", ")", ".", "get", "name", "(", ")", ";", "return", "jenkins", "job", "name", "(", "namespace", ",", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public static string jenkins job name ( build config bc <KEEP_END> <DELETE> , string default namespace <DELETE_END> <KEEP> ) { string namespace = bc . get metadata ( ) . get namespace ( ) ; string name = bc . get metadata ( ) . get name ( ) ; return jenkins job name ( namespace , name <KEEP_END> <DELETE> , default namespace <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "jenkins", "job", "name", "(", "build", "config", "bc", "<KEEP_END>", "<DELETE>", ",", "string", "default", "namespace", "<DELETE_END>", "<KEEP>", ")", "{", "string", "namespace", "=", "bc", ".", "get", "metadata", "(", ")", ".", "get", "namespace", "(", ")", ";", "string", "name", "=", "bc", ".", "get", "metadata", "(", ")", ".", "get", "name", "(", ")", ";", "return", "jenkins", "job", "name", "(", "namespace", ",", "name", "<KEEP_END>", "<DELETE>", ",", "default", "namespace", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> and default namespace <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "and", "default", "namespace", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "jenkins", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "build", "<KEEP>", "config", "<KEEP>", "bc", "<DELETE>", ",", "<DELETE>", "string", "<DELETE>", "default", "<DELETE>", "namespace", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "namespace", "<KEEP>", "=", "<KEEP>", "bc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "metadata", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "namespace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "bc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "metadata", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "jenkins", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "namespace", "<KEEP>", ",", "<KEEP>", "name", "<DELETE>", ",", "<DELETE>", "default", "<DELETE>", "namespace", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-151-5393", "old_comment": "the extension class instance . might be null if the instanciation fails .", "old_comment_tokens": ["the", "extension", "class", "instance", ".", "might", "be", "null", "if", "the", "instanciation", "fails", "."], "new_comment": "the extension class instance . might be null if the instantiation fails .", "new_comment_tokens": ["the", "extension", "class", "instance", ".", "might", "be", "null", "if", "the", "instantiation", "fails", "."], "old_code": "@ suppress warnings ( str ) public v get instance ( ) { if ( f instance = = null ) { iconfiguration element element = get configuration element ( ) ; assert element ! = null ; if ( element ! = null & & element . get attribute ( str ) ! = null ) { try { f instance = ( v ) element . create executable extension ( str ) ; } catch ( exception e ) { istatus status = new status ( istatus . error , activator . plugin _ id , nls . bind ( tcf plugin messages . extension _ error _ invalid extension point , element . get declaring extension ( ) . get unique identifier ( ) ) , e ) ; activator . get default ( ) . get log ( ) . log ( status ) ; } } } return f instance ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "v", "get", "instance", "(", ")", "{", "if", "(", "f", "instance", "=", "=", "null", ")", "{", "iconfiguration", "element", "element", "=", "get", "configuration", "element", "(", ")", ";", "assert", "element", "!", "=", "null", ";", "if", "(", "element", "!", "=", "null", "&", "&", "element", ".", "get", "attribute", "(", "str", ")", "!", "=", "null", ")", "{", "try", "{", "f", "instance", "=", "(", "v", ")", "element", ".", "create", "executable", "extension", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "istatus", "status", "=", "new", "status", "(", "istatus", ".", "error", ",", "activator", ".", "plugin", "_", "id", ",", "nls", ".", "bind", "(", "tcf", "plugin", "messages", ".", "extension", "_", "error", "_", "invalid", "extension", "point", ",", "element", ".", "get", "declaring", "extension", "(", ")", ".", "get", "unique", "identifier", "(", ")", ")", ",", "e", ")", ";", "activator", ".", "get", "default", "(", ")", ".", "get", "log", "(", ")", ".", "log", "(", "status", ")", ";", "}", "}", "}", "return", "f", "instance", ";", "}"], "new_code": "@ suppress warnings ( str ) public v get instance ( ) { if ( instance = = null & & element . get attribute ( str ) ! = null ) { try { instance = ( v ) element . create executable extension ( str ) ; } catch ( exception e ) { istatus status = new status ( istatus . error , activator . plugin _ id , nls . bind ( tcf plugin messages . extension _ error _ invalid extension point , element . get declaring extension ( ) . get unique identifier ( ) ) , e ) ; activator . get default ( ) . get log ( ) . log ( status ) ; } } return instance ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "v", "get", "instance", "(", ")", "{", "if", "(", "instance", "=", "=", "null", "&", "&", "element", ".", "get", "attribute", "(", "str", ")", "!", "=", "null", ")", "{", "try", "{", "instance", "=", "(", "v", ")", "element", ".", "create", "executable", "extension", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "istatus", "status", "=", "new", "status", "(", "istatus", ".", "error", ",", "activator", ".", "plugin", "_", "id", ",", "nls", ".", "bind", "(", "tcf", "plugin", "messages", ".", "extension", "_", "error", "_", "invalid", "extension", "point", ",", "element", ".", "get", "declaring", "extension", "(", ")", ".", "get", "unique", "identifier", "(", ")", ")", ",", "e", ")", ";", "activator", ".", "get", "default", "(", ")", ".", "get", "log", "(", ")", ".", "log", "(", "status", ")", ";", "}", "}", "return", "instance", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) public v get instance ( ) { if ( <KEEP_END> <DELETE> f <DELETE_END> <KEEP> instance = <KEEP_END> <DELETE> = null ) { iconfiguration element element = get configuration element ( ) ; assert element ! = null ; if ( element ! <DELETE_END> <KEEP> = null & & element . get attribute ( str ) ! = null ) { try { <KEEP_END> <DELETE> f <DELETE_END> <KEEP> instance = ( v ) element . create executable extension ( str ) ; } catch ( exception e ) { istatus status = new status ( istatus . error , activator . plugin _ id , nls . bind ( tcf plugin messages . extension _ error _ invalid extension point , element . get declaring extension ( ) . get unique identifier ( ) ) , e ) ; activator . get default ( ) . get log ( ) . log ( status ) ; } } <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return <KEEP_END> <DELETE> f <DELETE_END> <KEEP> instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "public", "v", "get", "instance", "(", ")", "{", "if", "(", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "instance", "=", "<KEEP_END>", "<DELETE>", "=", "null", ")", "{", "iconfiguration", "element", "element", "=", "get", "configuration", "element", "(", ")", ";", "assert", "element", "!", "=", "null", ";", "if", "(", "element", "!", "<DELETE_END>", "<KEEP>", "=", "null", "&", "&", "element", ".", "get", "attribute", "(", "str", ")", "!", "=", "null", ")", "{", "try", "{", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "instance", "=", "(", "v", ")", "element", ".", "create", "executable", "extension", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "istatus", "status", "=", "new", "status", "(", "istatus", ".", "error", ",", "activator", ".", "plugin", "_", "id", ",", "nls", ".", "bind", "(", "tcf", "plugin", "messages", ".", "extension", "_", "error", "_", "invalid", "extension", "point", ",", "element", ".", "get", "declaring", "extension", "(", ")", ".", "get", "unique", "identifier", "(", ")", ")", ",", "e", ")", ";", "activator", ".", "get", "default", "(", ")", ".", "get", "log", "(", ")", ".", "log", "(", "status", ")", ";", "}", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> instanciation <REPLACE_NEW> instantiation <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "instanciation", "<REPLACE_NEW>", "instantiation", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "v", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "f", "<KEEP>", "instance", "<KEEP>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "iconfiguration", "<DELETE>", "element", "<DELETE>", "element", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "configuration", "<DELETE>", "element", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "assert", "<DELETE>", "element", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<DELETE>", "f", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "v", "<KEEP>", ")", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "executable", "<KEEP>", "extension", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "istatus", "<KEEP>", "status", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "istatus", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "activator", "<KEEP>", ".", "<KEEP>", "plugin", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "nls", "<KEEP>", ".", "<KEEP>", "bind", "<KEEP>", "(", "<KEEP>", "tcf", "<KEEP>", "plugin", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "extension", "<KEEP>", "_", "<KEEP>", "error", "<KEEP>", "_", "<KEEP>", "invalid", "<KEEP>", "extension", "<KEEP>", "point", "<KEEP>", ",", "<KEEP>", "element", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "declaring", "<KEEP>", "extension", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "unique", "<KEEP>", "identifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "activator", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "}", "<KEEP>", "return", "<DELETE>", "f", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rt.equinox.bundles-63-5856", "old_comment": "the istext expert instance .", "old_comment_tokens": ["the", "istext", "expert", "instance", "."], "new_comment": "the istructured text expert instance .", "new_comment_tokens": ["the", "istructured", "text", "expert", "instance", "."], "old_code": "static public istext expert get stateful expert ( stext type handler handler , stext environment environment ) { if ( environment = = null ) environment = stext environment . default ; return new stext impl ( handler , environment , true ) ; }", "old_code_tokens": ["static", "public", "istext", "expert", "get", "stateful", "expert", "(", "stext", "type", "handler", "handler", ",", "stext", "environment", "environment", ")", "{", "if", "(", "environment", "=", "=", "null", ")", "environment", "=", "stext", "environment", ".", "default", ";", "return", "new", "stext", "impl", "(", "handler", ",", "environment", ",", "true", ")", ";", "}"], "new_code": "static public istructured text expert get stateful expert ( structured text type handler handler , structured text environment environment ) { if ( environment = = null ) environment = structured text environment . default ; return new structured text impl ( handler , environment , true ) ; }", "new_code_tokens": ["static", "public", "istructured", "text", "expert", "get", "stateful", "expert", "(", "structured", "text", "type", "handler", "handler", ",", "structured", "text", "environment", "environment", ")", "{", "if", "(", "environment", "=", "=", "null", ")", "environment", "=", "structured", "text", "environment", ".", "default", ";", "return", "new", "structured", "text", "impl", "(", "handler", ",", "environment", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> static public <KEEP_END> <REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END> <KEEP> expert get stateful expert ( <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> type handler handler , <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> environment environment ) { if ( environment = = null ) environment = <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> environment . default ; return new <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> impl ( handler , environment , true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "public", "<KEEP_END>", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>", "<KEEP>", "expert", "get", "stateful", "expert", "(", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "type", "handler", "handler", ",", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "environment", "environment", ")", "{", "if", "(", "environment", "=", "=", "null", ")", "environment", "=", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "environment", ".", "default", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "impl", "(", "handler", ",", "environment", ",", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "public", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "<REPLACE_NEW>", "text", "<KEEP>", "expert", "<KEEP>", "get", "<KEEP>", "stateful", "<KEEP>", "expert", "<KEEP>", "(", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "type", "<KEEP>", "handler", "<KEEP>", "handler", "<KEEP>", ",", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "environment", "<KEEP>", "environment", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "environment", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "environment", "<KEEP>", "=", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "environment", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "impl", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", ",", "<KEEP>", "environment", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_giraph-58-5643", "old_comment": "list of input splits", "old_comment_tokens": ["list", "of", "input", "splits"], "new_comment": "list of input splits for the given format", "new_comment_tokens": ["list", "of", "input", "splits", "for", "the", "given", "format"], "old_code": "private list < input split > generate input splits ( int num workers ) { vertex input format < i , v , e , m > vertex input format = get configuration ( ) . create vertex input format ( ) ; list < input split > splits ; try { splits = vertex input format . get splits ( get context ( ) , num workers ) ; float sample percent = get configuration ( ) . get float ( giraph configuration . input _ split _ sample _ percent , giraph configuration . input _ split _ sample _ percent _ default ) ; if ( sample percent ! = giraph configuration . input _ split _ sample _ percent _ default ) { int last index = ( int ) ( sample percent * splits . size ( ) / num ) ; list < input split > sample splits = splits . sub list ( num , last index ) ; log . warn ( str + str + sample splits . size ( ) + str + splits . size ( ) + str ) ; return sample splits ; } else { if ( log . is info enabled ( ) ) { log . info ( str + splits . size ( ) + str + num workers + str ) ; } return splits ; } } catch ( ioexception e ) { throw new illegal state exception ( str , e ) ; } catch ( interrupted exception e ) { throw new illegal state exception ( str , e ) ; } }", "old_code_tokens": ["private", "list", "<", "input", "split", ">", "generate", "input", "splits", "(", "int", "num", "workers", ")", "{", "vertex", "input", "format", "<", "i", ",", "v", ",", "e", ",", "m", ">", "vertex", "input", "format", "=", "get", "configuration", "(", ")", ".", "create", "vertex", "input", "format", "(", ")", ";", "list", "<", "input", "split", ">", "splits", ";", "try", "{", "splits", "=", "vertex", "input", "format", ".", "get", "splits", "(", "get", "context", "(", ")", ",", "num", "workers", ")", ";", "float", "sample", "percent", "=", "get", "configuration", "(", ")", ".", "get", "float", "(", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", ",", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", ";", "if", "(", "sample", "percent", "!", "=", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", "{", "int", "last", "index", "=", "(", "int", ")", "(", "sample", "percent", "*", "splits", ".", "size", "(", ")", "/", "num", ")", ";", "list", "<", "input", "split", ">", "sample", "splits", "=", "splits", ".", "sub", "list", "(", "num", ",", "last", "index", ")", ";", "log", ".", "warn", "(", "str", "+", "str", "+", "sample", "splits", ".", "size", "(", ")", "+", "str", "+", "splits", ".", "size", "(", ")", "+", "str", ")", ";", "return", "sample", "splits", ";", "}", "else", "{", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "splits", ".", "size", "(", ")", "+", "str", "+", "num", "workers", "+", "str", ")", ";", "}", "return", "splits", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ",", "e", ")", ";", "}", "}"], "new_code": "private list < input split > generate input splits ( giraph input format input format , int num workers , string input split type ) { string log prefix = str + input split type + str ; list < input split > splits ; try { splits = input format . get splits ( get context ( ) , num workers ) ; } catch ( ioexception e ) { throw new illegal state exception ( log prefix + str , e ) ; } catch ( interrupted exception e ) { throw new illegal state exception ( log prefix + str , e ) ; } float sample percent = get configuration ( ) . get float ( giraph configuration . input _ split _ sample _ percent , giraph configuration . input _ split _ sample _ percent _ default ) ; if ( sample percent ! = giraph configuration . input _ split _ sample _ percent _ default ) { int last index = ( int ) ( sample percent * splits . size ( ) / num ) ; list < input split > sample splits = splits . sub list ( num , last index ) ; log . warn ( log prefix + str + sample splits . size ( ) + str + splits . size ( ) + str ) ; return sample splits ; } else { if ( log . is info enabled ( ) ) { log . info ( log prefix + str + splits . size ( ) + str + num workers + str ) ; } return splits ; } }", "new_code_tokens": ["private", "list", "<", "input", "split", ">", "generate", "input", "splits", "(", "giraph", "input", "format", "input", "format", ",", "int", "num", "workers", ",", "string", "input", "split", "type", ")", "{", "string", "log", "prefix", "=", "str", "+", "input", "split", "type", "+", "str", ";", "list", "<", "input", "split", ">", "splits", ";", "try", "{", "splits", "=", "input", "format", ".", "get", "splits", "(", "get", "context", "(", ")", ",", "num", "workers", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "log", "prefix", "+", "str", ",", "e", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "log", "prefix", "+", "str", ",", "e", ")", ";", "}", "float", "sample", "percent", "=", "get", "configuration", "(", ")", ".", "get", "float", "(", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", ",", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", ";", "if", "(", "sample", "percent", "!", "=", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", "{", "int", "last", "index", "=", "(", "int", ")", "(", "sample", "percent", "*", "splits", ".", "size", "(", ")", "/", "num", ")", ";", "list", "<", "input", "split", ">", "sample", "splits", "=", "splits", ".", "sub", "list", "(", "num", ",", "last", "index", ")", ";", "log", ".", "warn", "(", "log", "prefix", "+", "str", "+", "sample", "splits", ".", "size", "(", ")", "+", "str", "+", "splits", ".", "size", "(", ")", "+", "str", ")", ";", "return", "sample", "splits", ";", "}", "else", "{", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "log", "prefix", "+", "str", "+", "splits", ".", "size", "(", ")", "+", "str", "+", "num", "workers", "+", "str", ")", ";", "}", "return", "splits", ";", "}", "}"], "span_diff_code": "<KEEP> private list < input split > generate input splits ( <KEEP_END> <INSERT> giraph input format input format , <INSERT_END> <KEEP> int num workers <KEEP_END> <REPLACE_OLD> ) { vertex <REPLACE_NEW> , string input split type ) { string log prefix = str + input split type + str ; list < input split > splits ; try { splits = <REPLACE_END> <KEEP> input format <KEEP_END> <DELETE> < i , v , e , m > vertex input format = get configuration ( ) . create vertex input format ( ) ; list < input split > splits ; try { splits = vertex input format <DELETE_END> <KEEP> . get splits ( get context ( ) , num workers ) ; <KEEP_END> <DELETE> float sample percent = get configuration ( ) . get float ( giraph configuration . input _ split _ sample _ percent , giraph configuration . input _ split _ sample _ percent _ default ) ; if ( sample percent ! = giraph configuration . input _ split _ sample _ percent _ default ) { int last index = ( int ) ( sample percent * splits . size ( ) / num ) ; list < input split > sample splits = splits . sub list ( num , last index ) ; log . warn ( str + str + sample splits . size ( ) + str + splits . size ( ) + str ) ; return sample splits ; } else { if ( log . is info enabled ( ) ) { log . info ( str + splits . size ( ) + str + num workers + str ) ; } return splits ; } <DELETE_END> <KEEP> } catch ( ioexception e ) { throw new illegal state exception ( <KEEP_END> <INSERT> log prefix + <INSERT_END> <KEEP> str , e ) ; } catch ( interrupted exception e ) { throw new illegal state exception ( <KEEP_END> <REPLACE_OLD> str , e ) ; } } <REPLACE_NEW> log prefix + str , e ) ; } float sample percent = get configuration ( ) . get float ( giraph configuration . input _ split _ sample _ percent , giraph configuration . input _ split _ sample _ percent _ default ) ; if ( sample percent ! = giraph configuration . input _ split _ sample _ percent _ default ) { int last index = ( int ) ( sample percent * splits . size ( ) / num ) ; list < input split > sample splits = splits . sub list ( num , last index ) ; log . warn ( log prefix + str + sample splits . size ( ) + str + splits . size ( ) + str ) ; return sample splits ; } else { if ( log . is info enabled ( ) ) { log . info ( log prefix + str + splits . size ( ) + str + num workers + str ) ; } return splits ; } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "list", "<", "input", "split", ">", "generate", "input", "splits", "(", "<KEEP_END>", "<INSERT>", "giraph", "input", "format", "input", "format", ",", "<INSERT_END>", "<KEEP>", "int", "num", "workers", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "vertex", "<REPLACE_NEW>", ",", "string", "input", "split", "type", ")", "{", "string", "log", "prefix", "=", "str", "+", "input", "split", "type", "+", "str", ";", "list", "<", "input", "split", ">", "splits", ";", "try", "{", "splits", "=", "<REPLACE_END>", "<KEEP>", "input", "format", "<KEEP_END>", "<DELETE>", "<", "i", ",", "v", ",", "e", ",", "m", ">", "vertex", "input", "format", "=", "get", "configuration", "(", ")", ".", "create", "vertex", "input", "format", "(", ")", ";", "list", "<", "input", "split", ">", "splits", ";", "try", "{", "splits", "=", "vertex", "input", "format", "<DELETE_END>", "<KEEP>", ".", "get", "splits", "(", "get", "context", "(", ")", ",", "num", "workers", ")", ";", "<KEEP_END>", "<DELETE>", "float", "sample", "percent", "=", "get", "configuration", "(", ")", ".", "get", "float", "(", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", ",", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", ";", "if", "(", "sample", "percent", "!", "=", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", "{", "int", "last", "index", "=", "(", "int", ")", "(", "sample", "percent", "*", "splits", ".", "size", "(", ")", "/", "num", ")", ";", "list", "<", "input", "split", ">", "sample", "splits", "=", "splits", ".", "sub", "list", "(", "num", ",", "last", "index", ")", ";", "log", ".", "warn", "(", "str", "+", "str", "+", "sample", "splits", ".", "size", "(", ")", "+", "str", "+", "splits", ".", "size", "(", ")", "+", "str", ")", ";", "return", "sample", "splits", ";", "}", "else", "{", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "splits", ".", "size", "(", ")", "+", "str", "+", "num", "workers", "+", "str", ")", ";", "}", "return", "splits", ";", "}", "<DELETE_END>", "<KEEP>", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "<KEEP_END>", "<INSERT>", "log", "prefix", "+", "<INSERT_END>", "<KEEP>", "str", ",", "e", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "<KEEP_END>", "<REPLACE_OLD>", "str", ",", "e", ")", ";", "}", "}", "<REPLACE_NEW>", "log", "prefix", "+", "str", ",", "e", ")", ";", "}", "float", "sample", "percent", "=", "get", "configuration", "(", ")", ".", "get", "float", "(", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", ",", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", ";", "if", "(", "sample", "percent", "!", "=", "giraph", "configuration", ".", "input", "_", "split", "_", "sample", "_", "percent", "_", "default", ")", "{", "int", "last", "index", "=", "(", "int", ")", "(", "sample", "percent", "*", "splits", ".", "size", "(", ")", "/", "num", ")", ";", "list", "<", "input", "split", ">", "sample", "splits", "=", "splits", ".", "sub", "list", "(", "num", ",", "last", "index", ")", ";", "log", ".", "warn", "(", "log", "prefix", "+", "str", "+", "sample", "splits", ".", "size", "(", ")", "+", "str", "+", "splits", ".", "size", "(", ")", "+", "str", ")", ";", "return", "sample", "splits", ";", "}", "else", "{", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "log", "prefix", "+", "str", "+", "splits", ".", "size", "(", ")", "+", "str", "+", "num", "workers", "+", "str", ")", ";", "}", "return", "splits", ";", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> splits <INSERT_NEW_KEEP_BEFORE> splits for the given format <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "splits", "<INSERT_NEW_KEEP_BEFORE>", "splits", "for", "the", "given", "format", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "input", "<KEEP>", "split", "<KEEP>", ">", "<KEEP>", "generate", "<KEEP>", "input", "<KEEP>", "splits", "<KEEP>", "(", "<INSERT>", "giraph", "<INSERT>", "input", "<INSERT>", "format", "<INSERT>", "input", "<INSERT>", "format", "<INSERT>", ",", "<KEEP>", "int", "<KEEP>", "num", "<KEEP>", "workers", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "vertex", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "prefix", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", "=", "<KEEP>", "input", "<KEEP>", "format", "<DELETE>", "<", "<DELETE>", "i", "<DELETE>", ",", "<DELETE>", "v", "<DELETE>", ",", "<DELETE>", "e", "<DELETE>", ",", "<DELETE>", "m", "<DELETE>", ">", "<DELETE>", "vertex", "<DELETE>", "input", "<DELETE>", "format", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "configuration", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "create", "<DELETE>", "vertex", "<DELETE>", "input", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "list", "<DELETE>", "<", "<DELETE>", "input", "<DELETE>", "split", "<DELETE>", ">", "<DELETE>", "splits", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "splits", "<DELETE>", "=", "<DELETE>", "vertex", "<DELETE>", "input", "<DELETE>", "format", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "splits", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", "workers", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "float", "<DELETE>", "sample", "<DELETE>", "percent", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "configuration", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "float", "<DELETE>", "(", "<DELETE>", "giraph", "<DELETE>", "configuration", "<DELETE>", ".", "<DELETE>", "input", "<DELETE>", "_", "<DELETE>", "split", "<DELETE>", "_", "<DELETE>", "sample", "<DELETE>", "_", "<DELETE>", "percent", "<DELETE>", ",", "<DELETE>", "giraph", "<DELETE>", "configuration", "<DELETE>", ".", "<DELETE>", "input", "<DELETE>", "_", "<DELETE>", "split", "<DELETE>", "_", "<DELETE>", "sample", "<DELETE>", "_", "<DELETE>", "percent", "<DELETE>", "_", "<DELETE>", "default", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "sample", "<DELETE>", "percent", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "giraph", "<DELETE>", "configuration", "<DELETE>", ".", "<DELETE>", "input", "<DELETE>", "_", "<DELETE>", "split", "<DELETE>", "_", "<DELETE>", "sample", "<DELETE>", "_", "<DELETE>", "percent", "<DELETE>", "_", "<DELETE>", "default", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "int", "<DELETE>", "last", "<DELETE>", "index", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "int", "<DELETE>", ")", "<DELETE>", "(", "<DELETE>", "sample", "<DELETE>", "percent", "<DELETE>", "*", "<DELETE>", "splits", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "/", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "list", "<DELETE>", "<", "<DELETE>", "input", "<DELETE>", "split", "<DELETE>", ">", "<DELETE>", "sample", "<DELETE>", "splits", "<DELETE>", "=", "<DELETE>", "splits", "<DELETE>", ".", "<DELETE>", "sub", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "last", "<DELETE>", "index", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "warn", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "sample", "<DELETE>", "splits", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "splits", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "sample", "<DELETE>", "splits", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "info", "<DELETE>", "enabled", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "splits", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "num", "<DELETE>", "workers", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "splits", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<INSERT>", "log", "<INSERT>", "prefix", "<INSERT>", "+", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "prefix", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "float", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "percent", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "float", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "giraph", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "percent", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "giraph", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "percent", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "percent", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "giraph", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "percent", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "percent", "<REPLACE_NEW>", "*", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "/", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "split", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "sub", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "warn", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "prefix", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "sample", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "enabled", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "prefix", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "workers", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "splits", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "apache_geode-345-6959", "old_comment": "result for error in gem fire while executing command .", "old_comment_tokens": ["result", "for", "error", "in", "gem", "fire", "while", "executing", "command", "."], "new_comment": "result for error in geode while executing command .", "new_comment_tokens": ["result", "for", "error", "in", "geode", "while", "executing", "command", "."], "old_code": "public static result create gem fire error result ( string message ) { return create error result ( errorcode _ gemfire _ error , str + message ) ; }", "old_code_tokens": ["public", "static", "result", "create", "gem", "fire", "error", "result", "(", "string", "message", ")", "{", "return", "create", "error", "result", "(", "errorcode", "_", "gemfire", "_", "error", ",", "str", "+", "message", ")", ";", "}"], "new_code": "public static result create gem fire error result ( string message ) { return create error result ( errorcode _ geode _ error , str + message ) ; }", "new_code_tokens": ["public", "static", "result", "create", "gem", "fire", "error", "result", "(", "string", "message", ")", "{", "return", "create", "error", "result", "(", "errorcode", "_", "geode", "_", "error", ",", "str", "+", "message", ")", ";", "}"], "span_diff_code": "<KEEP> public static result create gem fire error result ( string message ) { return create error result ( errorcode _ <KEEP_END> <REPLACE_OLD> gemfire <REPLACE_NEW> geode <REPLACE_END> <KEEP> _ error , str + message ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "result", "create", "gem", "fire", "error", "result", "(", "string", "message", ")", "{", "return", "create", "error", "result", "(", "errorcode", "_", "<KEEP_END>", "<REPLACE_OLD>", "gemfire", "<REPLACE_NEW>", "geode", "<REPLACE_END>", "<KEEP>", "_", "error", ",", "str", "+", "message", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> gem fire <REPLACE_NEW> geode <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "gem", "fire", "<REPLACE_NEW>", "geode", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "result", "<KEEP>", "create", "<KEEP>", "gem", "<KEEP>", "fire", "<KEEP>", "error", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "message", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "error", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", "errorcode", "<KEEP>", "_", "<REPLACE_OLD>", "gemfire", "<REPLACE_NEW>", "geode", "<KEEP>", "_", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "message", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_deltaspike-17-6597", "old_comment": "a repository metadata initializer corresponding to the repo class parameter .", "old_comment_tokens": ["a", "repository", "metadata", "initializer", "corresponding", "to", "the", "repo", "class", "parameter", "."], "new_comment": "a repository metadata .", "new_comment_tokens": ["a", "repository", "metadata", "."], "old_code": "public repository metadata lookup component ( class < ? > repo class ) { if ( repositories metadata . contains key ( repo class ) ) { return repositories metadata . get ( repo class ) ; } throw new runtime exception ( str + repo class . get name ( ) ) ; }", "old_code_tokens": ["public", "repository", "metadata", "lookup", "component", "(", "class", "<", "?", ">", "repo", "class", ")", "{", "if", "(", "repositories", "metadata", ".", "contains", "key", "(", "repo", "class", ")", ")", "{", "return", "repositories", "metadata", ".", "get", "(", "repo", "class", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "repo", "class", ".", "get", "name", "(", ")", ")", ";", "}"], "new_code": "public repository metadata lookup component ( class < ? > repository class ) { if ( repositories metadata . contains key ( repository class ) ) { return repositories metadata . get ( repository class ) ; } throw new runtime exception ( str + repository class . get name ( ) ) ; }", "new_code_tokens": ["public", "repository", "metadata", "lookup", "component", "(", "class", "<", "?", ">", "repository", "class", ")", "{", "if", "(", "repositories", "metadata", ".", "contains", "key", "(", "repository", "class", ")", ")", "{", "return", "repositories", "metadata", ".", "get", "(", "repository", "class", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "repository", "class", ".", "get", "name", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public repository metadata lookup component ( class < ? > <KEEP_END> <REPLACE_OLD> repo <REPLACE_NEW> repository <REPLACE_END> <KEEP> class ) { if ( repositories metadata . contains key ( <KEEP_END> <REPLACE_OLD> repo <REPLACE_NEW> repository <REPLACE_END> <KEEP> class ) ) { return repositories metadata . get ( <KEEP_END> <REPLACE_OLD> repo <REPLACE_NEW> repository <REPLACE_END> <KEEP> class ) ; } throw new runtime exception ( str + <KEEP_END> <REPLACE_OLD> repo <REPLACE_NEW> repository <REPLACE_END> <KEEP> class . get name ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "repository", "metadata", "lookup", "component", "(", "class", "<", "?", ">", "<KEEP_END>", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "class", ")", "{", "if", "(", "repositories", "metadata", ".", "contains", "key", "(", "<KEEP_END>", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "class", ")", ")", "{", "return", "repositories", "metadata", ".", "get", "(", "<KEEP_END>", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "class", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<REPLACE_END>", "<KEEP>", "class", ".", "get", "name", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> initializer corresponding to the repo class parameter <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "initializer", "corresponding", "to", "the", "repo", "class", "parameter", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "repository", "<KEEP>", "metadata", "<KEEP>", "lookup", "<KEEP>", "component", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "repositories", "<KEEP>", "metadata", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "key", "<KEEP>", "(", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "repositories", "<KEEP>", "metadata", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "repo", "<REPLACE_NEW>", "repository", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "NanoHttpd_nanohttpd-0-1120", "old_comment": "a response to the given request .", "old_comment_tokens": ["a", "response", "to", "the", "given", "request", "."], "new_comment": "http response , see class response for details", "new_comment_tokens": ["http", "response", ",", "see", "class", "response", "for", "details"], "old_code": "@ deprecated protected response serve ( ihttpsession session ) { return response . new fixed length response ( status . not _ found , nano httpd . mime _ plaintext , str ) ; }", "old_code_tokens": ["@", "deprecated", "protected", "response", "serve", "(", "ihttpsession", "session", ")", "{", "return", "response", ".", "new", "fixed", "length", "response", "(", "status", ".", "not", "_", "found", ",", "nano", "httpd", ".", "mime", "_", "plaintext", ",", "str", ")", ";", "}"], "new_code": "public response serve ( ihttpsession session ) { map < string , string > files = new hash map < string , string > ( ) ; method method = session . get method ( ) ; if ( method . put . equals ( method ) | | method . post . equals ( method ) ) { try { session . parse body ( files ) ; } catch ( ioexception ioe ) { return response . new fixed length response ( status . internal _ error , nano httpd . mime _ plaintext , str + ioe . get message ( ) ) ; } catch ( response exception re ) { return response . new fixed length response ( re . get status ( ) , nano httpd . mime _ plaintext , re . get message ( ) ) ; } } map < string , string > parms = session . get parms ( ) ; parms . put ( nano httpd . query _ string _ parameter , session . get query parameter string ( ) ) ; return serve ( session . get uri ( ) , method , session . get headers ( ) , parms , files ) ; }", "new_code_tokens": ["public", "response", "serve", "(", "ihttpsession", "session", ")", "{", "map", "<", "string", ",", "string", ">", "files", "=", "new", "hash", "map", "<", "string", ",", "string", ">", "(", ")", ";", "method", "method", "=", "session", ".", "get", "method", "(", ")", ";", "if", "(", "method", ".", "put", ".", "equals", "(", "method", ")", "|", "|", "method", ".", "post", ".", "equals", "(", "method", ")", ")", "{", "try", "{", "session", ".", "parse", "body", "(", "files", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "return", "response", ".", "new", "fixed", "length", "response", "(", "status", ".", "internal", "_", "error", ",", "nano", "httpd", ".", "mime", "_", "plaintext", ",", "str", "+", "ioe", ".", "get", "message", "(", ")", ")", ";", "}", "catch", "(", "response", "exception", "re", ")", "{", "return", "response", ".", "new", "fixed", "length", "response", "(", "re", ".", "get", "status", "(", ")", ",", "nano", "httpd", ".", "mime", "_", "plaintext", ",", "re", ".", "get", "message", "(", ")", ")", ";", "}", "}", "map", "<", "string", ",", "string", ">", "parms", "=", "session", ".", "get", "parms", "(", ")", ";", "parms", ".", "put", "(", "nano", "httpd", ".", "query", "_", "string", "_", "parameter", ",", "session", ".", "get", "query", "parameter", "string", "(", ")", ")", ";", "return", "serve", "(", "session", ".", "get", "uri", "(", ")", ",", "method", ",", "session", ".", "get", "headers", "(", ")", ",", "parms", ",", "files", ")", ";", "}"], "span_diff_code": "<REPLACE_OLD> @ deprecated protected <REPLACE_NEW> public <REPLACE_END> <KEEP> response serve ( ihttpsession session <KEEP_END> <INSERT> ) { map < string , string > files = new hash map < string , string > ( ) ; method method = session . get method ( ) ; if ( method . put . equals ( method ) | | method . post . equals ( method ) ) { try { session . parse body ( files ) ; } catch ( ioexception ioe <INSERT_END> <KEEP> ) { return response . new fixed length response ( status . <KEEP_END> <REPLACE_OLD> not _ found <REPLACE_NEW> internal _ error <REPLACE_END> <KEEP> , nano httpd . mime _ plaintext , str <KEEP_END> <REPLACE_OLD> ) ; } <REPLACE_NEW> + ioe . get message ( ) ) ; } catch ( response exception re ) { return response . new fixed length response ( re . get status ( ) , nano httpd . mime _ plaintext , re . get message ( ) ) ; } } map < string , string > parms = session . get parms ( ) ; parms . put ( nano httpd . query _ string _ parameter , session . get query parameter string ( ) ) ; return serve ( session . get uri ( ) , method , session . get headers ( ) , parms , files ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "@", "deprecated", "protected", "<REPLACE_NEW>", "public", "<REPLACE_END>", "<KEEP>", "response", "serve", "(", "ihttpsession", "session", "<KEEP_END>", "<INSERT>", ")", "{", "map", "<", "string", ",", "string", ">", "files", "=", "new", "hash", "map", "<", "string", ",", "string", ">", "(", ")", ";", "method", "method", "=", "session", ".", "get", "method", "(", ")", ";", "if", "(", "method", ".", "put", ".", "equals", "(", "method", ")", "|", "|", "method", ".", "post", ".", "equals", "(", "method", ")", ")", "{", "try", "{", "session", ".", "parse", "body", "(", "files", ")", ";", "}", "catch", "(", "ioexception", "ioe", "<INSERT_END>", "<KEEP>", ")", "{", "return", "response", ".", "new", "fixed", "length", "response", "(", "status", ".", "<KEEP_END>", "<REPLACE_OLD>", "not", "_", "found", "<REPLACE_NEW>", "internal", "_", "error", "<REPLACE_END>", "<KEEP>", ",", "nano", "httpd", ".", "mime", "_", "plaintext", ",", "str", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "}", "<REPLACE_NEW>", "+", "ioe", ".", "get", "message", "(", ")", ")", ";", "}", "catch", "(", "response", "exception", "re", ")", "{", "return", "response", ".", "new", "fixed", "length", "response", "(", "re", ".", "get", "status", "(", ")", ",", "nano", "httpd", ".", "mime", "_", "plaintext", ",", "re", ".", "get", "message", "(", ")", ")", ";", "}", "}", "map", "<", "string", ",", "string", ">", "parms", "=", "session", ".", "get", "parms", "(", ")", ";", "parms", ".", "put", "(", "nano", "httpd", ".", "query", "_", "string", "_", "parameter", ",", "session", ".", "get", "query", "parameter", "string", "(", ")", ")", ";", "return", "serve", "(", "session", ".", "get", "uri", "(", ")", ",", "method", ",", "session", ".", "get", "headers", "(", ")", ",", "parms", ",", "files", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a <REPLACE_NEW> http <REPLACE_END> <REPLACE_OLD> to the given request . <REPLACE_NEW> , see class response for details <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "<REPLACE_NEW>", "http", "<REPLACE_END>", "<REPLACE_OLD>", "to", "the", "given", "request", ".", "<REPLACE_NEW>", ",", "see", "class", "response", "for", "details", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "@", "<REPLACE_OLD>", "deprecated", "<REPLACE_OLD>", "protected", "<REPLACE_NEW>", "public", "<KEEP>", "response", "<KEEP>", "serve", "<KEEP>", "(", "<KEEP>", "ihttpsession", "<KEEP>", "session", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "files", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "method", "<INSERT>", "method", "<INSERT>", "=", "<INSERT>", "session", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "method", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "method", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "method", "<INSERT>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "method", "<INSERT>", ".", "<INSERT>", "post", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "method", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "session", "<INSERT>", ".", "<INSERT>", "parse", "<INSERT>", "body", "<INSERT>", "(", "<INSERT>", "files", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "ioexception", "<INSERT>", "ioe", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "fixed", "<KEEP>", "length", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", ".", "<REPLACE_OLD>", "not", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "found", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "error", "<KEEP>", ",", "<KEEP>", "nano", "<KEEP>", "httpd", "<KEEP>", ".", "<KEEP>", "mime", "<KEEP>", "_", "<KEEP>", "plaintext", "<KEEP>", ",", "<KEEP>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "ioe", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "re", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "fixed", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "re", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "nano", "<REPLACE_NEW>", "httpd", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "mime", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "plaintext", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "re", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "parms", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "parms", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "parms", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "nano", "<REPLACE_NEW>", "httpd", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "query", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "query", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "serve", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "uri", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "headers", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "parms", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "files", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "RobotiumTech_robotium-23-3690", "old_comment": "array list with the views found in the current activity", "old_comment_tokens": ["array", "list", "with", "the", "views", "found", "in", "the", "current", "activity"], "new_comment": "array list with the views found in the current activity or dialog", "new_comment_tokens": ["array", "list", "with", "the", "views", "found", "in", "the", "current", "activity", "or", "dialog"], "old_code": "public array list < view > get views ( ) { activity activity = solo activity . get current activity ( ) ; inst . wait for idle sync ( ) ; final window window ; final dialog current dialog = get current dialog ( activity ) ; try { if ( current dialog ! = null ) { window = current dialog . get window ( ) ; } else { window = activity . get window ( ) ; } view decor view = window . get decor view ( ) ; view list . clear ( ) ; get views ( get top parent ( decor view ) ) ; return view list ; } catch ( throwable e ) { e . print stack trace ( ) ; } return null ; }", "old_code_tokens": ["public", "array", "list", "<", "view", ">", "get", "views", "(", ")", "{", "activity", "activity", "=", "solo", "activity", ".", "get", "current", "activity", "(", ")", ";", "inst", ".", "wait", "for", "idle", "sync", "(", ")", ";", "final", "window", "window", ";", "final", "dialog", "current", "dialog", "=", "get", "current", "dialog", "(", "activity", ")", ";", "try", "{", "if", "(", "current", "dialog", "!", "=", "null", ")", "{", "window", "=", "current", "dialog", ".", "get", "window", "(", ")", ";", "}", "else", "{", "window", "=", "activity", ".", "get", "window", "(", ")", ";", "}", "view", "decor", "view", "=", "window", ".", "get", "decor", "view", "(", ")", ";", "view", "list", ".", "clear", "(", ")", ";", "get", "views", "(", "get", "top", "parent", "(", "decor", "view", ")", ")", ";", "return", "view", "list", ";", "}", "catch", "(", "throwable", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public array list < view > get views ( ) { final activity activity = solo activity . get current activity ( ) ; final dialog current dialog = dialog utils . get current dialog ( ) ; inst . wait for idle sync ( ) ; final window window ; try { if ( current dialog ! = null ) { window = current dialog . get window ( ) ; } else { window = activity . get window ( ) ; } view decor view = window . get decor view ( ) ; view list . clear ( ) ; get views ( get top parent ( decor view ) ) ; return view list ; } catch ( throwable e ) { e . print stack trace ( ) ; } return null ; }", "new_code_tokens": ["public", "array", "list", "<", "view", ">", "get", "views", "(", ")", "{", "final", "activity", "activity", "=", "solo", "activity", ".", "get", "current", "activity", "(", ")", ";", "final", "dialog", "current", "dialog", "=", "dialog", "utils", ".", "get", "current", "dialog", "(", ")", ";", "inst", ".", "wait", "for", "idle", "sync", "(", ")", ";", "final", "window", "window", ";", "try", "{", "if", "(", "current", "dialog", "!", "=", "null", ")", "{", "window", "=", "current", "dialog", ".", "get", "window", "(", ")", ";", "}", "else", "{", "window", "=", "activity", ".", "get", "window", "(", ")", ";", "}", "view", "decor", "view", "=", "window", ".", "get", "decor", "view", "(", ")", ";", "view", "list", ".", "clear", "(", ")", ";", "get", "views", "(", "get", "top", "parent", "(", "decor", "view", ")", ")", ";", "return", "view", "list", ";", "}", "catch", "(", "throwable", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public array list < view > get views ( ) { <KEEP_END> <INSERT> final <INSERT_END> <KEEP> activity activity = solo activity . get current activity <KEEP_END> <INSERT> ( ) ; final dialog current dialog = dialog utils . get current dialog <INSERT_END> <KEEP> ( ) ; inst . wait for idle sync ( ) ; final window window <KEEP_END> <DELETE> ; final dialog current dialog = get current dialog ( activity ) <DELETE_END> <KEEP> ; try { if ( current dialog ! = null ) { window = current dialog . get window ( ) ; } else { window = activity . get window ( ) ; } view decor view = window . get decor view ( ) ; view list . clear ( ) ; get views ( get top parent ( decor view ) ) ; return view list ; } catch ( throwable e ) { e . print stack trace ( ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "array", "list", "<", "view", ">", "get", "views", "(", ")", "{", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "activity", "activity", "=", "solo", "activity", ".", "get", "current", "activity", "<KEEP_END>", "<INSERT>", "(", ")", ";", "final", "dialog", "current", "dialog", "=", "dialog", "utils", ".", "get", "current", "dialog", "<INSERT_END>", "<KEEP>", "(", ")", ";", "inst", ".", "wait", "for", "idle", "sync", "(", ")", ";", "final", "window", "window", "<KEEP_END>", "<DELETE>", ";", "final", "dialog", "current", "dialog", "=", "get", "current", "dialog", "(", "activity", ")", "<DELETE_END>", "<KEEP>", ";", "try", "{", "if", "(", "current", "dialog", "!", "=", "null", ")", "{", "window", "=", "current", "dialog", ".", "get", "window", "(", ")", ";", "}", "else", "{", "window", "=", "activity", ".", "get", "window", "(", ")", ";", "}", "view", "decor", "view", "=", "window", ".", "get", "decor", "view", "(", ")", ";", "view", "list", ".", "clear", "(", ")", ";", "get", "views", "(", "get", "top", "parent", "(", "decor", "view", ")", ")", ";", "return", "view", "list", ";", "}", "catch", "(", "throwable", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> activity <INSERT_NEW_KEEP_BEFORE> activity or dialog <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "activity", "<INSERT_NEW_KEEP_BEFORE>", "activity", "or", "dialog", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "view", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "views", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "final", "<KEEP>", "activity", "<KEEP>", "activity", "<KEEP>", "=", "<KEEP>", "solo", "<KEEP>", "activity", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "activity", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "dialog", "<INSERT>", "current", "<INSERT>", "dialog", "<INSERT>", "=", "<INSERT>", "dialog", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "current", "<INSERT>", "dialog", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "inst", "<KEEP>", ".", "<KEEP>", "wait", "<KEEP>", "for", "<KEEP>", "idle", "<KEEP>", "sync", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "window", "<KEEP>", "window", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "dialog", "<DELETE>", "current", "<DELETE>", "dialog", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "current", "<DELETE>", "dialog", "<DELETE>", "(", "<DELETE>", "activity", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "dialog", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "window", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "dialog", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "window", "<KEEP>", "=", "<KEEP>", "activity", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "view", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", "=", "<KEEP>", "window", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "view", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "get", "<KEEP>", "views", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "top", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "view", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mccraigmccraig_prefuse-8-5601", "old_comment": "the second ( target ) graph item", "old_comment_tokens": ["the", "second", "(", "target", ")", "graph", "item"], "new_comment": "the second ( target ) visual item", "new_comment_tokens": ["the", "second", "(", "target", ")", "visual", "item"], "old_code": "public node item get second node ( ) { return m _ node2 ; }", "old_code_tokens": ["public", "node", "item", "get", "second", "node", "(", ")", "{", "return", "m", "_", "node2", ";", "}"], "new_code": "public node get second node ( ) { return m _ node2 ; }", "new_code_tokens": ["public", "node", "get", "second", "node", "(", ")", "{", "return", "m", "_", "node2", ";", "}"], "span_diff_code": "<KEEP> public node <KEEP_END> <DELETE> item <DELETE_END> <KEEP> get second node ( ) { return m _ node2 ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "node", "<KEEP_END>", "<DELETE>", "item", "<DELETE_END>", "<KEEP>", "get", "second", "node", "(", ")", "{", "return", "m", "_", "node2", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "node", "<DELETE>", "item", "<KEEP>", "get", "<KEEP>", "second", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "node2", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-76-5390", "old_comment": "the host name or ip .", "old_comment_tokens": ["the", "host", "name", "or", "ip", "."], "new_comment": "the host name or ip , or null .", "new_comment_tokens": ["the", "host", "name", "or", "ip", ",", "or", "null", "."], "old_code": "public string get selection host ( ) { iselection selection = get selection ( ) ; final atomic reference < string > result = new atomic reference < string > ( ) ; if ( selection instanceof istructured selection & & ! selection . is empty ( ) ) { object element = ( ( istructured selection ) selection ) . get first element ( ) ; if ( element instanceof ipeer model ) { final ipeer model peer model = ( ipeer model ) element ; if ( protocol . is dispatch thread ( ) ) { result . set ( peer model . get peer ( ) . get attributes ( ) . get ( ipeer . attr _ ip _ host ) ) ; } else { protocol . invoke and wait ( new runnable ( ) { @ override public void run ( ) { result . set ( peer model . get peer ( ) . get attributes ( ) . get ( ipeer . attr _ ip _ host ) ) ; } } ) ; } } } return result . get ( ) ; }", "old_code_tokens": ["public", "string", "get", "selection", "host", "(", ")", "{", "iselection", "selection", "=", "get", "selection", "(", ")", ";", "final", "atomic", "reference", "<", "string", ">", "result", "=", "new", "atomic", "reference", "<", "string", ">", "(", ")", ";", "if", "(", "selection", "instanceof", "istructured", "selection", "&", "&", "!", "selection", ".", "is", "empty", "(", ")", ")", "{", "object", "element", "=", "(", "(", "istructured", "selection", ")", "selection", ")", ".", "get", "first", "element", "(", ")", ";", "if", "(", "element", "instanceof", "ipeer", "model", ")", "{", "final", "ipeer", "model", "peer", "model", "=", "(", "ipeer", "model", ")", "element", ";", "if", "(", "protocol", ".", "is", "dispatch", "thread", "(", ")", ")", "{", "result", ".", "set", "(", "peer", "model", ".", "get", "peer", "(", ")", ".", "get", "attributes", "(", ")", ".", "get", "(", "ipeer", ".", "attr", "_", "ip", "_", "host", ")", ")", ";", "}", "else", "{", "protocol", ".", "invoke", "and", "wait", "(", "new", "runnable", "(", ")", "{", "@", "override", "public", "void", "run", "(", ")", "{", "result", ".", "set", "(", "peer", "model", ".", "get", "peer", "(", ")", ".", "get", "attributes", "(", ")", ".", "get", "(", "ipeer", ".", "attr", "_", "ip", "_", "host", ")", ")", ";", "}", "}", ")", ";", "}", "}", "}", "return", "result", ".", "get", "(", ")", ";", "}"], "new_code": "public string get selection host ( ) { iselection selection = get selection ( ) ; if ( selection instanceof istructured selection & & ! selection . is empty ( ) ) { object element = ( ( istructured selection ) selection ) . get first element ( ) ; iproperties access service service = service manager . get instance ( ) . get service ( element , iproperties access service . class ) ; if ( service ! = null ) { map < string , string > props = service . get target address ( element ) ; if ( props ! = null & & props . contains key ( iproperties access service constants . prop _ address ) ) { return props . get ( iproperties access service constants . prop _ address ) ; } } } return null ; }", "new_code_tokens": ["public", "string", "get", "selection", "host", "(", ")", "{", "iselection", "selection", "=", "get", "selection", "(", ")", ";", "if", "(", "selection", "instanceof", "istructured", "selection", "&", "&", "!", "selection", ".", "is", "empty", "(", ")", ")", "{", "object", "element", "=", "(", "(", "istructured", "selection", ")", "selection", ")", ".", "get", "first", "element", "(", ")", ";", "iproperties", "access", "service", "service", "=", "service", "manager", ".", "get", "instance", "(", ")", ".", "get", "service", "(", "element", ",", "iproperties", "access", "service", ".", "class", ")", ";", "if", "(", "service", "!", "=", "null", ")", "{", "map", "<", "string", ",", "string", ">", "props", "=", "service", ".", "get", "target", "address", "(", "element", ")", ";", "if", "(", "props", "!", "=", "null", "&", "&", "props", ".", "contains", "key", "(", "iproperties", "access", "service", "constants", ".", "prop", "_", "address", ")", ")", "{", "return", "props", ".", "get", "(", "iproperties", "access", "service", "constants", ".", "prop", "_", "address", ")", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public string get selection host ( ) { iselection selection = get selection <KEEP_END> <DELETE> ( ) ; final atomic reference < string > result = new atomic reference < string > <DELETE_END> <KEEP> ( ) ; if ( selection instanceof istructured selection & & ! selection . is empty ( ) ) { object element = ( ( istructured selection ) selection ) . get first element ( ) ; <KEEP_END> <REPLACE_OLD> if ( element instanceof ipeer model ) { final ipeer model peer model <REPLACE_NEW> iproperties access service service <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> ( ipeer model ) element ; if ( protocol . is dispatch thread ( ) ) { result . set ( peer model <REPLACE_NEW> service manager <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> peer <REPLACE_NEW> instance <REPLACE_END> <KEEP> ( ) . get <KEEP_END> <REPLACE_OLD> attributes <REPLACE_NEW> service <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> element , iproperties access service . class <INSERT_END> <KEEP> ) <KEEP_END> <INSERT> ; if ( service ! = null ) { map < string , string > props = service . get target address ( element ) ; if ( props ! = null & & props . contains key ( iproperties access service constants . prop _ address ) ) { return props <INSERT_END> <KEEP> . get ( <KEEP_END> <REPLACE_OLD> ipeer <REPLACE_NEW> iproperties access service constants <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> attr <REPLACE_NEW> prop <REPLACE_END> <KEEP> _ <KEEP_END> <REPLACE_OLD> ip _ host ) ) ; } else { protocol . invoke and wait ( new runnable ( ) { @ override public void run ( ) { result . set ( peer model . get peer ( ) . get attributes ( ) . get ( ipeer . attr _ ip _ host ) ) ; } } <REPLACE_NEW> address <REPLACE_END> <KEEP> ) ; } } } return <KEEP_END> <REPLACE_OLD> result . get ( ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "selection", "host", "(", ")", "{", "iselection", "selection", "=", "get", "selection", "<KEEP_END>", "<DELETE>", "(", ")", ";", "final", "atomic", "reference", "<", "string", ">", "result", "=", "new", "atomic", "reference", "<", "string", ">", "<DELETE_END>", "<KEEP>", "(", ")", ";", "if", "(", "selection", "instanceof", "istructured", "selection", "&", "&", "!", "selection", ".", "is", "empty", "(", ")", ")", "{", "object", "element", "=", "(", "(", "istructured", "selection", ")", "selection", ")", ".", "get", "first", "element", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "element", "instanceof", "ipeer", "model", ")", "{", "final", "ipeer", "model", "peer", "model", "<REPLACE_NEW>", "iproperties", "access", "service", "service", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "(", "ipeer", "model", ")", "element", ";", "if", "(", "protocol", ".", "is", "dispatch", "thread", "(", ")", ")", "{", "result", ".", "set", "(", "peer", "model", "<REPLACE_NEW>", "service", "manager", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "peer", "<REPLACE_NEW>", "instance", "<REPLACE_END>", "<KEEP>", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "service", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "element", ",", "iproperties", "access", "service", ".", "class", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", ";", "if", "(", "service", "!", "=", "null", ")", "{", "map", "<", "string", ",", "string", ">", "props", "=", "service", ".", "get", "target", "address", "(", "element", ")", ";", "if", "(", "props", "!", "=", "null", "&", "&", "props", ".", "contains", "key", "(", "iproperties", "access", "service", "constants", ".", "prop", "_", "address", ")", ")", "{", "return", "props", "<INSERT_END>", "<KEEP>", ".", "get", "(", "<KEEP_END>", "<REPLACE_OLD>", "ipeer", "<REPLACE_NEW>", "iproperties", "access", "service", "constants", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "attr", "<REPLACE_NEW>", "prop", "<REPLACE_END>", "<KEEP>", "_", "<KEEP_END>", "<REPLACE_OLD>", "ip", "_", "host", ")", ")", ";", "}", "else", "{", "protocol", ".", "invoke", "and", "wait", "(", "new", "runnable", "(", ")", "{", "@", "override", "public", "void", "run", "(", ")", "{", "result", ".", "set", "(", "peer", "model", ".", "get", "peer", "(", ")", ".", "get", "attributes", "(", ")", ".", "get", "(", "ipeer", ".", "attr", "_", "ip", "_", "host", ")", ")", ";", "}", "}", "<REPLACE_NEW>", "address", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "result", ".", "get", "(", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> ip <INSERT_NEW_KEEP_BEFORE> ip , or null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "ip", "<INSERT_NEW_KEEP_BEFORE>", "ip", ",", "or", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "selection", "<KEEP>", "host", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iselection", "<KEEP>", "selection", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "selection", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "atomic", "<DELETE>", "reference", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ">", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "atomic", "<DELETE>", "reference", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "selection", "<KEEP>", "instanceof", "<KEEP>", "istructured", "<KEEP>", "selection", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "selection", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "element", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "istructured", "<KEEP>", "selection", "<KEEP>", ")", "<KEEP>", "selection", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "instanceof", "<REPLACE_OLD>", "ipeer", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "ipeer", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "peer", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "iproperties", "<REPLACE_NEW>", "access", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "service", "<KEEP>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ipeer", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "protocol", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "dispatch", "<REPLACE_OLD>", "thread", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "peer", "<REPLACE_OLD>", "model", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "peer", "<REPLACE_NEW>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "service", "<KEEP>", "(", "<INSERT>", "element", "<INSERT>", ",", "<INSERT>", "iproperties", "<INSERT>", "access", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "class", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "service", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "props", "<INSERT>", "=", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "target", "<INSERT>", "address", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "props", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "props", "<INSERT>", ".", "<INSERT>", "contains", "<INSERT>", "key", "<INSERT>", "(", "<INSERT>", "iproperties", "<INSERT>", "access", "<INSERT>", "service", "<INSERT>", "constants", "<INSERT>", ".", "<INSERT>", "prop", "<INSERT>", "_", "<INSERT>", "address", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "props", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "ipeer", "<REPLACE_NEW>", "iproperties", "<REPLACE_NEW>", "access", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "constants", "<KEEP>", ".", "<REPLACE_OLD>", "attr", "<REPLACE_NEW>", "prop", "<KEEP>", "_", "<REPLACE_OLD>", "ip", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "host", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "protocol", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "invoke", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "wait", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "runnable", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "override", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "run", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "peer", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "peer", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ipeer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "attr", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "ip", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "host", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "address", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "facebook_facebook-android-sdk-2-1087", "old_comment": "true if the current access token has the publish _ actions permission , false otherwise .", "old_comment_tokens": ["true", "if", "the", "current", "access", "token", "has", "the", "publish", "_", "actions", "permission", ",", "false", "otherwise", "."], "new_comment": "true if the content can be shared .", "new_comment_tokens": ["true", "if", "the", "content", "can", "be", "shared", "."], "old_code": "public boolean can share ( ) { if ( this . get share content ( ) = = null ) { return false ; } final access token access token = access token . get current access token ( ) ; if ( access token = = null ) { return false ; } final set < string > permissions = access token . get permissions ( ) ; if ( permissions = = null ) { return false ; } return ( permissions . contains ( str ) ) ; }", "old_code_tokens": ["public", "boolean", "can", "share", "(", ")", "{", "if", "(", "this", ".", "get", "share", "content", "(", ")", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "access", "token", "access", "token", "=", "access", "token", ".", "get", "current", "access", "token", "(", ")", ";", "if", "(", "access", "token", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "set", "<", "string", ">", "permissions", "=", "access", "token", ".", "get", "permissions", "(", ")", ";", "if", "(", "permissions", "=", "=", "null", ")", "{", "return", "false", ";", "}", "return", "(", "permissions", ".", "contains", "(", "str", ")", ")", ";", "}"], "new_code": "public boolean can share ( ) { if ( this . get share content ( ) = = null ) { return false ; } final access token access token = access token . get current access token ( ) ; if ( access token = = null ) { return false ; } final set < string > permissions = access token . get permissions ( ) ; if ( permissions = = null | | ! permissions . contains ( str ) ) { log . w ( tag , str + str ) ; } return true ; }", "new_code_tokens": ["public", "boolean", "can", "share", "(", ")", "{", "if", "(", "this", ".", "get", "share", "content", "(", ")", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "access", "token", "access", "token", "=", "access", "token", ".", "get", "current", "access", "token", "(", ")", ";", "if", "(", "access", "token", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "set", "<", "string", ">", "permissions", "=", "access", "token", ".", "get", "permissions", "(", ")", ";", "if", "(", "permissions", "=", "=", "null", "|", "|", "!", "permissions", ".", "contains", "(", "str", ")", ")", "{", "log", ".", "w", "(", "tag", ",", "str", "+", "str", ")", ";", "}", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public boolean can share ( ) { if ( this . get share content ( ) = = null ) { return false ; } final access token access token = access token . get current access token ( ) ; if ( access token = = null ) { return false ; } final set < string > permissions = access token . get permissions ( ) ; if ( permissions = = null <KEEP_END> <REPLACE_OLD> ) { return false ; } return ( <REPLACE_NEW> | | ! <REPLACE_END> <KEEP> permissions . contains ( str ) ) <KEEP_END> <INSERT> { log . w ( tag , str + str ) <INSERT_END> <KEEP> ; } <KEEP_END> <INSERT> return true ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "can", "share", "(", ")", "{", "if", "(", "this", ".", "get", "share", "content", "(", ")", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "access", "token", "access", "token", "=", "access", "token", ".", "get", "current", "access", "token", "(", ")", ";", "if", "(", "access", "token", "=", "=", "null", ")", "{", "return", "false", ";", "}", "final", "set", "<", "string", ">", "permissions", "=", "access", "token", ".", "get", "permissions", "(", ")", ";", "if", "(", "permissions", "=", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "return", "false", ";", "}", "return", "(", "<REPLACE_NEW>", "|", "|", "!", "<REPLACE_END>", "<KEEP>", "permissions", ".", "contains", "(", "str", ")", ")", "<KEEP_END>", "<INSERT>", "{", "log", ".", "w", "(", "tag", ",", "str", "+", "str", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "return", "true", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> current access token has the publish _ actions permission , false otherwise <REPLACE_NEW> content can be shared <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "current", "access", "token", "has", "the", "publish", "_", "actions", "permission", ",", "false", "otherwise", "<REPLACE_NEW>", "content", "can", "be", "shared", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "can", "<KEEP>", "share", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "share", "<KEEP>", "content", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "permissions", "<KEEP>", "=", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "permissions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "permissions", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "!", "<KEEP>", "permissions", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "log", "<INSERT>", ".", "<INSERT>", "w", "<INSERT>", "(", "<INSERT>", "tag", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "swagger-api_swagger-core-3-3153", "old_comment": "in enum in", "old_comment_tokens": ["in", "enum", "in"], "new_comment": "string in", "new_comment_tokens": ["string", "in"], "old_code": "@ api model property ( required = true , value = str ) public in enum get in ( ) { return in ; }", "old_code_tokens": ["@", "api", "model", "property", "(", "required", "=", "true", ",", "value", "=", "str", ")", "public", "in", "enum", "get", "in", "(", ")", "{", "return", "in", ";", "}"], "new_code": "@ api model property ( required = true , value = str ) public string get in ( ) { return in ; }", "new_code_tokens": ["@", "api", "model", "property", "(", "required", "=", "true", ",", "value", "=", "str", ")", "public", "string", "get", "in", "(", ")", "{", "return", "in", ";", "}"], "span_diff_code": "<KEEP> @ api model property ( required = true , value = str ) public <KEEP_END> <REPLACE_OLD> in enum <REPLACE_NEW> string <REPLACE_END> <KEEP> get in ( ) { return in ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "api", "model", "property", "(", "required", "=", "true", ",", "value", "=", "str", ")", "public", "<KEEP_END>", "<REPLACE_OLD>", "in", "enum", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "in", "(", ")", "{", "return", "in", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> in enum in <REPLACE_NEW> string in <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "in", "enum", "in", "<REPLACE_NEW>", "string", "in", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "api", "<KEEP>", "model", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "required", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<REPLACE_OLD>", "in", "<REPLACE_OLD>", "enum", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "in", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "in", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rt.equinox.bundles-61-5855", "old_comment": "the istext expert instance .", "old_comment_tokens": ["the", "istext", "expert", "instance", "."], "new_comment": "the istructured text expert instance .", "new_comment_tokens": ["the", "istructured", "text", "expert", "instance", "."], "old_code": "static public istext expert get stateful expert ( string type ) { return get stateful expert ( type , stext environment . default ) ; }", "old_code_tokens": ["static", "public", "istext", "expert", "get", "stateful", "expert", "(", "string", "type", ")", "{", "return", "get", "stateful", "expert", "(", "type", ",", "stext", "environment", ".", "default", ")", ";", "}"], "new_code": "static public istructured text expert get stateful expert ( string type ) { return get stateful expert ( type , structured text environment . default ) ; }", "new_code_tokens": ["static", "public", "istructured", "text", "expert", "get", "stateful", "expert", "(", "string", "type", ")", "{", "return", "get", "stateful", "expert", "(", "type", ",", "structured", "text", "environment", ".", "default", ")", ";", "}"], "span_diff_code": "<KEEP> static public <KEEP_END> <REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END> <KEEP> expert get stateful expert ( string type ) { return get stateful expert ( type , <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> environment . default ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "public", "<KEEP_END>", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>", "<KEEP>", "expert", "get", "stateful", "expert", "(", "string", "type", ")", "{", "return", "get", "stateful", "expert", "(", "type", ",", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "environment", ".", "default", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "public", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "<REPLACE_NEW>", "text", "<KEEP>", "expert", "<KEEP>", "get", "<KEEP>", "stateful", "<KEEP>", "expert", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "stateful", "<KEEP>", "expert", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "environment", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "airbnb_epoxy-1-983", "old_comment": "true if the clazz ( or one of its superclasses except for object ) implements the given method . returns false if the method doesn ' t exist anywhere in the class hierarchy or it is abstract .", "old_comment_tokens": ["true", "if", "the", "clazz", "(", "or", "one", "of", "its", "superclasses", "except", "for", "object", ")", "implements", "the", "given", "method", ".", "returns", "false", "if", "the", "method", "doesn", "'", "t", "exist", "anywhere", "in", "the", "class", "hierarchy", "or", "it", "is", "abstract", "."], "new_comment": "true if the clazz ( or one of its superclasses ) implements the given method . returns false if the method doesn ' t exist anywhere in the class hierarchy or it is abstract .", "new_comment_tokens": ["true", "if", "the", "clazz", "(", "or", "one", "of", "its", "superclasses", ")", "implements", "the", "given", "method", ".", "returns", "false", "if", "the", "method", "doesn", "'", "t", "exist", "anywhere", "in", "the", "class", "hierarchy", "or", "it", "is", "abstract", "."], "old_code": "static boolean implements method ( type element clazz , method spec method , types type utils ) { executable element method on class = get method on class ( clazz , method , type utils ) ; if ( method on class = = null ) { return false ; } element implementing class = method on class . get enclosing element ( ) ; if ( implementing class . get simple name ( ) . to string ( ) . equals ( str ) ) { return false ; } set < modifier > modifiers = method on class . get modifiers ( ) ; return ! modifiers . contains ( modifier . abstract ) ; }", "old_code_tokens": ["static", "boolean", "implements", "method", "(", "type", "element", "clazz", ",", "method", "spec", "method", ",", "types", "type", "utils", ")", "{", "executable", "element", "method", "on", "class", "=", "get", "method", "on", "class", "(", "clazz", ",", "method", ",", "type", "utils", ")", ";", "if", "(", "method", "on", "class", "=", "=", "null", ")", "{", "return", "false", ";", "}", "element", "implementing", "class", "=", "method", "on", "class", ".", "get", "enclosing", "element", "(", ")", ";", "if", "(", "implementing", "class", ".", "get", "simple", "name", "(", ")", ".", "to", "string", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "set", "<", "modifier", ">", "modifiers", "=", "method", "on", "class", ".", "get", "modifiers", "(", ")", ";", "return", "!", "modifiers", ".", "contains", "(", "modifier", ".", "abstract", ")", ";", "}"], "new_code": "static boolean implements method ( type element clazz , method spec method , types type utils ) { executable element method on class = get method on class ( clazz , method , type utils ) ; if ( method on class = = null ) { return false ; } set < modifier > modifiers = method on class . get modifiers ( ) ; return ! modifiers . contains ( modifier . abstract ) ; }", "new_code_tokens": ["static", "boolean", "implements", "method", "(", "type", "element", "clazz", ",", "method", "spec", "method", ",", "types", "type", "utils", ")", "{", "executable", "element", "method", "on", "class", "=", "get", "method", "on", "class", "(", "clazz", ",", "method", ",", "type", "utils", ")", ";", "if", "(", "method", "on", "class", "=", "=", "null", ")", "{", "return", "false", ";", "}", "set", "<", "modifier", ">", "modifiers", "=", "method", "on", "class", ".", "get", "modifiers", "(", ")", ";", "return", "!", "modifiers", ".", "contains", "(", "modifier", ".", "abstract", ")", ";", "}"], "span_diff_code": "<KEEP> static boolean implements method ( type element clazz , method spec method , types type utils ) { executable element method on class = get method on class ( clazz , method , type utils ) ; if ( method on class = = null ) { return false ; } <KEEP_END> <DELETE> element implementing class = method on class . get enclosing element ( ) ; if ( implementing class . get simple name ( ) . to string ( ) . equals ( str ) ) { return false ; } <DELETE_END> <KEEP> set < modifier > modifiers = method on class . get modifiers ( ) ; return ! modifiers . contains ( modifier . abstract ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "boolean", "implements", "method", "(", "type", "element", "clazz", ",", "method", "spec", "method", ",", "types", "type", "utils", ")", "{", "executable", "element", "method", "on", "class", "=", "get", "method", "on", "class", "(", "clazz", ",", "method", ",", "type", "utils", ")", ";", "if", "(", "method", "on", "class", "=", "=", "null", ")", "{", "return", "false", ";", "}", "<KEEP_END>", "<DELETE>", "element", "implementing", "class", "=", "method", "on", "class", ".", "get", "enclosing", "element", "(", ")", ";", "if", "(", "implementing", "class", ".", "get", "simple", "name", "(", ")", ".", "to", "string", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "<DELETE_END>", "<KEEP>", "set", "<", "modifier", ">", "modifiers", "=", "method", "on", "class", ".", "get", "modifiers", "(", ")", ";", "return", "!", "modifiers", ".", "contains", "(", "modifier", ".", "abstract", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> except for object <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "except", "for", "object", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "implements", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "element", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "spec", "<KEEP>", "method", "<KEEP>", ",", "<KEEP>", "types", "<KEEP>", "type", "<KEEP>", "utils", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "executable", "<KEEP>", "element", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", "utils", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "element", "<DELETE>", "implementing", "<DELETE>", "class", "<DELETE>", "=", "<DELETE>", "method", "<DELETE>", "on", "<DELETE>", "class", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "enclosing", "<DELETE>", "element", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "implementing", "<DELETE>", "class", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "simple", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "modifier", "<KEEP>", ">", "<KEEP>", "modifiers", "<KEEP>", "=", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "modifiers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "!", "<KEEP>", "modifiers", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "modifier", "<KEEP>", ".", "<KEEP>", "abstract", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rt.equinox.bundles-54-5854", "old_comment": "string with no directional formatting characters .", "old_comment_tokens": ["string", "with", "no", "directional", "formatting", "characters", "."], "new_comment": "string without directional formatting characters", "new_comment_tokens": ["string", "without", "directional", "formatting", "characters"], "old_code": "public static string deprocess ( string str , stext processor processor ) { if ( ( str = = null ) | | ( str . length ( ) < = num ) | | ! is processing needed ( ) ) return str ; stext environment env = new stext environment ( null , false , stext environment . orient _ unknown ) ; return stext engine . full to lean text ( processor , env , str , null ) ; }", "old_code_tokens": ["public", "static", "string", "deprocess", "(", "string", "str", ",", "stext", "processor", "processor", ")", "{", "if", "(", "(", "str", "=", "=", "null", ")", "|", "|", "(", "str", ".", "length", "(", ")", "<", "=", "num", ")", "|", "|", "!", "is", "processing", "needed", "(", ")", ")", "return", "str", ";", "stext", "environment", "env", "=", "new", "stext", "environment", "(", "null", ",", "false", ",", "stext", "environment", ".", "orient", "_", "unknown", ")", ";", "return", "stext", "engine", ".", "full", "to", "lean", "text", "(", "processor", ",", "env", ",", "str", ",", "null", ")", ";", "}"], "new_code": "public static string deprocess ( string str , stext processor processor ) { if ( ( str = = null ) | | ( str . length ( ) < = num ) ) return str ; stext environment env = new stext environment ( null , false , stext environment . orient _ unknown ) ; if ( ! env . is processing needed ( ) ) return str ; return stext engine . full to lean text ( processor , env , str , null ) ; }", "new_code_tokens": ["public", "static", "string", "deprocess", "(", "string", "str", ",", "stext", "processor", "processor", ")", "{", "if", "(", "(", "str", "=", "=", "null", ")", "|", "|", "(", "str", ".", "length", "(", ")", "<", "=", "num", ")", ")", "return", "str", ";", "stext", "environment", "env", "=", "new", "stext", "environment", "(", "null", ",", "false", ",", "stext", "environment", ".", "orient", "_", "unknown", ")", ";", "if", "(", "!", "env", ".", "is", "processing", "needed", "(", ")", ")", "return", "str", ";", "return", "stext", "engine", ".", "full", "to", "lean", "text", "(", "processor", ",", "env", ",", "str", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public static string deprocess ( string str , stext processor processor ) { if ( ( str = = null ) | | ( str . length ( ) < = num ) <KEEP_END> <DELETE> | | ! is processing needed ( ) <DELETE_END> <KEEP> ) return str ; stext environment env = new stext environment ( null , false , stext environment . orient _ unknown ) ; <KEEP_END> <INSERT> if ( ! env . is processing needed ( ) ) return str ; <INSERT_END> <KEEP> return stext engine . full to lean text ( processor , env , str , null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "deprocess", "(", "string", "str", ",", "stext", "processor", "processor", ")", "{", "if", "(", "(", "str", "=", "=", "null", ")", "|", "|", "(", "str", ".", "length", "(", ")", "<", "=", "num", ")", "<KEEP_END>", "<DELETE>", "|", "|", "!", "is", "processing", "needed", "(", ")", "<DELETE_END>", "<KEEP>", ")", "return", "str", ";", "stext", "environment", "env", "=", "new", "stext", "environment", "(", "null", ",", "false", ",", "stext", "environment", ".", "orient", "_", "unknown", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "!", "env", ".", "is", "processing", "needed", "(", ")", ")", "return", "str", ";", "<INSERT_END>", "<KEEP>", "return", "stext", "engine", ".", "full", "to", "lean", "text", "(", "processor", ",", "env", ",", "str", ",", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> with no <REPLACE_NEW> without <REPLACE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "with", "no", "<REPLACE_NEW>", "without", "<REPLACE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "deprocess", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "stext", "<KEEP>", "processor", "<KEEP>", "processor", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "!", "<DELETE>", "is", "<DELETE>", "processing", "<DELETE>", "needed", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "stext", "<KEEP>", "environment", "<KEEP>", "env", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "stext", "<KEEP>", "environment", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "stext", "<KEEP>", "environment", "<KEEP>", ".", "<KEEP>", "orient", "<KEEP>", "_", "<KEEP>", "unknown", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "env", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "processing", "<INSERT>", "needed", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "str", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "stext", "<KEEP>", "engine", "<KEEP>", ".", "<KEEP>", "full", "<KEEP>", "to", "<KEEP>", "lean", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "processor", "<KEEP>", ",", "<KEEP>", "env", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_qpid-jms-4-5343", "old_comment": "a buffer holding the bytes contained in this message .", "old_comment_tokens": ["a", "buffer", "holding", "the", "bytes", "contained", "in", "this", "message", "."], "new_comment": "a byte buf holding the bytes contained in this message .", "new_comment_tokens": ["a", "byte", "buf", "holding", "the", "bytes", "contained", "in", "this", "message", "."], "old_code": "public buffer get content ( ) { return this . facade . get content ( ) ; }", "old_code_tokens": ["public", "buffer", "get", "content", "(", ")", "{", "return", "this", ".", "facade", ".", "get", "content", "(", ")", ";", "}"], "new_code": "public byte buf get content ( ) { return this . facade . get content ( ) ; }", "new_code_tokens": ["public", "byte", "buf", "get", "content", "(", ")", "{", "return", "this", ".", "facade", ".", "get", "content", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> buffer <REPLACE_NEW> byte buf <REPLACE_END> <KEEP> get content ( ) { return this . facade . get content ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "byte", "buf", "<REPLACE_END>", "<KEEP>", "get", "content", "(", ")", "{", "return", "this", ".", "facade", ".", "get", "content", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> buffer <REPLACE_NEW> byte buf <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "byte", "buf", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "buffer", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "buf", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "facade", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "egonw_pathvisio-64-4694", "old_comment": "the main window monitored by sleak . java", "old_comment_tokens": ["the", "main", "window", "monitored", "by", "sleak", ".", "java"], "new_comment": "the main window base monitored by sleak . java", "new_comment_tokens": ["the", "main", "window", "base", "monitored", "by", "sleak", ".", "java"], "old_code": "public main window get sleak window ( ) { device data data = new device data ( ) ; data . tracking = true ; display display = new display ( data ) ; sleak sleak = new sleak ( ) ; sleak . open ( ) ; shell shell = new shell ( display ) ; window = new main window ( shell ) ; return window ; }", "old_code_tokens": ["public", "main", "window", "get", "sleak", "window", "(", ")", "{", "device", "data", "data", "=", "new", "device", "data", "(", ")", ";", "data", ".", "tracking", "=", "true", ";", "display", "display", "=", "new", "display", "(", "data", ")", ";", "sleak", "sleak", "=", "new", "sleak", "(", ")", ";", "sleak", ".", "open", "(", ")", ";", "shell", "shell", "=", "new", "shell", "(", "display", ")", ";", "window", "=", "new", "main", "window", "(", "shell", ")", ";", "return", "window", ";", "}"], "new_code": "public main window base get sleak window ( ) { device data data = new device data ( ) ; data . tracking = true ; display display = new display ( data ) ; sleak sleak = new sleak ( ) ; sleak . open ( ) ; shell shell = new shell ( display ) ; window = new main window base ( shell ) ; return window ; }", "new_code_tokens": ["public", "main", "window", "base", "get", "sleak", "window", "(", ")", "{", "device", "data", "data", "=", "new", "device", "data", "(", ")", ";", "data", ".", "tracking", "=", "true", ";", "display", "display", "=", "new", "display", "(", "data", ")", ";", "sleak", "sleak", "=", "new", "sleak", "(", ")", ";", "sleak", ".", "open", "(", ")", ";", "shell", "shell", "=", "new", "shell", "(", "display", ")", ";", "window", "=", "new", "main", "window", "base", "(", "shell", ")", ";", "return", "window", ";", "}"], "span_diff_code": "<KEEP> public main window <KEEP_END> <INSERT> base <INSERT_END> <KEEP> get sleak window ( ) { device data data = new device data ( ) ; data . tracking = true ; display display = new display ( data ) ; sleak sleak = new sleak ( ) ; sleak . open ( ) ; shell shell = new shell ( display ) ; window = new main window <KEEP_END> <INSERT> base <INSERT_END> <KEEP> ( shell ) ; return window ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "main", "window", "<KEEP_END>", "<INSERT>", "base", "<INSERT_END>", "<KEEP>", "get", "sleak", "window", "(", ")", "{", "device", "data", "data", "=", "new", "device", "data", "(", ")", ";", "data", ".", "tracking", "=", "true", ";", "display", "display", "=", "new", "display", "(", "data", ")", ";", "sleak", "sleak", "=", "new", "sleak", "(", ")", ";", "sleak", ".", "open", "(", ")", ";", "shell", "shell", "=", "new", "shell", "(", "display", ")", ";", "window", "=", "new", "main", "window", "<KEEP_END>", "<INSERT>", "base", "<INSERT_END>", "<KEEP>", "(", "shell", ")", ";", "return", "window", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> window <INSERT_NEW_KEEP_BEFORE> window base <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "window", "<INSERT_NEW_KEEP_BEFORE>", "window", "base", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "main", "<KEEP>", "window", "<INSERT>", "base", "<KEEP>", "get", "<KEEP>", "sleak", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "device", "<KEEP>", "data", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "device", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "tracking", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "display", "<KEEP>", "display", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "display", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sleak", "<KEEP>", "sleak", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "sleak", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "sleak", "<KEEP>", ".", "<KEEP>", "open", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "shell", "<KEEP>", "shell", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "shell", "<KEEP>", "(", "<KEEP>", "display", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "window", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "main", "<KEEP>", "window", "<INSERT>", "base", "<KEEP>", "(", "<KEEP>", "shell", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "window", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Qihoo360_RePlugin-4-917", "old_comment": "the validated collection ( never null method for chaining )", "old_comment_tokens": ["the", "validated", "collection", "(", "never", "null", "method", "for", "chaining", ")"], "new_comment": "the validated character sequence ( never null method for chaining )", "new_comment_tokens": ["the", "validated", "character", "sequence", "(", "never", "null", "method", "for", "chaining", ")"], "old_code": "public static < t extends collection < ? > > t not empty ( final t collection ) { return not empty ( collection , default _ not _ empty _ collection _ ex _ message ) ; }", "old_code_tokens": ["public", "static", "<", "t", "extends", "collection", "<", "?", ">", ">", "t", "not", "empty", "(", "final", "t", "collection", ")", "{", "return", "not", "empty", "(", "collection", ",", "default", "_", "not", "_", "empty", "_", "collection", "_", "ex", "_", "message", ")", ";", "}"], "new_code": "public static < t extends char sequence > t not empty ( final t chars ) { return not empty ( chars , default _ not _ empty _ char _ sequence _ ex _ message ) ; }", "new_code_tokens": ["public", "static", "<", "t", "extends", "char", "sequence", ">", "t", "not", "empty", "(", "final", "t", "chars", ")", "{", "return", "not", "empty", "(", "chars", ",", "default", "_", "not", "_", "empty", "_", "char", "_", "sequence", "_", "ex", "_", "message", ")", ";", "}"], "span_diff_code": "<KEEP> public static < t extends <KEEP_END> <REPLACE_OLD> collection < ? > <REPLACE_NEW> char sequence <REPLACE_END> <KEEP> > t not empty ( final t <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> ) { return not empty ( <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> chars <REPLACE_END> <KEEP> , default _ not _ empty _ <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> char _ sequence <REPLACE_END> <KEEP> _ ex _ message ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "t", "extends", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<", "?", ">", "<REPLACE_NEW>", "char", "sequence", "<REPLACE_END>", "<KEEP>", ">", "t", "not", "empty", "(", "final", "t", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "not", "empty", "(", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<REPLACE_END>", "<KEEP>", ",", "default", "_", "not", "_", "empty", "_", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "char", "_", "sequence", "<REPLACE_END>", "<KEEP>", "_", "ex", "_", "message", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> character sequence <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "character", "sequence", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", "extends", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "char", "<REPLACE_NEW>", "sequence", "<KEEP>", ">", "<KEEP>", "t", "<KEEP>", "not", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "t", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "not", "<KEEP>", "empty", "<KEEP>", "(", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "chars", "<KEEP>", ",", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "not", "<KEEP>", "_", "<KEEP>", "empty", "<KEEP>", "_", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "char", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "sequence", "<KEEP>", "_", "<KEEP>", "ex", "<KEEP>", "_", "<KEEP>", "message", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dropwizard_dropwizard-7-755", "old_comment": "auth value factory if parameter matched type", "old_comment_tokens": ["auth", "value", "factory", "if", "parameter", "matched", "type"], "new_comment": "the factory if parameter matched type", "new_comment_tokens": ["the", "factory", "if", "parameter", "matched", "type"], "old_code": "@ override public abstract container request value factory < ? > create value factory ( parameter parameter ) { class < ? > class type = parameter . get raw type ( ) ; if ( class type = = null | | ( ! class type . equals ( clazz ) ) ) { return null ; } return new auth value factory < t > ( ) ; }", "old_code_tokens": ["@", "override", "public", "abstract", "container", "request", "value", "factory", "<", "?", ">", "create", "value", "factory", "(", "parameter", "parameter", ")", "{", "class", "<", "?", ">", "class", "type", "=", "parameter", ".", "get", "raw", "type", "(", ")", ";", "if", "(", "class", "type", "=", "=", "null", "|", "|", "(", "!", "class", "type", ".", "equals", "(", "clazz", ")", ")", ")", "{", "return", "null", ";", "}", "return", "new", "auth", "value", "factory", "<", "t", ">", "(", ")", ";", "}"], "new_code": "@ override public abstract container request value factory < ? > create value factory ( parameter parameter ) { if ( ! principal class . equals ( parameter . get raw type ( ) ) ) { return null ; } return new abstract container request value factory < principal > ( ) { public principal provide ( ) { final principal principal = get container request ( ) . get security context ( ) . get user principal ( ) ; if ( principal = = null ) { throw new illegal state exception ( str ) ; } return principal ; } } ; }", "new_code_tokens": ["@", "override", "public", "abstract", "container", "request", "value", "factory", "<", "?", ">", "create", "value", "factory", "(", "parameter", "parameter", ")", "{", "if", "(", "!", "principal", "class", ".", "equals", "(", "parameter", ".", "get", "raw", "type", "(", ")", ")", ")", "{", "return", "null", ";", "}", "return", "new", "abstract", "container", "request", "value", "factory", "<", "principal", ">", "(", ")", "{", "public", "principal", "provide", "(", ")", "{", "final", "principal", "principal", "=", "get", "container", "request", "(", ")", ".", "get", "security", "context", "(", ")", ".", "get", "user", "principal", "(", ")", ";", "if", "(", "principal", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "return", "principal", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> @ override public abstract container request value factory < ? > create value factory ( parameter parameter ) { <KEEP_END> <INSERT> if ( ! principal <INSERT_END> <KEEP> class <KEEP_END> <REPLACE_OLD> < ? > class type = <REPLACE_NEW> . equals ( <REPLACE_END> <KEEP> parameter . get raw type ( <KEEP_END> <DELETE> ) ; if ( class type = = null | | ( ! class type . equals ( clazz <DELETE_END> <KEEP> ) ) ) { return null ; } return new <KEEP_END> <REPLACE_OLD> auth <REPLACE_NEW> abstract container request <REPLACE_END> <KEEP> value factory < <KEEP_END> <REPLACE_OLD> t <REPLACE_NEW> principal <REPLACE_END> <KEEP> > ( ) <KEEP_END> <INSERT> { public principal provide ( ) { final principal principal = get container request ( ) . get security context ( ) . get user principal ( ) ; if ( principal = = null ) { throw new illegal state exception ( str ) <INSERT_END> <KEEP> ; } <KEEP_END> <INSERT> return principal ; } } ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "abstract", "container", "request", "value", "factory", "<", "?", ">", "create", "value", "factory", "(", "parameter", "parameter", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "!", "principal", "<INSERT_END>", "<KEEP>", "class", "<KEEP_END>", "<REPLACE_OLD>", "<", "?", ">", "class", "type", "=", "<REPLACE_NEW>", ".", "equals", "(", "<REPLACE_END>", "<KEEP>", "parameter", ".", "get", "raw", "type", "(", "<KEEP_END>", "<DELETE>", ")", ";", "if", "(", "class", "type", "=", "=", "null", "|", "|", "(", "!", "class", "type", ".", "equals", "(", "clazz", "<DELETE_END>", "<KEEP>", ")", ")", ")", "{", "return", "null", ";", "}", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "auth", "<REPLACE_NEW>", "abstract", "container", "request", "<REPLACE_END>", "<KEEP>", "value", "factory", "<", "<KEEP_END>", "<REPLACE_OLD>", "t", "<REPLACE_NEW>", "principal", "<REPLACE_END>", "<KEEP>", ">", "(", ")", "<KEEP_END>", "<INSERT>", "{", "public", "principal", "provide", "(", ")", "{", "final", "principal", "principal", "=", "get", "container", "request", "(", ")", ".", "get", "security", "context", "(", ")", ".", "get", "user", "principal", "(", ")", ";", "if", "(", "principal", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "return", "principal", ";", "}", "}", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> auth value <REPLACE_NEW> the <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "auth", "value", "<REPLACE_NEW>", "the", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "abstract", "<KEEP>", "container", "<KEEP>", "request", "<KEEP>", "value", "<KEEP>", "factory", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "create", "<KEEP>", "value", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "parameter", "<KEEP>", "parameter", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "principal", "<KEEP>", "class", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<KEEP>", "parameter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "raw", "<KEEP>", "type", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "class", "<DELETE>", "type", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "class", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "clazz", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "auth", "<REPLACE_NEW>", "abstract", "<REPLACE_NEW>", "container", "<REPLACE_NEW>", "request", "<KEEP>", "value", "<KEEP>", "factory", "<KEEP>", "<", "<REPLACE_OLD>", "t", "<REPLACE_NEW>", "principal", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "public", "<INSERT>", "principal", "<INSERT>", "provide", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "final", "<INSERT>", "principal", "<INSERT>", "principal", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "container", "<INSERT>", "request", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "security", "<INSERT>", "context", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "user", "<INSERT>", "principal", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "principal", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "principal", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "jmoses_android-smspopup-6-4253", "old_comment": "true if a message was removed , false otherwise .", "old_comment_tokens": ["true", "if", "a", "message", "was", "removed", ",", "false", "otherwise", "."], "new_comment": "one of status _ messages _ remaining , status _ no _ messages _ remaining or status _ removing _ message", "new_comment_tokens": ["one", "of", "status", "_", "messages", "_", "remaining", ",", "status", "_", "no", "_", "messages", "_", "remaining", "or", "status", "_", "removing", "_", "message"], "old_code": "public boolean remove active message ( ) { return remove message ( current page ) ; }", "old_code_tokens": ["public", "boolean", "remove", "active", "message", "(", ")", "{", "return", "remove", "message", "(", "current", "page", ")", ";", "}"], "new_code": "public int remove active message ( ) { return remove message ( current page ) ; }", "new_code_tokens": ["public", "int", "remove", "active", "message", "(", ")", "{", "return", "remove", "message", "(", "current", "page", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> int <REPLACE_END> <KEEP> remove active message ( ) { return remove message ( current page ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "remove", "active", "message", "(", ")", "{", "return", "remove", "message", "(", "current", "page", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true if a <REPLACE_NEW> one of status _ messages _ remaining , status _ no _ messages _ remaining or status _ removing _ <REPLACE_END> <DELETE> was removed , false otherwise . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "if", "a", "<REPLACE_NEW>", "one", "of", "status", "_", "messages", "_", "remaining", ",", "status", "_", "no", "_", "messages", "_", "remaining", "or", "status", "_", "removing", "_", "<REPLACE_END>", "<DELETE>", "was", "removed", ",", "false", "otherwise", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "int", "<KEEP>", "remove", "<KEEP>", "active", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "remove", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "page", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rzel_mini-java-0-7216", "old_comment": "an instance of immutable dfa ; null if the builder haven ' t got enough data to create a valid immutable dfa instance .", "old_comment_tokens": ["an", "instance", "of", "immutable", "dfa", ";", "null", "if", "the", "builder", "haven", "'", "t", "got", "enough", "data", "to", "create", "a", "valid", "immutable", "dfa", "instance", "."], "new_comment": "an instance of immutable dfa ; null if no valid immutable dfa can be created .", "new_comment_tokens": ["an", "instance", "of", "immutable", "dfa", ";", "null", "if", "no", "valid", "immutable", "dfa", "can", "be", "created", "."], "old_code": "public immutable dfa build dfa ( ) { immutable dfa instance = null ; if ( initial state ! = null ) { instance = new immutable dfa ( ) ; instance . transitions = new hash map < state , map < object , state > > ( transitions ) ; instance . initial state = initial state ; } return instance ; }", "old_code_tokens": ["public", "immutable", "dfa", "build", "dfa", "(", ")", "{", "immutable", "dfa", "instance", "=", "null", ";", "if", "(", "initial", "state", "!", "=", "null", ")", "{", "instance", "=", "new", "immutable", "dfa", "(", ")", ";", "instance", ".", "transitions", "=", "new", "hash", "map", "<", "state", ",", "map", "<", "object", ",", "state", ">", ">", "(", "transitions", ")", ";", "instance", ".", "initial", "state", "=", "initial", "state", ";", "}", "return", "instance", ";", "}"], "new_code": "public immutable dfa build dfa ( ) { if ( _ cached instance = = null ) { if ( initial state ! = null ) { _ cached instance = new immutable dfa ( ) ; _ cached instance . transitions = new hash map < state , map < object , state > > ( transitions ) ; _ cached instance . initial state = initial state ; } } return _ cached instance ; }", "new_code_tokens": ["public", "immutable", "dfa", "build", "dfa", "(", ")", "{", "if", "(", "_", "cached", "instance", "=", "=", "null", ")", "{", "if", "(", "initial", "state", "!", "=", "null", ")", "{", "_", "cached", "instance", "=", "new", "immutable", "dfa", "(", ")", ";", "_", "cached", "instance", ".", "transitions", "=", "new", "hash", "map", "<", "state", ",", "map", "<", "object", ",", "state", ">", ">", "(", "transitions", ")", ";", "_", "cached", "instance", ".", "initial", "state", "=", "initial", "state", ";", "}", "}", "return", "_", "cached", "instance", ";", "}"], "span_diff_code": "<KEEP> public immutable dfa build dfa ( ) { <KEEP_END> <REPLACE_OLD> immutable dfa <REPLACE_NEW> if ( _ cached <REPLACE_END> <KEEP> instance = <KEEP_END> <INSERT> = <INSERT_END> <KEEP> null <KEEP_END> <REPLACE_OLD> ; <REPLACE_NEW> ) { <REPLACE_END> <KEEP> if ( initial state ! = null ) { <KEEP_END> <INSERT> _ cached <INSERT_END> <KEEP> instance = new immutable dfa ( ) ; <KEEP_END> <INSERT> _ cached <INSERT_END> <KEEP> instance . transitions = new hash map < state , map < object , state > > ( transitions ) ; <KEEP_END> <INSERT> _ cached <INSERT_END> <KEEP> instance . initial state = initial state ; } <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return <KEEP_END> <INSERT> _ cached <INSERT_END> <KEEP> instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "immutable", "dfa", "build", "dfa", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "immutable", "dfa", "<REPLACE_NEW>", "if", "(", "_", "cached", "<REPLACE_END>", "<KEEP>", "instance", "=", "<KEEP_END>", "<INSERT>", "=", "<INSERT_END>", "<KEEP>", "null", "<KEEP_END>", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "{", "<REPLACE_END>", "<KEEP>", "if", "(", "initial", "state", "!", "=", "null", ")", "{", "<KEEP_END>", "<INSERT>", "_", "cached", "<INSERT_END>", "<KEEP>", "instance", "=", "new", "immutable", "dfa", "(", ")", ";", "<KEEP_END>", "<INSERT>", "_", "cached", "<INSERT_END>", "<KEEP>", "instance", ".", "transitions", "=", "new", "hash", "map", "<", "state", ",", "map", "<", "object", ",", "state", ">", ">", "(", "transitions", ")", ";", "<KEEP_END>", "<INSERT>", "_", "cached", "<INSERT_END>", "<KEEP>", "instance", ".", "initial", "state", "=", "initial", "state", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<INSERT>", "_", "cached", "<INSERT_END>", "<KEEP>", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the builder haven ' t got enough data to create a <REPLACE_NEW> no <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> dfa instance <REPLACE_NEW_KEEP_BEFORE> dfa can be created <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "builder", "haven", "'", "t", "got", "enough", "data", "to", "create", "a", "<REPLACE_NEW>", "no", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "dfa", "instance", "<REPLACE_NEW_KEEP_BEFORE>", "dfa", "can", "be", "created", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "immutable", "<KEEP>", "dfa", "<KEEP>", "build", "<KEEP>", "dfa", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "immutable", "<REPLACE_OLD>", "dfa", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "cached", "<KEEP>", "instance", "<KEEP>", "=", "<INSERT>", "=", "<KEEP>", "null", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "initial", "<KEEP>", "state", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "_", "<INSERT>", "cached", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "immutable", "<KEEP>", "dfa", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "_", "<INSERT>", "cached", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "transitions", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "state", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "state", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "transitions", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "_", "<INSERT>", "cached", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "initial", "<KEEP>", "state", "<KEEP>", "=", "<KEEP>", "initial", "<KEEP>", "state", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<KEEP>", "return", "<INSERT>", "_", "<INSERT>", "cached", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "CameraKit_blurkit-android-0-3201", "old_comment": "point f determining position of the passed in view inside all of its view parents .", "old_comment_tokens": ["point", "f", "determining", "position", "of", "the", "passed", "in", "view", "inside", "all", "of", "its", "view", "parents", "."], "new_comment": "point determining position of the passed in view inside all of its view parents .", "new_comment_tokens": ["point", "determining", "position", "of", "the", "passed", "in", "view", "inside", "all", "of", "its", "view", "parents", "."], "old_code": "protected point f get position in screen ( view view ) { if ( get parent ( ) = = null ) { return new point f ( ) ; } view group parent ; try { parent = ( view group ) view . get parent ( ) ; } catch ( exception e ) { return new point f ( ) ; } if ( parent = = null ) { return new point f ( ) ; } point f point = get position in screen ( parent ) ; point . offset ( view . get x ( ) , view . get y ( ) ) ; return point ; }", "old_code_tokens": ["protected", "point", "f", "get", "position", "in", "screen", "(", "view", "view", ")", "{", "if", "(", "get", "parent", "(", ")", "=", "=", "null", ")", "{", "return", "new", "point", "f", "(", ")", ";", "}", "view", "group", "parent", ";", "try", "{", "parent", "=", "(", "view", "group", ")", "view", ".", "get", "parent", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "new", "point", "f", "(", ")", ";", "}", "if", "(", "parent", "=", "=", "null", ")", "{", "return", "new", "point", "f", "(", ")", ";", "}", "point", "f", "point", "=", "get", "position", "in", "screen", "(", "parent", ")", ";", "point", ".", "offset", "(", "view", ".", "get", "x", "(", ")", ",", "view", ".", "get", "y", "(", ")", ")", ";", "return", "point", ";", "}"], "new_code": "protected point get position in screen ( view view ) { if ( get parent ( ) = = null ) { return new point ( ) ; } view group parent ; try { parent = ( view group ) view . get parent ( ) ; } catch ( exception e ) { return new point ( ) ; } if ( parent = = null ) { return new point ( ) ; } point point = get position in screen ( parent ) ; point . offset ( ( int ) view . get x ( ) , ( int ) view . get y ( ) ) ; return point ; }", "new_code_tokens": ["protected", "point", "get", "position", "in", "screen", "(", "view", "view", ")", "{", "if", "(", "get", "parent", "(", ")", "=", "=", "null", ")", "{", "return", "new", "point", "(", ")", ";", "}", "view", "group", "parent", ";", "try", "{", "parent", "=", "(", "view", "group", ")", "view", ".", "get", "parent", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "new", "point", "(", ")", ";", "}", "if", "(", "parent", "=", "=", "null", ")", "{", "return", "new", "point", "(", ")", ";", "}", "point", "point", "=", "get", "position", "in", "screen", "(", "parent", ")", ";", "point", ".", "offset", "(", "(", "int", ")", "view", ".", "get", "x", "(", ")", ",", "(", "int", ")", "view", ".", "get", "y", "(", ")", ")", ";", "return", "point", ";", "}"], "span_diff_code": "<KEEP> protected point <KEEP_END> <DELETE> f <DELETE_END> <KEEP> get position in screen ( view view ) { if ( get parent ( ) = = null ) { return new point <KEEP_END> <DELETE> f <DELETE_END> <KEEP> ( ) ; } view group parent ; try { parent = ( view group ) view . get parent ( ) ; } catch ( exception e ) { return new point <KEEP_END> <DELETE> f <DELETE_END> <KEEP> ( ) ; } if ( parent = = null ) { return new point <KEEP_END> <DELETE> f <DELETE_END> <KEEP> ( ) ; } point <KEEP_END> <DELETE> f <DELETE_END> <KEEP> point = get position in screen ( parent ) ; point . offset ( <KEEP_END> <INSERT> ( int ) <INSERT_END> <KEEP> view . get x ( ) , <KEEP_END> <INSERT> ( int ) <INSERT_END> <KEEP> view . get y ( ) ) ; return point ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "point", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "get", "position", "in", "screen", "(", "view", "view", ")", "{", "if", "(", "get", "parent", "(", ")", "=", "=", "null", ")", "{", "return", "new", "point", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "(", ")", ";", "}", "view", "group", "parent", ";", "try", "{", "parent", "=", "(", "view", "group", ")", "view", ".", "get", "parent", "(", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "return", "new", "point", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "(", ")", ";", "}", "if", "(", "parent", "=", "=", "null", ")", "{", "return", "new", "point", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "(", ")", ";", "}", "point", "<KEEP_END>", "<DELETE>", "f", "<DELETE_END>", "<KEEP>", "point", "=", "get", "position", "in", "screen", "(", "parent", ")", ";", "point", ".", "offset", "(", "<KEEP_END>", "<INSERT>", "(", "int", ")", "<INSERT_END>", "<KEEP>", "view", ".", "get", "x", "(", ")", ",", "<KEEP_END>", "<INSERT>", "(", "int", ")", "<INSERT_END>", "<KEEP>", "view", ".", "get", "y", "(", ")", ")", ";", "return", "point", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> f <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "f", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "point", "<DELETE>", "f", "<KEEP>", "get", "<KEEP>", "position", "<KEEP>", "in", "<KEEP>", "screen", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "point", "<DELETE>", "f", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "view", "<KEEP>", "group", "<KEEP>", "parent", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", "group", "<KEEP>", ")", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "point", "<DELETE>", "f", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "point", "<DELETE>", "f", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "point", "<DELETE>", "f", "<KEEP>", "point", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "position", "<KEEP>", "in", "<KEEP>", "screen", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", ".", "<KEEP>", "offset", "<KEEP>", "(", "<INSERT>", "(", "<INSERT>", "int", "<INSERT>", ")", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "x", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<INSERT>", "(", "<INSERT>", "int", "<INSERT>", ")", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "y", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "point", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_parameterized-trigger-plugin-1-7451", "old_comment": "a list containing sets with projects", "old_comment_tokens": ["a", "list", "containing", "sets", "with", "projects"], "new_comment": "a data object containing sets with projects", "new_comment_tokens": ["a", "data", "object", "containing", "sets", "with", "projects"], "old_code": "public list < set < ? > > get project info ( abstract project context ) { comparator custom comparator = new comparator < abstract project > ( ) { public int compare ( abstract project abstract project1 , abstract project abstract project2 ) { return abstract project1 . get full name ( ) . compare to ( abstract project2 . get full name ( ) ) ; } } ; set < abstract project > dynamic project = new tree set < abstract project > ( custom comparator ) ; set < abstract project > static project = new tree set < abstract project > ( custom comparator ) ; set < abstract project > triggered project = new tree set < abstract project > ( custom comparator ) ; set < string > unresolved project = new tree set < string > ( ) ; iterate builds ( context , projects , dynamic project , static project , triggered project , unresolved project ) ; triggered project . remove all ( dynamic project ) ; triggered project . remove all ( static project ) ; return arrays . as list ( static project , dynamic project , triggered project , unresolved project ) ; }", "old_code_tokens": ["public", "list", "<", "set", "<", "?", ">", ">", "get", "project", "info", "(", "abstract", "project", "context", ")", "{", "comparator", "custom", "comparator", "=", "new", "comparator", "<", "abstract", "project", ">", "(", ")", "{", "public", "int", "compare", "(", "abstract", "project", "abstract", "project1", ",", "abstract", "project", "abstract", "project2", ")", "{", "return", "abstract", "project1", ".", "get", "full", "name", "(", ")", ".", "compare", "to", "(", "abstract", "project2", ".", "get", "full", "name", "(", ")", ")", ";", "}", "}", ";", "set", "<", "abstract", "project", ">", "dynamic", "project", "=", "new", "tree", "set", "<", "abstract", "project", ">", "(", "custom", "comparator", ")", ";", "set", "<", "abstract", "project", ">", "static", "project", "=", "new", "tree", "set", "<", "abstract", "project", ">", "(", "custom", "comparator", ")", ";", "set", "<", "abstract", "project", ">", "triggered", "project", "=", "new", "tree", "set", "<", "abstract", "project", ">", "(", "custom", "comparator", ")", ";", "set", "<", "string", ">", "unresolved", "project", "=", "new", "tree", "set", "<", "string", ">", "(", ")", ";", "iterate", "builds", "(", "context", ",", "projects", ",", "dynamic", "project", ",", "static", "project", ",", "triggered", "project", ",", "unresolved", "project", ")", ";", "triggered", "project", ".", "remove", "all", "(", "dynamic", "project", ")", ";", "triggered", "project", ".", "remove", "all", "(", "static", "project", ")", ";", "return", "arrays", ".", "as", "list", "(", "static", "project", ",", "dynamic", "project", ",", "triggered", "project", ",", "unresolved", "project", ")", ";", "}"], "new_code": "public sub project data get project info ( abstract project context ) { sub project data sub project data = new sub project data ( ) ; iterate builds ( context , projects , sub project data ) ; sub project data . get triggered ( ) . remove all ( sub project data . get dynamic ( ) ) ; sub project data . get triggered ( ) . remove all ( sub project data . get fixed ( ) ) ; return sub project data ; }", "new_code_tokens": ["public", "sub", "project", "data", "get", "project", "info", "(", "abstract", "project", "context", ")", "{", "sub", "project", "data", "sub", "project", "data", "=", "new", "sub", "project", "data", "(", ")", ";", "iterate", "builds", "(", "context", ",", "projects", ",", "sub", "project", "data", ")", ";", "sub", "project", "data", ".", "get", "triggered", "(", ")", ".", "remove", "all", "(", "sub", "project", "data", ".", "get", "dynamic", "(", ")", ")", ";", "sub", "project", "data", ".", "get", "triggered", "(", ")", ".", "remove", "all", "(", "sub", "project", "data", ".", "get", "fixed", "(", ")", ")", ";", "return", "sub", "project", "data", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> list < set < ? > > <REPLACE_NEW> sub project data <REPLACE_END> <KEEP> get project info ( abstract project context ) { <KEEP_END> <REPLACE_OLD> comparator custom comparator <REPLACE_NEW> sub project data sub project data <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> comparator < abstract <REPLACE_NEW> sub <REPLACE_END> <KEEP> project <KEEP_END> <REPLACE_OLD> > ( ) { public int compare ( abstract project abstract project1 , abstract project abstract project2 ) { return abstract project1 . get full name ( ) . compare to ( abstract project2 . get full name ( ) ) ; } } ; set < abstract project > dynamic project = new tree set < abstract project > ( custom comparator ) ; set < abstract project > static project = new tree set < abstract project > ( custom comparator ) ; set < abstract project > triggered project = new tree set < abstract project > ( custom comparator ) ; set < string > unresolved project = new tree set < string > <REPLACE_NEW> data <REPLACE_END> <KEEP> ( ) ; iterate builds ( context , projects , <KEEP_END> <REPLACE_OLD> dynamic <REPLACE_NEW> sub <REPLACE_END> <KEEP> project <KEEP_END> <REPLACE_OLD> , static project , triggered project , unresolved project <REPLACE_NEW> data <REPLACE_END> <KEEP> ) ; <KEEP_END> <INSERT> sub project data . get <INSERT_END> <KEEP> triggered <KEEP_END> <REPLACE_OLD> project <REPLACE_NEW> ( ) <REPLACE_END> <KEEP> . remove all ( <KEEP_END> <INSERT> sub project data . get <INSERT_END> <KEEP> dynamic <KEEP_END> <REPLACE_OLD> project <REPLACE_NEW> ( ) <REPLACE_END> <KEEP> ) ; <KEEP_END> <INSERT> sub project data . get <INSERT_END> <KEEP> triggered <KEEP_END> <REPLACE_OLD> project <REPLACE_NEW> ( ) <REPLACE_END> <KEEP> . remove all ( <KEEP_END> <REPLACE_OLD> static <REPLACE_NEW> sub <REPLACE_END> <KEEP> project <KEEP_END> <INSERT> data . get fixed ( ) <INSERT_END> <KEEP> ) ; return <KEEP_END> <REPLACE_OLD> arrays . as list ( static <REPLACE_NEW> sub <REPLACE_END> <KEEP> project <KEEP_END> <REPLACE_OLD> , dynamic project , triggered project , unresolved project ) <REPLACE_NEW> data <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "set", "<", "?", ">", ">", "<REPLACE_NEW>", "sub", "project", "data", "<REPLACE_END>", "<KEEP>", "get", "project", "info", "(", "abstract", "project", "context", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "comparator", "custom", "comparator", "<REPLACE_NEW>", "sub", "project", "data", "sub", "project", "data", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "comparator", "<", "abstract", "<REPLACE_NEW>", "sub", "<REPLACE_END>", "<KEEP>", "project", "<KEEP_END>", "<REPLACE_OLD>", ">", "(", ")", "{", "public", "int", "compare", "(", "abstract", "project", "abstract", "project1", ",", "abstract", "project", "abstract", "project2", ")", "{", "return", "abstract", "project1", ".", "get", "full", "name", "(", ")", ".", "compare", "to", "(", "abstract", "project2", ".", "get", "full", "name", "(", ")", ")", ";", "}", "}", ";", "set", "<", "abstract", "project", ">", "dynamic", "project", "=", "new", "tree", "set", "<", "abstract", "project", ">", "(", "custom", "comparator", ")", ";", "set", "<", "abstract", "project", ">", "static", "project", "=", "new", "tree", "set", "<", "abstract", "project", ">", "(", "custom", "comparator", ")", ";", "set", "<", "abstract", "project", ">", "triggered", "project", "=", "new", "tree", "set", "<", "abstract", "project", ">", "(", "custom", "comparator", ")", ";", "set", "<", "string", ">", "unresolved", "project", "=", "new", "tree", "set", "<", "string", ">", "<REPLACE_NEW>", "data", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "iterate", "builds", "(", "context", ",", "projects", ",", "<KEEP_END>", "<REPLACE_OLD>", "dynamic", "<REPLACE_NEW>", "sub", "<REPLACE_END>", "<KEEP>", "project", "<KEEP_END>", "<REPLACE_OLD>", ",", "static", "project", ",", "triggered", "project", ",", "unresolved", "project", "<REPLACE_NEW>", "data", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "sub", "project", "data", ".", "get", "<INSERT_END>", "<KEEP>", "triggered", "<KEEP_END>", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "(", ")", "<REPLACE_END>", "<KEEP>", ".", "remove", "all", "(", "<KEEP_END>", "<INSERT>", "sub", "project", "data", ".", "get", "<INSERT_END>", "<KEEP>", "dynamic", "<KEEP_END>", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "sub", "project", "data", ".", "get", "<INSERT_END>", "<KEEP>", "triggered", "<KEEP_END>", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "(", ")", "<REPLACE_END>", "<KEEP>", ".", "remove", "all", "(", "<KEEP_END>", "<REPLACE_OLD>", "static", "<REPLACE_NEW>", "sub", "<REPLACE_END>", "<KEEP>", "project", "<KEEP_END>", "<INSERT>", "data", ".", "get", "fixed", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "arrays", ".", "as", "list", "(", "static", "<REPLACE_NEW>", "sub", "<REPLACE_END>", "<KEEP>", "project", "<KEEP_END>", "<REPLACE_OLD>", ",", "dynamic", "project", ",", "triggered", "project", ",", "unresolved", "project", ")", "<REPLACE_NEW>", "data", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> data object <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "data", "object", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "sub", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "data", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "abstract", "<KEEP>", "project", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "comparator", "<REPLACE_OLD>", "custom", "<REPLACE_OLD>", "comparator", "<REPLACE_NEW>", "sub", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "sub", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "data", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "comparator", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_NEW>", "sub", "<KEEP>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "compare", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project1", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project2", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project1", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "full", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "compare", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project2", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "full", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "dynamic", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "custom", "<REPLACE_OLD>", "comparator", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "static", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "custom", "<REPLACE_OLD>", "comparator", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "triggered", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "abstract", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "custom", "<REPLACE_OLD>", "comparator", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "unresolved", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterate", "<KEEP>", "builds", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "projects", "<KEEP>", ",", "<REPLACE_OLD>", "dynamic", "<REPLACE_NEW>", "sub", "<KEEP>", "project", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "static", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "triggered", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "unresolved", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "data", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "sub", "<INSERT>", "project", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "triggered", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "all", "<KEEP>", "(", "<INSERT>", "sub", "<INSERT>", "project", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "dynamic", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "sub", "<INSERT>", "project", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "triggered", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "all", "<KEEP>", "(", "<REPLACE_OLD>", "static", "<REPLACE_NEW>", "sub", "<KEEP>", "project", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "fixed", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "arrays", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "static", "<REPLACE_NEW>", "sub", "<KEEP>", "project", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "dynamic", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "triggered", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "unresolved", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "data", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dougm_hudson-plugins-163-6133", "old_comment": "list containing projects .", "old_comment_tokens": ["list", "containing", "projects", "."], "new_comment": "list projects that will be displayed", "new_comment_tokens": ["list", "projects", "that", "will", "be", "displayed"], "old_code": "private list < project > get projects ( ) { list < project > result = new array list < project > ( ) ; list < project > projects = hudson . get instance ( ) . get projects ( ) ; for ( project project : projects ) { publisher publisher = project . get publisher ( monitor publisher . descriptor ) ; if ( publisher ! = null ) { result . add ( project ) ; } } return result ; }", "old_code_tokens": ["private", "list", "<", "project", ">", "get", "projects", "(", ")", "{", "list", "<", "project", ">", "result", "=", "new", "array", "list", "<", "project", ">", "(", ")", ";", "list", "<", "project", ">", "projects", "=", "hudson", ".", "get", "instance", "(", ")", ".", "get", "projects", "(", ")", ";", "for", "(", "project", "project", ":", "projects", ")", "{", "publisher", "publisher", "=", "project", ".", "get", "publisher", "(", "monitor", "publisher", ".", "descriptor", ")", ";", "if", "(", "publisher", "!", "=", "null", ")", "{", "result", ".", "add", "(", "project", ")", ";", "}", "}", "return", "result", ";", "}"], "new_code": "private list < abstract project > get projects ( ) { list < abstract project > result = new array list < abstract project > ( ) ; list < top level item > top level items = hudson . get instance ( ) . get items ( ) ; for ( top level item top level item : top level items ) { if ( top level item instanceof abstract project ) { abstract project abstract project = ( abstract project ) top level item ; if ( abstract project . get publishers list ( ) . get ( monitor publisher . descriptor ) ! = null ) { result . add ( abstract project ) ; } } } return result ; }", "new_code_tokens": ["private", "list", "<", "abstract", "project", ">", "get", "projects", "(", ")", "{", "list", "<", "abstract", "project", ">", "result", "=", "new", "array", "list", "<", "abstract", "project", ">", "(", ")", ";", "list", "<", "top", "level", "item", ">", "top", "level", "items", "=", "hudson", ".", "get", "instance", "(", ")", ".", "get", "items", "(", ")", ";", "for", "(", "top", "level", "item", "top", "level", "item", ":", "top", "level", "items", ")", "{", "if", "(", "top", "level", "item", "instanceof", "abstract", "project", ")", "{", "abstract", "project", "abstract", "project", "=", "(", "abstract", "project", ")", "top", "level", "item", ";", "if", "(", "abstract", "project", ".", "get", "publishers", "list", "(", ")", ".", "get", "(", "monitor", "publisher", ".", "descriptor", ")", "!", "=", "null", ")", "{", "result", ".", "add", "(", "abstract", "project", ")", ";", "}", "}", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> private list < <KEEP_END> <INSERT> abstract <INSERT_END> <KEEP> project > get projects ( ) { list < <KEEP_END> <INSERT> abstract <INSERT_END> <KEEP> project > result = new array list < <KEEP_END> <INSERT> abstract <INSERT_END> <KEEP> project > ( ) ; list < <KEEP_END> <REPLACE_OLD> project <REPLACE_NEW> top level item <REPLACE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> projects <REPLACE_NEW> top level items <REPLACE_END> <KEEP> = hudson . get instance ( ) . get <KEEP_END> <REPLACE_OLD> projects <REPLACE_NEW> items <REPLACE_END> <KEEP> ( ) ; for ( <KEEP_END> <REPLACE_OLD> project project <REPLACE_NEW> top level item top level item <REPLACE_END> <KEEP> : <KEEP_END> <REPLACE_OLD> projects <REPLACE_NEW> top level items <REPLACE_END> <KEEP> ) { <KEEP_END> <REPLACE_OLD> publisher publisher <REPLACE_NEW> if ( top level item instanceof abstract project ) { abstract project abstract project <REPLACE_END> <KEEP> = <KEEP_END> <INSERT> ( abstract project ) top level item ; if ( abstract <INSERT_END> <KEEP> project . get <KEEP_END> <REPLACE_OLD> publisher <REPLACE_NEW> publishers list ( ) . get <REPLACE_END> <KEEP> ( monitor publisher . descriptor ) <KEEP_END> <DELETE> ; if ( publisher <DELETE_END> <KEEP> ! = null ) { result . add ( <KEEP_END> <INSERT> abstract <INSERT_END> <KEEP> project ) ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> } } return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "list", "<", "<KEEP_END>", "<INSERT>", "abstract", "<INSERT_END>", "<KEEP>", "project", ">", "get", "projects", "(", ")", "{", "list", "<", "<KEEP_END>", "<INSERT>", "abstract", "<INSERT_END>", "<KEEP>", "project", ">", "result", "=", "new", "array", "list", "<", "<KEEP_END>", "<INSERT>", "abstract", "<INSERT_END>", "<KEEP>", "project", ">", "(", ")", ";", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "top", "level", "item", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "top", "level", "items", "<REPLACE_END>", "<KEEP>", "=", "hudson", ".", "get", "instance", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "items", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "project", "project", "<REPLACE_NEW>", "top", "level", "item", "top", "level", "item", "<REPLACE_END>", "<KEEP>", ":", "<KEEP_END>", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "top", "level", "items", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "publisher", "publisher", "<REPLACE_NEW>", "if", "(", "top", "level", "item", "instanceof", "abstract", "project", ")", "{", "abstract", "project", "abstract", "project", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "(", "abstract", "project", ")", "top", "level", "item", ";", "if", "(", "abstract", "<INSERT_END>", "<KEEP>", "project", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "publisher", "<REPLACE_NEW>", "publishers", "list", "(", ")", ".", "get", "<REPLACE_END>", "<KEEP>", "(", "monitor", "publisher", ".", "descriptor", ")", "<KEEP_END>", "<DELETE>", ";", "if", "(", "publisher", "<DELETE_END>", "<KEEP>", "!", "=", "null", ")", "{", "result", ".", "add", "(", "<KEEP_END>", "<INSERT>", "abstract", "<INSERT_END>", "<KEEP>", "project", ")", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "}", "}", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> containing <DELETE_END> <REPLACE_OLD> . <REPLACE_NEW> that will be displayed <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "containing", "<DELETE_END>", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "that", "will", "be", "displayed", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "list", "<KEEP>", "<", "<INSERT>", "abstract", "<KEEP>", "project", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "projects", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<INSERT>", "abstract", "<KEEP>", "project", "<KEEP>", ">", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<INSERT>", "abstract", "<KEEP>", "project", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", "item", "<KEEP>", ">", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", "items", "<KEEP>", "=", "<KEEP>", "hudson", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "items", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", "item", "<KEEP>", ":", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", "items", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "publisher", "<REPLACE_OLD>", "publisher", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "top", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "instanceof", "<REPLACE_NEW>", "abstract", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "abstract", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "abstract", "<REPLACE_NEW>", "project", "<KEEP>", "=", "<INSERT>", "(", "<INSERT>", "abstract", "<INSERT>", "project", "<INSERT>", ")", "<INSERT>", "top", "<INSERT>", "level", "<INSERT>", "item", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "abstract", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "publisher", "<REPLACE_NEW>", "publishers", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "(", "<KEEP>", "monitor", "<KEEP>", "publisher", "<KEEP>", ".", "<KEEP>", "descriptor", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "publisher", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<INSERT>", "abstract", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "android_platform_packages_providers_contactsprovider-70-4008", "old_comment": "the row id of the newly created row", "old_comment_tokens": ["the", "row", "id", "of", "the", "newly", "created", "row"], "new_comment": "the id of the newly - created row .", "new_comment_tokens": ["the", "id", "of", "the", "newly", "-", "created", "row", "."], "old_code": "private long insert data ( content values values , boolean caller is sync adapter ) { long id = num ; m values . clear ( ) ; m values . put all ( values ) ; long raw contact id = m values . get as long ( data . raw _ contact _ id ) ; if ( raw contact id = = null ) { throw new illegal argument exception ( data . raw _ contact _ id + str ) ; } final string package name = m values . get as string ( data . res _ package ) ; if ( package name ! = null ) { m values . put ( data columns . package _ id , m db helper . get ( ) . get package id ( package name ) ) ; } m values . remove ( data . res _ package ) ; final string mime type = m values . get as string ( data . mimetype ) ; if ( text utils . is empty ( mime type ) ) { throw new illegal argument exception ( data . mimetype + str ) ; } m values . put ( data columns . mimetype _ id , m db helper . get ( ) . get mime type id ( mime type ) ) ; m values . remove ( data . mimetype ) ; data row handler row handler = get data row handler ( mime type ) ; final sqlite database db = m db helper . get ( ) . get writable database ( ) ; id = row handler . insert ( db , m transaction context . get ( ) , raw contact id , m values ) ; m transaction context . get ( ) . mark raw contact dirty and changed ( raw contact id , caller is sync adapter ) ; m transaction context . get ( ) . raw contact updated ( raw contact id ) ; return id ; }", "old_code_tokens": ["private", "long", "insert", "data", "(", "content", "values", "values", ",", "boolean", "caller", "is", "sync", "adapter", ")", "{", "long", "id", "=", "num", ";", "m", "values", ".", "clear", "(", ")", ";", "m", "values", ".", "put", "all", "(", "values", ")", ";", "long", "raw", "contact", "id", "=", "m", "values", ".", "get", "as", "long", "(", "data", ".", "raw", "_", "contact", "_", "id", ")", ";", "if", "(", "raw", "contact", "id", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "data", ".", "raw", "_", "contact", "_", "id", "+", "str", ")", ";", "}", "final", "string", "package", "name", "=", "m", "values", ".", "get", "as", "string", "(", "data", ".", "res", "_", "package", ")", ";", "if", "(", "package", "name", "!", "=", "null", ")", "{", "m", "values", ".", "put", "(", "data", "columns", ".", "package", "_", "id", ",", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "package", "id", "(", "package", "name", ")", ")", ";", "}", "m", "values", ".", "remove", "(", "data", ".", "res", "_", "package", ")", ";", "final", "string", "mime", "type", "=", "m", "values", ".", "get", "as", "string", "(", "data", ".", "mimetype", ")", ";", "if", "(", "text", "utils", ".", "is", "empty", "(", "mime", "type", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "data", ".", "mimetype", "+", "str", ")", ";", "}", "m", "values", ".", "put", "(", "data", "columns", ".", "mimetype", "_", "id", ",", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "mime", "type", "id", "(", "mime", "type", ")", ")", ";", "m", "values", ".", "remove", "(", "data", ".", "mimetype", ")", ";", "data", "row", "handler", "row", "handler", "=", "get", "data", "row", "handler", "(", "mime", "type", ")", ";", "final", "sqlite", "database", "db", "=", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "writable", "database", "(", ")", ";", "id", "=", "row", "handler", ".", "insert", "(", "db", ",", "m", "transaction", "context", ".", "get", "(", ")", ",", "raw", "contact", "id", ",", "m", "values", ")", ";", "m", "transaction", "context", ".", "get", "(", ")", ".", "mark", "raw", "contact", "dirty", "and", "changed", "(", "raw", "contact", "id", ",", "caller", "is", "sync", "adapter", ")", ";", "m", "transaction", "context", ".", "get", "(", ")", ".", "raw", "contact", "updated", "(", "raw", "contact", "id", ")", ";", "return", "id", ";", "}"], "new_code": "private long insert data ( content values input values , boolean caller is sync adapter ) { final long raw contact id = input values . get as long ( data . raw _ contact _ id ) ; if ( raw contact id = = null ) { throw new illegal argument exception ( data . raw _ contact _ id + str ) ; } final string mime type = input values . get as string ( data . mimetype ) ; if ( text utils . is empty ( mime type ) ) { throw new illegal argument exception ( data . mimetype + str ) ; } final content values values = new content values ( input values ) ; replace package name by package id ( values ) ; values . put ( data columns . mimetype _ id , m db helper . get ( ) . get mime type id ( mime type ) ) ; values . remove ( data . mimetype ) ; final sqlite database db = m db helper . get ( ) . get writable database ( ) ; final transaction context context = m transaction context . get ( ) ; final long data id = get data row handler ( mime type ) . insert ( db , context , raw contact id , values ) ; context . mark raw contact dirty and changed ( raw contact id , caller is sync adapter ) ; context . raw contact updated ( raw contact id ) ; return data id ; }", "new_code_tokens": ["private", "long", "insert", "data", "(", "content", "values", "input", "values", ",", "boolean", "caller", "is", "sync", "adapter", ")", "{", "final", "long", "raw", "contact", "id", "=", "input", "values", ".", "get", "as", "long", "(", "data", ".", "raw", "_", "contact", "_", "id", ")", ";", "if", "(", "raw", "contact", "id", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "data", ".", "raw", "_", "contact", "_", "id", "+", "str", ")", ";", "}", "final", "string", "mime", "type", "=", "input", "values", ".", "get", "as", "string", "(", "data", ".", "mimetype", ")", ";", "if", "(", "text", "utils", ".", "is", "empty", "(", "mime", "type", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "data", ".", "mimetype", "+", "str", ")", ";", "}", "final", "content", "values", "values", "=", "new", "content", "values", "(", "input", "values", ")", ";", "replace", "package", "name", "by", "package", "id", "(", "values", ")", ";", "values", ".", "put", "(", "data", "columns", ".", "mimetype", "_", "id", ",", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "mime", "type", "id", "(", "mime", "type", ")", ")", ";", "values", ".", "remove", "(", "data", ".", "mimetype", ")", ";", "final", "sqlite", "database", "db", "=", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "writable", "database", "(", ")", ";", "final", "transaction", "context", "context", "=", "m", "transaction", "context", ".", "get", "(", ")", ";", "final", "long", "data", "id", "=", "get", "data", "row", "handler", "(", "mime", "type", ")", ".", "insert", "(", "db", ",", "context", ",", "raw", "contact", "id", ",", "values", ")", ";", "context", ".", "mark", "raw", "contact", "dirty", "and", "changed", "(", "raw", "contact", "id", ",", "caller", "is", "sync", "adapter", ")", ";", "context", ".", "raw", "contact", "updated", "(", "raw", "contact", "id", ")", ";", "return", "data", "id", ";", "}"], "span_diff_code": "<KEEP> private long insert data ( content values <KEEP_END> <INSERT> input <INSERT_END> <KEEP> values , boolean caller is sync adapter ) { <KEEP_END> <REPLACE_OLD> long id = num ; m values . clear ( ) ; m values . put all ( values ) ; long raw contact id = m <REPLACE_NEW> final long raw contact id = input <REPLACE_END> <KEEP> values . get as long ( data . raw _ contact _ id ) ; if ( raw contact id = = null ) { throw new illegal argument exception ( data . raw _ contact _ id + str ) ; } final string <KEEP_END> <REPLACE_OLD> package name = m values . get as string ( data . res _ package ) ; if ( package name ! = null ) { m values . put ( data columns . package _ id , m db helper . get ( ) . get package id ( package name ) ) ; } m values . remove ( data . res _ package ) ; final string mime type = m <REPLACE_NEW> mime type = input <REPLACE_END> <KEEP> values . get as string ( data . mimetype ) ; if ( text utils . is empty ( mime type ) ) { throw new illegal argument exception ( data . mimetype + str ) ; } <KEEP_END> <INSERT> final content values values = new content values ( input values ) ; replace package name by package id ( values ) ; values . put ( data columns . mimetype _ id , <INSERT_END> <KEEP> m <KEEP_END> <REPLACE_OLD> values . put ( data columns . mimetype _ id , <REPLACE_NEW> db helper . get ( ) . get mime type id ( mime type ) ) ; values . remove ( data . mimetype ) ; final sqlite database db = <REPLACE_END> <KEEP> m db helper . get ( ) . get <KEEP_END> <REPLACE_OLD> mime type id ( mime type ) ) ; <REPLACE_NEW> writable database ( ) ; final transaction context context = <REPLACE_END> <KEEP> m <KEEP_END> <REPLACE_OLD> values . remove ( data . mimetype ) ; <REPLACE_NEW> transaction context . get ( ) ; final long data id = get <REPLACE_END> <KEEP> data row handler <KEEP_END> <REPLACE_OLD> row handler = get data row handler ( mime type ) ; final sqlite database db = m db helper . get ( ) . get writable database ( ) ; id = row handler <REPLACE_NEW> ( mime type ) <REPLACE_END> <KEEP> . insert ( db , <KEEP_END> <REPLACE_OLD> m transaction context . get ( ) , raw contact id , m values ) ; m transaction context . get ( ) <REPLACE_NEW> context , raw contact id , values ) ; context <REPLACE_END> <KEEP> . mark raw contact dirty and changed ( raw contact id , caller is sync adapter ) ; <KEEP_END> <REPLACE_OLD> m transaction context . get ( ) <REPLACE_NEW> context <REPLACE_END> <KEEP> . raw contact updated ( raw contact id ) ; return <KEEP_END> <INSERT> data <INSERT_END> <KEEP> id ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "long", "insert", "data", "(", "content", "values", "<KEEP_END>", "<INSERT>", "input", "<INSERT_END>", "<KEEP>", "values", ",", "boolean", "caller", "is", "sync", "adapter", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "long", "id", "=", "num", ";", "m", "values", ".", "clear", "(", ")", ";", "m", "values", ".", "put", "all", "(", "values", ")", ";", "long", "raw", "contact", "id", "=", "m", "<REPLACE_NEW>", "final", "long", "raw", "contact", "id", "=", "input", "<REPLACE_END>", "<KEEP>", "values", ".", "get", "as", "long", "(", "data", ".", "raw", "_", "contact", "_", "id", ")", ";", "if", "(", "raw", "contact", "id", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "data", ".", "raw", "_", "contact", "_", "id", "+", "str", ")", ";", "}", "final", "string", "<KEEP_END>", "<REPLACE_OLD>", "package", "name", "=", "m", "values", ".", "get", "as", "string", "(", "data", ".", "res", "_", "package", ")", ";", "if", "(", "package", "name", "!", "=", "null", ")", "{", "m", "values", ".", "put", "(", "data", "columns", ".", "package", "_", "id", ",", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "package", "id", "(", "package", "name", ")", ")", ";", "}", "m", "values", ".", "remove", "(", "data", ".", "res", "_", "package", ")", ";", "final", "string", "mime", "type", "=", "m", "<REPLACE_NEW>", "mime", "type", "=", "input", "<REPLACE_END>", "<KEEP>", "values", ".", "get", "as", "string", "(", "data", ".", "mimetype", ")", ";", "if", "(", "text", "utils", ".", "is", "empty", "(", "mime", "type", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "data", ".", "mimetype", "+", "str", ")", ";", "}", "<KEEP_END>", "<INSERT>", "final", "content", "values", "values", "=", "new", "content", "values", "(", "input", "values", ")", ";", "replace", "package", "name", "by", "package", "id", "(", "values", ")", ";", "values", ".", "put", "(", "data", "columns", ".", "mimetype", "_", "id", ",", "<INSERT_END>", "<KEEP>", "m", "<KEEP_END>", "<REPLACE_OLD>", "values", ".", "put", "(", "data", "columns", ".", "mimetype", "_", "id", ",", "<REPLACE_NEW>", "db", "helper", ".", "get", "(", ")", ".", "get", "mime", "type", "id", "(", "mime", "type", ")", ")", ";", "values", ".", "remove", "(", "data", ".", "mimetype", ")", ";", "final", "sqlite", "database", "db", "=", "<REPLACE_END>", "<KEEP>", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "mime", "type", "id", "(", "mime", "type", ")", ")", ";", "<REPLACE_NEW>", "writable", "database", "(", ")", ";", "final", "transaction", "context", "context", "=", "<REPLACE_END>", "<KEEP>", "m", "<KEEP_END>", "<REPLACE_OLD>", "values", ".", "remove", "(", "data", ".", "mimetype", ")", ";", "<REPLACE_NEW>", "transaction", "context", ".", "get", "(", ")", ";", "final", "long", "data", "id", "=", "get", "<REPLACE_END>", "<KEEP>", "data", "row", "handler", "<KEEP_END>", "<REPLACE_OLD>", "row", "handler", "=", "get", "data", "row", "handler", "(", "mime", "type", ")", ";", "final", "sqlite", "database", "db", "=", "m", "db", "helper", ".", "get", "(", ")", ".", "get", "writable", "database", "(", ")", ";", "id", "=", "row", "handler", "<REPLACE_NEW>", "(", "mime", "type", ")", "<REPLACE_END>", "<KEEP>", ".", "insert", "(", "db", ",", "<KEEP_END>", "<REPLACE_OLD>", "m", "transaction", "context", ".", "get", "(", ")", ",", "raw", "contact", "id", ",", "m", "values", ")", ";", "m", "transaction", "context", ".", "get", "(", ")", "<REPLACE_NEW>", "context", ",", "raw", "contact", "id", ",", "values", ")", ";", "context", "<REPLACE_END>", "<KEEP>", ".", "mark", "raw", "contact", "dirty", "and", "changed", "(", "raw", "contact", "id", ",", "caller", "is", "sync", "adapter", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "m", "transaction", "context", ".", "get", "(", ")", "<REPLACE_NEW>", "context", "<REPLACE_END>", "<KEEP>", ".", "raw", "contact", "updated", "(", "raw", "contact", "id", ")", ";", "return", "<KEEP_END>", "<INSERT>", "data", "<INSERT_END>", "<KEEP>", "id", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> the row <REPLACE_NEW_DELETE_KEEP_BEFORE> the <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> newly <INSERT_NEW_KEEP_BEFORE> newly - <INSERT_END> <INSERT_OLD_KEEP_BEFORE> created row <INSERT_NEW_KEEP_BEFORE> created row . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", "the", "row", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "the", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "newly", "<INSERT_NEW_KEEP_BEFORE>", "newly", "-", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "created", "row", "<INSERT_NEW_KEEP_BEFORE>", "created", "row", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "long", "<KEEP>", "insert", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "values", "<INSERT>", "input", "<KEEP>", "values", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "caller", "<KEEP>", "is", "<KEEP>", "sync", "<KEEP>", "adapter", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "clear", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", "raw", "<REPLACE_OLD>", "contact", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "m", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "raw", "<REPLACE_NEW>", "contact", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "input", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "as", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "_", "<KEEP>", "contact", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "_", "<KEEP>", "contact", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "string", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "columns", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "db", "<REPLACE_OLD>", "helper", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "remove", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "mime", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "m", "<REPLACE_NEW>", "mime", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "input", "<KEEP>", "values", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "as", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "mimetype", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "text", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "mimetype", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "final", "<INSERT>", "content", "<INSERT>", "values", "<INSERT>", "values", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "content", "<INSERT>", "values", "<INSERT>", "(", "<INSERT>", "input", "<INSERT>", "values", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "replace", "<INSERT>", "package", "<INSERT>", "name", "<INSERT>", "by", "<INSERT>", "package", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", "values", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "values", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "data", "<INSERT>", "columns", "<INSERT>", ".", "<INSERT>", "mimetype", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", ",", "<KEEP>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "columns", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "mimetype", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "db", "<REPLACE_NEW>", "helper", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "mime", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "mime", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "remove", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "mimetype", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "sqlite", "<REPLACE_NEW>", "database", "<REPLACE_NEW>", "db", "<REPLACE_NEW>", "=", "<KEEP>", "m", "<KEEP>", "db", "<KEEP>", "helper", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "mime", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mime", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "writable", "<REPLACE_NEW>", "database", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "transaction", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", "=", "<KEEP>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "remove", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "mimetype", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "transaction", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<KEEP>", "data", "<KEEP>", "row", "<KEEP>", "handler", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "handler", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "handler", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mime", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "sqlite", "<REPLACE_OLD>", "database", "<REPLACE_OLD>", "db", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "db", "<REPLACE_OLD>", "helper", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "writable", "<REPLACE_OLD>", "database", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "handler", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "mime", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ")", "<KEEP>", ".", "<KEEP>", "insert", "<KEEP>", "(", "<KEEP>", "db", "<KEEP>", ",", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "transaction", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "raw", "<REPLACE_OLD>", "contact", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "values", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "transaction", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "context", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "raw", "<REPLACE_NEW>", "contact", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "context", "<KEEP>", ".", "<KEEP>", "mark", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "dirty", "<KEEP>", "and", "<KEEP>", "changed", "<KEEP>", "(", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "caller", "<KEEP>", "is", "<KEEP>", "sync", "<KEEP>", "adapter", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "transaction", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "context", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "updated", "<KEEP>", "(", "<KEEP>", "raw", "<KEEP>", "contact", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "data", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Atmosphere_atmosphere-7-1474", "old_comment": "the org . atmosphere . cpr . meta broadcaster", "old_comment_tokens": ["the", "org", ".", "atmosphere", ".", "cpr", ".", "meta", "broadcaster"], "new_comment": "the default meta broadcaster", "new_comment_tokens": ["the", "default", "meta", "broadcaster"], "old_code": "public static meta broadcaster meta broadcaster ( ) { return meta broadcaster ; }", "old_code_tokens": ["public", "static", "meta", "broadcaster", "meta", "broadcaster", "(", ")", "{", "return", "meta", "broadcaster", ";", "}"], "new_code": "public static default meta broadcaster meta broadcaster ( ) { return meta broadcaster ; }", "new_code_tokens": ["public", "static", "default", "meta", "broadcaster", "meta", "broadcaster", "(", ")", "{", "return", "meta", "broadcaster", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> default <INSERT_END> <KEEP> meta broadcaster meta broadcaster ( ) { return meta broadcaster ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "default", "<INSERT_END>", "<KEEP>", "meta", "broadcaster", "meta", "broadcaster", "(", ")", "{", "return", "meta", "broadcaster", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> org . atmosphere . cpr . <REPLACE_NEW> default <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "org", ".", "atmosphere", ".", "cpr", ".", "<REPLACE_NEW>", "default", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "default", "<KEEP>", "meta", "<KEEP>", "broadcaster", "<KEEP>", "meta", "<KEEP>", "broadcaster", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "meta", "<KEEP>", "broadcaster", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yanzhenjie_NoHttp-17-1311", "old_comment": "ua .", "old_comment_tokens": ["ua", "."], "new_comment": "string .", "new_comment_tokens": ["string", "."], "old_code": "public static string get user agent ( ) { string web user agent = null ; try { class < ? > sys res cls = class . for name ( str ) ; field web user agent field = sys res cls . get declared field ( str ) ; integer res id = ( integer ) web user agent field . get ( null ) ; web user agent = no http . get context ( ) . get string ( res id ) ; } catch ( exception e ) { } if ( text utils . is empty ( web user agent ) ) { web user agent = str ; } locale locale = locale . get default ( ) ; string buffer buffer = new string buffer ( ) ; final string version = build . version . release ; if ( version . length ( ) > num ) { buffer . append ( version ) ; } else { buffer . append ( str ) ; } buffer . append ( str ) ; final string language = locale . get language ( ) ; if ( language ! = null ) { buffer . append ( language . to lower case ( locale ) ) ; final string country = locale . get country ( ) ; if ( ! text utils . is empty ( country ) ) { buffer . append ( str ) ; buffer . append ( country . to lower case ( locale ) ) ; } } else { buffer . append ( str ) ; } if ( str . equals ( build . version . codename ) ) { final string model = build . model ; if ( model . length ( ) > num ) { buffer . append ( str ) ; buffer . append ( model ) ; } } final string id = build . id ; if ( id . length ( ) > num ) { buffer . append ( str ) ; buffer . append ( id ) ; } return string . format ( web user agent , buffer , str ) ; }", "old_code_tokens": ["public", "static", "string", "get", "user", "agent", "(", ")", "{", "string", "web", "user", "agent", "=", "null", ";", "try", "{", "class", "<", "?", ">", "sys", "res", "cls", "=", "class", ".", "for", "name", "(", "str", ")", ";", "field", "web", "user", "agent", "field", "=", "sys", "res", "cls", ".", "get", "declared", "field", "(", "str", ")", ";", "integer", "res", "id", "=", "(", "integer", ")", "web", "user", "agent", "field", ".", "get", "(", "null", ")", ";", "web", "user", "agent", "=", "no", "http", ".", "get", "context", "(", ")", ".", "get", "string", "(", "res", "id", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "}", "if", "(", "text", "utils", ".", "is", "empty", "(", "web", "user", "agent", ")", ")", "{", "web", "user", "agent", "=", "str", ";", "}", "locale", "locale", "=", "locale", ".", "get", "default", "(", ")", ";", "string", "buffer", "buffer", "=", "new", "string", "buffer", "(", ")", ";", "final", "string", "version", "=", "build", ".", "version", ".", "release", ";", "if", "(", "version", ".", "length", "(", ")", ">", "num", ")", "{", "buffer", ".", "append", "(", "version", ")", ";", "}", "else", "{", "buffer", ".", "append", "(", "str", ")", ";", "}", "buffer", ".", "append", "(", "str", ")", ";", "final", "string", "language", "=", "locale", ".", "get", "language", "(", ")", ";", "if", "(", "language", "!", "=", "null", ")", "{", "buffer", ".", "append", "(", "language", ".", "to", "lower", "case", "(", "locale", ")", ")", ";", "final", "string", "country", "=", "locale", ".", "get", "country", "(", ")", ";", "if", "(", "!", "text", "utils", ".", "is", "empty", "(", "country", ")", ")", "{", "buffer", ".", "append", "(", "str", ")", ";", "buffer", ".", "append", "(", "country", ".", "to", "lower", "case", "(", "locale", ")", ")", ";", "}", "}", "else", "{", "buffer", ".", "append", "(", "str", ")", ";", "}", "if", "(", "str", ".", "equals", "(", "build", ".", "version", ".", "codename", ")", ")", "{", "final", "string", "model", "=", "build", ".", "model", ";", "if", "(", "model", ".", "length", "(", ")", ">", "num", ")", "{", "buffer", ".", "append", "(", "str", ")", ";", "buffer", ".", "append", "(", "model", ")", ";", "}", "}", "final", "string", "id", "=", "build", ".", "id", ";", "if", "(", "id", ".", "length", "(", ")", ">", "num", ")", "{", "buffer", ".", "append", "(", "str", ")", ";", "buffer", ".", "append", "(", "id", ")", ";", "}", "return", "string", ".", "format", "(", "web", "user", "agent", ",", "buffer", ",", "str", ")", ";", "}"], "new_code": "@ deprecated public static string get user agent ( ) { return instance ( ) ; }", "new_code_tokens": ["@", "deprecated", "public", "static", "string", "get", "user", "agent", "(", ")", "{", "return", "instance", "(", ")", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public static string get user agent ( ) { <KEEP_END> <REPLACE_OLD> string web user agent = null ; try { class < ? > sys res cls = class . for name <REPLACE_NEW> return instance <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> str ) ; field web user agent field = sys res cls . get declared field ( str ) ; integer res id = ( integer ) web user agent field . get ( null ) ; web user agent = no http . get context ( ) . get string ( res id <DELETE_END> <KEEP> ) ; } <KEEP_END> <DELETE> catch ( exception e ) { } if ( text utils . is empty ( web user agent ) ) { web user agent = str ; } locale locale = locale . get default ( ) ; string buffer buffer = new string buffer ( ) ; final string version = build . version . release ; if ( version . length ( ) > num ) { buffer . append ( version ) ; } else { buffer . append ( str ) ; } buffer . append ( str ) ; final string language = locale . get language ( ) ; if ( language ! = null ) { buffer . append ( language . to lower case ( locale ) ) ; final string country = locale . get country ( ) ; if ( ! text utils . is empty ( country ) ) { buffer . append ( str ) ; buffer . append ( country . to lower case ( locale ) ) ; } } else { buffer . append ( str ) ; } if ( str . equals ( build . version . codename ) ) { final string model = build . model ; if ( model . length ( ) > num ) { buffer . append ( str ) ; buffer . append ( model ) ; } } final string id = build . id ; if ( id . length ( ) > num ) { buffer . append ( str ) ; buffer . append ( id ) ; } return string . format ( web user agent , buffer , str ) ; } <DELETE_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "static", "string", "get", "user", "agent", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "web", "user", "agent", "=", "null", ";", "try", "{", "class", "<", "?", ">", "sys", "res", "cls", "=", "class", ".", "for", "name", "<REPLACE_NEW>", "return", "instance", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "str", ")", ";", "field", "web", "user", "agent", "field", "=", "sys", "res", "cls", ".", "get", "declared", "field", "(", "str", ")", ";", "integer", "res", "id", "=", "(", "integer", ")", "web", "user", "agent", "field", ".", "get", "(", "null", ")", ";", "web", "user", "agent", "=", "no", "http", ".", "get", "context", "(", ")", ".", "get", "string", "(", "res", "id", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "exception", "e", ")", "{", "}", "if", "(", "text", "utils", ".", "is", "empty", "(", "web", "user", "agent", ")", ")", "{", "web", "user", "agent", "=", "str", ";", "}", "locale", "locale", "=", "locale", ".", "get", "default", "(", ")", ";", "string", "buffer", "buffer", "=", "new", "string", "buffer", "(", ")", ";", "final", "string", "version", "=", "build", ".", "version", ".", "release", ";", "if", "(", "version", ".", "length", "(", ")", ">", "num", ")", "{", "buffer", ".", "append", "(", "version", ")", ";", "}", "else", "{", "buffer", ".", "append", "(", "str", ")", ";", "}", "buffer", ".", "append", "(", "str", ")", ";", "final", "string", "language", "=", "locale", ".", "get", "language", "(", ")", ";", "if", "(", "language", "!", "=", "null", ")", "{", "buffer", ".", "append", "(", "language", ".", "to", "lower", "case", "(", "locale", ")", ")", ";", "final", "string", "country", "=", "locale", ".", "get", "country", "(", ")", ";", "if", "(", "!", "text", "utils", ".", "is", "empty", "(", "country", ")", ")", "{", "buffer", ".", "append", "(", "str", ")", ";", "buffer", ".", "append", "(", "country", ".", "to", "lower", "case", "(", "locale", ")", ")", ";", "}", "}", "else", "{", "buffer", ".", "append", "(", "str", ")", ";", "}", "if", "(", "str", ".", "equals", "(", "build", ".", "version", ".", "codename", ")", ")", "{", "final", "string", "model", "=", "build", ".", "model", ";", "if", "(", "model", ".", "length", "(", ")", ">", "num", ")", "{", "buffer", ".", "append", "(", "str", ")", ";", "buffer", ".", "append", "(", "model", ")", ";", "}", "}", "final", "string", "id", "=", "build", ".", "id", ";", "if", "(", "id", ".", "length", "(", ")", ">", "num", ")", "{", "buffer", ".", "append", "(", "str", ")", ";", "buffer", ".", "append", "(", "id", ")", ";", "}", "return", "string", ".", "format", "(", "web", "user", "agent", ",", "buffer", ",", "str", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> ua <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "ua", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "agent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "web", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "agent", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "sys", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "cls", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "instance", "<KEEP>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "field", "<DELETE>", "web", "<DELETE>", "user", "<DELETE>", "agent", "<DELETE>", "field", "<DELETE>", "=", "<DELETE>", "sys", "<DELETE>", "res", "<DELETE>", "cls", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "declared", "<DELETE>", "field", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "integer", "<DELETE>", "res", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "integer", "<DELETE>", ")", "<DELETE>", "web", "<DELETE>", "user", "<DELETE>", "agent", "<DELETE>", "field", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "web", "<DELETE>", "user", "<DELETE>", "agent", "<DELETE>", "=", "<DELETE>", "no", "<DELETE>", "http", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "context", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "res", "<DELETE>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "text", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "empty", "<DELETE>", "(", "<DELETE>", "web", "<DELETE>", "user", "<DELETE>", "agent", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "web", "<DELETE>", "user", "<DELETE>", "agent", "<DELETE>", "=", "<DELETE>", "str", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "locale", "<DELETE>", "locale", "<DELETE>", "=", "<DELETE>", "locale", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "default", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "buffer", "<DELETE>", "buffer", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "string", "<DELETE>", "buffer", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "version", "<DELETE>", "=", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "version", "<DELETE>", ".", "<DELETE>", "release", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "version", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "version", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "language", "<DELETE>", "=", "<DELETE>", "locale", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "language", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "language", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "language", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "lower", "<DELETE>", "case", "<DELETE>", "(", "<DELETE>", "locale", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "country", "<DELETE>", "=", "<DELETE>", "locale", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "country", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "text", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "empty", "<DELETE>", "(", "<DELETE>", "country", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "country", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "lower", "<DELETE>", "case", "<DELETE>", "(", "<DELETE>", "locale", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "version", "<DELETE>", ".", "<DELETE>", "codename", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "model", "<DELETE>", "=", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "model", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "model", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "model", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "build", "<DELETE>", ".", "<DELETE>", "id", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "id", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "buffer", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "id", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "web", "<DELETE>", "user", "<DELETE>", "agent", "<DELETE>", ",", "<DELETE>", "buffer", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "twitter_commons-27-4490", "old_comment": "a duplicated token stream", "old_comment_tokens": ["a", "duplicated", "token", "stream"], "new_comment": "a duplicated twitter token stream", "new_comment_tokens": ["a", "duplicated", "twitter", "token", "stream"], "old_code": "public token stream duplicate ( ) { duplicated token stream duplicate = new duplicated token stream ( input stream ) ; duplicated streams . add ( duplicate ) ; return duplicate ; }", "old_code_tokens": ["public", "token", "stream", "duplicate", "(", ")", "{", "duplicated", "token", "stream", "duplicate", "=", "new", "duplicated", "token", "stream", "(", "input", "stream", ")", ";", "duplicated", "streams", ".", "add", "(", "duplicate", ")", ";", "return", "duplicate", ";", "}"], "new_code": "public twitter token stream duplicate ( ) { duplicated token stream duplicate = new duplicated token stream ( input stream ) ; duplicated streams . add ( duplicate ) ; return duplicate ; }", "new_code_tokens": ["public", "twitter", "token", "stream", "duplicate", "(", ")", "{", "duplicated", "token", "stream", "duplicate", "=", "new", "duplicated", "token", "stream", "(", "input", "stream", ")", ";", "duplicated", "streams", ".", "add", "(", "duplicate", ")", ";", "return", "duplicate", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> twitter <INSERT_END> <KEEP> token stream duplicate ( ) { duplicated token stream duplicate = new duplicated token stream ( input stream ) ; duplicated streams . add ( duplicate ) ; return duplicate ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "twitter", "<INSERT_END>", "<KEEP>", "token", "stream", "duplicate", "(", ")", "{", "duplicated", "token", "stream", "duplicate", "=", "new", "duplicated", "token", "stream", "(", "input", "stream", ")", ";", "duplicated", "streams", ".", "add", "(", "duplicate", ")", ";", "return", "duplicate", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> duplicated <INSERT_NEW_KEEP_BEFORE> duplicated twitter <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "duplicated", "<INSERT_NEW_KEEP_BEFORE>", "duplicated", "twitter", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "twitter", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "duplicate", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "duplicated", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "duplicate", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "duplicated", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "duplicated", "<KEEP>", "streams", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "duplicate", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "duplicate", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nelsonsilva_vaadin-95-4293", "old_comment": "icontext menu object", "old_comment_tokens": ["icontext", "menu", "object"], "new_comment": "vcontext menu object", "new_comment_tokens": ["vcontext", "menu", "object"], "old_code": "public icontext menu get context menu ( ) { if ( context menu = = null ) { context menu = new icontext menu ( ) ; dom . set element property ( context menu . get element ( ) , str , str ) ; } return context menu ; }", "old_code_tokens": ["public", "icontext", "menu", "get", "context", "menu", "(", ")", "{", "if", "(", "context", "menu", "=", "=", "null", ")", "{", "context", "menu", "=", "new", "icontext", "menu", "(", ")", ";", "dom", ".", "set", "element", "property", "(", "context", "menu", ".", "get", "element", "(", ")", ",", "str", ",", "str", ")", ";", "}", "return", "context", "menu", ";", "}"], "new_code": "public vcontext menu get context menu ( ) { if ( context menu = = null ) { context menu = new vcontext menu ( ) ; dom . set element property ( context menu . get element ( ) , str , str ) ; } return context menu ; }", "new_code_tokens": ["public", "vcontext", "menu", "get", "context", "menu", "(", ")", "{", "if", "(", "context", "menu", "=", "=", "null", ")", "{", "context", "menu", "=", "new", "vcontext", "menu", "(", ")", ";", "dom", ".", "set", "element", "property", "(", "context", "menu", ".", "get", "element", "(", ")", ",", "str", ",", "str", ")", ";", "}", "return", "context", "menu", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> icontext <REPLACE_NEW> vcontext <REPLACE_END> <KEEP> menu get context menu ( ) { if ( context menu = = null ) { context menu = new <KEEP_END> <REPLACE_OLD> icontext <REPLACE_NEW> vcontext <REPLACE_END> <KEEP> menu ( ) ; dom . set element property ( context menu . get element ( ) , str , str ) ; } return context menu ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "icontext", "<REPLACE_NEW>", "vcontext", "<REPLACE_END>", "<KEEP>", "menu", "get", "context", "menu", "(", ")", "{", "if", "(", "context", "menu", "=", "=", "null", ")", "{", "context", "menu", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "icontext", "<REPLACE_NEW>", "vcontext", "<REPLACE_END>", "<KEEP>", "menu", "(", ")", ";", "dom", ".", "set", "element", "property", "(", "context", "menu", ".", "get", "element", "(", ")", ",", "str", ",", "str", ")", ";", "}", "return", "context", "menu", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> icontext <REPLACE_NEW> vcontext <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "icontext", "<REPLACE_NEW>", "vcontext", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "icontext", "<REPLACE_NEW>", "vcontext", "<KEEP>", "menu", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "menu", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "menu", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "context", "<KEEP>", "menu", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "icontext", "<REPLACE_NEW>", "vcontext", "<KEEP>", "menu", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "dom", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "element", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "menu", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "context", "<KEEP>", "menu", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_drill-91-7143", "old_comment": "default temporary workspace", "old_comment_tokens": ["default", "temporary", "workspace"], "new_comment": "default temporary workspace , null if workspace was not found", "new_comment_tokens": ["default", "temporary", "workspace", ",", "null", "if", "workspace", "was", "not", "found"], "old_code": "public static abstract schema get temporary workspace ( schema plus default schema , drill config config ) { list < string > temporary schema path = lists . new array list ( config . get string ( exec constants . default _ temporary _ workspace ) ) ; abstract schema temporary schema = resolve to mutable drill schema ( default schema , temporary schema path ) ; if ( ! ( temporary schema instanceof workspace schema factory . workspace schema ) ) { drill runtime exception . format ( str + str , temporary schema path ) ; } return temporary schema ; }", "old_code_tokens": ["public", "static", "abstract", "schema", "get", "temporary", "workspace", "(", "schema", "plus", "default", "schema", ",", "drill", "config", "config", ")", "{", "list", "<", "string", ">", "temporary", "schema", "path", "=", "lists", ".", "new", "array", "list", "(", "config", ".", "get", "string", "(", "exec", "constants", ".", "default", "_", "temporary", "_", "workspace", ")", ")", ";", "abstract", "schema", "temporary", "schema", "=", "resolve", "to", "mutable", "drill", "schema", "(", "default", "schema", ",", "temporary", "schema", "path", ")", ";", "if", "(", "!", "(", "temporary", "schema", "instanceof", "workspace", "schema", "factory", ".", "workspace", "schema", ")", ")", "{", "drill", "runtime", "exception", ".", "format", "(", "str", "+", "str", ",", "temporary", "schema", "path", ")", ";", "}", "return", "temporary", "schema", ";", "}"], "new_code": "public static abstract schema get temporary workspace ( schema plus default schema , drill config config ) { string temporary schema = config . get string ( exec constants . default _ temporary _ workspace ) ; list < string > temporary schema path = lists . new array list ( temporary schema ) ; schema plus schema = find schema ( default schema , temporary schema path ) ; return schema = = null ? null : unwrap as drill schema instance ( schema ) ; }", "new_code_tokens": ["public", "static", "abstract", "schema", "get", "temporary", "workspace", "(", "schema", "plus", "default", "schema", ",", "drill", "config", "config", ")", "{", "string", "temporary", "schema", "=", "config", ".", "get", "string", "(", "exec", "constants", ".", "default", "_", "temporary", "_", "workspace", ")", ";", "list", "<", "string", ">", "temporary", "schema", "path", "=", "lists", ".", "new", "array", "list", "(", "temporary", "schema", ")", ";", "schema", "plus", "schema", "=", "find", "schema", "(", "default", "schema", ",", "temporary", "schema", "path", ")", ";", "return", "schema", "=", "=", "null", "?", "null", ":", "unwrap", "as", "drill", "schema", "instance", "(", "schema", ")", ";", "}"], "span_diff_code": "<KEEP> public static abstract schema get temporary workspace ( schema plus default schema , drill config config ) { <KEEP_END> <INSERT> string temporary schema = config . get string ( exec constants . default _ temporary _ workspace ) ; <INSERT_END> <KEEP> list < string > temporary schema path = lists . new array list ( <KEEP_END> <DELETE> config . get string ( exec constants . default _ <DELETE_END> <KEEP> temporary <KEEP_END> <REPLACE_OLD> _ workspace ) <REPLACE_NEW> schema <REPLACE_END> <KEEP> ) ; <KEEP_END> <DELETE> abstract <DELETE_END> <KEEP> schema <KEEP_END> <REPLACE_OLD> temporary <REPLACE_NEW> plus <REPLACE_END> <KEEP> schema = <KEEP_END> <REPLACE_OLD> resolve to mutable drill <REPLACE_NEW> find <REPLACE_END> <KEEP> schema ( default schema , temporary schema path ) ; <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return schema = = null ? null : unwrap as drill schema instance <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ! ( temporary <DELETE_END> <KEEP> schema <KEEP_END> <DELETE> instanceof workspace schema factory . workspace schema ) ) { drill runtime exception . format ( str + str , temporary schema path <DELETE_END> <KEEP> ) ; } <KEEP_END> <DELETE> return temporary schema ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "abstract", "schema", "get", "temporary", "workspace", "(", "schema", "plus", "default", "schema", ",", "drill", "config", "config", ")", "{", "<KEEP_END>", "<INSERT>", "string", "temporary", "schema", "=", "config", ".", "get", "string", "(", "exec", "constants", ".", "default", "_", "temporary", "_", "workspace", ")", ";", "<INSERT_END>", "<KEEP>", "list", "<", "string", ">", "temporary", "schema", "path", "=", "lists", ".", "new", "array", "list", "(", "<KEEP_END>", "<DELETE>", "config", ".", "get", "string", "(", "exec", "constants", ".", "default", "_", "<DELETE_END>", "<KEEP>", "temporary", "<KEEP_END>", "<REPLACE_OLD>", "_", "workspace", ")", "<REPLACE_NEW>", "schema", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "abstract", "<DELETE_END>", "<KEEP>", "schema", "<KEEP_END>", "<REPLACE_OLD>", "temporary", "<REPLACE_NEW>", "plus", "<REPLACE_END>", "<KEEP>", "schema", "=", "<KEEP_END>", "<REPLACE_OLD>", "resolve", "to", "mutable", "drill", "<REPLACE_NEW>", "find", "<REPLACE_END>", "<KEEP>", "schema", "(", "default", "schema", ",", "temporary", "schema", "path", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "schema", "=", "=", "null", "?", "null", ":", "unwrap", "as", "drill", "schema", "instance", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "!", "(", "temporary", "<DELETE_END>", "<KEEP>", "schema", "<KEEP_END>", "<DELETE>", "instanceof", "workspace", "schema", "factory", ".", "workspace", "schema", ")", ")", "{", "drill", "runtime", "exception", ".", "format", "(", "str", "+", "str", ",", "temporary", "schema", "path", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "temporary", "schema", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> workspace <INSERT_NEW_KEEP_BEFORE> workspace , null if workspace was not found <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "workspace", "<INSERT_NEW_KEEP_BEFORE>", "workspace", ",", "null", "if", "workspace", "was", "not", "found", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "abstract", "<KEEP>", "schema", "<KEEP>", "get", "<KEEP>", "temporary", "<KEEP>", "workspace", "<KEEP>", "(", "<KEEP>", "schema", "<KEEP>", "plus", "<KEEP>", "default", "<KEEP>", "schema", "<KEEP>", ",", "<KEEP>", "drill", "<KEEP>", "config", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "string", "<INSERT>", "temporary", "<INSERT>", "schema", "<INSERT>", "=", "<INSERT>", "config", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", "exec", "<INSERT>", "constants", "<INSERT>", ".", "<INSERT>", "default", "<INSERT>", "_", "<INSERT>", "temporary", "<INSERT>", "_", "<INSERT>", "workspace", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "temporary", "<KEEP>", "schema", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "lists", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "(", "<DELETE>", "config", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "exec", "<DELETE>", "constants", "<DELETE>", ".", "<DELETE>", "default", "<DELETE>", "_", "<KEEP>", "temporary", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "workspace", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "schema", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "abstract", "<KEEP>", "schema", "<REPLACE_OLD>", "temporary", "<REPLACE_NEW>", "plus", "<KEEP>", "schema", "<KEEP>", "=", "<REPLACE_OLD>", "resolve", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "mutable", "<REPLACE_OLD>", "drill", "<REPLACE_NEW>", "find", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", "default", "<KEEP>", "schema", "<KEEP>", ",", "<KEEP>", "temporary", "<KEEP>", "schema", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "schema", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "unwrap", "<REPLACE_NEW>", "as", "<REPLACE_NEW>", "drill", "<REPLACE_NEW>", "schema", "<REPLACE_NEW>", "instance", "<KEEP>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "temporary", "<KEEP>", "schema", "<DELETE>", "instanceof", "<DELETE>", "workspace", "<DELETE>", "schema", "<DELETE>", "factory", "<DELETE>", ".", "<DELETE>", "workspace", "<DELETE>", "schema", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "drill", "<DELETE>", "runtime", "<DELETE>", "exception", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "temporary", "<DELETE>", "schema", "<DELETE>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "temporary", "<DELETE>", "schema", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "nickman_HeliosStreams-52-7130", "old_comment": "the new period count", "old_comment_tokens": ["the", "new", "period", "count"], "new_comment": "the total number of created periods", "new_comment_tokens": ["the", "total", "number", "of", "created", "periods"], "old_code": "public long adder get new period count ( ) { return new period count ; }", "old_code_tokens": ["public", "long", "adder", "get", "new", "period", "count", "(", ")", "{", "return", "new", "period", "count", ";", "}"], "new_code": "@ managed attribute ( description = str ) public long get new period count ( ) { return new period count . long value ( ) ; }", "new_code_tokens": ["@", "managed", "attribute", "(", "description", "=", "str", ")", "public", "long", "get", "new", "period", "count", "(", ")", "{", "return", "new", "period", "count", ".", "long", "value", "(", ")", ";", "}"], "span_diff_code": "<INSERT> @ managed attribute ( description = str ) <INSERT_END> <KEEP> public long <KEEP_END> <DELETE> adder <DELETE_END> <KEEP> get new period count ( ) { return new period count <KEEP_END> <INSERT> . long value ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "managed", "attribute", "(", "description", "=", "str", ")", "<INSERT_END>", "<KEEP>", "public", "long", "<KEEP_END>", "<DELETE>", "adder", "<DELETE_END>", "<KEEP>", "get", "new", "period", "count", "(", ")", "{", "return", "new", "period", "count", "<KEEP_END>", "<INSERT>", ".", "long", "value", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> new period count <REPLACE_NEW> total number of created periods <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "new", "period", "count", "<REPLACE_NEW>", "total", "number", "of", "created", "periods", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "managed", "<INSERT>", "attribute", "<INSERT>", "(", "<INSERT>", "description", "<INSERT>", "=", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "long", "<DELETE>", "adder", "<KEEP>", "get", "<KEEP>", "new", "<KEEP>", "period", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "period", "<KEEP>", "count", "<INSERT>", ".", "<INSERT>", "long", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_james-project-2-6622", "old_comment": "a hbase message instance with message metadata .", "old_comment_tokens": ["a", "hbase", "message", "instance", "with", "message", "metadata", "."], "new_comment": "a hbase mailbox message instance with message metadata .", "new_comment_tokens": ["a", "hbase", "mailbox", "message", "instance", "with", "message", "metadata", "."], "old_code": "public static message < hbase id > message meta from result ( configuration conf , result result ) { hbase message message = null ; flags flags = new flags ( ) ; list < property > prop list = new array list < property > ( ) ; key value [ ] keys = result . raw ( ) ; string media type = null , sub type = null ; long mod seq = null , uid , body octets = null , content octets = null , textual line count = null ; date internal date = null ; int i = num ; if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ body _ octets ) ) { body octets = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ content _ octets ) ) { content octets = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ internaldate ) ) { internal date = new date ( bytes . to long ( keys [ i ] . get value ( ) ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ text _ line _ count ) ) { textual line count = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ modseq ) ) { mod seq = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ media _ type ) ) { media type = bytes . to string ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ sub _ type ) ) { sub type = bytes . to string ( keys [ i ] . get value ( ) ) ; i + + ; } if ( i < num ) { throw new runtime exception ( str ) ; } while ( i < keys . length ) { if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ prop _ b ) ) { prop list . add ( get property ( keys [ i ] . get value ( ) ) ) ; } else if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ sflags _ b ) ) { if ( bytes . equals ( marker _ present , keys [ i ] . get value ( ) ) ) { flags . add ( system flag from bytes ( keys [ i ] . get qualifier ( ) ) ) ; } } else if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ uflags _ b ) ) { flags . add ( user flag from bytes ( keys [ i ] . get qualifier ( ) ) ) ; } i + + ; } hbase id uuid = hbase id from row key ( result . get row ( ) ) ; uid = long . max _ value - bytes . to long ( result . get row ( ) , num ) ; property builder props = new property builder ( prop list ) ; props . set media type ( media type ) ; props . set sub type ( sub type ) ; message = new hbase message ( conf , uuid , internal date , flags , content octets , ( int ) ( content octets - body octets ) , props ) ; message . set uid ( uid ) ; message . set mod seq ( mod seq ) ; message . set textual line count ( textual line count ) ; return message ; }", "old_code_tokens": ["public", "static", "message", "<", "hbase", "id", ">", "message", "meta", "from", "result", "(", "configuration", "conf", ",", "result", "result", ")", "{", "hbase", "message", "message", "=", "null", ";", "flags", "flags", "=", "new", "flags", "(", ")", ";", "list", "<", "property", ">", "prop", "list", "=", "new", "array", "list", "<", "property", ">", "(", ")", ";", "key", "value", "[", "]", "keys", "=", "result", ".", "raw", "(", ")", ";", "string", "media", "type", "=", "null", ",", "sub", "type", "=", "null", ";", "long", "mod", "seq", "=", "null", ",", "uid", ",", "body", "octets", "=", "null", ",", "content", "octets", "=", "null", ",", "textual", "line", "count", "=", "null", ";", "date", "internal", "date", "=", "null", ";", "int", "i", "=", "num", ";", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "body", "_", "octets", ")", ")", "{", "body", "octets", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "content", "_", "octets", ")", ")", "{", "content", "octets", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "internaldate", ")", ")", "{", "internal", "date", "=", "new", "date", "(", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "text", "_", "line", "_", "count", ")", ")", "{", "textual", "line", "count", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "modseq", ")", ")", "{", "mod", "seq", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "media", "_", "type", ")", ")", "{", "media", "type", "=", "bytes", ".", "to", "string", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "sub", "_", "type", ")", ")", "{", "sub", "type", "=", "bytes", ".", "to", "string", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "i", "<", "num", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ")", ";", "}", "while", "(", "i", "<", "keys", ".", "length", ")", "{", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "prop", "_", "b", ")", ")", "{", "prop", "list", ".", "add", "(", "get", "property", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", ";", "}", "else", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "sflags", "_", "b", ")", ")", "{", "if", "(", "bytes", ".", "equals", "(", "marker", "_", "present", ",", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", "{", "flags", ".", "add", "(", "system", "flag", "from", "bytes", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ")", ")", ";", "}", "}", "else", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "uflags", "_", "b", ")", ")", "{", "flags", ".", "add", "(", "user", "flag", "from", "bytes", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ")", ")", ";", "}", "i", "+", "+", ";", "}", "hbase", "id", "uuid", "=", "hbase", "id", "from", "row", "key", "(", "result", ".", "get", "row", "(", ")", ")", ";", "uid", "=", "long", ".", "max", "_", "value", "-", "bytes", ".", "to", "long", "(", "result", ".", "get", "row", "(", ")", ",", "num", ")", ";", "property", "builder", "props", "=", "new", "property", "builder", "(", "prop", "list", ")", ";", "props", ".", "set", "media", "type", "(", "media", "type", ")", ";", "props", ".", "set", "sub", "type", "(", "sub", "type", ")", ";", "message", "=", "new", "hbase", "message", "(", "conf", ",", "uuid", ",", "internal", "date", ",", "flags", ",", "content", "octets", ",", "(", "int", ")", "(", "content", "octets", "-", "body", "octets", ")", ",", "props", ")", ";", "message", ".", "set", "uid", "(", "uid", ")", ";", "message", ".", "set", "mod", "seq", "(", "mod", "seq", ")", ";", "message", ".", "set", "textual", "line", "count", "(", "textual", "line", "count", ")", ";", "return", "message", ";", "}"], "new_code": "public static mailbox message < hbase id > message meta from result ( configuration conf , result result ) { hbase mailbox message message = null ; flags flags = new flags ( ) ; list < property > prop list = new array list < property > ( ) ; key value [ ] keys = result . raw ( ) ; string media type = null , sub type = null ; long mod seq = null , uid , body octets = null , content octets = null , textual line count = null ; date internal date = null ; int i = num ; if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ body _ octets ) ) { body octets = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ content _ octets ) ) { content octets = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ internaldate ) ) { internal date = new date ( bytes . to long ( keys [ i ] . get value ( ) ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ text _ line _ count ) ) { textual line count = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ modseq ) ) { mod seq = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ media _ type ) ) { media type = bytes . to string ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ sub _ type ) ) { sub type = bytes . to string ( keys [ i ] . get value ( ) ) ; i + + ; } if ( i < num ) { throw new runtime exception ( str ) ; } while ( i < keys . length ) { if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ prop _ b ) ) { prop list . add ( get property ( keys [ i ] . get value ( ) ) ) ; } else if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ sflags _ b ) ) { if ( bytes . equals ( marker _ present , keys [ i ] . get value ( ) ) ) { flags . add ( system flag from bytes ( keys [ i ] . get qualifier ( ) ) ) ; } } else if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ uflags _ b ) ) { flags . add ( user flag from bytes ( keys [ i ] . get qualifier ( ) ) ) ; } i + + ; } hbase id uuid = hbase id from row key ( result . get row ( ) ) ; uid = long . max _ value - bytes . to long ( result . get row ( ) , num ) ; property builder props = new property builder ( prop list ) ; props . set media type ( media type ) ; props . set sub type ( sub type ) ; message = new hbase mailbox message ( conf , uuid , internal date , flags , content octets , ( int ) ( content octets - body octets ) , props ) ; message . set uid ( uid ) ; message . set mod seq ( mod seq ) ; message . set textual line count ( textual line count ) ; return message ; }", "new_code_tokens": ["public", "static", "mailbox", "message", "<", "hbase", "id", ">", "message", "meta", "from", "result", "(", "configuration", "conf", ",", "result", "result", ")", "{", "hbase", "mailbox", "message", "message", "=", "null", ";", "flags", "flags", "=", "new", "flags", "(", ")", ";", "list", "<", "property", ">", "prop", "list", "=", "new", "array", "list", "<", "property", ">", "(", ")", ";", "key", "value", "[", "]", "keys", "=", "result", ".", "raw", "(", ")", ";", "string", "media", "type", "=", "null", ",", "sub", "type", "=", "null", ";", "long", "mod", "seq", "=", "null", ",", "uid", ",", "body", "octets", "=", "null", ",", "content", "octets", "=", "null", ",", "textual", "line", "count", "=", "null", ";", "date", "internal", "date", "=", "null", ";", "int", "i", "=", "num", ";", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "body", "_", "octets", ")", ")", "{", "body", "octets", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "content", "_", "octets", ")", ")", "{", "content", "octets", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "internaldate", ")", ")", "{", "internal", "date", "=", "new", "date", "(", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "text", "_", "line", "_", "count", ")", ")", "{", "textual", "line", "count", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "modseq", ")", ")", "{", "mod", "seq", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "media", "_", "type", ")", ")", "{", "media", "type", "=", "bytes", ".", "to", "string", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "sub", "_", "type", ")", ")", "{", "sub", "type", "=", "bytes", ".", "to", "string", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "i", "<", "num", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ")", ";", "}", "while", "(", "i", "<", "keys", ".", "length", ")", "{", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "prop", "_", "b", ")", ")", "{", "prop", "list", ".", "add", "(", "get", "property", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", ";", "}", "else", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "sflags", "_", "b", ")", ")", "{", "if", "(", "bytes", ".", "equals", "(", "marker", "_", "present", ",", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", "{", "flags", ".", "add", "(", "system", "flag", "from", "bytes", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ")", ")", ";", "}", "}", "else", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "uflags", "_", "b", ")", ")", "{", "flags", ".", "add", "(", "user", "flag", "from", "bytes", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ")", ")", ";", "}", "i", "+", "+", ";", "}", "hbase", "id", "uuid", "=", "hbase", "id", "from", "row", "key", "(", "result", ".", "get", "row", "(", ")", ")", ";", "uid", "=", "long", ".", "max", "_", "value", "-", "bytes", ".", "to", "long", "(", "result", ".", "get", "row", "(", ")", ",", "num", ")", ";", "property", "builder", "props", "=", "new", "property", "builder", "(", "prop", "list", ")", ";", "props", ".", "set", "media", "type", "(", "media", "type", ")", ";", "props", ".", "set", "sub", "type", "(", "sub", "type", ")", ";", "message", "=", "new", "hbase", "mailbox", "message", "(", "conf", ",", "uuid", ",", "internal", "date", ",", "flags", ",", "content", "octets", ",", "(", "int", ")", "(", "content", "octets", "-", "body", "octets", ")", ",", "props", ")", ";", "message", ".", "set", "uid", "(", "uid", ")", ";", "message", ".", "set", "mod", "seq", "(", "mod", "seq", ")", ";", "message", ".", "set", "textual", "line", "count", "(", "textual", "line", "count", ")", ";", "return", "message", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> mailbox <INSERT_END> <KEEP> message < hbase id > message meta from result ( configuration conf , result result ) { hbase <KEEP_END> <INSERT> mailbox <INSERT_END> <KEEP> message message = null ; flags flags = new flags ( ) ; list < property > prop list = new array list < property > ( ) ; key value [ ] keys = result . raw ( ) ; string media type = null , sub type = null ; long mod seq = null , uid , body octets = null , content octets = null , textual line count = null ; date internal date = null ; int i = num ; if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ body _ octets ) ) { body octets = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ content _ octets ) ) { content octets = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ internaldate ) ) { internal date = new date ( bytes . to long ( keys [ i ] . get value ( ) ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ text _ line _ count ) ) { textual line count = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ modseq ) ) { mod seq = bytes . to long ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ media _ type ) ) { media type = bytes . to string ( keys [ i ] . get value ( ) ) ; i + + ; } if ( bytes . equals ( keys [ i ] . get qualifier ( ) , message _ sub _ type ) ) { sub type = bytes . to string ( keys [ i ] . get value ( ) ) ; i + + ; } if ( i < num ) { throw new runtime exception ( str ) ; } while ( i < keys . length ) { if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ prop _ b ) ) { prop list . add ( get property ( keys [ i ] . get value ( ) ) ) ; } else if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ sflags _ b ) ) { if ( bytes . equals ( marker _ present , keys [ i ] . get value ( ) ) ) { flags . add ( system flag from bytes ( keys [ i ] . get qualifier ( ) ) ) ; } } else if ( bytes . starts with ( keys [ i ] . get qualifier ( ) , prefix _ uflags _ b ) ) { flags . add ( user flag from bytes ( keys [ i ] . get qualifier ( ) ) ) ; } i + + ; } hbase id uuid = hbase id from row key ( result . get row ( ) ) ; uid = long . max _ value - bytes . to long ( result . get row ( ) , num ) ; property builder props = new property builder ( prop list ) ; props . set media type ( media type ) ; props . set sub type ( sub type ) ; message = new hbase <KEEP_END> <INSERT> mailbox <INSERT_END> <KEEP> message ( conf , uuid , internal date , flags , content octets , ( int ) ( content octets - body octets ) , props ) ; message . set uid ( uid ) ; message . set mod seq ( mod seq ) ; message . set textual line count ( textual line count ) ; return message ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "mailbox", "<INSERT_END>", "<KEEP>", "message", "<", "hbase", "id", ">", "message", "meta", "from", "result", "(", "configuration", "conf", ",", "result", "result", ")", "{", "hbase", "<KEEP_END>", "<INSERT>", "mailbox", "<INSERT_END>", "<KEEP>", "message", "message", "=", "null", ";", "flags", "flags", "=", "new", "flags", "(", ")", ";", "list", "<", "property", ">", "prop", "list", "=", "new", "array", "list", "<", "property", ">", "(", ")", ";", "key", "value", "[", "]", "keys", "=", "result", ".", "raw", "(", ")", ";", "string", "media", "type", "=", "null", ",", "sub", "type", "=", "null", ";", "long", "mod", "seq", "=", "null", ",", "uid", ",", "body", "octets", "=", "null", ",", "content", "octets", "=", "null", ",", "textual", "line", "count", "=", "null", ";", "date", "internal", "date", "=", "null", ";", "int", "i", "=", "num", ";", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "body", "_", "octets", ")", ")", "{", "body", "octets", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "content", "_", "octets", ")", ")", "{", "content", "octets", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "internaldate", ")", ")", "{", "internal", "date", "=", "new", "date", "(", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "text", "_", "line", "_", "count", ")", ")", "{", "textual", "line", "count", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "modseq", ")", ")", "{", "mod", "seq", "=", "bytes", ".", "to", "long", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "media", "_", "type", ")", ")", "{", "media", "type", "=", "bytes", ".", "to", "string", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "bytes", ".", "equals", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "message", "_", "sub", "_", "type", ")", ")", "{", "sub", "type", "=", "bytes", ".", "to", "string", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ";", "i", "+", "+", ";", "}", "if", "(", "i", "<", "num", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ")", ";", "}", "while", "(", "i", "<", "keys", ".", "length", ")", "{", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "prop", "_", "b", ")", ")", "{", "prop", "list", ".", "add", "(", "get", "property", "(", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", ";", "}", "else", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "sflags", "_", "b", ")", ")", "{", "if", "(", "bytes", ".", "equals", "(", "marker", "_", "present", ",", "keys", "[", "i", "]", ".", "get", "value", "(", ")", ")", ")", "{", "flags", ".", "add", "(", "system", "flag", "from", "bytes", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ")", ")", ";", "}", "}", "else", "if", "(", "bytes", ".", "starts", "with", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ",", "prefix", "_", "uflags", "_", "b", ")", ")", "{", "flags", ".", "add", "(", "user", "flag", "from", "bytes", "(", "keys", "[", "i", "]", ".", "get", "qualifier", "(", ")", ")", ")", ";", "}", "i", "+", "+", ";", "}", "hbase", "id", "uuid", "=", "hbase", "id", "from", "row", "key", "(", "result", ".", "get", "row", "(", ")", ")", ";", "uid", "=", "long", ".", "max", "_", "value", "-", "bytes", ".", "to", "long", "(", "result", ".", "get", "row", "(", ")", ",", "num", ")", ";", "property", "builder", "props", "=", "new", "property", "builder", "(", "prop", "list", ")", ";", "props", ".", "set", "media", "type", "(", "media", "type", ")", ";", "props", ".", "set", "sub", "type", "(", "sub", "type", ")", ";", "message", "=", "new", "hbase", "<KEEP_END>", "<INSERT>", "mailbox", "<INSERT_END>", "<KEEP>", "message", "(", "conf", ",", "uuid", ",", "internal", "date", ",", "flags", ",", "content", "octets", ",", "(", "int", ")", "(", "content", "octets", "-", "body", "octets", ")", ",", "props", ")", ";", "message", ".", "set", "uid", "(", "uid", ")", ";", "message", ".", "set", "mod", "seq", "(", "mod", "seq", ")", ";", "message", ".", "set", "textual", "line", "count", "(", "textual", "line", "count", ")", ";", "return", "message", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> hbase <INSERT_NEW_KEEP_BEFORE> hbase mailbox <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "hbase", "<INSERT_NEW_KEEP_BEFORE>", "hbase", "mailbox", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "mailbox", "<KEEP>", "message", "<KEEP>", "<", "<KEEP>", "hbase", "<KEEP>", "id", "<KEEP>", ">", "<KEEP>", "message", "<KEEP>", "meta", "<KEEP>", "from", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", "configuration", "<KEEP>", "conf", "<KEEP>", ",", "<KEEP>", "result", "<KEEP>", "result", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "hbase", "<INSERT>", "mailbox", "<KEEP>", "message", "<KEEP>", "message", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "flags", "<KEEP>", "flags", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "flags", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "property", "<KEEP>", ">", "<KEEP>", "prop", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "property", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "key", "<KEEP>", "value", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "keys", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "raw", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "media", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "sub", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "mod", "<KEEP>", "seq", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "uid", "<KEEP>", ",", "<KEEP>", "body", "<KEEP>", "octets", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "content", "<KEEP>", "octets", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "textual", "<KEEP>", "line", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "date", "<KEEP>", "internal", "<KEEP>", "date", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "body", "<KEEP>", "_", "<KEEP>", "octets", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "body", "<KEEP>", "octets", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "content", "<KEEP>", "_", "<KEEP>", "octets", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "content", "<KEEP>", "octets", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "internaldate", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "internal", "<KEEP>", "date", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "text", "<KEEP>", "_", "<KEEP>", "line", "<KEEP>", "_", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "textual", "<KEEP>", "line", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "modseq", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "mod", "<KEEP>", "seq", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "media", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "media", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "message", "<KEEP>", "_", "<KEEP>", "sub", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "sub", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "prefix", "<KEEP>", "_", "<KEEP>", "prop", "<KEEP>", "_", "<KEEP>", "b", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "prop", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "prefix", "<KEEP>", "_", "<KEEP>", "sflags", "<KEEP>", "_", "<KEEP>", "b", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "marker", "<KEEP>", "_", "<KEEP>", "present", "<KEEP>", ",", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "flags", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", "flag", "<KEEP>", "from", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "starts", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "prefix", "<KEEP>", "_", "<KEEP>", "uflags", "<KEEP>", "_", "<KEEP>", "b", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "flags", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "flag", "<KEEP>", "from", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "keys", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "qualifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "hbase", "<KEEP>", "id", "<KEEP>", "uuid", "<KEEP>", "=", "<KEEP>", "hbase", "<KEEP>", "id", "<KEEP>", "from", "<KEEP>", "row", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "uid", "<KEEP>", "=", "<KEEP>", "long", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", "-", "<KEEP>", "bytes", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "property", "<KEEP>", "builder", "<KEEP>", "props", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "property", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", "prop", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "props", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "media", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "media", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "props", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "sub", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "sub", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "message", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hbase", "<INSERT>", "mailbox", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", "conf", "<KEEP>", ",", "<KEEP>", "uuid", "<KEEP>", ",", "<KEEP>", "internal", "<KEEP>", "date", "<KEEP>", ",", "<KEEP>", "flags", "<KEEP>", ",", "<KEEP>", "content", "<KEEP>", "octets", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "octets", "<KEEP>", "-", "<KEEP>", "body", "<KEEP>", "octets", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "props", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "message", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "uid", "<KEEP>", "(", "<KEEP>", "uid", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "message", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "mod", "<KEEP>", "seq", "<KEEP>", "(", "<KEEP>", "mod", "<KEEP>", "seq", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "message", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "textual", "<KEEP>", "line", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", "textual", "<KEEP>", "line", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "message", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "SeleniumHQ_selenium-10-251", "old_comment": "returns all axis mapped to an immutable map", "old_comment_tokens": ["returns", "all", "axis", "mapped", "to", "an", "immutable", "map"], "new_comment": "returns all axis mapped to a map", "new_comment_tokens": ["returns", "all", "axis", "mapped", "to", "a", "map"], "old_code": "public immutable map < string , integer > parameters ( ) { return immutable map . of ( str , this . x , str , this . y , str , this . z ) ; }", "old_code_tokens": ["public", "immutable", "map", "<", "string", ",", "integer", ">", "parameters", "(", ")", "{", "return", "immutable", "map", ".", "of", "(", "str", ",", "this", ".", "x", ",", "str", ",", "this", ".", "y", ",", "str", ",", "this", ".", "z", ")", ";", "}"], "new_code": "public map < string , integer > parameters ( ) { hash map < string , integer > values = new hash map < > ( ) ; values . put ( str , this . x ) ; values . put ( str , this . y ) ; values . put ( str , this . z ) ; return collections . unmodifiable map ( values ) ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "integer", ">", "parameters", "(", ")", "{", "hash", "map", "<", "string", ",", "integer", ">", "values", "=", "new", "hash", "map", "<", ">", "(", ")", ";", "values", ".", "put", "(", "str", ",", "this", ".", "x", ")", ";", "values", ".", "put", "(", "str", ",", "this", ".", "y", ")", ";", "values", ".", "put", "(", "str", ",", "this", ".", "z", ")", ";", "return", "collections", ".", "unmodifiable", "map", "(", "values", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> immutable <DELETE_END> <KEEP> map < string , integer > parameters ( ) { <KEEP_END> <REPLACE_OLD> return immutable <REPLACE_NEW> hash <REPLACE_END> <KEEP> map <KEEP_END> <INSERT> < string , integer > values = new hash map < > ( ) ; values <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> of <REPLACE_NEW> put <REPLACE_END> <KEEP> ( str , this . x <KEEP_END> <REPLACE_OLD> , <REPLACE_NEW> ) ; values . put ( <REPLACE_END> <KEEP> str , this . y <KEEP_END> <REPLACE_OLD> , <REPLACE_NEW> ) ; values . put ( <REPLACE_END> <KEEP> str , this . z ) ; <KEEP_END> <INSERT> return collections . unmodifiable map ( values ) ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "immutable", "<DELETE_END>", "<KEEP>", "map", "<", "string", ",", "integer", ">", "parameters", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "immutable", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", "map", "<KEEP_END>", "<INSERT>", "<", "string", ",", "integer", ">", "values", "=", "new", "hash", "map", "<", ">", "(", ")", ";", "values", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "of", "<REPLACE_NEW>", "put", "<REPLACE_END>", "<KEEP>", "(", "str", ",", "this", ".", "x", "<KEEP_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", ";", "values", ".", "put", "(", "<REPLACE_END>", "<KEEP>", "str", ",", "this", ".", "y", "<KEEP_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", ";", "values", ".", "put", "(", "<REPLACE_END>", "<KEEP>", "str", ",", "this", ".", "z", ")", ";", "<KEEP_END>", "<INSERT>", "return", "collections", ".", "unmodifiable", "map", "(", "values", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an immutable <REPLACE_NEW> a <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "immutable", "<REPLACE_NEW>", "a", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "immutable", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "immutable", "<REPLACE_NEW>", "hash", "<KEEP>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "integer", "<INSERT>", ">", "<INSERT>", "values", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "values", "<KEEP>", ".", "<REPLACE_OLD>", "of", "<REPLACE_NEW>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "x", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "y", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "put", "<REPLACE_NEW>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "z", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "map", "<INSERT>", "(", "<INSERT>", "values", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "gspandy_common-18-5262", "old_comment": "the node as a string", "old_comment_tokens": ["the", "node", "as", "a", "string"], "new_comment": "the tree as a string", "new_comment_tokens": ["the", "tree", "as", "a", "string"], "old_code": "public static < t , n extends tree node < t > > string to string ( final n node , final function < n , string > to string ) { final string new line = string . format ( str ) ; return to string recursive ( node , to string , new line ) ; }", "old_code_tokens": ["public", "static", "<", "t", ",", "n", "extends", "tree", "node", "<", "t", ">", ">", "string", "to", "string", "(", "final", "n", "node", ",", "final", "function", "<", "n", ",", "string", ">", "to", "string", ")", "{", "final", "string", "new", "line", "=", "string", ".", "format", "(", "str", ")", ";", "return", "to", "string", "recursive", "(", "node", ",", "to", "string", ",", "new", "line", ")", ";", "}"], "new_code": "@ suppress warnings ( str ) public static < t , n extends tree node < t > > string to string ( final n root ) { final function < n , string > to string ; if ( root instanceof node < ? > ) { final node < ? > node = ( node < ? > ) root ; to string = ( function < n , string > ) node . to string function ( ) ; } else { to string = new function < n , string > ( ) { @ override public string apply ( final n input ) { return objects . first non null ( input . get data ( ) , str ) . to string ( ) ; } } ; } return to string ( root , to string ) ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "static", "<", "t", ",", "n", "extends", "tree", "node", "<", "t", ">", ">", "string", "to", "string", "(", "final", "n", "root", ")", "{", "final", "function", "<", "n", ",", "string", ">", "to", "string", ";", "if", "(", "root", "instanceof", "node", "<", "?", ">", ")", "{", "final", "node", "<", "?", ">", "node", "=", "(", "node", "<", "?", ">", ")", "root", ";", "to", "string", "=", "(", "function", "<", "n", ",", "string", ">", ")", "node", ".", "to", "string", "function", "(", ")", ";", "}", "else", "{", "to", "string", "=", "new", "function", "<", "n", ",", "string", ">", "(", ")", "{", "@", "override", "public", "string", "apply", "(", "final", "n", "input", ")", "{", "return", "objects", ".", "first", "non", "null", "(", "input", ".", "get", "data", "(", ")", ",", "str", ")", ".", "to", "string", "(", ")", ";", "}", "}", ";", "}", "return", "to", "string", "(", "root", ",", "to", "string", ")", ";", "}"], "span_diff_code": "<INSERT> @ suppress warnings ( str ) <INSERT_END> <KEEP> public static < t , n extends tree node < t > > string to string ( final n <KEEP_END> <REPLACE_OLD> node , <REPLACE_NEW> root ) { <REPLACE_END> <KEEP> final function < n , string > to string <KEEP_END> <INSERT> ; if ( root instanceof node < ? > <INSERT_END> <KEEP> ) { final <KEEP_END> <INSERT> node < ? > node = ( node < ? > ) root ; to <INSERT_END> <KEEP> string <KEEP_END> <INSERT> = ( function < n , string > ) node . to string function ( ) ; } else { to string = <INSERT_END> <KEEP> new <KEEP_END> <REPLACE_OLD> line = <REPLACE_NEW> function < n , <REPLACE_END> <KEEP> string <KEEP_END> <INSERT> > ( ) { @ override public string apply ( final n input ) { return objects <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> format <REPLACE_NEW> first non null <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> input . get data ( ) , <INSERT_END> <KEEP> str ) <KEEP_END> <INSERT> . to string ( ) <INSERT_END> <KEEP> ; <KEEP_END> <INSERT> } } ; } <INSERT_END> <KEEP> return to string <KEEP_END> <DELETE> recursive <DELETE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> node <REPLACE_NEW> root <REPLACE_END> <KEEP> , to string <KEEP_END> <DELETE> , new line <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "suppress", "warnings", "(", "str", ")", "<INSERT_END>", "<KEEP>", "public", "static", "<", "t", ",", "n", "extends", "tree", "node", "<", "t", ">", ">", "string", "to", "string", "(", "final", "n", "<KEEP_END>", "<REPLACE_OLD>", "node", ",", "<REPLACE_NEW>", "root", ")", "{", "<REPLACE_END>", "<KEEP>", "final", "function", "<", "n", ",", "string", ">", "to", "string", "<KEEP_END>", "<INSERT>", ";", "if", "(", "root", "instanceof", "node", "<", "?", ">", "<INSERT_END>", "<KEEP>", ")", "{", "final", "<KEEP_END>", "<INSERT>", "node", "<", "?", ">", "node", "=", "(", "node", "<", "?", ">", ")", "root", ";", "to", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<INSERT>", "=", "(", "function", "<", "n", ",", "string", ">", ")", "node", ".", "to", "string", "function", "(", ")", ";", "}", "else", "{", "to", "string", "=", "<INSERT_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "line", "=", "<REPLACE_NEW>", "function", "<", "n", ",", "<REPLACE_END>", "<KEEP>", "string", "<KEEP_END>", "<INSERT>", ">", "(", ")", "{", "@", "override", "public", "string", "apply", "(", "final", "n", "input", ")", "{", "return", "objects", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "format", "<REPLACE_NEW>", "first", "non", "null", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "input", ".", "get", "data", "(", ")", ",", "<INSERT_END>", "<KEEP>", "str", ")", "<KEEP_END>", "<INSERT>", ".", "to", "string", "(", ")", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "}", ";", "}", "<INSERT_END>", "<KEEP>", "return", "to", "string", "<KEEP_END>", "<DELETE>", "recursive", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "root", "<REPLACE_END>", "<KEEP>", ",", "to", "string", "<KEEP_END>", "<DELETE>", ",", "new", "line", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> node <REPLACE_NEW> tree <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "node", "<REPLACE_NEW>", "tree", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "suppress", "<INSERT>", "warnings", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ",", "<KEEP>", "n", "<KEEP>", "extends", "<KEEP>", "tree", "<KEEP>", "node", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "n", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "root", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "final", "<KEEP>", "function", "<KEEP>", "<", "<KEEP>", "n", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "to", "<KEEP>", "string", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "root", "<INSERT>", "instanceof", "<INSERT>", "node", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ">", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<INSERT>", "node", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ">", "<INSERT>", "node", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "node", "<INSERT>", "<", "<INSERT>", "?", "<INSERT>", ">", "<INSERT>", ")", "<INSERT>", "root", "<INSERT>", ";", "<INSERT>", "to", "<KEEP>", "string", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "function", "<INSERT>", "<", "<INSERT>", "n", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", ")", "<INSERT>", "node", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "function", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "line", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "function", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", ",", "<KEEP>", "string", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "@", "<INSERT>", "override", "<INSERT>", "public", "<INSERT>", "string", "<INSERT>", "apply", "<INSERT>", "(", "<INSERT>", "final", "<INSERT>", "n", "<INSERT>", "input", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "objects", "<KEEP>", ".", "<REPLACE_OLD>", "format", "<REPLACE_NEW>", "first", "<REPLACE_NEW>", "non", "<REPLACE_NEW>", "null", "<KEEP>", "(", "<INSERT>", "input", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "data", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "to", "<KEEP>", "string", "<DELETE>", "recursive", "<KEEP>", "(", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "root", "<KEEP>", ",", "<KEEP>", "to", "<KEEP>", "string", "<DELETE>", ",", "<DELETE>", "new", "<DELETE>", "line", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-avatica-16-5437", "old_comment": "ordinal of field , or - 1 if not found", "old_comment_tokens": ["ordinal", "of", "field", ",", "or", "-", "1", "if", "not", "found"], "new_comment": "field , or null if not found", "new_comment_tokens": ["field", ",", "or", "null", "if", "not", "found"], "old_code": "public static int lookup field ( final rel data type row type , string column name ) { final rel data type field [ ] fields = row type . get fields ( ) ; for ( int i = num ; i < fields . length ; i + + ) { rel data type field field = fields [ i ] ; if ( field . get name ( ) . equals ( column name ) ) { return i ; } } return - num ; }", "old_code_tokens": ["public", "static", "int", "lookup", "field", "(", "final", "rel", "data", "type", "row", "type", ",", "string", "column", "name", ")", "{", "final", "rel", "data", "type", "field", "[", "]", "fields", "=", "row", "type", ".", "get", "fields", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "fields", ".", "length", ";", "i", "+", "+", ")", "{", "rel", "data", "type", "field", "field", "=", "fields", "[", "i", "]", ";", "if", "(", "field", ".", "get", "name", "(", ")", ".", "equals", "(", "column", "name", ")", ")", "{", "return", "i", ";", "}", "}", "return", "-", "num", ";", "}"], "new_code": "public static rel data type field lookup field ( final rel data type row type , string column name ) { final rel data type field [ ] fields = row type . get fields ( ) ; for ( int i = num ; i < fields . length ; i + + ) { rel data type field field = fields [ i ] ; if ( field . get name ( ) . equals ( column name ) ) { return field ; } } return null ; }", "new_code_tokens": ["public", "static", "rel", "data", "type", "field", "lookup", "field", "(", "final", "rel", "data", "type", "row", "type", ",", "string", "column", "name", ")", "{", "final", "rel", "data", "type", "field", "[", "]", "fields", "=", "row", "type", ".", "get", "fields", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "fields", ".", "length", ";", "i", "+", "+", ")", "{", "rel", "data", "type", "field", "field", "=", "fields", "[", "i", "]", ";", "if", "(", "field", ".", "get", "name", "(", ")", ".", "equals", "(", "column", "name", ")", ")", "{", "return", "field", ";", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> rel data type field <REPLACE_END> <KEEP> lookup field ( final rel data type row type , string column name ) { final rel data type field [ ] fields = row type . get fields ( ) ; for ( int i = num ; i < fields . length ; i + + ) { rel data type field field = fields [ i ] ; if ( field . get name ( ) . equals ( column name ) ) { return <KEEP_END> <REPLACE_OLD> i <REPLACE_NEW> field <REPLACE_END> <KEEP> ; } } return <KEEP_END> <REPLACE_OLD> - num <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "rel", "data", "type", "field", "<REPLACE_END>", "<KEEP>", "lookup", "field", "(", "final", "rel", "data", "type", "row", "type", ",", "string", "column", "name", ")", "{", "final", "rel", "data", "type", "field", "[", "]", "fields", "=", "row", "type", ".", "get", "fields", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "fields", ".", "length", ";", "i", "+", "+", ")", "{", "rel", "data", "type", "field", "field", "=", "fields", "[", "i", "]", ";", "if", "(", "field", ".", "get", "name", "(", ")", ".", "equals", "(", "column", "name", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "field", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "-", "num", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ordinal of <DELETE_END> <REPLACE_OLD> - 1 <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "ordinal", "of", "<DELETE_END>", "<REPLACE_OLD>", "-", "1", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "rel", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "field", "<KEEP>", "lookup", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "column", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "field", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "fields", "<KEEP>", "=", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "fields", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "fields", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "field", "<KEEP>", "field", "<KEEP>", "=", "<KEEP>", "fields", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "column", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "i", "<REPLACE_NEW>", "field", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "alibaba_jstorm-65-3638", "old_comment": "map : from taskid to componentid", "old_comment_tokens": ["map", ":", "from", "taskid", "to", "componentid"], "new_comment": "map [ task id , component id ]", "new_comment_tokens": ["map", "[", "task", "id", ",", "component", "id", "]"], "old_code": "public map < integer , task info > mk task component assignments ( map < object , object > conf , string topologyid ) throws ioexception , invalid topology exception , key not found exception { map < object , object > storm conf = storm config . read _ nimbus _ topology _ conf ( topologyid , data . get blob store ( ) ) ; storm topology stopology = storm config . read _ nimbus _ topology _ code ( topologyid , data . get blob store ( ) ) ; storm topology topology = common . system _ topology ( storm conf , stopology ) ; return common . mk task info ( storm conf , topology , topologyid ) ; }", "old_code_tokens": ["public", "map", "<", "integer", ",", "task", "info", ">", "mk", "task", "component", "assignments", "(", "map", "<", "object", ",", "object", ">", "conf", ",", "string", "topologyid", ")", "throws", "ioexception", ",", "invalid", "topology", "exception", ",", "key", "not", "found", "exception", "{", "map", "<", "object", ",", "object", ">", "storm", "conf", "=", "storm", "config", ".", "read", "_", "nimbus", "_", "topology", "_", "conf", "(", "topologyid", ",", "data", ".", "get", "blob", "store", "(", ")", ")", ";", "storm", "topology", "stopology", "=", "storm", "config", ".", "read", "_", "nimbus", "_", "topology", "_", "code", "(", "topologyid", ",", "data", ".", "get", "blob", "store", "(", ")", ")", ";", "storm", "topology", "topology", "=", "common", ".", "system", "_", "topology", "(", "storm", "conf", ",", "stopology", ")", ";", "return", "common", ".", "mk", "task", "info", "(", "storm", "conf", ",", "topology", ",", "topologyid", ")", ";", "}"], "new_code": "public map < integer , task info > mk task component assignments ( map < object , object > conf , string topology id ) throws ioexception , invalid topology exception , key not found exception { map < object , object > storm conf = storm config . read _ nimbus _ topology _ conf ( topology id , data . get blob store ( ) ) ; storm topology raw topology = storm config . read _ nimbus _ topology _ code ( topology id , data . get blob store ( ) ) ; storm topology topology = common . system _ topology ( storm conf , raw topology ) ; return common . mk task info ( storm conf , topology , topology id ) ; }", "new_code_tokens": ["public", "map", "<", "integer", ",", "task", "info", ">", "mk", "task", "component", "assignments", "(", "map", "<", "object", ",", "object", ">", "conf", ",", "string", "topology", "id", ")", "throws", "ioexception", ",", "invalid", "topology", "exception", ",", "key", "not", "found", "exception", "{", "map", "<", "object", ",", "object", ">", "storm", "conf", "=", "storm", "config", ".", "read", "_", "nimbus", "_", "topology", "_", "conf", "(", "topology", "id", ",", "data", ".", "get", "blob", "store", "(", ")", ")", ";", "storm", "topology", "raw", "topology", "=", "storm", "config", ".", "read", "_", "nimbus", "_", "topology", "_", "code", "(", "topology", "id", ",", "data", ".", "get", "blob", "store", "(", ")", ")", ";", "storm", "topology", "topology", "=", "common", ".", "system", "_", "topology", "(", "storm", "conf", ",", "raw", "topology", ")", ";", "return", "common", ".", "mk", "task", "info", "(", "storm", "conf", ",", "topology", ",", "topology", "id", ")", ";", "}"], "span_diff_code": "<KEEP> public map < integer , task info > mk task component assignments ( map < object , object > conf , string <KEEP_END> <REPLACE_OLD> topologyid <REPLACE_NEW> topology id <REPLACE_END> <KEEP> ) throws ioexception , invalid topology exception , key not found exception { map < object , object > storm conf = storm config . read _ nimbus _ topology _ conf ( <KEEP_END> <REPLACE_OLD> topologyid <REPLACE_NEW> topology id <REPLACE_END> <KEEP> , data . get blob store ( ) ) ; storm topology <KEEP_END> <REPLACE_OLD> stopology <REPLACE_NEW> raw topology <REPLACE_END> <KEEP> = storm config . read _ nimbus _ topology _ code ( <KEEP_END> <REPLACE_OLD> topologyid <REPLACE_NEW> topology id <REPLACE_END> <KEEP> , data . get blob store ( ) ) ; storm topology topology = common . system _ topology ( storm conf , <KEEP_END> <REPLACE_OLD> stopology <REPLACE_NEW> raw topology <REPLACE_END> <KEEP> ) ; return common . mk task info ( storm conf , topology , <KEEP_END> <REPLACE_OLD> topologyid <REPLACE_NEW> topology id <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "map", "<", "integer", ",", "task", "info", ">", "mk", "task", "component", "assignments", "(", "map", "<", "object", ",", "object", ">", "conf", ",", "string", "<KEEP_END>", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "id", "<REPLACE_END>", "<KEEP>", ")", "throws", "ioexception", ",", "invalid", "topology", "exception", ",", "key", "not", "found", "exception", "{", "map", "<", "object", ",", "object", ">", "storm", "conf", "=", "storm", "config", ".", "read", "_", "nimbus", "_", "topology", "_", "conf", "(", "<KEEP_END>", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "id", "<REPLACE_END>", "<KEEP>", ",", "data", ".", "get", "blob", "store", "(", ")", ")", ";", "storm", "topology", "<KEEP_END>", "<REPLACE_OLD>", "stopology", "<REPLACE_NEW>", "raw", "topology", "<REPLACE_END>", "<KEEP>", "=", "storm", "config", ".", "read", "_", "nimbus", "_", "topology", "_", "code", "(", "<KEEP_END>", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "id", "<REPLACE_END>", "<KEEP>", ",", "data", ".", "get", "blob", "store", "(", ")", ")", ";", "storm", "topology", "topology", "=", "common", ".", "system", "_", "topology", "(", "storm", "conf", ",", "<KEEP_END>", "<REPLACE_OLD>", "stopology", "<REPLACE_NEW>", "raw", "topology", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "common", ".", "mk", "task", "info", "(", "storm", "conf", ",", "topology", ",", "<KEEP_END>", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "id", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> : from taskid to componentid <REPLACE_NEW> [ task id , component id ] <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ":", "from", "taskid", "to", "componentid", "<REPLACE_NEW>", "[", "task", "id", ",", "component", "id", "]", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ",", "<KEEP>", "task", "<KEEP>", "info", "<KEEP>", ">", "<KEEP>", "mk", "<KEEP>", "task", "<KEEP>", "component", "<KEEP>", "assignments", "<KEEP>", "(", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "conf", "<KEEP>", ",", "<KEEP>", "string", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "<REPLACE_NEW>", "id", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "invalid", "<KEEP>", "topology", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "storm", "<KEEP>", "conf", "<KEEP>", "=", "<KEEP>", "storm", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "_", "<KEEP>", "nimbus", "<KEEP>", "_", "<KEEP>", "topology", "<KEEP>", "_", "<KEEP>", "conf", "<KEEP>", "(", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "<REPLACE_NEW>", "id", "<KEEP>", ",", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "blob", "<KEEP>", "store", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "storm", "<KEEP>", "topology", "<REPLACE_OLD>", "stopology", "<REPLACE_NEW>", "raw", "<REPLACE_NEW>", "topology", "<KEEP>", "=", "<KEEP>", "storm", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "_", "<KEEP>", "nimbus", "<KEEP>", "_", "<KEEP>", "topology", "<KEEP>", "_", "<KEEP>", "code", "<KEEP>", "(", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "<REPLACE_NEW>", "id", "<KEEP>", ",", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "blob", "<KEEP>", "store", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "storm", "<KEEP>", "topology", "<KEEP>", "topology", "<KEEP>", "=", "<KEEP>", "common", "<KEEP>", ".", "<KEEP>", "system", "<KEEP>", "_", "<KEEP>", "topology", "<KEEP>", "(", "<KEEP>", "storm", "<KEEP>", "conf", "<KEEP>", ",", "<REPLACE_OLD>", "stopology", "<REPLACE_NEW>", "raw", "<REPLACE_NEW>", "topology", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "common", "<KEEP>", ".", "<KEEP>", "mk", "<KEEP>", "task", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "storm", "<KEEP>", "conf", "<KEEP>", ",", "<KEEP>", "topology", "<KEEP>", ",", "<REPLACE_OLD>", "topologyid", "<REPLACE_NEW>", "topology", "<REPLACE_NEW>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "akibsayyed_jain-slee-40-7297", "old_comment": "false if the object is currently assigned to an mbean or if it is not read only", "old_comment_tokens": ["false", "if", "the", "object", "is", "currently", "assigned", "to", "an", "mbean", "or", "if", "it", "is", "not", "read", "only"], "new_comment": "false if the object is currently assigned to an mbean or if it is not read only or if it is default profile", "new_comment_tokens": ["false", "if", "the", "object", "is", "currently", "assigned", "to", "an", "mbean", "or", "if", "it", "is", "not", "read", "only", "or", "if", "it", "is", "default", "profile"], "old_code": "public boolean is profile read only ( ) { return profile read only & & ! is management view ( ) ; }", "old_code_tokens": ["public", "boolean", "is", "profile", "read", "only", "(", ")", "{", "return", "profile", "read", "only", "&", "&", "!", "is", "management", "view", "(", ")", ";", "}"], "new_code": "public boolean is profile read only ( ) { return profile read only & & ! is management view ( ) & & get profile name ( ) ! = null ; }", "new_code_tokens": ["public", "boolean", "is", "profile", "read", "only", "(", ")", "{", "return", "profile", "read", "only", "&", "&", "!", "is", "management", "view", "(", ")", "&", "&", "get", "profile", "name", "(", ")", "!", "=", "null", ";", "}"], "span_diff_code": "<KEEP> public boolean is profile read only ( ) { return profile read only & & ! is management view ( ) <KEEP_END> <INSERT> & & get profile name ( ) ! = null <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "profile", "read", "only", "(", ")", "{", "return", "profile", "read", "only", "&", "&", "!", "is", "management", "view", "(", ")", "<KEEP_END>", "<INSERT>", "&", "&", "get", "profile", "name", "(", ")", "!", "=", "null", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> only <INSERT_NEW_KEEP_BEFORE> only or if it is default profile <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "only", "<INSERT_NEW_KEEP_BEFORE>", "only", "or", "if", "it", "is", "default", "profile", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "profile", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "profile", "<KEEP>", "read", "<KEEP>", "only", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "!", "<KEEP>", "is", "<KEEP>", "management", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "get", "<INSERT>", "profile", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "runelite_runelite-0-2830", "old_comment": "returns the distance", "old_comment_tokens": ["returns", "the", "distance"], "new_comment": "the distance , or integer # max _ value if the planes differ", "new_comment_tokens": ["the", "distance", ",", "or", "integer", "#", "max", "_", "value", "if", "the", "planes", "differ"], "old_code": "public int distance to ( world area other ) { if ( this . get plane ( ) ! = other . get plane ( ) ) { return integer . max _ value ; } point distances = get axis distances ( other ) ; return math . max ( distances . get x ( ) , distances . get y ( ) ) ; }", "old_code_tokens": ["public", "int", "distance", "to", "(", "world", "area", "other", ")", "{", "if", "(", "this", ".", "get", "plane", "(", ")", "!", "=", "other", ".", "get", "plane", "(", ")", ")", "{", "return", "integer", ".", "max", "_", "value", ";", "}", "point", "distances", "=", "get", "axis", "distances", "(", "other", ")", ";", "return", "math", ".", "max", "(", "distances", ".", "get", "x", "(", ")", ",", "distances", ".", "get", "y", "(", ")", ")", ";", "}"], "new_code": "public int distance to ( world point other ) { return distance to ( new world area ( other , num , num ) ) ; }", "new_code_tokens": ["public", "int", "distance", "to", "(", "world", "point", "other", ")", "{", "return", "distance", "to", "(", "new", "world", "area", "(", "other", ",", "num", ",", "num", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public int distance to ( world <KEEP_END> <REPLACE_OLD> area <REPLACE_NEW> point <REPLACE_END> <KEEP> other ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return distance to <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> this . get plane ( ) ! = other . get plane ( ) ) { return integer . max _ value ; } point distances = get axis distances <REPLACE_NEW> new world area <REPLACE_END> <KEEP> ( other <KEEP_END> <DELETE> ) ; return math . max ( distances . get x ( ) <DELETE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> distances . get y ( <REPLACE_NEW> num , num <REPLACE_END> <KEEP> ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "distance", "to", "(", "world", "<KEEP_END>", "<REPLACE_OLD>", "area", "<REPLACE_NEW>", "point", "<REPLACE_END>", "<KEEP>", "other", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "distance", "to", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "this", ".", "get", "plane", "(", ")", "!", "=", "other", ".", "get", "plane", "(", ")", ")", "{", "return", "integer", ".", "max", "_", "value", ";", "}", "point", "distances", "=", "get", "axis", "distances", "<REPLACE_NEW>", "new", "world", "area", "<REPLACE_END>", "<KEEP>", "(", "other", "<KEEP_END>", "<DELETE>", ")", ";", "return", "math", ".", "max", "(", "distances", ".", "get", "x", "(", ")", "<DELETE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "distances", ".", "get", "y", "(", "<REPLACE_NEW>", "num", ",", "num", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> returns <DELETE_END> <INSERT_OLD_KEEP_BEFORE> distance <INSERT_NEW_KEEP_BEFORE> distance , or integer # max _ value if the planes differ <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "returns", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "distance", "<INSERT_NEW_KEEP_BEFORE>", "distance", ",", "or", "integer", "#", "max", "_", "value", "if", "the", "planes", "differ", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "distance", "<KEEP>", "to", "<KEEP>", "(", "<KEEP>", "world", "<REPLACE_OLD>", "area", "<REPLACE_NEW>", "point", "<KEEP>", "other", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "distance", "<REPLACE_NEW>", "to", "<KEEP>", "(", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "plane", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "other", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "plane", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "distances", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "axis", "<REPLACE_OLD>", "distances", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "world", "<REPLACE_NEW>", "area", "<KEEP>", "(", "<KEEP>", "other", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "math", "<DELETE>", ".", "<DELETE>", "max", "<DELETE>", "(", "<DELETE>", "distances", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "x", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "distances", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bobmcwhirter_microcontainer-5-5871", "old_comment": "the parent", "old_comment_tokens": ["the", "parent"], "new_comment": "the parent or null if there is no parent", "new_comment_tokens": ["the", "parent", "or", "null", "if", "there", "is", "no", "parent"], "old_code": "public virtual file get parent ( ) throws ioexception { virtual file handler parent = get handler ( ) . get parent ( ) ; return parent . get virtual file ( ) ; }", "old_code_tokens": ["public", "virtual", "file", "get", "parent", "(", ")", "throws", "ioexception", "{", "virtual", "file", "handler", "parent", "=", "get", "handler", "(", ")", ".", "get", "parent", "(", ")", ";", "return", "parent", ".", "get", "virtual", "file", "(", ")", ";", "}"], "new_code": "public virtual file get parent ( ) throws ioexception { virtual file handler parent = get handler ( ) . get parent ( ) ; if ( parent ! = null ) return parent . get virtual file ( ) ; return null ; }", "new_code_tokens": ["public", "virtual", "file", "get", "parent", "(", ")", "throws", "ioexception", "{", "virtual", "file", "handler", "parent", "=", "get", "handler", "(", ")", ".", "get", "parent", "(", ")", ";", "if", "(", "parent", "!", "=", "null", ")", "return", "parent", ".", "get", "virtual", "file", "(", ")", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public virtual file get parent ( ) throws ioexception { virtual file handler parent = get handler ( ) . get parent ( ) ; <KEEP_END> <INSERT> if ( parent ! = null ) <INSERT_END> <KEEP> return parent . get virtual file ( ) ; <KEEP_END> <INSERT> return null ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "virtual", "file", "get", "parent", "(", ")", "throws", "ioexception", "{", "virtual", "file", "handler", "parent", "=", "get", "handler", "(", ")", ".", "get", "parent", "(", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "parent", "!", "=", "null", ")", "<INSERT_END>", "<KEEP>", "return", "parent", ".", "get", "virtual", "file", "(", ")", ";", "<KEEP_END>", "<INSERT>", "return", "null", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> parent <INSERT_NEW_KEEP_BEFORE> parent or null if there is no parent <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "parent", "<INSERT_NEW_KEEP_BEFORE>", "parent", "or", "null", "if", "there", "is", "no", "parent", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "virtual", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "virtual", "<KEEP>", "file", "<KEEP>", "handler", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "parent", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<KEEP>", "return", "<KEEP>", "parent", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "virtual", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "macalinao_albkit-15-5744", "old_comment": "the material whose name is the same as the raw arg , or null if no material has that name", "old_comment_tokens": ["the", "material", "whose", "name", "is", "the", "same", "as", "the", "raw", "arg", ",", "or", "null", "if", "no", "material", "has", "that", "name"], "new_comment": "the material whose name is the same as the raw value , or null if no material has that name", "new_comment_tokens": ["the", "material", "whose", "name", "is", "the", "same", "as", "the", "raw", "value", ",", "or", "null", "if", "no", "material", "has", "that", "name"], "old_code": "public material as material from name ( ) { return material . get material ( arg . to upper case ( ) ) ; }", "old_code_tokens": ["public", "material", "as", "material", "from", "name", "(", ")", "{", "return", "material", ".", "get", "material", "(", "arg", ".", "to", "upper", "case", "(", ")", ")", ";", "}"], "new_code": "public material as material from name ( ) { return material . get material ( raw . to upper case ( ) ) ; }", "new_code_tokens": ["public", "material", "as", "material", "from", "name", "(", ")", "{", "return", "material", ".", "get", "material", "(", "raw", ".", "to", "upper", "case", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public material as material from name ( ) { return material . get material ( <KEEP_END> <REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END> <KEEP> . to upper case ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "material", "as", "material", "from", "name", "(", ")", "{", "return", "material", ".", "get", "material", "(", "<KEEP_END>", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", ".", "to", "upper", "case", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> arg <REPLACE_NEW> value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "material", "<KEEP>", "as", "<KEEP>", "material", "<KEEP>", "from", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "material", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "material", "<KEEP>", "(", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "upper", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "kevinsawicki_http-request-12-3155", "old_comment": "url with query params", "old_comment_tokens": ["url", "with", "query", "params"], "new_comment": "url with appended query params", "new_comment_tokens": ["url", "with", "appended", "query", "params"], "old_code": "@ suppress warnings ( str ) public static string append ( string url , final map < string , ? > params ) { if ( params = = null | | params . is empty ( ) ) return url ; string builder result = new string builder ( ) ; if ( ! url . ends with ( str ) ) url + = str ; entry < string , ? > entry ; object value ; iterator < ? > iterator = params . entry set ( ) . iterator ( ) ; entry = ( entry < string , ? > ) iterator . next ( ) ; result . append ( entry . get key ( ) ) ; result . append ( str ) ; value = entry . get value ( ) ; if ( value ! = null ) result . append ( value ) ; while ( iterator . has next ( ) ) { result . append ( str ) ; entry = ( entry < string , ? > ) iterator . next ( ) ; result . append ( entry . get key ( ) ) ; result . append ( str ) ; value = entry . get value ( ) ; if ( value ! = null ) result . append ( value ) ; } return url + str + result . to string ( ) ; }", "old_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "static", "string", "append", "(", "string", "url", ",", "final", "map", "<", "string", ",", "?", ">", "params", ")", "{", "if", "(", "params", "=", "=", "null", "|", "|", "params", ".", "is", "empty", "(", ")", ")", "return", "url", ";", "string", "builder", "result", "=", "new", "string", "builder", "(", ")", ";", "if", "(", "!", "url", ".", "ends", "with", "(", "str", ")", ")", "url", "+", "=", "str", ";", "entry", "<", "string", ",", "?", ">", "entry", ";", "object", "value", ";", "iterator", "<", "?", ">", "iterator", "=", "params", ".", "entry", "set", "(", ")", ".", "iterator", "(", ")", ";", "entry", "=", "(", "entry", "<", "string", ",", "?", ">", ")", "iterator", ".", "next", "(", ")", ";", "result", ".", "append", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "result", ".", "append", "(", "str", ")", ";", "value", "=", "entry", ".", "get", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "result", ".", "append", "(", "value", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "result", ".", "append", "(", "str", ")", ";", "entry", "=", "(", "entry", "<", "string", ",", "?", ">", ")", "iterator", ".", "next", "(", ")", ";", "result", ".", "append", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "result", ".", "append", "(", "str", ")", ";", "value", "=", "entry", ".", "get", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "result", ".", "append", "(", "value", ")", ";", "}", "return", "url", "+", "str", "+", "result", ".", "to", "string", "(", ")", ";", "}"], "new_code": "@ suppress warnings ( str ) public static string append ( final string url , final map < string , ? > params ) { if ( params = = null | | params . is empty ( ) ) return url ; final string builder result = new string builder ( url ) ; int first colon = url . index of ( str ) ; int last slash = url . last index of ( str ) ; if ( first colon + num = = last slash ) result . append ( str ) ; result . append ( str ) ; entry < string , ? > entry ; object value ; iterator < ? > iterator = params . entry set ( ) . iterator ( ) ; entry = ( entry < string , ? > ) iterator . next ( ) ; result . append ( entry . get key ( ) ) ; result . append ( str ) ; value = entry . get value ( ) ; if ( value ! = null ) result . append ( value ) ; while ( iterator . has next ( ) ) { result . append ( str ) ; entry = ( entry < string , ? > ) iterator . next ( ) ; result . append ( entry . get key ( ) ) ; result . append ( str ) ; value = entry . get value ( ) ; if ( value ! = null ) result . append ( value ) ; } return result . to string ( ) ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "static", "string", "append", "(", "final", "string", "url", ",", "final", "map", "<", "string", ",", "?", ">", "params", ")", "{", "if", "(", "params", "=", "=", "null", "|", "|", "params", ".", "is", "empty", "(", ")", ")", "return", "url", ";", "final", "string", "builder", "result", "=", "new", "string", "builder", "(", "url", ")", ";", "int", "first", "colon", "=", "url", ".", "index", "of", "(", "str", ")", ";", "int", "last", "slash", "=", "url", ".", "last", "index", "of", "(", "str", ")", ";", "if", "(", "first", "colon", "+", "num", "=", "=", "last", "slash", ")", "result", ".", "append", "(", "str", ")", ";", "result", ".", "append", "(", "str", ")", ";", "entry", "<", "string", ",", "?", ">", "entry", ";", "object", "value", ";", "iterator", "<", "?", ">", "iterator", "=", "params", ".", "entry", "set", "(", ")", ".", "iterator", "(", ")", ";", "entry", "=", "(", "entry", "<", "string", ",", "?", ">", ")", "iterator", ".", "next", "(", ")", ";", "result", ".", "append", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "result", ".", "append", "(", "str", ")", ";", "value", "=", "entry", ".", "get", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "result", ".", "append", "(", "value", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "result", ".", "append", "(", "str", ")", ";", "entry", "=", "(", "entry", "<", "string", ",", "?", ">", ")", "iterator", ".", "next", "(", ")", ";", "result", ".", "append", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "result", ".", "append", "(", "str", ")", ";", "value", "=", "entry", ".", "get", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "result", ".", "append", "(", "value", ")", ";", "}", "return", "result", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ suppress warnings ( str ) public static string append ( <KEEP_END> <INSERT> final <INSERT_END> <KEEP> string url , final map < string , ? > params ) { if ( params = = null | | params . is empty ( ) ) return url ; <KEEP_END> <INSERT> final <INSERT_END> <KEEP> string builder result = new string builder ( <KEEP_END> <REPLACE_OLD> ) ; if ( ! url . ends with ( str ) ) url <REPLACE_NEW> url ) ; int first colon = url . index of ( str ) ; int last slash = url . last index of ( str ) ; if ( first colon <REPLACE_END> <KEEP> + <KEEP_END> <REPLACE_OLD> = str <REPLACE_NEW> num = = last slash ) result . append ( str ) ; result . append ( str ) <REPLACE_END> <KEEP> ; entry < string , ? > entry ; object value ; iterator < ? > iterator = params . entry set ( ) . iterator ( ) ; entry = ( entry < string , ? > ) iterator . next ( ) ; result . append ( entry . get key ( ) ) ; result . append ( str ) ; value = entry . get value ( ) ; if ( value ! = null ) result . append ( value ) ; while ( iterator . has next ( ) ) { result . append ( str ) ; entry = ( entry < string , ? > ) iterator . next ( ) ; result . append ( entry . get key ( ) ) ; result . append ( str ) ; value = entry . get value ( ) ; if ( value ! = null ) result . append ( value ) ; } return <KEEP_END> <DELETE> url + str + <DELETE_END> <KEEP> result . to string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "suppress", "warnings", "(", "str", ")", "public", "static", "string", "append", "(", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "string", "url", ",", "final", "map", "<", "string", ",", "?", ">", "params", ")", "{", "if", "(", "params", "=", "=", "null", "|", "|", "params", ".", "is", "empty", "(", ")", ")", "return", "url", ";", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "string", "builder", "result", "=", "new", "string", "builder", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "if", "(", "!", "url", ".", "ends", "with", "(", "str", ")", ")", "url", "<REPLACE_NEW>", "url", ")", ";", "int", "first", "colon", "=", "url", ".", "index", "of", "(", "str", ")", ";", "int", "last", "slash", "=", "url", ".", "last", "index", "of", "(", "str", ")", ";", "if", "(", "first", "colon", "<REPLACE_END>", "<KEEP>", "+", "<KEEP_END>", "<REPLACE_OLD>", "=", "str", "<REPLACE_NEW>", "num", "=", "=", "last", "slash", ")", "result", ".", "append", "(", "str", ")", ";", "result", ".", "append", "(", "str", ")", "<REPLACE_END>", "<KEEP>", ";", "entry", "<", "string", ",", "?", ">", "entry", ";", "object", "value", ";", "iterator", "<", "?", ">", "iterator", "=", "params", ".", "entry", "set", "(", ")", ".", "iterator", "(", ")", ";", "entry", "=", "(", "entry", "<", "string", ",", "?", ">", ")", "iterator", ".", "next", "(", ")", ";", "result", ".", "append", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "result", ".", "append", "(", "str", ")", ";", "value", "=", "entry", ".", "get", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "result", ".", "append", "(", "value", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "result", ".", "append", "(", "str", ")", ";", "entry", "=", "(", "entry", "<", "string", ",", "?", ">", ")", "iterator", ".", "next", "(", ")", ";", "result", ".", "append", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "result", ".", "append", "(", "str", ")", ";", "value", "=", "entry", ".", "get", "value", "(", ")", ";", "if", "(", "value", "!", "=", "null", ")", "result", ".", "append", "(", "value", ")", ";", "}", "return", "<KEEP_END>", "<DELETE>", "url", "+", "str", "+", "<DELETE_END>", "<KEEP>", "result", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> with <INSERT_NEW_KEEP_BEFORE> with appended <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "with", "<INSERT_NEW_KEEP_BEFORE>", "with", "appended", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "suppress", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "append", "<KEEP>", "(", "<INSERT>", "final", "<KEEP>", "string", "<KEEP>", "url", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "params", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "params", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "url", "<KEEP>", ";", "<INSERT>", "final", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "builder", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "ends", "<REPLACE_OLD>", "with", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "first", "<REPLACE_NEW>", "colon", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "slash", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "first", "<REPLACE_NEW>", "colon", "<KEEP>", "+", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "last", "<REPLACE_NEW>", "slash", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "append", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "append", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "entry", "<KEEP>", ";", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "params", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "entry", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ")", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "url", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_jdk8u_jaxp-51-6325", "old_comment": "a vector containing all compile error messages", "old_comment_tokens": ["a", "vector", "containing", "all", "compile", "error", "messages"], "new_comment": "a list containing all compile error messages", "new_comment_tokens": ["a", "list", "containing", "all", "compile", "error", "messages"], "old_code": "public vector get warnings ( ) { return _ parser . get warnings ( ) ; }", "old_code_tokens": ["public", "vector", "get", "warnings", "(", ")", "{", "return", "_", "parser", ".", "get", "warnings", "(", ")", ";", "}"], "new_code": "public array list < error msg > get warnings ( ) { return _ parser . get warnings ( ) ; }", "new_code_tokens": ["public", "array", "list", "<", "error", "msg", ">", "get", "warnings", "(", ")", "{", "return", "_", "parser", ".", "get", "warnings", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> array list < error msg > <REPLACE_END> <KEEP> get warnings ( ) { return _ parser . get warnings ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "list", "<", "error", "msg", ">", "<REPLACE_END>", "<KEEP>", "get", "warnings", "(", ")", "{", "return", "_", "parser", ".", "get", "warnings", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "msg", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "parser", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "warnings", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rap-20-5635", "old_comment": "the id", "old_comment_tokens": ["the", "id"], "new_comment": "the id for the given widget", "new_comment_tokens": ["the", "id", "for", "the", "given", "widget"], "old_code": "public static string get id ( final widget widget ) { return get adapter ( widget ) . get id ( ) ; }", "old_code_tokens": ["public", "static", "string", "get", "id", "(", "final", "widget", "widget", ")", "{", "return", "get", "adapter", "(", "widget", ")", ".", "get", "id", "(", ")", ";", "}"], "new_code": "public static string get id ( final widget widget ) { string result = ( string ) widget . get data ( custom _ widget _ id ) ; if ( result = = null ) { result = get adapter ( widget ) . get id ( ) ; } return result ; }", "new_code_tokens": ["public", "static", "string", "get", "id", "(", "final", "widget", "widget", ")", "{", "string", "result", "=", "(", "string", ")", "widget", ".", "get", "data", "(", "custom", "_", "widget", "_", "id", ")", ";", "if", "(", "result", "=", "=", "null", ")", "{", "result", "=", "get", "adapter", "(", "widget", ")", ".", "get", "id", "(", ")", ";", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public static string get id ( final widget widget ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> string result = ( string ) widget . get data ( custom _ widget _ id ) ; if ( result = = null ) { result = <REPLACE_END> <KEEP> get adapter ( widget ) . get id ( ) ; } <KEEP_END> <INSERT> return result ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "id", "(", "final", "widget", "widget", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "result", "=", "(", "string", ")", "widget", ".", "get", "data", "(", "custom", "_", "widget", "_", "id", ")", ";", "if", "(", "result", "=", "=", "null", ")", "{", "result", "=", "<REPLACE_END>", "<KEEP>", "get", "adapter", "(", "widget", ")", ".", "get", "id", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "result", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> id <INSERT_NEW_KEEP_BEFORE> id for the given widget <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "id", "<INSERT_NEW_KEEP_BEFORE>", "id", "for", "the", "given", "widget", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "widget", "<KEEP>", "widget", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "widget", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "custom", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "widget", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<KEEP>", "get", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", "widget", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "result", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "Graylog2_graylog2-server-25-3681", "old_comment": "the primary java . net . inet address of the primary network interface or the loopback address as fallback .", "old_comment_tokens": ["the", "primary", "java", ".", "net", ".", "inet", "address", "of", "the", "primary", "network", "interface", "or", "the", "loopback", "address", "as", "fallback", "."], "new_comment": "the primary inet address of the primary network interface or the loopback address as fallback .", "new_comment_tokens": ["the", "primary", "inet", "address", "of", "the", "primary", "network", "interface", "or", "the", "loopback", "address", "as", "fallback", "."], "old_code": "public static inet address guess primary network address ( ) throws socket exception { final enumeration < network interface > interfaces = network interface . get network interfaces ( ) ; if ( interfaces ! = null ) { for ( network interface interf : collections . list ( interfaces ) ) { if ( ! interf . is loopback ( ) & & interf . is up ( ) ) { for ( inet address addr : collections . list ( interf . get inet addresses ( ) ) ) { if ( addr instanceof inet4 address ) { return addr ; } } } } } return inet address . get loopback address ( ) ; }", "old_code_tokens": ["public", "static", "inet", "address", "guess", "primary", "network", "address", "(", ")", "throws", "socket", "exception", "{", "final", "enumeration", "<", "network", "interface", ">", "interfaces", "=", "network", "interface", ".", "get", "network", "interfaces", "(", ")", ";", "if", "(", "interfaces", "!", "=", "null", ")", "{", "for", "(", "network", "interface", "interf", ":", "collections", ".", "list", "(", "interfaces", ")", ")", "{", "if", "(", "!", "interf", ".", "is", "loopback", "(", ")", "&", "&", "interf", ".", "is", "up", "(", ")", ")", "{", "for", "(", "inet", "address", "addr", ":", "collections", ".", "list", "(", "interf", ".", "get", "inet", "addresses", "(", ")", ")", ")", "{", "if", "(", "addr", "instanceof", "inet4", "address", ")", "{", "return", "addr", ";", "}", "}", "}", "}", "}", "return", "inet", "address", ".", "get", "loopback", "address", "(", ")", ";", "}"], "new_code": "public static inet address guess primary network address ( boolean prefer ipv4 ) throws socket exception { final enumeration < network interface > interfaces = network interface . get network interfaces ( ) ; if ( interfaces ! = null ) { for ( network interface interf : collections . list ( interfaces ) ) { if ( ! interf . is loopback ( ) & & interf . is up ( ) ) { for ( inet address addr : collections . list ( interf . get inet addresses ( ) ) ) { if ( prefer ipv4 & & addr instanceof inet4 address ) { return addr ; } if ( ! prefer ipv4 & & addr instanceof inet6 address ) { return addr ; } } } } } return inet address . get loopback address ( ) ; }", "new_code_tokens": ["public", "static", "inet", "address", "guess", "primary", "network", "address", "(", "boolean", "prefer", "ipv4", ")", "throws", "socket", "exception", "{", "final", "enumeration", "<", "network", "interface", ">", "interfaces", "=", "network", "interface", ".", "get", "network", "interfaces", "(", ")", ";", "if", "(", "interfaces", "!", "=", "null", ")", "{", "for", "(", "network", "interface", "interf", ":", "collections", ".", "list", "(", "interfaces", ")", ")", "{", "if", "(", "!", "interf", ".", "is", "loopback", "(", ")", "&", "&", "interf", ".", "is", "up", "(", ")", ")", "{", "for", "(", "inet", "address", "addr", ":", "collections", ".", "list", "(", "interf", ".", "get", "inet", "addresses", "(", ")", ")", ")", "{", "if", "(", "prefer", "ipv4", "&", "&", "addr", "instanceof", "inet4", "address", ")", "{", "return", "addr", ";", "}", "if", "(", "!", "prefer", "ipv4", "&", "&", "addr", "instanceof", "inet6", "address", ")", "{", "return", "addr", ";", "}", "}", "}", "}", "}", "return", "inet", "address", ".", "get", "loopback", "address", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static inet address guess primary network address ( <KEEP_END> <INSERT> boolean prefer ipv4 <INSERT_END> <KEEP> ) throws socket exception { final enumeration < network interface > interfaces = network interface . get network interfaces ( ) ; if ( interfaces ! = null ) { for ( network interface interf : collections . list ( interfaces ) ) { if ( ! interf . is loopback ( ) & & interf . is up ( ) ) { for ( inet address addr : collections . list ( interf . get inet addresses ( ) ) ) { if ( <KEEP_END> <INSERT> prefer ipv4 & & <INSERT_END> <KEEP> addr instanceof inet4 <KEEP_END> <INSERT> address ) { return addr ; } if ( ! prefer ipv4 & & addr instanceof inet6 <INSERT_END> <KEEP> address ) { return addr ; } } } } } return inet address . get loopback address ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "inet", "address", "guess", "primary", "network", "address", "(", "<KEEP_END>", "<INSERT>", "boolean", "prefer", "ipv4", "<INSERT_END>", "<KEEP>", ")", "throws", "socket", "exception", "{", "final", "enumeration", "<", "network", "interface", ">", "interfaces", "=", "network", "interface", ".", "get", "network", "interfaces", "(", ")", ";", "if", "(", "interfaces", "!", "=", "null", ")", "{", "for", "(", "network", "interface", "interf", ":", "collections", ".", "list", "(", "interfaces", ")", ")", "{", "if", "(", "!", "interf", ".", "is", "loopback", "(", ")", "&", "&", "interf", ".", "is", "up", "(", ")", ")", "{", "for", "(", "inet", "address", "addr", ":", "collections", ".", "list", "(", "interf", ".", "get", "inet", "addresses", "(", ")", ")", ")", "{", "if", "(", "<KEEP_END>", "<INSERT>", "prefer", "ipv4", "&", "&", "<INSERT_END>", "<KEEP>", "addr", "instanceof", "inet4", "<KEEP_END>", "<INSERT>", "address", ")", "{", "return", "addr", ";", "}", "if", "(", "!", "prefer", "ipv4", "&", "&", "addr", "instanceof", "inet6", "<INSERT_END>", "<KEEP>", "address", ")", "{", "return", "addr", ";", "}", "}", "}", "}", "}", "return", "inet", "address", ".", "get", "loopback", "address", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> java . net . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "java", ".", "net", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "inet", "<KEEP>", "address", "<KEEP>", "guess", "<KEEP>", "primary", "<KEEP>", "network", "<KEEP>", "address", "<KEEP>", "(", "<INSERT>", "boolean", "<INSERT>", "prefer", "<INSERT>", "ipv4", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "socket", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "enumeration", "<KEEP>", "<", "<KEEP>", "network", "<KEEP>", "interface", "<KEEP>", ">", "<KEEP>", "interfaces", "<KEEP>", "=", "<KEEP>", "network", "<KEEP>", "interface", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "network", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "interfaces", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "interface", "<KEEP>", "interf", "<KEEP>", ":", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "interfaces", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "interf", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "loopback", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "interf", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "up", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "inet", "<KEEP>", "address", "<KEEP>", "addr", "<KEEP>", ":", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "interf", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inet", "<KEEP>", "addresses", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "prefer", "<INSERT>", "ipv4", "<INSERT>", "&", "<INSERT>", "&", "<KEEP>", "addr", "<KEEP>", "instanceof", "<KEEP>", "inet4", "<INSERT>", "address", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "addr", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "prefer", "<INSERT>", "ipv4", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "addr", "<INSERT>", "instanceof", "<INSERT>", "inet6", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "addr", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "inet", "<KEEP>", "address", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "loopback", "<KEEP>", "address", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_android-rcs-ims-stack-103-4658", "old_comment": "true if contact is associated to a rcs raw contact , else false", "old_comment_tokens": ["true", "if", "contact", "is", "associated", "to", "a", "rcs", "raw", "contact", ",", "else", "false"], "new_comment": "true if contact has an entry in the rich address book provider , else false", "new_comment_tokens": ["true", "if", "contact", "has", "an", "entry", "in", "the", "rich", "address", "book", "provider", ",", "else", "false"], "old_code": "public boolean is rcs associated ( final string phone number ) { return ! get rcs raw contact id from phone number ( phone number ) . is empty ( ) ; }", "old_code_tokens": ["public", "boolean", "is", "rcs", "associated", "(", "final", "string", "phone", "number", ")", "{", "return", "!", "get", "rcs", "raw", "contact", "id", "from", "phone", "number", "(", "phone", "number", ")", ".", "is", "empty", "(", ")", ";", "}"], "new_code": "public boolean is rcs associated ( final string phone number ) { boolean result = false ; cursor cur = ctx . get content resolver ( ) . query ( rich address book data . content _ uri , new string [ ] { rich address book data . key _ contact _ number } , rich address book data . key _ contact _ number + str , new string [ ] { phone number } , null ) ; if ( cur ! = null ) { if ( cur . move to first ( ) ) { result = true ; } cur . close ( ) ; } else { result = false ; } return result ; }", "new_code_tokens": ["public", "boolean", "is", "rcs", "associated", "(", "final", "string", "phone", "number", ")", "{", "boolean", "result", "=", "false", ";", "cursor", "cur", "=", "ctx", ".", "get", "content", "resolver", "(", ")", ".", "query", "(", "rich", "address", "book", "data", ".", "content", "_", "uri", ",", "new", "string", "[", "]", "{", "rich", "address", "book", "data", ".", "key", "_", "contact", "_", "number", "}", ",", "rich", "address", "book", "data", ".", "key", "_", "contact", "_", "number", "+", "str", ",", "new", "string", "[", "]", "{", "phone", "number", "}", ",", "null", ")", ";", "if", "(", "cur", "!", "=", "null", ")", "{", "if", "(", "cur", ".", "move", "to", "first", "(", ")", ")", "{", "result", "=", "true", ";", "}", "cur", ".", "close", "(", ")", ";", "}", "else", "{", "result", "=", "false", ";", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public boolean is rcs associated ( final string phone number ) { <KEEP_END> <REPLACE_OLD> return ! <REPLACE_NEW> boolean result = false ; cursor cur = ctx . <REPLACE_END> <KEEP> get <KEEP_END> <REPLACE_OLD> rcs raw <REPLACE_NEW> content resolver ( ) . query ( rich address book data . content _ uri , new string [ ] { rich address book data . key _ <REPLACE_END> <KEEP> contact <KEEP_END> <REPLACE_OLD> id from <REPLACE_NEW> _ number } , rich address book data . key _ contact _ number + str , new string [ ] { <REPLACE_END> <KEEP> phone number <KEEP_END> <INSERT> } , null ) ; if <INSERT_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> phone number <REPLACE_NEW> cur ! = null <REPLACE_END> <KEEP> ) <KEEP_END> <INSERT> { if ( cur <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> is empty <REPLACE_NEW> move to first ( ) ) { result = true ; } cur . close <REPLACE_END> <KEEP> ( ) ; } <KEEP_END> <INSERT> else { result = false ; } return result ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "rcs", "associated", "(", "final", "string", "phone", "number", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "!", "<REPLACE_NEW>", "boolean", "result", "=", "false", ";", "cursor", "cur", "=", "ctx", ".", "<REPLACE_END>", "<KEEP>", "get", "<KEEP_END>", "<REPLACE_OLD>", "rcs", "raw", "<REPLACE_NEW>", "content", "resolver", "(", ")", ".", "query", "(", "rich", "address", "book", "data", ".", "content", "_", "uri", ",", "new", "string", "[", "]", "{", "rich", "address", "book", "data", ".", "key", "_", "<REPLACE_END>", "<KEEP>", "contact", "<KEEP_END>", "<REPLACE_OLD>", "id", "from", "<REPLACE_NEW>", "_", "number", "}", ",", "rich", "address", "book", "data", ".", "key", "_", "contact", "_", "number", "+", "str", ",", "new", "string", "[", "]", "{", "<REPLACE_END>", "<KEEP>", "phone", "number", "<KEEP_END>", "<INSERT>", "}", ",", "null", ")", ";", "if", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "phone", "number", "<REPLACE_NEW>", "cur", "!", "=", "null", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", "{", "if", "(", "cur", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "is", "empty", "<REPLACE_NEW>", "move", "to", "first", "(", ")", ")", "{", "result", "=", "true", ";", "}", "cur", ".", "close", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "else", "{", "result", "=", "false", ";", "}", "return", "result", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> is associated to a rcs raw contact <REPLACE_NEW> has an entry in the rich address book provider <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "is", "associated", "to", "a", "rcs", "raw", "contact", "<REPLACE_NEW>", "has", "an", "entry", "in", "the", "rich", "address", "book", "provider", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "rcs", "<KEEP>", "associated", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "phone", "<KEEP>", "number", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "cursor", "<REPLACE_NEW>", "cur", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "ctx", "<REPLACE_NEW>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "rcs", "<REPLACE_OLD>", "raw", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "resolver", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "query", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "rich", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "book", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "uri", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "rich", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "book", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "_", "<KEEP>", "contact", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "from", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "number", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "rich", "<REPLACE_NEW>", "address", "<REPLACE_NEW>", "book", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "contact", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "number", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "{", "<KEEP>", "phone", "<KEEP>", "number", "<INSERT>", "}", "<INSERT>", ",", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "phone", "<REPLACE_OLD>", "number", "<REPLACE_NEW>", "cur", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "cur", "<KEEP>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_NEW>", "move", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "first", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "cur", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "result", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "result", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_dna-1-4439", "old_comment": "an array of classes for all the services", "old_comment_tokens": ["an", "array", "of", "classes", "for", "all", "the", "services"], "new_comment": "an array of classes for all the value", "new_comment_tokens": ["an", "array", "of", "classes", "for", "all", "the", "value"], "old_code": "class [ ] get service classes ( final class type , final list issues ) { final list services = new array list ( ) ; final class loader class loader = type . get class loader ( ) ; final attribute [ ] attributes = attributes . get attributes ( type , str ) ; for ( int i = num ; i < attributes . length ; i + + ) { final string classname = attributes [ i ] . get parameter ( str ) ; try { final class clazz = class loader . load class ( classname ) ; services . add ( clazz ) ; } catch ( final throwable t ) { final object [ ] args = new object [ ] { classname , t } ; final string message = get message ( str , args ) ; final verify issue issue = new verify issue ( verify issue . error , message ) ; issues . add ( issue ) ; } } return ( class [ ] ) services . to array ( new class [ services . size ( ) ] ) ; }", "old_code_tokens": ["class", "[", "]", "get", "service", "classes", "(", "final", "class", "type", ",", "final", "list", "issues", ")", "{", "final", "list", "services", "=", "new", "array", "list", "(", ")", ";", "final", "class", "loader", "class", "loader", "=", "type", ".", "get", "class", "loader", "(", ")", ";", "final", "attribute", "[", "]", "attributes", "=", "attributes", ".", "get", "attributes", "(", "type", ",", "str", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "attributes", ".", "length", ";", "i", "+", "+", ")", "{", "final", "string", "classname", "=", "attributes", "[", "i", "]", ".", "get", "parameter", "(", "str", ")", ";", "try", "{", "final", "class", "clazz", "=", "class", "loader", ".", "load", "class", "(", "classname", ")", ";", "services", ".", "add", "(", "clazz", ")", ";", "}", "catch", "(", "final", "throwable", "t", ")", "{", "final", "object", "[", "]", "args", "=", "new", "object", "[", "]", "{", "classname", ",", "t", "}", ";", "final", "string", "message", "=", "get", "message", "(", "str", ",", "args", ")", ";", "final", "verify", "issue", "issue", "=", "new", "verify", "issue", "(", "verify", "issue", ".", "error", ",", "message", ")", ";", "issues", ".", "add", "(", "issue", ")", ";", "}", "}", "return", "(", "class", "[", "]", ")", "services", ".", "to", "array", "(", "new", "class", "[", "services", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "class [ ] get service classes ( final class type , final list issues ) { final service descriptor set set = ( service descriptor set ) type . get annotation ( service descriptor set . class ) ; if ( null ! = set ) { final service descriptor [ ] descriptors = set . value ( ) ; final class [ ] services = new class [ descriptors . length ] ; for ( int i = num ; i < descriptors . length ; i + + ) { service descriptor descriptor = descriptors [ i ] ; services [ i ] = descriptor . type ( ) ; } return services ; } else { return new class [ num ] ; } }", "new_code_tokens": ["class", "[", "]", "get", "service", "classes", "(", "final", "class", "type", ",", "final", "list", "issues", ")", "{", "final", "service", "descriptor", "set", "set", "=", "(", "service", "descriptor", "set", ")", "type", ".", "get", "annotation", "(", "service", "descriptor", "set", ".", "class", ")", ";", "if", "(", "null", "!", "=", "set", ")", "{", "final", "service", "descriptor", "[", "]", "descriptors", "=", "set", ".", "value", "(", ")", ";", "final", "class", "[", "]", "services", "=", "new", "class", "[", "descriptors", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "descriptors", ".", "length", ";", "i", "+", "+", ")", "{", "service", "descriptor", "descriptor", "=", "descriptors", "[", "i", "]", ";", "services", "[", "i", "]", "=", "descriptor", ".", "type", "(", ")", ";", "}", "return", "services", ";", "}", "else", "{", "return", "new", "class", "[", "num", "]", ";", "}", "}"], "span_diff_code": "<KEEP> class [ ] get service classes ( final class type , final list issues ) { final <KEEP_END> <REPLACE_OLD> list services <REPLACE_NEW> service descriptor set set <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> new array list <REPLACE_NEW> ( service descriptor set ) type . get annotation ( service descriptor set . class ) ; if ( null ! = set ) { final service descriptor [ ] descriptors = set . value <REPLACE_END> <KEEP> ( ) ; final class <KEEP_END> <DELETE> loader class loader = type . get class loader ( ) ; final attribute <DELETE_END> <KEEP> [ ] <KEEP_END> <REPLACE_OLD> attributes <REPLACE_NEW> services <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> attributes <REPLACE_NEW> new class [ descriptors <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get attributes ( type , str ) <REPLACE_NEW> length ] <REPLACE_END> <KEEP> ; for ( int i = num ; i < <KEEP_END> <REPLACE_OLD> attributes <REPLACE_NEW> descriptors <REPLACE_END> <KEEP> . length ; i + + ) { <KEEP_END> <REPLACE_OLD> final string classname <REPLACE_NEW> service descriptor descriptor <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> attributes <REPLACE_NEW> descriptors <REPLACE_END> <KEEP> [ i ] <KEEP_END> <DELETE> . get parameter ( str ) ; try { final class clazz = class loader . load class ( classname ) <DELETE_END> <KEEP> ; services <KEEP_END> <INSERT> [ i ] = descriptor <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> add <REPLACE_NEW> type <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> clazz <DELETE_END> <KEEP> ) ; } <KEEP_END> <REPLACE_OLD> catch ( final throwable t ) <REPLACE_NEW> return services ; } else <REPLACE_END> <KEEP> { <KEEP_END> <REPLACE_OLD> final object <REPLACE_NEW> return new class <REPLACE_END> <KEEP> [ <KEEP_END> <INSERT> num <INSERT_END> <KEEP> ] <KEEP_END> <DELETE> args = new object [ ] { classname , t } ; final string message = get message ( str , args ) ; final verify issue issue = new verify issue ( verify issue . error , message ) ; issues . add ( issue ) <DELETE_END> <KEEP> ; } } <KEEP_END> <DELETE> return ( class [ ] ) services . to array ( new class [ services . size ( ) ] ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "class", "[", "]", "get", "service", "classes", "(", "final", "class", "type", ",", "final", "list", "issues", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "list", "services", "<REPLACE_NEW>", "service", "descriptor", "set", "set", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "array", "list", "<REPLACE_NEW>", "(", "service", "descriptor", "set", ")", "type", ".", "get", "annotation", "(", "service", "descriptor", "set", ".", "class", ")", ";", "if", "(", "null", "!", "=", "set", ")", "{", "final", "service", "descriptor", "[", "]", "descriptors", "=", "set", ".", "value", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "final", "class", "<KEEP_END>", "<DELETE>", "loader", "class", "loader", "=", "type", ".", "get", "class", "loader", "(", ")", ";", "final", "attribute", "<DELETE_END>", "<KEEP>", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "services", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "new", "class", "[", "descriptors", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "attributes", "(", "type", ",", "str", ")", "<REPLACE_NEW>", "length", "]", "<REPLACE_END>", "<KEEP>", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "<KEEP_END>", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "descriptors", "<REPLACE_END>", "<KEEP>", ".", "length", ";", "i", "+", "+", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "final", "string", "classname", "<REPLACE_NEW>", "service", "descriptor", "descriptor", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "descriptors", "<REPLACE_END>", "<KEEP>", "[", "i", "]", "<KEEP_END>", "<DELETE>", ".", "get", "parameter", "(", "str", ")", ";", "try", "{", "final", "class", "clazz", "=", "class", "loader", ".", "load", "class", "(", "classname", ")", "<DELETE_END>", "<KEEP>", ";", "services", "<KEEP_END>", "<INSERT>", "[", "i", "]", "=", "descriptor", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "add", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "clazz", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "catch", "(", "final", "throwable", "t", ")", "<REPLACE_NEW>", "return", "services", ";", "}", "else", "<REPLACE_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "final", "object", "<REPLACE_NEW>", "return", "new", "class", "<REPLACE_END>", "<KEEP>", "[", "<KEEP_END>", "<INSERT>", "num", "<INSERT_END>", "<KEEP>", "]", "<KEEP_END>", "<DELETE>", "args", "=", "new", "object", "[", "]", "{", "classname", ",", "t", "}", ";", "final", "string", "message", "=", "get", "message", "(", "str", ",", "args", ")", ";", "final", "verify", "issue", "issue", "=", "new", "verify", "issue", "(", "verify", "issue", ".", "error", ",", "message", ")", ";", "issues", ".", "add", "(", "issue", ")", "<DELETE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>", "<DELETE>", "return", "(", "class", "[", "]", ")", "services", ".", "to", "array", "(", "new", "class", "[", "services", ".", "size", "(", ")", "]", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> services <REPLACE_NEW> value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "services", "<REPLACE_NEW>", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "class", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "classes", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "class", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "issues", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "services", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "descriptor", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "set", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "descriptor", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "annotation", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "descriptor", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "descriptor", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "descriptors", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "class", "<DELETE>", "loader", "<DELETE>", "class", "<DELETE>", "loader", "<DELETE>", "=", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "class", "<DELETE>", "loader", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "attribute", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "services", "<KEEP>", "=", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "descriptors", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "]", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "descriptors", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "classname", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", "descriptor", "<REPLACE_NEW>", "descriptor", "<KEEP>", "=", "<REPLACE_OLD>", "attributes", "<REPLACE_NEW>", "descriptors", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parameter", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "final", "<DELETE>", "class", "<DELETE>", "clazz", "<DELETE>", "=", "<DELETE>", "class", "<DELETE>", "loader", "<DELETE>", ".", "<DELETE>", "load", "<DELETE>", "class", "<DELETE>", "(", "<DELETE>", "classname", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "services", "<INSERT>", "[", "<INSERT>", "i", "<INSERT>", "]", "<INSERT>", "=", "<INSERT>", "descriptor", "<KEEP>", ".", "<REPLACE_OLD>", "add", "<REPLACE_NEW>", "type", "<KEEP>", "(", "<DELETE>", "clazz", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "throwable", "<REPLACE_OLD>", "t", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "services", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "object", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "class", "<KEEP>", "[", "<INSERT>", "num", "<KEEP>", "]", "<DELETE>", "args", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "object", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "{", "<DELETE>", "classname", "<DELETE>", ",", "<DELETE>", "t", "<DELETE>", "}", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "string", "<DELETE>", "message", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "message", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "args", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "verify", "<DELETE>", "issue", "<DELETE>", "issue", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "verify", "<DELETE>", "issue", "<DELETE>", "(", "<DELETE>", "verify", "<DELETE>", "issue", "<DELETE>", ".", "<DELETE>", "error", "<DELETE>", ",", "<DELETE>", "message", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "issues", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "(", "<DELETE>", "issue", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "(", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", ")", "<DELETE>", "services", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "services", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "]", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-31-5911", "old_comment": "cache _ mode the type", "old_comment_tokens": ["cache", "_", "mode", "the", "type"], "new_comment": "cache mode the type", "new_comment_tokens": ["cache", "mode", "the", "type"], "old_code": "public static cache _ mode get by id ( int id ) throws fx not found exception { for ( cache _ mode mode : cache _ mode . values ( ) ) { if ( mode . id = = id ) return mode ; } throw new fx not found exception ( str , id ) ; }", "old_code_tokens": ["public", "static", "cache", "_", "mode", "get", "by", "id", "(", "int", "id", ")", "throws", "fx", "not", "found", "exception", "{", "for", "(", "cache", "_", "mode", "mode", ":", "cache", "_", "mode", ".", "values", "(", ")", ")", "{", "if", "(", "mode", ".", "id", "=", "=", "id", ")", "return", "mode", ";", "}", "throw", "new", "fx", "not", "found", "exception", "(", "str", ",", "id", ")", ";", "}"], "new_code": "public static cache mode get by id ( int id ) throws fx not found exception { for ( cache mode mode : cache mode . values ( ) ) { if ( mode . id = = id ) return mode ; } throw new fx not found exception ( str , id ) ; }", "new_code_tokens": ["public", "static", "cache", "mode", "get", "by", "id", "(", "int", "id", ")", "throws", "fx", "not", "found", "exception", "{", "for", "(", "cache", "mode", "mode", ":", "cache", "mode", ".", "values", "(", ")", ")", "{", "if", "(", "mode", ".", "id", "=", "=", "id", ")", "return", "mode", ";", "}", "throw", "new", "fx", "not", "found", "exception", "(", "str", ",", "id", ")", ";", "}"], "span_diff_code": "<KEEP> public static cache <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> mode get by id ( int id ) throws fx not found exception { for ( cache <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> mode mode : cache <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> mode . values ( ) ) { if ( mode . id = = id ) return mode ; } throw new fx not found exception ( str , id ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "cache", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "mode", "get", "by", "id", "(", "int", "id", ")", "throws", "fx", "not", "found", "exception", "{", "for", "(", "cache", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "mode", "mode", ":", "cache", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "mode", ".", "values", "(", ")", ")", "{", "if", "(", "mode", ".", "id", "=", "=", "id", ")", "return", "mode", ";", "}", "throw", "new", "fx", "not", "found", "exception", "(", "str", ",", "id", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> _ <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "_", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "cache", "<DELETE>", "_", "<KEEP>", "mode", "<KEEP>", "get", "<KEEP>", "by", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "fx", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "cache", "<DELETE>", "_", "<KEEP>", "mode", "<KEEP>", "mode", "<KEEP>", ":", "<KEEP>", "cache", "<DELETE>", "_", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "mode", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "fx", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "caillette_novelang-4-4495", "old_comment": "a value greater than 0 .", "old_comment_tokens": ["a", "value", "greater", "than", "0", "."], "new_comment": "an integer with a value greater than 0 , or null if undefined .", "new_comment_tokens": ["an", "integer", "with", "a", "value", "greater", "than", "0", ",", "or", "null", "if", "undefined", "."], "old_code": "public int get http daemon port ( ) { return port ; }", "old_code_tokens": ["public", "int", "get", "http", "daemon", "port", "(", ")", "{", "return", "port", ";", "}"], "new_code": "public integer get http daemon port ( ) { return port ; }", "new_code_tokens": ["public", "integer", "get", "http", "daemon", "port", "(", ")", "{", "return", "port", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> integer <REPLACE_END> <KEEP> get http daemon port ( ) { return port ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "integer", "<REPLACE_END>", "<KEEP>", "get", "http", "daemon", "port", "(", ")", "{", "return", "port", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> a <INSERT_NEW_KEEP_AFTER> an integer with a <INSERT_END> <INSERT_OLD_KEEP_BEFORE> 0 <INSERT_NEW_KEEP_BEFORE> 0 , or null if undefined <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "a", "<INSERT_NEW_KEEP_AFTER>", "an", "integer", "with", "a", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "0", "<INSERT_NEW_KEEP_BEFORE>", "0", ",", "or", "null", "if", "undefined", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "integer", "<KEEP>", "get", "<KEEP>", "http", "<KEEP>", "daemon", "<KEEP>", "port", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "port", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wdullaer_MaterialDateTimePicker-0-3259", "old_comment": "true if the specified year / month / day are within the range set by min date and max date . if one or either have not been set , they are considered as integer . min _ value and integer . max _ value .", "old_comment_tokens": ["true", "if", "the", "specified", "year", "/", "month", "/", "day", "are", "within", "the", "range", "set", "by", "min", "date", "and", "max", "date", ".", "if", "one", "or", "either", "have", "not", "been", "set", ",", "they", "are", "considered", "as", "integer", ".", "min", "_", "value", "and", "integer", ".", "max", "_", "value", "."], "new_comment": "true if the specified year / month / day are within the selectable days or the range set by min date and max date . if one or either have not been set , they are considered as integer . min _ value and integer . max _ value .", "new_comment_tokens": ["true", "if", "the", "specified", "year", "/", "month", "/", "day", "are", "within", "the", "selectable", "days", "or", "the", "range", "set", "by", "min", "date", "and", "max", "date", ".", "if", "one", "or", "either", "have", "not", "been", "set", ",", "they", "are", "considered", "as", "integer", ".", "min", "_", "value", "and", "integer", ".", "max", "_", "value", "."], "old_code": "protected boolean is out of range ( int year , int month , int day ) { if ( is before min ( year , month , day ) ) { return true ; } else if ( is after max ( year , month , day ) ) { return true ; } return false ; }", "old_code_tokens": ["protected", "boolean", "is", "out", "of", "range", "(", "int", "year", ",", "int", "month", ",", "int", "day", ")", "{", "if", "(", "is", "before", "min", "(", "year", ",", "month", ",", "day", ")", ")", "{", "return", "true", ";", "}", "else", "if", "(", "is", "after", "max", "(", "year", ",", "month", ",", "day", ")", ")", "{", "return", "true", ";", "}", "return", "false", ";", "}"], "new_code": "protected boolean is out of range ( int year , int month , int day ) { if ( m controller . get selectable days ( ) ! = null ) { return ! is selectable ( year , month , day ) ; } if ( is before min ( year , month , day ) ) { return true ; } else if ( is after max ( year , month , day ) ) { return true ; } return false ; }", "new_code_tokens": ["protected", "boolean", "is", "out", "of", "range", "(", "int", "year", ",", "int", "month", ",", "int", "day", ")", "{", "if", "(", "m", "controller", ".", "get", "selectable", "days", "(", ")", "!", "=", "null", ")", "{", "return", "!", "is", "selectable", "(", "year", ",", "month", ",", "day", ")", ";", "}", "if", "(", "is", "before", "min", "(", "year", ",", "month", ",", "day", ")", ")", "{", "return", "true", ";", "}", "else", "if", "(", "is", "after", "max", "(", "year", ",", "month", ",", "day", ")", ")", "{", "return", "true", ";", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> protected boolean is out of range ( int year , int month , int day ) { <KEEP_END> <INSERT> if ( m controller . get selectable days ( ) ! = null ) { return ! is selectable ( year , month , day ) ; } <INSERT_END> <KEEP> if ( is before min ( year , month , day ) ) { return true ; } else if ( is after max ( year , month , day ) ) { return true ; } return false ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "boolean", "is", "out", "of", "range", "(", "int", "year", ",", "int", "month", ",", "int", "day", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "m", "controller", ".", "get", "selectable", "days", "(", ")", "!", "=", "null", ")", "{", "return", "!", "is", "selectable", "(", "year", ",", "month", ",", "day", ")", ";", "}", "<INSERT_END>", "<KEEP>", "if", "(", "is", "before", "min", "(", "year", ",", "month", ",", "day", ")", ")", "{", "return", "true", ";", "}", "else", "if", "(", "is", "after", "max", "(", "year", ",", "month", ",", "day", ")", ")", "{", "return", "true", ";", "}", "return", "false", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> within <INSERT_NEW_KEEP_BEFORE> within the selectable days or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "within", "<INSERT_NEW_KEEP_BEFORE>", "within", "the", "selectable", "days", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "out", "<KEEP>", "of", "<KEEP>", "range", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "year", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "month", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "day", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "m", "<INSERT>", "controller", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "selectable", "<INSERT>", "days", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "!", "<INSERT>", "is", "<INSERT>", "selectable", "<INSERT>", "(", "<INSERT>", "year", "<INSERT>", ",", "<INSERT>", "month", "<INSERT>", ",", "<INSERT>", "day", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "before", "<KEEP>", "min", "<KEEP>", "(", "<KEEP>", "year", "<KEEP>", ",", "<KEEP>", "month", "<KEEP>", ",", "<KEEP>", "day", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "after", "<KEEP>", "max", "<KEEP>", "(", "<KEEP>", "year", "<KEEP>", ",", "<KEEP>", "month", "<KEEP>", ",", "<KEEP>", "day", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-207-6069", "old_comment": "the nested exception or null if there is no nested exception .", "old_comment_tokens": ["the", "nested", "exception", "or", "null", "if", "there", "is", "no", "nested", "exception", "."], "new_comment": "the result of calling get cause ( ) .", "new_comment_tokens": ["the", "result", "of", "calling", "get", "cause", "(", ")", "."], "old_code": "public throwable get exception ( ) { return cause ; }", "old_code_tokens": ["public", "throwable", "get", "exception", "(", ")", "{", "return", "cause", ";", "}"], "new_code": "public throwable get exception ( ) { return get cause ( ) ; }", "new_code_tokens": ["public", "throwable", "get", "exception", "(", ")", "{", "return", "get", "cause", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public throwable get exception ( ) { return <KEEP_END> <INSERT> get <INSERT_END> <KEEP> cause <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "throwable", "get", "exception", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "get", "<INSERT_END>", "<KEEP>", "cause", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> nested exception or null if there is no nested exception <REPLACE_NEW> result of calling get cause ( ) <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "nested", "exception", "or", "null", "if", "there", "is", "no", "nested", "exception", "<REPLACE_NEW>", "result", "of", "calling", "get", "cause", "(", ")", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "throwable", "<KEEP>", "get", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "get", "<KEEP>", "cause", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_kylin-9-2858", "old_comment": "table metadata array", "old_comment_tokens": ["table", "metadata", "array"], "new_comment": "cube request cube change request", "new_comment_tokens": ["cube", "request", "cube", "change", "request"], "old_code": "@ request mapping ( value = str , method = { request method . post } ) @ response body public cube request save cube desc ( @ request body cube request cube request ) { metadata manager meta manager = metadata manager . get instance ( kylin config . get instance from env ( ) ) ; data model desc model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null | | string utils . is empty ( model desc . get name ( ) ) ) { return cube request ; } try { data model desc existing model = meta manager . get data model desc ( model desc . get name ( ) ) ; if ( existing model = = null ) { meta manager . create data model desc ( model desc ) ; } else { model desc . set last modified ( existing model . get last modified ( ) ) ; meta manager . update data model desc ( model desc ) ; } } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } string name = cube service . get cube name from desc ( desc . get name ( ) ) ; if ( string utils . is empty ( name ) ) { logger . info ( str ) ; throw new bad request exception ( str ) ; } try { desc . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; cube service . create cube and desc ( name , project name , desc ) ; } catch ( exception e ) { logger . error ( str , e ) ; throw new internal error exception ( e . get localized message ( ) , e ) ; } cube request . set uuid ( desc . get uuid ( ) ) ; cube request . set successful ( true ) ; return cube request ; }", "old_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "post", "}", ")", "@", "response", "body", "public", "cube", "request", "save", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "{", "metadata", "manager", "meta", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "kylin", "config", ".", "get", "instance", "from", "env", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", "|", "|", "string", "utils", ".", "is", "empty", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "return", "cube", "request", ";", "}", "try", "{", "data", "model", "desc", "existing", "model", "=", "meta", "manager", ".", "get", "data", "model", "desc", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "existing", "model", "=", "=", "null", ")", "{", "meta", "manager", ".", "create", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "else", "{", "model", "desc", ".", "set", "last", "modified", "(", "existing", "model", ".", "get", "last", "modified", "(", ")", ")", ";", "meta", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "string", "name", "=", "cube", "service", ".", "get", "cube", "name", "from", "desc", "(", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "name", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "try", "{", "desc", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "cube", "service", ".", "create", "cube", "and", "desc", "(", "name", ",", "project", "name", ",", "desc", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "}", "cube", "request", ".", "set", "uuid", "(", "desc", ".", "get", "uuid", "(", ")", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}"], "new_code": "@ request mapping ( value = str , method = { request method . post } ) @ response body public cube request save cube desc ( @ request body cube request cube request ) { metadata manager meta manager = metadata manager . get instance ( cube service . get config ( ) ) ; data model desc model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return error request ( cube request , str ) ; } if ( string utils . is empty ( model desc . get name ( ) ) ) { return error request ( cube request , str ) ; } try { data model desc existing model = meta manager . get data model desc ( model desc . get name ( ) ) ; if ( existing model = = null ) { meta manager . create data model desc ( model desc ) ; } else { model desc . set last modified ( existing model . get last modified ( ) ) ; meta manager . update data model desc ( model desc ) ; } } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } if ( string utils . is empty ( desc . get name ( ) ) ) { logger . info ( str ) ; return error request ( cube request , str ) ; } try { desc . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; cube instance created cube = cube service . create cube and desc ( desc . get name ( ) , project name , desc ) ; access service . init ( created cube , acl permission . administration ) ; project instance project = cube service . get project manager ( ) . get project ( project name ) ; access service . inherit ( created cube , project ) ; } catch ( exception e ) { logger . error ( str , e ) ; throw new internal error exception ( e . get localized message ( ) , e ) ; } cube request . set uuid ( desc . get uuid ( ) ) ; cube request . set successful ( true ) ; return cube request ; }", "new_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "post", "}", ")", "@", "response", "body", "public", "cube", "request", "save", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "{", "metadata", "manager", "meta", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "cube", "service", ".", "get", "config", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "if", "(", "string", "utils", ".", "is", "empty", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "try", "{", "data", "model", "desc", "existing", "model", "=", "meta", "manager", ".", "get", "data", "model", "desc", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "existing", "model", "=", "=", "null", ")", "{", "meta", "manager", ".", "create", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "else", "{", "model", "desc", ".", "set", "last", "modified", "(", "existing", "model", ".", "get", "last", "modified", "(", ")", ")", ";", "meta", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "if", "(", "string", "utils", ".", "is", "empty", "(", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "try", "{", "desc", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "cube", "instance", "created", "cube", "=", "cube", "service", ".", "create", "cube", "and", "desc", "(", "desc", ".", "get", "name", "(", ")", ",", "project", "name", ",", "desc", ")", ";", "access", "service", ".", "init", "(", "created", "cube", ",", "acl", "permission", ".", "administration", ")", ";", "project", "instance", "project", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ".", "get", "project", "(", "project", "name", ")", ";", "access", "service", ".", "inherit", "(", "created", "cube", ",", "project", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "}", "cube", "request", ".", "set", "uuid", "(", "desc", ".", "get", "uuid", "(", ")", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}"], "span_diff_code": "<KEEP> @ request mapping ( value = str , method = { request method . post } ) @ response body public cube request save cube desc ( @ request body cube request cube request ) { metadata manager meta manager = metadata manager . get instance ( <KEEP_END> <REPLACE_OLD> kylin <REPLACE_NEW> cube service . get <REPLACE_END> <KEEP> config <KEEP_END> <DELETE> . get instance from env <DELETE_END> <KEEP> ( ) ) ; data model desc model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null <KEEP_END> <REPLACE_OLD> | | <REPLACE_NEW> ) { return error request ( cube request , str ) ; } if ( <REPLACE_END> <KEEP> string utils . is empty ( model desc . get name ( ) ) ) { return <KEEP_END> <REPLACE_OLD> cube request <REPLACE_NEW> error request ( cube request , str ) <REPLACE_END> <KEEP> ; } try { data model desc existing model = meta manager . get data model desc ( model desc . get name ( ) ) ; if ( existing model = = null ) { meta manager . create data model desc ( model desc ) ; } else { model desc . set last modified ( existing model . get last modified ( ) ) ; meta manager . update data model desc ( model desc ) ; } } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } <KEEP_END> <DELETE> string name = cube service . get cube name from desc ( desc . get name ( ) ) ; <DELETE_END> <KEEP> if ( string utils . is empty ( <KEEP_END> <REPLACE_OLD> name <REPLACE_NEW> desc . get name ( ) <REPLACE_END> <KEEP> ) ) { logger . info ( str ) ; <KEEP_END> <REPLACE_OLD> throw new bad request exception ( <REPLACE_NEW> return error request ( cube request , <REPLACE_END> <KEEP> str ) ; } try { desc . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; cube <KEEP_END> <INSERT> instance created cube = cube <INSERT_END> <KEEP> service . create cube and desc ( <KEEP_END> <REPLACE_OLD> name , project name , desc <REPLACE_NEW> desc . get name ( ) , project name , desc ) ; access service . init ( created cube , acl permission . administration ) ; project instance project = cube service . get project manager ( ) . get project ( project name ) ; access service . inherit ( created cube , project <REPLACE_END> <KEEP> ) ; } catch ( exception e ) { logger . error ( str , e ) ; throw new internal error exception ( e . get localized message ( ) , e ) ; } cube request . set uuid ( desc . get uuid ( ) ) ; cube request . set successful ( true ) ; return cube request ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "post", "}", ")", "@", "response", "body", "public", "cube", "request", "save", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "{", "metadata", "manager", "meta", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "<KEEP_END>", "<REPLACE_OLD>", "kylin", "<REPLACE_NEW>", "cube", "service", ".", "get", "<REPLACE_END>", "<KEEP>", "config", "<KEEP_END>", "<DELETE>", ".", "get", "instance", "from", "env", "<DELETE_END>", "<KEEP>", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", "|", "|", "<REPLACE_NEW>", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "if", "(", "<REPLACE_END>", "<KEEP>", "string", "utils", ".", "is", "empty", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "cube", "request", "<REPLACE_NEW>", "error", "request", "(", "cube", "request", ",", "str", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "try", "{", "data", "model", "desc", "existing", "model", "=", "meta", "manager", ".", "get", "data", "model", "desc", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "existing", "model", "=", "=", "null", ")", "{", "meta", "manager", ".", "create", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "else", "{", "model", "desc", ".", "set", "last", "modified", "(", "existing", "model", ".", "get", "last", "modified", "(", ")", ")", ";", "meta", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "<KEEP_END>", "<DELETE>", "string", "name", "=", "cube", "service", ".", "get", "cube", "name", "from", "desc", "(", "desc", ".", "get", "name", "(", ")", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "string", "utils", ".", "is", "empty", "(", "<KEEP_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "desc", ".", "get", "name", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "throw", "new", "bad", "request", "exception", "(", "<REPLACE_NEW>", "return", "error", "request", "(", "cube", "request", ",", "<REPLACE_END>", "<KEEP>", "str", ")", ";", "}", "try", "{", "desc", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "cube", "<KEEP_END>", "<INSERT>", "instance", "created", "cube", "=", "cube", "<INSERT_END>", "<KEEP>", "service", ".", "create", "cube", "and", "desc", "(", "<KEEP_END>", "<REPLACE_OLD>", "name", ",", "project", "name", ",", "desc", "<REPLACE_NEW>", "desc", ".", "get", "name", "(", ")", ",", "project", "name", ",", "desc", ")", ";", "access", "service", ".", "init", "(", "created", "cube", ",", "acl", "permission", ".", "administration", ")", ";", "project", "instance", "project", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ".", "get", "project", "(", "project", "name", ")", ";", "access", "service", ".", "inherit", "(", "created", "cube", ",", "project", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "}", "cube", "request", ".", "set", "uuid", "(", "desc", ".", "get", "uuid", "(", ")", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> table metadata array <REPLACE_NEW> cube request cube change request <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "table", "metadata", "array", "<REPLACE_NEW>", "cube", "request", "cube", "change", "request", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "mapping", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "=", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", "@", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "public", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "save", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "body", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", "meta", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "metadata", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<REPLACE_OLD>", "kylin", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "config", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "instance", "<DELETE>", "from", "<DELETE>", "env", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "deserialize", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "existing", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "meta", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "existing", "<KEEP>", "model", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "meta", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "last", "<KEEP>", "modified", "<KEEP>", "(", "<KEEP>", "existing", "<KEEP>", "model", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "last", "<KEEP>", "modified", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "meta", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "data", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "internal", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "deserialize", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "string", "<DELETE>", "name", "<DELETE>", "=", "<DELETE>", "cube", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "cube", "<DELETE>", "name", "<DELETE>", "from", "<DELETE>", "desc", "<DELETE>", "(", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "bad", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", "uuid", "<KEEP>", ".", "<KEEP>", "random", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "project", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "project", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cube", "<INSERT>", "instance", "<INSERT>", "created", "<INSERT>", "cube", "<INSERT>", "=", "<INSERT>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "cube", "<KEEP>", "and", "<KEEP>", "desc", "<KEEP>", "(", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "desc", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "access", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "init", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "created", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "acl", "<REPLACE_NEW>", "permission", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "administration", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "instance", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "access", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "inherit", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "created", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "project", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "internal", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "successful", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_geronimo-119-4551", "old_comment": "true if the specified configuration failed the operation and threw an exception during the lifecycle operation", "old_comment_tokens": ["true", "if", "the", "specified", "configuration", "failed", "the", "operation", "and", "threw", "an", "exception", "during", "the", "lifecycle", "operation"], "new_comment": "true if the specified ( or any matching ) configuration failed the operation and threw an exception during the lifecycle operation", "new_comment_tokens": ["true", "if", "the", "specified", "(", "or", "any", "matching", ")", "configuration", "failed", "the", "operation", "and", "threw", "an", "exception", "during", "the", "lifecycle", "operation"], "old_code": "public boolean was failed ( artifact configuration id ) { return failed . contains key ( configuration id ) ; }", "old_code_tokens": ["public", "boolean", "was", "failed", "(", "artifact", "configuration", "id", ")", "{", "return", "failed", ".", "contains", "key", "(", "configuration", "id", ")", ";", "}"], "new_code": "public boolean was failed ( artifact configuration id ) { for ( iterator it = failed . key set ( ) . iterator ( ) ; it . has next ( ) ; ) { artifact fail id = ( artifact ) it . next ( ) ; if ( configuration id . matches ( fail id ) ) { return true ; } } return false ; }", "new_code_tokens": ["public", "boolean", "was", "failed", "(", "artifact", "configuration", "id", ")", "{", "for", "(", "iterator", "it", "=", "failed", ".", "key", "set", "(", ")", ".", "iterator", "(", ")", ";", "it", ".", "has", "next", "(", ")", ";", ")", "{", "artifact", "fail", "id", "=", "(", "artifact", ")", "it", ".", "next", "(", ")", ";", "if", "(", "configuration", "id", ".", "matches", "(", "fail", "id", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public boolean was failed ( artifact configuration id ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> for ( iterator it = <REPLACE_END> <KEEP> failed . <KEEP_END> <DELETE> contains <DELETE_END> <KEEP> key <KEEP_END> <INSERT> set ( ) . iterator ( ) ; it . has next ( ) ; ) { artifact fail id = ( artifact ) it . next ( ) ; if <INSERT_END> <KEEP> ( configuration id <KEEP_END> <INSERT> . matches ( fail id <INSERT_END> <KEEP> ) <KEEP_END> <INSERT> ) { return true <INSERT_END> <KEEP> ; } <KEEP_END> <INSERT> } return false ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "was", "failed", "(", "artifact", "configuration", "id", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "for", "(", "iterator", "it", "=", "<REPLACE_END>", "<KEEP>", "failed", ".", "<KEEP_END>", "<DELETE>", "contains", "<DELETE_END>", "<KEEP>", "key", "<KEEP_END>", "<INSERT>", "set", "(", ")", ".", "iterator", "(", ")", ";", "it", ".", "has", "next", "(", ")", ";", ")", "{", "artifact", "fail", "id", "=", "(", "artifact", ")", "it", ".", "next", "(", ")", ";", "if", "<INSERT_END>", "<KEEP>", "(", "configuration", "id", "<KEEP_END>", "<INSERT>", ".", "matches", "(", "fail", "id", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", ")", "{", "return", "true", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "}", "return", "false", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> specified <INSERT_NEW_KEEP_BEFORE> specified ( or any matching ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "specified", "<INSERT_NEW_KEEP_BEFORE>", "specified", "(", "or", "any", "matching", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "was", "<KEEP>", "failed", "<KEEP>", "(", "<KEEP>", "artifact", "<KEEP>", "configuration", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", "it", "<REPLACE_NEW>", "=", "<KEEP>", "failed", "<KEEP>", ".", "<DELETE>", "contains", "<KEEP>", "key", "<INSERT>", "set", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "iterator", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "it", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "next", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "artifact", "<INSERT>", "fail", "<INSERT>", "id", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "artifact", "<INSERT>", ")", "<INSERT>", "it", "<INSERT>", ".", "<INSERT>", "next", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<KEEP>", "(", "<KEEP>", "configuration", "<KEEP>", "id", "<INSERT>", ".", "<INSERT>", "matches", "<INSERT>", "(", "<INSERT>", "fail", "<INSERT>", "id", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "true", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "TommyLemon_APIJSON-12-922", "old_comment": "# format key ( string , boolean , boolean , boolean ) format colon = false , format at = false , format hyphen = false , first case = true", "old_comment_tokens": ["#", "format", "key", "(", "string", ",", "boolean", ",", "boolean", ",", "boolean", ")", "format", "colon", "=", "false", ",", "format", "at", "=", "false", ",", "format", "hyphen", "=", "false", ",", "first", "case", "=", "true"], "new_comment": "# format key ( string , boolean , boolean , boolean ) format colon = false , format at = true , format hyphen = false , first case = true", "new_comment_tokens": ["#", "format", "key", "(", "string", ",", "boolean", ",", "boolean", ",", "boolean", ")", "format", "colon", "=", "false", ",", "format", "at", "=", "true", ",", "format", "hyphen", "=", "false", ",", "first", "case", "=", "true"], "old_code": "public static string format object key ( string key ) { int index = key = = null ? - num : key . index of ( str ) ; if ( index > = num ) { return key . substring ( index + num ) ; } return format key ( key , false , false , false , true ) ; }", "old_code_tokens": ["public", "static", "string", "format", "object", "key", "(", "string", "key", ")", "{", "int", "index", "=", "key", "=", "=", "null", "?", "-", "num", ":", "key", ".", "index", "of", "(", "str", ")", ";", "if", "(", "index", ">", "=", "num", ")", "{", "return", "key", ".", "substring", "(", "index", "+", "num", ")", ";", "}", "return", "format", "key", "(", "key", ",", "false", ",", "false", ",", "false", ",", "true", ")", ";", "}"], "new_code": "public static string format object key ( string key ) { int index = key = = null ? - num : key . index of ( str ) ; if ( index > = num ) { return key . substring ( index + num ) ; } return format key ( key , false , true , false , true ) ; }", "new_code_tokens": ["public", "static", "string", "format", "object", "key", "(", "string", "key", ")", "{", "int", "index", "=", "key", "=", "=", "null", "?", "-", "num", ":", "key", ".", "index", "of", "(", "str", ")", ";", "if", "(", "index", ">", "=", "num", ")", "{", "return", "key", ".", "substring", "(", "index", "+", "num", ")", ";", "}", "return", "format", "key", "(", "key", ",", "false", ",", "true", ",", "false", ",", "true", ")", ";", "}"], "span_diff_code": "<KEEP> public static string format object key ( string key ) { int index = key = = null ? - num : key . index of ( str ) ; if ( index > = num ) { return key . substring ( index + num ) ; } return format key ( key , false , <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> true <REPLACE_END> <KEEP> , false , true ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "format", "object", "key", "(", "string", "key", ")", "{", "int", "index", "=", "key", "=", "=", "null", "?", "-", "num", ":", "key", ".", "index", "of", "(", "str", ")", ";", "if", "(", "index", ">", "=", "num", ")", "{", "return", "key", ".", "substring", "(", "index", "+", "num", ")", ";", "}", "return", "format", "key", "(", "key", ",", "false", ",", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ",", "false", ",", "true", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> at = false <REPLACE_NEW_KEEP_BEFORE> at = true <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "at", "=", "false", "<REPLACE_NEW_KEEP_BEFORE>", "at", "=", "true", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "format", "<KEEP>", "object", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ":", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "key", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "format", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "true", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jackyglony_objectiveclipse-194-3919", "old_comment": "the iproject associated with the target", "old_comment_tokens": ["the", "iproject", "associated", "with", "the", "target"], "new_comment": "the iproject associated with the managed project", "new_comment_tokens": ["the", "iproject", "associated", "with", "the", "managed", "project"], "old_code": "private iproject get project ( ) { return managed target . get owner ( ) . get project ( ) ; }", "old_code_tokens": ["private", "iproject", "get", "project", "(", ")", "{", "return", "managed", "target", ".", "get", "owner", "(", ")", ".", "get", "project", "(", ")", ";", "}"], "new_code": "private iproject get project ( ) { return ( iproject ) managed project . get owner ( ) ; }", "new_code_tokens": ["private", "iproject", "get", "project", "(", ")", "{", "return", "(", "iproject", ")", "managed", "project", ".", "get", "owner", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private iproject get project ( ) { return <KEEP_END> <INSERT> ( iproject ) <INSERT_END> <KEEP> managed <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> project <REPLACE_END> <KEEP> . get owner ( ) <KEEP_END> <DELETE> . get project ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "iproject", "get", "project", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "(", "iproject", ")", "<INSERT_END>", "<KEEP>", "managed", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "project", "<REPLACE_END>", "<KEEP>", ".", "get", "owner", "(", ")", "<KEEP_END>", "<DELETE>", ".", "get", "project", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> target <REPLACE_NEW> managed project <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "target", "<REPLACE_NEW>", "managed", "project", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "iproject", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "(", "<INSERT>", "iproject", "<INSERT>", ")", "<KEEP>", "managed", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "project", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "project", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dropwizard_dropwizard-0-752", "old_comment": "a fully - configured rx client", "old_comment_tokens": ["a", "fully", "-", "configured", "rx", "client"], "new_comment": "a fully - configured client", "new_comment_tokens": ["a", "fully", "-", "configured", "client"], "old_code": "public < rx extends rx invoker > rx client < rx > build rx ( string name , class < rx > invoker type ) { return rx . from ( build ( name ) , invoker type , executor service ) ; }", "old_code_tokens": ["public", "<", "rx", "extends", "rx", "invoker", ">", "rx", "client", "<", "rx", ">", "build", "rx", "(", "string", "name", ",", "class", "<", "rx", ">", "invoker", "type", ")", "{", "return", "rx", ".", "from", "(", "build", "(", "name", ")", ",", "invoker", "type", ",", "executor", "service", ")", ";", "}"], "new_code": "public < rx extends rx invoker provider > client build rx ( string name , class < rx > invoker type ) { return build ( name ) . register ( invoker type ) ; }", "new_code_tokens": ["public", "<", "rx", "extends", "rx", "invoker", "provider", ">", "client", "build", "rx", "(", "string", "name", ",", "class", "<", "rx", ">", "invoker", "type", ")", "{", "return", "build", "(", "name", ")", ".", "register", "(", "invoker", "type", ")", ";", "}"], "span_diff_code": "<KEEP> public < rx extends rx invoker <KEEP_END> <INSERT> provider <INSERT_END> <KEEP> > <KEEP_END> <DELETE> rx <DELETE_END> <KEEP> client <KEEP_END> <DELETE> < rx > <DELETE_END> <KEEP> build rx ( string name , class < rx > invoker type ) { return <KEEP_END> <DELETE> rx . from ( <DELETE_END> <KEEP> build ( name ) <KEEP_END> <REPLACE_OLD> , <REPLACE_NEW> . register ( <REPLACE_END> <KEEP> invoker type <KEEP_END> <DELETE> , executor service <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<", "rx", "extends", "rx", "invoker", "<KEEP_END>", "<INSERT>", "provider", "<INSERT_END>", "<KEEP>", ">", "<KEEP_END>", "<DELETE>", "rx", "<DELETE_END>", "<KEEP>", "client", "<KEEP_END>", "<DELETE>", "<", "rx", ">", "<DELETE_END>", "<KEEP>", "build", "rx", "(", "string", "name", ",", "class", "<", "rx", ">", "invoker", "type", ")", "{", "return", "<KEEP_END>", "<DELETE>", "rx", ".", "from", "(", "<DELETE_END>", "<KEEP>", "build", "(", "name", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ".", "register", "(", "<REPLACE_END>", "<KEEP>", "invoker", "type", "<KEEP_END>", "<DELETE>", ",", "executor", "service", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> rx <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "rx", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "<", "<KEEP>", "rx", "<KEEP>", "extends", "<KEEP>", "rx", "<KEEP>", "invoker", "<INSERT>", "provider", "<KEEP>", ">", "<DELETE>", "rx", "<KEEP>", "client", "<DELETE>", "<", "<DELETE>", "rx", "<DELETE>", ">", "<KEEP>", "build", "<KEEP>", "rx", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "rx", "<KEEP>", ">", "<KEEP>", "invoker", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "rx", "<DELETE>", ".", "<DELETE>", "from", "<DELETE>", "(", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "register", "<REPLACE_NEW>", "(", "<KEEP>", "invoker", "<KEEP>", "type", "<DELETE>", ",", "<DELETE>", "executor", "<DELETE>", "service", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "prolificinteractive_material-calendarview-0-1007", "old_comment": "the month of the year as defined by plain calendar", "old_comment_tokens": ["the", "month", "of", "the", "year", "as", "defined", "by", "plain", "calendar"], "new_comment": "the month of the year as defined by plain local date", "new_comment_tokens": ["the", "month", "of", "the", "year", "as", "defined", "by", "plain", "local", "date"], "old_code": "public int get month ( ) { return month ; }", "old_code_tokens": ["public", "int", "get", "month", "(", ")", "{", "return", "month", ";", "}"], "new_code": "public int get month ( ) { return date . get month value ( ) ; }", "new_code_tokens": ["public", "int", "get", "month", "(", ")", "{", "return", "date", ".", "get", "month", "value", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public int get month ( ) { return <KEEP_END> <INSERT> date . get <INSERT_END> <KEEP> month <KEEP_END> <INSERT> value ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "month", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "date", ".", "get", "<INSERT_END>", "<KEEP>", "month", "<KEEP_END>", "<INSERT>", "value", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> calendar <REPLACE_NEW> local date <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "calendar", "<REPLACE_NEW>", "local", "date", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "month", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "date", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "month", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-20-6956", "old_comment": "a hashtable representation of a workflow .", "old_comment_tokens": ["a", "hashtable", "representation", "of", "a", "workflow", "."], "new_comment": "a hash map representation of a workflow .", "new_comment_tokens": ["a", "hash", "map", "representation", "of", "a", "workflow", "."], "old_code": "public static hashtable get xml rpc workflow ( workflow w ) { hashtable workflow = new hashtable ( ) ; workflow . put ( str , w . get id ( ) ) ; workflow . put ( str , w . get name ( ) ! = null ? w . get name ( ) : str ) ; workflow . put ( str , get xml rpc workflow tasks ( w . get tasks ( ) ) ) ; workflow . put ( str , get xml rpc workflow conditions ( w . get conditions ( ) ) ) ; return workflow ; }", "old_code_tokens": ["public", "static", "hashtable", "get", "xml", "rpc", "workflow", "(", "workflow", "w", ")", "{", "hashtable", "workflow", "=", "new", "hashtable", "(", ")", ";", "workflow", ".", "put", "(", "str", ",", "w", ".", "get", "id", "(", ")", ")", ";", "workflow", ".", "put", "(", "str", ",", "w", ".", "get", "name", "(", ")", "!", "=", "null", "?", "w", ".", "get", "name", "(", ")", ":", "str", ")", ";", "workflow", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "tasks", "(", "w", ".", "get", "tasks", "(", ")", ")", ")", ";", "workflow", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "conditions", "(", "w", ".", "get", "conditions", "(", ")", ")", ")", ";", "return", "workflow", ";", "}"], "new_code": "public static hash map get xml rpc workflow ( workflow w ) { hash map workflow = new hash map ( ) ; workflow . put ( str , w . get id ( ) ) ; workflow . put ( str , w . get name ( ) ! = null ? w . get name ( ) : str ) ; workflow . put ( str , get xml rpc workflow tasks ( w . get tasks ( ) ) ) ; workflow . put ( str , get xml rpc workflow conditions ( w . get conditions ( ) ) ) ; return workflow ; }", "new_code_tokens": ["public", "static", "hash", "map", "get", "xml", "rpc", "workflow", "(", "workflow", "w", ")", "{", "hash", "map", "workflow", "=", "new", "hash", "map", "(", ")", ";", "workflow", ".", "put", "(", "str", ",", "w", ".", "get", "id", "(", ")", ")", ";", "workflow", ".", "put", "(", "str", ",", "w", ".", "get", "name", "(", ")", "!", "=", "null", "?", "w", ".", "get", "name", "(", ")", ":", "str", ")", ";", "workflow", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "tasks", "(", "w", ".", "get", "tasks", "(", ")", ")", ")", ";", "workflow", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "conditions", "(", "w", ".", "get", "conditions", "(", ")", ")", ")", ";", "return", "workflow", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> get xml rpc workflow ( workflow w ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> workflow = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> ( ) ; workflow . put ( str , w . get id ( ) ) ; workflow . put ( str , w . get name ( ) ! = null ? w . get name ( ) : str ) ; workflow . put ( str , get xml rpc workflow tasks ( w . get tasks ( ) ) ) ; workflow . put ( str , get xml rpc workflow conditions ( w . get conditions ( ) ) ) ; return workflow ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "get", "xml", "rpc", "workflow", "(", "workflow", "w", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "workflow", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "workflow", ".", "put", "(", "str", ",", "w", ".", "get", "id", "(", ")", ")", ";", "workflow", ".", "put", "(", "str", ",", "w", ".", "get", "name", "(", ")", "!", "=", "null", "?", "w", ".", "get", "name", "(", ")", ":", "str", ")", ";", "workflow", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "tasks", "(", "w", ".", "get", "tasks", "(", ")", ")", ")", ";", "workflow", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "conditions", "(", "w", ".", "get", "conditions", "(", ")", ")", ")", ";", "return", "workflow", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "(", "<KEEP>", "workflow", "<KEEP>", "w", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "workflow", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "w", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "w", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "tasks", "<KEEP>", "(", "<KEEP>", "w", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "tasks", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "workflow", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "conditions", "<KEEP>", "(", "<KEEP>", "w", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "conditions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "workflow", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_clerezza-4-6390", "old_comment": "the wrapped lockable mgraph .", "old_comment_tokens": ["the", "wrapped", "lockable", "mgraph", "."], "new_comment": "the wrapped lockable mgraph or a write - block lockable mgraph depending on the access rights of the caller .", "new_comment_tokens": ["the", "wrapped", "lockable", "mgraph", "or", "a", "write", "-", "block", "lockable", "mgraph", "depending", "on", "the", "access", "rights", "of", "the", "caller", "."], "old_code": "public lockable mgraph get unsecured mgraph ( ) { check write ( ) ; return wrapped ; }", "old_code_tokens": ["public", "lockable", "mgraph", "get", "unsecured", "mgraph", "(", ")", "{", "check", "write", "(", ")", ";", "return", "wrapped", ";", "}"], "new_code": "public lockable mgraph get unsecured mgraph ( ) { try { check write ( ) ; return wrapped ; } catch ( access control exception ex ) { check read ( ) ; return new write blocked mgraph ( wrapped ) ; } }", "new_code_tokens": ["public", "lockable", "mgraph", "get", "unsecured", "mgraph", "(", ")", "{", "try", "{", "check", "write", "(", ")", ";", "return", "wrapped", ";", "}", "catch", "(", "access", "control", "exception", "ex", ")", "{", "check", "read", "(", ")", ";", "return", "new", "write", "blocked", "mgraph", "(", "wrapped", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public lockable mgraph get unsecured mgraph ( ) <KEEP_END> <INSERT> { try <INSERT_END> <KEEP> { check write ( ) ; return wrapped ; } <KEEP_END> <INSERT> catch ( access control exception ex ) { check read ( ) ; return new write blocked mgraph ( wrapped ) ; } } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "lockable", "mgraph", "get", "unsecured", "mgraph", "(", ")", "<KEEP_END>", "<INSERT>", "{", "try", "<INSERT_END>", "<KEEP>", "{", "check", "write", "(", ")", ";", "return", "wrapped", ";", "}", "<KEEP_END>", "<INSERT>", "catch", "(", "access", "control", "exception", "ex", ")", "{", "check", "read", "(", ")", ";", "return", "new", "write", "blocked", "mgraph", "(", "wrapped", ")", ";", "}", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> mgraph <INSERT_NEW_KEEP_BEFORE> mgraph or a write - block lockable mgraph depending on the access rights of the caller <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "mgraph", "<INSERT_NEW_KEEP_BEFORE>", "mgraph", "or", "a", "write", "-", "block", "lockable", "mgraph", "depending", "on", "the", "access", "rights", "of", "the", "caller", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "lockable", "<KEEP>", "mgraph", "<KEEP>", "get", "<KEEP>", "unsecured", "<KEEP>", "mgraph", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "try", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "wrapped", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "access", "<INSERT>", "control", "<INSERT>", "exception", "<INSERT>", "ex", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "check", "<INSERT>", "read", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "write", "<INSERT>", "blocked", "<INSERT>", "mgraph", "<INSERT>", "(", "<INSERT>", "wrapped", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-74-4096", "old_comment": "a collection of all known directly implemented class infos .", "old_comment_tokens": ["a", "collection", "of", "all", "known", "directly", "implemented", "class", "infos", "."], "new_comment": "a set of all known directly implemented class infos .", "new_comment_tokens": ["a", "set", "of", "all", "known", "directly", "implemented", "class", "infos", "."], "old_code": "public collection < class info > get interfaces ( ) { return interfaces ; }", "old_code_tokens": ["public", "collection", "<", "class", "info", ">", "get", "interfaces", "(", ")", "{", "return", "interfaces", ";", "}"], "new_code": "public set < class info > get interfaces ( ) { string [ ] names = class gen . get interface names ( ) ; set < class info > interfaces = new hash set < class info > ( names . length ) ; for ( string name : names ) { class info cls = get app info ( ) . get class info ( name ) ; if ( cls ! = null ) { interfaces . add ( cls ) ; } } return interfaces ; }", "new_code_tokens": ["public", "set", "<", "class", "info", ">", "get", "interfaces", "(", ")", "{", "string", "[", "]", "names", "=", "class", "gen", ".", "get", "interface", "names", "(", ")", ";", "set", "<", "class", "info", ">", "interfaces", "=", "new", "hash", "set", "<", "class", "info", ">", "(", "names", ".", "length", ")", ";", "for", "(", "string", "name", ":", "names", ")", "{", "class", "info", "cls", "=", "get", "app", "info", "(", ")", ".", "get", "class", "info", "(", "name", ")", ";", "if", "(", "cls", "!", "=", "null", ")", "{", "interfaces", ".", "add", "(", "cls", ")", ";", "}", "}", "return", "interfaces", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> set <REPLACE_END> <KEEP> < class info > get interfaces ( ) { <KEEP_END> <INSERT> string [ ] names = class gen . get interface names ( ) ; set < class info > interfaces = new hash set < class info > ( names . length ) ; for ( string name : names ) { class info cls = get app info ( ) . get class info ( name ) ; if ( cls ! = null ) { interfaces . add ( cls ) ; } } <INSERT_END> <KEEP> return interfaces ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "<", "class", "info", ">", "get", "interfaces", "(", ")", "{", "<KEEP_END>", "<INSERT>", "string", "[", "]", "names", "=", "class", "gen", ".", "get", "interface", "names", "(", ")", ";", "set", "<", "class", "info", ">", "interfaces", "=", "new", "hash", "set", "<", "class", "info", ">", "(", "names", ".", "length", ")", ";", "for", "(", "string", "name", ":", "names", ")", "{", "class", "info", "cls", "=", "get", "app", "info", "(", ")", ".", "get", "class", "info", "(", "name", ")", ";", "if", "(", "cls", "!", "=", "null", ")", "{", "interfaces", ".", "add", "(", "cls", ")", ";", "}", "}", "<INSERT_END>", "<KEEP>", "return", "interfaces", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "class", "<KEEP>", "info", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "names", "<INSERT>", "=", "<INSERT>", "class", "<INSERT>", "gen", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "interface", "<INSERT>", "names", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "set", "<INSERT>", "<", "<INSERT>", "class", "<INSERT>", "info", "<INSERT>", ">", "<INSERT>", "interfaces", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "set", "<INSERT>", "<", "<INSERT>", "class", "<INSERT>", "info", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", "names", "<INSERT>", ".", "<INSERT>", "length", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "string", "<INSERT>", "name", "<INSERT>", ":", "<INSERT>", "names", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "class", "<INSERT>", "info", "<INSERT>", "cls", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "app", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "class", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "cls", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "interfaces", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<INSERT>", "cls", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "interfaces", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_squidb-41-5486", "old_comment": "a criterion that the field must be equal to the given string , ignoring case . due to a bug in sqlite , this will only work for ascii characters .", "old_comment_tokens": ["a", "criterion", "that", "the", "field", "must", "be", "equal", "to", "the", "given", "string", ",", "ignoring", "case", ".", "due", "to", "a", "bug", "in", "sqlite", ",", "this", "will", "only", "work", "for", "ascii", "characters", "."], "new_comment": "a criterion that the field must be equal to the given string , ignoring case . this will only work for ascii characters .", "new_comment_tokens": ["a", "criterion", "that", "the", "field", "must", "be", "equal", "to", "the", "given", "string", ",", "ignoring", "case", ".", "this", "will", "only", "work", "for", "ascii", "characters", "."], "old_code": "public criterion eq case insensitive ( string value ) { if ( value = = null ) { return is null ( ) ; } return new binary criterion ( this , operator . eq , value ) { @ override protected void after populate operator ( sql builder builder , boolean for sql validation ) { super . after populate operator ( builder , for sql validation ) ; builder . sql . append ( str ) ; } } ; }", "old_code_tokens": ["public", "criterion", "eq", "case", "insensitive", "(", "string", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "is", "null", "(", ")", ";", "}", "return", "new", "binary", "criterion", "(", "this", ",", "operator", ".", "eq", ",", "value", ")", "{", "@", "override", "protected", "void", "after", "populate", "operator", "(", "sql", "builder", "builder", ",", "boolean", "for", "sql", "validation", ")", "{", "super", ".", "after", "populate", "operator", "(", "builder", ",", "for", "sql", "validation", ")", ";", "builder", ".", "sql", ".", "append", "(", "str", ")", ";", "}", "}", ";", "}"], "new_code": "public criterion eq case insensitive ( string value ) { if ( value = = null ) { return is null ( ) ; } return new case insensitive equals criterion ( this , operator . eq , value ) ; }", "new_code_tokens": ["public", "criterion", "eq", "case", "insensitive", "(", "string", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "is", "null", "(", ")", ";", "}", "return", "new", "case", "insensitive", "equals", "criterion", "(", "this", ",", "operator", ".", "eq", ",", "value", ")", ";", "}"], "span_diff_code": "<KEEP> public criterion eq case insensitive ( string value ) { if ( value = = null ) { return is null ( ) ; } return new <KEEP_END> <REPLACE_OLD> binary <REPLACE_NEW> case insensitive equals <REPLACE_END> <KEEP> criterion ( this , operator . eq , value ) <KEEP_END> <DELETE> { @ override protected void after populate operator ( sql builder builder , boolean for sql validation ) { super . after populate operator ( builder , for sql validation ) ; builder . sql . append ( str ) <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> } ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "criterion", "eq", "case", "insensitive", "(", "string", "value", ")", "{", "if", "(", "value", "=", "=", "null", ")", "{", "return", "is", "null", "(", ")", ";", "}", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "binary", "<REPLACE_NEW>", "case", "insensitive", "equals", "<REPLACE_END>", "<KEEP>", "criterion", "(", "this", ",", "operator", ".", "eq", ",", "value", ")", "<KEEP_END>", "<DELETE>", "{", "@", "override", "protected", "void", "after", "populate", "operator", "(", "sql", "builder", "builder", ",", "boolean", "for", "sql", "validation", ")", "{", "super", ".", "after", "populate", "operator", "(", "builder", ",", "for", "sql", "validation", ")", ";", "builder", ".", "sql", ".", "append", "(", "str", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "}", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> due to a bug in sqlite , <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "due", "to", "a", "bug", "in", "sqlite", ",", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "criterion", "<KEEP>", "eq", "<KEEP>", "case", "<KEEP>", "insensitive", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "is", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "binary", "<REPLACE_NEW>", "case", "<REPLACE_NEW>", "insensitive", "<REPLACE_NEW>", "equals", "<KEEP>", "criterion", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "operator", "<KEEP>", ".", "<KEEP>", "eq", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "@", "<DELETE>", "override", "<DELETE>", "protected", "<DELETE>", "void", "<DELETE>", "after", "<DELETE>", "populate", "<DELETE>", "operator", "<DELETE>", "(", "<DELETE>", "sql", "<DELETE>", "builder", "<DELETE>", "builder", "<DELETE>", ",", "<DELETE>", "boolean", "<DELETE>", "for", "<DELETE>", "sql", "<DELETE>", "validation", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "super", "<DELETE>", ".", "<DELETE>", "after", "<DELETE>", "populate", "<DELETE>", "operator", "<DELETE>", "(", "<DELETE>", "builder", "<DELETE>", ",", "<DELETE>", "for", "<DELETE>", "sql", "<DELETE>", "validation", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "builder", "<DELETE>", ".", "<DELETE>", "sql", "<DELETE>", ".", "<DELETE>", "append", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "google_iosched-42-4882", "old_comment": "boolean returns a boolean to indicate whether the operation was successful .", "old_comment_tokens": ["boolean", "returns", "a", "boolean", "to", "indicate", "whether", "the", "operation", "was", "successful", "."], "new_comment": "true if the set of filters was modified by this call .", "new_comment_tokens": ["true", "if", "the", "set", "of", "filters", "was", "modified", "by", "this", "call", "."], "old_code": "public boolean remove ( string tag id , string category ) { return is category valid ( category ) & & m selected topics . remove ( tag id ) ; }", "old_code_tokens": ["public", "boolean", "remove", "(", "string", "tag", "id", ",", "string", "category", ")", "{", "return", "is", "category", "valid", "(", "category", ")", "&", "&", "m", "selected", "topics", ".", "remove", "(", "tag", "id", ")", ";", "}"], "new_code": "public boolean remove ( tag tag ) { return m selected topics . remove ( tag ) ; }", "new_code_tokens": ["public", "boolean", "remove", "(", "tag", "tag", ")", "{", "return", "m", "selected", "topics", ".", "remove", "(", "tag", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean remove ( <KEEP_END> <DELETE> string <DELETE_END> <KEEP> tag <KEEP_END> <REPLACE_OLD> id , string category <REPLACE_NEW> tag <REPLACE_END> <KEEP> ) { return <KEEP_END> <DELETE> is category valid ( category ) & & <DELETE_END> <KEEP> m selected topics . remove ( tag <KEEP_END> <DELETE> id <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "remove", "(", "<KEEP_END>", "<DELETE>", "string", "<DELETE_END>", "<KEEP>", "tag", "<KEEP_END>", "<REPLACE_OLD>", "id", ",", "string", "category", "<REPLACE_NEW>", "tag", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "<KEEP_END>", "<DELETE>", "is", "category", "valid", "(", "category", ")", "&", "&", "<DELETE_END>", "<KEEP>", "m", "selected", "topics", ".", "remove", "(", "tag", "<KEEP_END>", "<DELETE>", "id", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> boolean returns a boolean to indicate whether <REPLACE_NEW> true if <REPLACE_END> <REPLACE_OLD> operation <REPLACE_NEW> set of filters <REPLACE_END> <REPLACE_OLD> successful <REPLACE_NEW> modified by this call <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "boolean", "returns", "a", "boolean", "to", "indicate", "whether", "<REPLACE_NEW>", "true", "if", "<REPLACE_END>", "<REPLACE_OLD>", "operation", "<REPLACE_NEW>", "set", "of", "filters", "<REPLACE_END>", "<REPLACE_OLD>", "successful", "<REPLACE_NEW>", "modified", "by", "this", "call", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "remove", "<KEEP>", "(", "<DELETE>", "string", "<KEEP>", "tag", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "category", "<REPLACE_NEW>", "tag", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "is", "<DELETE>", "category", "<DELETE>", "valid", "<DELETE>", "(", "<DELETE>", "category", "<DELETE>", ")", "<DELETE>", "&", "<DELETE>", "&", "<KEEP>", "m", "<KEEP>", "selected", "<KEEP>", "topics", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "tag", "<DELETE>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ushahidi_Ushahidi_Java-14-4710", "old_comment": "the category", "old_comment_tokens": ["the", "category"], "new_comment": "the category else return null", "new_comment_tokens": ["the", "category", "else", "return", "null"], "old_code": "public category get category ( ) { return payload . category ; }", "old_code_tokens": ["public", "category", "get", "category", "(", ")", "{", "return", "payload", ".", "category", ";", "}"], "new_code": "public category get category ( ) { if ( payload ! = null ) { return payload . category ; } return null ; }", "new_code_tokens": ["public", "category", "get", "category", "(", ")", "{", "if", "(", "payload", "!", "=", "null", ")", "{", "return", "payload", ".", "category", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public category get category ( <KEEP_END> <INSERT> ) { if ( payload ! = null <INSERT_END> <KEEP> ) { return payload . category ; } <KEEP_END> <INSERT> return null ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "category", "get", "category", "(", "<KEEP_END>", "<INSERT>", ")", "{", "if", "(", "payload", "!", "=", "null", "<INSERT_END>", "<KEEP>", ")", "{", "return", "payload", ".", "category", ";", "}", "<KEEP_END>", "<INSERT>", "return", "null", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> category <INSERT_NEW_KEEP_BEFORE> category else return null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "category", "<INSERT_NEW_KEEP_BEFORE>", "category", "else", "return", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "category", "<KEEP>", "get", "<KEEP>", "category", "<KEEP>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "payload", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "payload", "<KEEP>", ".", "<KEEP>", "category", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_derby-100-6337", "old_comment": "embed parameter set meta data for the prepared statement . note : there is no separate brokered parameter set meta data .", "old_comment_tokens": ["embed", "parameter", "set", "meta", "data", "for", "the", "prepared", "statement", ".", "note", ":", "there", "is", "no", "separate", "brokered", "parameter", "set", "meta", "data", "."], "new_comment": "engine parameter meta data for the prepared statement . note : there is no separate brokered parameter set meta data .", "new_comment_tokens": ["engine", "parameter", "meta", "data", "for", "the", "prepared", "statement", ".", "note", ":", "there", "is", "no", "separate", "brokered", "parameter", "set", "meta", "data", "."], "old_code": "protected embed parameter set meta data get parameter meta data ( ) throws sqlexception { if ( stmt pmeta ! = null ) return stmt pmeta ; embed parameter set meta data pmeta = null ; class [ ] get parameter meta data param = { } ; try { method sh = get prepared statement ( ) . get class ( ) . get method ( str , get parameter meta data param ) ; pmeta = ( embed parameter set meta data ) sh . invoke ( get prepared statement ( ) , null ) ; stmt pmeta = pmeta ; } catch ( exception e ) { handle reflection exception ( e ) ; } return stmt pmeta ; }", "old_code_tokens": ["protected", "embed", "parameter", "set", "meta", "data", "get", "parameter", "meta", "data", "(", ")", "throws", "sqlexception", "{", "if", "(", "stmt", "pmeta", "!", "=", "null", ")", "return", "stmt", "pmeta", ";", "embed", "parameter", "set", "meta", "data", "pmeta", "=", "null", ";", "class", "[", "]", "get", "parameter", "meta", "data", "param", "=", "{", "}", ";", "try", "{", "method", "sh", "=", "get", "prepared", "statement", "(", ")", ".", "get", "class", "(", ")", ".", "get", "method", "(", "str", ",", "get", "parameter", "meta", "data", "param", ")", ";", "pmeta", "=", "(", "embed", "parameter", "set", "meta", "data", ")", "sh", ".", "invoke", "(", "get", "prepared", "statement", "(", ")", ",", "null", ")", ";", "stmt", "pmeta", "=", "pmeta", ";", "}", "catch", "(", "exception", "e", ")", "{", "handle", "reflection", "exception", "(", "e", ")", ";", "}", "return", "stmt", "pmeta", ";", "}"], "new_code": "protected engine parameter meta data get parameter meta data ( ) throws sqlexception { if ( stmt pmeta ! = null ) return stmt pmeta ; stmt pmeta = ( ( engine prepared statement ) ps ) . get embed parameter set meta data ( ) ; return stmt pmeta ; }", "new_code_tokens": ["protected", "engine", "parameter", "meta", "data", "get", "parameter", "meta", "data", "(", ")", "throws", "sqlexception", "{", "if", "(", "stmt", "pmeta", "!", "=", "null", ")", "return", "stmt", "pmeta", ";", "stmt", "pmeta", "=", "(", "(", "engine", "prepared", "statement", ")", "ps", ")", ".", "get", "embed", "parameter", "set", "meta", "data", "(", ")", ";", "return", "stmt", "pmeta", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> embed <REPLACE_NEW> engine <REPLACE_END> <KEEP> parameter <KEEP_END> <DELETE> set <DELETE_END> <KEEP> meta data get parameter meta data ( ) throws sqlexception { if ( stmt pmeta ! = null ) return stmt pmeta ; <KEEP_END> <INSERT> stmt pmeta = ( ( engine prepared statement ) ps ) . get <INSERT_END> <KEEP> embed parameter set meta data <KEEP_END> <DELETE> pmeta = null ; class [ ] get parameter meta data param = { } ; try { method sh = get prepared statement <DELETE_END> <KEEP> ( ) <KEEP_END> <DELETE> . get class ( ) . get method ( str , get parameter meta data param ) <DELETE_END> <KEEP> ; <KEEP_END> <DELETE> pmeta = ( embed parameter set meta data ) sh . invoke ( get prepared statement ( ) , null ) ; stmt pmeta = pmeta ; } catch ( exception e ) { handle reflection exception ( e ) ; } <DELETE_END> <KEEP> return stmt pmeta ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "embed", "<REPLACE_NEW>", "engine", "<REPLACE_END>", "<KEEP>", "parameter", "<KEEP_END>", "<DELETE>", "set", "<DELETE_END>", "<KEEP>", "meta", "data", "get", "parameter", "meta", "data", "(", ")", "throws", "sqlexception", "{", "if", "(", "stmt", "pmeta", "!", "=", "null", ")", "return", "stmt", "pmeta", ";", "<KEEP_END>", "<INSERT>", "stmt", "pmeta", "=", "(", "(", "engine", "prepared", "statement", ")", "ps", ")", ".", "get", "<INSERT_END>", "<KEEP>", "embed", "parameter", "set", "meta", "data", "<KEEP_END>", "<DELETE>", "pmeta", "=", "null", ";", "class", "[", "]", "get", "parameter", "meta", "data", "param", "=", "{", "}", ";", "try", "{", "method", "sh", "=", "get", "prepared", "statement", "<DELETE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ".", "get", "class", "(", ")", ".", "get", "method", "(", "str", ",", "get", "parameter", "meta", "data", "param", ")", "<DELETE_END>", "<KEEP>", ";", "<KEEP_END>", "<DELETE>", "pmeta", "=", "(", "embed", "parameter", "set", "meta", "data", ")", "sh", ".", "invoke", "(", "get", "prepared", "statement", "(", ")", ",", "null", ")", ";", "stmt", "pmeta", "=", "pmeta", ";", "}", "catch", "(", "exception", "e", ")", "{", "handle", "reflection", "exception", "(", "e", ")", ";", "}", "<DELETE_END>", "<KEEP>", "return", "stmt", "pmeta", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> embed <REPLACE_NEW> engine <REPLACE_END> <REPLACE_OLD_DELETE_KEEP_AFTER> set meta data for <REPLACE_NEW_DELETE_KEEP_AFTER> meta data for <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "embed", "<REPLACE_NEW>", "engine", "<REPLACE_END>", "<REPLACE_OLD_DELETE_KEEP_AFTER>", "set", "meta", "data", "for", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "meta", "data", "for", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "embed", "<REPLACE_NEW>", "engine", "<KEEP>", "parameter", "<DELETE>", "set", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "get", "<KEEP>", "parameter", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sqlexception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "stmt", "<KEEP>", "pmeta", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "stmt", "<KEEP>", "pmeta", "<KEEP>", ";", "<INSERT>", "stmt", "<INSERT>", "pmeta", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "(", "<INSERT>", "engine", "<INSERT>", "prepared", "<INSERT>", "statement", "<INSERT>", ")", "<INSERT>", "ps", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "embed", "<KEEP>", "parameter", "<KEEP>", "set", "<KEEP>", "meta", "<KEEP>", "data", "<DELETE>", "pmeta", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "get", "<DELETE>", "parameter", "<DELETE>", "meta", "<DELETE>", "data", "<DELETE>", "param", "<DELETE>", "=", "<DELETE>", "{", "<DELETE>", "}", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "method", "<DELETE>", "sh", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "prepared", "<DELETE>", "statement", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "class", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "method", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "get", "<DELETE>", "parameter", "<DELETE>", "meta", "<DELETE>", "data", "<DELETE>", "param", "<DELETE>", ")", "<KEEP>", ";", "<DELETE>", "pmeta", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "embed", "<DELETE>", "parameter", "<DELETE>", "set", "<DELETE>", "meta", "<DELETE>", "data", "<DELETE>", ")", "<DELETE>", "sh", "<DELETE>", ".", "<DELETE>", "invoke", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "prepared", "<DELETE>", "statement", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "stmt", "<DELETE>", "pmeta", "<DELETE>", "=", "<DELETE>", "pmeta", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "handle", "<DELETE>", "reflection", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "stmt", "<KEEP>", "pmeta", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jackyglony_objectiveclipse-290-3920", "old_comment": "a new annotation model for the editor input", "old_comment_tokens": ["a", "new", "annotation", "model", "for", "the", "editor", "input"], "new_comment": "a new annotation model for the external editor input", "new_comment_tokens": ["a", "new", "annotation", "model", "for", "the", "external", "editor", "input"], "old_code": "private iannotation model create external search annotation model ( external editor input external input ) { istorage storage = external input . get storage ( ) ; iresource resource to use for marker = null ; ifile resource file = cuiplugin . get workspace ( ) . get root ( ) . get file for location ( storage . get full path ( ) ) ; if ( resource file = = null ) { resource to use for marker = external input . get marker resource ( ) ; if ( null = = resource to use for marker ) { iproject [ ] proj = cuiplugin . get workspace ( ) . get root ( ) . get projects ( ) ; for ( int i = num ; i < proj . length ; i + + ) { if ( proj [ i ] . is open ( ) ) { resource to use for marker = proj [ i ] ; break ; } } } } else { resource to use for marker = resource file . get project ( ) ; } if ( resource to use for marker ! = null ) { external search annotation model model = new external search annotation model ( resource to use for marker , storage ) ; return model ; } return null ; }", "old_code_tokens": ["private", "iannotation", "model", "create", "external", "search", "annotation", "model", "(", "external", "editor", "input", "external", "input", ")", "{", "istorage", "storage", "=", "external", "input", ".", "get", "storage", "(", ")", ";", "iresource", "resource", "to", "use", "for", "marker", "=", "null", ";", "ifile", "resource", "file", "=", "cuiplugin", ".", "get", "workspace", "(", ")", ".", "get", "root", "(", ")", ".", "get", "file", "for", "location", "(", "storage", ".", "get", "full", "path", "(", ")", ")", ";", "if", "(", "resource", "file", "=", "=", "null", ")", "{", "resource", "to", "use", "for", "marker", "=", "external", "input", ".", "get", "marker", "resource", "(", ")", ";", "if", "(", "null", "=", "=", "resource", "to", "use", "for", "marker", ")", "{", "iproject", "[", "]", "proj", "=", "cuiplugin", ".", "get", "workspace", "(", ")", ".", "get", "root", "(", ")", ".", "get", "projects", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "proj", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "proj", "[", "i", "]", ".", "is", "open", "(", ")", ")", "{", "resource", "to", "use", "for", "marker", "=", "proj", "[", "i", "]", ";", "break", ";", "}", "}", "}", "}", "else", "{", "resource", "to", "use", "for", "marker", "=", "resource", "file", ".", "get", "project", "(", ")", ";", "}", "if", "(", "resource", "to", "use", "for", "marker", "!", "=", "null", ")", "{", "external", "search", "annotation", "model", "model", "=", "new", "external", "search", "annotation", "model", "(", "resource", "to", "use", "for", "marker", ",", "storage", ")", ";", "return", "model", ";", "}", "return", "null", ";", "}"], "new_code": "private iannotation model create external search annotation model ( external editor input external input ) { istorage storage = external input . get storage ( ) ; iresource marker resource = external input . get marker resource ( ) ; return create external search annotation model ( storage , marker resource ) ; }", "new_code_tokens": ["private", "iannotation", "model", "create", "external", "search", "annotation", "model", "(", "external", "editor", "input", "external", "input", ")", "{", "istorage", "storage", "=", "external", "input", ".", "get", "storage", "(", ")", ";", "iresource", "marker", "resource", "=", "external", "input", ".", "get", "marker", "resource", "(", ")", ";", "return", "create", "external", "search", "annotation", "model", "(", "storage", ",", "marker", "resource", ")", ";", "}"], "span_diff_code": "<KEEP> private iannotation model create external search annotation model ( external editor input external input ) { istorage storage = external input . get storage ( ) ; iresource <KEEP_END> <INSERT> marker <INSERT_END> <KEEP> resource <KEEP_END> <DELETE> to use for marker = null ; ifile resource file = cuiplugin . get workspace ( ) . get root ( ) . get file for location ( storage . get full path ( ) ) ; if ( resource file = = null ) { resource to use for marker <DELETE_END> <KEEP> = external input . get marker resource ( ) ; <KEEP_END> <REPLACE_OLD> if ( null = = resource to use for marker ) { iproject [ ] proj = cuiplugin . get workspace ( ) . get root ( ) . get projects ( ) ; for ( int i = num ; i < proj . length ; i + + ) { if ( proj [ i ] . is open ( ) ) { resource to use for marker = proj [ i ] ; break ; } } } } else { resource to use for marker = resource file . get project ( ) ; } if ( resource to use for marker ! = null ) { external search annotation model model = new <REPLACE_NEW> return create <REPLACE_END> <KEEP> external search annotation model ( <KEEP_END> <INSERT> storage , marker <INSERT_END> <KEEP> resource <KEEP_END> <DELETE> to use for marker , storage <DELETE_END> <KEEP> ) ; <KEEP_END> <DELETE> return model ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> return null ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "iannotation", "model", "create", "external", "search", "annotation", "model", "(", "external", "editor", "input", "external", "input", ")", "{", "istorage", "storage", "=", "external", "input", ".", "get", "storage", "(", ")", ";", "iresource", "<KEEP_END>", "<INSERT>", "marker", "<INSERT_END>", "<KEEP>", "resource", "<KEEP_END>", "<DELETE>", "to", "use", "for", "marker", "=", "null", ";", "ifile", "resource", "file", "=", "cuiplugin", ".", "get", "workspace", "(", ")", ".", "get", "root", "(", ")", ".", "get", "file", "for", "location", "(", "storage", ".", "get", "full", "path", "(", ")", ")", ";", "if", "(", "resource", "file", "=", "=", "null", ")", "{", "resource", "to", "use", "for", "marker", "<DELETE_END>", "<KEEP>", "=", "external", "input", ".", "get", "marker", "resource", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "null", "=", "=", "resource", "to", "use", "for", "marker", ")", "{", "iproject", "[", "]", "proj", "=", "cuiplugin", ".", "get", "workspace", "(", ")", ".", "get", "root", "(", ")", ".", "get", "projects", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "proj", ".", "length", ";", "i", "+", "+", ")", "{", "if", "(", "proj", "[", "i", "]", ".", "is", "open", "(", ")", ")", "{", "resource", "to", "use", "for", "marker", "=", "proj", "[", "i", "]", ";", "break", ";", "}", "}", "}", "}", "else", "{", "resource", "to", "use", "for", "marker", "=", "resource", "file", ".", "get", "project", "(", ")", ";", "}", "if", "(", "resource", "to", "use", "for", "marker", "!", "=", "null", ")", "{", "external", "search", "annotation", "model", "model", "=", "new", "<REPLACE_NEW>", "return", "create", "<REPLACE_END>", "<KEEP>", "external", "search", "annotation", "model", "(", "<KEEP_END>", "<INSERT>", "storage", ",", "marker", "<INSERT_END>", "<KEEP>", "resource", "<KEEP_END>", "<DELETE>", "to", "use", "for", "marker", ",", "storage", "<DELETE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "return", "model", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "return", "null", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the external <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "external", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "iannotation", "<KEEP>", "model", "<KEEP>", "create", "<KEEP>", "external", "<KEEP>", "search", "<KEEP>", "annotation", "<KEEP>", "model", "<KEEP>", "(", "<KEEP>", "external", "<KEEP>", "editor", "<KEEP>", "input", "<KEEP>", "external", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "istorage", "<KEEP>", "storage", "<KEEP>", "=", "<KEEP>", "external", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "storage", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iresource", "<INSERT>", "marker", "<KEEP>", "resource", "<DELETE>", "to", "<DELETE>", "use", "<DELETE>", "for", "<DELETE>", "marker", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "ifile", "<DELETE>", "resource", "<DELETE>", "file", "<DELETE>", "=", "<DELETE>", "cuiplugin", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "workspace", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "root", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "file", "<DELETE>", "for", "<DELETE>", "location", "<DELETE>", "(", "<DELETE>", "storage", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "full", "<DELETE>", "path", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "resource", "<DELETE>", "file", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "resource", "<DELETE>", "to", "<DELETE>", "use", "<DELETE>", "for", "<DELETE>", "marker", "<KEEP>", "=", "<KEEP>", "external", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "marker", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "use", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "marker", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "iproject", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "proj", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "cuiplugin", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "workspace", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "root", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "projects", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "proj", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "proj", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "open", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "use", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "marker", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "proj", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "use", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "marker", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "use", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "marker", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "external", "<REPLACE_OLD>", "search", "<REPLACE_OLD>", "annotation", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "create", "<KEEP>", "external", "<KEEP>", "search", "<KEEP>", "annotation", "<KEEP>", "model", "<KEEP>", "(", "<INSERT>", "storage", "<INSERT>", ",", "<INSERT>", "marker", "<KEEP>", "resource", "<DELETE>", "to", "<DELETE>", "use", "<DELETE>", "for", "<DELETE>", "marker", "<DELETE>", ",", "<DELETE>", "storage", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "model", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_gitlab-oauth-plugin-5-6641", "old_comment": "parsed git hub repository name or null if it cannot be parsed from the specified url", "old_comment_tokens": ["parsed", "git", "hub", "repository", "name", "or", "null", "if", "it", "cannot", "be", "parsed", "from", "the", "specified", "url"], "new_comment": "parsed gitlab repository name or null if it cannot be parsed from the specified url", "new_comment_tokens": ["parsed", "gitlab", "repository", "name", "or", "null", "if", "it", "cannot", "be", "parsed", "from", "the", "specified", "url"], "old_code": "public static git hub repository name create ( final string url ) { logger . log ( level . fine , str , url ) ; for ( pattern p : url _ patterns ) { matcher m = p . matcher ( url . trim ( ) ) ; if ( m . matches ( ) ) { logger . log ( level . fine , str , m ) ; git hub repository name ret = new git hub repository name ( m . group ( num ) , m . group ( num ) , m . group ( num ) ) ; logger . log ( level . fine , str , ret ) ; return ret ; } } logger . log ( level . warning , str , url ) ; return null ; }", "old_code_tokens": ["public", "static", "git", "hub", "repository", "name", "create", "(", "final", "string", "url", ")", "{", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "url", ")", ";", "for", "(", "pattern", "p", ":", "url", "_", "patterns", ")", "{", "matcher", "m", "=", "p", ".", "matcher", "(", "url", ".", "trim", "(", ")", ")", ";", "if", "(", "m", ".", "matches", "(", ")", ")", "{", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "m", ")", ";", "git", "hub", "repository", "name", "ret", "=", "new", "git", "hub", "repository", "name", "(", "m", ".", "group", "(", "num", ")", ",", "m", ".", "group", "(", "num", ")", ",", "m", ".", "group", "(", "num", ")", ")", ";", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "ret", ")", ";", "return", "ret", ";", "}", "}", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ",", "url", ")", ";", "return", "null", ";", "}"], "new_code": "public static gitlab repository name create ( final string url ) { logger . log ( level . fine , str , url ) ; for ( pattern p : url _ patterns ) { matcher m = p . matcher ( url . trim ( ) ) ; if ( m . matches ( ) ) { logger . log ( level . fine , str , m ) ; gitlab repository name ret = new gitlab repository name ( m . group ( num ) , m . group ( num ) , m . group ( num ) ) ; logger . log ( level . fine , str , ret ) ; return ret ; } } logger . log ( level . warning , str , url ) ; return null ; }", "new_code_tokens": ["public", "static", "gitlab", "repository", "name", "create", "(", "final", "string", "url", ")", "{", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "url", ")", ";", "for", "(", "pattern", "p", ":", "url", "_", "patterns", ")", "{", "matcher", "m", "=", "p", ".", "matcher", "(", "url", ".", "trim", "(", ")", ")", ";", "if", "(", "m", ".", "matches", "(", ")", ")", "{", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "m", ")", ";", "gitlab", "repository", "name", "ret", "=", "new", "gitlab", "repository", "name", "(", "m", ".", "group", "(", "num", ")", ",", "m", ".", "group", "(", "num", ")", ",", "m", ".", "group", "(", "num", ")", ")", ";", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "ret", ")", ";", "return", "ret", ";", "}", "}", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ",", "url", ")", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> git hub <REPLACE_NEW> gitlab <REPLACE_END> <KEEP> repository name create ( final string url ) { logger . log ( level . fine , str , url ) ; for ( pattern p : url _ patterns ) { matcher m = p . matcher ( url . trim ( ) ) ; if ( m . matches ( ) ) { logger . log ( level . fine , str , m ) ; <KEEP_END> <REPLACE_OLD> git hub <REPLACE_NEW> gitlab <REPLACE_END> <KEEP> repository name ret = new <KEEP_END> <REPLACE_OLD> git hub <REPLACE_NEW> gitlab <REPLACE_END> <KEEP> repository name ( m . group ( num ) , m . group ( num ) , m . group ( num ) ) ; logger . log ( level . fine , str , ret ) ; return ret ; } } logger . log ( level . warning , str , url ) ; return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "git", "hub", "<REPLACE_NEW>", "gitlab", "<REPLACE_END>", "<KEEP>", "repository", "name", "create", "(", "final", "string", "url", ")", "{", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "url", ")", ";", "for", "(", "pattern", "p", ":", "url", "_", "patterns", ")", "{", "matcher", "m", "=", "p", ".", "matcher", "(", "url", ".", "trim", "(", ")", ")", ";", "if", "(", "m", ".", "matches", "(", ")", ")", "{", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "m", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "git", "hub", "<REPLACE_NEW>", "gitlab", "<REPLACE_END>", "<KEEP>", "repository", "name", "ret", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "git", "hub", "<REPLACE_NEW>", "gitlab", "<REPLACE_END>", "<KEEP>", "repository", "name", "(", "m", ".", "group", "(", "num", ")", ",", "m", ".", "group", "(", "num", ")", ",", "m", ".", "group", "(", "num", ")", ")", ";", "logger", ".", "log", "(", "level", ".", "fine", ",", "str", ",", "ret", ")", ";", "return", "ret", ";", "}", "}", "logger", ".", "log", "(", "level", ".", "warning", ",", "str", ",", "url", ")", ";", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> git hub <REPLACE_NEW> gitlab <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "git", "hub", "<REPLACE_NEW>", "gitlab", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "git", "<REPLACE_OLD>", "hub", "<REPLACE_NEW>", "gitlab", "<KEEP>", "repository", "<KEEP>", "name", "<KEEP>", "create", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "fine", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "pattern", "<KEEP>", "p", "<KEEP>", ":", "<KEEP>", "url", "<KEEP>", "_", "<KEEP>", "patterns", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "matcher", "<KEEP>", "m", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", ".", "<KEEP>", "matcher", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", ".", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "fine", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "git", "<REPLACE_OLD>", "hub", "<REPLACE_NEW>", "gitlab", "<KEEP>", "repository", "<KEEP>", "name", "<KEEP>", "ret", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "git", "<REPLACE_OLD>", "hub", "<REPLACE_NEW>", "gitlab", "<KEEP>", "repository", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "fine", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "ret", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "ret", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ".", "<KEEP>", "warning", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dustin_java-memcached-client-0-5857", "old_comment": "a map of the values ( for each value that exists )", "old_comment_tokens": ["a", "map", "of", "the", "values", "(", "for", "each", "value", "that", "exists", ")"], "new_comment": "the result from the cache ( null if there is none )", "new_comment_tokens": ["the", "result", "from", "the", "cache", "(", "null", "if", "there", "is", "none", ")"], "old_code": "public map < string , object > get ( string . . . keys ) { final map < string , object > rv = new concurrent hash map < string , object > ( ) ; final atomic integer requests = new atomic integer ( ) ; final synchronization object < atomic integer > sync = new synchronization object < atomic integer > ( requests ) ; get operation . callback cb = new get operation . callback ( ) { public void get complete ( ) { requests . decrement and get ( ) ; sync . set ( requests ) ; } public void got data ( string k , int flags , byte [ ] data ) { rv . put ( k , transcoder . decode ( new cached data ( flags , data ) ) ) ; } } ; map < integer , collection < string > > chunks = new hash map < integer , collection < string > > ( ) ; for ( string key : keys ) { int which = get server for key ( key ) ; collection < string > ks = chunks . get ( which ) ; if ( ks = = null ) { ks = new array list < string > ( ) ; chunks . put ( which , ks ) ; } ks . add ( key ) ; } for ( map . entry < integer , collection < string > > me : chunks . entry set ( ) ) { requests . increment and get ( ) ; add op ( me . get key ( ) , new get operation ( me . get value ( ) , cb ) ) ; } try { sync . wait until true ( new synchronization object . predicate < atomic integer > ( ) { public boolean evaluate ( atomic integer val ) { return val . get ( ) = = num ; } } , long . max _ value , time unit . seconds ) ; } catch ( interrupted exception e ) { throw new runtime exception ( str , e ) ; } catch ( timeout exception e ) { throw new runtime exception ( str , e ) ; } return rv ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "object", ">", "get", "(", "string", ".", ".", ".", "keys", ")", "{", "final", "map", "<", "string", ",", "object", ">", "rv", "=", "new", "concurrent", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "final", "atomic", "integer", "requests", "=", "new", "atomic", "integer", "(", ")", ";", "final", "synchronization", "object", "<", "atomic", "integer", ">", "sync", "=", "new", "synchronization", "object", "<", "atomic", "integer", ">", "(", "requests", ")", ";", "get", "operation", ".", "callback", "cb", "=", "new", "get", "operation", ".", "callback", "(", ")", "{", "public", "void", "get", "complete", "(", ")", "{", "requests", ".", "decrement", "and", "get", "(", ")", ";", "sync", ".", "set", "(", "requests", ")", ";", "}", "public", "void", "got", "data", "(", "string", "k", ",", "int", "flags", ",", "byte", "[", "]", "data", ")", "{", "rv", ".", "put", "(", "k", ",", "transcoder", ".", "decode", "(", "new", "cached", "data", "(", "flags", ",", "data", ")", ")", ")", ";", "}", "}", ";", "map", "<", "integer", ",", "collection", "<", "string", ">", ">", "chunks", "=", "new", "hash", "map", "<", "integer", ",", "collection", "<", "string", ">", ">", "(", ")", ";", "for", "(", "string", "key", ":", "keys", ")", "{", "int", "which", "=", "get", "server", "for", "key", "(", "key", ")", ";", "collection", "<", "string", ">", "ks", "=", "chunks", ".", "get", "(", "which", ")", ";", "if", "(", "ks", "=", "=", "null", ")", "{", "ks", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "chunks", ".", "put", "(", "which", ",", "ks", ")", ";", "}", "ks", ".", "add", "(", "key", ")", ";", "}", "for", "(", "map", ".", "entry", "<", "integer", ",", "collection", "<", "string", ">", ">", "me", ":", "chunks", ".", "entry", "set", "(", ")", ")", "{", "requests", ".", "increment", "and", "get", "(", ")", ";", "add", "op", "(", "me", ".", "get", "key", "(", ")", ",", "new", "get", "operation", "(", "me", ".", "get", "value", "(", ")", ",", "cb", ")", ")", ";", "}", "try", "{", "sync", ".", "wait", "until", "true", "(", "new", "synchronization", "object", ".", "predicate", "<", "atomic", "integer", ">", "(", ")", "{", "public", "boolean", "evaluate", "(", "atomic", "integer", "val", ")", "{", "return", "val", ".", "get", "(", ")", "=", "=", "num", ";", "}", "}", ",", "long", ".", "max", "_", "value", ",", "time", "unit", ".", "seconds", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "timeout", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "return", "rv", ";", "}"], "new_code": "public object get ( long timeout , string key ) throws timeout exception { synchronization object < cached data [ ] > sync = setup get ( key ) ; wait for not null ( timeout , sync ) ; cached data [ ] rv container = sync . get ( ) ; assert rv container . length = = num ; object rv = null ; if ( rv container [ num ] ! = null ) { rv = transcoder . decode ( rv container [ num ] ) ; } return rv ; }", "new_code_tokens": ["public", "object", "get", "(", "long", "timeout", ",", "string", "key", ")", "throws", "timeout", "exception", "{", "synchronization", "object", "<", "cached", "data", "[", "]", ">", "sync", "=", "setup", "get", "(", "key", ")", ";", "wait", "for", "not", "null", "(", "timeout", ",", "sync", ")", ";", "cached", "data", "[", "]", "rv", "container", "=", "sync", ".", "get", "(", ")", ";", "assert", "rv", "container", ".", "length", "=", "=", "num", ";", "object", "rv", "=", "null", ";", "if", "(", "rv", "container", "[", "num", "]", "!", "=", "null", ")", "{", "rv", "=", "transcoder", ".", "decode", "(", "rv", "container", "[", "num", "]", ")", ";", "}", "return", "rv", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> map < string , <DELETE_END> <KEEP> object <KEEP_END> <DELETE> > <DELETE_END> <KEEP> get ( <KEEP_END> <INSERT> long timeout , <INSERT_END> <KEEP> string <KEEP_END> <REPLACE_OLD> . . . keys <REPLACE_NEW> key <REPLACE_END> <KEEP> ) <KEEP_END> <INSERT> throws timeout exception <INSERT_END> <KEEP> { <KEEP_END> <DELETE> final map < string , object > rv = new concurrent hash map < string , object > ( ) ; final atomic integer requests = new atomic integer ( ) ; final <DELETE_END> <KEEP> synchronization object < <KEEP_END> <REPLACE_OLD> atomic integer <REPLACE_NEW> cached data [ ] <REPLACE_END> <KEEP> > sync = <KEEP_END> <REPLACE_OLD> new synchronization object < atomic integer > <REPLACE_NEW> setup get <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> requests <REPLACE_NEW> key <REPLACE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> get operation <REPLACE_NEW> wait for not null ( timeout , sync ) ; cached data [ ] rv container = sync <REPLACE_END> <KEEP> . <KEEP_END> <DELETE> callback cb = new get operation . callback ( ) { public void get complete ( ) { requests . decrement and <DELETE_END> <KEEP> get ( ) ; <KEEP_END> <REPLACE_OLD> sync <REPLACE_NEW> assert rv container <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> length = = num ; object rv = null ; if <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> requests ) ; } public void got data ( string k , int flags , byte <REPLACE_NEW> rv container <REPLACE_END> <KEEP> [ <KEEP_END> <INSERT> num <INSERT_END> <KEEP> ] <KEEP_END> <REPLACE_OLD> data <REPLACE_NEW> ! = null <REPLACE_END> <KEEP> ) { rv <KEEP_END> <REPLACE_OLD> . put ( k , <REPLACE_NEW> = <REPLACE_END> <KEEP> transcoder . decode ( <KEEP_END> <REPLACE_OLD> new cached data ( flags , data ) ) ) ; } } ; map < integer , collection < string > > chunks = new hash map < integer , collection < string > > ( ) ; for ( string key : keys ) { int which = get server for key ( key ) ; collection < string > ks = chunks . get ( which ) ; if ( ks = = null ) { ks = new array list < string > ( ) ; chunks . put ( which , ks ) ; } ks . add ( key ) ; } for ( map . entry < integer , collection < string > > me : chunks . entry set ( ) ) { requests . increment and get ( ) ; add op ( me . get key ( ) , new get operation ( me . get value ( ) , cb ) ) ; } try { sync . wait until true ( new synchronization object . predicate < atomic integer > ( ) { public boolean evaluate ( atomic integer val ) { return val . get ( ) = = <REPLACE_NEW> rv container [ <REPLACE_END> <KEEP> num <KEEP_END> <REPLACE_OLD> ; } } , long . max _ value , time unit . seconds ) ; } catch ( interrupted exception e ) { throw new runtime exception ( str , e ) ; } catch ( timeout exception e ) { throw new runtime exception ( str , e <REPLACE_NEW> ] <REPLACE_END> <KEEP> ) ; } return rv ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "map", "<", "string", ",", "<DELETE_END>", "<KEEP>", "object", "<KEEP_END>", "<DELETE>", ">", "<DELETE_END>", "<KEEP>", "get", "(", "<KEEP_END>", "<INSERT>", "long", "timeout", ",", "<INSERT_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", ".", ".", ".", "keys", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", "throws", "timeout", "exception", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<DELETE>", "final", "map", "<", "string", ",", "object", ">", "rv", "=", "new", "concurrent", "hash", "map", "<", "string", ",", "object", ">", "(", ")", ";", "final", "atomic", "integer", "requests", "=", "new", "atomic", "integer", "(", ")", ";", "final", "<DELETE_END>", "<KEEP>", "synchronization", "object", "<", "<KEEP_END>", "<REPLACE_OLD>", "atomic", "integer", "<REPLACE_NEW>", "cached", "data", "[", "]", "<REPLACE_END>", "<KEEP>", ">", "sync", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "synchronization", "object", "<", "atomic", "integer", ">", "<REPLACE_NEW>", "setup", "get", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "requests", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "get", "operation", "<REPLACE_NEW>", "wait", "for", "not", "null", "(", "timeout", ",", "sync", ")", ";", "cached", "data", "[", "]", "rv", "container", "=", "sync", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<DELETE>", "callback", "cb", "=", "new", "get", "operation", ".", "callback", "(", ")", "{", "public", "void", "get", "complete", "(", ")", "{", "requests", ".", "decrement", "and", "<DELETE_END>", "<KEEP>", "get", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "sync", "<REPLACE_NEW>", "assert", "rv", "container", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "length", "=", "=", "num", ";", "object", "rv", "=", "null", ";", "if", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "requests", ")", ";", "}", "public", "void", "got", "data", "(", "string", "k", ",", "int", "flags", ",", "byte", "<REPLACE_NEW>", "rv", "container", "<REPLACE_END>", "<KEEP>", "[", "<KEEP_END>", "<INSERT>", "num", "<INSERT_END>", "<KEEP>", "]", "<KEEP_END>", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "!", "=", "null", "<REPLACE_END>", "<KEEP>", ")", "{", "rv", "<KEEP_END>", "<REPLACE_OLD>", ".", "put", "(", "k", ",", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "transcoder", ".", "decode", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "cached", "data", "(", "flags", ",", "data", ")", ")", ")", ";", "}", "}", ";", "map", "<", "integer", ",", "collection", "<", "string", ">", ">", "chunks", "=", "new", "hash", "map", "<", "integer", ",", "collection", "<", "string", ">", ">", "(", ")", ";", "for", "(", "string", "key", ":", "keys", ")", "{", "int", "which", "=", "get", "server", "for", "key", "(", "key", ")", ";", "collection", "<", "string", ">", "ks", "=", "chunks", ".", "get", "(", "which", ")", ";", "if", "(", "ks", "=", "=", "null", ")", "{", "ks", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "chunks", ".", "put", "(", "which", ",", "ks", ")", ";", "}", "ks", ".", "add", "(", "key", ")", ";", "}", "for", "(", "map", ".", "entry", "<", "integer", ",", "collection", "<", "string", ">", ">", "me", ":", "chunks", ".", "entry", "set", "(", ")", ")", "{", "requests", ".", "increment", "and", "get", "(", ")", ";", "add", "op", "(", "me", ".", "get", "key", "(", ")", ",", "new", "get", "operation", "(", "me", ".", "get", "value", "(", ")", ",", "cb", ")", ")", ";", "}", "try", "{", "sync", ".", "wait", "until", "true", "(", "new", "synchronization", "object", ".", "predicate", "<", "atomic", "integer", ">", "(", ")", "{", "public", "boolean", "evaluate", "(", "atomic", "integer", "val", ")", "{", "return", "val", ".", "get", "(", ")", "=", "=", "<REPLACE_NEW>", "rv", "container", "[", "<REPLACE_END>", "<KEEP>", "num", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "}", ",", "long", ".", "max", "_", "value", ",", "time", "unit", ".", "seconds", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "timeout", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "e", "<REPLACE_NEW>", "]", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "return", "rv", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> a map of <DELETE_END> <REPLACE_OLD> values <REPLACE_NEW> result from the cache <REPLACE_END> <REPLACE_OLD> for each value that exists <REPLACE_NEW> null if there is none <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "a", "map", "of", "<DELETE_END>", "<REPLACE_OLD>", "values", "<REPLACE_NEW>", "result", "from", "the", "cache", "<REPLACE_END>", "<REPLACE_OLD>", "for", "each", "value", "that", "exists", "<REPLACE_NEW>", "null", "if", "there", "is", "none", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<KEEP>", "object", "<DELETE>", ">", "<KEEP>", "get", "<KEEP>", "(", "<INSERT>", "long", "<INSERT>", "timeout", "<INSERT>", ",", "<KEEP>", "string", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "keys", "<REPLACE_NEW>", "key", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "timeout", "<INSERT>", "exception", "<KEEP>", "{", "<DELETE>", "final", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "object", "<DELETE>", ">", "<DELETE>", "rv", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "concurrent", "<DELETE>", "hash", "<DELETE>", "map", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ",", "<DELETE>", "object", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "atomic", "<DELETE>", "integer", "<DELETE>", "requests", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "atomic", "<DELETE>", "integer", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<KEEP>", "synchronization", "<KEEP>", "object", "<KEEP>", "<", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "cached", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<KEEP>", ">", "<KEEP>", "sync", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "synchronization", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "setup", "<REPLACE_NEW>", "get", "<KEEP>", "(", "<REPLACE_OLD>", "requests", "<REPLACE_NEW>", "key", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "operation", "<REPLACE_NEW>", "wait", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "not", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "timeout", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sync", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "cached", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "rv", "<REPLACE_NEW>", "container", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "sync", "<KEEP>", ".", "<DELETE>", "callback", "<DELETE>", "cb", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "get", "<DELETE>", "operation", "<DELETE>", ".", "<DELETE>", "callback", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "public", "<DELETE>", "void", "<DELETE>", "get", "<DELETE>", "complete", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "requests", "<DELETE>", ".", "<DELETE>", "decrement", "<DELETE>", "and", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "sync", "<REPLACE_NEW>", "assert", "<REPLACE_NEW>", "rv", "<REPLACE_NEW>", "container", "<KEEP>", ".", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "rv", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "requests", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "got", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "k", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "flags", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "byte", "<REPLACE_NEW>", "rv", "<REPLACE_NEW>", "container", "<KEEP>", "[", "<INSERT>", "num", "<KEEP>", "]", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "rv", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "k", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "=", "<KEEP>", "transcoder", "<KEEP>", ".", "<KEEP>", "decode", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "cached", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "flags", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "chunks", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "keys", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "which", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "server", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "ks", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "chunks", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "which", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ks", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "ks", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "chunks", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "which", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "ks", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "ks", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "collection", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "me", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "chunks", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "requests", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "increment", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "op", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "me", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "operation", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "me", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "cb", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "sync", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "wait", "<REPLACE_OLD>", "until", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "synchronization", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "predicate", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "evaluate", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "atomic", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "rv", "<REPLACE_NEW>", "container", "<REPLACE_NEW>", "[", "<KEEP>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "max", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "time", "<REPLACE_OLD>", "unit", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "seconds", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "interrupted", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "runtime", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "timeout", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "runtime", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "rv", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "facebook_fresco-9-218", "old_comment": "number of entries that were evicted from the cache", "old_comment_tokens": ["number", "of", "entries", "that", "were", "evicted", "from", "the", "cache"], "new_comment": "number of the items removed from the cache", "new_comment_tokens": ["number", "of", "the", "items", "removed", "from", "the", "cache"], "old_code": "public long remove all ( predicate < k > match ) { long num evicted entries = num ; list < cache entry < k , v > > matching entries from eviction queue ; synchronized ( this ) { matching entries from eviction queue = get matching entries from eviction queue ( match ) ; num evicted entries + = matching entries from eviction queue . size ( ) ; for ( cache entry < k , v > cache entry : matching entries from eviction queue ) { remove from eviction queue ( cache entry ) ; remove from cached entries ( cache entry ) ; m memory cache index . remove entry ( cache entry . key , cache entry . value ) ; } list < cache entry < k , v > > matching cached entries = get matching cached entries ( match ) ; num evicted entries + = matching cached entries . size ( ) ; for ( cache entry < k , v > cache entry : matching cached entries ) { move from cached entries to orphans ( cache entry ) ; m memory cache index . remove entry ( cache entry . key , cache entry . value ) ; } } for ( cache entry < k , v > cache entry : matching entries from eviction queue ) { cache entry . value . close ( ) ; } return num evicted entries ; }", "old_code_tokens": ["public", "long", "remove", "all", "(", "predicate", "<", "k", ">", "match", ")", "{", "long", "num", "evicted", "entries", "=", "num", ";", "list", "<", "cache", "entry", "<", "k", ",", "v", ">", ">", "matching", "entries", "from", "eviction", "queue", ";", "synchronized", "(", "this", ")", "{", "matching", "entries", "from", "eviction", "queue", "=", "get", "matching", "entries", "from", "eviction", "queue", "(", "match", ")", ";", "num", "evicted", "entries", "+", "=", "matching", "entries", "from", "eviction", "queue", ".", "size", "(", ")", ";", "for", "(", "cache", "entry", "<", "k", ",", "v", ">", "cache", "entry", ":", "matching", "entries", "from", "eviction", "queue", ")", "{", "remove", "from", "eviction", "queue", "(", "cache", "entry", ")", ";", "remove", "from", "cached", "entries", "(", "cache", "entry", ")", ";", "m", "memory", "cache", "index", ".", "remove", "entry", "(", "cache", "entry", ".", "key", ",", "cache", "entry", ".", "value", ")", ";", "}", "list", "<", "cache", "entry", "<", "k", ",", "v", ">", ">", "matching", "cached", "entries", "=", "get", "matching", "cached", "entries", "(", "match", ")", ";", "num", "evicted", "entries", "+", "=", "matching", "cached", "entries", ".", "size", "(", ")", ";", "for", "(", "cache", "entry", "<", "k", ",", "v", ">", "cache", "entry", ":", "matching", "cached", "entries", ")", "{", "move", "from", "cached", "entries", "to", "orphans", "(", "cache", "entry", ")", ";", "m", "memory", "cache", "index", ".", "remove", "entry", "(", "cache", "entry", ".", "key", ",", "cache", "entry", ".", "value", ")", ";", "}", "}", "for", "(", "cache", "entry", "<", "k", ",", "v", ">", "cache", "entry", ":", "matching", "entries", "from", "eviction", "queue", ")", "{", "cache", "entry", ".", "value", ".", "close", "(", ")", ";", "}", "return", "num", "evicted", "entries", ";", "}"], "new_code": "public int remove all ( predicate < k > predicate ) { array list < entry < k , v > > old entries ; synchronized ( this ) { m exclusive entries . remove all ( predicate ) ; old entries = m cached entries . remove all ( predicate ) ; make orphans ( old entries ) ; } maybe close ( old entries ) ; maybe update cache params ( ) ; maybe evict entries ( ) ; return old entries . size ( ) ; }", "new_code_tokens": ["public", "int", "remove", "all", "(", "predicate", "<", "k", ">", "predicate", ")", "{", "array", "list", "<", "entry", "<", "k", ",", "v", ">", ">", "old", "entries", ";", "synchronized", "(", "this", ")", "{", "m", "exclusive", "entries", ".", "remove", "all", "(", "predicate", ")", ";", "old", "entries", "=", "m", "cached", "entries", ".", "remove", "all", "(", "predicate", ")", ";", "make", "orphans", "(", "old", "entries", ")", ";", "}", "maybe", "close", "(", "old", "entries", ")", ";", "maybe", "update", "cache", "params", "(", ")", ";", "maybe", "evict", "entries", "(", ")", ";", "return", "old", "entries", ".", "size", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> int <REPLACE_END> <KEEP> remove all ( predicate < k > <KEEP_END> <REPLACE_OLD> match <REPLACE_NEW> predicate <REPLACE_END> <KEEP> ) { <KEEP_END> <REPLACE_OLD> long num evicted entries = num ; <REPLACE_NEW> array <REPLACE_END> <KEEP> list < <KEEP_END> <DELETE> cache <DELETE_END> <KEEP> entry < k , v > > <KEEP_END> <REPLACE_OLD> matching <REPLACE_NEW> old <REPLACE_END> <KEEP> entries <KEEP_END> <DELETE> from eviction queue <DELETE_END> <KEEP> ; synchronized ( this ) { <KEEP_END> <REPLACE_OLD> matching <REPLACE_NEW> m exclusive <REPLACE_END> <KEEP> entries <KEEP_END> <REPLACE_OLD> from eviction queue = get matching entries from eviction queue <REPLACE_NEW> . remove all <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> match <REPLACE_NEW> predicate <REPLACE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> num evicted <REPLACE_NEW> old <REPLACE_END> <KEEP> entries <KEEP_END> <DELETE> + <DELETE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> matching <REPLACE_NEW> m cached <REPLACE_END> <KEEP> entries <KEEP_END> <DELETE> from eviction queue <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> size <REPLACE_NEW> remove all ( predicate ) ; make orphans ( old entries ) ; } maybe close ( old entries ) ; maybe update cache params <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <REPLACE_OLD> for <REPLACE_NEW> maybe evict entries <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> cache entry < k , v > cache entry : matching entries from eviction queue ) { remove from eviction queue ( cache entry <DELETE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> remove from cached entries ( cache entry ) ; m memory cache index . remove entry ( cache entry . key , cache entry . value ) ; } list < cache entry < k , v > > matching cached entries = get matching cached entries ( match ) ; num evicted entries + = matching cached <REPLACE_NEW> return old <REPLACE_END> <KEEP> entries . size ( ) ; <KEEP_END> <DELETE> for ( cache entry < k , v > cache entry : matching cached entries ) { move from cached entries to orphans ( cache entry ) ; m memory cache index . remove entry ( cache entry . key , cache entry . value ) ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> } for ( cache entry < k , v > cache entry : matching entries from eviction queue ) { cache entry . value . close ( ) ; } return num evicted entries ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "remove", "all", "(", "predicate", "<", "k", ">", "<KEEP_END>", "<REPLACE_OLD>", "match", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "long", "num", "evicted", "entries", "=", "num", ";", "<REPLACE_NEW>", "array", "<REPLACE_END>", "<KEEP>", "list", "<", "<KEEP_END>", "<DELETE>", "cache", "<DELETE_END>", "<KEEP>", "entry", "<", "k", ",", "v", ">", ">", "<KEEP_END>", "<REPLACE_OLD>", "matching", "<REPLACE_NEW>", "old", "<REPLACE_END>", "<KEEP>", "entries", "<KEEP_END>", "<DELETE>", "from", "eviction", "queue", "<DELETE_END>", "<KEEP>", ";", "synchronized", "(", "this", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "matching", "<REPLACE_NEW>", "m", "exclusive", "<REPLACE_END>", "<KEEP>", "entries", "<KEEP_END>", "<REPLACE_OLD>", "from", "eviction", "queue", "=", "get", "matching", "entries", "from", "eviction", "queue", "<REPLACE_NEW>", ".", "remove", "all", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "match", "<REPLACE_NEW>", "predicate", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "num", "evicted", "<REPLACE_NEW>", "old", "<REPLACE_END>", "<KEEP>", "entries", "<KEEP_END>", "<DELETE>", "+", "<DELETE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "matching", "<REPLACE_NEW>", "m", "cached", "<REPLACE_END>", "<KEEP>", "entries", "<KEEP_END>", "<DELETE>", "from", "eviction", "queue", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "remove", "all", "(", "predicate", ")", ";", "make", "orphans", "(", "old", "entries", ")", ";", "}", "maybe", "close", "(", "old", "entries", ")", ";", "maybe", "update", "cache", "params", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "maybe", "evict", "entries", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "cache", "entry", "<", "k", ",", "v", ">", "cache", "entry", ":", "matching", "entries", "from", "eviction", "queue", ")", "{", "remove", "from", "eviction", "queue", "(", "cache", "entry", "<DELETE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "remove", "from", "cached", "entries", "(", "cache", "entry", ")", ";", "m", "memory", "cache", "index", ".", "remove", "entry", "(", "cache", "entry", ".", "key", ",", "cache", "entry", ".", "value", ")", ";", "}", "list", "<", "cache", "entry", "<", "k", ",", "v", ">", ">", "matching", "cached", "entries", "=", "get", "matching", "cached", "entries", "(", "match", ")", ";", "num", "evicted", "entries", "+", "=", "matching", "cached", "<REPLACE_NEW>", "return", "old", "<REPLACE_END>", "<KEEP>", "entries", ".", "size", "(", ")", ";", "<KEEP_END>", "<DELETE>", "for", "(", "cache", "entry", "<", "k", ",", "v", ">", "cache", "entry", ":", "matching", "cached", "entries", ")", "{", "move", "from", "cached", "entries", "to", "orphans", "(", "cache", "entry", ")", ";", "m", "memory", "cache", "index", ".", "remove", "entry", "(", "cache", "entry", ".", "key", ",", "cache", "entry", ".", "value", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "}", "for", "(", "cache", "entry", "<", "k", ",", "v", ">", "cache", "entry", ":", "matching", "entries", "from", "eviction", "queue", ")", "{", "cache", "entry", ".", "value", ".", "close", "(", ")", ";", "}", "return", "num", "evicted", "entries", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> entries that were evicted <REPLACE_NEW> the items removed <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "entries", "that", "were", "evicted", "<REPLACE_NEW>", "the", "items", "removed", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<KEEP>", "remove", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "predicate", "<KEEP>", "<", "<KEEP>", "k", "<KEEP>", ">", "<REPLACE_OLD>", "match", "<REPLACE_NEW>", "predicate", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "evicted", "<REPLACE_OLD>", "entries", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "array", "<KEEP>", "list", "<KEEP>", "<", "<DELETE>", "cache", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "k", "<KEEP>", ",", "<KEEP>", "v", "<KEEP>", ">", "<KEEP>", ">", "<REPLACE_OLD>", "matching", "<REPLACE_NEW>", "old", "<KEEP>", "entries", "<DELETE>", "from", "<DELETE>", "eviction", "<DELETE>", "queue", "<KEEP>", ";", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "matching", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "exclusive", "<KEEP>", "entries", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "eviction", "<REPLACE_OLD>", "queue", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "matching", "<REPLACE_OLD>", "entries", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "eviction", "<REPLACE_OLD>", "queue", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "remove", "<REPLACE_NEW>", "all", "<KEEP>", "(", "<REPLACE_OLD>", "match", "<REPLACE_NEW>", "predicate", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "evicted", "<REPLACE_NEW>", "old", "<KEEP>", "entries", "<DELETE>", "+", "<KEEP>", "=", "<REPLACE_OLD>", "matching", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "cached", "<KEEP>", "entries", "<DELETE>", "from", "<DELETE>", "eviction", "<DELETE>", "queue", "<KEEP>", ".", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "remove", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "predicate", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "make", "<REPLACE_NEW>", "orphans", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "old", "<REPLACE_NEW>", "entries", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "maybe", "<REPLACE_NEW>", "close", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "old", "<REPLACE_NEW>", "entries", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "maybe", "<REPLACE_NEW>", "update", "<REPLACE_NEW>", "cache", "<REPLACE_NEW>", "params", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "for", "<REPLACE_NEW>", "maybe", "<REPLACE_NEW>", "evict", "<REPLACE_NEW>", "entries", "<KEEP>", "(", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", "<", "<DELETE>", "k", "<DELETE>", ",", "<DELETE>", "v", "<DELETE>", ">", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ":", "<DELETE>", "matching", "<DELETE>", "entries", "<DELETE>", "from", "<DELETE>", "eviction", "<DELETE>", "queue", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "remove", "<DELETE>", "from", "<DELETE>", "eviction", "<DELETE>", "queue", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", "entry", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "remove", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "cached", "<REPLACE_OLD>", "entries", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "memory", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "remove", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "cache", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "k", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "v", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "matching", "<REPLACE_OLD>", "cached", "<REPLACE_OLD>", "entries", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "matching", "<REPLACE_OLD>", "cached", "<REPLACE_OLD>", "entries", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "match", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "evicted", "<REPLACE_OLD>", "entries", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "matching", "<REPLACE_OLD>", "cached", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "old", "<KEEP>", "entries", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", "<", "<DELETE>", "k", "<DELETE>", ",", "<DELETE>", "v", "<DELETE>", ">", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ":", "<DELETE>", "matching", "<DELETE>", "cached", "<DELETE>", "entries", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "move", "<DELETE>", "from", "<DELETE>", "cached", "<DELETE>", "entries", "<DELETE>", "to", "<DELETE>", "orphans", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "m", "<DELETE>", "memory", "<DELETE>", "cache", "<DELETE>", "index", "<DELETE>", ".", "<DELETE>", "remove", "<DELETE>", "entry", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "key", "<DELETE>", ",", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", "<", "<DELETE>", "k", "<DELETE>", ",", "<DELETE>", "v", "<DELETE>", ">", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ":", "<DELETE>", "matching", "<DELETE>", "entries", "<DELETE>", "from", "<DELETE>", "eviction", "<DELETE>", "queue", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "cache", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", ".", "<DELETE>", "close", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "num", "<DELETE>", "evicted", "<DELETE>", "entries", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "tms005_datanucleus-appengine-35-4891", "old_comment": "true if the relations changed in a way that requires an update to the relation owner , false otherwise .", "old_comment_tokens": ["true", "if", "the", "relations", "changed", "in", "a", "way", "that", "requires", "an", "update", "to", "the", "relation", "owner", ",", "false", "otherwise", "."], "new_comment": "true if the entity has had properties updated during this method , false otherwise .", "new_comment_tokens": ["true", "if", "the", "entity", "has", "had", "properties", "updated", "during", "this", "method", ",", "false", "otherwise", "."], "old_code": "boolean store relations ( key registry key registry ) { nucleus logger . general . debug ( str + get object provider ( ) + str + relation store infos . size ( ) ) ; if ( relation store infos . is empty ( ) ) { return false ; } object provider op = get object provider ( ) ; execution context ec = op . get execution context ( ) ; datastore table table = get datastore table ( ) ; if ( datastore entity . get key ( ) ! = null ) { key key = datastore entity . get key ( ) ; abstract class meta data acmd = op . get class meta data ( ) ; int [ ] relation field nums = acmd . get relation member positions ( ec . get class loader resolver ( ) , ec . get meta data manager ( ) ) ; if ( relation field nums ! = null ) { for ( int i = num ; i < relation field nums . length ; i + + ) { abstract member meta data mmd = acmd . get meta data for managed member at absolute position ( relation field nums [ i ] ) ; boolean owned = meta data utils . is owned relation ( mmd ) ; if ( owned ) { object child value = op . provide field ( mmd . get absolute field number ( ) ) ; if ( child value ! = null ) { if ( child value instanceof object [ ] ) { child value = arrays . as list ( ( object [ ] ) child value ) ; } string expected type = get expected child type ( mmd ) ; if ( child value instanceof iterable ) { for ( object element : ( iterable ) child value ) { add to parent key map ( key registry , element , key , op . get execution context ( ) , expected type , true ) ; } } else { add to parent key map ( key registry , child value , key , op . get execution context ( ) , expected type , ! table . is parent key provider ( mmd ) ) ; } } } } } } boolean modified entity = false ; for ( relation store information rel info : relation store infos ) { abstract member meta data mmd = rel info . mmd ; try { java type mapping mapping = table . get member mapping in datastore class ( rel info . mmd ) ; if ( mapping instanceof embedded pcmapping | | mapping instanceof serialised pcmapping | | mapping instanceof serialised reference mapping | | mapping instanceof persistable mapping | | mapping instanceof interface mapping ) { if ( ! table . is parent key provider ( mmd ) ) { entity utils . check parentage ( rel info . value , op ) ; mapping . set object ( get execution context ( ) , datastore entity , is _ fk _ value _ arr , rel info . value , op , mmd . get absolute field number ( ) ) ; } } } catch ( not yet flushed exception e ) { } } for ( relation store information rel info : relation store infos ) { try { java type mapping mapping = table . get member mapping in datastore class ( rel info . mmd ) ; if ( mapping instanceof mapping callbacks ) { if ( operation = = store field manager . operation . insert ) { ( ( mapping callbacks ) mapping ) . post insert ( op ) ; } else { ( ( mapping callbacks ) mapping ) . post update ( op ) ; } } } catch ( not yet flushed exception e ) { } } for ( relation store information rel info : relation store infos ) { abstract member meta data mmd = rel info . mmd ; int relation type = mmd . get relation type ( ec . get class loader resolver ( ) ) ; nucleus logger . general . debug ( str + get object provider ( ) + str + mmd . get full field name ( ) ) ; boolean owned = meta data utils . is owned relation ( mmd ) ; if ( owned ) { if ( ! get store manager ( ) . storage version at least ( storage version . write _ owned _ child _ keys _ to _ parents ) ) { continue ; } if ( relation type = = relation . many _ to _ one _ bi ) { continue ; } else if ( relation type = = relation . one _ to _ one _ bi & & mmd . get mapped by ( ) ! = null ) { continue ; } } object value = rel info . value ; if ( value = = null ) { check setting to null value ( mmd , value ) ; } else if ( relation . is relation single valued ( relation type ) ) { if ( ec . get api adapter ( ) . is deleted ( value ) ) { value = null ; } else { key key = entity utils . extract child key ( value , ec , datastore entity ) ; if ( key = = null ) { object child pc = process persistable ( mmd , value ) ; if ( child pc ! = value ) { op . replace field ( mmd . get absolute field number ( ) , child pc ) ; } key = entity utils . extract child key ( child pc , ec , datastore entity ) ; } value = key ; } } else if ( relation . is relation multi valued ( relation type ) ) { if ( mmd . has collection ( ) ) { collection coll = ( collection ) value ; list < key > keys = utils . new array list ( ) ; for ( object obj : coll ) { if ( ! ec . get api adapter ( ) . is deleted ( obj ) ) { key key = entity utils . extract child key ( obj , ec , datastore entity ) ; if ( key ! = null ) { keys . add ( key ) ; } else { object child pc = process persistable ( mmd , obj ) ; key = entity utils . extract child key ( child pc , ec , datastore entity ) ; keys . add ( key ) ; } } } value = keys ; } if ( value instanceof sco ) { value = ( ( sco ) value ) . get value ( ) ; } } modified entity = true ; entity utils . set entity property ( datastore entity , mmd , entity utils . get property name ( get store manager ( ) . get identifier factory ( ) , mmd ) , value ) ; } relation store infos . clear ( ) ; nucleus logger . general . debug ( str + get object provider ( ) + str + modified entity ) ; try { return key registry . parent needs update ( datastore entity . get key ( ) ) ; } finally { key registry . clear modified parent ( datastore entity . get key ( ) ) ; } }", "old_code_tokens": ["boolean", "store", "relations", "(", "key", "registry", "key", "registry", ")", "{", "nucleus", "logger", ".", "general", ".", "debug", "(", "str", "+", "get", "object", "provider", "(", ")", "+", "str", "+", "relation", "store", "infos", ".", "size", "(", ")", ")", ";", "if", "(", "relation", "store", "infos", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "object", "provider", "op", "=", "get", "object", "provider", "(", ")", ";", "execution", "context", "ec", "=", "op", ".", "get", "execution", "context", "(", ")", ";", "datastore", "table", "table", "=", "get", "datastore", "table", "(", ")", ";", "if", "(", "datastore", "entity", ".", "get", "key", "(", ")", "!", "=", "null", ")", "{", "key", "key", "=", "datastore", "entity", ".", "get", "key", "(", ")", ";", "abstract", "class", "meta", "data", "acmd", "=", "op", ".", "get", "class", "meta", "data", "(", ")", ";", "int", "[", "]", "relation", "field", "nums", "=", "acmd", ".", "get", "relation", "member", "positions", "(", "ec", ".", "get", "class", "loader", "resolver", "(", ")", ",", "ec", ".", "get", "meta", "data", "manager", "(", ")", ")", ";", "if", "(", "relation", "field", "nums", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "relation", "field", "nums", ".", "length", ";", "i", "+", "+", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "acmd", ".", "get", "meta", "data", "for", "managed", "member", "at", "absolute", "position", "(", "relation", "field", "nums", "[", "i", "]", ")", ";", "boolean", "owned", "=", "meta", "data", "utils", ".", "is", "owned", "relation", "(", "mmd", ")", ";", "if", "(", "owned", ")", "{", "object", "child", "value", "=", "op", ".", "provide", "field", "(", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ")", ";", "if", "(", "child", "value", "!", "=", "null", ")", "{", "if", "(", "child", "value", "instanceof", "object", "[", "]", ")", "{", "child", "value", "=", "arrays", ".", "as", "list", "(", "(", "object", "[", "]", ")", "child", "value", ")", ";", "}", "string", "expected", "type", "=", "get", "expected", "child", "type", "(", "mmd", ")", ";", "if", "(", "child", "value", "instanceof", "iterable", ")", "{", "for", "(", "object", "element", ":", "(", "iterable", ")", "child", "value", ")", "{", "add", "to", "parent", "key", "map", "(", "key", "registry", ",", "element", ",", "key", ",", "op", ".", "get", "execution", "context", "(", ")", ",", "expected", "type", ",", "true", ")", ";", "}", "}", "else", "{", "add", "to", "parent", "key", "map", "(", "key", "registry", ",", "child", "value", ",", "key", ",", "op", ".", "get", "execution", "context", "(", ")", ",", "expected", "type", ",", "!", "table", ".", "is", "parent", "key", "provider", "(", "mmd", ")", ")", ";", "}", "}", "}", "}", "}", "}", "boolean", "modified", "entity", "=", "false", ";", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "rel", "info", ".", "mmd", ";", "try", "{", "java", "type", "mapping", "mapping", "=", "table", ".", "get", "member", "mapping", "in", "datastore", "class", "(", "rel", "info", ".", "mmd", ")", ";", "if", "(", "mapping", "instanceof", "embedded", "pcmapping", "|", "|", "mapping", "instanceof", "serialised", "pcmapping", "|", "|", "mapping", "instanceof", "serialised", "reference", "mapping", "|", "|", "mapping", "instanceof", "persistable", "mapping", "|", "|", "mapping", "instanceof", "interface", "mapping", ")", "{", "if", "(", "!", "table", ".", "is", "parent", "key", "provider", "(", "mmd", ")", ")", "{", "entity", "utils", ".", "check", "parentage", "(", "rel", "info", ".", "value", ",", "op", ")", ";", "mapping", ".", "set", "object", "(", "get", "execution", "context", "(", ")", ",", "datastore", "entity", ",", "is", "_", "fk", "_", "value", "_", "arr", ",", "rel", "info", ".", "value", ",", "op", ",", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ")", ";", "}", "}", "}", "catch", "(", "not", "yet", "flushed", "exception", "e", ")", "{", "}", "}", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "try", "{", "java", "type", "mapping", "mapping", "=", "table", ".", "get", "member", "mapping", "in", "datastore", "class", "(", "rel", "info", ".", "mmd", ")", ";", "if", "(", "mapping", "instanceof", "mapping", "callbacks", ")", "{", "if", "(", "operation", "=", "=", "store", "field", "manager", ".", "operation", ".", "insert", ")", "{", "(", "(", "mapping", "callbacks", ")", "mapping", ")", ".", "post", "insert", "(", "op", ")", ";", "}", "else", "{", "(", "(", "mapping", "callbacks", ")", "mapping", ")", ".", "post", "update", "(", "op", ")", ";", "}", "}", "}", "catch", "(", "not", "yet", "flushed", "exception", "e", ")", "{", "}", "}", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "rel", "info", ".", "mmd", ";", "int", "relation", "type", "=", "mmd", ".", "get", "relation", "type", "(", "ec", ".", "get", "class", "loader", "resolver", "(", ")", ")", ";", "nucleus", "logger", ".", "general", ".", "debug", "(", "str", "+", "get", "object", "provider", "(", ")", "+", "str", "+", "mmd", ".", "get", "full", "field", "name", "(", ")", ")", ";", "boolean", "owned", "=", "meta", "data", "utils", ".", "is", "owned", "relation", "(", "mmd", ")", ";", "if", "(", "owned", ")", "{", "if", "(", "!", "get", "store", "manager", "(", ")", ".", "storage", "version", "at", "least", "(", "storage", "version", ".", "write", "_", "owned", "_", "child", "_", "keys", "_", "to", "_", "parents", ")", ")", "{", "continue", ";", "}", "if", "(", "relation", "type", "=", "=", "relation", ".", "many", "_", "to", "_", "one", "_", "bi", ")", "{", "continue", ";", "}", "else", "if", "(", "relation", "type", "=", "=", "relation", ".", "one", "_", "to", "_", "one", "_", "bi", "&", "&", "mmd", ".", "get", "mapped", "by", "(", ")", "!", "=", "null", ")", "{", "continue", ";", "}", "}", "object", "value", "=", "rel", "info", ".", "value", ";", "if", "(", "value", "=", "=", "null", ")", "{", "check", "setting", "to", "null", "value", "(", "mmd", ",", "value", ")", ";", "}", "else", "if", "(", "relation", ".", "is", "relation", "single", "valued", "(", "relation", "type", ")", ")", "{", "if", "(", "ec", ".", "get", "api", "adapter", "(", ")", ".", "is", "deleted", "(", "value", ")", ")", "{", "value", "=", "null", ";", "}", "else", "{", "key", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "value", ",", "ec", ",", "datastore", "entity", ")", ";", "if", "(", "key", "=", "=", "null", ")", "{", "object", "child", "pc", "=", "process", "persistable", "(", "mmd", ",", "value", ")", ";", "if", "(", "child", "pc", "!", "=", "value", ")", "{", "op", ".", "replace", "field", "(", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ",", "child", "pc", ")", ";", "}", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "child", "pc", ",", "ec", ",", "datastore", "entity", ")", ";", "}", "value", "=", "key", ";", "}", "}", "else", "if", "(", "relation", ".", "is", "relation", "multi", "valued", "(", "relation", "type", ")", ")", "{", "if", "(", "mmd", ".", "has", "collection", "(", ")", ")", "{", "collection", "coll", "=", "(", "collection", ")", "value", ";", "list", "<", "key", ">", "keys", "=", "utils", ".", "new", "array", "list", "(", ")", ";", "for", "(", "object", "obj", ":", "coll", ")", "{", "if", "(", "!", "ec", ".", "get", "api", "adapter", "(", ")", ".", "is", "deleted", "(", "obj", ")", ")", "{", "key", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "obj", ",", "ec", ",", "datastore", "entity", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "keys", ".", "add", "(", "key", ")", ";", "}", "else", "{", "object", "child", "pc", "=", "process", "persistable", "(", "mmd", ",", "obj", ")", ";", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "child", "pc", ",", "ec", ",", "datastore", "entity", ")", ";", "keys", ".", "add", "(", "key", ")", ";", "}", "}", "}", "value", "=", "keys", ";", "}", "if", "(", "value", "instanceof", "sco", ")", "{", "value", "=", "(", "(", "sco", ")", "value", ")", ".", "get", "value", "(", ")", ";", "}", "}", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "entity", "utils", ".", "get", "property", "name", "(", "get", "store", "manager", "(", ")", ".", "get", "identifier", "factory", "(", ")", ",", "mmd", ")", ",", "value", ")", ";", "}", "relation", "store", "infos", ".", "clear", "(", ")", ";", "nucleus", "logger", ".", "general", ".", "debug", "(", "str", "+", "get", "object", "provider", "(", ")", "+", "str", "+", "modified", "entity", ")", ";", "try", "{", "return", "key", "registry", ".", "parent", "needs", "update", "(", "datastore", "entity", ".", "get", "key", "(", ")", ")", ";", "}", "finally", "{", "key", "registry", ".", "clear", "modified", "parent", "(", "datastore", "entity", ".", "get", "key", "(", ")", ")", ";", "}", "}"], "new_code": "boolean store relations ( key registry key registry ) { if ( relation store infos . is empty ( ) ) { return false ; } object provider op = get object provider ( ) ; execution context ec = op . get execution context ( ) ; datastore table table = get datastore table ( ) ; if ( datastore entity . get key ( ) ! = null ) { key key = datastore entity . get key ( ) ; abstract class meta data acmd = op . get class meta data ( ) ; int [ ] relation field nums = acmd . get relation member positions ( ec . get class loader resolver ( ) , ec . get meta data manager ( ) ) ; if ( relation field nums ! = null ) { for ( int i = num ; i < relation field nums . length ; i + + ) { abstract member meta data mmd = acmd . get meta data for managed member at absolute position ( relation field nums [ i ] ) ; boolean owned = meta data utils . is owned relation ( mmd ) ; if ( owned ) { object child value = op . provide field ( mmd . get absolute field number ( ) ) ; if ( child value ! = null ) { if ( child value instanceof object [ ] ) { child value = arrays . as list ( ( object [ ] ) child value ) ; } string expected type = get expected child type ( mmd ) ; if ( child value instanceof iterable ) { for ( object element : ( iterable ) child value ) { add to parent key map ( key registry , element , key , op . get execution context ( ) , expected type , true ) ; } } else { add to parent key map ( key registry , child value , key , op . get execution context ( ) , expected type , ! table . is parent key provider ( mmd ) ) ; } } } } } } boolean modified entity = false ; for ( relation store information rel info : relation store infos ) { abstract member meta data mmd = rel info . mmd ; try { java type mapping mapping = table . get member mapping in datastore class ( rel info . mmd ) ; if ( mapping instanceof embedded pcmapping | | mapping instanceof serialised pcmapping | | mapping instanceof serialised reference mapping | | mapping instanceof persistable mapping | | mapping instanceof interface mapping ) { if ( ! table . is parent key provider ( mmd ) ) { entity utils . check parentage ( rel info . value , op ) ; mapping . set object ( get execution context ( ) , datastore entity , is _ fk _ value _ arr , rel info . value , op , mmd . get absolute field number ( ) ) ; } } } catch ( not yet flushed exception e ) { } } for ( relation store information rel info : relation store infos ) { try { java type mapping mapping = table . get member mapping in datastore class ( rel info . mmd ) ; if ( mapping instanceof mapping callbacks ) { if ( operation = = store field manager . operation . insert ) { ( ( mapping callbacks ) mapping ) . post insert ( op ) ; } else { ( ( mapping callbacks ) mapping ) . post update ( op ) ; } } } catch ( not yet flushed exception e ) { } } for ( relation store information rel info : relation store infos ) { abstract member meta data mmd = rel info . mmd ; int relation type = mmd . get relation type ( ec . get class loader resolver ( ) ) ; boolean owned = meta data utils . is owned relation ( mmd ) ; if ( owned ) { if ( ! get store manager ( ) . storage version at least ( storage version . write _ owned _ child _ keys _ to _ parents ) ) { continue ; } if ( relation type = = relation . many _ to _ one _ bi ) { continue ; } else if ( relation type = = relation . one _ to _ one _ bi & & mmd . get mapped by ( ) ! = null ) { continue ; } } object value = rel info . value ; string prop name = entity utils . get property name ( get store manager ( ) . get identifier factory ( ) , mmd ) ; if ( value = = null ) { check setting to null value ( mmd , value ) ; if ( ! datastore entity . has property ( prop name ) ) { modified entity = true ; entity utils . set entity property ( datastore entity , mmd , prop name , value ) ; } } else if ( relation . is relation single valued ( relation type ) ) { if ( ec . get api adapter ( ) . is deleted ( value ) ) { value = null ; } else { key key = entity utils . extract child key ( value , ec , datastore entity ) ; if ( key = = null ) { object child pc = process persistable ( mmd , value ) ; if ( child pc ! = value ) { op . replace field ( mmd . get absolute field number ( ) , child pc ) ; } key = entity utils . extract child key ( child pc , ec , datastore entity ) ; } value = key ; if ( ! datastore entity . has property ( prop name ) | | ! value . equals ( datastore entity . get property ( prop name ) ) ) { modified entity = true ; entity utils . set entity property ( datastore entity , mmd , prop name , value ) ; } } } else if ( relation . is relation multi valued ( relation type ) ) { if ( mmd . has collection ( ) ) { collection coll = ( collection ) value ; list < key > keys = utils . new array list ( ) ; for ( object obj : coll ) { if ( ! ec . get api adapter ( ) . is deleted ( obj ) ) { key key = entity utils . extract child key ( obj , ec , datastore entity ) ; if ( key ! = null ) { keys . add ( key ) ; } else { object child pc = process persistable ( mmd , obj ) ; key = entity utils . extract child key ( child pc , ec , datastore entity ) ; keys . add ( key ) ; } } } value = keys ; if ( ! datastore entity . has property ( prop name ) | | ! value . equals ( datastore entity . get property ( prop name ) ) ) { modified entity = true ; entity utils . set entity property ( datastore entity , mmd , prop name , value ) ; } } } } relation store infos . clear ( ) ; return modified entity ; }", "new_code_tokens": ["boolean", "store", "relations", "(", "key", "registry", "key", "registry", ")", "{", "if", "(", "relation", "store", "infos", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "object", "provider", "op", "=", "get", "object", "provider", "(", ")", ";", "execution", "context", "ec", "=", "op", ".", "get", "execution", "context", "(", ")", ";", "datastore", "table", "table", "=", "get", "datastore", "table", "(", ")", ";", "if", "(", "datastore", "entity", ".", "get", "key", "(", ")", "!", "=", "null", ")", "{", "key", "key", "=", "datastore", "entity", ".", "get", "key", "(", ")", ";", "abstract", "class", "meta", "data", "acmd", "=", "op", ".", "get", "class", "meta", "data", "(", ")", ";", "int", "[", "]", "relation", "field", "nums", "=", "acmd", ".", "get", "relation", "member", "positions", "(", "ec", ".", "get", "class", "loader", "resolver", "(", ")", ",", "ec", ".", "get", "meta", "data", "manager", "(", ")", ")", ";", "if", "(", "relation", "field", "nums", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "relation", "field", "nums", ".", "length", ";", "i", "+", "+", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "acmd", ".", "get", "meta", "data", "for", "managed", "member", "at", "absolute", "position", "(", "relation", "field", "nums", "[", "i", "]", ")", ";", "boolean", "owned", "=", "meta", "data", "utils", ".", "is", "owned", "relation", "(", "mmd", ")", ";", "if", "(", "owned", ")", "{", "object", "child", "value", "=", "op", ".", "provide", "field", "(", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ")", ";", "if", "(", "child", "value", "!", "=", "null", ")", "{", "if", "(", "child", "value", "instanceof", "object", "[", "]", ")", "{", "child", "value", "=", "arrays", ".", "as", "list", "(", "(", "object", "[", "]", ")", "child", "value", ")", ";", "}", "string", "expected", "type", "=", "get", "expected", "child", "type", "(", "mmd", ")", ";", "if", "(", "child", "value", "instanceof", "iterable", ")", "{", "for", "(", "object", "element", ":", "(", "iterable", ")", "child", "value", ")", "{", "add", "to", "parent", "key", "map", "(", "key", "registry", ",", "element", ",", "key", ",", "op", ".", "get", "execution", "context", "(", ")", ",", "expected", "type", ",", "true", ")", ";", "}", "}", "else", "{", "add", "to", "parent", "key", "map", "(", "key", "registry", ",", "child", "value", ",", "key", ",", "op", ".", "get", "execution", "context", "(", ")", ",", "expected", "type", ",", "!", "table", ".", "is", "parent", "key", "provider", "(", "mmd", ")", ")", ";", "}", "}", "}", "}", "}", "}", "boolean", "modified", "entity", "=", "false", ";", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "rel", "info", ".", "mmd", ";", "try", "{", "java", "type", "mapping", "mapping", "=", "table", ".", "get", "member", "mapping", "in", "datastore", "class", "(", "rel", "info", ".", "mmd", ")", ";", "if", "(", "mapping", "instanceof", "embedded", "pcmapping", "|", "|", "mapping", "instanceof", "serialised", "pcmapping", "|", "|", "mapping", "instanceof", "serialised", "reference", "mapping", "|", "|", "mapping", "instanceof", "persistable", "mapping", "|", "|", "mapping", "instanceof", "interface", "mapping", ")", "{", "if", "(", "!", "table", ".", "is", "parent", "key", "provider", "(", "mmd", ")", ")", "{", "entity", "utils", ".", "check", "parentage", "(", "rel", "info", ".", "value", ",", "op", ")", ";", "mapping", ".", "set", "object", "(", "get", "execution", "context", "(", ")", ",", "datastore", "entity", ",", "is", "_", "fk", "_", "value", "_", "arr", ",", "rel", "info", ".", "value", ",", "op", ",", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ")", ";", "}", "}", "}", "catch", "(", "not", "yet", "flushed", "exception", "e", ")", "{", "}", "}", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "try", "{", "java", "type", "mapping", "mapping", "=", "table", ".", "get", "member", "mapping", "in", "datastore", "class", "(", "rel", "info", ".", "mmd", ")", ";", "if", "(", "mapping", "instanceof", "mapping", "callbacks", ")", "{", "if", "(", "operation", "=", "=", "store", "field", "manager", ".", "operation", ".", "insert", ")", "{", "(", "(", "mapping", "callbacks", ")", "mapping", ")", ".", "post", "insert", "(", "op", ")", ";", "}", "else", "{", "(", "(", "mapping", "callbacks", ")", "mapping", ")", ".", "post", "update", "(", "op", ")", ";", "}", "}", "}", "catch", "(", "not", "yet", "flushed", "exception", "e", ")", "{", "}", "}", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "rel", "info", ".", "mmd", ";", "int", "relation", "type", "=", "mmd", ".", "get", "relation", "type", "(", "ec", ".", "get", "class", "loader", "resolver", "(", ")", ")", ";", "boolean", "owned", "=", "meta", "data", "utils", ".", "is", "owned", "relation", "(", "mmd", ")", ";", "if", "(", "owned", ")", "{", "if", "(", "!", "get", "store", "manager", "(", ")", ".", "storage", "version", "at", "least", "(", "storage", "version", ".", "write", "_", "owned", "_", "child", "_", "keys", "_", "to", "_", "parents", ")", ")", "{", "continue", ";", "}", "if", "(", "relation", "type", "=", "=", "relation", ".", "many", "_", "to", "_", "one", "_", "bi", ")", "{", "continue", ";", "}", "else", "if", "(", "relation", "type", "=", "=", "relation", ".", "one", "_", "to", "_", "one", "_", "bi", "&", "&", "mmd", ".", "get", "mapped", "by", "(", ")", "!", "=", "null", ")", "{", "continue", ";", "}", "}", "object", "value", "=", "rel", "info", ".", "value", ";", "string", "prop", "name", "=", "entity", "utils", ".", "get", "property", "name", "(", "get", "store", "manager", "(", ")", ".", "get", "identifier", "factory", "(", ")", ",", "mmd", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "check", "setting", "to", "null", "value", "(", "mmd", ",", "value", ")", ";", "if", "(", "!", "datastore", "entity", ".", "has", "property", "(", "prop", "name", ")", ")", "{", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "prop", "name", ",", "value", ")", ";", "}", "}", "else", "if", "(", "relation", ".", "is", "relation", "single", "valued", "(", "relation", "type", ")", ")", "{", "if", "(", "ec", ".", "get", "api", "adapter", "(", ")", ".", "is", "deleted", "(", "value", ")", ")", "{", "value", "=", "null", ";", "}", "else", "{", "key", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "value", ",", "ec", ",", "datastore", "entity", ")", ";", "if", "(", "key", "=", "=", "null", ")", "{", "object", "child", "pc", "=", "process", "persistable", "(", "mmd", ",", "value", ")", ";", "if", "(", "child", "pc", "!", "=", "value", ")", "{", "op", ".", "replace", "field", "(", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ",", "child", "pc", ")", ";", "}", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "child", "pc", ",", "ec", ",", "datastore", "entity", ")", ";", "}", "value", "=", "key", ";", "if", "(", "!", "datastore", "entity", ".", "has", "property", "(", "prop", "name", ")", "|", "|", "!", "value", ".", "equals", "(", "datastore", "entity", ".", "get", "property", "(", "prop", "name", ")", ")", ")", "{", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "prop", "name", ",", "value", ")", ";", "}", "}", "}", "else", "if", "(", "relation", ".", "is", "relation", "multi", "valued", "(", "relation", "type", ")", ")", "{", "if", "(", "mmd", ".", "has", "collection", "(", ")", ")", "{", "collection", "coll", "=", "(", "collection", ")", "value", ";", "list", "<", "key", ">", "keys", "=", "utils", ".", "new", "array", "list", "(", ")", ";", "for", "(", "object", "obj", ":", "coll", ")", "{", "if", "(", "!", "ec", ".", "get", "api", "adapter", "(", ")", ".", "is", "deleted", "(", "obj", ")", ")", "{", "key", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "obj", ",", "ec", ",", "datastore", "entity", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "keys", ".", "add", "(", "key", ")", ";", "}", "else", "{", "object", "child", "pc", "=", "process", "persistable", "(", "mmd", ",", "obj", ")", ";", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "child", "pc", ",", "ec", ",", "datastore", "entity", ")", ";", "keys", ".", "add", "(", "key", ")", ";", "}", "}", "}", "value", "=", "keys", ";", "if", "(", "!", "datastore", "entity", ".", "has", "property", "(", "prop", "name", ")", "|", "|", "!", "value", ".", "equals", "(", "datastore", "entity", ".", "get", "property", "(", "prop", "name", ")", ")", ")", "{", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "prop", "name", ",", "value", ")", ";", "}", "}", "}", "}", "relation", "store", "infos", ".", "clear", "(", ")", ";", "return", "modified", "entity", ";", "}"], "span_diff_code": "<KEEP> boolean store relations ( key registry key registry ) { <KEEP_END> <DELETE> nucleus logger . general . debug ( str + get object provider ( ) + str + relation store infos . size ( ) ) ; <DELETE_END> <KEEP> if ( relation store infos . is empty ( ) ) { return false ; } object provider op = get object provider ( ) ; execution context ec = op . get execution context ( ) ; datastore table table = get datastore table ( ) ; if ( datastore entity . get key ( ) ! = null ) { key key = datastore entity . get key ( ) ; abstract class meta data acmd = op . get class meta data ( ) ; int [ ] relation field nums = acmd . get relation member positions ( ec . get class loader resolver ( ) , ec . get meta data manager ( ) ) ; if ( relation field nums ! = null ) { for ( int i = num ; i < relation field nums . length ; i + + ) { abstract member meta data mmd = acmd . get meta data for managed member at absolute position ( relation field nums [ i ] ) ; boolean owned = meta data utils . is owned relation ( mmd ) ; if ( owned ) { object child value = op . provide field ( mmd . get absolute field number ( ) ) ; if ( child value ! = null ) { if ( child value instanceof object [ ] ) { child value = arrays . as list ( ( object [ ] ) child value ) ; } string expected type = get expected child type ( mmd ) ; if ( child value instanceof iterable ) { for ( object element : ( iterable ) child value ) { add to parent key map ( key registry , element , key , op . get execution context ( ) , expected type , true ) ; } } else { add to parent key map ( key registry , child value , key , op . get execution context ( ) , expected type , ! table . is parent key provider ( mmd ) ) ; } } } } } } boolean modified entity = false ; for ( relation store information rel info : relation store infos ) { abstract member meta data mmd = rel info . mmd ; try { java type mapping mapping = table . get member mapping in datastore class ( rel info . mmd ) ; if ( mapping instanceof embedded pcmapping | | mapping instanceof serialised pcmapping | | mapping instanceof serialised reference mapping | | mapping instanceof persistable mapping | | mapping instanceof interface mapping ) { if ( ! table . is parent key provider ( mmd ) ) { entity utils . check parentage ( rel info . value , op ) ; mapping . set object ( get execution context ( ) , datastore entity , is _ fk _ value _ arr , rel info . value , op , mmd . get absolute field number ( ) ) ; } } } catch ( not yet flushed exception e ) { } } for ( relation store information rel info : relation store infos ) { try { java type mapping mapping = table . get member mapping in datastore class ( rel info . mmd ) ; if ( mapping instanceof mapping callbacks ) { if ( operation = = store field manager . operation . insert ) { ( ( mapping callbacks ) mapping ) . post insert ( op ) ; } else { ( ( mapping callbacks ) mapping ) . post update ( op ) ; } } } catch ( not yet flushed exception e ) { } } for ( relation store information rel info : relation store infos ) { abstract member meta data mmd = rel info . mmd ; int relation type = mmd . get relation type ( ec . get class loader resolver ( ) ) ; <KEEP_END> <DELETE> nucleus logger . general . debug ( str + get object provider ( ) + str + mmd . get full field name ( ) ) ; <DELETE_END> <KEEP> boolean owned = meta data utils . is owned relation ( mmd ) ; if ( owned ) { if ( ! get store manager ( ) . storage version at least ( storage version . write _ owned _ child _ keys _ to _ parents ) ) { continue ; } if ( relation type = = relation . many _ to _ one _ bi ) { continue ; } else if ( relation type = = relation . one _ to _ one _ bi & & mmd . get mapped by ( ) ! = null ) { continue ; } } object value = rel info . value ; <KEEP_END> <INSERT> string prop name = entity utils . get property name ( get store manager ( ) . get identifier factory ( ) , mmd ) ; <INSERT_END> <KEEP> if ( value = = null ) { check setting to null value ( mmd , value ) ; <KEEP_END> <INSERT> if ( ! datastore entity . has property ( prop name ) ) { modified entity = true ; entity utils . set entity property ( datastore entity , mmd , prop name , value ) ; } <INSERT_END> <KEEP> } else if ( relation . is relation single valued ( relation type ) ) { if ( ec . get api adapter ( ) . is deleted ( value ) ) { value = null ; } else { key key = entity utils . extract child key ( value , ec , datastore entity ) ; if ( key = = null ) { object child pc = process persistable ( mmd , value ) ; if ( child pc ! = value ) { op . replace field ( mmd . get absolute field number ( ) , child pc ) ; } key = entity utils . extract child key ( child pc , ec , datastore entity ) ; } value = key ; <KEEP_END> <INSERT> if ( ! datastore entity . has property ( prop name ) | | ! value . equals ( datastore entity . get property ( prop name ) ) ) { modified entity = true ; entity utils . set entity property ( datastore entity , mmd , prop name , value ) ; } <INSERT_END> <KEEP> } } else if ( relation . is relation multi valued ( relation type ) ) { if ( mmd . has collection ( ) ) { collection coll = ( collection ) value ; list < key > keys = utils . new array list ( ) ; for ( object obj : coll ) { if ( ! ec . get api adapter ( ) . is deleted ( obj ) ) { key key = entity utils . extract child key ( obj , ec , datastore entity ) ; if ( key ! = null ) { keys . add ( key ) ; } else { object child pc = process persistable ( mmd , obj ) ; key = entity utils . extract child key ( child pc , ec , datastore entity ) ; keys . add ( key ) ; } } } value = keys ; <KEEP_END> <REPLACE_OLD> } if ( value instanceof sco ) { value = ( ( sco ) value ) . get value ( ) ; } } <REPLACE_NEW> if ( ! datastore entity . has property ( prop name ) | | ! value . equals ( datastore entity . get property ( prop name ) ) ) { <REPLACE_END> <KEEP> modified entity = true ; entity utils . set entity property ( datastore entity , mmd , <KEEP_END> <REPLACE_OLD> entity utils . get property <REPLACE_NEW> prop <REPLACE_END> <KEEP> name <KEEP_END> <REPLACE_OLD> ( get store manager ( ) . get identifier factory ( ) , mmd ) , value ) ; <REPLACE_NEW> , value ) ; } } } <REPLACE_END> <KEEP> } relation store infos . clear ( ) ; <KEEP_END> <REPLACE_OLD> nucleus logger . general . debug ( str + get object provider ( ) + str + <REPLACE_NEW> return <REPLACE_END> <KEEP> modified entity <KEEP_END> <REPLACE_OLD> ) ; try { return key registry . parent needs update ( datastore entity . get key ( ) ) ; } finally { key registry . clear modified parent ( datastore entity . get key ( ) ) ; } } <REPLACE_NEW> ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "boolean", "store", "relations", "(", "key", "registry", "key", "registry", ")", "{", "<KEEP_END>", "<DELETE>", "nucleus", "logger", ".", "general", ".", "debug", "(", "str", "+", "get", "object", "provider", "(", ")", "+", "str", "+", "relation", "store", "infos", ".", "size", "(", ")", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "relation", "store", "infos", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "object", "provider", "op", "=", "get", "object", "provider", "(", ")", ";", "execution", "context", "ec", "=", "op", ".", "get", "execution", "context", "(", ")", ";", "datastore", "table", "table", "=", "get", "datastore", "table", "(", ")", ";", "if", "(", "datastore", "entity", ".", "get", "key", "(", ")", "!", "=", "null", ")", "{", "key", "key", "=", "datastore", "entity", ".", "get", "key", "(", ")", ";", "abstract", "class", "meta", "data", "acmd", "=", "op", ".", "get", "class", "meta", "data", "(", ")", ";", "int", "[", "]", "relation", "field", "nums", "=", "acmd", ".", "get", "relation", "member", "positions", "(", "ec", ".", "get", "class", "loader", "resolver", "(", ")", ",", "ec", ".", "get", "meta", "data", "manager", "(", ")", ")", ";", "if", "(", "relation", "field", "nums", "!", "=", "null", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "relation", "field", "nums", ".", "length", ";", "i", "+", "+", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "acmd", ".", "get", "meta", "data", "for", "managed", "member", "at", "absolute", "position", "(", "relation", "field", "nums", "[", "i", "]", ")", ";", "boolean", "owned", "=", "meta", "data", "utils", ".", "is", "owned", "relation", "(", "mmd", ")", ";", "if", "(", "owned", ")", "{", "object", "child", "value", "=", "op", ".", "provide", "field", "(", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ")", ";", "if", "(", "child", "value", "!", "=", "null", ")", "{", "if", "(", "child", "value", "instanceof", "object", "[", "]", ")", "{", "child", "value", "=", "arrays", ".", "as", "list", "(", "(", "object", "[", "]", ")", "child", "value", ")", ";", "}", "string", "expected", "type", "=", "get", "expected", "child", "type", "(", "mmd", ")", ";", "if", "(", "child", "value", "instanceof", "iterable", ")", "{", "for", "(", "object", "element", ":", "(", "iterable", ")", "child", "value", ")", "{", "add", "to", "parent", "key", "map", "(", "key", "registry", ",", "element", ",", "key", ",", "op", ".", "get", "execution", "context", "(", ")", ",", "expected", "type", ",", "true", ")", ";", "}", "}", "else", "{", "add", "to", "parent", "key", "map", "(", "key", "registry", ",", "child", "value", ",", "key", ",", "op", ".", "get", "execution", "context", "(", ")", ",", "expected", "type", ",", "!", "table", ".", "is", "parent", "key", "provider", "(", "mmd", ")", ")", ";", "}", "}", "}", "}", "}", "}", "boolean", "modified", "entity", "=", "false", ";", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "rel", "info", ".", "mmd", ";", "try", "{", "java", "type", "mapping", "mapping", "=", "table", ".", "get", "member", "mapping", "in", "datastore", "class", "(", "rel", "info", ".", "mmd", ")", ";", "if", "(", "mapping", "instanceof", "embedded", "pcmapping", "|", "|", "mapping", "instanceof", "serialised", "pcmapping", "|", "|", "mapping", "instanceof", "serialised", "reference", "mapping", "|", "|", "mapping", "instanceof", "persistable", "mapping", "|", "|", "mapping", "instanceof", "interface", "mapping", ")", "{", "if", "(", "!", "table", ".", "is", "parent", "key", "provider", "(", "mmd", ")", ")", "{", "entity", "utils", ".", "check", "parentage", "(", "rel", "info", ".", "value", ",", "op", ")", ";", "mapping", ".", "set", "object", "(", "get", "execution", "context", "(", ")", ",", "datastore", "entity", ",", "is", "_", "fk", "_", "value", "_", "arr", ",", "rel", "info", ".", "value", ",", "op", ",", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ")", ";", "}", "}", "}", "catch", "(", "not", "yet", "flushed", "exception", "e", ")", "{", "}", "}", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "try", "{", "java", "type", "mapping", "mapping", "=", "table", ".", "get", "member", "mapping", "in", "datastore", "class", "(", "rel", "info", ".", "mmd", ")", ";", "if", "(", "mapping", "instanceof", "mapping", "callbacks", ")", "{", "if", "(", "operation", "=", "=", "store", "field", "manager", ".", "operation", ".", "insert", ")", "{", "(", "(", "mapping", "callbacks", ")", "mapping", ")", ".", "post", "insert", "(", "op", ")", ";", "}", "else", "{", "(", "(", "mapping", "callbacks", ")", "mapping", ")", ".", "post", "update", "(", "op", ")", ";", "}", "}", "}", "catch", "(", "not", "yet", "flushed", "exception", "e", ")", "{", "}", "}", "for", "(", "relation", "store", "information", "rel", "info", ":", "relation", "store", "infos", ")", "{", "abstract", "member", "meta", "data", "mmd", "=", "rel", "info", ".", "mmd", ";", "int", "relation", "type", "=", "mmd", ".", "get", "relation", "type", "(", "ec", ".", "get", "class", "loader", "resolver", "(", ")", ")", ";", "<KEEP_END>", "<DELETE>", "nucleus", "logger", ".", "general", ".", "debug", "(", "str", "+", "get", "object", "provider", "(", ")", "+", "str", "+", "mmd", ".", "get", "full", "field", "name", "(", ")", ")", ";", "<DELETE_END>", "<KEEP>", "boolean", "owned", "=", "meta", "data", "utils", ".", "is", "owned", "relation", "(", "mmd", ")", ";", "if", "(", "owned", ")", "{", "if", "(", "!", "get", "store", "manager", "(", ")", ".", "storage", "version", "at", "least", "(", "storage", "version", ".", "write", "_", "owned", "_", "child", "_", "keys", "_", "to", "_", "parents", ")", ")", "{", "continue", ";", "}", "if", "(", "relation", "type", "=", "=", "relation", ".", "many", "_", "to", "_", "one", "_", "bi", ")", "{", "continue", ";", "}", "else", "if", "(", "relation", "type", "=", "=", "relation", ".", "one", "_", "to", "_", "one", "_", "bi", "&", "&", "mmd", ".", "get", "mapped", "by", "(", ")", "!", "=", "null", ")", "{", "continue", ";", "}", "}", "object", "value", "=", "rel", "info", ".", "value", ";", "<KEEP_END>", "<INSERT>", "string", "prop", "name", "=", "entity", "utils", ".", "get", "property", "name", "(", "get", "store", "manager", "(", ")", ".", "get", "identifier", "factory", "(", ")", ",", "mmd", ")", ";", "<INSERT_END>", "<KEEP>", "if", "(", "value", "=", "=", "null", ")", "{", "check", "setting", "to", "null", "value", "(", "mmd", ",", "value", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "!", "datastore", "entity", ".", "has", "property", "(", "prop", "name", ")", ")", "{", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "prop", "name", ",", "value", ")", ";", "}", "<INSERT_END>", "<KEEP>", "}", "else", "if", "(", "relation", ".", "is", "relation", "single", "valued", "(", "relation", "type", ")", ")", "{", "if", "(", "ec", ".", "get", "api", "adapter", "(", ")", ".", "is", "deleted", "(", "value", ")", ")", "{", "value", "=", "null", ";", "}", "else", "{", "key", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "value", ",", "ec", ",", "datastore", "entity", ")", ";", "if", "(", "key", "=", "=", "null", ")", "{", "object", "child", "pc", "=", "process", "persistable", "(", "mmd", ",", "value", ")", ";", "if", "(", "child", "pc", "!", "=", "value", ")", "{", "op", ".", "replace", "field", "(", "mmd", ".", "get", "absolute", "field", "number", "(", ")", ",", "child", "pc", ")", ";", "}", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "child", "pc", ",", "ec", ",", "datastore", "entity", ")", ";", "}", "value", "=", "key", ";", "<KEEP_END>", "<INSERT>", "if", "(", "!", "datastore", "entity", ".", "has", "property", "(", "prop", "name", ")", "|", "|", "!", "value", ".", "equals", "(", "datastore", "entity", ".", "get", "property", "(", "prop", "name", ")", ")", ")", "{", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "prop", "name", ",", "value", ")", ";", "}", "<INSERT_END>", "<KEEP>", "}", "}", "else", "if", "(", "relation", ".", "is", "relation", "multi", "valued", "(", "relation", "type", ")", ")", "{", "if", "(", "mmd", ".", "has", "collection", "(", ")", ")", "{", "collection", "coll", "=", "(", "collection", ")", "value", ";", "list", "<", "key", ">", "keys", "=", "utils", ".", "new", "array", "list", "(", ")", ";", "for", "(", "object", "obj", ":", "coll", ")", "{", "if", "(", "!", "ec", ".", "get", "api", "adapter", "(", ")", ".", "is", "deleted", "(", "obj", ")", ")", "{", "key", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "obj", ",", "ec", ",", "datastore", "entity", ")", ";", "if", "(", "key", "!", "=", "null", ")", "{", "keys", ".", "add", "(", "key", ")", ";", "}", "else", "{", "object", "child", "pc", "=", "process", "persistable", "(", "mmd", ",", "obj", ")", ";", "key", "=", "entity", "utils", ".", "extract", "child", "key", "(", "child", "pc", ",", "ec", ",", "datastore", "entity", ")", ";", "keys", ".", "add", "(", "key", ")", ";", "}", "}", "}", "value", "=", "keys", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "if", "(", "value", "instanceof", "sco", ")", "{", "value", "=", "(", "(", "sco", ")", "value", ")", ".", "get", "value", "(", ")", ";", "}", "}", "<REPLACE_NEW>", "if", "(", "!", "datastore", "entity", ".", "has", "property", "(", "prop", "name", ")", "|", "|", "!", "value", ".", "equals", "(", "datastore", "entity", ".", "get", "property", "(", "prop", "name", ")", ")", ")", "{", "<REPLACE_END>", "<KEEP>", "modified", "entity", "=", "true", ";", "entity", "utils", ".", "set", "entity", "property", "(", "datastore", "entity", ",", "mmd", ",", "<KEEP_END>", "<REPLACE_OLD>", "entity", "utils", ".", "get", "property", "<REPLACE_NEW>", "prop", "<REPLACE_END>", "<KEEP>", "name", "<KEEP_END>", "<REPLACE_OLD>", "(", "get", "store", "manager", "(", ")", ".", "get", "identifier", "factory", "(", ")", ",", "mmd", ")", ",", "value", ")", ";", "<REPLACE_NEW>", ",", "value", ")", ";", "}", "}", "}", "<REPLACE_END>", "<KEEP>", "}", "relation", "store", "infos", ".", "clear", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "nucleus", "logger", ".", "general", ".", "debug", "(", "str", "+", "get", "object", "provider", "(", ")", "+", "str", "+", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "modified", "entity", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "try", "{", "return", "key", "registry", ".", "parent", "needs", "update", "(", "datastore", "entity", ".", "get", "key", "(", ")", ")", ";", "}", "finally", "{", "key", "registry", ".", "clear", "modified", "parent", "(", "datastore", "entity", ".", "get", "key", "(", ")", ")", ";", "}", "}", "<REPLACE_NEW>", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> relations changed in a way that requires an update to the relation owner <REPLACE_NEW> entity has had properties updated during this method <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "relations", "changed", "in", "a", "way", "that", "requires", "an", "update", "to", "the", "relation", "owner", "<REPLACE_NEW>", "entity", "has", "had", "properties", "updated", "during", "this", "method", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "boolean", "<KEEP>", "store", "<KEEP>", "relations", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "registry", "<KEEP>", "key", "<KEEP>", "registry", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "nucleus", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "general", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "get", "<DELETE>", "object", "<DELETE>", "provider", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "relation", "<DELETE>", "store", "<DELETE>", "infos", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "infos", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "object", "<KEEP>", "provider", "<KEEP>", "op", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "execution", "<KEEP>", "context", "<KEEP>", "ec", "<KEEP>", "=", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "execution", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "datastore", "<KEEP>", "table", "<KEEP>", "table", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "datastore", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "key", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "abstract", "<KEEP>", "class", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "acmd", "<KEEP>", "=", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "relation", "<KEEP>", "field", "<KEEP>", "nums", "<KEEP>", "=", "<KEEP>", "acmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "relation", "<KEEP>", "member", "<KEEP>", "positions", "<KEEP>", "(", "<KEEP>", "ec", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "resolver", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "ec", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "field", "<KEEP>", "nums", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "relation", "<KEEP>", "field", "<KEEP>", "nums", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "abstract", "<KEEP>", "member", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "mmd", "<KEEP>", "=", "<KEEP>", "acmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "for", "<KEEP>", "managed", "<KEEP>", "member", "<KEEP>", "at", "<KEEP>", "absolute", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "field", "<KEEP>", "nums", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "owned", "<KEEP>", "=", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "owned", "<KEEP>", "relation", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "owned", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "provide", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "absolute", "<KEEP>", "field", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", "instanceof", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "expected", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "expected", "<KEEP>", "child", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", "instanceof", "<KEEP>", "iterable", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "element", "<KEEP>", ":", "<KEEP>", "(", "<KEEP>", "iterable", "<KEEP>", ")", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "add", "<KEEP>", "to", "<KEEP>", "parent", "<KEEP>", "key", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "registry", "<KEEP>", ",", "<KEEP>", "element", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "execution", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "expected", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "add", "<KEEP>", "to", "<KEEP>", "parent", "<KEEP>", "key", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "registry", "<KEEP>", ",", "<KEEP>", "child", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "key", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "execution", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "expected", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "!", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "parent", "<KEEP>", "key", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "boolean", "<KEEP>", "modified", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "information", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ":", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "infos", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "abstract", "<KEEP>", "member", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "mmd", "<KEEP>", "=", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "mmd", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "java", "<KEEP>", "type", "<KEEP>", "mapping", "<KEEP>", "mapping", "<KEEP>", "=", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "member", "<KEEP>", "mapping", "<KEEP>", "in", "<KEEP>", "datastore", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mapping", "<KEEP>", "instanceof", "<KEEP>", "embedded", "<KEEP>", "pcmapping", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "mapping", "<KEEP>", "instanceof", "<KEEP>", "serialised", "<KEEP>", "pcmapping", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "mapping", "<KEEP>", "instanceof", "<KEEP>", "serialised", "<KEEP>", "reference", "<KEEP>", "mapping", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "mapping", "<KEEP>", "instanceof", "<KEEP>", "persistable", "<KEEP>", "mapping", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "mapping", "<KEEP>", "instanceof", "<KEEP>", "interface", "<KEEP>", "mapping", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "parent", "<KEEP>", "key", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "check", "<KEEP>", "parentage", "<KEEP>", "(", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "mapping", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "execution", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ",", "<KEEP>", "is", "<KEEP>", "_", "<KEEP>", "fk", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", "_", "<KEEP>", "arr", "<KEEP>", ",", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ",", "<KEEP>", "mmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "absolute", "<KEEP>", "field", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "not", "<KEEP>", "yet", "<KEEP>", "flushed", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "information", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ":", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "infos", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "java", "<KEEP>", "type", "<KEEP>", "mapping", "<KEEP>", "mapping", "<KEEP>", "=", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "member", "<KEEP>", "mapping", "<KEEP>", "in", "<KEEP>", "datastore", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mapping", "<KEEP>", "instanceof", "<KEEP>", "mapping", "<KEEP>", "callbacks", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "operation", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "store", "<KEEP>", "field", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "operation", "<KEEP>", ".", "<KEEP>", "insert", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "mapping", "<KEEP>", "callbacks", "<KEEP>", ")", "<KEEP>", "mapping", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "insert", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "mapping", "<KEEP>", "callbacks", "<KEEP>", ")", "<KEEP>", "mapping", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "update", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "not", "<KEEP>", "yet", "<KEEP>", "flushed", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "information", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ":", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "infos", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "abstract", "<KEEP>", "member", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "mmd", "<KEEP>", "=", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "mmd", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "relation", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "mmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "relation", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "ec", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "resolver", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "nucleus", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "general", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "get", "<DELETE>", "object", "<DELETE>", "provider", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "mmd", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "full", "<DELETE>", "field", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "boolean", "<KEEP>", "owned", "<KEEP>", "=", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "owned", "<KEEP>", "relation", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "owned", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "get", "<KEEP>", "store", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "storage", "<KEEP>", "version", "<KEEP>", "at", "<KEEP>", "least", "<KEEP>", "(", "<KEEP>", "storage", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "_", "<KEEP>", "owned", "<KEEP>", "_", "<KEEP>", "child", "<KEEP>", "_", "<KEEP>", "keys", "<KEEP>", "_", "<KEEP>", "to", "<KEEP>", "_", "<KEEP>", "parents", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "relation", "<KEEP>", ".", "<KEEP>", "many", "<KEEP>", "_", "<KEEP>", "to", "<KEEP>", "_", "<KEEP>", "one", "<KEEP>", "_", "<KEEP>", "bi", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "relation", "<KEEP>", ".", "<KEEP>", "one", "<KEEP>", "_", "<KEEP>", "to", "<KEEP>", "_", "<KEEP>", "one", "<KEEP>", "_", "<KEEP>", "bi", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "mmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "mapped", "<KEEP>", "by", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "object", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "rel", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", ";", "<INSERT>", "string", "<INSERT>", "prop", "<INSERT>", "name", "<INSERT>", "=", "<INSERT>", "entity", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "property", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", "get", "<INSERT>", "store", "<INSERT>", "manager", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "identifier", "<INSERT>", "factory", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "mmd", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "setting", "<KEEP>", "to", "<KEEP>", "null", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "datastore", "<INSERT>", "entity", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "property", "<INSERT>", "(", "<INSERT>", "prop", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "modified", "<INSERT>", "entity", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "entity", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "entity", "<INSERT>", "property", "<INSERT>", "(", "<INSERT>", "datastore", "<INSERT>", "entity", "<INSERT>", ",", "<INSERT>", "mmd", "<INSERT>", ",", "<INSERT>", "prop", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "relation", "<KEEP>", "single", "<KEEP>", "valued", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ec", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "api", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "deleted", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "key", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "extract", "<KEEP>", "child", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ",", "<KEEP>", "ec", "<KEEP>", ",", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "child", "<KEEP>", "pc", "<KEEP>", "=", "<KEEP>", "process", "<KEEP>", "persistable", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ",", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "pc", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "absolute", "<KEEP>", "field", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "child", "<KEEP>", "pc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "extract", "<KEEP>", "child", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "pc", "<KEEP>", ",", "<KEEP>", "ec", "<KEEP>", ",", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "key", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "datastore", "<INSERT>", "entity", "<INSERT>", ".", "<INSERT>", "has", "<INSERT>", "property", "<INSERT>", "(", "<INSERT>", "prop", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "!", "<INSERT>", "value", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "datastore", "<INSERT>", "entity", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "property", "<INSERT>", "(", "<INSERT>", "prop", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "modified", "<INSERT>", "entity", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "entity", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "entity", "<INSERT>", "property", "<INSERT>", "(", "<INSERT>", "datastore", "<INSERT>", "entity", "<INSERT>", ",", "<INSERT>", "mmd", "<INSERT>", ",", "<INSERT>", "prop", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "relation", "<KEEP>", "multi", "<KEEP>", "valued", "<KEEP>", "(", "<KEEP>", "relation", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "collection", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "collection", "<KEEP>", "coll", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", ")", "<KEEP>", "value", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "key", "<KEEP>", ">", "<KEEP>", "keys", "<KEEP>", "=", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "obj", "<KEEP>", ":", "<KEEP>", "coll", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "ec", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "api", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "deleted", "<KEEP>", "(", "<KEEP>", "obj", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "key", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "extract", "<KEEP>", "child", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "obj", "<KEEP>", ",", "<KEEP>", "ec", "<KEEP>", ",", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "child", "<KEEP>", "pc", "<KEEP>", "=", "<KEEP>", "process", "<KEEP>", "persistable", "<KEEP>", "(", "<KEEP>", "mmd", "<KEEP>", ",", "<KEEP>", "obj", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "extract", "<KEEP>", "child", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", "pc", "<KEEP>", ",", "<KEEP>", "ec", "<KEEP>", ",", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "keys", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "keys", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "instanceof", "<REPLACE_OLD>", "sco", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "sco", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "datastore", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "has", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "prop", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "datastore", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "property", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "prop", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "modified", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "entity", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "entity", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "datastore", "<KEEP>", "entity", "<KEEP>", ",", "<KEEP>", "mmd", "<KEEP>", ",", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "property", "<REPLACE_NEW>", "prop", "<KEEP>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "store", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "identifier", "<REPLACE_OLD>", "factory", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "mmd", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<KEEP>", "}", "<KEEP>", "relation", "<KEEP>", "store", "<KEEP>", "infos", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "nucleus", "<REPLACE_OLD>", "logger", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "general", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_NEW>", "return", "<KEEP>", "modified", "<KEEP>", "entity", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "registry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "parent", "<REPLACE_OLD>", "needs", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "datastore", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "finally", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "registry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "clear", "<REPLACE_OLD>", "modified", "<REPLACE_OLD>", "parent", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "datastore", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.releng-4-3789", "old_comment": "array of summary entries", "old_comment_tokens": ["array", "of", "summary", "entries"], "new_comment": "array of summaries or null if an error occured .", "new_comment_tokens": ["array", "of", "summaries", "or", "null", "if", "an", "error", "occured", "."], "old_code": "public static summary entry [ ] query summaries ( variations variation patterns , boolean global ) { return get default ( ) . internal query summaries ( variation patterns , null ) ; }", "old_code_tokens": ["public", "static", "summary", "entry", "[", "]", "query", "summaries", "(", "variations", "variation", "patterns", ",", "boolean", "global", ")", "{", "return", "get", "default", "(", ")", ".", "internal", "query", "summaries", "(", "variation", "patterns", ",", "null", ")", ";", "}"], "new_code": "public static summary entry [ ] query summaries ( variations variation patterns , string scenario pattern ) { return get default ( ) . internal query summaries ( variation patterns , scenario pattern ) ; }", "new_code_tokens": ["public", "static", "summary", "entry", "[", "]", "query", "summaries", "(", "variations", "variation", "patterns", ",", "string", "scenario", "pattern", ")", "{", "return", "get", "default", "(", ")", ".", "internal", "query", "summaries", "(", "variation", "patterns", ",", "scenario", "pattern", ")", ";", "}"], "span_diff_code": "<KEEP> public static summary entry [ ] query summaries ( variations variation patterns , <KEEP_END> <REPLACE_OLD> boolean global <REPLACE_NEW> string scenario pattern <REPLACE_END> <KEEP> ) { return get default ( ) . internal query summaries ( variation patterns , <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> scenario pattern <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "summary", "entry", "[", "]", "query", "summaries", "(", "variations", "variation", "patterns", ",", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "global", "<REPLACE_NEW>", "string", "scenario", "pattern", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "get", "default", "(", ")", ".", "internal", "query", "summaries", "(", "variation", "patterns", ",", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "scenario", "pattern", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> summary entries <REPLACE_NEW> summaries or null if an error occured . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "summary", "entries", "<REPLACE_NEW>", "summaries", "or", "null", "if", "an", "error", "occured", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "summary", "<KEEP>", "entry", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "query", "<KEEP>", "summaries", "<KEEP>", "(", "<KEEP>", "variations", "<KEEP>", "variation", "<KEEP>", "patterns", "<KEEP>", ",", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "global", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "scenario", "<REPLACE_NEW>", "pattern", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "internal", "<KEEP>", "query", "<KEEP>", "summaries", "<KEEP>", "(", "<KEEP>", "variation", "<KEEP>", "patterns", "<KEEP>", ",", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "scenario", "<REPLACE_NEW>", "pattern", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_triquetrum-1-4285", "old_comment": "the removed handle if it was present before the invocation of this method , null otherwise", "old_comment_tokens": ["the", "removed", "handle", "if", "it", "was", "present", "before", "the", "invocation", "of", "this", "method", ",", "null", "otherwise"], "new_comment": "the removed handle", "new_comment_tokens": ["the", "removed", "handle"], "old_code": "public static process handle remove workflow execution handle ( string model code ) { return workflow execution handles . remove ( model code ) ; }", "old_code_tokens": ["public", "static", "process", "handle", "remove", "workflow", "execution", "handle", "(", "string", "model", "code", ")", "{", "return", "workflow", "execution", "handles", ".", "remove", "(", "model", "code", ")", ";", "}"], "new_code": "public static process handle remove workflow execution handle ( string model code ) { logger . trace ( str , model code ) ; process handle handle = workflow execution handles . remove ( model code ) ; logger . trace ( str , model code , handle ) ; return handle ; }", "new_code_tokens": ["public", "static", "process", "handle", "remove", "workflow", "execution", "handle", "(", "string", "model", "code", ")", "{", "logger", ".", "trace", "(", "str", ",", "model", "code", ")", ";", "process", "handle", "handle", "=", "workflow", "execution", "handles", ".", "remove", "(", "model", "code", ")", ";", "logger", ".", "trace", "(", "str", ",", "model", "code", ",", "handle", ")", ";", "return", "handle", ";", "}"], "span_diff_code": "<KEEP> public static process handle remove workflow execution handle ( string model code ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> logger . trace ( str , model code ) ; process handle handle = <REPLACE_END> <KEEP> workflow execution handles . remove ( model code ) ; <KEEP_END> <INSERT> logger . trace ( str , model code , handle ) ; return handle ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "process", "handle", "remove", "workflow", "execution", "handle", "(", "string", "model", "code", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "logger", ".", "trace", "(", "str", ",", "model", "code", ")", ";", "process", "handle", "handle", "=", "<REPLACE_END>", "<KEEP>", "workflow", "execution", "handles", ".", "remove", "(", "model", "code", ")", ";", "<KEEP_END>", "<INSERT>", "logger", ".", "trace", "(", "str", ",", "model", "code", ",", "handle", ")", ";", "return", "handle", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> if it was present before the invocation of this method , null otherwise <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "if", "it", "was", "present", "before", "the", "invocation", "of", "this", "method", ",", "null", "otherwise", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "process", "<KEEP>", "handle", "<KEEP>", "remove", "<KEEP>", "workflow", "<KEEP>", "execution", "<KEEP>", "handle", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "model", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "logger", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "trace", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "model", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "process", "<REPLACE_NEW>", "handle", "<REPLACE_NEW>", "handle", "<REPLACE_NEW>", "=", "<KEEP>", "workflow", "<KEEP>", "execution", "<KEEP>", "handles", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "(", "<KEEP>", "model", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "trace", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "model", "<INSERT>", "code", "<INSERT>", ",", "<INSERT>", "handle", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "handle", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-91-5389", "old_comment": "true if the node is an ancestor of the target node .", "old_comment_tokens": ["true", "if", "the", "node", "is", "an", "ancestor", "of", "the", "target", "node", "."], "new_comment": "true if the first object is the ancestor of the second object2 .", "new_comment_tokens": ["true", "if", "the", "first", "object", "is", "the", "ancestor", "of", "the", "second", "object2", "."], "old_code": "private boolean is ancestor of ( object node , object target ) { if ( target = = null ) return false ; object parent = get parent ( target ) ; if ( parent = = node ) return true ; return is ancestor of ( node , parent ) ; }", "old_code_tokens": ["private", "boolean", "is", "ancestor", "of", "(", "object", "node", ",", "object", "target", ")", "{", "if", "(", "target", "=", "=", "null", ")", "return", "false", ";", "object", "parent", "=", "get", "parent", "(", "target", ")", ";", "if", "(", "parent", "=", "=", "node", ")", "return", "true", ";", "return", "is", "ancestor", "of", "(", "node", ",", "parent", ")", ";", "}"], "new_code": "private boolean is ancestor of ( object object1 , object object2 ) { if ( object2 = = null ) return false ; object parent = get parent ( object2 ) ; if ( parent = = object1 ) return true ; return is ancestor of ( object1 , parent ) ; }", "new_code_tokens": ["private", "boolean", "is", "ancestor", "of", "(", "object", "object1", ",", "object", "object2", ")", "{", "if", "(", "object2", "=", "=", "null", ")", "return", "false", ";", "object", "parent", "=", "get", "parent", "(", "object2", ")", ";", "if", "(", "parent", "=", "=", "object1", ")", "return", "true", ";", "return", "is", "ancestor", "of", "(", "object1", ",", "parent", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean is ancestor of ( object <KEEP_END> <REPLACE_OLD> node <REPLACE_NEW> object1 <REPLACE_END> <KEEP> , object <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> object2 <REPLACE_END> <KEEP> ) { if ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> object2 <REPLACE_END> <KEEP> = = null ) return false ; object parent = get parent ( <KEEP_END> <REPLACE_OLD> target <REPLACE_NEW> object2 <REPLACE_END> <KEEP> ) ; if ( parent = = <KEEP_END> <REPLACE_OLD> node <REPLACE_NEW> object1 <REPLACE_END> <KEEP> ) return true ; return is ancestor of ( <KEEP_END> <REPLACE_OLD> node <REPLACE_NEW> object1 <REPLACE_END> <KEEP> , parent ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "is", "ancestor", "of", "(", "object", "<KEEP_END>", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "object1", "<REPLACE_END>", "<KEEP>", ",", "object", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "object2", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "object2", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "return", "false", ";", "object", "parent", "=", "get", "parent", "(", "<KEEP_END>", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "object2", "<REPLACE_END>", "<KEEP>", ")", ";", "if", "(", "parent", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "object1", "<REPLACE_END>", "<KEEP>", ")", "return", "true", ";", "return", "is", "ancestor", "of", "(", "<KEEP_END>", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "object1", "<REPLACE_END>", "<KEEP>", ",", "parent", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the node <REPLACE_NEW_KEEP_BEFORE> the first object <REPLACE_END> <REPLACE_OLD> an <REPLACE_NEW> the <REPLACE_END> <REPLACE_OLD> target node <REPLACE_NEW> second object2 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "node", "<REPLACE_NEW_KEEP_BEFORE>", "the", "first", "object", "<REPLACE_END>", "<REPLACE_OLD>", "an", "<REPLACE_NEW>", "the", "<REPLACE_END>", "<REPLACE_OLD>", "target", "node", "<REPLACE_NEW>", "second", "object2", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "ancestor", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "object", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "object1", "<KEEP>", ",", "<KEEP>", "object", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "object2", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "object2", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "object", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<REPLACE_OLD>", "target", "<REPLACE_NEW>", "object2", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parent", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "object1", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "is", "<KEEP>", "ancestor", "<KEEP>", "of", "<KEEP>", "(", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "object1", "<KEEP>", ",", "<KEEP>", "parent", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "technosophos_sinciput-8-6910", "old_comment": "a presentable object .", "old_comment_tokens": ["a", "presentable", "object", "."], "new_comment": "an object .", "new_comment_tokens": ["an", "object", "."], "old_code": "public presentable get result ( ) { return this . result ; }", "old_code_tokens": ["public", "presentable", "get", "result", "(", ")", "{", "return", "this", ".", "result", ";", "}"], "new_code": "public object get result ( ) { return this . result ; }", "new_code_tokens": ["public", "object", "get", "result", "(", ")", "{", "return", "this", ".", "result", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> presentable <REPLACE_NEW> object <REPLACE_END> <KEEP> get result ( ) { return this . result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "presentable", "<REPLACE_NEW>", "object", "<REPLACE_END>", "<KEEP>", "get", "result", "(", ")", "{", "return", "this", ".", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a presentable <REPLACE_NEW> an <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "presentable", "<REPLACE_NEW>", "an", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "presentable", "<REPLACE_NEW>", "object", "<KEEP>", "get", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "LawnchairLauncher_Lawnchair-1-2319", "old_comment": "a bundle with remote animations that controls how the window of the opening targets are displayed .", "old_comment_tokens": ["a", "bundle", "with", "remote", "animations", "that", "controls", "how", "the", "window", "of", "the", "opening", "targets", "are", "displayed", "."], "new_comment": "activity options with remote animations that controls how the window of the opening targets are displayed .", "new_comment_tokens": ["activity", "options", "with", "remote", "animations", "that", "controls", "how", "the", "window", "of", "the", "opening", "targets", "are", "displayed", "."], "old_code": "@ override public bundle get activity launch options ( launcher launcher , view v ) { if ( has control remote app transition permission ( ) ) { try { remote animation runner compat runner = new launcher animation runner ( m launcher ) { @ override public void on animation start ( remote animation target compat [ ] targets , runnable finished callback ) { post at front of queue asynchronously ( v . get handler ( ) , ( ) - > { final boolean remove tracking view ; launcher transition animator animator = compose recents launch animator ( v , targets ) ; if ( animator ! = null ) { remove tracking view = false ; } else { animator = compose app launch animator ( v , targets ) ; remove tracking view = true ; } set current animator ( animator ) ; m animator = animator . get animator set ( ) ; m animator . add listener ( new animator listener adapter ( ) { @ override public void on animation end ( animator animation ) { v . set visibility ( view . visible ) ; if ( remove tracking view ) { ( ( view group ) m drag layer . get parent ( ) ) . remove view ( m floating view ) ; } m drag layer . set alpha ( num ) ; m drag layer . set translation y ( num ) ; view apps view = m launcher . get apps view ( ) ; apps view . set alpha ( num ) ; apps view . set translation y ( num ) ; finished callback . run ( ) ; } } ) ; m animator . start ( ) ; m animator . set current play time ( refresh _ rate _ ms ) ; } ) ; } } ; return activity options compat . make remote animation ( new remote animation adapter compat ( runner , num , num ) ) . to bundle ( ) ; } catch ( no class def found error e ) { } } return get default activity launch options ( launcher , v ) ; }", "old_code_tokens": ["@", "override", "public", "bundle", "get", "activity", "launch", "options", "(", "launcher", "launcher", ",", "view", "v", ")", "{", "if", "(", "has", "control", "remote", "app", "transition", "permission", "(", ")", ")", "{", "try", "{", "remote", "animation", "runner", "compat", "runner", "=", "new", "launcher", "animation", "runner", "(", "m", "launcher", ")", "{", "@", "override", "public", "void", "on", "animation", "start", "(", "remote", "animation", "target", "compat", "[", "]", "targets", ",", "runnable", "finished", "callback", ")", "{", "post", "at", "front", "of", "queue", "asynchronously", "(", "v", ".", "get", "handler", "(", ")", ",", "(", ")", "-", ">", "{", "final", "boolean", "remove", "tracking", "view", ";", "launcher", "transition", "animator", "animator", "=", "compose", "recents", "launch", "animator", "(", "v", ",", "targets", ")", ";", "if", "(", "animator", "!", "=", "null", ")", "{", "remove", "tracking", "view", "=", "false", ";", "}", "else", "{", "animator", "=", "compose", "app", "launch", "animator", "(", "v", ",", "targets", ")", ";", "remove", "tracking", "view", "=", "true", ";", "}", "set", "current", "animator", "(", "animator", ")", ";", "m", "animator", "=", "animator", ".", "get", "animator", "set", "(", ")", ";", "m", "animator", ".", "add", "listener", "(", "new", "animator", "listener", "adapter", "(", ")", "{", "@", "override", "public", "void", "on", "animation", "end", "(", "animator", "animation", ")", "{", "v", ".", "set", "visibility", "(", "view", ".", "visible", ")", ";", "if", "(", "remove", "tracking", "view", ")", "{", "(", "(", "view", "group", ")", "m", "drag", "layer", ".", "get", "parent", "(", ")", ")", ".", "remove", "view", "(", "m", "floating", "view", ")", ";", "}", "m", "drag", "layer", ".", "set", "alpha", "(", "num", ")", ";", "m", "drag", "layer", ".", "set", "translation", "y", "(", "num", ")", ";", "view", "apps", "view", "=", "m", "launcher", ".", "get", "apps", "view", "(", ")", ";", "apps", "view", ".", "set", "alpha", "(", "num", ")", ";", "apps", "view", ".", "set", "translation", "y", "(", "num", ")", ";", "finished", "callback", ".", "run", "(", ")", ";", "}", "}", ")", ";", "m", "animator", ".", "start", "(", ")", ";", "m", "animator", ".", "set", "current", "play", "time", "(", "refresh", "_", "rate", "_", "ms", ")", ";", "}", ")", ";", "}", "}", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "(", "new", "remote", "animation", "adapter", "compat", "(", "runner", ",", "num", ",", "num", ")", ")", ".", "to", "bundle", "(", ")", ";", "}", "catch", "(", "no", "class", "def", "found", "error", "e", ")", "{", "}", "}", "return", "get", "default", "activity", "launch", "options", "(", "launcher", ",", "v", ")", ";", "}"], "new_code": "@ override public activity options get activity launch options ( launcher launcher , view v ) { if ( has control remote app transition permission ( ) ) { try { remote animation runner compat runner = new launcher animation runner ( m launcher ) { @ override public void on animation start ( remote animation target compat [ ] targets , runnable finished callback ) { post at front of queue asynchronously ( v . get handler ( ) , ( ) - > { final boolean remove tracking view ; launcher transition animator animator = compose recents launch animator ( v , targets ) ; if ( animator ! = null ) { remove tracking view = false ; } else { animator = compose app launch animator ( v , targets ) ; remove tracking view = true ; } set current animator ( animator ) ; m animator = animator . get animator set ( ) ; m animator . add listener ( new animator listener adapter ( ) { @ override public void on animation end ( animator animation ) { v . set visibility ( view . visible ) ; if ( remove tracking view ) { ( ( view group ) m drag layer . get parent ( ) ) . remove view ( m floating view ) ; } m drag layer . set alpha ( num ) ; m drag layer . set translation y ( num ) ; view apps view = m launcher . get apps view ( ) ; apps view . set alpha ( num ) ; apps view . set translation y ( num ) ; finished callback . run ( ) ; } } ) ; m animator . start ( ) ; m animator . set current play time ( refresh _ rate _ ms ) ; } ) ; } } ; return activity options compat . make remote animation ( new remote animation adapter compat ( runner , num , num ) ) ; } catch ( no class def found error e ) { } } return get default activity launch options ( launcher , v ) ; }", "new_code_tokens": ["@", "override", "public", "activity", "options", "get", "activity", "launch", "options", "(", "launcher", "launcher", ",", "view", "v", ")", "{", "if", "(", "has", "control", "remote", "app", "transition", "permission", "(", ")", ")", "{", "try", "{", "remote", "animation", "runner", "compat", "runner", "=", "new", "launcher", "animation", "runner", "(", "m", "launcher", ")", "{", "@", "override", "public", "void", "on", "animation", "start", "(", "remote", "animation", "target", "compat", "[", "]", "targets", ",", "runnable", "finished", "callback", ")", "{", "post", "at", "front", "of", "queue", "asynchronously", "(", "v", ".", "get", "handler", "(", ")", ",", "(", ")", "-", ">", "{", "final", "boolean", "remove", "tracking", "view", ";", "launcher", "transition", "animator", "animator", "=", "compose", "recents", "launch", "animator", "(", "v", ",", "targets", ")", ";", "if", "(", "animator", "!", "=", "null", ")", "{", "remove", "tracking", "view", "=", "false", ";", "}", "else", "{", "animator", "=", "compose", "app", "launch", "animator", "(", "v", ",", "targets", ")", ";", "remove", "tracking", "view", "=", "true", ";", "}", "set", "current", "animator", "(", "animator", ")", ";", "m", "animator", "=", "animator", ".", "get", "animator", "set", "(", ")", ";", "m", "animator", ".", "add", "listener", "(", "new", "animator", "listener", "adapter", "(", ")", "{", "@", "override", "public", "void", "on", "animation", "end", "(", "animator", "animation", ")", "{", "v", ".", "set", "visibility", "(", "view", ".", "visible", ")", ";", "if", "(", "remove", "tracking", "view", ")", "{", "(", "(", "view", "group", ")", "m", "drag", "layer", ".", "get", "parent", "(", ")", ")", ".", "remove", "view", "(", "m", "floating", "view", ")", ";", "}", "m", "drag", "layer", ".", "set", "alpha", "(", "num", ")", ";", "m", "drag", "layer", ".", "set", "translation", "y", "(", "num", ")", ";", "view", "apps", "view", "=", "m", "launcher", ".", "get", "apps", "view", "(", ")", ";", "apps", "view", ".", "set", "alpha", "(", "num", ")", ";", "apps", "view", ".", "set", "translation", "y", "(", "num", ")", ";", "finished", "callback", ".", "run", "(", ")", ";", "}", "}", ")", ";", "m", "animator", ".", "start", "(", ")", ";", "m", "animator", ".", "set", "current", "play", "time", "(", "refresh", "_", "rate", "_", "ms", ")", ";", "}", ")", ";", "}", "}", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "(", "new", "remote", "animation", "adapter", "compat", "(", "runner", ",", "num", ",", "num", ")", ")", ";", "}", "catch", "(", "no", "class", "def", "found", "error", "e", ")", "{", "}", "}", "return", "get", "default", "activity", "launch", "options", "(", "launcher", ",", "v", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public <KEEP_END> <REPLACE_OLD> bundle <REPLACE_NEW> activity options <REPLACE_END> <KEEP> get activity launch options ( launcher launcher , view v ) { if ( has control remote app transition permission ( ) ) { try { remote animation runner compat runner = new launcher animation runner ( m launcher ) { @ override public void on animation start ( remote animation target compat [ ] targets , runnable finished callback ) { post at front of queue asynchronously ( v . get handler ( ) , ( ) - > { final boolean remove tracking view ; launcher transition animator animator = compose recents launch animator ( v , targets ) ; if ( animator ! = null ) { remove tracking view = false ; } else { animator = compose app launch animator ( v , targets ) ; remove tracking view = true ; } set current animator ( animator ) ; m animator = animator . get animator set ( ) ; m animator . add listener ( new animator listener adapter ( ) { @ override public void on animation end ( animator animation ) { v . set visibility ( view . visible ) ; if ( remove tracking view ) { ( ( view group ) m drag layer . get parent ( ) ) . remove view ( m floating view ) ; } m drag layer . set alpha ( num ) ; m drag layer . set translation y ( num ) ; view apps view = m launcher . get apps view ( ) ; apps view . set alpha ( num ) ; apps view . set translation y ( num ) ; finished callback . run ( ) ; } } ) ; m animator . start ( ) ; m animator . set current play time ( refresh _ rate _ ms ) ; } ) ; } } ; return activity options compat . make remote animation ( new remote animation adapter compat ( runner , num , num ) ) <KEEP_END> <DELETE> . to bundle ( ) <DELETE_END> <KEEP> ; } catch ( no class def found error e ) { } } return get default activity launch options ( launcher , v ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "<KEEP_END>", "<REPLACE_OLD>", "bundle", "<REPLACE_NEW>", "activity", "options", "<REPLACE_END>", "<KEEP>", "get", "activity", "launch", "options", "(", "launcher", "launcher", ",", "view", "v", ")", "{", "if", "(", "has", "control", "remote", "app", "transition", "permission", "(", ")", ")", "{", "try", "{", "remote", "animation", "runner", "compat", "runner", "=", "new", "launcher", "animation", "runner", "(", "m", "launcher", ")", "{", "@", "override", "public", "void", "on", "animation", "start", "(", "remote", "animation", "target", "compat", "[", "]", "targets", ",", "runnable", "finished", "callback", ")", "{", "post", "at", "front", "of", "queue", "asynchronously", "(", "v", ".", "get", "handler", "(", ")", ",", "(", ")", "-", ">", "{", "final", "boolean", "remove", "tracking", "view", ";", "launcher", "transition", "animator", "animator", "=", "compose", "recents", "launch", "animator", "(", "v", ",", "targets", ")", ";", "if", "(", "animator", "!", "=", "null", ")", "{", "remove", "tracking", "view", "=", "false", ";", "}", "else", "{", "animator", "=", "compose", "app", "launch", "animator", "(", "v", ",", "targets", ")", ";", "remove", "tracking", "view", "=", "true", ";", "}", "set", "current", "animator", "(", "animator", ")", ";", "m", "animator", "=", "animator", ".", "get", "animator", "set", "(", ")", ";", "m", "animator", ".", "add", "listener", "(", "new", "animator", "listener", "adapter", "(", ")", "{", "@", "override", "public", "void", "on", "animation", "end", "(", "animator", "animation", ")", "{", "v", ".", "set", "visibility", "(", "view", ".", "visible", ")", ";", "if", "(", "remove", "tracking", "view", ")", "{", "(", "(", "view", "group", ")", "m", "drag", "layer", ".", "get", "parent", "(", ")", ")", ".", "remove", "view", "(", "m", "floating", "view", ")", ";", "}", "m", "drag", "layer", ".", "set", "alpha", "(", "num", ")", ";", "m", "drag", "layer", ".", "set", "translation", "y", "(", "num", ")", ";", "view", "apps", "view", "=", "m", "launcher", ".", "get", "apps", "view", "(", ")", ";", "apps", "view", ".", "set", "alpha", "(", "num", ")", ";", "apps", "view", ".", "set", "translation", "y", "(", "num", ")", ";", "finished", "callback", ".", "run", "(", ")", ";", "}", "}", ")", ";", "m", "animator", ".", "start", "(", ")", ";", "m", "animator", ".", "set", "current", "play", "time", "(", "refresh", "_", "rate", "_", "ms", ")", ";", "}", ")", ";", "}", "}", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "(", "new", "remote", "animation", "adapter", "compat", "(", "runner", ",", "num", ",", "num", ")", ")", "<KEEP_END>", "<DELETE>", ".", "to", "bundle", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "catch", "(", "no", "class", "def", "found", "error", "e", ")", "{", "}", "}", "return", "get", "default", "activity", "launch", "options", "(", "launcher", ",", "v", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a bundle <REPLACE_NEW> activity options <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "bundle", "<REPLACE_NEW>", "activity", "options", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<REPLACE_OLD>", "bundle", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "options", "<KEEP>", "get", "<KEEP>", "activity", "<KEEP>", "launch", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", "launcher", "<KEEP>", "launcher", "<KEEP>", ",", "<KEEP>", "view", "<KEEP>", "v", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "has", "<KEEP>", "control", "<KEEP>", "remote", "<KEEP>", "app", "<KEEP>", "transition", "<KEEP>", "permission", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "remote", "<KEEP>", "animation", "<KEEP>", "runner", "<KEEP>", "compat", "<KEEP>", "runner", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "launcher", "<KEEP>", "animation", "<KEEP>", "runner", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "launcher", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "on", "<KEEP>", "animation", "<KEEP>", "start", "<KEEP>", "(", "<KEEP>", "remote", "<KEEP>", "animation", "<KEEP>", "target", "<KEEP>", "compat", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "targets", "<KEEP>", ",", "<KEEP>", "runnable", "<KEEP>", "finished", "<KEEP>", "callback", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "post", "<KEEP>", "at", "<KEEP>", "front", "<KEEP>", "of", "<KEEP>", "queue", "<KEEP>", "asynchronously", "<KEEP>", "(", "<KEEP>", "v", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", ">", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "boolean", "<KEEP>", "remove", "<KEEP>", "tracking", "<KEEP>", "view", "<KEEP>", ";", "<KEEP>", "launcher", "<KEEP>", "transition", "<KEEP>", "animator", "<KEEP>", "animator", "<KEEP>", "=", "<KEEP>", "compose", "<KEEP>", "recents", "<KEEP>", "launch", "<KEEP>", "animator", "<KEEP>", "(", "<KEEP>", "v", "<KEEP>", ",", "<KEEP>", "targets", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "animator", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "remove", "<KEEP>", "tracking", "<KEEP>", "view", "<KEEP>", "=", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "animator", "<KEEP>", "=", "<KEEP>", "compose", "<KEEP>", "app", "<KEEP>", "launch", "<KEEP>", "animator", "<KEEP>", "(", "<KEEP>", "v", "<KEEP>", ",", "<KEEP>", "targets", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "remove", "<KEEP>", "tracking", "<KEEP>", "view", "<KEEP>", "=", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "set", "<KEEP>", "current", "<KEEP>", "animator", "<KEEP>", "(", "<KEEP>", "animator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "m", "<KEEP>", "animator", "<KEEP>", "=", "<KEEP>", "animator", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "animator", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "m", "<KEEP>", "animator", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "listener", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "animator", "<KEEP>", "listener", "<KEEP>", "adapter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "on", "<KEEP>", "animation", "<KEEP>", "end", "<KEEP>", "(", "<KEEP>", "animator", "<KEEP>", "animation", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "v", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "visibility", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "visible", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "remove", "<KEEP>", "tracking", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", "group", "<KEEP>", ")", "<KEEP>", "m", "<KEEP>", "drag", "<KEEP>", "layer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "floating", "<KEEP>", "view", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "m", "<KEEP>", "drag", "<KEEP>", "layer", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "alpha", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "m", "<KEEP>", "drag", "<KEEP>", "layer", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "translation", "<KEEP>", "y", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "view", "<KEEP>", "apps", "<KEEP>", "view", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "launcher", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "apps", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "apps", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "alpha", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "apps", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "translation", "<KEEP>", "y", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "finished", "<KEEP>", "callback", "<KEEP>", ".", "<KEEP>", "run", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "m", "<KEEP>", "animator", "<KEEP>", ".", "<KEEP>", "start", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "m", "<KEEP>", "animator", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "current", "<KEEP>", "play", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", "refresh", "<KEEP>", "_", "<KEEP>", "rate", "<KEEP>", "_", "<KEEP>", "ms", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "activity", "<KEEP>", "options", "<KEEP>", "compat", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "remote", "<KEEP>", "animation", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "remote", "<KEEP>", "animation", "<KEEP>", "adapter", "<KEEP>", "compat", "<KEEP>", "(", "<KEEP>", "runner", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "bundle", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "no", "<KEEP>", "class", "<KEEP>", "def", "<KEEP>", "found", "<KEEP>", "error", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "activity", "<KEEP>", "launch", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", "launcher", "<KEEP>", ",", "<KEEP>", "v", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_loom-10-7327", "old_comment": "the new partition meta data", "old_comment_tokens": ["the", "new", "partition", "meta", "data"], "new_comment": "the new partition template", "new_comment_tokens": ["the", "new", "partition", "template"], "old_code": "private partition meta data assemble sar ( final string name , final configuration config , final configuration assembly ) throws loom exception { final configuration [ ] block config = assembly . get children ( str ) ; final component meta data [ ] blocks = build blocks ( block config , config ) ; final partition meta data block partition = new partition meta data ( container constants . block _ partition , new string [ ] { container constants . listener _ partition } , partition meta data . empty _ set , blocks ) ; final configuration [ ] listener config = assembly . get children ( str ) ; final component meta data [ ] listeners = build block listeners ( listener config , config ) ; final partition meta data listener partition = new partition meta data ( container constants . listener _ partition , new string [ num ] , partition meta data . empty _ set , listeners ) ; final partition meta data [ ] partitions = new partition meta data [ ] { block partition , listener partition } ; return new partition meta data ( name , new string [ num ] , partitions , component meta data . empty _ set ) ; }", "old_code_tokens": ["private", "partition", "meta", "data", "assemble", "sar", "(", "final", "string", "name", ",", "final", "configuration", "config", ",", "final", "configuration", "assembly", ")", "throws", "loom", "exception", "{", "final", "configuration", "[", "]", "block", "config", "=", "assembly", ".", "get", "children", "(", "str", ")", ";", "final", "component", "meta", "data", "[", "]", "blocks", "=", "build", "blocks", "(", "block", "config", ",", "config", ")", ";", "final", "partition", "meta", "data", "block", "partition", "=", "new", "partition", "meta", "data", "(", "container", "constants", ".", "block", "_", "partition", ",", "new", "string", "[", "]", "{", "container", "constants", ".", "listener", "_", "partition", "}", ",", "partition", "meta", "data", ".", "empty", "_", "set", ",", "blocks", ")", ";", "final", "configuration", "[", "]", "listener", "config", "=", "assembly", ".", "get", "children", "(", "str", ")", ";", "final", "component", "meta", "data", "[", "]", "listeners", "=", "build", "block", "listeners", "(", "listener", "config", ",", "config", ")", ";", "final", "partition", "meta", "data", "listener", "partition", "=", "new", "partition", "meta", "data", "(", "container", "constants", ".", "listener", "_", "partition", ",", "new", "string", "[", "num", "]", ",", "partition", "meta", "data", ".", "empty", "_", "set", ",", "listeners", ")", ";", "final", "partition", "meta", "data", "[", "]", "partitions", "=", "new", "partition", "meta", "data", "[", "]", "{", "block", "partition", ",", "listener", "partition", "}", ";", "return", "new", "partition", "meta", "data", "(", "name", ",", "new", "string", "[", "num", "]", ",", "partitions", ",", "component", "meta", "data", ".", "empty", "_", "set", ")", ";", "}"], "new_code": "private partition template assemble sar ( final string name , final configuration config , final configuration assembly ) throws loom exception { final configuration [ ] block config = assembly . get children ( str ) ; final component template [ ] blocks = build blocks ( block config , config ) ; final partition template block partition = new partition template ( container constants . block _ partition , new string [ ] { container constants . listener _ partition } , partition template . empty _ set , blocks ) ; final configuration [ ] listener config = assembly . get children ( str ) ; final component template [ ] listeners = build block listeners ( listener config , config ) ; final partition template listener partition = new partition template ( container constants . listener _ partition , new string [ num ] , partition template . empty _ set , listeners ) ; final partition template [ ] partitions = new partition template [ ] { block partition , listener partition } ; return new partition template ( name , new string [ num ] , partitions , component template . empty _ set ) ; }", "new_code_tokens": ["private", "partition", "template", "assemble", "sar", "(", "final", "string", "name", ",", "final", "configuration", "config", ",", "final", "configuration", "assembly", ")", "throws", "loom", "exception", "{", "final", "configuration", "[", "]", "block", "config", "=", "assembly", ".", "get", "children", "(", "str", ")", ";", "final", "component", "template", "[", "]", "blocks", "=", "build", "blocks", "(", "block", "config", ",", "config", ")", ";", "final", "partition", "template", "block", "partition", "=", "new", "partition", "template", "(", "container", "constants", ".", "block", "_", "partition", ",", "new", "string", "[", "]", "{", "container", "constants", ".", "listener", "_", "partition", "}", ",", "partition", "template", ".", "empty", "_", "set", ",", "blocks", ")", ";", "final", "configuration", "[", "]", "listener", "config", "=", "assembly", ".", "get", "children", "(", "str", ")", ";", "final", "component", "template", "[", "]", "listeners", "=", "build", "block", "listeners", "(", "listener", "config", ",", "config", ")", ";", "final", "partition", "template", "listener", "partition", "=", "new", "partition", "template", "(", "container", "constants", ".", "listener", "_", "partition", ",", "new", "string", "[", "num", "]", ",", "partition", "template", ".", "empty", "_", "set", ",", "listeners", ")", ";", "final", "partition", "template", "[", "]", "partitions", "=", "new", "partition", "template", "[", "]", "{", "block", "partition", ",", "listener", "partition", "}", ";", "return", "new", "partition", "template", "(", "name", ",", "new", "string", "[", "num", "]", ",", "partitions", ",", "component", "template", ".", "empty", "_", "set", ")", ";", "}"], "span_diff_code": "<KEEP> private partition <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> assemble sar ( final string name , final configuration config , final configuration assembly ) throws loom exception { final configuration [ ] block config = assembly . get children ( str ) ; final component <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> [ ] blocks = build blocks ( block config , config ) ; final partition <KEEP_END> <REPLACE_OLD> meta data block partition = new partition meta data <REPLACE_NEW> template block partition = new partition template <REPLACE_END> <KEEP> ( container constants . block _ partition , new string [ ] { container constants . listener _ partition } , partition <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> . empty _ set , blocks ) ; final configuration [ ] listener config = assembly . get children ( str ) ; final component <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> [ ] listeners = build block listeners ( listener config , config ) ; final partition <KEEP_END> <REPLACE_OLD> meta data listener partition = new partition meta data <REPLACE_NEW> template listener partition = new partition template <REPLACE_END> <KEEP> ( container constants . listener _ partition , new string [ num ] , partition <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> . empty _ set , listeners ) ; final partition <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> [ ] partitions = new partition <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> [ ] { block partition , listener partition } ; return new partition <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> ( name , new string [ num ] , partitions , component <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> . empty _ set ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "assemble", "sar", "(", "final", "string", "name", ",", "final", "configuration", "config", ",", "final", "configuration", "assembly", ")", "throws", "loom", "exception", "{", "final", "configuration", "[", "]", "block", "config", "=", "assembly", ".", "get", "children", "(", "str", ")", ";", "final", "component", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "[", "]", "blocks", "=", "build", "blocks", "(", "block", "config", ",", "config", ")", ";", "final", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "block", "partition", "=", "new", "partition", "meta", "data", "<REPLACE_NEW>", "template", "block", "partition", "=", "new", "partition", "template", "<REPLACE_END>", "<KEEP>", "(", "container", "constants", ".", "block", "_", "partition", ",", "new", "string", "[", "]", "{", "container", "constants", ".", "listener", "_", "partition", "}", ",", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", ".", "empty", "_", "set", ",", "blocks", ")", ";", "final", "configuration", "[", "]", "listener", "config", "=", "assembly", ".", "get", "children", "(", "str", ")", ";", "final", "component", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "[", "]", "listeners", "=", "build", "block", "listeners", "(", "listener", "config", ",", "config", ")", ";", "final", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "listener", "partition", "=", "new", "partition", "meta", "data", "<REPLACE_NEW>", "template", "listener", "partition", "=", "new", "partition", "template", "<REPLACE_END>", "<KEEP>", "(", "container", "constants", ".", "listener", "_", "partition", ",", "new", "string", "[", "num", "]", ",", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", ".", "empty", "_", "set", ",", "listeners", ")", ";", "final", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "[", "]", "partitions", "=", "new", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "[", "]", "{", "block", "partition", ",", "listener", "partition", "}", ";", "return", "new", "partition", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "(", "name", ",", "new", "string", "[", "num", "]", ",", "partitions", ",", "component", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", ".", "empty", "_", "set", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "assemble", "<KEEP>", "sar", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "configuration", "<KEEP>", "config", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "configuration", "<KEEP>", "assembly", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "loom", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "configuration", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "block", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "assembly", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "children", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "component", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "blocks", "<KEEP>", "=", "<KEEP>", "build", "<KEEP>", "blocks", "<KEEP>", "(", "<KEEP>", "block", "<KEEP>", "config", "<KEEP>", ",", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "block", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "template", "<KEEP>", "(", "<KEEP>", "container", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "block", "<KEEP>", "_", "<KEEP>", "partition", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "container", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "listener", "<KEEP>", "_", "<KEEP>", "partition", "<KEEP>", "}", "<KEEP>", ",", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "set", "<KEEP>", ",", "<KEEP>", "blocks", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "configuration", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "listener", "<KEEP>", "config", "<KEEP>", "=", "<KEEP>", "assembly", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "children", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "component", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "listeners", "<KEEP>", "=", "<KEEP>", "build", "<KEEP>", "block", "<KEEP>", "listeners", "<KEEP>", "(", "<KEEP>", "listener", "<KEEP>", "config", "<KEEP>", ",", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "listener", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<REPLACE_NEW>", "listener", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "partition", "<REPLACE_NEW>", "template", "<KEEP>", "(", "<KEEP>", "container", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "listener", "<KEEP>", "_", "<KEEP>", "partition", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ",", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "set", "<KEEP>", ",", "<KEEP>", "listeners", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "partitions", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "block", "<KEEP>", "partition", "<KEEP>", ",", "<KEEP>", "listener", "<KEEP>", "partition", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "partition", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "num", "<KEEP>", "]", "<KEEP>", ",", "<KEEP>", "partitions", "<KEEP>", ",", "<KEEP>", "component", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mulesoft_handshake-connector-3-5036", "old_comment": "the customer with the given id , or null if it doesn ' t exist", "old_comment_tokens": ["the", "customer", "with", "the", "given", "id", ",", "or", "null", "if", "it", "doesn", "'", "t", "exist"], "new_comment": "the customer with the given resource uri , or null if it doesn ' t exist", "new_comment_tokens": ["the", "customer", "with", "the", "given", "resource", "uri", ",", "or", "null", "if", "it", "doesn", "'", "t", "exist"], "old_code": "@ processor public customer get customer ( final string id ) { return get client provider ( ) . get client ( customer . class ) . get by id ( id ) ; }", "old_code_tokens": ["@", "processor", "public", "customer", "get", "customer", "(", "final", "string", "id", ")", "{", "return", "get", "client", "provider", "(", ")", ".", "get", "client", "(", "customer", ".", "class", ")", ".", "get", "by", "id", "(", "id", ")", ";", "}"], "new_code": "@ processor public customer get customer ( final string resource uri ) { return get client provider ( ) . get client ( customer . class ) . get by resource uri ( resource uri ) ; }", "new_code_tokens": ["@", "processor", "public", "customer", "get", "customer", "(", "final", "string", "resource", "uri", ")", "{", "return", "get", "client", "provider", "(", ")", ".", "get", "client", "(", "customer", ".", "class", ")", ".", "get", "by", "resource", "uri", "(", "resource", "uri", ")", ";", "}"], "span_diff_code": "<KEEP> @ processor public customer get customer ( final string <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> resource uri <REPLACE_END> <KEEP> ) { return get client provider ( ) . get client ( customer . class ) . get by <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> resource uri <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> resource uri <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "processor", "public", "customer", "get", "customer", "(", "final", "string", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "uri", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "get", "client", "provider", "(", ")", ".", "get", "client", "(", "customer", ".", "class", ")", ".", "get", "by", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "uri", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "uri", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> id <REPLACE_NEW> resource uri <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "uri", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "processor", "<KEEP>", "public", "<KEEP>", "customer", "<KEEP>", "get", "<KEEP>", "customer", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "client", "<KEEP>", "provider", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", "customer", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "by", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "uri", "<KEEP>", "(", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "resource", "<REPLACE_NEW>", "uri", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.resources-142-3814", "old_comment": "map ibuild configuration - > incremental project builder if this build command supports multiple configurations . otherwise return the incremental project builder associated with this build command .", "old_comment_tokens": ["map", "ibuild", "configuration", "-", ">", "incremental", "project", "builder", "if", "this", "build", "command", "supports", "multiple", "configurations", ".", "otherwise", "return", "the", "incremental", "project", "builder", "associated", "with", "this", "build", "command", "."], "new_comment": "a copy of the internal map ibuild configuration - > incremental project builder if this build command supports multiple configurations . otherwise return the incremental project builder associated with this build command .", "new_comment_tokens": ["a", "copy", "of", "the", "internal", "map", "ibuild", "configuration", "-", ">", "incremental", "project", "builder", "if", "this", "build", "command", "supports", "multiple", "configurations", ".", "otherwise", "return", "the", "incremental", "project", "builder", "associated", "with", "this", "build", "command", "."], "old_code": "public object get builders ( ) { synchronized ( builder lock ) { if ( supports configs ( ) ) return builders ; return builder ; } }", "old_code_tokens": ["public", "object", "get", "builders", "(", ")", "{", "synchronized", "(", "builder", "lock", ")", "{", "if", "(", "supports", "configs", "(", ")", ")", "return", "builders", ";", "return", "builder", ";", "}", "}"], "new_code": "public object get builders ( ) { synchronized ( builder lock ) { if ( supports configs ( ) ) { return builders = = null ? null : new hash map < > ( builders ) ; } return builder ; } }", "new_code_tokens": ["public", "object", "get", "builders", "(", ")", "{", "synchronized", "(", "builder", "lock", ")", "{", "if", "(", "supports", "configs", "(", ")", ")", "{", "return", "builders", "=", "=", "null", "?", "null", ":", "new", "hash", "map", "<", ">", "(", "builders", ")", ";", "}", "return", "builder", ";", "}", "}"], "span_diff_code": "<KEEP> public object get builders ( ) { synchronized ( builder lock ) { if ( supports configs ( ) ) <KEEP_END> <INSERT> { <INSERT_END> <KEEP> return builders <KEEP_END> <INSERT> = = null ? null : new hash map < > ( builders ) <INSERT_END> <KEEP> ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return builder ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "object", "get", "builders", "(", ")", "{", "synchronized", "(", "builder", "lock", ")", "{", "if", "(", "supports", "configs", "(", ")", ")", "<KEEP_END>", "<INSERT>", "{", "<INSERT_END>", "<KEEP>", "return", "builders", "<KEEP_END>", "<INSERT>", "=", "=", "null", "?", "null", ":", "new", "hash", "map", "<", ">", "(", "builders", ")", "<INSERT_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "builder", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> map <INSERT_NEW_KEEP_AFTER> a copy of the internal map <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "map", "<INSERT_NEW_KEEP_AFTER>", "a", "copy", "of", "the", "internal", "map", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "builders", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "builder", "<KEEP>", "lock", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "supports", "<KEEP>", "configs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "builders", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "null", "<INSERT>", ":", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", "builders", "<INSERT>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "builder", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "idega_is.idega.idegaweb.marathon-0-4962", "old_comment": "map of all distances for a specific run on a specific year", "old_comment_tokens": ["map", "of", "all", "distances", "for", "a", "specific", "run", "on", "a", "specific", "year"], "new_comment": "collection of all distances for a specific run on a specific year", "new_comment_tokens": ["collection", "of", "all", "distances", "for", "a", "specific", "run", "on", "a", "specific", "year"], "old_code": "public map get distances map ( group run , string year ) { iwcontext iwc = iwcontext . get instance ( ) ; map dis map = new linked hash map ( ) ; collection distances = null ; collection type = new array list ( ) ; type . add ( iwmarathon constants . group _ type _ run _ distance ) ; iterator years iter = get years ( run ) . iterator ( ) ; while ( years iter . has next ( ) ) { group y = ( group ) years iter . next ( ) ; if ( y . get name ( ) . equals ( year ) ) { try { distances = get group biz ( iwc ) . get child groups recursive result filtered ( y , type , true ) ; } catch ( exception e ) { distances = null ; } } else { distances = null ; } } if ( distances ! = null ) { iterator dis iter = distances . iterator ( ) ; while ( dis iter . has next ( ) ) { group dis = ( group ) dis iter . next ( ) ; dis map . put ( dis . get primary key ( ) . to string ( ) , dis . get name ( ) ) ; } } return dis map ; }", "old_code_tokens": ["public", "map", "get", "distances", "map", "(", "group", "run", ",", "string", "year", ")", "{", "iwcontext", "iwc", "=", "iwcontext", ".", "get", "instance", "(", ")", ";", "map", "dis", "map", "=", "new", "linked", "hash", "map", "(", ")", ";", "collection", "distances", "=", "null", ";", "collection", "type", "=", "new", "array", "list", "(", ")", ";", "type", ".", "add", "(", "iwmarathon", "constants", ".", "group", "_", "type", "_", "run", "_", "distance", ")", ";", "iterator", "years", "iter", "=", "get", "years", "(", "run", ")", ".", "iterator", "(", ")", ";", "while", "(", "years", "iter", ".", "has", "next", "(", ")", ")", "{", "group", "y", "=", "(", "group", ")", "years", "iter", ".", "next", "(", ")", ";", "if", "(", "y", ".", "get", "name", "(", ")", ".", "equals", "(", "year", ")", ")", "{", "try", "{", "distances", "=", "get", "group", "biz", "(", "iwc", ")", ".", "get", "child", "groups", "recursive", "result", "filtered", "(", "y", ",", "type", ",", "true", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "distances", "=", "null", ";", "}", "}", "else", "{", "distances", "=", "null", ";", "}", "}", "if", "(", "distances", "!", "=", "null", ")", "{", "iterator", "dis", "iter", "=", "distances", ".", "iterator", "(", ")", ";", "while", "(", "dis", "iter", ".", "has", "next", "(", ")", ")", "{", "group", "dis", "=", "(", "group", ")", "dis", "iter", ".", "next", "(", ")", ";", "dis", "map", ".", "put", "(", "dis", ".", "get", "primary", "key", "(", ")", ".", "to", "string", "(", ")", ",", "dis", ".", "get", "name", "(", ")", ")", ";", "}", "}", "return", "dis", "map", ";", "}"], "new_code": "public collection get distances map ( group run , string year ) { iwcontext iwc = iwcontext . get instance ( ) ; map dis map = new linked hash map ( ) ; collection distances = null ; collection type = new array list ( ) ; type . add ( iwmarathon constants . group _ type _ run _ distance ) ; iterator years iter = get years ( run ) . iterator ( ) ; while ( years iter . has next ( ) ) { group y = ( group ) years iter . next ( ) ; if ( y . get name ( ) . equals ( year ) ) { try { distances = get group biz ( iwc ) . get child groups recursive result filtered ( y , type , true ) ; } catch ( exception e ) { distances = null ; } } } return distances ; }", "new_code_tokens": ["public", "collection", "get", "distances", "map", "(", "group", "run", ",", "string", "year", ")", "{", "iwcontext", "iwc", "=", "iwcontext", ".", "get", "instance", "(", ")", ";", "map", "dis", "map", "=", "new", "linked", "hash", "map", "(", ")", ";", "collection", "distances", "=", "null", ";", "collection", "type", "=", "new", "array", "list", "(", ")", ";", "type", ".", "add", "(", "iwmarathon", "constants", ".", "group", "_", "type", "_", "run", "_", "distance", ")", ";", "iterator", "years", "iter", "=", "get", "years", "(", "run", ")", ".", "iterator", "(", ")", ";", "while", "(", "years", "iter", ".", "has", "next", "(", ")", ")", "{", "group", "y", "=", "(", "group", ")", "years", "iter", ".", "next", "(", ")", ";", "if", "(", "y", ".", "get", "name", "(", ")", ".", "equals", "(", "year", ")", ")", "{", "try", "{", "distances", "=", "get", "group", "biz", "(", "iwc", ")", ".", "get", "child", "groups", "recursive", "result", "filtered", "(", "y", ",", "type", ",", "true", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "distances", "=", "null", ";", "}", "}", "}", "return", "distances", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> map <REPLACE_NEW> collection <REPLACE_END> <KEEP> get distances map ( group run , string year ) { iwcontext iwc = iwcontext . get instance ( ) ; map dis map = new linked hash map ( ) ; collection distances = null ; collection type = new array list ( ) ; type . add ( iwmarathon constants . group _ type _ run _ distance ) ; iterator years iter = get years ( run ) . iterator ( ) ; while ( years iter . has next ( ) ) { group y = ( group ) years iter . next ( ) ; if ( y . get name ( ) . equals ( year ) ) { try { distances = get group biz ( iwc ) . get child groups recursive result filtered ( y , type , true ) ; } catch ( exception e ) { distances = null ; } } <KEEP_END> <REPLACE_OLD> else { <REPLACE_NEW> } return <REPLACE_END> <KEEP> distances <KEEP_END> <DELETE> = null <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> } if ( distances ! = null ) { iterator dis iter = distances . iterator ( ) ; while ( dis iter . has next ( ) ) { group dis = ( group ) dis iter . next ( ) ; dis map . put ( dis . get primary key ( ) . to string ( ) , dis . get name ( ) ) ; } } return dis map ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "get", "distances", "map", "(", "group", "run", ",", "string", "year", ")", "{", "iwcontext", "iwc", "=", "iwcontext", ".", "get", "instance", "(", ")", ";", "map", "dis", "map", "=", "new", "linked", "hash", "map", "(", ")", ";", "collection", "distances", "=", "null", ";", "collection", "type", "=", "new", "array", "list", "(", ")", ";", "type", ".", "add", "(", "iwmarathon", "constants", ".", "group", "_", "type", "_", "run", "_", "distance", ")", ";", "iterator", "years", "iter", "=", "get", "years", "(", "run", ")", ".", "iterator", "(", ")", ";", "while", "(", "years", "iter", ".", "has", "next", "(", ")", ")", "{", "group", "y", "=", "(", "group", ")", "years", "iter", ".", "next", "(", ")", ";", "if", "(", "y", ".", "get", "name", "(", ")", ".", "equals", "(", "year", ")", ")", "{", "try", "{", "distances", "=", "get", "group", "biz", "(", "iwc", ")", ".", "get", "child", "groups", "recursive", "result", "filtered", "(", "y", ",", "type", ",", "true", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "distances", "=", "null", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "else", "{", "<REPLACE_NEW>", "}", "return", "<REPLACE_END>", "<KEEP>", "distances", "<KEEP_END>", "<DELETE>", "=", "null", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "}", "if", "(", "distances", "!", "=", "null", ")", "{", "iterator", "dis", "iter", "=", "distances", ".", "iterator", "(", ")", ";", "while", "(", "dis", "iter", ".", "has", "next", "(", ")", ")", "{", "group", "dis", "=", "(", "group", ")", "dis", "iter", ".", "next", "(", ")", ";", "dis", "map", ".", "put", "(", "dis", ".", "get", "primary", "key", "(", ")", ".", "to", "string", "(", ")", ",", "dis", ".", "get", "name", "(", ")", ")", ";", "}", "}", "return", "dis", "map", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "collection", "<KEEP>", "get", "<KEEP>", "distances", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "group", "<KEEP>", "run", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "year", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iwcontext", "<KEEP>", "iwc", "<KEEP>", "=", "<KEEP>", "iwcontext", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "map", "<KEEP>", "dis", "<KEEP>", "map", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "collection", "<KEEP>", "distances", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "collection", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "iwmarathon", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "group", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "run", "<KEEP>", "_", "<KEEP>", "distance", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", "years", "<KEEP>", "iter", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "years", "<KEEP>", "(", "<KEEP>", "run", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "years", "<KEEP>", "iter", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "group", "<KEEP>", "y", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "group", "<KEEP>", ")", "<KEEP>", "years", "<KEEP>", "iter", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "y", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "year", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "distances", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "group", "<KEEP>", "biz", "<KEEP>", "(", "<KEEP>", "iwc", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "child", "<KEEP>", "groups", "<KEEP>", "recursive", "<KEEP>", "result", "<KEEP>", "filtered", "<KEEP>", "(", "<KEEP>", "y", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "distances", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<KEEP>", "distances", "<DELETE>", "=", "<DELETE>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "distances", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "iterator", "<DELETE>", "dis", "<DELETE>", "iter", "<DELETE>", "=", "<DELETE>", "distances", "<DELETE>", ".", "<DELETE>", "iterator", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "while", "<DELETE>", "(", "<DELETE>", "dis", "<DELETE>", "iter", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "next", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "group", "<DELETE>", "dis", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "group", "<DELETE>", ")", "<DELETE>", "dis", "<DELETE>", "iter", "<DELETE>", ".", "<DELETE>", "next", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "dis", "<DELETE>", "map", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "dis", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "primary", "<DELETE>", "key", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "dis", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "dis", "<DELETE>", "map", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_worldwind-58-5799", "old_comment": "the label bounds , in lower - left origin screen coordinates .", "old_comment_tokens": ["the", "label", "bounds", ",", "in", "lower", "-", "left", "origin", "screen", "coordinates", "."], "new_comment": "the label bounds , in lower - left origin screen coordinates , or null if there is no label .", "new_comment_tokens": ["the", "label", "bounds", ",", "in", "lower", "-", "left", "origin", "screen", "coordinates", ",", "or", "null", "if", "there", "is", "no", "label", "."], "old_code": "protected rectangle2 d get label bounds ( draw context dc , ordered placemark opm ) { if ( this . label text = = null ) return null ; double x = ( float ) ( opm . screen point . x + this . dx ) ; double y = ( float ) ( opm . screen point . y + this . dy ) ; double image scale = this . get active attributes ( ) . get scale ( ) ; offset os = this . get active attributes ( ) . get label offset ( ) ; if ( os = = null ) os = default _ label _ offset _ if _ unspecified ; double w = this . active texture ! = null ? this . active texture . get width ( dc ) : num ; double h = this . active texture ! = null ? this . active texture . get height ( dc ) : num ; point . double offset = os . compute offset ( w , h , image scale , image scale ) ; x + = offset . x ; y + = offset . y ; font font = this . get active attributes ( ) . get label font ( ) ; if ( font = = null ) font = point placemark attributes . default _ label _ font ; rectangle2 d bounds ; if ( this . label bounds ! = null & & font = = this . bounds font ) { bounds = new rectangle . double ( x , y , this . label bounds . get width ( ) , this . label bounds . get height ( ) ) ; } else { text renderer text renderer = ogltext renderer . get or create text renderer ( dc . get text renderer cache ( ) , font ) ; bounds = text renderer . get bounds ( this . label text ) ; this . bounds font = font ; this . label bounds = bounds ; } double label scale = this . get active attributes ( ) . get label scale ( ) ; if ( label scale ! = null ) { double tw = label scale * bounds . get width ( ) ; double th = label scale * bounds . get height ( ) ; bounds = new rectangle2 d . double ( x , y , tw , th ) ; } else { bounds = new rectangle2 d . double ( x , y , bounds . get width ( ) , bounds . get height ( ) ) ; } return bounds ; }", "old_code_tokens": ["protected", "rectangle2", "d", "get", "label", "bounds", "(", "draw", "context", "dc", ",", "ordered", "placemark", "opm", ")", "{", "if", "(", "this", ".", "label", "text", "=", "=", "null", ")", "return", "null", ";", "double", "x", "=", "(", "float", ")", "(", "opm", ".", "screen", "point", ".", "x", "+", "this", ".", "dx", ")", ";", "double", "y", "=", "(", "float", ")", "(", "opm", ".", "screen", "point", ".", "y", "+", "this", ".", "dy", ")", ";", "double", "image", "scale", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "scale", "(", ")", ";", "offset", "os", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "offset", "(", ")", ";", "if", "(", "os", "=", "=", "null", ")", "os", "=", "default", "_", "label", "_", "offset", "_", "if", "_", "unspecified", ";", "double", "w", "=", "this", ".", "active", "texture", "!", "=", "null", "?", "this", ".", "active", "texture", ".", "get", "width", "(", "dc", ")", ":", "num", ";", "double", "h", "=", "this", ".", "active", "texture", "!", "=", "null", "?", "this", ".", "active", "texture", ".", "get", "height", "(", "dc", ")", ":", "num", ";", "point", ".", "double", "offset", "=", "os", ".", "compute", "offset", "(", "w", ",", "h", ",", "image", "scale", ",", "image", "scale", ")", ";", "x", "+", "=", "offset", ".", "x", ";", "y", "+", "=", "offset", ".", "y", ";", "font", "font", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "font", "(", ")", ";", "if", "(", "font", "=", "=", "null", ")", "font", "=", "point", "placemark", "attributes", ".", "default", "_", "label", "_", "font", ";", "rectangle2", "d", "bounds", ";", "if", "(", "this", ".", "label", "bounds", "!", "=", "null", "&", "&", "font", "=", "=", "this", ".", "bounds", "font", ")", "{", "bounds", "=", "new", "rectangle", ".", "double", "(", "x", ",", "y", ",", "this", ".", "label", "bounds", ".", "get", "width", "(", ")", ",", "this", ".", "label", "bounds", ".", "get", "height", "(", ")", ")", ";", "}", "else", "{", "text", "renderer", "text", "renderer", "=", "ogltext", "renderer", ".", "get", "or", "create", "text", "renderer", "(", "dc", ".", "get", "text", "renderer", "cache", "(", ")", ",", "font", ")", ";", "bounds", "=", "text", "renderer", ".", "get", "bounds", "(", "this", ".", "label", "text", ")", ";", "this", ".", "bounds", "font", "=", "font", ";", "this", ".", "label", "bounds", "=", "bounds", ";", "}", "double", "label", "scale", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "scale", "(", ")", ";", "if", "(", "label", "scale", "!", "=", "null", ")", "{", "double", "tw", "=", "label", "scale", "*", "bounds", ".", "get", "width", "(", ")", ";", "double", "th", "=", "label", "scale", "*", "bounds", ".", "get", "height", "(", ")", ";", "bounds", "=", "new", "rectangle2", "d", ".", "double", "(", "x", ",", "y", ",", "tw", ",", "th", ")", ";", "}", "else", "{", "bounds", "=", "new", "rectangle2", "d", ".", "double", "(", "x", ",", "y", ",", "bounds", ".", "get", "width", "(", ")", ",", "bounds", ".", "get", "height", "(", ")", ")", ";", "}", "return", "bounds", ";", "}"], "new_code": "protected rectangle get label bounds ( draw context dc , ordered placemark opm ) { if ( this . get label text ( ) = = null ) return null ; vec4 label point = this . compute label point ( dc , opm ) ; font font = this . get active attributes ( ) . get label font ( ) ; if ( font = = null ) font = point placemark attributes . default _ label _ font ; text renderer text renderer = ogltext renderer . get or create text renderer ( dc . get text renderer cache ( ) , font ) ; rectangle2 d bounds = text renderer . get bounds ( this . get label text ( ) ) ; double width = bounds . get width ( ) ; double height = bounds . get height ( ) ; double label scale = this . get active attributes ( ) . get label scale ( ) ; if ( label scale ! = null ) { width * = label scale ; height * = label scale ; } int y = ( int ) ( label point . get y ( ) + bounds . get y ( ) / num ) ; return new rectangle ( ( int ) label point . x , y , ( int ) math . ceil ( width ) , ( int ) math . ceil ( height ) ) ; }", "new_code_tokens": ["protected", "rectangle", "get", "label", "bounds", "(", "draw", "context", "dc", ",", "ordered", "placemark", "opm", ")", "{", "if", "(", "this", ".", "get", "label", "text", "(", ")", "=", "=", "null", ")", "return", "null", ";", "vec4", "label", "point", "=", "this", ".", "compute", "label", "point", "(", "dc", ",", "opm", ")", ";", "font", "font", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "font", "(", ")", ";", "if", "(", "font", "=", "=", "null", ")", "font", "=", "point", "placemark", "attributes", ".", "default", "_", "label", "_", "font", ";", "text", "renderer", "text", "renderer", "=", "ogltext", "renderer", ".", "get", "or", "create", "text", "renderer", "(", "dc", ".", "get", "text", "renderer", "cache", "(", ")", ",", "font", ")", ";", "rectangle2", "d", "bounds", "=", "text", "renderer", ".", "get", "bounds", "(", "this", ".", "get", "label", "text", "(", ")", ")", ";", "double", "width", "=", "bounds", ".", "get", "width", "(", ")", ";", "double", "height", "=", "bounds", ".", "get", "height", "(", ")", ";", "double", "label", "scale", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "scale", "(", ")", ";", "if", "(", "label", "scale", "!", "=", "null", ")", "{", "width", "*", "=", "label", "scale", ";", "height", "*", "=", "label", "scale", ";", "}", "int", "y", "=", "(", "int", ")", "(", "label", "point", ".", "get", "y", "(", ")", "+", "bounds", ".", "get", "y", "(", ")", "/", "num", ")", ";", "return", "new", "rectangle", "(", "(", "int", ")", "label", "point", ".", "x", ",", "y", ",", "(", "int", ")", "math", ".", "ceil", "(", "width", ")", ",", "(", "int", ")", "math", ".", "ceil", "(", "height", ")", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> rectangle2 d <REPLACE_NEW> rectangle <REPLACE_END> <KEEP> get label bounds ( draw context dc , ordered placemark opm ) { if ( this . <KEEP_END> <REPLACE_OLD> label text <REPLACE_NEW> get label text ( ) <REPLACE_END> <KEEP> = = null ) return null ; <KEEP_END> <REPLACE_OLD> double x = ( float ) ( <REPLACE_NEW> vec4 label point = this . compute label point ( dc , <REPLACE_END> <KEEP> opm <KEEP_END> <REPLACE_OLD> . screen point . x + this . dx ) ; double y = ( float ) ( opm . screen point . y + this . dy ) ; double image scale <REPLACE_NEW> ) ; font font <REPLACE_END> <KEEP> = this . get active attributes ( ) . get <KEEP_END> <REPLACE_OLD> scale ( ) ; offset os <REPLACE_NEW> label font ( ) ; if ( font = = null ) font = point placemark attributes . default _ label _ font ; text renderer text renderer = ogltext renderer . get or create text renderer ( dc . get text renderer cache ( ) , font ) ; rectangle2 d bounds = text renderer . get bounds ( this . get label text ( ) ) ; double width = bounds . get width ( ) ; double height = bounds . get height ( ) ; double label scale <REPLACE_END> <KEEP> = this . get active attributes ( ) . get label <KEEP_END> <REPLACE_OLD> offset <REPLACE_NEW> scale <REPLACE_END> <KEEP> ( ) ; if ( <KEEP_END> <REPLACE_OLD> os = = null ) os = default _ label _ offset _ if _ unspecified ; double w = this . active texture <REPLACE_NEW> label scale <REPLACE_END> <KEEP> ! = null <KEEP_END> <REPLACE_OLD> ? this . active texture . get width ( dc ) : <REPLACE_NEW> ) { width * = label scale ; height * = label scale ; } int y = ( int ) ( label point . get y ( ) + bounds . get y ( ) / <REPLACE_END> <KEEP> num <KEEP_END> <REPLACE_OLD> ; double h = this . active texture ! = null ? this . active texture . get height ( dc ) : num ; point . double offset = os . compute offset ( w , h , image scale , image scale ) ; x + = offset . x ; y + = offset . y ; font font = this . get active attributes ( ) . get label font ( ) ; if ( font = = null ) font = point placemark attributes . default _ label _ font ; rectangle2 d bounds ; if ( this . label bounds ! = null & & font = = this . bounds font ) { bounds = <REPLACE_NEW> ) ; return <REPLACE_END> <KEEP> new rectangle <KEEP_END> <REPLACE_OLD> . double ( <REPLACE_NEW> ( ( int ) label point . <REPLACE_END> <KEEP> x , y , <KEEP_END> <REPLACE_OLD> this . label bounds . get width ( ) , this . label bounds . get height ( <REPLACE_NEW> ( int ) math . ceil ( width ) , ( int ) math . ceil ( height <REPLACE_END> <KEEP> ) ) ; } <KEEP_END> <DELETE> else { text renderer text renderer = ogltext renderer . get or create text renderer ( dc . get text renderer cache ( ) , font ) ; bounds = text renderer . get bounds ( this . label text ) ; this . bounds font = font ; this . label bounds = bounds ; } double label scale = this . get active attributes ( ) . get label scale ( ) ; if ( label scale ! = null ) { double tw = label scale * bounds . get width ( ) ; double th = label scale * bounds . get height ( ) ; bounds = new rectangle2 d . double ( x , y , tw , th ) ; } else { bounds = new rectangle2 d . double ( x , y , bounds . get width ( ) , bounds . get height ( ) ) ; } return bounds ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "rectangle2", "d", "<REPLACE_NEW>", "rectangle", "<REPLACE_END>", "<KEEP>", "get", "label", "bounds", "(", "draw", "context", "dc", ",", "ordered", "placemark", "opm", ")", "{", "if", "(", "this", ".", "<KEEP_END>", "<REPLACE_OLD>", "label", "text", "<REPLACE_NEW>", "get", "label", "text", "(", ")", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "return", "null", ";", "<KEEP_END>", "<REPLACE_OLD>", "double", "x", "=", "(", "float", ")", "(", "<REPLACE_NEW>", "vec4", "label", "point", "=", "this", ".", "compute", "label", "point", "(", "dc", ",", "<REPLACE_END>", "<KEEP>", "opm", "<KEEP_END>", "<REPLACE_OLD>", ".", "screen", "point", ".", "x", "+", "this", ".", "dx", ")", ";", "double", "y", "=", "(", "float", ")", "(", "opm", ".", "screen", "point", ".", "y", "+", "this", ".", "dy", ")", ";", "double", "image", "scale", "<REPLACE_NEW>", ")", ";", "font", "font", "<REPLACE_END>", "<KEEP>", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "scale", "(", ")", ";", "offset", "os", "<REPLACE_NEW>", "label", "font", "(", ")", ";", "if", "(", "font", "=", "=", "null", ")", "font", "=", "point", "placemark", "attributes", ".", "default", "_", "label", "_", "font", ";", "text", "renderer", "text", "renderer", "=", "ogltext", "renderer", ".", "get", "or", "create", "text", "renderer", "(", "dc", ".", "get", "text", "renderer", "cache", "(", ")", ",", "font", ")", ";", "rectangle2", "d", "bounds", "=", "text", "renderer", ".", "get", "bounds", "(", "this", ".", "get", "label", "text", "(", ")", ")", ";", "double", "width", "=", "bounds", ".", "get", "width", "(", ")", ";", "double", "height", "=", "bounds", ".", "get", "height", "(", ")", ";", "double", "label", "scale", "<REPLACE_END>", "<KEEP>", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "<KEEP_END>", "<REPLACE_OLD>", "offset", "<REPLACE_NEW>", "scale", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "os", "=", "=", "null", ")", "os", "=", "default", "_", "label", "_", "offset", "_", "if", "_", "unspecified", ";", "double", "w", "=", "this", ".", "active", "texture", "<REPLACE_NEW>", "label", "scale", "<REPLACE_END>", "<KEEP>", "!", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", "?", "this", ".", "active", "texture", ".", "get", "width", "(", "dc", ")", ":", "<REPLACE_NEW>", ")", "{", "width", "*", "=", "label", "scale", ";", "height", "*", "=", "label", "scale", ";", "}", "int", "y", "=", "(", "int", ")", "(", "label", "point", ".", "get", "y", "(", ")", "+", "bounds", ".", "get", "y", "(", ")", "/", "<REPLACE_END>", "<KEEP>", "num", "<KEEP_END>", "<REPLACE_OLD>", ";", "double", "h", "=", "this", ".", "active", "texture", "!", "=", "null", "?", "this", ".", "active", "texture", ".", "get", "height", "(", "dc", ")", ":", "num", ";", "point", ".", "double", "offset", "=", "os", ".", "compute", "offset", "(", "w", ",", "h", ",", "image", "scale", ",", "image", "scale", ")", ";", "x", "+", "=", "offset", ".", "x", ";", "y", "+", "=", "offset", ".", "y", ";", "font", "font", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "font", "(", ")", ";", "if", "(", "font", "=", "=", "null", ")", "font", "=", "point", "placemark", "attributes", ".", "default", "_", "label", "_", "font", ";", "rectangle2", "d", "bounds", ";", "if", "(", "this", ".", "label", "bounds", "!", "=", "null", "&", "&", "font", "=", "=", "this", ".", "bounds", "font", ")", "{", "bounds", "=", "<REPLACE_NEW>", ")", ";", "return", "<REPLACE_END>", "<KEEP>", "new", "rectangle", "<KEEP_END>", "<REPLACE_OLD>", ".", "double", "(", "<REPLACE_NEW>", "(", "(", "int", ")", "label", "point", ".", "<REPLACE_END>", "<KEEP>", "x", ",", "y", ",", "<KEEP_END>", "<REPLACE_OLD>", "this", ".", "label", "bounds", ".", "get", "width", "(", ")", ",", "this", ".", "label", "bounds", ".", "get", "height", "(", "<REPLACE_NEW>", "(", "int", ")", "math", ".", "ceil", "(", "width", ")", ",", "(", "int", ")", "math", ".", "ceil", "(", "height", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "else", "{", "text", "renderer", "text", "renderer", "=", "ogltext", "renderer", ".", "get", "or", "create", "text", "renderer", "(", "dc", ".", "get", "text", "renderer", "cache", "(", ")", ",", "font", ")", ";", "bounds", "=", "text", "renderer", ".", "get", "bounds", "(", "this", ".", "label", "text", ")", ";", "this", ".", "bounds", "font", "=", "font", ";", "this", ".", "label", "bounds", "=", "bounds", ";", "}", "double", "label", "scale", "=", "this", ".", "get", "active", "attributes", "(", ")", ".", "get", "label", "scale", "(", ")", ";", "if", "(", "label", "scale", "!", "=", "null", ")", "{", "double", "tw", "=", "label", "scale", "*", "bounds", ".", "get", "width", "(", ")", ";", "double", "th", "=", "label", "scale", "*", "bounds", ".", "get", "height", "(", ")", ";", "bounds", "=", "new", "rectangle2", "d", ".", "double", "(", "x", ",", "y", ",", "tw", ",", "th", ")", ";", "}", "else", "{", "bounds", "=", "new", "rectangle2", "d", ".", "double", "(", "x", ",", "y", ",", "bounds", ".", "get", "width", "(", ")", ",", "bounds", ".", "get", "height", "(", ")", ")", ";", "}", "return", "bounds", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> coordinates <INSERT_NEW_KEEP_BEFORE> coordinates , or null if there is no label <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "coordinates", "<INSERT_NEW_KEEP_BEFORE>", "coordinates", ",", "or", "null", "if", "there", "is", "no", "label", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "rectangle2", "<REPLACE_OLD>", "d", "<REPLACE_NEW>", "rectangle", "<KEEP>", "get", "<KEEP>", "label", "<KEEP>", "bounds", "<KEEP>", "(", "<KEEP>", "draw", "<KEEP>", "context", "<KEEP>", "dc", "<KEEP>", ",", "<KEEP>", "ordered", "<KEEP>", "placemark", "<KEEP>", "opm", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "text", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "vec4", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "point", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "compute", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "point", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "dc", "<REPLACE_NEW>", ",", "<KEEP>", "opm", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "screen", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "dx", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "float", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "opm", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "screen", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "dy", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "image", "<REPLACE_OLD>", "scale", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "font", "<REPLACE_NEW>", "font", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "active", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "offset", "<REPLACE_OLD>", "os", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "font", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "font", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "font", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "point", "<REPLACE_NEW>", "placemark", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "font", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "renderer", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "renderer", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "ogltext", "<REPLACE_NEW>", "renderer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "or", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "renderer", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "dc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "renderer", "<REPLACE_NEW>", "cache", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "font", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "rectangle2", "<REPLACE_NEW>", "d", "<REPLACE_NEW>", "bounds", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "renderer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "bounds", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "double", "<REPLACE_NEW>", "width", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "bounds", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "width", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "double", "<REPLACE_NEW>", "height", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "bounds", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "height", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "double", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "scale", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "active", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "label", "<REPLACE_OLD>", "offset", "<REPLACE_NEW>", "scale", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "os", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "os", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "offset", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "unspecified", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "w", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "active", "<REPLACE_OLD>", "texture", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "scale", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "active", "<REPLACE_OLD>", "texture", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "width", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "dc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "width", "<REPLACE_NEW>", "*", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "scale", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "height", "<REPLACE_NEW>", "*", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "scale", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "point", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "bounds", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "/", "<KEEP>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "h", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "active", "<REPLACE_OLD>", "texture", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "active", "<REPLACE_OLD>", "texture", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "height", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "dc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "offset", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "os", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "compute", "<REPLACE_OLD>", "offset", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "w", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "h", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "image", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "image", "<REPLACE_OLD>", "scale", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "offset", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "x", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "offset", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "active", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "point", "<REPLACE_OLD>", "placemark", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "rectangle2", "<REPLACE_OLD>", "d", "<REPLACE_OLD>", "bounds", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "bounds", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bounds", "<REPLACE_OLD>", "font", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "bounds", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<KEEP>", "new", "<KEEP>", "rectangle", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "double", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "label", "<REPLACE_NEW>", "point", "<REPLACE_NEW>", ".", "<KEEP>", "x", "<KEEP>", ",", "<KEEP>", "y", "<KEEP>", ",", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "bounds", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "width", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "label", "<REPLACE_OLD>", "bounds", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "height", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ceil", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "width", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "math", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ceil", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "height", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "text", "<DELETE>", "renderer", "<DELETE>", "text", "<DELETE>", "renderer", "<DELETE>", "=", "<DELETE>", "ogltext", "<DELETE>", "renderer", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "or", "<DELETE>", "create", "<DELETE>", "text", "<DELETE>", "renderer", "<DELETE>", "(", "<DELETE>", "dc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "text", "<DELETE>", "renderer", "<DELETE>", "cache", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "font", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "bounds", "<DELETE>", "=", "<DELETE>", "text", "<DELETE>", "renderer", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "bounds", "<DELETE>", "(", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "label", "<DELETE>", "text", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "bounds", "<DELETE>", "font", "<DELETE>", "=", "<DELETE>", "font", "<DELETE>", ";", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "label", "<DELETE>", "bounds", "<DELETE>", "=", "<DELETE>", "bounds", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "double", "<DELETE>", "label", "<DELETE>", "scale", "<DELETE>", "=", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "active", "<DELETE>", "attributes", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "label", "<DELETE>", "scale", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "label", "<DELETE>", "scale", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "double", "<DELETE>", "tw", "<DELETE>", "=", "<DELETE>", "label", "<DELETE>", "scale", "<DELETE>", "*", "<DELETE>", "bounds", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "width", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "double", "<DELETE>", "th", "<DELETE>", "=", "<DELETE>", "label", "<DELETE>", "scale", "<DELETE>", "*", "<DELETE>", "bounds", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "height", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "bounds", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "rectangle2", "<DELETE>", "d", "<DELETE>", ".", "<DELETE>", "double", "<DELETE>", "(", "<DELETE>", "x", "<DELETE>", ",", "<DELETE>", "y", "<DELETE>", ",", "<DELETE>", "tw", "<DELETE>", ",", "<DELETE>", "th", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "bounds", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "rectangle2", "<DELETE>", "d", "<DELETE>", ".", "<DELETE>", "double", "<DELETE>", "(", "<DELETE>", "x", "<DELETE>", ",", "<DELETE>", "y", "<DELETE>", ",", "<DELETE>", "bounds", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "width", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "bounds", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "height", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "bounds", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rt.equinox.bundles-60-5851", "old_comment": "the istext expert instance .", "old_comment_tokens": ["the", "istext", "expert", "instance", "."], "new_comment": "the istructured text expert instance .", "new_comment_tokens": ["the", "istructured", "text", "expert", "instance", "."], "old_code": "static public istext expert get expert ( string type , stext environment environment ) { istext expert expert ; if ( environment = = null ) environment = stext environment . default ; synchronized ( shared experts ) { map experts = ( map ) shared experts . get ( type ) ; if ( experts = = null ) { experts = new hash map ( ) ; shared experts . put ( type , experts ) ; } expert = ( istext expert ) experts . get ( environment ) ; if ( expert = = null ) { stext type handler handler = stext type handler factory . get handler ( type ) ; if ( handler = = null ) throw new illegal argument exception ( str ) ; expert = new stext impl ( handler , environment , false ) ; experts . put ( type , expert ) ; } } return expert ; }", "old_code_tokens": ["static", "public", "istext", "expert", "get", "expert", "(", "string", "type", ",", "stext", "environment", "environment", ")", "{", "istext", "expert", "expert", ";", "if", "(", "environment", "=", "=", "null", ")", "environment", "=", "stext", "environment", ".", "default", ";", "synchronized", "(", "shared", "experts", ")", "{", "map", "experts", "=", "(", "map", ")", "shared", "experts", ".", "get", "(", "type", ")", ";", "if", "(", "experts", "=", "=", "null", ")", "{", "experts", "=", "new", "hash", "map", "(", ")", ";", "shared", "experts", ".", "put", "(", "type", ",", "experts", ")", ";", "}", "expert", "=", "(", "istext", "expert", ")", "experts", ".", "get", "(", "environment", ")", ";", "if", "(", "expert", "=", "=", "null", ")", "{", "stext", "type", "handler", "handler", "=", "stext", "type", "handler", "factory", ".", "get", "handler", "(", "type", ")", ";", "if", "(", "handler", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "expert", "=", "new", "stext", "impl", "(", "handler", ",", "environment", ",", "false", ")", ";", "experts", ".", "put", "(", "type", ",", "expert", ")", ";", "}", "}", "return", "expert", ";", "}"], "new_code": "static public istructured text expert get expert ( string type , structured text environment environment ) { istructured text expert expert ; if ( environment = = null ) environment = structured text environment . default ; synchronized ( shared experts ) { map experts = ( map ) shared experts . get ( type ) ; if ( experts = = null ) { experts = new hash map ( ) ; shared experts . put ( type , experts ) ; } expert = ( istructured text expert ) experts . get ( environment ) ; if ( expert = = null ) { structured text type handler handler = structured text type handler factory . get handler ( type ) ; if ( handler = = null ) throw new illegal argument exception ( str ) ; expert = new structured text impl ( handler , environment , false ) ; experts . put ( type , expert ) ; } } return expert ; }", "new_code_tokens": ["static", "public", "istructured", "text", "expert", "get", "expert", "(", "string", "type", ",", "structured", "text", "environment", "environment", ")", "{", "istructured", "text", "expert", "expert", ";", "if", "(", "environment", "=", "=", "null", ")", "environment", "=", "structured", "text", "environment", ".", "default", ";", "synchronized", "(", "shared", "experts", ")", "{", "map", "experts", "=", "(", "map", ")", "shared", "experts", ".", "get", "(", "type", ")", ";", "if", "(", "experts", "=", "=", "null", ")", "{", "experts", "=", "new", "hash", "map", "(", ")", ";", "shared", "experts", ".", "put", "(", "type", ",", "experts", ")", ";", "}", "expert", "=", "(", "istructured", "text", "expert", ")", "experts", ".", "get", "(", "environment", ")", ";", "if", "(", "expert", "=", "=", "null", ")", "{", "structured", "text", "type", "handler", "handler", "=", "structured", "text", "type", "handler", "factory", ".", "get", "handler", "(", "type", ")", ";", "if", "(", "handler", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "expert", "=", "new", "structured", "text", "impl", "(", "handler", ",", "environment", ",", "false", ")", ";", "experts", ".", "put", "(", "type", ",", "expert", ")", ";", "}", "}", "return", "expert", ";", "}"], "span_diff_code": "<KEEP> static public <KEEP_END> <REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END> <KEEP> expert get expert ( string type , <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> environment environment ) { <KEEP_END> <REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END> <KEEP> expert expert ; if ( environment = = null ) environment = <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> environment . default ; synchronized ( shared experts ) { map experts = ( map ) shared experts . get ( type ) ; if ( experts = = null ) { experts = new hash map ( ) ; shared experts . put ( type , experts ) ; } expert = ( <KEEP_END> <REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END> <KEEP> expert ) experts . get ( environment ) ; if ( expert = = null ) { <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> type handler handler = <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> type handler factory . get handler ( type ) ; if ( handler = = null ) throw new illegal argument exception ( str ) ; expert = new <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> impl ( handler , environment , false ) ; experts . put ( type , expert ) ; } } return expert ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "public", "<KEEP_END>", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>", "<KEEP>", "expert", "get", "expert", "(", "string", "type", ",", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "environment", "environment", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>", "<KEEP>", "expert", "expert", ";", "if", "(", "environment", "=", "=", "null", ")", "environment", "=", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "environment", ".", "default", ";", "synchronized", "(", "shared", "experts", ")", "{", "map", "experts", "=", "(", "map", ")", "shared", "experts", ".", "get", "(", "type", ")", ";", "if", "(", "experts", "=", "=", "null", ")", "{", "experts", "=", "new", "hash", "map", "(", ")", ";", "shared", "experts", ".", "put", "(", "type", ",", "experts", ")", ";", "}", "expert", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>", "<KEEP>", "expert", ")", "experts", ".", "get", "(", "environment", ")", ";", "if", "(", "expert", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "type", "handler", "handler", "=", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "type", "handler", "factory", ".", "get", "handler", "(", "type", ")", ";", "if", "(", "handler", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "expert", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "impl", "(", "handler", ",", "environment", ",", "false", ")", ";", "experts", ".", "put", "(", "type", ",", "expert", ")", ";", "}", "}", "return", "expert", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "public", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "<REPLACE_NEW>", "text", "<KEEP>", "expert", "<KEEP>", "get", "<KEEP>", "expert", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ",", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "environment", "<KEEP>", "environment", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "<REPLACE_NEW>", "text", "<KEEP>", "expert", "<KEEP>", "expert", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "environment", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "environment", "<KEEP>", "=", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "environment", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", ";", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "shared", "<KEEP>", "experts", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "map", "<KEEP>", "experts", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "map", "<KEEP>", ")", "<KEEP>", "shared", "<KEEP>", "experts", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "experts", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "experts", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "shared", "<KEEP>", "experts", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "experts", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "expert", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "<REPLACE_NEW>", "text", "<KEEP>", "expert", "<KEEP>", ")", "<KEEP>", "experts", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "environment", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "expert", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "type", "<KEEP>", "handler", "<KEEP>", "handler", "<KEEP>", "=", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "type", "<KEEP>", "handler", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "expert", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "impl", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", ",", "<KEEP>", "environment", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "experts", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "expert", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "expert", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "2dxgujun_AndroidTagGroup-0-2552", "old_comment": "the input state tag or null if none .", "old_comment_tokens": ["the", "input", "state", "tag", "or", "null", "if", "none", "."], "new_comment": "the input state tag view or null if not exists", "new_comment_tokens": ["the", "input", "state", "tag", "view", "or", "null", "if", "not", "exists"], "old_code": "protected tag view get input tag ( ) { if ( is append mode ) { final int input tag index = get child count ( ) - num ; tag view input tag = ( tag view ) get child at ( input tag index ) ; if ( input tag ! = null & & input tag . m state = = tag view . state _ input ) { return input tag ; } else { return null ; } } else { return null ; } }", "old_code_tokens": ["protected", "tag", "view", "get", "input", "tag", "(", ")", "{", "if", "(", "is", "append", "mode", ")", "{", "final", "int", "input", "tag", "index", "=", "get", "child", "count", "(", ")", "-", "num", ";", "tag", "view", "input", "tag", "=", "(", "tag", "view", ")", "get", "child", "at", "(", "input", "tag", "index", ")", ";", "if", "(", "input", "tag", "!", "=", "null", "&", "&", "input", "tag", ".", "m", "state", "=", "=", "tag", "view", ".", "state", "_", "input", ")", "{", "return", "input", "tag", ";", "}", "else", "{", "return", "null", ";", "}", "}", "else", "{", "return", "null", ";", "}", "}"], "new_code": "public string get input tag ( ) { final tag view input tag view = get input tag view ( ) ; if ( input tag view ! = null ) { return input tag view . get text ( ) . to string ( ) ; } return null ; }", "new_code_tokens": ["public", "string", "get", "input", "tag", "(", ")", "{", "final", "tag", "view", "input", "tag", "view", "=", "get", "input", "tag", "view", "(", ")", ";", "if", "(", "input", "tag", "view", "!", "=", "null", ")", "{", "return", "input", "tag", "view", ".", "get", "text", "(", ")", ".", "to", "string", "(", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<REPLACE_OLD> protected tag view <REPLACE_NEW> public string <REPLACE_END> <KEEP> get input tag ( ) { <KEEP_END> <DELETE> if ( is append mode ) { <DELETE_END> <KEEP> final <KEEP_END> <DELETE> int input tag index = get child count ( ) - num ; <DELETE_END> <KEEP> tag view input tag <KEEP_END> <INSERT> view <INSERT_END> <KEEP> = <KEEP_END> <REPLACE_OLD> ( <REPLACE_NEW> get input <REPLACE_END> <KEEP> tag view <KEEP_END> <DELETE> ) get child at <DELETE_END> <KEEP> ( <KEEP_END> <DELETE> input tag index <DELETE_END> <KEEP> ) ; if ( input tag <KEEP_END> <INSERT> view <INSERT_END> <KEEP> ! = null <KEEP_END> <DELETE> & & input tag . m state = = tag view . state _ input <DELETE_END> <KEEP> ) { return input tag <KEEP_END> <INSERT> view . get text ( ) . to string ( ) <INSERT_END> <KEEP> ; } <KEEP_END> <DELETE> else { <DELETE_END> <KEEP> return null ; } <KEEP_END> <DELETE> } else { return null ; } } <DELETE_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "protected", "tag", "view", "<REPLACE_NEW>", "public", "string", "<REPLACE_END>", "<KEEP>", "get", "input", "tag", "(", ")", "{", "<KEEP_END>", "<DELETE>", "if", "(", "is", "append", "mode", ")", "{", "<DELETE_END>", "<KEEP>", "final", "<KEEP_END>", "<DELETE>", "int", "input", "tag", "index", "=", "get", "child", "count", "(", ")", "-", "num", ";", "<DELETE_END>", "<KEEP>", "tag", "view", "input", "tag", "<KEEP_END>", "<INSERT>", "view", "<INSERT_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "get", "input", "<REPLACE_END>", "<KEEP>", "tag", "view", "<KEEP_END>", "<DELETE>", ")", "get", "child", "at", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "input", "tag", "index", "<DELETE_END>", "<KEEP>", ")", ";", "if", "(", "input", "tag", "<KEEP_END>", "<INSERT>", "view", "<INSERT_END>", "<KEEP>", "!", "=", "null", "<KEEP_END>", "<DELETE>", "&", "&", "input", "tag", ".", "m", "state", "=", "=", "tag", "view", ".", "state", "_", "input", "<DELETE_END>", "<KEEP>", ")", "{", "return", "input", "tag", "<KEEP_END>", "<INSERT>", "view", ".", "get", "text", "(", ")", ".", "to", "string", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "else", "{", "<DELETE_END>", "<KEEP>", "return", "null", ";", "}", "<KEEP_END>", "<DELETE>", "}", "else", "{", "return", "null", ";", "}", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> tag <INSERT_NEW_KEEP_BEFORE> tag view <INSERT_END> <REPLACE_OLD> none . <REPLACE_NEW> not exists <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "tag", "<INSERT_NEW_KEEP_BEFORE>", "tag", "view", "<INSERT_END>", "<REPLACE_OLD>", "none", ".", "<REPLACE_NEW>", "not", "exists", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "protected", "<REPLACE_OLD>", "tag", "<REPLACE_OLD>", "view", "<REPLACE_NEW>", "public", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "tag", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", "append", "<DELETE>", "mode", "<DELETE>", ")", "<DELETE>", "{", "<KEEP>", "final", "<DELETE>", "int", "<DELETE>", "input", "<DELETE>", "tag", "<DELETE>", "index", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "child", "<DELETE>", "count", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ";", "<KEEP>", "tag", "<KEEP>", "view", "<KEEP>", "input", "<KEEP>", "tag", "<INSERT>", "view", "<KEEP>", "=", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "input", "<KEEP>", "tag", "<KEEP>", "view", "<DELETE>", ")", "<DELETE>", "get", "<DELETE>", "child", "<DELETE>", "at", "<KEEP>", "(", "<DELETE>", "input", "<DELETE>", "tag", "<DELETE>", "index", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "tag", "<INSERT>", "view", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "input", "<DELETE>", "tag", "<DELETE>", ".", "<DELETE>", "m", "<DELETE>", "state", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "tag", "<DELETE>", "view", "<DELETE>", ".", "<DELETE>", "state", "<DELETE>", "_", "<DELETE>", "input", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "input", "<KEEP>", "tag", "<INSERT>", "view", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "text", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "code-troopers_android-betterpickers-0-2018", "old_comment": "an int representation of the number with no decimal", "old_comment_tokens": ["an", "int", "representation", "of", "the", "number", "with", "no", "decimal"], "new_comment": "an string representation of the number with no decimal", "new_comment_tokens": ["an", "string", "representation", "of", "the", "number", "with", "no", "decimal"], "old_code": "public int get number ( ) { string number string = double to string ( get entered number ( ) ) ; string [ ] split = number string . split ( str ) ; return integer . parse int ( split [ num ] ) ; }", "old_code_tokens": ["public", "int", "get", "number", "(", ")", "{", "string", "number", "string", "=", "double", "to", "string", "(", "get", "entered", "number", "(", ")", ")", ";", "string", "[", "]", "split", "=", "number", "string", ".", "split", "(", "str", ")", ";", "return", "integer", ".", "parse", "int", "(", "split", "[", "num", "]", ")", ";", "}"], "new_code": "public big integer get number ( ) { big decimal big decimal = get entered number ( ) . set scale ( num , big decimal . round _ floor ) ; return big decimal . to big integer exact ( ) ; }", "new_code_tokens": ["public", "big", "integer", "get", "number", "(", ")", "{", "big", "decimal", "big", "decimal", "=", "get", "entered", "number", "(", ")", ".", "set", "scale", "(", "num", ",", "big", "decimal", ".", "round", "_", "floor", ")", ";", "return", "big", "decimal", ".", "to", "big", "integer", "exact", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> big integer <REPLACE_END> <KEEP> get number ( ) { <KEEP_END> <REPLACE_OLD> string number string <REPLACE_NEW> big decimal big decimal <REPLACE_END> <KEEP> = <KEEP_END> <DELETE> double to string ( <DELETE_END> <KEEP> get entered number ( ) <KEEP_END> <DELETE> ) ; string [ ] split = number string <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> split <REPLACE_NEW> set scale <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> num , big decimal . round _ floor <REPLACE_END> <KEEP> ) ; return <KEEP_END> <INSERT> big decimal . to big <INSERT_END> <KEEP> integer <KEEP_END> <REPLACE_OLD> . parse int <REPLACE_NEW> exact <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> split [ num ] <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "big", "integer", "<REPLACE_END>", "<KEEP>", "get", "number", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "number", "string", "<REPLACE_NEW>", "big", "decimal", "big", "decimal", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<DELETE>", "double", "to", "string", "(", "<DELETE_END>", "<KEEP>", "get", "entered", "number", "(", ")", "<KEEP_END>", "<DELETE>", ")", ";", "string", "[", "]", "split", "=", "number", "string", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "split", "<REPLACE_NEW>", "set", "scale", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "num", ",", "big", "decimal", ".", "round", "_", "floor", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "<KEEP_END>", "<INSERT>", "big", "decimal", ".", "to", "big", "<INSERT_END>", "<KEEP>", "integer", "<KEEP_END>", "<REPLACE_OLD>", ".", "parse", "int", "<REPLACE_NEW>", "exact", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "split", "[", "num", "]", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> int <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "int", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "big", "<REPLACE_NEW>", "integer", "<KEEP>", "get", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "number", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "big", "<REPLACE_NEW>", "decimal", "<REPLACE_NEW>", "big", "<REPLACE_NEW>", "decimal", "<KEEP>", "=", "<DELETE>", "double", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<KEEP>", "get", "<KEEP>", "entered", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "split", "<DELETE>", "=", "<DELETE>", "number", "<DELETE>", "string", "<KEEP>", ".", "<REPLACE_OLD>", "split", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "scale", "<KEEP>", "(", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "big", "<REPLACE_NEW>", "decimal", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "round", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "floor", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "big", "<INSERT>", "decimal", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "big", "<KEEP>", "integer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "exact", "<KEEP>", "(", "<DELETE>", "split", "<DELETE>", "[", "<DELETE>", "num", "<DELETE>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lingochamp_FileDownloader-2-709", "old_comment": "whether is successful to update all tasks ' status to the filedownloader engine . if one task atom among them is not match the rules in com . liulishuo . filedownloader . services . file download mgr # obtain completed task shelf model ( string , string , long ) will receive false , and non of them would be updated to db .", "old_comment_tokens": ["whether", "is", "successful", "to", "update", "all", "tasks", "'", "status", "to", "the", "filedownloader", "engine", ".", "if", "one", "task", "atom", "among", "them", "is", "not", "match", "the", "rules", "in", "com", ".", "liulishuo", ".", "filedownloader", ".", "services", ".", "file", "download", "mgr", "#", "obtain", "completed", "task", "shelf", "model", "(", "string", ",", "string", ",", "long", ")", "will", "receive", "false", ",", "and", "non", "of", "them", "would", "be", "updated", "to", "db", "."], "new_comment": "whether is successful to update all tasks ' status to the filedownloader engine . if one task atom among them is not match the rules in file download mgr # obtain completed task shelf model ( string , string , long ) will receive false , and non of them would be updated to db .", "new_comment_tokens": ["whether", "is", "successful", "to", "update", "all", "tasks", "'", "status", "to", "the", "filedownloader", "engine", ".", "if", "one", "task", "atom", "among", "them", "is", "not", "match", "the", "rules", "in", "file", "download", "mgr", "#", "obtain", "completed", "task", "shelf", "model", "(", "string", ",", "string", ",", "long", ")", "will", "receive", "false", ",", "and", "non", "of", "them", "would", "be", "updated", "to", "db", "."], "old_code": "public boolean set task completed ( list < file download task atom > task atom list ) { return file download service proxy . get impl ( ) . set task completed ( task atom list ) ; }", "old_code_tokens": ["public", "boolean", "set", "task", "completed", "(", "list", "<", "file", "download", "task", "atom", ">", "task", "atom", "list", ")", "{", "return", "file", "download", "service", "proxy", ".", "get", "impl", "(", ")", ".", "set", "task", "completed", "(", "task", "atom", "list", ")", ";", "}"], "new_code": "public boolean set task completed ( list < file download task atom > task atom list ) { file download log . w ( this , str + str ) ; return true ; }", "new_code_tokens": ["public", "boolean", "set", "task", "completed", "(", "list", "<", "file", "download", "task", "atom", ">", "task", "atom", "list", ")", "{", "file", "download", "log", ".", "w", "(", "this", ",", "str", "+", "str", ")", ";", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public boolean set task completed ( list < file download task atom > task atom list ) { <KEEP_END> <DELETE> return <DELETE_END> <KEEP> file download <KEEP_END> <REPLACE_OLD> service proxy <REPLACE_NEW> log <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get impl <REPLACE_NEW> w <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ) . set task completed ( task atom list <REPLACE_NEW> this , str + str <REPLACE_END> <KEEP> ) ; <KEEP_END> <INSERT> return true ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "set", "task", "completed", "(", "list", "<", "file", "download", "task", "atom", ">", "task", "atom", "list", ")", "{", "<KEEP_END>", "<DELETE>", "return", "<DELETE_END>", "<KEEP>", "file", "download", "<KEEP_END>", "<REPLACE_OLD>", "service", "proxy", "<REPLACE_NEW>", "log", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "impl", "<REPLACE_NEW>", "w", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ".", "set", "task", "completed", "(", "task", "atom", "list", "<REPLACE_NEW>", "this", ",", "str", "+", "str", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "return", "true", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> com . liulishuo . filedownloader . services . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "com", ".", "liulishuo", ".", "filedownloader", ".", "services", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "set", "<KEEP>", "task", "<KEEP>", "completed", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "file", "<KEEP>", "download", "<KEEP>", "task", "<KEEP>", "atom", "<KEEP>", ">", "<KEEP>", "task", "<KEEP>", "atom", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "return", "<KEEP>", "file", "<KEEP>", "download", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", "proxy", "<REPLACE_NEW>", "log", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "impl", "<REPLACE_NEW>", "w", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "task", "<REPLACE_OLD>", "completed", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "task", "<REPLACE_OLD>", "atom", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "true", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jackyglony_objectiveclipse-408-3921", "old_comment": "null if unknown type , null cannot be used to create valid catchpoint", "old_comment_tokens": ["null", "if", "unknown", "type", ",", "null", "cannot", "be", "used", "to", "create", "valid", "catchpoint"], "new_comment": "null if unknown type , null cannot be used to create valid event breakpoint", "new_comment_tokens": ["null", "if", "unknown", "type", ",", "null", "cannot", "be", "used", "to", "create", "valid", "event", "breakpoint"], "old_code": "public static string get event type from mi ( mibreakpoint mi breakpoint ) { if ( mi breakpoint . get what ( ) . equals ( str ) ) { return catchpoint . catch ; } else if ( mi breakpoint . get what ( ) . equals ( str ) ) { return catchpoint . throw ; } return null ; }", "old_code_tokens": ["public", "static", "string", "get", "event", "type", "from", "mi", "(", "mibreakpoint", "mi", "breakpoint", ")", "{", "if", "(", "mi", "breakpoint", ".", "get", "what", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "catchpoint", ".", "catch", ";", "}", "else", "if", "(", "mi", "breakpoint", ".", "get", "what", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "catchpoint", ".", "throw", ";", "}", "return", "null", ";", "}"], "new_code": "public static string get event type from mi ( mibreakpoint mi breakpoint ) { if ( mi breakpoint . get what ( ) . equals ( str ) ) { return event breakpoint . catch ; } else if ( mi breakpoint . get what ( ) . equals ( str ) ) { return event breakpoint . throw ; } return null ; }", "new_code_tokens": ["public", "static", "string", "get", "event", "type", "from", "mi", "(", "mibreakpoint", "mi", "breakpoint", ")", "{", "if", "(", "mi", "breakpoint", ".", "get", "what", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "event", "breakpoint", ".", "catch", ";", "}", "else", "if", "(", "mi", "breakpoint", ".", "get", "what", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "event", "breakpoint", ".", "throw", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static string get event type from mi ( mibreakpoint mi breakpoint ) { if ( mi breakpoint . get what ( ) . equals ( str ) ) { return <KEEP_END> <REPLACE_OLD> catchpoint <REPLACE_NEW> event breakpoint <REPLACE_END> <KEEP> . catch ; } else if ( mi breakpoint . get what ( ) . equals ( str ) ) { return <KEEP_END> <REPLACE_OLD> catchpoint <REPLACE_NEW> event breakpoint <REPLACE_END> <KEEP> . throw ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "event", "type", "from", "mi", "(", "mibreakpoint", "mi", "breakpoint", ")", "{", "if", "(", "mi", "breakpoint", ".", "get", "what", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "catchpoint", "<REPLACE_NEW>", "event", "breakpoint", "<REPLACE_END>", "<KEEP>", ".", "catch", ";", "}", "else", "if", "(", "mi", "breakpoint", ".", "get", "what", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "catchpoint", "<REPLACE_NEW>", "event", "breakpoint", "<REPLACE_END>", "<KEEP>", ".", "throw", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> catchpoint <REPLACE_NEW> event breakpoint <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "catchpoint", "<REPLACE_NEW>", "event", "breakpoint", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "event", "<KEEP>", "type", "<KEEP>", "from", "<KEEP>", "mi", "<KEEP>", "(", "<KEEP>", "mibreakpoint", "<KEEP>", "mi", "<KEEP>", "breakpoint", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mi", "<KEEP>", "breakpoint", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "what", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "catchpoint", "<REPLACE_NEW>", "event", "<REPLACE_NEW>", "breakpoint", "<KEEP>", ".", "<KEEP>", "catch", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mi", "<KEEP>", "breakpoint", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "what", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "catchpoint", "<REPLACE_NEW>", "event", "<REPLACE_NEW>", "breakpoint", "<KEEP>", ".", "<KEEP>", "throw", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_mylyn.docs.intent.main-40-6148", "old_comment": "the traceability index of the current repository . if none find , creates it", "old_comment_tokens": ["the", "traceability", "index", "of", "the", "current", "repository", ".", "if", "none", "find", ",", "creates", "it"], "new_comment": "the traceability index index of the current repository . if none find , creates it", "new_comment_tokens": ["the", "traceability", "index", "index", "of", "the", "current", "repository", ".", "if", "none", "find", ",", "creates", "it"], "old_code": "public traceability index get or create traceability index ( ) { final resource traceability resource = repository adapter . get resource ( intent locations . traceability _ infos _ index _ path ) ; if ( traceability resource . get contents ( ) . is empty ( ) ) { traceability resource . get contents ( ) . add ( compiler factory . e instance . create traceability index ( ) ) ; } return ( traceability index ) traceability resource . get contents ( ) . get ( num ) ; }", "old_code_tokens": ["public", "traceability", "index", "get", "or", "create", "traceability", "index", "(", ")", "{", "final", "resource", "traceability", "resource", "=", "repository", "adapter", ".", "get", "resource", "(", "intent", "locations", ".", "traceability", "_", "infos", "_", "index", "_", "path", ")", ";", "if", "(", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "add", "(", "compiler", "factory", ".", "e", "instance", ".", "create", "traceability", "index", "(", ")", ")", ";", "}", "return", "(", "traceability", "index", ")", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "get", "(", "num", ")", ";", "}"], "new_code": "public traceability index get or create traceability index ( ) { if ( traceability index = = null ) { final resource traceability resource = repository adapter . get resource ( intent locations . traceability _ infos _ index _ path ) ; if ( traceability resource . get contents ( ) . is empty ( ) ) { traceability resource . get contents ( ) . add ( compiler factory . e instance . create traceability index ( ) ) ; } traceability index = ( traceability index ) traceability resource . get contents ( ) . get ( num ) ; } return traceability index ; }", "new_code_tokens": ["public", "traceability", "index", "get", "or", "create", "traceability", "index", "(", ")", "{", "if", "(", "traceability", "index", "=", "=", "null", ")", "{", "final", "resource", "traceability", "resource", "=", "repository", "adapter", ".", "get", "resource", "(", "intent", "locations", ".", "traceability", "_", "infos", "_", "index", "_", "path", ")", ";", "if", "(", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "add", "(", "compiler", "factory", ".", "e", "instance", ".", "create", "traceability", "index", "(", ")", ")", ";", "}", "traceability", "index", "=", "(", "traceability", "index", ")", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "get", "(", "num", ")", ";", "}", "return", "traceability", "index", ";", "}"], "span_diff_code": "<KEEP> public traceability index get or create traceability index ( <KEEP_END> <INSERT> ) { if ( traceability index = = null <INSERT_END> <KEEP> ) { final resource traceability resource = repository adapter . get resource ( intent locations . traceability _ infos _ index _ path ) ; if ( traceability resource . get contents ( ) . is empty ( ) ) { traceability resource . get contents ( ) . add ( compiler factory . e instance . create traceability index ( ) ) ; } <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> traceability index = <REPLACE_END> <KEEP> ( traceability index ) traceability resource . get contents ( ) . get ( num ) ; } <KEEP_END> <INSERT> return traceability index ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "traceability", "index", "get", "or", "create", "traceability", "index", "(", "<KEEP_END>", "<INSERT>", ")", "{", "if", "(", "traceability", "index", "=", "=", "null", "<INSERT_END>", "<KEEP>", ")", "{", "final", "resource", "traceability", "resource", "=", "repository", "adapter", ".", "get", "resource", "(", "intent", "locations", ".", "traceability", "_", "infos", "_", "index", "_", "path", ")", ";", "if", "(", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "add", "(", "compiler", "factory", ".", "e", "instance", ".", "create", "traceability", "index", "(", ")", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "traceability", "index", "=", "<REPLACE_END>", "<KEEP>", "(", "traceability", "index", ")", "traceability", "resource", ".", "get", "contents", "(", ")", ".", "get", "(", "num", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "traceability", "index", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> traceability <INSERT_NEW_KEEP_BEFORE> traceability index <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "traceability", "<INSERT_NEW_KEEP_BEFORE>", "traceability", "index", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "traceability", "<KEEP>", "index", "<KEEP>", "get", "<KEEP>", "or", "<KEEP>", "create", "<KEEP>", "traceability", "<KEEP>", "index", "<KEEP>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "traceability", "<INSERT>", "index", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "resource", "<KEEP>", "traceability", "<KEEP>", "resource", "<KEEP>", "=", "<KEEP>", "repository", "<KEEP>", "adapter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", "intent", "<KEEP>", "locations", "<KEEP>", ".", "<KEEP>", "traceability", "<KEEP>", "_", "<KEEP>", "infos", "<KEEP>", "_", "<KEEP>", "index", "<KEEP>", "_", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "traceability", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "contents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "traceability", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "contents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "compiler", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "traceability", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "traceability", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "=", "<KEEP>", "(", "<KEEP>", "traceability", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "traceability", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "contents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "traceability", "<INSERT>", "index", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "jOOQ_jOOQ-0-1948", "old_comment": "possible object is jpa version", "old_comment_tokens": ["possible", "object", "is", "jpa", "version"], "new_comment": "possible object is string", "new_comment_tokens": ["possible", "object", "is", "string"], "old_code": "public jpa version get jpa version ( ) { return jpa version ; }", "old_code_tokens": ["public", "jpa", "version", "get", "jpa", "version", "(", ")", "{", "return", "jpa", "version", ";", "}"], "new_code": "public string get jpa version ( ) { return jpa version ; }", "new_code_tokens": ["public", "string", "get", "jpa", "version", "(", ")", "{", "return", "jpa", "version", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> jpa version <REPLACE_NEW> string <REPLACE_END> <KEEP> get jpa version ( ) { return jpa version ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "jpa", "version", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "jpa", "version", "(", ")", "{", "return", "jpa", "version", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> jpa version <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "jpa", "version", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "jpa", "<REPLACE_OLD>", "version", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "jpa", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "jpa", "<KEEP>", "version", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_tuscany-sca-1.x-56-3796", "old_comment": "the scope context for the module scope that will be associated with this deployment unit", "old_comment_tokens": ["the", "scope", "context", "for", "the", "module", "scope", "that", "will", "be", "associated", "with", "this", "deployment", "unit"], "new_comment": "the scope container for the module scope that will be associated with this deployment unit", "new_comment_tokens": ["the", "scope", "container", "for", "the", "module", "scope", "that", "will", "be", "associated", "with", "this", "deployment", "unit"], "old_code": "public scope context get module scope ( ) { return module scope ; }", "old_code_tokens": ["public", "scope", "context", "get", "module", "scope", "(", ")", "{", "return", "module", "scope", ";", "}"], "new_code": "public scope container get module scope ( ) { return module scope ; }", "new_code_tokens": ["public", "scope", "container", "get", "module", "scope", "(", ")", "{", "return", "module", "scope", ";", "}"], "span_diff_code": "<KEEP> public scope <KEEP_END> <REPLACE_OLD> context <REPLACE_NEW> container <REPLACE_END> <KEEP> get module scope ( ) { return module scope ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "scope", "<KEEP_END>", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "container", "<REPLACE_END>", "<KEEP>", "get", "module", "scope", "(", ")", "{", "return", "module", "scope", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> context <REPLACE_NEW> container <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "context", "<REPLACE_NEW>", "container", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "scope", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "container", "<KEEP>", "get", "<KEEP>", "module", "<KEEP>", "scope", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "module", "<KEEP>", "scope", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-avatica-268-5436", "old_comment": "an array of integers mapping to the update count per sql command .", "old_comment_tokens": ["an", "array", "of", "integers", "mapping", "to", "the", "update", "count", "per", "sql", "command", "."], "new_comment": "an array of long mapping to the update count per sql command .", "new_comment_tokens": ["an", "array", "of", "long", "mapping", "to", "the", "update", "count", "per", "sql", "command", "."], "old_code": "protected int [ ] execute batch internal ( ) throws sqlexception { for ( int i = num ; i < connection . max retries per execute ; i + + ) { try { meta . execute batch result result = connection . prepare and update batch ( this , batched sql ) ; return result . update counts ; } catch ( no such statement exception e ) { reset statement ( ) ; } } throw new runtime exception ( str + connection . max retries per execute + str ) ; }", "old_code_tokens": ["protected", "int", "[", "]", "execute", "batch", "internal", "(", ")", "throws", "sqlexception", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "connection", ".", "max", "retries", "per", "execute", ";", "i", "+", "+", ")", "{", "try", "{", "meta", ".", "execute", "batch", "result", "result", "=", "connection", ".", "prepare", "and", "update", "batch", "(", "this", ",", "batched", "sql", ")", ";", "return", "result", ".", "update", "counts", ";", "}", "catch", "(", "no", "such", "statement", "exception", "e", ")", "{", "reset", "statement", "(", ")", ";", "}", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "connection", ".", "max", "retries", "per", "execute", "+", "str", ")", ";", "}"], "new_code": "protected long [ ] execute batch internal ( ) throws sqlexception { for ( int i = num ; i < connection . max retries per execute ; i + + ) { try { return connection . prepare and update batch ( this , batched sql ) . update counts ; } catch ( no such statement exception e ) { reset statement ( ) ; } } throw new runtime exception ( str + connection . max retries per execute + str ) ; }", "new_code_tokens": ["protected", "long", "[", "]", "execute", "batch", "internal", "(", ")", "throws", "sqlexception", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "connection", ".", "max", "retries", "per", "execute", ";", "i", "+", "+", ")", "{", "try", "{", "return", "connection", ".", "prepare", "and", "update", "batch", "(", "this", ",", "batched", "sql", ")", ".", "update", "counts", ";", "}", "catch", "(", "no", "such", "statement", "exception", "e", ")", "{", "reset", "statement", "(", ")", ";", "}", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "connection", ".", "max", "retries", "per", "execute", "+", "str", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> [ ] execute batch internal ( ) throws sqlexception { for ( int i = num ; i < connection . max retries per execute ; i + + ) { try { <KEEP_END> <REPLACE_OLD> meta . execute batch result result = <REPLACE_NEW> return <REPLACE_END> <KEEP> connection . prepare and update batch ( this , batched sql ) <KEEP_END> <DELETE> ; return result <DELETE_END> <KEEP> . update counts ; } catch ( no such statement exception e ) { reset statement ( ) ; } } throw new runtime exception ( str + connection . max retries per execute + str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "[", "]", "execute", "batch", "internal", "(", ")", "throws", "sqlexception", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "connection", ".", "max", "retries", "per", "execute", ";", "i", "+", "+", ")", "{", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "meta", ".", "execute", "batch", "result", "result", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "connection", ".", "prepare", "and", "update", "batch", "(", "this", ",", "batched", "sql", ")", "<KEEP_END>", "<DELETE>", ";", "return", "result", "<DELETE_END>", "<KEEP>", ".", "update", "counts", ";", "}", "catch", "(", "no", "such", "statement", "exception", "e", ")", "{", "reset", "statement", "(", ")", ";", "}", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "connection", ".", "max", "retries", "per", "execute", "+", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> integers <REPLACE_NEW> long <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "integers", "<REPLACE_NEW>", "long", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "execute", "<KEEP>", "batch", "<KEEP>", "internal", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sqlexception", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "retries", "<KEEP>", "per", "<KEEP>", "execute", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "execute", "<REPLACE_OLD>", "batch", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "prepare", "<KEEP>", "and", "<KEEP>", "update", "<KEEP>", "batch", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "batched", "<KEEP>", "sql", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "result", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "counts", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "no", "<KEEP>", "such", "<KEEP>", "statement", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "reset", "<KEEP>", "statement", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "retries", "<KEEP>", "per", "<KEEP>", "execute", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nelsonsilva_vaadin-42-4297", "old_comment": "all item ids filtered by given prefix .", "old_comment_tokens": ["all", "item", "ids", "filtered", "by", "given", "prefix", "."], "new_comment": "all item ids filtered by given key .", "new_comment_tokens": ["all", "item", "ids", "filtered", "by", "given", "key", "."], "old_code": "public array list filter content ( string prefix ) { if ( str . equals ( prefix ) ) { this . filtered items buffer = new array list ( get item ids ( ) ) ; return this . filtered items buffer ; } else if ( items ! = null ) { this . filtered items buffer = new array list ( ) ; for ( iterator iter = items . get item ids ( ) . iterator ( ) ; iter . has next ( ) ; ) { object id = iter . next ( ) ; item item = get item ( id ) ; string test = str ; if ( get item caption mode ( ) = = item _ caption _ mode _ property ) test = item . get item property ( get item caption property id ( ) ) . get value ( ) . to string ( ) . trim ( ) ; else test = string . value of ( id ) ; if ( test . to lower case ( ) . starts with ( prefix ) ) { this . filtered items buffer . add ( id ) ; } } } return this . filtered items buffer ; }", "old_code_tokens": ["public", "array", "list", "filter", "content", "(", "string", "prefix", ")", "{", "if", "(", "str", ".", "equals", "(", "prefix", ")", ")", "{", "this", ".", "filtered", "items", "buffer", "=", "new", "array", "list", "(", "get", "item", "ids", "(", ")", ")", ";", "return", "this", ".", "filtered", "items", "buffer", ";", "}", "else", "if", "(", "items", "!", "=", "null", ")", "{", "this", ".", "filtered", "items", "buffer", "=", "new", "array", "list", "(", ")", ";", "for", "(", "iterator", "iter", "=", "items", ".", "get", "item", "ids", "(", ")", ".", "iterator", "(", ")", ";", "iter", ".", "has", "next", "(", ")", ";", ")", "{", "object", "id", "=", "iter", ".", "next", "(", ")", ";", "item", "item", "=", "get", "item", "(", "id", ")", ";", "string", "test", "=", "str", ";", "if", "(", "get", "item", "caption", "mode", "(", ")", "=", "=", "item", "_", "caption", "_", "mode", "_", "property", ")", "test", "=", "item", ".", "get", "item", "property", "(", "get", "item", "caption", "property", "id", "(", ")", ")", ".", "get", "value", "(", ")", ".", "to", "string", "(", ")", ".", "trim", "(", ")", ";", "else", "test", "=", "string", ".", "value", "of", "(", "id", ")", ";", "if", "(", "test", ".", "to", "lower", "case", "(", ")", ".", "starts", "with", "(", "prefix", ")", ")", "{", "this", ".", "filtered", "items", "buffer", ".", "add", "(", "id", ")", ";", "}", "}", "}", "return", "this", ".", "filtered", "items", "buffer", ";", "}"], "new_code": "public array list filter content ( string key ) { return this . of . filter ( key ) ; }", "new_code_tokens": ["public", "array", "list", "filter", "content", "(", "string", "key", ")", "{", "return", "this", ".", "of", ".", "filter", "(", "key", ")", ";", "}"], "span_diff_code": "<KEEP> public array list filter content ( string <KEEP_END> <REPLACE_OLD> prefix <REPLACE_NEW> key <REPLACE_END> <KEEP> ) { <KEEP_END> <DELETE> if ( str . equals ( prefix ) ) { this . filtered items buffer = new array list ( get item ids ( ) ) ; <DELETE_END> <KEEP> return this . <KEEP_END> <REPLACE_OLD> filtered items buffer ; } else if <REPLACE_NEW> of . filter <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> items ! = null ) { this . filtered items buffer = new array list ( ) ; for ( iterator iter = items . get item ids ( ) . iterator ( ) ; iter . has next ( ) ; ) { object id = iter . next ( ) ; item item = get item ( id ) ; string test = str ; if ( get item caption mode ( ) = = item _ caption _ mode _ property ) test = item . get item property ( get item caption property id ( ) ) . get value ( ) . to string ( ) . trim ( ) ; else test = string . value of ( id ) ; if ( test . to lower case ( ) . starts with ( prefix ) ) { this . filtered items buffer . add ( id <REPLACE_NEW> key <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> } } return this . filtered items buffer ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "array", "list", "filter", "content", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "prefix", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<DELETE>", "if", "(", "str", ".", "equals", "(", "prefix", ")", ")", "{", "this", ".", "filtered", "items", "buffer", "=", "new", "array", "list", "(", "get", "item", "ids", "(", ")", ")", ";", "<DELETE_END>", "<KEEP>", "return", "this", ".", "<KEEP_END>", "<REPLACE_OLD>", "filtered", "items", "buffer", ";", "}", "else", "if", "<REPLACE_NEW>", "of", ".", "filter", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "items", "!", "=", "null", ")", "{", "this", ".", "filtered", "items", "buffer", "=", "new", "array", "list", "(", ")", ";", "for", "(", "iterator", "iter", "=", "items", ".", "get", "item", "ids", "(", ")", ".", "iterator", "(", ")", ";", "iter", ".", "has", "next", "(", ")", ";", ")", "{", "object", "id", "=", "iter", ".", "next", "(", ")", ";", "item", "item", "=", "get", "item", "(", "id", ")", ";", "string", "test", "=", "str", ";", "if", "(", "get", "item", "caption", "mode", "(", ")", "=", "=", "item", "_", "caption", "_", "mode", "_", "property", ")", "test", "=", "item", ".", "get", "item", "property", "(", "get", "item", "caption", "property", "id", "(", ")", ")", ".", "get", "value", "(", ")", ".", "to", "string", "(", ")", ".", "trim", "(", ")", ";", "else", "test", "=", "string", ".", "value", "of", "(", "id", ")", ";", "if", "(", "test", ".", "to", "lower", "case", "(", ")", ".", "starts", "with", "(", "prefix", ")", ")", "{", "this", ".", "filtered", "items", "buffer", ".", "add", "(", "id", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "}", "return", "this", ".", "filtered", "items", "buffer", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> prefix <REPLACE_NEW> key <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "prefix", "<REPLACE_NEW>", "key", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "filter", "<KEEP>", "content", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "prefix", "<REPLACE_NEW>", "key", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "prefix", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "filtered", "<DELETE>", "items", "<DELETE>", "buffer", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "array", "<DELETE>", "list", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "item", "<DELETE>", "ids", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<REPLACE_OLD>", "filtered", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", "buffer", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "filter", "<KEEP>", "(", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "filtered", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", "buffer", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "ids", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "iterator", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "iter", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "caption", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "caption", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "caption", "<REPLACE_OLD>", "property", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "trim", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "test", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "lower", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "starts", "<REPLACE_OLD>", "with", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "prefix", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "filtered", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", "buffer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "filtered", "<DELETE>", "items", "<DELETE>", "buffer", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "swagger-api_swagger-core-2-3152", "old_comment": "type enum type", "old_comment_tokens": ["type", "enum", "type"], "new_comment": "string type", "new_comment_tokens": ["string", "type"], "old_code": "@ api model property ( value = str ) public type enum get type ( ) { return type ; }", "old_code_tokens": ["@", "api", "model", "property", "(", "value", "=", "str", ")", "public", "type", "enum", "get", "type", "(", ")", "{", "return", "type", ";", "}"], "new_code": "@ api model property ( value = str ) public string get type ( ) { return type ; }", "new_code_tokens": ["@", "api", "model", "property", "(", "value", "=", "str", ")", "public", "string", "get", "type", "(", ")", "{", "return", "type", ";", "}"], "span_diff_code": "<KEEP> @ api model property ( value = str ) public <KEEP_END> <REPLACE_OLD> type enum <REPLACE_NEW> string <REPLACE_END> <KEEP> get type ( ) { return type ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "api", "model", "property", "(", "value", "=", "str", ")", "public", "<KEEP_END>", "<REPLACE_OLD>", "type", "enum", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "type", "(", ")", "{", "return", "type", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> type enum type <REPLACE_NEW> string type <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "type", "enum", "type", "<REPLACE_NEW>", "string", "type", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "api", "<KEEP>", "model", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "public", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "enum", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "hazelcast_hazelcast-548-3198", "old_comment": "the updated map configuration", "old_comment_tokens": ["the", "updated", "map", "configuration"], "new_comment": "the merge policy classname", "new_comment_tokens": ["the", "merge", "policy", "classname"], "old_code": "public string get merge policy ( ) { return merge policy ; }", "old_code_tokens": ["public", "string", "get", "merge", "policy", "(", ")", "{", "return", "merge", "policy", ";", "}"], "new_code": "public string get merge policy ( ) { return merge policy config . get policy ( ) ; }", "new_code_tokens": ["public", "string", "get", "merge", "policy", "(", ")", "{", "return", "merge", "policy", "config", ".", "get", "policy", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string get merge policy ( ) { return merge policy <KEEP_END> <INSERT> config . get policy ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "merge", "policy", "(", ")", "{", "return", "merge", "policy", "<KEEP_END>", "<INSERT>", "config", ".", "get", "policy", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> updated map configuration <REPLACE_NEW> merge policy classname <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "updated", "map", "configuration", "<REPLACE_NEW>", "merge", "policy", "classname", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "merge", "<KEEP>", "policy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "merge", "<KEEP>", "policy", "<INSERT>", "config", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "policy", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_activemq-60-6620", "old_comment": "true if there are no pending messages", "old_comment_tokens": ["true", "if", "there", "are", "no", "pending", "messages"], "new_comment": "true if there are no pending count messages", "new_comment_tokens": ["true", "if", "there", "are", "no", "pending", "count", "messages"], "old_code": "public boolean is empty ( ) { return empty ; }", "old_code_tokens": ["public", "boolean", "is", "empty", "(", ")", "{", "return", "empty", ";", "}"], "new_code": "public boolean is empty ( ) { return pending count < = num ; }", "new_code_tokens": ["public", "boolean", "is", "empty", "(", ")", "{", "return", "pending", "count", "<", "=", "num", ";", "}"], "span_diff_code": "<KEEP> public boolean is empty ( ) { return <KEEP_END> <REPLACE_OLD> empty <REPLACE_NEW> pending count < = num <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "empty", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "empty", "<REPLACE_NEW>", "pending", "count", "<", "=", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> pending <INSERT_NEW_KEEP_BEFORE> pending count <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "pending", "<INSERT_NEW_KEEP_BEFORE>", "pending", "count", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "empty", "<REPLACE_NEW>", "pending", "<REPLACE_NEW>", "count", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wordpress-mobile_WordPress-Android-274-2989", "old_comment": "the path to the optmized image", "old_comment_tokens": ["the", "path", "to", "the", "optmized", "image"], "new_comment": "the path to the optimized image", "new_comment_tokens": ["the", "path", "to", "the", "optimized", "image"], "old_code": "public static string optimize image ( context context , string path ) { file file = new file ( path ) ; if ( ! file . exists ( ) ) { return path ; } string mime type = media utils . get media file mime type ( file ) ; if ( mime type . equals ( str ) ) { return path ; } string file name = media utils . get media file name ( file , mime type ) ; string file extension = mime type map . get file extension from url ( file name ) . to lower case ( ) ; int [ ] dimensions = get image size ( uri . from file ( file ) , context ) ; int orientation = get image orientation ( context , path ) ; uri image uri = uri . parse ( path ) ; if ( context = = null | | image uri = = null ) { return path ; } file resized image file ; file output stream out ; try { resized image file = file . create temp file ( str , str + file extension ) ; out = new file output stream ( resized image file ) ; } catch ( ioexception e ) { app log . e ( app log . t . media , str ) ; return path ; } catch ( security exception e ) { app log . e ( app log . t . media , str ) ; return path ; } try { boolean res = resize image and write to stream ( context , image uri , file extension , dimensions [ num ] , orientation , num , out ) ; if ( ! res ) { app log . w ( app log . t . media , str ) ; return path ; } } catch ( ioexception e ) { app log . e ( app log . t . media , str ) ; return path ; } catch ( out of memory error e ) { app log . e ( app log . t . media , str ) ; return path ; } finally { try { out . flush ( ) ; out . close ( ) ; } catch ( ioexception e ) { } } string temp file path = resized image file . get path ( ) ; if ( ! text utils . is empty ( temp file path ) ) { return temp file path ; } else { app log . e ( app log . t . media , str ) ; } return path ; }", "old_code_tokens": ["public", "static", "string", "optimize", "image", "(", "context", "context", ",", "string", "path", ")", "{", "file", "file", "=", "new", "file", "(", "path", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "{", "return", "path", ";", "}", "string", "mime", "type", "=", "media", "utils", ".", "get", "media", "file", "mime", "type", "(", "file", ")", ";", "if", "(", "mime", "type", ".", "equals", "(", "str", ")", ")", "{", "return", "path", ";", "}", "string", "file", "name", "=", "media", "utils", ".", "get", "media", "file", "name", "(", "file", ",", "mime", "type", ")", ";", "string", "file", "extension", "=", "mime", "type", "map", ".", "get", "file", "extension", "from", "url", "(", "file", "name", ")", ".", "to", "lower", "case", "(", ")", ";", "int", "[", "]", "dimensions", "=", "get", "image", "size", "(", "uri", ".", "from", "file", "(", "file", ")", ",", "context", ")", ";", "int", "orientation", "=", "get", "image", "orientation", "(", "context", ",", "path", ")", ";", "uri", "image", "uri", "=", "uri", ".", "parse", "(", "path", ")", ";", "if", "(", "context", "=", "=", "null", "|", "|", "image", "uri", "=", "=", "null", ")", "{", "return", "path", ";", "}", "file", "resized", "image", "file", ";", "file", "output", "stream", "out", ";", "try", "{", "resized", "image", "file", "=", "file", ".", "create", "temp", "file", "(", "str", ",", "str", "+", "file", "extension", ")", ";", "out", "=", "new", "file", "output", "stream", "(", "resized", "image", "file", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "catch", "(", "security", "exception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "try", "{", "boolean", "res", "=", "resize", "image", "and", "write", "to", "stream", "(", "context", ",", "image", "uri", ",", "file", "extension", ",", "dimensions", "[", "num", "]", ",", "orientation", ",", "num", ",", "out", ")", ";", "if", "(", "!", "res", ")", "{", "app", "log", ".", "w", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "catch", "(", "out", "of", "memory", "error", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "finally", "{", "try", "{", "out", ".", "flush", "(", ")", ";", "out", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "}", "}", "string", "temp", "file", "path", "=", "resized", "image", "file", ".", "get", "path", "(", ")", ";", "if", "(", "!", "text", "utils", ".", "is", "empty", "(", "temp", "file", "path", ")", ")", "{", "return", "temp", "file", "path", ";", "}", "else", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "}", "return", "path", ";", "}"], "new_code": "public static string optimize image ( context context , string path ) { if ( context = = null | | text utils . is empty ( path ) ) { return path ; } file file = new file ( path ) ; if ( ! file . exists ( ) ) { return path ; } string mime type = media utils . get media file mime type ( file ) ; if ( mime type . equals ( str ) ) { return path ; } uri image uri = uri . parse ( path ) ; if ( image uri = = null ) { return path ; } string file name = media utils . get media file name ( file , mime type ) ; string file extension = mime type map . get file extension from url ( file name ) . to lower case ( ) ; int [ ] dimensions = get image size ( image uri , context ) ; int selected width = dimensions [ num ] ; final int max image width = num ; if ( selected width > max image width ) { selected width = max image width ; } int orientation = get image orientation ( context , path ) ; file resized image file ; file output stream out ; try { resized image file = file . create temp file ( str , str + file extension ) ; out = new file output stream ( resized image file ) ; } catch ( ioexception e ) { app log . e ( app log . t . media , str ) ; return path ; } catch ( security exception e ) { app log . e ( app log . t . media , str ) ; return path ; } try { boolean res = resize image and write to stream ( context , image uri , file extension , selected width , orientation , num , out ) ; if ( ! res ) { app log . w ( app log . t . media , str ) ; return path ; } } catch ( ioexception e ) { app log . e ( app log . t . media , str ) ; return path ; } catch ( out of memory error e ) { app log . e ( app log . t . media , str ) ; return path ; } finally { try { out . flush ( ) ; out . close ( ) ; } catch ( ioexception e ) { } } string temp file path = resized image file . get path ( ) ; if ( ! text utils . is empty ( temp file path ) ) { return temp file path ; } else { app log . e ( app log . t . media , str ) ; } return path ; }", "new_code_tokens": ["public", "static", "string", "optimize", "image", "(", "context", "context", ",", "string", "path", ")", "{", "if", "(", "context", "=", "=", "null", "|", "|", "text", "utils", ".", "is", "empty", "(", "path", ")", ")", "{", "return", "path", ";", "}", "file", "file", "=", "new", "file", "(", "path", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "{", "return", "path", ";", "}", "string", "mime", "type", "=", "media", "utils", ".", "get", "media", "file", "mime", "type", "(", "file", ")", ";", "if", "(", "mime", "type", ".", "equals", "(", "str", ")", ")", "{", "return", "path", ";", "}", "uri", "image", "uri", "=", "uri", ".", "parse", "(", "path", ")", ";", "if", "(", "image", "uri", "=", "=", "null", ")", "{", "return", "path", ";", "}", "string", "file", "name", "=", "media", "utils", ".", "get", "media", "file", "name", "(", "file", ",", "mime", "type", ")", ";", "string", "file", "extension", "=", "mime", "type", "map", ".", "get", "file", "extension", "from", "url", "(", "file", "name", ")", ".", "to", "lower", "case", "(", ")", ";", "int", "[", "]", "dimensions", "=", "get", "image", "size", "(", "image", "uri", ",", "context", ")", ";", "int", "selected", "width", "=", "dimensions", "[", "num", "]", ";", "final", "int", "max", "image", "width", "=", "num", ";", "if", "(", "selected", "width", ">", "max", "image", "width", ")", "{", "selected", "width", "=", "max", "image", "width", ";", "}", "int", "orientation", "=", "get", "image", "orientation", "(", "context", ",", "path", ")", ";", "file", "resized", "image", "file", ";", "file", "output", "stream", "out", ";", "try", "{", "resized", "image", "file", "=", "file", ".", "create", "temp", "file", "(", "str", ",", "str", "+", "file", "extension", ")", ";", "out", "=", "new", "file", "output", "stream", "(", "resized", "image", "file", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "catch", "(", "security", "exception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "try", "{", "boolean", "res", "=", "resize", "image", "and", "write", "to", "stream", "(", "context", ",", "image", "uri", ",", "file", "extension", ",", "selected", "width", ",", "orientation", ",", "num", ",", "out", ")", ";", "if", "(", "!", "res", ")", "{", "app", "log", ".", "w", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "catch", "(", "out", "of", "memory", "error", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "finally", "{", "try", "{", "out", ".", "flush", "(", ")", ";", "out", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "}", "}", "string", "temp", "file", "path", "=", "resized", "image", "file", ".", "get", "path", "(", ")", ";", "if", "(", "!", "text", "utils", ".", "is", "empty", "(", "temp", "file", "path", ")", ")", "{", "return", "temp", "file", "path", ";", "}", "else", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "}", "return", "path", ";", "}"], "span_diff_code": "<KEEP> public static string optimize image ( context context , string path ) { <KEEP_END> <INSERT> if ( context = = null | | text utils . is empty ( path ) ) { return path ; } <INSERT_END> <KEEP> file file = new file ( path ) ; if ( ! file . exists ( ) ) { return path ; } string mime type = media utils . get media file mime type ( file ) ; if ( mime type . equals ( str ) <KEEP_END> <INSERT> ) { return path ; } uri image uri = uri . parse ( path ) ; if ( image uri = = null <INSERT_END> <KEEP> ) { return path ; } string file name = media utils . get media file name ( file , mime type ) ; string file extension = mime type map . get file extension from url ( file name ) . to lower case ( ) ; int [ ] dimensions = get image size ( <KEEP_END> <INSERT> image <INSERT_END> <KEEP> uri <KEEP_END> <DELETE> . from file ( file ) <DELETE_END> <KEEP> , context ) ; <KEEP_END> <INSERT> int selected width = dimensions [ num ] ; final int max image width = num ; if ( selected width > max image width ) { selected width = max image width ; } <INSERT_END> <KEEP> int orientation = get image orientation ( context , path ) ; <KEEP_END> <DELETE> uri image uri = uri . parse ( path ) ; if ( context = = null | | image uri = = null ) { return path ; } <DELETE_END> <KEEP> file resized image file ; file output stream out ; try { resized image file = file . create temp file ( str , str + file extension ) ; out = new file output stream ( resized image file ) ; } catch ( ioexception e ) { app log . e ( app log . t . media , str ) ; return path ; } catch ( security exception e ) { app log . e ( app log . t . media , str ) ; return path ; } try { boolean res = resize image and write to stream ( context , image uri , file extension , <KEEP_END> <REPLACE_OLD> dimensions [ num ] <REPLACE_NEW> selected width <REPLACE_END> <KEEP> , orientation , num , out ) ; if ( ! res ) { app log . w ( app log . t . media , str ) ; return path ; } } catch ( ioexception e ) { app log . e ( app log . t . media , str ) ; return path ; } catch ( out of memory error e ) { app log . e ( app log . t . media , str ) ; return path ; } finally { try { out . flush ( ) ; out . close ( ) ; } catch ( ioexception e ) { } } string temp file path = resized image file . get path ( ) ; if ( ! text utils . is empty ( temp file path ) ) { return temp file path ; } else { app log . e ( app log . t . media , str ) ; } return path ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "optimize", "image", "(", "context", "context", ",", "string", "path", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "context", "=", "=", "null", "|", "|", "text", "utils", ".", "is", "empty", "(", "path", ")", ")", "{", "return", "path", ";", "}", "<INSERT_END>", "<KEEP>", "file", "file", "=", "new", "file", "(", "path", ")", ";", "if", "(", "!", "file", ".", "exists", "(", ")", ")", "{", "return", "path", ";", "}", "string", "mime", "type", "=", "media", "utils", ".", "get", "media", "file", "mime", "type", "(", "file", ")", ";", "if", "(", "mime", "type", ".", "equals", "(", "str", ")", "<KEEP_END>", "<INSERT>", ")", "{", "return", "path", ";", "}", "uri", "image", "uri", "=", "uri", ".", "parse", "(", "path", ")", ";", "if", "(", "image", "uri", "=", "=", "null", "<INSERT_END>", "<KEEP>", ")", "{", "return", "path", ";", "}", "string", "file", "name", "=", "media", "utils", ".", "get", "media", "file", "name", "(", "file", ",", "mime", "type", ")", ";", "string", "file", "extension", "=", "mime", "type", "map", ".", "get", "file", "extension", "from", "url", "(", "file", "name", ")", ".", "to", "lower", "case", "(", ")", ";", "int", "[", "]", "dimensions", "=", "get", "image", "size", "(", "<KEEP_END>", "<INSERT>", "image", "<INSERT_END>", "<KEEP>", "uri", "<KEEP_END>", "<DELETE>", ".", "from", "file", "(", "file", ")", "<DELETE_END>", "<KEEP>", ",", "context", ")", ";", "<KEEP_END>", "<INSERT>", "int", "selected", "width", "=", "dimensions", "[", "num", "]", ";", "final", "int", "max", "image", "width", "=", "num", ";", "if", "(", "selected", "width", ">", "max", "image", "width", ")", "{", "selected", "width", "=", "max", "image", "width", ";", "}", "<INSERT_END>", "<KEEP>", "int", "orientation", "=", "get", "image", "orientation", "(", "context", ",", "path", ")", ";", "<KEEP_END>", "<DELETE>", "uri", "image", "uri", "=", "uri", ".", "parse", "(", "path", ")", ";", "if", "(", "context", "=", "=", "null", "|", "|", "image", "uri", "=", "=", "null", ")", "{", "return", "path", ";", "}", "<DELETE_END>", "<KEEP>", "file", "resized", "image", "file", ";", "file", "output", "stream", "out", ";", "try", "{", "resized", "image", "file", "=", "file", ".", "create", "temp", "file", "(", "str", ",", "str", "+", "file", "extension", ")", ";", "out", "=", "new", "file", "output", "stream", "(", "resized", "image", "file", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "catch", "(", "security", "exception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "try", "{", "boolean", "res", "=", "resize", "image", "and", "write", "to", "stream", "(", "context", ",", "image", "uri", ",", "file", "extension", ",", "<KEEP_END>", "<REPLACE_OLD>", "dimensions", "[", "num", "]", "<REPLACE_NEW>", "selected", "width", "<REPLACE_END>", "<KEEP>", ",", "orientation", ",", "num", ",", "out", ")", ";", "if", "(", "!", "res", ")", "{", "app", "log", ".", "w", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "catch", "(", "out", "of", "memory", "error", "e", ")", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "return", "path", ";", "}", "finally", "{", "try", "{", "out", ".", "flush", "(", ")", ";", "out", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "}", "}", "string", "temp", "file", "path", "=", "resized", "image", "file", ".", "get", "path", "(", ")", ";", "if", "(", "!", "text", "utils", ".", "is", "empty", "(", "temp", "file", "path", ")", ")", "{", "return", "temp", "file", "path", ";", "}", "else", "{", "app", "log", ".", "e", "(", "app", "log", ".", "t", ".", "media", ",", "str", ")", ";", "}", "return", "path", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> optmized <REPLACE_NEW> optimized <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "optmized", "<REPLACE_NEW>", "optimized", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "optimize", "<KEEP>", "image", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "context", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "text", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", "path", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "path", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "media", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "media", "<KEEP>", "file", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "path", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "uri", "<INSERT>", "image", "<INSERT>", "uri", "<INSERT>", "=", "<INSERT>", "uri", "<INSERT>", ".", "<INSERT>", "parse", "<INSERT>", "(", "<INSERT>", "path", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "image", "<INSERT>", "uri", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "media", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "media", "<KEEP>", "file", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "extension", "<KEEP>", "=", "<KEEP>", "mime", "<KEEP>", "type", "<KEEP>", "map", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "file", "<KEEP>", "extension", "<KEEP>", "from", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "dimensions", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "image", "<KEEP>", "size", "<KEEP>", "(", "<INSERT>", "image", "<KEEP>", "uri", "<DELETE>", ".", "<DELETE>", "from", "<DELETE>", "file", "<DELETE>", "(", "<DELETE>", "file", "<DELETE>", ")", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "int", "<INSERT>", "selected", "<INSERT>", "width", "<INSERT>", "=", "<INSERT>", "dimensions", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "int", "<INSERT>", "max", "<INSERT>", "image", "<INSERT>", "width", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "selected", "<INSERT>", "width", "<INSERT>", ">", "<INSERT>", "max", "<INSERT>", "image", "<INSERT>", "width", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "selected", "<INSERT>", "width", "<INSERT>", "=", "<INSERT>", "max", "<INSERT>", "image", "<INSERT>", "width", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "int", "<KEEP>", "orientation", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "image", "<KEEP>", "orientation", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "uri", "<DELETE>", "image", "<DELETE>", "uri", "<DELETE>", "=", "<DELETE>", "uri", "<DELETE>", ".", "<DELETE>", "parse", "<DELETE>", "(", "<DELETE>", "path", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "context", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "image", "<DELETE>", "uri", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "path", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "file", "<KEEP>", "resized", "<KEEP>", "image", "<KEEP>", "file", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "out", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "resized", "<KEEP>", "image", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "temp", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "file", "<KEEP>", "extension", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "out", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "resized", "<KEEP>", "image", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "media", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "security", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "media", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "boolean", "<KEEP>", "res", "<KEEP>", "=", "<KEEP>", "resize", "<KEEP>", "image", "<KEEP>", "and", "<KEEP>", "write", "<KEEP>", "to", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ",", "<KEEP>", "image", "<KEEP>", "uri", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", "extension", "<KEEP>", ",", "<REPLACE_OLD>", "dimensions", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "selected", "<REPLACE_NEW>", "width", "<KEEP>", ",", "<KEEP>", "orientation", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "out", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "res", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "w", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "media", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "media", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "out", "<KEEP>", "of", "<KEEP>", "memory", "<KEEP>", "error", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "media", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "out", "<KEEP>", ".", "<KEEP>", "flush", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "out", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "temp", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", "=", "<KEEP>", "resized", "<KEEP>", "image", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "text", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "temp", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "temp", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "t", "<KEEP>", ".", "<KEEP>", "media", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "path", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yanzhenjie_NoHttp-9-1310", "old_comment": "application .", "old_comment_tokens": ["application", "."], "new_comment": "context .", "new_comment_tokens": ["context", "."], "old_code": "public static application get context ( ) { if ( s application = = null ) throw new exception in initializer error ( str ) ; return s application ; }", "old_code_tokens": ["public", "static", "application", "get", "context", "(", ")", "{", "if", "(", "s", "application", "=", "=", "null", ")", "throw", "new", "exception", "in", "initializer", "error", "(", "str", ")", ";", "return", "s", "application", ";", "}"], "new_code": "public static context get context ( ) { test initialize ( ) ; return s context ; }", "new_code_tokens": ["public", "static", "context", "get", "context", "(", ")", "{", "test", "initialize", "(", ")", ";", "return", "s", "context", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> context <REPLACE_END> <KEEP> get context ( ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> test initialize <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> s application = = null ) throw new exception in initializer error ( str <DELETE_END> <KEEP> ) ; return s <KEEP_END> <REPLACE_OLD> application <REPLACE_NEW> context <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "context", "<REPLACE_END>", "<KEEP>", "get", "context", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "test", "initialize", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "s", "application", "=", "=", "null", ")", "throw", "new", "exception", "in", "initializer", "error", "(", "str", "<DELETE_END>", "<KEEP>", ")", ";", "return", "s", "<KEEP_END>", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "context", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> application <REPLACE_NEW> context <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "application", "<REPLACE_NEW>", "context", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "context", "<KEEP>", "get", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "test", "<REPLACE_NEW>", "initialize", "<KEEP>", "(", "<DELETE>", "s", "<DELETE>", "application", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "exception", "<DELETE>", "in", "<DELETE>", "initializer", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "s", "<REPLACE_OLD>", "application", "<REPLACE_NEW>", "context", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_struts1-57-6828", "old_comment": "the errors that already exist in the request , or a new action errors object if empty .", "old_comment_tokens": ["the", "errors", "that", "already", "exist", "in", "the", "request", ",", "or", "a", "new", "action", "errors", "object", "if", "empty", "."], "new_comment": "the errors that already exist in the request , or a new action messages object if empty .", "new_comment_tokens": ["the", "errors", "that", "already", "exist", "in", "the", "request", ",", "or", "a", "new", "action", "messages", "object", "if", "empty", "."], "old_code": "protected action errors get errors ( http servlet request request ) { action errors errors = ( action errors ) request . get attribute ( globals . error _ key ) ; if ( errors = = null ) { errors = new action errors ( ) ; } return errors ; }", "old_code_tokens": ["protected", "action", "errors", "get", "errors", "(", "http", "servlet", "request", "request", ")", "{", "action", "errors", "errors", "=", "(", "action", "errors", ")", "request", ".", "get", "attribute", "(", "globals", ".", "error", "_", "key", ")", ";", "if", "(", "errors", "=", "=", "null", ")", "{", "errors", "=", "new", "action", "errors", "(", ")", ";", "}", "return", "errors", ";", "}"], "new_code": "protected action messages get errors ( http servlet request request ) { action messages errors = ( action messages ) request . get attribute ( globals . error _ key ) ; if ( errors = = null ) { errors = new action messages ( ) ; } return errors ; }", "new_code_tokens": ["protected", "action", "messages", "get", "errors", "(", "http", "servlet", "request", "request", ")", "{", "action", "messages", "errors", "=", "(", "action", "messages", ")", "request", ".", "get", "attribute", "(", "globals", ".", "error", "_", "key", ")", ";", "if", "(", "errors", "=", "=", "null", ")", "{", "errors", "=", "new", "action", "messages", "(", ")", ";", "}", "return", "errors", ";", "}"], "span_diff_code": "<KEEP> protected action <KEEP_END> <REPLACE_OLD> errors <REPLACE_NEW> messages <REPLACE_END> <KEEP> get errors ( http servlet request request ) { action <KEEP_END> <REPLACE_OLD> errors <REPLACE_NEW> messages <REPLACE_END> <KEEP> errors = ( action <KEEP_END> <REPLACE_OLD> errors <REPLACE_NEW> messages <REPLACE_END> <KEEP> ) request . get attribute ( globals . error _ key ) ; if ( errors = = null ) { errors = new action <KEEP_END> <REPLACE_OLD> errors <REPLACE_NEW> messages <REPLACE_END> <KEEP> ( ) ; } return errors ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "action", "<KEEP_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<REPLACE_END>", "<KEEP>", "get", "errors", "(", "http", "servlet", "request", "request", ")", "{", "action", "<KEEP_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<REPLACE_END>", "<KEEP>", "errors", "=", "(", "action", "<KEEP_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<REPLACE_END>", "<KEEP>", ")", "request", ".", "get", "attribute", "(", "globals", ".", "error", "_", "key", ")", ";", "if", "(", "errors", "=", "=", "null", ")", "{", "errors", "=", "new", "action", "<KEEP_END>", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "}", "return", "errors", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> action errors <REPLACE_NEW_KEEP_BEFORE> action messages <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "action", "errors", "<REPLACE_NEW_KEEP_BEFORE>", "action", "messages", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "action", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<KEEP>", "get", "<KEEP>", "errors", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "action", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<KEEP>", "errors", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "action", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<KEEP>", ")", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "globals", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "_", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "errors", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "errors", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "action", "<REPLACE_OLD>", "errors", "<REPLACE_NEW>", "messages", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "errors", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-104-4101", "old_comment": "one of # acc _ private , # acc _ protected , # acc _ package or # acc _ public .", "old_comment_tokens": ["one", "of", "#", "acc", "_", "private", ",", "#", "acc", "_", "protected", ",", "#", "acc", "_", "package", "or", "#", "acc", "_", "public", "."], "new_comment": "a value of access type .", "new_comment_tokens": ["a", "value", "of", "access", "type", "."], "old_code": "public int get access type ( ) { if ( is public ( ) ) { return acc _ public ; } if ( is private ( ) ) { return acc _ private ; } if ( is protected ( ) ) { return acc _ protected ; } return acc _ package ; }", "old_code_tokens": ["public", "int", "get", "access", "type", "(", ")", "{", "if", "(", "is", "public", "(", ")", ")", "{", "return", "acc", "_", "public", ";", "}", "if", "(", "is", "private", "(", ")", ")", "{", "return", "acc", "_", "private", ";", "}", "if", "(", "is", "protected", "(", ")", ")", "{", "return", "acc", "_", "protected", ";", "}", "return", "acc", "_", "package", ";", "}"], "new_code": "public access type get access type ( ) { if ( is public ( ) ) { return access type . acc _ public ; } if ( is private ( ) ) { return access type . acc _ private ; } if ( is protected ( ) ) { return access type . acc _ protected ; } return access type . acc _ package ; }", "new_code_tokens": ["public", "access", "type", "get", "access", "type", "(", ")", "{", "if", "(", "is", "public", "(", ")", ")", "{", "return", "access", "type", ".", "acc", "_", "public", ";", "}", "if", "(", "is", "private", "(", ")", ")", "{", "return", "access", "type", ".", "acc", "_", "private", ";", "}", "if", "(", "is", "protected", "(", ")", ")", "{", "return", "access", "type", ".", "acc", "_", "protected", ";", "}", "return", "access", "type", ".", "acc", "_", "package", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> access type <REPLACE_END> <KEEP> get access type ( ) { if ( is public ( ) ) { return <KEEP_END> <INSERT> access type . <INSERT_END> <KEEP> acc _ public ; } if ( is private ( ) ) { return <KEEP_END> <INSERT> access type . <INSERT_END> <KEEP> acc _ private ; } if ( is protected ( ) ) { return <KEEP_END> <INSERT> access type . <INSERT_END> <KEEP> acc _ protected ; } return <KEEP_END> <INSERT> access type . <INSERT_END> <KEEP> acc _ package ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "access", "type", "<REPLACE_END>", "<KEEP>", "get", "access", "type", "(", ")", "{", "if", "(", "is", "public", "(", ")", ")", "{", "return", "<KEEP_END>", "<INSERT>", "access", "type", ".", "<INSERT_END>", "<KEEP>", "acc", "_", "public", ";", "}", "if", "(", "is", "private", "(", ")", ")", "{", "return", "<KEEP_END>", "<INSERT>", "access", "type", ".", "<INSERT_END>", "<KEEP>", "acc", "_", "private", ";", "}", "if", "(", "is", "protected", "(", ")", ")", "{", "return", "<KEEP_END>", "<INSERT>", "access", "type", ".", "<INSERT_END>", "<KEEP>", "acc", "_", "protected", ";", "}", "return", "<KEEP_END>", "<INSERT>", "access", "type", ".", "<INSERT_END>", "<KEEP>", "acc", "_", "package", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> one <REPLACE_NEW> a value <REPLACE_END> <REPLACE_OLD> # acc _ private , # acc _ protected , # acc _ package or # acc _ public <REPLACE_NEW> access type <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "one", "<REPLACE_NEW>", "a", "value", "<REPLACE_END>", "<REPLACE_OLD>", "#", "acc", "_", "private", ",", "#", "acc", "_", "protected", ",", "#", "acc", "_", "package", "or", "#", "acc", "_", "public", "<REPLACE_NEW>", "access", "type", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "access", "<REPLACE_NEW>", "type", "<KEEP>", "get", "<KEEP>", "access", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "public", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "access", "<INSERT>", "type", "<INSERT>", ".", "<KEEP>", "acc", "<KEEP>", "_", "<KEEP>", "public", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "private", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "access", "<INSERT>", "type", "<INSERT>", ".", "<KEEP>", "acc", "<KEEP>", "_", "<KEEP>", "private", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "protected", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "access", "<INSERT>", "type", "<INSERT>", ".", "<KEEP>", "acc", "<KEEP>", "_", "<KEEP>", "protected", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "access", "<INSERT>", "type", "<INSERT>", ".", "<KEEP>", "acc", "<KEEP>", "_", "<KEEP>", "package", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "iSoron_uhabits-3-2472", "old_comment": "true if habit has reminder", "old_comment_tokens": ["true", "if", "habit", "has", "reminder"], "new_comment": "true if habit has reminder , false otherwise", "new_comment_tokens": ["true", "if", "habit", "has", "reminder", ",", "false", "otherwise"], "old_code": "public boolean has reminder ( ) { return ( reminder hour ! = null & & reminder min ! = null ) ; }", "old_code_tokens": ["public", "boolean", "has", "reminder", "(", ")", "{", "return", "(", "reminder", "hour", "!", "=", "null", "&", "&", "reminder", "min", "!", "=", "null", ")", ";", "}"], "new_code": "public boolean has reminder ( ) { return reminder ! = null ; }", "new_code_tokens": ["public", "boolean", "has", "reminder", "(", ")", "{", "return", "reminder", "!", "=", "null", ";", "}"], "span_diff_code": "<KEEP> public boolean has reminder ( ) { return <KEEP_END> <DELETE> ( <DELETE_END> <KEEP> reminder <KEEP_END> <DELETE> hour <DELETE_END> <KEEP> ! = null <KEEP_END> <DELETE> & & reminder min ! = null ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "has", "reminder", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "(", "<DELETE_END>", "<KEEP>", "reminder", "<KEEP_END>", "<DELETE>", "hour", "<DELETE_END>", "<KEEP>", "!", "=", "null", "<KEEP_END>", "<DELETE>", "&", "&", "reminder", "min", "!", "=", "null", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> reminder <INSERT_NEW_KEEP_BEFORE> reminder , false otherwise <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "reminder", "<INSERT_NEW_KEEP_BEFORE>", "reminder", ",", "false", "otherwise", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "reminder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "(", "<KEEP>", "reminder", "<DELETE>", "hour", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "reminder", "<DELETE>", "min", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Rajawali_Rajawali-175-3636", "old_comment": "double the yaw euler angle .", "old_comment_tokens": ["double", "the", "yaw", "euler", "angle", "."], "new_comment": "double the yaw euler angle in degrees .", "new_comment_tokens": ["double", "the", "yaw", "euler", "angle", "in", "degrees", "."], "old_code": "public double get rot y ( ) { return m orientation . get rotation y ( ) ; }", "old_code_tokens": ["public", "double", "get", "rot", "y", "(", ")", "{", "return", "m", "orientation", ".", "get", "rotation", "y", "(", ")", ";", "}"], "new_code": "public double get rot y ( ) { return math . to degrees ( m orientation . get rotation y ( ) ) ; }", "new_code_tokens": ["public", "double", "get", "rot", "y", "(", ")", "{", "return", "math", ".", "to", "degrees", "(", "m", "orientation", ".", "get", "rotation", "y", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public double get rot y ( ) { return <KEEP_END> <INSERT> math . to degrees ( <INSERT_END> <KEEP> m orientation . get rotation y ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "get", "rot", "y", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "math", ".", "to", "degrees", "(", "<INSERT_END>", "<KEEP>", "m", "orientation", ".", "get", "rotation", "y", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> angle <INSERT_NEW_KEEP_BEFORE> angle in degrees <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "angle", "<INSERT_NEW_KEEP_BEFORE>", "angle", "in", "degrees", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "get", "<KEEP>", "rot", "<KEEP>", "y", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "math", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "degrees", "<INSERT>", "(", "<KEEP>", "m", "<KEEP>", "orientation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "rotation", "<KEEP>", "y", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-33-4450", "old_comment": "the time in seconds the specified session may remain idle before expiring .", "old_comment_tokens": ["the", "time", "in", "seconds", "the", "specified", "session", "may", "remain", "idle", "before", "expiring", "."], "new_comment": "the time in milliseconds the specified session may remain idle before expiring .", "new_comment_tokens": ["the", "time", "in", "milliseconds", "the", "specified", "session", "may", "remain", "idle", "before", "expiring", "."], "old_code": "protected int get timeout ( session session ) { return get global session timeout ( ) ; }", "old_code_tokens": ["protected", "int", "get", "timeout", "(", "session", "session", ")", "{", "return", "get", "global", "session", "timeout", "(", ")", ";", "}"], "new_code": "protected long get timeout ( session session ) { return session . get timeout ( ) ; }", "new_code_tokens": ["protected", "long", "get", "timeout", "(", "session", "session", ")", "{", "return", "session", ".", "get", "timeout", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> long <REPLACE_END> <KEEP> get timeout ( session session ) { return <KEEP_END> <INSERT> session . <INSERT_END> <KEEP> get <KEEP_END> <DELETE> global session <DELETE_END> <KEEP> timeout ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<REPLACE_END>", "<KEEP>", "get", "timeout", "(", "session", "session", ")", "{", "return", "<KEEP_END>", "<INSERT>", "session", ".", "<INSERT_END>", "<KEEP>", "get", "<KEEP_END>", "<DELETE>", "global", "session", "<DELETE_END>", "<KEEP>", "timeout", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> seconds <REPLACE_NEW> milliseconds <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "seconds", "<REPLACE_NEW>", "milliseconds", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "long", "<KEEP>", "get", "<KEEP>", "timeout", "<KEEP>", "(", "<KEEP>", "session", "<KEEP>", "session", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "session", "<INSERT>", ".", "<KEEP>", "get", "<DELETE>", "global", "<DELETE>", "session", "<KEEP>", "timeout", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RSB4760_apq8016_frameworks_opt_vcard-1-4062", "old_comment": "vcard config # flag _ v21", "old_comment_tokens": ["vcard", "config", "#", "flag", "_", "v21"], "new_comment": "vcard config # version _ 21", "new_comment_tokens": ["vcard", "config", "#", "version", "_", "21"], "old_code": "protected int get version ( ) { return vcard config . flag _ v21 ; }", "old_code_tokens": ["protected", "int", "get", "version", "(", ")", "{", "return", "vcard", "config", ".", "flag", "_", "v21", ";", "}"], "new_code": "protected int get version ( ) { return vcard config . version _ 21 ; }", "new_code_tokens": ["protected", "int", "get", "version", "(", ")", "{", "return", "vcard", "config", ".", "version", "_", "21", ";", "}"], "span_diff_code": "<KEEP> protected int get version ( ) { return vcard config . <KEEP_END> <REPLACE_OLD> flag <REPLACE_NEW> version <REPLACE_END> <KEEP> _ <KEEP_END> <REPLACE_OLD> v21 <REPLACE_NEW> 21 <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "int", "get", "version", "(", ")", "{", "return", "vcard", "config", ".", "<KEEP_END>", "<REPLACE_OLD>", "flag", "<REPLACE_NEW>", "version", "<REPLACE_END>", "<KEEP>", "_", "<KEEP_END>", "<REPLACE_OLD>", "v21", "<REPLACE_NEW>", "21", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> flag <REPLACE_NEW> version <REPLACE_END> <REPLACE_OLD> v21 <REPLACE_NEW> 21 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "flag", "<REPLACE_NEW>", "version", "<REPLACE_END>", "<REPLACE_OLD>", "v21", "<REPLACE_NEW>", "21", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "vcard", "<KEEP>", "config", "<KEEP>", ".", "<REPLACE_OLD>", "flag", "<REPLACE_NEW>", "version", "<KEEP>", "_", "<REPLACE_OLD>", "v21", "<REPLACE_NEW>", "21", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nelsonsilva_vaadin-172-4294", "old_comment": "the receiver .", "old_comment_tokens": ["the", "receiver", "."], "new_comment": "the stream variable .", "new_comment_tokens": ["the", "stream", "variable", "."], "old_code": "public com . vaadin . terminal . receiver get receiver ( ) { return receiver ; }", "old_code_tokens": ["public", "com", ".", "vaadin", ".", "terminal", ".", "receiver", "get", "receiver", "(", ")", "{", "return", "receiver", ";", "}"], "new_code": "public receiver get receiver ( ) { return receiver ; }", "new_code_tokens": ["public", "receiver", "get", "receiver", "(", ")", "{", "return", "receiver", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> com . vaadin . terminal . <DELETE_END> <KEEP> receiver get receiver ( ) { return receiver ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "com", ".", "vaadin", ".", "terminal", ".", "<DELETE_END>", "<KEEP>", "receiver", "get", "receiver", "(", ")", "{", "return", "receiver", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> receiver <REPLACE_NEW> stream variable <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "receiver", "<REPLACE_NEW>", "stream", "variable", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "com", "<DELETE>", ".", "<DELETE>", "vaadin", "<DELETE>", ".", "<DELETE>", "terminal", "<DELETE>", ".", "<KEEP>", "receiver", "<KEEP>", "get", "<KEEP>", "receiver", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "receiver", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-11-3938", "old_comment": "an array of interfaces .", "old_comment_tokens": ["an", "array", "of", "interfaces", "."], "new_comment": "a set of interfaces .", "new_comment_tokens": ["a", "set", "of", "interfaces", "."], "old_code": "public static class [ ] get all interfaces ( list objects ) { set interfaces = new hash set ( ) ; for ( iterator iterator = objects . iterator ( ) ; iterator . has next ( ) ; ) { object o = iterator . next ( ) ; class clazz = o . get class ( ) ; get interfaces ( clazz , interfaces ) ; } return ( class [ ] ) interfaces . to array ( new class [ interfaces . size ( ) ] ) ; }", "old_code_tokens": ["public", "static", "class", "[", "]", "get", "all", "interfaces", "(", "list", "objects", ")", "{", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "for", "(", "iterator", "iterator", "=", "objects", ".", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "object", "o", "=", "iterator", ".", "next", "(", ")", ";", "class", "clazz", "=", "o", ".", "get", "class", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "}", "return", "(", "class", "[", "]", ")", "interfaces", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public static set get all interfaces ( list objects ) { set interfaces = new hash set ( ) ; for ( iterator iterator = objects . iterator ( ) ; iterator . has next ( ) ; ) { object o = iterator . next ( ) ; class clazz = o . get class ( ) ; get interfaces ( clazz , interfaces ) ; } return interfaces ; }", "new_code_tokens": ["public", "static", "set", "get", "all", "interfaces", "(", "list", "objects", ")", "{", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "for", "(", "iterator", "iterator", "=", "objects", ".", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "object", "o", "=", "iterator", ".", "next", "(", ")", ";", "class", "clazz", "=", "o", ".", "get", "class", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "}", "return", "interfaces", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> class [ ] <REPLACE_NEW> set <REPLACE_END> <KEEP> get all interfaces ( list objects ) { set interfaces = new hash set ( ) ; for ( iterator iterator = objects . iterator ( ) ; iterator . has next ( ) ; ) { object o = iterator . next ( ) ; class clazz = o . get class ( ) ; get interfaces ( clazz , interfaces ) ; } return <KEEP_END> <DELETE> ( class [ ] ) <DELETE_END> <KEEP> interfaces <KEEP_END> <DELETE> . to array ( new class [ interfaces . size ( ) ] ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "class", "[", "]", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "get", "all", "interfaces", "(", "list", "objects", ")", "{", "set", "interfaces", "=", "new", "hash", "set", "(", ")", ";", "for", "(", "iterator", "iterator", "=", "objects", ".", "iterator", "(", ")", ";", "iterator", ".", "has", "next", "(", ")", ";", ")", "{", "object", "o", "=", "iterator", ".", "next", "(", ")", ";", "class", "clazz", "=", "o", ".", "get", "class", "(", ")", ";", "get", "interfaces", "(", "clazz", ",", "interfaces", ")", ";", "}", "return", "<KEEP_END>", "<DELETE>", "(", "class", "[", "]", ")", "<DELETE_END>", "<KEEP>", "interfaces", "<KEEP_END>", "<DELETE>", ".", "to", "array", "(", "new", "class", "[", "interfaces", ".", "size", "(", ")", "]", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an array <REPLACE_NEW> a set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "array", "<REPLACE_NEW>", "a", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "set", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", "objects", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<KEEP>", "interfaces", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "o", "<KEEP>", "=", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "class", "<KEEP>", "clazz", "<KEEP>", "=", "<KEEP>", "o", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "get", "<KEEP>", "interfaces", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "interfaces", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", "interfaces", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "class", "<DELETE>", "[", "<DELETE>", "interfaces", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "]", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_reddeer-35-6781", "old_comment": "returns widget label text", "old_comment_tokens": ["returns", "widget", "label", "text"], "new_comment": "true if specified tool item is selected , false otherwise", "new_comment_tokens": ["true", "if", "specified", "tool", "item", "is", "selected", ",", "false", "otherwise"], "old_code": "public boolean is selected ( final tool item w ) { boolean selection state = display . sync exec ( new result runnable < boolean > ( ) { @ override public boolean run ( ) { return w . get selection ( ) ; } } ) ; return selection state ; }", "old_code_tokens": ["public", "boolean", "is", "selected", "(", "final", "tool", "item", "w", ")", "{", "boolean", "selection", "state", "=", "display", ".", "sync", "exec", "(", "new", "result", "runnable", "<", "boolean", ">", "(", ")", "{", "@", "override", "public", "boolean", "run", "(", ")", "{", "return", "w", ".", "get", "selection", "(", ")", ";", "}", "}", ")", ";", "return", "selection", "state", ";", "}"], "new_code": "public boolean is selected ( final tool item tool item ) { boolean selection state = display . sync exec ( new result runnable < boolean > ( ) { @ override public boolean run ( ) { return tool item . get selection ( ) ; } } ) ; return selection state ; }", "new_code_tokens": ["public", "boolean", "is", "selected", "(", "final", "tool", "item", "tool", "item", ")", "{", "boolean", "selection", "state", "=", "display", ".", "sync", "exec", "(", "new", "result", "runnable", "<", "boolean", ">", "(", ")", "{", "@", "override", "public", "boolean", "run", "(", ")", "{", "return", "tool", "item", ".", "get", "selection", "(", ")", ";", "}", "}", ")", ";", "return", "selection", "state", ";", "}"], "span_diff_code": "<KEEP> public boolean is selected ( final tool item <KEEP_END> <REPLACE_OLD> w <REPLACE_NEW> tool item <REPLACE_END> <KEEP> ) { boolean selection state = display . sync exec ( new result runnable < boolean > ( ) { @ override public boolean run ( ) { return <KEEP_END> <REPLACE_OLD> w <REPLACE_NEW> tool item <REPLACE_END> <KEEP> . get selection ( ) ; } } ) ; return selection state ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "selected", "(", "final", "tool", "item", "<KEEP_END>", "<REPLACE_OLD>", "w", "<REPLACE_NEW>", "tool", "item", "<REPLACE_END>", "<KEEP>", ")", "{", "boolean", "selection", "state", "=", "display", ".", "sync", "exec", "(", "new", "result", "runnable", "<", "boolean", ">", "(", ")", "{", "@", "override", "public", "boolean", "run", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "w", "<REPLACE_NEW>", "tool", "item", "<REPLACE_END>", "<KEEP>", ".", "get", "selection", "(", ")", ";", "}", "}", ")", ";", "return", "selection", "state", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> returns widget label text <REPLACE_NEW> true if specified tool item is selected , false otherwise <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "returns", "widget", "label", "text", "<REPLACE_NEW>", "true", "if", "specified", "tool", "item", "is", "selected", ",", "false", "otherwise", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "selected", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "tool", "<KEEP>", "item", "<REPLACE_OLD>", "w", "<REPLACE_NEW>", "tool", "<REPLACE_NEW>", "item", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "boolean", "<KEEP>", "selection", "<KEEP>", "state", "<KEEP>", "=", "<KEEP>", "display", "<KEEP>", ".", "<KEEP>", "sync", "<KEEP>", "exec", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "result", "<KEEP>", "runnable", "<KEEP>", "<", "<KEEP>", "boolean", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "run", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "w", "<REPLACE_NEW>", "tool", "<REPLACE_NEW>", "item", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "selection", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "selection", "<KEEP>", "state", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "amikey_android-vlc-7-4273", "old_comment": "media hold by media list , should not be released .", "old_comment_tokens": ["media", "hold", "by", "media", "list", ",", "should", "not", "be", "released", "."], "new_comment": "media hold by media list . this media should be released with # release ( ) .", "new_comment_tokens": ["media", "hold", "by", "media", "list", ".", "this", "media", "should", "be", "released", "with", "#", "release", "(", ")", "."], "old_code": "public synchronized media get media at ( int index ) { if ( index < num | | index > get count ( ) ) return null ; return m media array . get ( index ) ; }", "old_code_tokens": ["public", "synchronized", "media", "get", "media", "at", "(", "int", "index", ")", "{", "if", "(", "index", "<", "num", "|", "|", "index", ">", "get", "count", "(", ")", ")", "return", "null", ";", "return", "m", "media", "array", ".", "get", "(", "index", ")", ";", "}"], "new_code": "public synchronized media get media at ( int index ) { if ( index < num | | index > = get count ( ) ) throw new index out of bounds exception ( ) ; final media media = m media array . get ( index ) ; media . retain ( ) ; return media ; }", "new_code_tokens": ["public", "synchronized", "media", "get", "media", "at", "(", "int", "index", ")", "{", "if", "(", "index", "<", "num", "|", "|", "index", ">", "=", "get", "count", "(", ")", ")", "throw", "new", "index", "out", "of", "bounds", "exception", "(", ")", ";", "final", "media", "media", "=", "m", "media", "array", ".", "get", "(", "index", ")", ";", "media", ".", "retain", "(", ")", ";", "return", "media", ";", "}"], "span_diff_code": "<KEEP> public synchronized media get media at ( int index ) { if ( index < num | | index > <KEEP_END> <INSERT> = <INSERT_END> <KEEP> get count ( ) ) <KEEP_END> <REPLACE_OLD> return null <REPLACE_NEW> throw new index out of bounds exception ( ) <REPLACE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> final media media = <REPLACE_END> <KEEP> m media array . get ( index ) ; <KEEP_END> <INSERT> media . retain ( ) ; return media ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "synchronized", "media", "get", "media", "at", "(", "int", "index", ")", "{", "if", "(", "index", "<", "num", "|", "|", "index", ">", "<KEEP_END>", "<INSERT>", "=", "<INSERT_END>", "<KEEP>", "get", "count", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "return", "null", "<REPLACE_NEW>", "throw", "new", "index", "out", "of", "bounds", "exception", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "final", "media", "media", "=", "<REPLACE_END>", "<KEEP>", "m", "media", "array", ".", "get", "(", "index", ")", ";", "<KEEP_END>", "<INSERT>", "media", ".", "retain", "(", ")", ";", "return", "media", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> , <REPLACE_NEW> . this media <REPLACE_END> <DELETE> not <DELETE_END> <INSERT_OLD_KEEP_BEFORE> released <INSERT_NEW_KEEP_BEFORE> released with # release ( ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ",", "<REPLACE_NEW>", ".", "this", "media", "<REPLACE_END>", "<DELETE>", "not", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "released", "<INSERT_NEW_KEEP_BEFORE>", "released", "with", "#", "release", "(", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "synchronized", "<KEEP>", "media", "<KEEP>", "get", "<KEEP>", "media", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "index", "<KEEP>", ">", "<INSERT>", "=", "<KEEP>", "get", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "out", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "bounds", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "media", "<REPLACE_NEW>", "media", "<REPLACE_NEW>", "=", "<KEEP>", "m", "<KEEP>", "media", "<KEEP>", "array", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "media", "<INSERT>", ".", "<INSERT>", "retain", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "media", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rstudio_rstudio-2-2021", "old_comment": "new foreground color based on the supplied background color", "old_comment_tokens": ["new", "foreground", "color", "based", "on", "the", "supplied", "background", "color"], "new_comment": "new foreground color based on the background color", "new_comment_tokens": ["new", "foreground", "color", "based", "on", "the", "background", "color"], "old_code": "private int invert fg color ( ) { if ( current bg color _ . default color ( ) ) { if ( ! inverted _ ) clazzes _ . add ( inverse _ fg _ style ) ; return color . default _ color ; } else if ( current bg color _ . code ( ) > = background _ min & & current bg color _ . code ( ) < = background _ max ) { int new fg = current bg color _ . code ( ) - ( background _ min - foreground _ min ) ; clazzes _ . add ( foreground _ style + integer . to string ( new fg - foreground _ min ) ) ; return new fg ; } else { int new fg = current bg color _ . code ( ) - ( background _ intense _ min - foreground _ intense _ min ) ; clazzes _ . add ( foreground _ style + integer . to string ( new fg + num - foreground _ intense _ min ) ) ; return new fg ; } }", "old_code_tokens": ["private", "int", "invert", "fg", "color", "(", ")", "{", "if", "(", "current", "bg", "color", "_", ".", "default", "color", "(", ")", ")", "{", "if", "(", "!", "inverted", "_", ")", "clazzes", "_", ".", "add", "(", "inverse", "_", "fg", "_", "style", ")", ";", "return", "color", ".", "default", "_", "color", ";", "}", "else", "if", "(", "current", "bg", "color", "_", ".", "code", "(", ")", ">", "=", "background", "_", "min", "&", "&", "current", "bg", "color", "_", ".", "code", "(", ")", "<", "=", "background", "_", "max", ")", "{", "int", "new", "fg", "=", "current", "bg", "color", "_", ".", "code", "(", ")", "-", "(", "background", "_", "min", "-", "foreground", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "foreground", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "fg", "-", "foreground", "_", "min", ")", ")", ";", "return", "new", "fg", ";", "}", "else", "{", "int", "new", "fg", "=", "current", "bg", "color", "_", ".", "code", "(", ")", "-", "(", "background", "_", "intense", "_", "min", "-", "foreground", "_", "intense", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "foreground", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "fg", "+", "num", "-", "foreground", "_", "intense", "_", "min", ")", ")", ";", "return", "new", "fg", ";", "}", "}"], "new_code": "private color invert fg color ( ) { if ( current bg color _ . default color ( ) ) { if ( ! inverted _ ) clazzes _ . add ( inverse _ fg _ style ) ; return new color ( ) ; } else if ( current bg color _ . is extended ( ) ) { clazzes _ . add ( color . clazz for color index ( current bg color _ . code ( ) , false ) ) ; return new color ( true , current bg color _ . code ( ) ) ; } else if ( current bg color _ . code ( ) > = background _ min & & current bg color _ . code ( ) < = background _ max ) { int new fg = current bg color _ . code ( ) - ( background _ min - foreground _ min ) ; clazzes _ . add ( foreground _ style + integer . to string ( new fg - foreground _ min ) ) ; return new color ( false , new fg ) ; } else { int new fg = current bg color _ . code ( ) - ( background _ intense _ min - foreground _ intense _ min ) ; clazzes _ . add ( foreground _ style + integer . to string ( new fg + num - foreground _ intense _ min ) ) ; return new color ( false , new fg ) ; } }", "new_code_tokens": ["private", "color", "invert", "fg", "color", "(", ")", "{", "if", "(", "current", "bg", "color", "_", ".", "default", "color", "(", ")", ")", "{", "if", "(", "!", "inverted", "_", ")", "clazzes", "_", ".", "add", "(", "inverse", "_", "fg", "_", "style", ")", ";", "return", "new", "color", "(", ")", ";", "}", "else", "if", "(", "current", "bg", "color", "_", ".", "is", "extended", "(", ")", ")", "{", "clazzes", "_", ".", "add", "(", "color", ".", "clazz", "for", "color", "index", "(", "current", "bg", "color", "_", ".", "code", "(", ")", ",", "false", ")", ")", ";", "return", "new", "color", "(", "true", ",", "current", "bg", "color", "_", ".", "code", "(", ")", ")", ";", "}", "else", "if", "(", "current", "bg", "color", "_", ".", "code", "(", ")", ">", "=", "background", "_", "min", "&", "&", "current", "bg", "color", "_", ".", "code", "(", ")", "<", "=", "background", "_", "max", ")", "{", "int", "new", "fg", "=", "current", "bg", "color", "_", ".", "code", "(", ")", "-", "(", "background", "_", "min", "-", "foreground", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "foreground", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "fg", "-", "foreground", "_", "min", ")", ")", ";", "return", "new", "color", "(", "false", ",", "new", "fg", ")", ";", "}", "else", "{", "int", "new", "fg", "=", "current", "bg", "color", "_", ".", "code", "(", ")", "-", "(", "background", "_", "intense", "_", "min", "-", "foreground", "_", "intense", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "foreground", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "fg", "+", "num", "-", "foreground", "_", "intense", "_", "min", ")", ")", ";", "return", "new", "color", "(", "false", ",", "new", "fg", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> color <REPLACE_END> <KEEP> invert fg color ( ) { if ( current bg color _ . default color ( ) ) { if ( ! inverted _ ) clazzes _ . add ( inverse _ fg _ style ) ; return <KEEP_END> <REPLACE_OLD> color . default _ color <REPLACE_NEW> new color ( ) ; } else if ( current bg color _ . is extended ( ) ) { clazzes _ . add ( color . clazz for color index ( current bg color _ . code ( ) , false ) ) ; return new color ( true , current bg color _ . code ( ) ) <REPLACE_END> <KEEP> ; } else if ( current bg color _ . code ( ) > = background _ min & & current bg color _ . code ( ) < = background _ max ) { int new fg = current bg color _ . code ( ) - ( background _ min - foreground _ min ) ; clazzes _ . add ( foreground _ style + integer . to string ( new fg - foreground _ min ) ) ; return new <KEEP_END> <REPLACE_OLD> fg <REPLACE_NEW> color ( false , new fg ) <REPLACE_END> <KEEP> ; } else { int new fg = current bg color _ . code ( ) - ( background _ intense _ min - foreground _ intense _ min ) ; clazzes _ . add ( foreground _ style + integer . to string ( new fg + num - foreground _ intense _ min ) ) ; return new <KEEP_END> <REPLACE_OLD> fg ; } } <REPLACE_NEW> color ( false , new fg ) ; } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "color", "<REPLACE_END>", "<KEEP>", "invert", "fg", "color", "(", ")", "{", "if", "(", "current", "bg", "color", "_", ".", "default", "color", "(", ")", ")", "{", "if", "(", "!", "inverted", "_", ")", "clazzes", "_", ".", "add", "(", "inverse", "_", "fg", "_", "style", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "color", ".", "default", "_", "color", "<REPLACE_NEW>", "new", "color", "(", ")", ";", "}", "else", "if", "(", "current", "bg", "color", "_", ".", "is", "extended", "(", ")", ")", "{", "clazzes", "_", ".", "add", "(", "color", ".", "clazz", "for", "color", "index", "(", "current", "bg", "color", "_", ".", "code", "(", ")", ",", "false", ")", ")", ";", "return", "new", "color", "(", "true", ",", "current", "bg", "color", "_", ".", "code", "(", ")", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "if", "(", "current", "bg", "color", "_", ".", "code", "(", ")", ">", "=", "background", "_", "min", "&", "&", "current", "bg", "color", "_", ".", "code", "(", ")", "<", "=", "background", "_", "max", ")", "{", "int", "new", "fg", "=", "current", "bg", "color", "_", ".", "code", "(", ")", "-", "(", "background", "_", "min", "-", "foreground", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "foreground", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "fg", "-", "foreground", "_", "min", ")", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "fg", "<REPLACE_NEW>", "color", "(", "false", ",", "new", "fg", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "int", "new", "fg", "=", "current", "bg", "color", "_", ".", "code", "(", ")", "-", "(", "background", "_", "intense", "_", "min", "-", "foreground", "_", "intense", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "foreground", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "fg", "+", "num", "-", "foreground", "_", "intense", "_", "min", ")", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "fg", ";", "}", "}", "<REPLACE_NEW>", "color", "(", "false", ",", "new", "fg", ")", ";", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<DELETE> supplied <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "supplied", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "color", "<KEEP>", "invert", "<KEEP>", "fg", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "bg", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "inverted", "<KEEP>", "_", "<KEEP>", ")", "<KEEP>", "clazzes", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "inverse", "<KEEP>", "_", "<KEEP>", "fg", "<KEEP>", "_", "<KEEP>", "style", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "color", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "current", "<REPLACE_NEW>", "bg", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "extended", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "clazzes", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "clazz", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "current", "<REPLACE_NEW>", "bg", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "current", "<REPLACE_NEW>", "bg", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "bg", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "current", "<KEEP>", "bg", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "max", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "new", "<KEEP>", "fg", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "bg", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "(", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "-", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "clazzes", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "style", "<KEEP>", "+", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "fg", "<KEEP>", "-", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "fg", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "fg", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "new", "<KEEP>", "fg", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "bg", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "(", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "intense", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "-", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "intense", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "clazzes", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "style", "<KEEP>", "+", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "fg", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", "-", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "intense", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "fg", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "fg", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "prolificinteractive_material-calendarview-1-1008", "old_comment": "a new calendar instance with the date set to today . time set to zero .", "old_comment_tokens": ["a", "new", "calendar", "instance", "with", "the", "date", "set", "to", "today", ".", "time", "set", "to", "zero", "."], "new_comment": "a new calendar instance with the date set to today .", "new_comment_tokens": ["a", "new", "calendar", "instance", "with", "the", "date", "set", "to", "today", "."], "old_code": "@ non null public static calendar get instance ( ) { calendar calendar = calendar . get instance ( ) ; copy date to ( calendar , calendar ) ; return calendar ; }", "old_code_tokens": ["@", "non", "null", "public", "static", "calendar", "get", "instance", "(", ")", "{", "calendar", "calendar", "=", "calendar", ".", "get", "instance", "(", ")", ";", "copy", "date", "to", "(", "calendar", ",", "calendar", ")", ";", "return", "calendar", ";", "}"], "new_code": "@ non null public static calendar get instance ( ) { return calendar . get instance ( locale . get default ( ) ) ; }", "new_code_tokens": ["@", "non", "null", "public", "static", "calendar", "get", "instance", "(", ")", "{", "return", "calendar", ".", "get", "instance", "(", "locale", ".", "get", "default", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> @ non null public static calendar get instance ( ) { <KEEP_END> <REPLACE_OLD> calendar calendar = <REPLACE_NEW> return <REPLACE_END> <KEEP> calendar . get instance ( <KEEP_END> <INSERT> locale . get default ( ) <INSERT_END> <KEEP> ) ; <KEEP_END> <DELETE> copy date to ( calendar , calendar ) ; return calendar ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "non", "null", "public", "static", "calendar", "get", "instance", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "calendar", "calendar", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "calendar", ".", "get", "instance", "(", "<KEEP_END>", "<INSERT>", "locale", ".", "get", "default", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "copy", "date", "to", "(", "calendar", ",", "calendar", ")", ";", "return", "calendar", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> time set to zero . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "time", "set", "to", "zero", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "non", "<KEEP>", "null", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "calendar", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "calendar", "<REPLACE_OLD>", "calendar", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "calendar", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<INSERT>", "locale", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "default", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "copy", "<DELETE>", "date", "<DELETE>", "to", "<DELETE>", "(", "<DELETE>", "calendar", "<DELETE>", ",", "<DELETE>", "calendar", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "calendar", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.resources-92-3811", "old_comment": "the path representing the provided uri", "old_comment_tokens": ["the", "path", "representing", "the", "provided", "uri"], "new_comment": "the path representing the provided uri , null", "new_comment_tokens": ["the", "path", "representing", "the", "provided", "uri", ",", "null"], "old_code": "public static ipath to path ( uri uri ) { if ( uri = = null ) return null ; if ( efs . scheme _ file . equals ( uri . get scheme ( ) ) ) return new path ( uri . get scheme specific part ( ) ) ; return new path ( uri . get path ( ) ) ; }", "old_code_tokens": ["public", "static", "ipath", "to", "path", "(", "uri", "uri", ")", "{", "if", "(", "uri", "=", "=", "null", ")", "return", "null", ";", "if", "(", "efs", ".", "scheme", "_", "file", ".", "equals", "(", "uri", ".", "get", "scheme", "(", ")", ")", ")", "return", "new", "path", "(", "uri", ".", "get", "scheme", "specific", "part", "(", ")", ")", ";", "return", "new", "path", "(", "uri", ".", "get", "path", "(", ")", ")", ";", "}"], "new_code": "public static ipath to path ( uri uri ) { assert . is not null ( uri ) ; if ( efs . scheme _ file . equals ( uri . get scheme ( ) ) ) return new path ( uri . get scheme specific part ( ) ) ; return null ; }", "new_code_tokens": ["public", "static", "ipath", "to", "path", "(", "uri", "uri", ")", "{", "assert", ".", "is", "not", "null", "(", "uri", ")", ";", "if", "(", "efs", ".", "scheme", "_", "file", ".", "equals", "(", "uri", ".", "get", "scheme", "(", ")", ")", ")", "return", "new", "path", "(", "uri", ".", "get", "scheme", "specific", "part", "(", ")", ")", ";", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static ipath to path ( uri uri ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> assert . is not null <REPLACE_END> <KEEP> ( uri <KEEP_END> <DELETE> = = null <DELETE_END> <KEEP> ) <KEEP_END> <DELETE> return null <DELETE_END> <KEEP> ; if ( efs . scheme _ file . equals ( uri . get scheme ( ) ) ) return new path ( uri . get scheme specific part ( ) ) ; return <KEEP_END> <REPLACE_OLD> new path ( uri . get path ( ) ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "ipath", "to", "path", "(", "uri", "uri", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "assert", ".", "is", "not", "null", "<REPLACE_END>", "<KEEP>", "(", "uri", "<KEEP_END>", "<DELETE>", "=", "=", "null", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "return", "null", "<DELETE_END>", "<KEEP>", ";", "if", "(", "efs", ".", "scheme", "_", "file", ".", "equals", "(", "uri", ".", "get", "scheme", "(", ")", ")", ")", "return", "new", "path", "(", "uri", ".", "get", "scheme", "specific", "part", "(", ")", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "path", "(", "uri", ".", "get", "path", "(", ")", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> uri <INSERT_NEW_KEEP_BEFORE> uri , null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "uri", "<INSERT_NEW_KEEP_BEFORE>", "uri", ",", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "ipath", "<KEEP>", "to", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", "uri", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "assert", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "not", "<REPLACE_NEW>", "null", "<KEEP>", "(", "<KEEP>", "uri", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<KEEP>", ")", "<DELETE>", "return", "<DELETE>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "efs", "<KEEP>", ".", "<KEEP>", "scheme", "<KEEP>", "_", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "scheme", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", "uri", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "scheme", "<KEEP>", "specific", "<KEEP>", "part", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "uri", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jdcasey_maven-plugins-fixes-142-6377", "old_comment": "file reader return the file reader", "old_comment_tokens": ["file", "reader", "return", "the", "file", "reader"], "new_comment": "return the announcement text", "new_comment_tokens": ["return", "the", "announcement", "text"], "old_code": "protected file reader read announcement ( file file ) throws mojo execution exception { file reader file reader ; try { file reader = new file reader ( file ) ; } catch ( file not found exception fnfe ) { throw new mojo execution exception ( str + file ) ; } return file reader ; }", "old_code_tokens": ["protected", "file", "reader", "read", "announcement", "(", "file", "file", ")", "throws", "mojo", "execution", "exception", "{", "file", "reader", "file", "reader", ";", "try", "{", "file", "reader", "=", "new", "file", "reader", "(", "file", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "fnfe", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", "+", "file", ")", ";", "}", "return", "file", "reader", ";", "}"], "new_code": "protected string read announcement ( file file ) throws mojo execution exception { input stream reader reader = null ; file input stream input stream = null ; try { input stream = new file input stream ( file ) ; if ( string utils . is empty ( template encoding ) ) { template encoding = reader factory . file _ encoding ; get log ( ) . warn ( str + template encoding + str ) ; } reader = new input stream reader ( input stream , template encoding ) ; return ioutil . to string ( reader ) ; } catch ( file not found exception fnfe ) { throw new mojo execution exception ( str + file ) ; } catch ( unsupported encoding exception uee ) { throw new mojo execution exception ( str + template encoding + str ) ; } catch ( ioexception ioe ) { throw new mojo execution exception ( str , ioe ) ; } finally { ioutil . close ( input stream ) ; ioutil . close ( reader ) ; } }", "new_code_tokens": ["protected", "string", "read", "announcement", "(", "file", "file", ")", "throws", "mojo", "execution", "exception", "{", "input", "stream", "reader", "reader", "=", "null", ";", "file", "input", "stream", "input", "stream", "=", "null", ";", "try", "{", "input", "stream", "=", "new", "file", "input", "stream", "(", "file", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "template", "encoding", ")", ")", "{", "template", "encoding", "=", "reader", "factory", ".", "file", "_", "encoding", ";", "get", "log", "(", ")", ".", "warn", "(", "str", "+", "template", "encoding", "+", "str", ")", ";", "}", "reader", "=", "new", "input", "stream", "reader", "(", "input", "stream", ",", "template", "encoding", ")", ";", "return", "ioutil", ".", "to", "string", "(", "reader", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "fnfe", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", "+", "file", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "uee", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", "+", "template", "encoding", "+", "str", ")", ";", "}", "catch", "(", "ioexception", "ioe", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", ",", "ioe", ")", ";", "}", "finally", "{", "ioutil", ".", "close", "(", "input", "stream", ")", ";", "ioutil", ".", "close", "(", "reader", ")", ";", "}", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> file reader <REPLACE_NEW> string <REPLACE_END> <KEEP> read announcement ( file file ) throws mojo execution exception { <KEEP_END> <INSERT> input stream reader reader = null ; <INSERT_END> <KEEP> file <KEEP_END> <REPLACE_OLD> reader file reader <REPLACE_NEW> input stream input stream = null <REPLACE_END> <KEEP> ; try { <KEEP_END> <INSERT> input stream = new <INSERT_END> <KEEP> file <KEEP_END> <INSERT> input stream ( file ) ; if ( string utils . is empty ( template encoding ) ) { template encoding = reader factory . file _ encoding ; get log ( ) . warn ( str + template encoding + str ) ; } <INSERT_END> <KEEP> reader = new <KEEP_END> <REPLACE_OLD> file <REPLACE_NEW> input stream <REPLACE_END> <KEEP> reader ( <KEEP_END> <REPLACE_OLD> file <REPLACE_NEW> input stream , template encoding ) ; return ioutil . to string ( reader <REPLACE_END> <KEEP> ) ; } catch ( file not found exception fnfe ) { throw new mojo execution exception ( str + file ) ; } <KEEP_END> <REPLACE_OLD> return file reader <REPLACE_NEW> catch ( unsupported encoding exception uee ) { throw new mojo execution exception ( str + template encoding + str ) <REPLACE_END> <KEEP> ; } <KEEP_END> <INSERT> catch ( ioexception ioe ) { throw new mojo execution exception ( str , ioe ) ; } finally { ioutil . close ( input stream ) ; ioutil . close ( reader ) ; } } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "file", "reader", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "read", "announcement", "(", "file", "file", ")", "throws", "mojo", "execution", "exception", "{", "<KEEP_END>", "<INSERT>", "input", "stream", "reader", "reader", "=", "null", ";", "<INSERT_END>", "<KEEP>", "file", "<KEEP_END>", "<REPLACE_OLD>", "reader", "file", "reader", "<REPLACE_NEW>", "input", "stream", "input", "stream", "=", "null", "<REPLACE_END>", "<KEEP>", ";", "try", "{", "<KEEP_END>", "<INSERT>", "input", "stream", "=", "new", "<INSERT_END>", "<KEEP>", "file", "<KEEP_END>", "<INSERT>", "input", "stream", "(", "file", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "template", "encoding", ")", ")", "{", "template", "encoding", "=", "reader", "factory", ".", "file", "_", "encoding", ";", "get", "log", "(", ")", ".", "warn", "(", "str", "+", "template", "encoding", "+", "str", ")", ";", "}", "<INSERT_END>", "<KEEP>", "reader", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "input", "stream", "<REPLACE_END>", "<KEEP>", "reader", "(", "<KEEP_END>", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "input", "stream", ",", "template", "encoding", ")", ";", "return", "ioutil", ".", "to", "string", "(", "reader", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "fnfe", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", "+", "file", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "file", "reader", "<REPLACE_NEW>", "catch", "(", "unsupported", "encoding", "exception", "uee", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", "+", "template", "encoding", "+", "str", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<INSERT>", "catch", "(", "ioexception", "ioe", ")", "{", "throw", "new", "mojo", "execution", "exception", "(", "str", ",", "ioe", ")", ";", "}", "finally", "{", "ioutil", ".", "close", "(", "input", "stream", ")", ";", "ioutil", ".", "close", "(", "reader", ")", ";", "}", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> file reader return <REPLACE_NEW_DELETE_KEEP_AFTER> return <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> the file reader <REPLACE_NEW_KEEP_BEFORE> the announcement text <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "file", "reader", "return", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "return", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "the", "file", "reader", "<REPLACE_NEW_KEEP_BEFORE>", "the", "announcement", "text", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "reader", "<REPLACE_NEW>", "string", "<KEEP>", "read", "<KEEP>", "announcement", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "mojo", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "{", "<INSERT>", "input", "<INSERT>", "stream", "<INSERT>", "reader", "<INSERT>", "reader", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "file", "<REPLACE_OLD>", "reader", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "reader", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<INSERT>", "input", "<INSERT>", "stream", "<INSERT>", "=", "<INSERT>", "new", "<KEEP>", "file", "<INSERT>", "input", "<INSERT>", "stream", "<INSERT>", "(", "<INSERT>", "file", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "string", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", "template", "<INSERT>", "encoding", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "template", "<INSERT>", "encoding", "<INSERT>", "=", "<INSERT>", "reader", "<INSERT>", "factory", "<INSERT>", ".", "<INSERT>", "file", "<INSERT>", "_", "<INSERT>", "encoding", "<INSERT>", ";", "<INSERT>", "get", "<INSERT>", "log", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "warn", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "template", "<INSERT>", "encoding", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "reader", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<KEEP>", "reader", "<KEEP>", "(", "<REPLACE_OLD>", "file", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "template", "<REPLACE_NEW>", "encoding", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "ioutil", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "reader", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "fnfe", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "mojo", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "reader", "<REPLACE_NEW>", "catch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "unsupported", "<REPLACE_NEW>", "encoding", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "uee", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "mojo", "<REPLACE_NEW>", "execution", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "template", "<REPLACE_NEW>", "encoding", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "ioexception", "<INSERT>", "ioe", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "mojo", "<INSERT>", "execution", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "ioe", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "finally", "<INSERT>", "{", "<INSERT>", "ioutil", "<INSERT>", ".", "<INSERT>", "close", "<INSERT>", "(", "<INSERT>", "input", "<INSERT>", "stream", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "ioutil", "<INSERT>", ".", "<INSERT>", "close", "<INSERT>", "(", "<INSERT>", "reader", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "mattdesl_slick-sui-4-3845", "old_comment": "an array of sui container children", "old_comment_tokens": ["an", "array", "of", "sui", "container", "children"], "new_comment": "an array of container children", "new_comment_tokens": ["an", "array", "of", "container", "children"], "old_code": "public sui component [ ] get children ( ) { ensure zorder ( ) ; sui component [ ] c = new sui component [ children . size ( ) ] ; return ( sui component [ ] ) children . to array ( c ) ; }", "old_code_tokens": ["public", "sui", "component", "[", "]", "get", "children", "(", ")", "{", "ensure", "zorder", "(", ")", ";", "sui", "component", "[", "]", "c", "=", "new", "sui", "component", "[", "children", ".", "size", "(", ")", "]", ";", "return", "(", "sui", "component", "[", "]", ")", "children", ".", "to", "array", "(", "c", ")", ";", "}"], "new_code": "public component [ ] get children ( ) { ensure zorder ( ) ; component [ ] c = new component [ children . size ( ) ] ; return ( component [ ] ) children . to array ( c ) ; }", "new_code_tokens": ["public", "component", "[", "]", "get", "children", "(", ")", "{", "ensure", "zorder", "(", ")", ";", "component", "[", "]", "c", "=", "new", "component", "[", "children", ".", "size", "(", ")", "]", ";", "return", "(", "component", "[", "]", ")", "children", ".", "to", "array", "(", "c", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> sui <DELETE_END> <KEEP> component [ ] get children ( ) { ensure zorder ( ) ; <KEEP_END> <DELETE> sui <DELETE_END> <KEEP> component [ ] c = new <KEEP_END> <DELETE> sui <DELETE_END> <KEEP> component [ children . size ( ) ] ; return ( <KEEP_END> <DELETE> sui <DELETE_END> <KEEP> component [ ] ) children . to array ( c ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "sui", "<DELETE_END>", "<KEEP>", "component", "[", "]", "get", "children", "(", ")", "{", "ensure", "zorder", "(", ")", ";", "<KEEP_END>", "<DELETE>", "sui", "<DELETE_END>", "<KEEP>", "component", "[", "]", "c", "=", "new", "<KEEP_END>", "<DELETE>", "sui", "<DELETE_END>", "<KEEP>", "component", "[", "children", ".", "size", "(", ")", "]", ";", "return", "(", "<KEEP_END>", "<DELETE>", "sui", "<DELETE_END>", "<KEEP>", "component", "[", "]", ")", "children", ".", "to", "array", "(", "c", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> sui <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "sui", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "sui", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "children", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ensure", "<KEEP>", "zorder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "sui", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "c", "<KEEP>", "=", "<KEEP>", "new", "<DELETE>", "sui", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "children", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<DELETE>", "sui", "<KEEP>", "component", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "children", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_giraph-33-5642", "old_comment": "json array of the aggreagtor values", "old_comment_tokens": ["json", "array", "of", "the", "aggreagtor", "values"], "new_comment": "byte array of the aggreagtor values", "new_comment_tokens": ["byte", "array", "of", "the", "aggreagtor", "values"], "old_code": "private jsonarray marshal aggregator values ( long superstep ) { jsonarray aggregator array = new jsonarray ( ) ; if ( ( superstep = = input _ superstep ) | | ( aggregator in use . size ( ) = = num ) ) { return aggregator array ; } for ( string name : aggregator in use ) { try { aggregator < writable > aggregator = get aggregator map ( ) . get ( name ) ; byte array output stream output stream = new byte array output stream ( ) ; data output output = new data output stream ( output stream ) ; aggregator . get aggregated value ( ) . write ( output ) ; jsonobject aggregator obj = new jsonobject ( ) ; aggregator obj . put ( aggregator _ name _ key , name ) ; aggregator obj . put ( aggregator _ class _ name _ key , aggregator . get class ( ) . get name ( ) ) ; aggregator obj . put ( aggregator _ value _ key , base64 . encode bytes ( output stream . to byte array ( ) ) ) ; aggregator array . put ( aggregator obj ) ; if ( log . is info enabled ( ) ) { log . info ( str + str + aggregator obj + str + aggregator . get aggregated value ( ) + str ) ; } } catch ( jsonexception e ) { throw new illegal state exception ( str + str + name , e ) ; } catch ( ioexception e ) { throw new illegal state exception ( str + str + name , e ) ; } } if ( log . is info enabled ( ) ) { log . info ( str + str + aggregator array ) ; } aggregator in use . clear ( ) ; return aggregator array ; }", "old_code_tokens": ["private", "jsonarray", "marshal", "aggregator", "values", "(", "long", "superstep", ")", "{", "jsonarray", "aggregator", "array", "=", "new", "jsonarray", "(", ")", ";", "if", "(", "(", "superstep", "=", "=", "input", "_", "superstep", ")", "|", "|", "(", "aggregator", "in", "use", ".", "size", "(", ")", "=", "=", "num", ")", ")", "{", "return", "aggregator", "array", ";", "}", "for", "(", "string", "name", ":", "aggregator", "in", "use", ")", "{", "try", "{", "aggregator", "<", "writable", ">", "aggregator", "=", "get", "aggregator", "map", "(", ")", ".", "get", "(", "name", ")", ";", "byte", "array", "output", "stream", "output", "stream", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "data", "output", "output", "=", "new", "data", "output", "stream", "(", "output", "stream", ")", ";", "aggregator", ".", "get", "aggregated", "value", "(", ")", ".", "write", "(", "output", ")", ";", "jsonobject", "aggregator", "obj", "=", "new", "jsonobject", "(", ")", ";", "aggregator", "obj", ".", "put", "(", "aggregator", "_", "name", "_", "key", ",", "name", ")", ";", "aggregator", "obj", ".", "put", "(", "aggregator", "_", "class", "_", "name", "_", "key", ",", "aggregator", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", ")", ";", "aggregator", "obj", ".", "put", "(", "aggregator", "_", "value", "_", "key", ",", "base64", ".", "encode", "bytes", "(", "output", "stream", ".", "to", "byte", "array", "(", ")", ")", ")", ";", "aggregator", "array", ".", "put", "(", "aggregator", "obj", ")", ";", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "str", "+", "aggregator", "obj", "+", "str", "+", "aggregator", ".", "get", "aggregated", "value", "(", ")", "+", "str", ")", ";", "}", "}", "catch", "(", "jsonexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "str", "+", "name", ",", "e", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "str", "+", "name", ",", "e", ")", ";", "}", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "str", "+", "aggregator", "array", ")", ";", "}", "aggregator", "in", "use", ".", "clear", "(", ")", ";", "return", "aggregator", "array", ";", "}"], "new_code": "private byte [ ] marshal aggregator values ( long superstep ) { if ( superstep = = input _ superstep ) { return new byte [ num ] ; } byte array output stream output stream = new byte array output stream ( ) ; data output stream output = new data output stream ( output stream ) ; for ( entry < string , aggregator wrapper < writable > > entry : get aggregator map ( ) . entry set ( ) ) { if ( entry . get value ( ) . is changed ( ) ) { try { output . write utf ( entry . get key ( ) ) ; entry . get value ( ) . get current aggregated value ( ) . write ( output ) ; } catch ( ioexception e ) { throw new illegal state exception ( str + str + entry . get key ( ) , e ) ; } } } if ( log . is info enabled ( ) ) { log . info ( str ) ; } return output stream . to byte array ( ) ; }", "new_code_tokens": ["private", "byte", "[", "]", "marshal", "aggregator", "values", "(", "long", "superstep", ")", "{", "if", "(", "superstep", "=", "=", "input", "_", "superstep", ")", "{", "return", "new", "byte", "[", "num", "]", ";", "}", "byte", "array", "output", "stream", "output", "stream", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "data", "output", "stream", "output", "=", "new", "data", "output", "stream", "(", "output", "stream", ")", ";", "for", "(", "entry", "<", "string", ",", "aggregator", "wrapper", "<", "writable", ">", ">", "entry", ":", "get", "aggregator", "map", "(", ")", ".", "entry", "set", "(", ")", ")", "{", "if", "(", "entry", ".", "get", "value", "(", ")", ".", "is", "changed", "(", ")", ")", "{", "try", "{", "output", ".", "write", "utf", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "entry", ".", "get", "value", "(", ")", ".", "get", "current", "aggregated", "value", "(", ")", ".", "write", "(", "output", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "str", "+", "entry", ".", "get", "key", "(", ")", ",", "e", ")", ";", "}", "}", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", ")", ";", "}", "return", "output", "stream", ".", "to", "byte", "array", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> jsonarray <REPLACE_NEW> byte [ ] <REPLACE_END> <KEEP> marshal aggregator values ( long superstep ) { <KEEP_END> <DELETE> jsonarray aggregator array = new jsonarray ( ) ; <DELETE_END> <KEEP> if <KEEP_END> <DELETE> ( <DELETE_END> <KEEP> ( superstep = = input _ superstep ) <KEEP_END> <DELETE> | | ( aggregator in use . size ( ) = = num ) ) <DELETE_END> <KEEP> { return <KEEP_END> <REPLACE_OLD> aggregator array <REPLACE_NEW> new byte [ num ] <REPLACE_END> <KEEP> ; } <KEEP_END> <DELETE> for ( string name : aggregator in use ) { try { aggregator < writable > aggregator = get aggregator map ( ) . get ( name ) ; <DELETE_END> <KEEP> byte array output stream output stream = new byte array output stream ( ) ; data output <KEEP_END> <INSERT> stream <INSERT_END> <KEEP> output = new data output stream ( output stream ) ; <KEEP_END> <INSERT> for ( entry < string , <INSERT_END> <KEEP> aggregator <KEEP_END> <INSERT> wrapper < writable > > entry : get aggregator map ( ) . entry set ( ) ) { if ( entry <INSERT_END> <KEEP> . get <KEEP_END> <INSERT> value ( ) . is changed ( ) ) { try { output . write utf ( entry . get key ( ) ) ; entry . get value ( ) . get current <INSERT_END> <KEEP> aggregated value ( ) . write ( output <KEEP_END> <DELETE> ) ; jsonobject aggregator obj = new jsonobject ( ) ; aggregator obj . put ( aggregator _ name _ key , name ) ; aggregator obj . put ( aggregator _ class _ name _ key , aggregator . get class ( ) . get name ( ) ) ; aggregator obj . put ( aggregator _ value _ key , base64 . encode bytes ( output stream . to byte array ( ) ) ) ; aggregator array . put ( aggregator obj ) ; if ( log . is info enabled ( ) ) { log . info ( str + str + aggregator obj + str + aggregator . get aggregated value ( ) + str ) ; } } catch ( jsonexception e ) { throw new illegal state exception ( str + str + name , e <DELETE_END> <KEEP> ) ; } catch ( ioexception e ) { throw new illegal state exception ( str + str + <KEEP_END> <REPLACE_OLD> name <REPLACE_NEW> entry . get key ( ) <REPLACE_END> <KEEP> , e ) ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> } } if ( log . is info enabled ( ) ) { log . info ( str <KEEP_END> <DELETE> + str + aggregator array <DELETE_END> <KEEP> ) ; } <KEEP_END> <REPLACE_OLD> aggregator in use <REPLACE_NEW> return output stream <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> clear <REPLACE_NEW> to byte array <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <DELETE> return aggregator array ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "byte", "[", "]", "<REPLACE_END>", "<KEEP>", "marshal", "aggregator", "values", "(", "long", "superstep", ")", "{", "<KEEP_END>", "<DELETE>", "jsonarray", "aggregator", "array", "=", "new", "jsonarray", "(", ")", ";", "<DELETE_END>", "<KEEP>", "if", "<KEEP_END>", "<DELETE>", "(", "<DELETE_END>", "<KEEP>", "(", "superstep", "=", "=", "input", "_", "superstep", ")", "<KEEP_END>", "<DELETE>", "|", "|", "(", "aggregator", "in", "use", ".", "size", "(", ")", "=", "=", "num", ")", ")", "<DELETE_END>", "<KEEP>", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "aggregator", "array", "<REPLACE_NEW>", "new", "byte", "[", "num", "]", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "for", "(", "string", "name", ":", "aggregator", "in", "use", ")", "{", "try", "{", "aggregator", "<", "writable", ">", "aggregator", "=", "get", "aggregator", "map", "(", ")", ".", "get", "(", "name", ")", ";", "<DELETE_END>", "<KEEP>", "byte", "array", "output", "stream", "output", "stream", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "data", "output", "<KEEP_END>", "<INSERT>", "stream", "<INSERT_END>", "<KEEP>", "output", "=", "new", "data", "output", "stream", "(", "output", "stream", ")", ";", "<KEEP_END>", "<INSERT>", "for", "(", "entry", "<", "string", ",", "<INSERT_END>", "<KEEP>", "aggregator", "<KEEP_END>", "<INSERT>", "wrapper", "<", "writable", ">", ">", "entry", ":", "get", "aggregator", "map", "(", ")", ".", "entry", "set", "(", ")", ")", "{", "if", "(", "entry", "<INSERT_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<INSERT>", "value", "(", ")", ".", "is", "changed", "(", ")", ")", "{", "try", "{", "output", ".", "write", "utf", "(", "entry", ".", "get", "key", "(", ")", ")", ";", "entry", ".", "get", "value", "(", ")", ".", "get", "current", "<INSERT_END>", "<KEEP>", "aggregated", "value", "(", ")", ".", "write", "(", "output", "<KEEP_END>", "<DELETE>", ")", ";", "jsonobject", "aggregator", "obj", "=", "new", "jsonobject", "(", ")", ";", "aggregator", "obj", ".", "put", "(", "aggregator", "_", "name", "_", "key", ",", "name", ")", ";", "aggregator", "obj", ".", "put", "(", "aggregator", "_", "class", "_", "name", "_", "key", ",", "aggregator", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", ")", ";", "aggregator", "obj", ".", "put", "(", "aggregator", "_", "value", "_", "key", ",", "base64", ".", "encode", "bytes", "(", "output", "stream", ".", "to", "byte", "array", "(", ")", ")", ")", ";", "aggregator", "array", ".", "put", "(", "aggregator", "obj", ")", ";", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "str", "+", "aggregator", "obj", "+", "str", "+", "aggregator", ".", "get", "aggregated", "value", "(", ")", "+", "str", ")", ";", "}", "}", "catch", "(", "jsonexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "str", "+", "name", ",", "e", "<DELETE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", "+", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "entry", ".", "get", "key", "(", ")", "<REPLACE_END>", "<KEEP>", ",", "e", ")", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "}", "}", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "<KEEP_END>", "<DELETE>", "+", "str", "+", "aggregator", "array", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "aggregator", "in", "use", "<REPLACE_NEW>", "return", "output", "stream", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "clear", "<REPLACE_NEW>", "to", "byte", "array", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<DELETE>", "return", "aggregator", "array", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> json <REPLACE_NEW> byte <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "json", "<REPLACE_NEW>", "byte", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "jsonarray", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<KEEP>", "marshal", "<KEEP>", "aggregator", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "superstep", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "jsonarray", "<DELETE>", "aggregator", "<DELETE>", "array", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "jsonarray", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<DELETE>", "(", "<KEEP>", "(", "<KEEP>", "superstep", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "input", "<KEEP>", "_", "<KEEP>", "superstep", "<KEEP>", ")", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "(", "<DELETE>", "aggregator", "<DELETE>", "in", "<DELETE>", "use", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "aggregator", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "]", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", "name", "<DELETE>", ":", "<DELETE>", "aggregator", "<DELETE>", "in", "<DELETE>", "use", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "aggregator", "<DELETE>", "<", "<DELETE>", "writable", "<DELETE>", ">", "<DELETE>", "aggregator", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "aggregator", "<DELETE>", "map", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "byte", "<KEEP>", "array", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "byte", "<KEEP>", "array", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "data", "<KEEP>", "output", "<INSERT>", "stream", "<KEEP>", "output", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "data", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "output", "<KEEP>", "stream", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "entry", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "aggregator", "<INSERT>", "wrapper", "<INSERT>", "<", "<INSERT>", "writable", "<INSERT>", ">", "<INSERT>", ">", "<INSERT>", "entry", "<INSERT>", ":", "<INSERT>", "get", "<INSERT>", "aggregator", "<INSERT>", "map", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "entry", "<INSERT>", "set", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "changed", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "output", "<INSERT>", ".", "<INSERT>", "write", "<INSERT>", "utf", "<INSERT>", "(", "<INSERT>", "entry", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "key", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "entry", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "value", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "current", "<KEEP>", "aggregated", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", "output", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "jsonobject", "<DELETE>", "aggregator", "<DELETE>", "obj", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "jsonobject", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "aggregator", "<DELETE>", "obj", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "aggregator", "<DELETE>", "_", "<DELETE>", "name", "<DELETE>", "_", "<DELETE>", "key", "<DELETE>", ",", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "aggregator", "<DELETE>", "obj", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "aggregator", "<DELETE>", "_", "<DELETE>", "class", "<DELETE>", "_", "<DELETE>", "name", "<DELETE>", "_", "<DELETE>", "key", "<DELETE>", ",", "<DELETE>", "aggregator", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "class", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "aggregator", "<DELETE>", "obj", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "aggregator", "<DELETE>", "_", "<DELETE>", "value", "<DELETE>", "_", "<DELETE>", "key", "<DELETE>", ",", "<DELETE>", "base64", "<DELETE>", ".", "<DELETE>", "encode", "<DELETE>", "bytes", "<DELETE>", "(", "<DELETE>", "output", "<DELETE>", "stream", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "byte", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "aggregator", "<DELETE>", "array", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "aggregator", "<DELETE>", "obj", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "info", "<DELETE>", "enabled", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "aggregator", "<DELETE>", "obj", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "aggregator", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "aggregated", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "jsonexception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "illegal", "<DELETE>", "state", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "name", "<DELETE>", ",", "<DELETE>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "info", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "str", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "aggregator", "<DELETE>", "array", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "aggregator", "<REPLACE_OLD>", "in", "<REPLACE_OLD>", "use", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "output", "<REPLACE_NEW>", "stream", "<KEEP>", ".", "<REPLACE_OLD>", "clear", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "array", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "aggregator", "<DELETE>", "array", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_my-33-6916", "old_comment": "the modules needing id ( excluding it ) , in uninstallation order ( i . e . the first item isn ' t depended on ) .", "old_comment_tokens": ["the", "modules", "needing", "id", "(", "excluding", "it", ")", ",", "in", "uninstallation", "order", "(", "i", ".", "e", ".", "the", "first", "item", "isn", "'", "t", "depended", "on", ")", "."], "new_comment": "the modules needing ref ( excluding it ) , in uninstallation order ( i . e . the first item isn ' t depended on ) .", "new_comment_tokens": ["the", "modules", "needing", "ref", "(", "excluding", "it", ")", ",", "in", "uninstallation", "order", "(", "i", ".", "e", ".", "the", "first", "item", "isn", "'", "t", "depended", "on", ")", "."], "old_code": "public synchronized final list < string > get dependent modules recursively ( final string id ) throws exception { final list < string > res = new array list < string > ( ) ; for ( final string dep module : get dependent modules ( id ) ) { res . add ( dep module ) ; res . add all ( this . get dependent modules recursively ( dep module ) ) ; } collections . reverse ( res ) ; return res ; }", "old_code_tokens": ["public", "synchronized", "final", "list", "<", "string", ">", "get", "dependent", "modules", "recursively", "(", "final", "string", "id", ")", "throws", "exception", "{", "final", "list", "<", "string", ">", "res", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "for", "(", "final", "string", "dep", "module", ":", "get", "dependent", "modules", "(", "id", ")", ")", "{", "res", ".", "add", "(", "dep", "module", ")", ";", "res", ".", "add", "all", "(", "this", ".", "get", "dependent", "modules", "recursively", "(", "dep", "module", ")", ")", ";", "}", "collections", ".", "reverse", "(", "res", ")", ";", "return", "res", ";", "}"], "new_code": "public final list < module reference > get dependent modules recursively ( final module reference ref ) throws exception { return get dependent modules recursively ( ref , new array list < module reference > ( ) ) ; }", "new_code_tokens": ["public", "final", "list", "<", "module", "reference", ">", "get", "dependent", "modules", "recursively", "(", "final", "module", "reference", "ref", ")", "throws", "exception", "{", "return", "get", "dependent", "modules", "recursively", "(", "ref", ",", "new", "array", "list", "<", "module", "reference", ">", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> synchronized <DELETE_END> <KEEP> final list < <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> module reference <REPLACE_END> <KEEP> > get dependent modules recursively ( final <KEEP_END> <REPLACE_OLD> string id <REPLACE_NEW> module reference ref <REPLACE_END> <KEEP> ) throws exception { <KEEP_END> <REPLACE_OLD> final list < string > res = new array list < string > ( ) ; for ( final string dep module : get dependent modules ( id ) ) { res . add ( dep module ) ; res . add all ( this . <REPLACE_NEW> return <REPLACE_END> <KEEP> get dependent modules recursively ( <KEEP_END> <REPLACE_OLD> dep <REPLACE_NEW> ref , new array list < <REPLACE_END> <KEEP> module <KEEP_END> <INSERT> reference > ( <INSERT_END> <KEEP> ) ) ; } <KEEP_END> <DELETE> collections . reverse ( res ) ; return res ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "synchronized", "<DELETE_END>", "<KEEP>", "final", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "module", "reference", "<REPLACE_END>", "<KEEP>", ">", "get", "dependent", "modules", "recursively", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "string", "id", "<REPLACE_NEW>", "module", "reference", "ref", "<REPLACE_END>", "<KEEP>", ")", "throws", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "final", "list", "<", "string", ">", "res", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "for", "(", "final", "string", "dep", "module", ":", "get", "dependent", "modules", "(", "id", ")", ")", "{", "res", ".", "add", "(", "dep", "module", ")", ";", "res", ".", "add", "all", "(", "this", ".", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "get", "dependent", "modules", "recursively", "(", "<KEEP_END>", "<REPLACE_OLD>", "dep", "<REPLACE_NEW>", "ref", ",", "new", "array", "list", "<", "<REPLACE_END>", "<KEEP>", "module", "<KEEP_END>", "<INSERT>", "reference", ">", "(", "<INSERT_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "collections", ".", "reverse", "(", "res", ")", ";", "return", "res", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> id <REPLACE_NEW> ref <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "id", "<REPLACE_NEW>", "ref", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "synchronized", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "module", "<REPLACE_NEW>", "reference", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "dependent", "<KEEP>", "modules", "<KEEP>", "recursively", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "module", "<REPLACE_NEW>", "reference", "<REPLACE_NEW>", "ref", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "dep", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "dependent", "<REPLACE_OLD>", "modules", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "dep", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "res", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "return", "<KEEP>", "get", "<KEEP>", "dependent", "<KEEP>", "modules", "<KEEP>", "recursively", "<KEEP>", "(", "<REPLACE_OLD>", "dep", "<REPLACE_NEW>", "ref", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<KEEP>", "module", "<INSERT>", "reference", "<INSERT>", ">", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "collections", "<DELETE>", ".", "<DELETE>", "reverse", "<DELETE>", "(", "<DELETE>", "res", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "res", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "apache_geronimo-javamail-6-7408", "old_comment": "a formatted challege response , as an array of bytes .", "old_comment_tokens": ["a", "formatted", "challege", "response", ",", "as", "an", "array", "of", "bytes", "."], "new_comment": "a formatted challenge response , as an array of bytes .", "new_comment_tokens": ["a", "formatted", "challenge", "response", ",", "as", "an", "array", "of", "bytes", "."], "old_code": "public byte [ ] evaluate challenge ( byte [ ] challenge ) throws messaging exception { try { byte [ ] user bytes = username . get bytes ( str ) ; byte [ ] pass bytes = password . get bytes ( str ) ; byte [ ] token bytes = new byte [ ( user bytes . length * num ) + pass bytes . length + num ] ; system . arraycopy ( user bytes , num , token bytes , num , user bytes . length ) ; system . arraycopy ( user bytes , num , token bytes , user bytes . length + num , user bytes . length ) ; system . arraycopy ( pass bytes , num , token bytes , ( user bytes . length * num ) + num , pass bytes . length ) ; complete = true ; return token bytes ; } catch ( unsupported encoding exception e ) { throw new messaging exception ( str ) ; } }", "old_code_tokens": ["public", "byte", "[", "]", "evaluate", "challenge", "(", "byte", "[", "]", "challenge", ")", "throws", "messaging", "exception", "{", "try", "{", "byte", "[", "]", "user", "bytes", "=", "username", ".", "get", "bytes", "(", "str", ")", ";", "byte", "[", "]", "pass", "bytes", "=", "password", ".", "get", "bytes", "(", "str", ")", ";", "byte", "[", "]", "token", "bytes", "=", "new", "byte", "[", "(", "user", "bytes", ".", "length", "*", "num", ")", "+", "pass", "bytes", ".", "length", "+", "num", "]", ";", "system", ".", "arraycopy", "(", "user", "bytes", ",", "num", ",", "token", "bytes", ",", "num", ",", "user", "bytes", ".", "length", ")", ";", "system", ".", "arraycopy", "(", "user", "bytes", ",", "num", ",", "token", "bytes", ",", "user", "bytes", ".", "length", "+", "num", ",", "user", "bytes", ".", "length", ")", ";", "system", ".", "arraycopy", "(", "pass", "bytes", ",", "num", ",", "token", "bytes", ",", "(", "user", "bytes", ".", "length", "*", "num", ")", "+", "num", ",", "pass", "bytes", ".", "length", ")", ";", "complete", "=", "true", ";", "return", "token", "bytes", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "throw", "new", "messaging", "exception", "(", "str", ")", ";", "}", "}"], "new_code": "public byte [ ] evaluate challenge ( byte [ ] challenge ) throws messaging exception { try { string result = str + username + str + password ; if ( authzid ! = null & & authzid . length ( ) > num ) { result = authzid + result ; } complete = true ; return result . get bytes ( str ) ; } catch ( unsupported encoding exception e ) { throw new messaging exception ( str ) ; } }", "new_code_tokens": ["public", "byte", "[", "]", "evaluate", "challenge", "(", "byte", "[", "]", "challenge", ")", "throws", "messaging", "exception", "{", "try", "{", "string", "result", "=", "str", "+", "username", "+", "str", "+", "password", ";", "if", "(", "authzid", "!", "=", "null", "&", "&", "authzid", ".", "length", "(", ")", ">", "num", ")", "{", "result", "=", "authzid", "+", "result", ";", "}", "complete", "=", "true", ";", "return", "result", ".", "get", "bytes", "(", "str", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "throw", "new", "messaging", "exception", "(", "str", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public byte [ ] evaluate challenge ( byte [ ] challenge ) throws messaging exception { try { <KEEP_END> <REPLACE_OLD> byte [ ] user bytes <REPLACE_NEW> string result <REPLACE_END> <KEEP> = <KEEP_END> <INSERT> str + <INSERT_END> <KEEP> username <KEEP_END> <INSERT> + str + password ; if ( authzid ! = null & & authzid . length ( ) > num ) { result = authzid + result ; } complete = true ; return result <INSERT_END> <KEEP> . get bytes ( str ) <KEEP_END> <DELETE> ; byte [ ] pass bytes = password . get bytes ( str ) ; byte [ ] token bytes = new byte [ ( user bytes . length * num ) + pass bytes . length + num ] ; system . arraycopy ( user bytes , num , token bytes , num , user bytes . length ) ; system . arraycopy ( user bytes , num , token bytes , user bytes . length + num , user bytes . length ) ; system . arraycopy ( pass bytes , num , token bytes , ( user bytes . length * num ) + num , pass bytes . length ) ; complete = true ; return token bytes <DELETE_END> <KEEP> ; } catch ( unsupported encoding exception e ) { throw new messaging exception ( str ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "byte", "[", "]", "evaluate", "challenge", "(", "byte", "[", "]", "challenge", ")", "throws", "messaging", "exception", "{", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "byte", "[", "]", "user", "bytes", "<REPLACE_NEW>", "string", "result", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "str", "+", "<INSERT_END>", "<KEEP>", "username", "<KEEP_END>", "<INSERT>", "+", "str", "+", "password", ";", "if", "(", "authzid", "!", "=", "null", "&", "&", "authzid", ".", "length", "(", ")", ">", "num", ")", "{", "result", "=", "authzid", "+", "result", ";", "}", "complete", "=", "true", ";", "return", "result", "<INSERT_END>", "<KEEP>", ".", "get", "bytes", "(", "str", ")", "<KEEP_END>", "<DELETE>", ";", "byte", "[", "]", "pass", "bytes", "=", "password", ".", "get", "bytes", "(", "str", ")", ";", "byte", "[", "]", "token", "bytes", "=", "new", "byte", "[", "(", "user", "bytes", ".", "length", "*", "num", ")", "+", "pass", "bytes", ".", "length", "+", "num", "]", ";", "system", ".", "arraycopy", "(", "user", "bytes", ",", "num", ",", "token", "bytes", ",", "num", ",", "user", "bytes", ".", "length", ")", ";", "system", ".", "arraycopy", "(", "user", "bytes", ",", "num", ",", "token", "bytes", ",", "user", "bytes", ".", "length", "+", "num", ",", "user", "bytes", ".", "length", ")", ";", "system", ".", "arraycopy", "(", "pass", "bytes", ",", "num", ",", "token", "bytes", ",", "(", "user", "bytes", ".", "length", "*", "num", ")", "+", "num", ",", "pass", "bytes", ".", "length", ")", ";", "complete", "=", "true", ";", "return", "token", "bytes", "<DELETE_END>", "<KEEP>", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "e", ")", "{", "throw", "new", "messaging", "exception", "(", "str", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> challege <REPLACE_NEW> challenge <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "challege", "<REPLACE_NEW>", "challenge", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "evaluate", "<KEEP>", "challenge", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "challenge", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "messaging", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "user", "<REPLACE_OLD>", "bytes", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "result", "<KEEP>", "=", "<INSERT>", "str", "<INSERT>", "+", "<KEEP>", "username", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "password", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "authzid", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "authzid", "<INSERT>", ".", "<INSERT>", "length", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ">", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "result", "<INSERT>", "=", "<INSERT>", "authzid", "<INSERT>", "+", "<INSERT>", "result", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "complete", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "result", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "byte", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "pass", "<DELETE>", "bytes", "<DELETE>", "=", "<DELETE>", "password", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "bytes", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "byte", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "token", "<DELETE>", "bytes", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "byte", "<DELETE>", "[", "<DELETE>", "(", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "*", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "pass", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "+", "<DELETE>", "num", "<DELETE>", "]", "<DELETE>", ";", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "arraycopy", "<DELETE>", "(", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "token", "<DELETE>", "bytes", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "arraycopy", "<DELETE>", "(", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "token", "<DELETE>", "bytes", "<DELETE>", ",", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "+", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "system", "<DELETE>", ".", "<DELETE>", "arraycopy", "<DELETE>", "(", "<DELETE>", "pass", "<DELETE>", "bytes", "<DELETE>", ",", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "token", "<DELETE>", "bytes", "<DELETE>", ",", "<DELETE>", "(", "<DELETE>", "user", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "*", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "pass", "<DELETE>", "bytes", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "complete", "<DELETE>", "=", "<DELETE>", "true", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "token", "<DELETE>", "bytes", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "unsupported", "<KEEP>", "encoding", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "messaging", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-39-4446", "old_comment": "an aggregated authentication info instance representing authentication info across all the successfully consulted realms .", "old_comment_tokens": ["an", "aggregated", "authentication", "info", "instance", "representing", "authentication", "info", "across", "all", "the", "successfully", "consulted", "realms", "."], "new_comment": "an aggregated account instance representing account data across all the successfully consulted realms .", "new_comment_tokens": ["an", "aggregated", "account", "instance", "representing", "account", "data", "across", "all", "the", "successfully", "consulted", "realms", "."], "old_code": "protected authentication info do multi realm authentication ( collection < ? extends realm > realms , authentication token token ) { modular authentication strategy strategy = get modular authentication strategy ( ) ; strategy . before all attempts ( realms , token ) ; authentication info aggregated info = create aggregated authentication info ( token ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + realms . size ( ) + str ) ; } for ( realm realm : realms ) { strategy . before attempt ( realm , token ) ; if ( realm . supports ( token . get class ( ) ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + token + str + str + realm . get class ( ) + str ) ; } authentication info realm info = null ; throwable t = null ; try { realm info = realm . get authentication info ( token ) ; } catch ( throwable throwable ) { t = throwable ; if ( log . is trace enabled ( ) ) { string msg = str + realm + str ; log . trace ( msg , t ) ; } } strategy . after attempt ( realm , token , realm info , t ) ; if ( realm info ! = null ) { if ( log . is debug enabled ( ) ) { log . debug ( str + realm . get class ( ) . get name ( ) + str ) ; } merge ( aggregated info , realm info ) ; } } else { if ( log . is debug enabled ( ) ) { log . debug ( str + realm . get class ( ) . get name ( ) + str + str + token . get class ( ) . get name ( ) + str ) ; } } } strategy . after all attempts ( token , aggregated info ) ; return aggregated info ; }", "old_code_tokens": ["protected", "authentication", "info", "do", "multi", "realm", "authentication", "(", "collection", "<", "?", "extends", "realm", ">", "realms", ",", "authentication", "token", "token", ")", "{", "modular", "authentication", "strategy", "strategy", "=", "get", "modular", "authentication", "strategy", "(", ")", ";", "strategy", ".", "before", "all", "attempts", "(", "realms", ",", "token", ")", ";", "authentication", "info", "aggregated", "info", "=", "create", "aggregated", "authentication", "info", "(", "token", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realms", ".", "size", "(", ")", "+", "str", ")", ";", "}", "for", "(", "realm", "realm", ":", "realms", ")", "{", "strategy", ".", "before", "attempt", "(", "realm", ",", "token", ")", ";", "if", "(", "realm", ".", "supports", "(", "token", ".", "get", "class", "(", ")", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "token", "+", "str", "+", "str", "+", "realm", ".", "get", "class", "(", ")", "+", "str", ")", ";", "}", "authentication", "info", "realm", "info", "=", "null", ";", "throwable", "t", "=", "null", ";", "try", "{", "realm", "info", "=", "realm", ".", "get", "authentication", "info", "(", "token", ")", ";", "}", "catch", "(", "throwable", "throwable", ")", "{", "t", "=", "throwable", ";", "if", "(", "log", ".", "is", "trace", "enabled", "(", ")", ")", "{", "string", "msg", "=", "str", "+", "realm", "+", "str", ";", "log", ".", "trace", "(", "msg", ",", "t", ")", ";", "}", "}", "strategy", ".", "after", "attempt", "(", "realm", ",", "token", ",", "realm", "info", ",", "t", ")", ";", "if", "(", "realm", "info", "!", "=", "null", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "merge", "(", "aggregated", "info", ",", "realm", "info", ")", ";", "}", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", "+", "str", "+", "token", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "}", "}", "strategy", ".", "after", "all", "attempts", "(", "token", ",", "aggregated", "info", ")", ";", "return", "aggregated", "info", ";", "}"], "new_code": "protected account do multi realm authentication ( collection < ? extends realm > realms , authentication token token ) { modular authentication strategy strategy = get modular authentication strategy ( ) ; strategy . before all attempts ( realms , token ) ; account aggregated info = create aggregated account ( token ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + realms . size ( ) + str ) ; } for ( realm realm : realms ) { strategy . before attempt ( realm , token ) ; if ( realm . supports ( token . get class ( ) ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + token + str + str + realm . get class ( ) + str ) ; } account realm info = null ; throwable t = null ; try { realm info = realm . get account ( token ) ; } catch ( throwable throwable ) { t = throwable ; if ( log . is trace enabled ( ) ) { string msg = str + realm + str ; log . trace ( msg , t ) ; } } strategy . after attempt ( realm , token , realm info , t ) ; if ( realm info ! = null ) { if ( log . is debug enabled ( ) ) { log . debug ( str + realm . get class ( ) . get name ( ) + str ) ; } merge ( aggregated info , realm info ) ; } } else { if ( log . is debug enabled ( ) ) { log . debug ( str + realm . get class ( ) . get name ( ) + str + str + token . get class ( ) . get name ( ) + str ) ; } } } strategy . after all attempts ( token , aggregated info ) ; return aggregated info ; }", "new_code_tokens": ["protected", "account", "do", "multi", "realm", "authentication", "(", "collection", "<", "?", "extends", "realm", ">", "realms", ",", "authentication", "token", "token", ")", "{", "modular", "authentication", "strategy", "strategy", "=", "get", "modular", "authentication", "strategy", "(", ")", ";", "strategy", ".", "before", "all", "attempts", "(", "realms", ",", "token", ")", ";", "account", "aggregated", "info", "=", "create", "aggregated", "account", "(", "token", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realms", ".", "size", "(", ")", "+", "str", ")", ";", "}", "for", "(", "realm", "realm", ":", "realms", ")", "{", "strategy", ".", "before", "attempt", "(", "realm", ",", "token", ")", ";", "if", "(", "realm", ".", "supports", "(", "token", ".", "get", "class", "(", ")", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "token", "+", "str", "+", "str", "+", "realm", ".", "get", "class", "(", ")", "+", "str", ")", ";", "}", "account", "realm", "info", "=", "null", ";", "throwable", "t", "=", "null", ";", "try", "{", "realm", "info", "=", "realm", ".", "get", "account", "(", "token", ")", ";", "}", "catch", "(", "throwable", "throwable", ")", "{", "t", "=", "throwable", ";", "if", "(", "log", ".", "is", "trace", "enabled", "(", ")", ")", "{", "string", "msg", "=", "str", "+", "realm", "+", "str", ";", "log", ".", "trace", "(", "msg", ",", "t", ")", ";", "}", "}", "strategy", ".", "after", "attempt", "(", "realm", ",", "token", ",", "realm", "info", ",", "t", ")", ";", "if", "(", "realm", "info", "!", "=", "null", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "merge", "(", "aggregated", "info", ",", "realm", "info", ")", ";", "}", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", "+", "str", "+", "token", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "}", "}", "strategy", ".", "after", "all", "attempts", "(", "token", ",", "aggregated", "info", ")", ";", "return", "aggregated", "info", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> authentication info <REPLACE_NEW> account <REPLACE_END> <KEEP> do multi realm authentication ( collection < ? extends realm > realms , authentication token token ) { modular authentication strategy strategy = get modular authentication strategy ( ) ; strategy . before all attempts ( realms , token ) ; <KEEP_END> <REPLACE_OLD> authentication info <REPLACE_NEW> account <REPLACE_END> <KEEP> aggregated info = create aggregated <KEEP_END> <REPLACE_OLD> authentication info <REPLACE_NEW> account <REPLACE_END> <KEEP> ( token ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + realms . size ( ) + str ) ; } for ( realm realm : realms ) { strategy . before attempt ( realm , token ) ; if ( realm . supports ( token . get class ( ) ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + token + str + str + realm . get class ( ) + str ) ; } <KEEP_END> <REPLACE_OLD> authentication info <REPLACE_NEW> account <REPLACE_END> <KEEP> realm info = null ; throwable t = null ; try { realm info = realm . get <KEEP_END> <REPLACE_OLD> authentication info <REPLACE_NEW> account <REPLACE_END> <KEEP> ( token ) ; } catch ( throwable throwable ) { t = throwable ; if ( log . is trace enabled ( ) ) { string msg = str + realm + str ; log . trace ( msg , t ) ; } } strategy . after attempt ( realm , token , realm info , t ) ; if ( realm info ! = null ) { if ( log . is debug enabled ( ) ) { log . debug ( str + realm . get class ( ) . get name ( ) + str ) ; } merge ( aggregated info , realm info ) ; } } else { if ( log . is debug enabled ( ) ) { log . debug ( str + realm . get class ( ) . get name ( ) + str + str + token . get class ( ) . get name ( ) + str ) ; } } } strategy . after all attempts ( token , aggregated info ) ; return aggregated info ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "authentication", "info", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", "do", "multi", "realm", "authentication", "(", "collection", "<", "?", "extends", "realm", ">", "realms", ",", "authentication", "token", "token", ")", "{", "modular", "authentication", "strategy", "strategy", "=", "get", "modular", "authentication", "strategy", "(", ")", ";", "strategy", ".", "before", "all", "attempts", "(", "realms", ",", "token", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "authentication", "info", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", "aggregated", "info", "=", "create", "aggregated", "<KEEP_END>", "<REPLACE_OLD>", "authentication", "info", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", "(", "token", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realms", ".", "size", "(", ")", "+", "str", ")", ";", "}", "for", "(", "realm", "realm", ":", "realms", ")", "{", "strategy", ".", "before", "attempt", "(", "realm", ",", "token", ")", ";", "if", "(", "realm", ".", "supports", "(", "token", ".", "get", "class", "(", ")", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "token", "+", "str", "+", "str", "+", "realm", ".", "get", "class", "(", ")", "+", "str", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "authentication", "info", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", "realm", "info", "=", "null", ";", "throwable", "t", "=", "null", ";", "try", "{", "realm", "info", "=", "realm", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "authentication", "info", "<REPLACE_NEW>", "account", "<REPLACE_END>", "<KEEP>", "(", "token", ")", ";", "}", "catch", "(", "throwable", "throwable", ")", "{", "t", "=", "throwable", ";", "if", "(", "log", ".", "is", "trace", "enabled", "(", ")", ")", "{", "string", "msg", "=", "str", "+", "realm", "+", "str", ";", "log", ".", "trace", "(", "msg", ",", "t", ")", ";", "}", "}", "strategy", ".", "after", "attempt", "(", "realm", ",", "token", ",", "realm", "info", ",", "t", ")", ";", "if", "(", "realm", "info", "!", "=", "null", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "merge", "(", "aggregated", "info", ",", "realm", "info", ")", ";", "}", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", "+", "str", "+", "token", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", "+", "str", ")", ";", "}", "}", "}", "strategy", ".", "after", "all", "attempts", "(", "token", ",", "aggregated", "info", ")", ";", "return", "aggregated", "info", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> aggregated authentication info <REPLACE_NEW_KEEP_BEFORE> aggregated account <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> representing authentication info <REPLACE_NEW_KEEP_BEFORE> representing account data <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "aggregated", "authentication", "info", "<REPLACE_NEW_KEEP_BEFORE>", "aggregated", "account", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "representing", "authentication", "info", "<REPLACE_NEW_KEEP_BEFORE>", "representing", "account", "data", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "authentication", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "account", "<KEEP>", "do", "<KEEP>", "multi", "<KEEP>", "realm", "<KEEP>", "authentication", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "realm", "<KEEP>", ">", "<KEEP>", "realms", "<KEEP>", ",", "<KEEP>", "authentication", "<KEEP>", "token", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "modular", "<KEEP>", "authentication", "<KEEP>", "strategy", "<KEEP>", "strategy", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "modular", "<KEEP>", "authentication", "<KEEP>", "strategy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "before", "<KEEP>", "all", "<KEEP>", "attempts", "<KEEP>", "(", "<KEEP>", "realms", "<KEEP>", ",", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "authentication", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "account", "<KEEP>", "aggregated", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "aggregated", "<REPLACE_OLD>", "authentication", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "account", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realms", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", "realm", "<KEEP>", ":", "<KEEP>", "realms", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "before", "<KEEP>", "attempt", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", ",", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "supports", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "token", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "authentication", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "account", "<KEEP>", "realm", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "throwable", "<KEEP>", "t", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "realm", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "authentication", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "account", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "throwable", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "t", "<KEEP>", "=", "<KEEP>", "throwable", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "trace", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "msg", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", "msg", "<KEEP>", ",", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "after", "<KEEP>", "attempt", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", ",", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "realm", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", "info", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "merge", "<KEEP>", "(", "<KEEP>", "aggregated", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "realm", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "after", "<KEEP>", "all", "<KEEP>", "attempts", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "aggregated", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "aggregated", "<KEEP>", "info", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-109-6063", "old_comment": "0 if the bundle is already in the descriptor , else - 1", "old_comment_tokens": ["0", "if", "the", "bundle", "is", "already", "in", "the", "descriptor", ",", "else", "-", "1"], "new_comment": "true if the repository file was parsed , otherwise false", "new_comment_tokens": ["true", "if", "the", "repository", "file", "was", "parsed", ",", "otherwise", "false"], "old_code": "private int parse repository xml ( ) throws mojo execution exception { file fout = new file ( m _ repository xml ) ; if ( ! fout . exists ( ) ) { document doc = m _ document builder . new document ( ) ; date d = new date ( ) ; d . set time ( system . current time millis ( ) ) ; element root = doc . create element ( str ) ; root . set attribute ( str , m _ format . format ( d ) ) ; root . set attribute ( str , str ) ; try { write to file ( m _ repository xml , root ) ; } catch ( mojo execution exception e ) { e . print stack trace ( ) ; throw new mojo execution exception ( str ) ; } } m _ repository doc = parse file ( m _ repository xml , m _ document builder ) ; if ( m _ repository doc = = null ) { return - num ; } return num ; }", "old_code_tokens": ["private", "int", "parse", "repository", "xml", "(", ")", "throws", "mojo", "execution", "exception", "{", "file", "fout", "=", "new", "file", "(", "m", "_", "repository", "xml", ")", ";", "if", "(", "!", "fout", ".", "exists", "(", ")", ")", "{", "document", "doc", "=", "m", "_", "document", "builder", ".", "new", "document", "(", ")", ";", "date", "d", "=", "new", "date", "(", ")", ";", "d", ".", "set", "time", "(", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "element", "root", "=", "doc", ".", "create", "element", "(", "str", ")", ";", "root", ".", "set", "attribute", "(", "str", ",", "m", "_", "format", ".", "format", "(", "d", ")", ")", ";", "root", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "try", "{", "write", "to", "file", "(", "m", "_", "repository", "xml", ",", "root", ")", ";", "}", "catch", "(", "mojo", "execution", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "throw", "new", "mojo", "execution", "exception", "(", "str", ")", ";", "}", "}", "m", "_", "repository", "doc", "=", "parse", "file", "(", "m", "_", "repository", "xml", ",", "m", "_", "document", "builder", ")", ";", "if", "(", "m", "_", "repository", "doc", "=", "=", "null", ")", "{", "return", "-", "num", ";", "}", "return", "num", ";", "}"], "new_code": "public boolean parse repository xml ( ) throws mojo execution exception { file fout = new file ( m _ repository xml ) ; if ( ! fout . exists ( ) ) { document doc = m _ document builder . new document ( ) ; date d = new date ( ) ; d . set time ( system . current time millis ( ) ) ; element root = doc . create element ( str ) ; root . set attribute ( str , m _ format . format ( d ) ) ; root . set attribute ( str , str ) ; try { write to file ( m _ repository xml , root ) ; } catch ( mojo execution exception e ) { e . print stack trace ( ) ; throw new mojo execution exception ( str ) ; } } m _ repository doc = parse file ( m _ repository xml , m _ document builder ) ; return ( null ! = m _ repository doc ) ; }", "new_code_tokens": ["public", "boolean", "parse", "repository", "xml", "(", ")", "throws", "mojo", "execution", "exception", "{", "file", "fout", "=", "new", "file", "(", "m", "_", "repository", "xml", ")", ";", "if", "(", "!", "fout", ".", "exists", "(", ")", ")", "{", "document", "doc", "=", "m", "_", "document", "builder", ".", "new", "document", "(", ")", ";", "date", "d", "=", "new", "date", "(", ")", ";", "d", ".", "set", "time", "(", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "element", "root", "=", "doc", ".", "create", "element", "(", "str", ")", ";", "root", ".", "set", "attribute", "(", "str", ",", "m", "_", "format", ".", "format", "(", "d", ")", ")", ";", "root", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "try", "{", "write", "to", "file", "(", "m", "_", "repository", "xml", ",", "root", ")", ";", "}", "catch", "(", "mojo", "execution", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "throw", "new", "mojo", "execution", "exception", "(", "str", ")", ";", "}", "}", "m", "_", "repository", "doc", "=", "parse", "file", "(", "m", "_", "repository", "xml", ",", "m", "_", "document", "builder", ")", ";", "return", "(", "null", "!", "=", "m", "_", "repository", "doc", ")", ";", "}"], "span_diff_code": "<REPLACE_OLD> private int <REPLACE_NEW> public boolean <REPLACE_END> <KEEP> parse repository xml ( ) throws mojo execution exception { file fout = new file ( m _ repository xml ) ; if ( ! fout . exists ( ) ) { document doc = m _ document builder . new document ( ) ; date d = new date ( ) ; d . set time ( system . current time millis ( ) ) ; element root = doc . create element ( str ) ; root . set attribute ( str , m _ format . format ( d ) ) ; root . set attribute ( str , str ) ; try { write to file ( m _ repository xml , root ) ; } catch ( mojo execution exception e ) { e . print stack trace ( ) ; throw new mojo execution exception ( str ) ; } } m _ repository doc = parse file ( m _ repository xml , m _ document builder ) ; <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> null ! = <INSERT_END> <KEEP> m _ repository doc <KEEP_END> <DELETE> = = null <DELETE_END> <KEEP> ) <KEEP_END> <DELETE> { return - num <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> return num ; } <DELETE_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "private", "int", "<REPLACE_NEW>", "public", "boolean", "<REPLACE_END>", "<KEEP>", "parse", "repository", "xml", "(", ")", "throws", "mojo", "execution", "exception", "{", "file", "fout", "=", "new", "file", "(", "m", "_", "repository", "xml", ")", ";", "if", "(", "!", "fout", ".", "exists", "(", ")", ")", "{", "document", "doc", "=", "m", "_", "document", "builder", ".", "new", "document", "(", ")", ";", "date", "d", "=", "new", "date", "(", ")", ";", "d", ".", "set", "time", "(", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "element", "root", "=", "doc", ".", "create", "element", "(", "str", ")", ";", "root", ".", "set", "attribute", "(", "str", ",", "m", "_", "format", ".", "format", "(", "d", ")", ")", ";", "root", ".", "set", "attribute", "(", "str", ",", "str", ")", ";", "try", "{", "write", "to", "file", "(", "m", "_", "repository", "xml", ",", "root", ")", ";", "}", "catch", "(", "mojo", "execution", "exception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "throw", "new", "mojo", "execution", "exception", "(", "str", ")", ";", "}", "}", "m", "_", "repository", "doc", "=", "parse", "file", "(", "m", "_", "repository", "xml", ",", "m", "_", "document", "builder", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "null", "!", "=", "<INSERT_END>", "<KEEP>", "m", "_", "repository", "doc", "<KEEP_END>", "<DELETE>", "=", "=", "null", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "{", "return", "-", "num", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "num", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> 0 <REPLACE_NEW> true <REPLACE_END> <REPLACE_OLD> bundle is already in the descriptor <REPLACE_NEW> repository file was parsed <REPLACE_END> <REPLACE_OLD> else - 1 <REPLACE_NEW> otherwise false <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "0", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<REPLACE_OLD>", "bundle", "is", "already", "in", "the", "descriptor", "<REPLACE_NEW>", "repository", "file", "was", "parsed", "<REPLACE_END>", "<REPLACE_OLD>", "else", "-", "1", "<REPLACE_NEW>", "otherwise", "false", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "private", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "public", "<REPLACE_NEW>", "boolean", "<KEEP>", "parse", "<KEEP>", "repository", "<KEEP>", "xml", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "mojo", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "file", "<KEEP>", "fout", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "repository", "<KEEP>", "xml", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "fout", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "document", "<KEEP>", "doc", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "document", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "document", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "date", "<KEEP>", "d", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "d", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "element", "<KEEP>", "root", "<KEEP>", "=", "<KEEP>", "doc", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "root", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "format", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "root", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "write", "<KEEP>", "to", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "repository", "<KEEP>", "xml", "<KEEP>", ",", "<KEEP>", "root", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "mojo", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "mojo", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "repository", "<KEEP>", "doc", "<KEEP>", "=", "<KEEP>", "parse", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "repository", "<KEEP>", "xml", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "document", "<KEEP>", "builder", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<KEEP>", "(", "<INSERT>", "null", "<INSERT>", "!", "<INSERT>", "=", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "repository", "<KEEP>", "doc", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "-", "<DELETE>", "num", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_fili-42-5483", "old_comment": "a druid dimensions loader", "old_comment_tokens": ["a", "druid", "dimensions", "loader"], "new_comment": "a dimension value load task", "new_comment_tokens": ["a", "dimension", "value", "load", "task"], "old_code": "protected druid dimensions loader build druid dimensions loader ( druid web service web service , physical table dictionary physical table dictionary , dimension dictionary dimension dictionary ) { return new druid dimensions loader ( physical table dictionary , dimension dictionary , web service ) ; }", "old_code_tokens": ["protected", "druid", "dimensions", "loader", "build", "druid", "dimensions", "loader", "(", "druid", "web", "service", "web", "service", ",", "physical", "table", "dictionary", "physical", "table", "dictionary", ",", "dimension", "dictionary", "dimension", "dictionary", ")", "{", "return", "new", "druid", "dimensions", "loader", "(", "physical", "table", "dictionary", ",", "dimension", "dictionary", ",", "web", "service", ")", ";", "}"], "new_code": "protected dimension value load task build druid dimensions loader ( druid web service web service , physical table dictionary physical table dictionary , dimension dictionary dimension dictionary ) { druid dimension value loader druid dimension row provider = new druid dimension value loader ( physical table dictionary , dimension dictionary , web service ) ; return new dimension value load task ( collections . singleton list ( druid dimension row provider ) ) ; }", "new_code_tokens": ["protected", "dimension", "value", "load", "task", "build", "druid", "dimensions", "loader", "(", "druid", "web", "service", "web", "service", ",", "physical", "table", "dictionary", "physical", "table", "dictionary", ",", "dimension", "dictionary", "dimension", "dictionary", ")", "{", "druid", "dimension", "value", "loader", "druid", "dimension", "row", "provider", "=", "new", "druid", "dimension", "value", "loader", "(", "physical", "table", "dictionary", ",", "dimension", "dictionary", ",", "web", "service", ")", ";", "return", "new", "dimension", "value", "load", "task", "(", "collections", ".", "singleton", "list", "(", "druid", "dimension", "row", "provider", ")", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> druid dimensions loader <REPLACE_NEW> dimension value load task <REPLACE_END> <KEEP> build druid dimensions loader ( druid web service web service , physical table dictionary physical table dictionary , dimension dictionary dimension dictionary ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> druid dimension value loader druid dimension row provider = <REPLACE_END> <KEEP> new druid <KEEP_END> <REPLACE_OLD> dimensions <REPLACE_NEW> dimension value <REPLACE_END> <KEEP> loader ( physical table dictionary , dimension dictionary , web service ) ; <KEEP_END> <INSERT> return new dimension value load task ( collections . singleton list ( druid dimension row provider ) ) ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "druid", "dimensions", "loader", "<REPLACE_NEW>", "dimension", "value", "load", "task", "<REPLACE_END>", "<KEEP>", "build", "druid", "dimensions", "loader", "(", "druid", "web", "service", "web", "service", ",", "physical", "table", "dictionary", "physical", "table", "dictionary", ",", "dimension", "dictionary", "dimension", "dictionary", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "druid", "dimension", "value", "loader", "druid", "dimension", "row", "provider", "=", "<REPLACE_END>", "<KEEP>", "new", "druid", "<KEEP_END>", "<REPLACE_OLD>", "dimensions", "<REPLACE_NEW>", "dimension", "value", "<REPLACE_END>", "<KEEP>", "loader", "(", "physical", "table", "dictionary", ",", "dimension", "dictionary", ",", "web", "service", ")", ";", "<KEEP_END>", "<INSERT>", "return", "new", "dimension", "value", "load", "task", "(", "collections", ".", "singleton", "list", "(", "druid", "dimension", "row", "provider", ")", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> druid dimensions loader <REPLACE_NEW> dimension value load task <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "druid", "dimensions", "loader", "<REPLACE_NEW>", "dimension", "value", "load", "task", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "druid", "<REPLACE_OLD>", "dimensions", "<REPLACE_OLD>", "loader", "<REPLACE_NEW>", "dimension", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "load", "<REPLACE_NEW>", "task", "<KEEP>", "build", "<KEEP>", "druid", "<KEEP>", "dimensions", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", "druid", "<KEEP>", "web", "<KEEP>", "service", "<KEEP>", "web", "<KEEP>", "service", "<KEEP>", ",", "<KEEP>", "physical", "<KEEP>", "table", "<KEEP>", "dictionary", "<KEEP>", "physical", "<KEEP>", "table", "<KEEP>", "dictionary", "<KEEP>", ",", "<KEEP>", "dimension", "<KEEP>", "dictionary", "<KEEP>", "dimension", "<KEEP>", "dictionary", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "druid", "<REPLACE_NEW>", "dimension", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "loader", "<REPLACE_NEW>", "druid", "<REPLACE_NEW>", "dimension", "<REPLACE_NEW>", "row", "<REPLACE_NEW>", "provider", "<REPLACE_NEW>", "=", "<KEEP>", "new", "<KEEP>", "druid", "<REPLACE_OLD>", "dimensions", "<REPLACE_NEW>", "dimension", "<REPLACE_NEW>", "value", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", "physical", "<KEEP>", "table", "<KEEP>", "dictionary", "<KEEP>", ",", "<KEEP>", "dimension", "<KEEP>", "dictionary", "<KEEP>", ",", "<KEEP>", "web", "<KEEP>", "service", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "dimension", "<INSERT>", "value", "<INSERT>", "load", "<INSERT>", "task", "<INSERT>", "(", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "singleton", "<INSERT>", "list", "<INSERT>", "(", "<INSERT>", "druid", "<INSERT>", "dimension", "<INSERT>", "row", "<INSERT>", "provider", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-43-4452", "old_comment": "true if this authentication realm \" understands \" how to process submissions for the submitted token instances of the class , false otherwise .", "old_comment_tokens": ["true", "if", "this", "authentication", "realm", "\"", "understands", "\"", "how", "to", "process", "submissions", "for", "the", "submitted", "token", "instances", "of", "the", "class", ",", "false", "otherwise", "."], "new_comment": "true if this authentication realm can process the submitted token instance of the class , false otherwise .", "new_comment_tokens": ["true", "if", "this", "authentication", "realm", "can", "process", "the", "submitted", "token", "instance", "of", "the", "class", ",", "false", "otherwise", "."], "old_code": "public boolean supports ( class token class ) { return get authentication token class ( ) . is assignable from ( token class ) ; }", "old_code_tokens": ["public", "boolean", "supports", "(", "class", "token", "class", ")", "{", "return", "get", "authentication", "token", "class", "(", ")", ".", "is", "assignable", "from", "(", "token", "class", ")", ";", "}"], "new_code": "public boolean supports ( authentication token token ) { if ( log . is info enabled ( ) ) { log . info ( str + str ) ; } return token ! = null & & get authentication token class ( ) . is assignable from ( token . get class ( ) ) ; }", "new_code_tokens": ["public", "boolean", "supports", "(", "authentication", "token", "token", ")", "{", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "str", ")", ";", "}", "return", "token", "!", "=", "null", "&", "&", "get", "authentication", "token", "class", "(", ")", ".", "is", "assignable", "from", "(", "token", ".", "get", "class", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean supports ( <KEEP_END> <REPLACE_OLD> class <REPLACE_NEW> authentication <REPLACE_END> <KEEP> token <KEEP_END> <REPLACE_OLD> class <REPLACE_NEW> token <REPLACE_END> <KEEP> ) { <KEEP_END> <INSERT> if ( log . is info enabled ( ) ) { log . info ( str + str ) ; } <INSERT_END> <KEEP> return <KEEP_END> <INSERT> token ! = null & & <INSERT_END> <KEEP> get authentication token class ( ) . is assignable from ( token <KEEP_END> <INSERT> . get <INSERT_END> <KEEP> class <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "supports", "(", "<KEEP_END>", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "authentication", "<REPLACE_END>", "<KEEP>", "token", "<KEEP_END>", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "token", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "log", ".", "info", "(", "str", "+", "str", ")", ";", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<INSERT>", "token", "!", "=", "null", "&", "&", "<INSERT_END>", "<KEEP>", "get", "authentication", "token", "class", "(", ")", ".", "is", "assignable", "from", "(", "token", "<KEEP_END>", "<INSERT>", ".", "get", "<INSERT_END>", "<KEEP>", "class", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> \" understands \" how to <REPLACE_NEW> can <REPLACE_END> <DELETE> submissions for <DELETE_END> <REPLACE_OLD> instances <REPLACE_NEW> instance <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "\"", "understands", "\"", "how", "to", "<REPLACE_NEW>", "can", "<REPLACE_END>", "<DELETE>", "submissions", "for", "<DELETE_END>", "<REPLACE_OLD>", "instances", "<REPLACE_NEW>", "instance", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "supports", "<KEEP>", "(", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "authentication", "<KEEP>", "token", "<REPLACE_OLD>", "class", "<REPLACE_NEW>", "token", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "log", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "info", "<INSERT>", "enabled", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "log", "<INSERT>", ".", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<INSERT>", "token", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<KEEP>", "get", "<KEEP>", "authentication", "<KEEP>", "token", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "assignable", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "token", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "class", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "iSoron_uhabits-7-2474", "old_comment": "score for that day", "old_comment_tokens": ["score", "for", "that", "day"], "new_comment": "score value for that day", "new_comment_tokens": ["score", "value", "for", "that", "day"], "old_code": "public int get value ( long timestamp ) { compute all ( ) ; string [ ] args = { habit . get id ( ) . to string ( ) , long . to string ( timestamp ) } ; return sqlite utils . int query ( str , args ) ; }", "old_code_tokens": ["public", "int", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "all", "(", ")", ";", "string", "[", "]", "args", "=", "{", "habit", ".", "get", "id", "(", ")", ".", "to", "string", "(", ")", ",", "long", ".", "to", "string", "(", "timestamp", ")", "}", ";", "return", "sqlite", "utils", ".", "int", "query", "(", "str", ",", "args", ")", ";", "}"], "new_code": "public final int get value ( long timestamp ) { compute ( timestamp , timestamp ) ; score s = get computed by timestamp ( timestamp ) ; if ( s = = null ) throw new illegal state exception ( ) ; return s . get value ( ) ; }", "new_code_tokens": ["public", "final", "int", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "(", "timestamp", ",", "timestamp", ")", ";", "score", "s", "=", "get", "computed", "by", "timestamp", "(", "timestamp", ")", ";", "if", "(", "s", "=", "=", "null", ")", "throw", "new", "illegal", "state", "exception", "(", ")", ";", "return", "s", ".", "get", "value", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int get value ( long timestamp ) { compute <KEEP_END> <REPLACE_OLD> all <REPLACE_NEW> ( timestamp , timestamp ) ; score s = get computed by timestamp ( timestamp ) ; if ( s = = null ) throw new illegal state exception <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <REPLACE_OLD> string [ ] args = { habit <REPLACE_NEW> return s <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> id <REPLACE_NEW> value <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ) . to string ( ) , long . to string ( timestamp ) } ; return sqlite utils . int query ( str , args <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "<KEEP_END>", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "(", "timestamp", ",", "timestamp", ")", ";", "score", "s", "=", "get", "computed", "by", "timestamp", "(", "timestamp", ")", ";", "if", "(", "s", "=", "=", "null", ")", "throw", "new", "illegal", "state", "exception", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "string", "[", "]", "args", "=", "{", "habit", "<REPLACE_NEW>", "return", "s", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "value", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", ".", "to", "string", "(", ")", ",", "long", ".", "to", "string", "(", "timestamp", ")", "}", ";", "return", "sqlite", "utils", ".", "int", "query", "(", "str", ",", "args", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> score <INSERT_NEW_KEEP_BEFORE> score value <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "score", "<INSERT_NEW_KEEP_BEFORE>", "score", "value", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "timestamp", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "compute", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "score", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "computed", "<REPLACE_NEW>", "by", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "illegal", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "args", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "habit", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "s", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", "value", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "long", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "timestamp", "<DELETE>", ")", "<DELETE>", "}", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "sqlite", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "int", "<DELETE>", "query", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "args", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_fluo-18-6677", "old_comment": "a subset configuration using the prefix # app _ prefix . any change made to subset will be reflected in this configuration , but with the prefix added . this method is useful for setting application configuration before initialization . for reading application configuration after initialization , see fluo client # get app configuration ( )", "old_comment_tokens": ["a", "subset", "configuration", "using", "the", "prefix", "#", "app", "_", "prefix", ".", "any", "change", "made", "to", "subset", "will", "be", "reflected", "in", "this", "configuration", ",", "but", "with", "the", "prefix", "added", ".", "this", "method", "is", "useful", "for", "setting", "application", "configuration", "before", "initialization", ".", "for", "reading", "application", "configuration", "after", "initialization", ",", "see", "fluo", "client", "#", "get", "app", "configuration", "(", ")"], "new_comment": "a subset of this configuration using the prefix # app _ prefix . any change made to subset will be reflected in this configuration , but with the prefix added . this method is useful for setting application configuration before initialization . for reading application configuration after initialization , see fluo client # get app configuration ( )", "new_comment_tokens": ["a", "subset", "of", "this", "configuration", "using", "the", "prefix", "#", "app", "_", "prefix", ".", "any", "change", "made", "to", "subset", "will", "be", "reflected", "in", "this", "configuration", ",", "but", "with", "the", "prefix", "added", ".", "this", "method", "is", "useful", "for", "setting", "application", "configuration", "before", "initialization", ".", "for", "reading", "application", "configuration", "after", "initialization", ",", "see", "fluo", "client", "#", "get", "app", "configuration", "(", ")"], "old_code": "public configuration get app configuration ( ) { return subset ( app _ prefix ) ; }", "old_code_tokens": ["public", "configuration", "get", "app", "configuration", "(", ")", "{", "return", "subset", "(", "app", "_", "prefix", ")", ";", "}"], "new_code": "public simple configuration get app configuration ( ) { return subset ( app _ prefix ) ; }", "new_code_tokens": ["public", "simple", "configuration", "get", "app", "configuration", "(", ")", "{", "return", "subset", "(", "app", "_", "prefix", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> simple <INSERT_END> <KEEP> configuration get app configuration ( ) { return subset ( app _ prefix ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "simple", "<INSERT_END>", "<KEEP>", "configuration", "get", "app", "configuration", "(", ")", "{", "return", "subset", "(", "app", "_", "prefix", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a subset <INSERT_NEW_KEEP_BEFORE> a subset of this <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "subset", "<INSERT_NEW_KEEP_BEFORE>", "a", "subset", "of", "this", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "simple", "<KEEP>", "configuration", "<KEEP>", "get", "<KEEP>", "app", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "subset", "<KEEP>", "(", "<KEEP>", "app", "<KEEP>", "_", "<KEEP>", "prefix", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-211-6070", "old_comment": "the list of initial service reference objects .", "old_comment_tokens": ["the", "list", "of", "initial", "service", "reference", "objects", "."], "new_comment": "the list of initial service references .", "new_comment_tokens": ["the", "list", "of", "initial", "service", "references", "."], "old_code": "private service reference [ ] get initial references ( boolean track all services , string track class , string filter string ) throws invalid syntax exception { if ( track all services ) { return context . get all service references ( track class , filter string ) ; } else { return context . get service references ( track class , filter string ) ; } }", "old_code_tokens": ["private", "service", "reference", "[", "]", "get", "initial", "references", "(", "boolean", "track", "all", "services", ",", "string", "track", "class", ",", "string", "filter", "string", ")", "throws", "invalid", "syntax", "exception", "{", "if", "(", "track", "all", "services", ")", "{", "return", "context", ".", "get", "all", "service", "references", "(", "track", "class", ",", "filter", "string", ")", ";", "}", "else", "{", "return", "context", ".", "get", "service", "references", "(", "track", "class", ",", "filter", "string", ")", ";", "}", "}"], "new_code": "private service reference [ ] get initial references ( boolean track all services , string class name , string filter string ) throws invalid syntax exception { if ( track all services ) { return context . get all service references ( class name , filter string ) ; } return context . get service references ( class name , filter string ) ; }", "new_code_tokens": ["private", "service", "reference", "[", "]", "get", "initial", "references", "(", "boolean", "track", "all", "services", ",", "string", "class", "name", ",", "string", "filter", "string", ")", "throws", "invalid", "syntax", "exception", "{", "if", "(", "track", "all", "services", ")", "{", "return", "context", ".", "get", "all", "service", "references", "(", "class", "name", ",", "filter", "string", ")", ";", "}", "return", "context", ".", "get", "service", "references", "(", "class", "name", ",", "filter", "string", ")", ";", "}"], "span_diff_code": "<KEEP> private service reference [ ] get initial references ( boolean track all services , string <KEEP_END> <DELETE> track <DELETE_END> <KEEP> class <KEEP_END> <INSERT> name <INSERT_END> <KEEP> , string filter string ) throws invalid syntax exception { if ( track all services ) { return context . get all service references ( <KEEP_END> <DELETE> track <DELETE_END> <KEEP> class <KEEP_END> <INSERT> name <INSERT_END> <KEEP> , filter string ) ; } <KEEP_END> <DELETE> else { <DELETE_END> <KEEP> return context . get service references ( <KEEP_END> <DELETE> track <DELETE_END> <KEEP> class <KEEP_END> <INSERT> name <INSERT_END> <KEEP> , filter string ) ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "service", "reference", "[", "]", "get", "initial", "references", "(", "boolean", "track", "all", "services", ",", "string", "<KEEP_END>", "<DELETE>", "track", "<DELETE_END>", "<KEEP>", "class", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ",", "string", "filter", "string", ")", "throws", "invalid", "syntax", "exception", "{", "if", "(", "track", "all", "services", ")", "{", "return", "context", ".", "get", "all", "service", "references", "(", "<KEEP_END>", "<DELETE>", "track", "<DELETE_END>", "<KEEP>", "class", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ",", "filter", "string", ")", ";", "}", "<KEEP_END>", "<DELETE>", "else", "{", "<DELETE_END>", "<KEEP>", "return", "context", ".", "get", "service", "references", "(", "<KEEP_END>", "<DELETE>", "track", "<DELETE_END>", "<KEEP>", "class", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ",", "filter", "string", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> reference objects <REPLACE_NEW> references <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "reference", "objects", "<REPLACE_NEW>", "references", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "service", "<KEEP>", "reference", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "initial", "<KEEP>", "references", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", "track", "<KEEP>", "all", "<KEEP>", "services", "<KEEP>", ",", "<KEEP>", "string", "<DELETE>", "track", "<KEEP>", "class", "<INSERT>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "filter", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "invalid", "<KEEP>", "syntax", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "track", "<KEEP>", "all", "<KEEP>", "services", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "service", "<KEEP>", "references", "<KEEP>", "(", "<DELETE>", "track", "<KEEP>", "class", "<INSERT>", "name", "<KEEP>", ",", "<KEEP>", "filter", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "return", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "references", "<KEEP>", "(", "<DELETE>", "track", "<KEEP>", "class", "<INSERT>", "name", "<KEEP>", ",", "<KEEP>", "filter", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-194-6068", "old_comment": "this object .", "old_comment_tokens": ["this", "object", "."], "new_comment": "this exception .", "new_comment_tokens": ["this", "exception", "."], "old_code": "public throwable init cause ( throwable cause ) { throw new illegal state exception ( ) ; }", "old_code_tokens": ["public", "throwable", "init", "cause", "(", "throwable", "cause", ")", "{", "throw", "new", "illegal", "state", "exception", "(", ")", ";", "}"], "new_code": "public throwable init cause ( throwable cause ) { return super . init cause ( cause ) ; }", "new_code_tokens": ["public", "throwable", "init", "cause", "(", "throwable", "cause", ")", "{", "return", "super", ".", "init", "cause", "(", "cause", ")", ";", "}"], "span_diff_code": "<KEEP> public throwable init cause ( throwable cause ) { <KEEP_END> <REPLACE_OLD> throw new illegal state exception <REPLACE_NEW> return super . init cause <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> cause <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "throwable", "init", "cause", "(", "throwable", "cause", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "throw", "new", "illegal", "state", "exception", "<REPLACE_NEW>", "return", "super", ".", "init", "cause", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "cause", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> object <REPLACE_NEW> exception <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "object", "<REPLACE_NEW>", "exception", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "throwable", "<KEEP>", "init", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "cause", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "illegal", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "exception", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "super", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "init", "<REPLACE_NEW>", "cause", "<KEEP>", "(", "<INSERT>", "cause", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_HeliosStreams-17-7128", "old_comment": "a set of topic metadatas", "old_comment_tokens": ["a", "set", "of", "topic", "metadatas"], "new_comment": "a map of topic metadatas keyed by topic name", "new_comment_tokens": ["a", "map", "of", "topic", "metadatas", "keyed", "by", "topic", "name"], "old_code": "public set < topic metadata > topic meta data ( final string . . . topic names ) { if ( ! running . get ( ) ) throw new illegal state exception ( str ) ; if ( topic names = = null | | topic names . length = = num ) return collections . empty set ( ) ; final zk utils z = get zk utils ( ) ; final set < string > set = new linked hash set < string > ( arrays . as list ( topic names ) ) ; return java conversions . set as java set ( admin utils . fetch topic metadata from zk ( java converters . as scala set converter ( set ) . as scala ( ) , z ) ) ; }", "old_code_tokens": ["public", "set", "<", "topic", "metadata", ">", "topic", "meta", "data", "(", "final", "string", ".", ".", ".", "topic", "names", ")", "{", "if", "(", "!", "running", ".", "get", "(", ")", ")", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "if", "(", "topic", "names", "=", "=", "null", "|", "|", "topic", "names", ".", "length", "=", "=", "num", ")", "return", "collections", ".", "empty", "set", "(", ")", ";", "final", "zk", "utils", "z", "=", "get", "zk", "utils", "(", ")", ";", "final", "set", "<", "string", ">", "set", "=", "new", "linked", "hash", "set", "<", "string", ">", "(", "arrays", ".", "as", "list", "(", "topic", "names", ")", ")", ";", "return", "java", "conversions", ".", "set", "as", "java", "set", "(", "admin", "utils", ".", "fetch", "topic", "metadata", "from", "zk", "(", "java", "converters", ".", "as", "scala", "set", "converter", "(", "set", ")", ".", "as", "scala", "(", ")", ",", "z", ")", ")", ";", "}"], "new_code": "public map < string , topic metadata > topic meta data ( final string . . . topic names ) { if ( ! running . get ( ) ) throw new illegal state exception ( str ) ; final zk utils z = get zk utils ( ) ; final set < string > set = ( topic names = = null | | topic names . length = = num ) ? topic names ( ) : new linked hash set < string > ( arrays . as list ( topic names ) ) ; final set < topic metadata > meta = java conversions . set as java set ( admin utils . fetch topic metadata from zk ( java converters . as scala set converter ( set ) . as scala ( ) , z ) ) ; final map < string , topic metadata > map = new hash map < string , topic metadata > ( meta . size ( ) ) ; for ( topic metadata tm : meta ) { map . put ( tm . topic ( ) , tm ) ; } return map ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "topic", "metadata", ">", "topic", "meta", "data", "(", "final", "string", ".", ".", ".", "topic", "names", ")", "{", "if", "(", "!", "running", ".", "get", "(", ")", ")", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "final", "zk", "utils", "z", "=", "get", "zk", "utils", "(", ")", ";", "final", "set", "<", "string", ">", "set", "=", "(", "topic", "names", "=", "=", "null", "|", "|", "topic", "names", ".", "length", "=", "=", "num", ")", "?", "topic", "names", "(", ")", ":", "new", "linked", "hash", "set", "<", "string", ">", "(", "arrays", ".", "as", "list", "(", "topic", "names", ")", ")", ";", "final", "set", "<", "topic", "metadata", ">", "meta", "=", "java", "conversions", ".", "set", "as", "java", "set", "(", "admin", "utils", ".", "fetch", "topic", "metadata", "from", "zk", "(", "java", "converters", ".", "as", "scala", "set", "converter", "(", "set", ")", ".", "as", "scala", "(", ")", ",", "z", ")", ")", ";", "final", "map", "<", "string", ",", "topic", "metadata", ">", "map", "=", "new", "hash", "map", "<", "string", ",", "topic", "metadata", ">", "(", "meta", ".", "size", "(", ")", ")", ";", "for", "(", "topic", "metadata", "tm", ":", "meta", ")", "{", "map", ".", "put", "(", "tm", ".", "topic", "(", ")", ",", "tm", ")", ";", "}", "return", "map", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> map <REPLACE_END> <KEEP> < <KEEP_END> <INSERT> string , <INSERT_END> <KEEP> topic metadata > topic meta data ( final string . . . topic names ) { if ( ! running . get ( ) ) throw new illegal state exception ( str ) ; <KEEP_END> <DELETE> if ( topic names = = null | | topic names . length = = num ) return collections . empty set ( ) ; <DELETE_END> <KEEP> final zk utils z = get zk utils ( ) ; final set < string > set = <KEEP_END> <INSERT> ( topic names = = null | | topic names . length = = num ) ? topic names ( ) : <INSERT_END> <KEEP> new linked hash set < string > ( arrays . as list ( topic names ) ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> final set < topic metadata > meta = <REPLACE_END> <KEEP> java conversions . set as java set ( admin utils . fetch topic metadata from zk ( java converters . as scala set converter ( set ) . as scala ( ) , z ) ) ; <KEEP_END> <INSERT> final map < string , topic metadata > map = new hash map < string , topic metadata > ( meta . size ( ) ) ; for ( topic metadata tm : meta ) { map . put ( tm . topic ( ) , tm ) ; <INSERT_END> <KEEP> } <KEEP_END> <INSERT> return map ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<INSERT>", "string", ",", "<INSERT_END>", "<KEEP>", "topic", "metadata", ">", "topic", "meta", "data", "(", "final", "string", ".", ".", ".", "topic", "names", ")", "{", "if", "(", "!", "running", ".", "get", "(", ")", ")", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "topic", "names", "=", "=", "null", "|", "|", "topic", "names", ".", "length", "=", "=", "num", ")", "return", "collections", ".", "empty", "set", "(", ")", ";", "<DELETE_END>", "<KEEP>", "final", "zk", "utils", "z", "=", "get", "zk", "utils", "(", ")", ";", "final", "set", "<", "string", ">", "set", "=", "<KEEP_END>", "<INSERT>", "(", "topic", "names", "=", "=", "null", "|", "|", "topic", "names", ".", "length", "=", "=", "num", ")", "?", "topic", "names", "(", ")", ":", "<INSERT_END>", "<KEEP>", "new", "linked", "hash", "set", "<", "string", ">", "(", "arrays", ".", "as", "list", "(", "topic", "names", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "final", "set", "<", "topic", "metadata", ">", "meta", "=", "<REPLACE_END>", "<KEEP>", "java", "conversions", ".", "set", "as", "java", "set", "(", "admin", "utils", ".", "fetch", "topic", "metadata", "from", "zk", "(", "java", "converters", ".", "as", "scala", "set", "converter", "(", "set", ")", ".", "as", "scala", "(", ")", ",", "z", ")", ")", ";", "<KEEP_END>", "<INSERT>", "final", "map", "<", "string", ",", "topic", "metadata", ">", "map", "=", "new", "hash", "map", "<", "string", ",", "topic", "metadata", ">", "(", "meta", ".", "size", "(", ")", ")", ";", "for", "(", "topic", "metadata", "tm", ":", "meta", ")", "{", "map", ".", "put", "(", "tm", ".", "topic", "(", ")", ",", "tm", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<INSERT>", "return", "map", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> set <REPLACE_NEW> map <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> metadatas <INSERT_NEW_KEEP_BEFORE> metadatas keyed by topic name <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "set", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "metadatas", "<INSERT_NEW_KEEP_BEFORE>", "metadatas", "keyed", "by", "topic", "name", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "map", "<KEEP>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "topic", "<KEEP>", "metadata", "<KEEP>", ">", "<KEEP>", "topic", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "topic", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "running", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "topic", "<DELETE>", "names", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "topic", "<DELETE>", "names", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "collections", "<DELETE>", ".", "<DELETE>", "empty", "<DELETE>", "set", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "final", "<KEEP>", "zk", "<KEEP>", "utils", "<KEEP>", "z", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "zk", "<KEEP>", "utils", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "set", "<KEEP>", "=", "<INSERT>", "(", "<INSERT>", "topic", "<INSERT>", "names", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "topic", "<INSERT>", "names", "<INSERT>", ".", "<INSERT>", "length", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", "?", "<INSERT>", "topic", "<INSERT>", "names", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ":", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "arrays", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "topic", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "metadata", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "meta", "<REPLACE_NEW>", "=", "<KEEP>", "java", "<KEEP>", "conversions", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "as", "<KEEP>", "java", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "admin", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "fetch", "<KEEP>", "topic", "<KEEP>", "metadata", "<KEEP>", "from", "<KEEP>", "zk", "<KEEP>", "(", "<KEEP>", "java", "<KEEP>", "converters", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "scala", "<KEEP>", "set", "<KEEP>", "converter", "<KEEP>", "(", "<KEEP>", "set", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "as", "<KEEP>", "scala", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "z", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "final", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "topic", "<INSERT>", "metadata", "<INSERT>", ">", "<INSERT>", "map", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<INSERT>", "topic", "<INSERT>", "metadata", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", "meta", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "for", "<INSERT>", "(", "<INSERT>", "topic", "<INSERT>", "metadata", "<INSERT>", "tm", "<INSERT>", ":", "<INSERT>", "meta", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "map", "<INSERT>", ".", "<INSERT>", "put", "<INSERT>", "(", "<INSERT>", "tm", "<INSERT>", ".", "<INSERT>", "topic", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "tm", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "map", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_cft-2-6731", "old_comment": "one of the following application running states : iserver # state _ started , iserver # state _ starting , iserver # state _ stopped , iserver # state _ stopping , iserver # state _ unknown", "old_comment_tokens": ["one", "of", "the", "following", "application", "running", "states", ":", "iserver", "#", "state", "_", "started", ",", "iserver", "#", "state", "_", "starting", ",", "iserver", "#", "state", "_", "stopped", ",", "iserver", "#", "state", "_", "stopping", ",", "iserver", "#", "state", "_", "unknown"], "new_comment": "one of the following application running states : iserver # state _ started , iserver # state _ stopped , iserver # state _ unknown", "new_comment_tokens": ["one", "of", "the", "following", "application", "running", "states", ":", "iserver", "#", "state", "_", "started", ",", "iserver", "#", "state", "_", "stopped", ",", "iserver", "#", "state", "_", "unknown"], "old_code": "public int track ( iprogress monitor monitor ) throws core exception { long current time = system . current time millis ( ) ; long total time = current time + timeout ; cloud foundry application module app module = cloud server . get behaviour ( ) . update module with all cloud info ( app name , monitor ) ; println to console ( nls . bind ( messages . application instance starting tracker _ starting _ tracking , app name ) , app module ) ; int state = app module . get state ( ) ; while ( state ! = iserver . state _ started & & state ! = iserver . state _ stopped & & current time < total time ) { app module = cloud server . get behaviour ( ) . update module with all cloud info ( app name , monitor ) ; if ( app module = = null | | app module . get application ( ) = = null ) { println to console ( nls . bind ( messages . application instance starting tracker _ application _ not _ exists , app name ) , app module ) ; return iserver . state _ unknown ; } if ( monitor ! = null & & monitor . is canceled ( ) ) { println to console ( nls . bind ( messages . application instance starting tracker _ application _ check _ canceled , app name ) , app module ) ; return iserver . state _ unknown ; } state = app module . get state ( ) ; try { thread . sleep ( wait _ time ) ; } catch ( interrupted exception e ) { } current time = system . current time millis ( ) ; } string running state message = state = = iserver . state _ started ? nls . bind ( messages . application instance starting tracker _ application _ is _ running , app name ) : nls . bind ( messages . application instance starting tracker _ application _ is _ not _ running , app name ) ; println to console ( running state message , app module ) ; return state ; }", "old_code_tokens": ["public", "int", "track", "(", "iprogress", "monitor", "monitor", ")", "throws", "core", "exception", "{", "long", "current", "time", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "long", "total", "time", "=", "current", "time", "+", "timeout", ";", "cloud", "foundry", "application", "module", "app", "module", "=", "cloud", "server", ".", "get", "behaviour", "(", ")", ".", "update", "module", "with", "all", "cloud", "info", "(", "app", "name", ",", "monitor", ")", ";", "println", "to", "console", "(", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "starting", "_", "tracking", ",", "app", "name", ")", ",", "app", "module", ")", ";", "int", "state", "=", "app", "module", ".", "get", "state", "(", ")", ";", "while", "(", "state", "!", "=", "iserver", ".", "state", "_", "started", "&", "&", "state", "!", "=", "iserver", ".", "state", "_", "stopped", "&", "&", "current", "time", "<", "total", "time", ")", "{", "app", "module", "=", "cloud", "server", ".", "get", "behaviour", "(", ")", ".", "update", "module", "with", "all", "cloud", "info", "(", "app", "name", ",", "monitor", ")", ";", "if", "(", "app", "module", "=", "=", "null", "|", "|", "app", "module", ".", "get", "application", "(", ")", "=", "=", "null", ")", "{", "println", "to", "console", "(", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "not", "_", "exists", ",", "app", "name", ")", ",", "app", "module", ")", ";", "return", "iserver", ".", "state", "_", "unknown", ";", "}", "if", "(", "monitor", "!", "=", "null", "&", "&", "monitor", ".", "is", "canceled", "(", ")", ")", "{", "println", "to", "console", "(", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "check", "_", "canceled", ",", "app", "name", ")", ",", "app", "module", ")", ";", "return", "iserver", ".", "state", "_", "unknown", ";", "}", "state", "=", "app", "module", ".", "get", "state", "(", ")", ";", "try", "{", "thread", ".", "sleep", "(", "wait", "_", "time", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "current", "time", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "}", "string", "running", "state", "message", "=", "state", "=", "=", "iserver", ".", "state", "_", "started", "?", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "is", "_", "running", ",", "app", "name", ")", ":", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "is", "_", "not", "_", "running", ",", "app", "name", ")", ";", "println", "to", "console", "(", "running", "state", "message", ",", "app", "module", ")", ";", "return", "state", ";", "}"], "new_code": "public int track ( iprogress monitor monitor ) throws core exception , operation canceled exception { long current time = system . current time millis ( ) ; long total time = current time + timeout ; cloud foundry server behaviour behaviour = cloud server . get behaviour ( ) ; string app name = app module . get deployed application name ( ) ; println to console ( nls . bind ( messages . application instance starting tracker _ starting _ tracking , app name ) , app module ) ; int state = iserver . state _ unknown ; while ( state ! = iserver . state _ started & & state ! = iserver . state _ stopped & & current time < total time ) { if ( monitor ! = null & & monitor . is canceled ( ) ) { string error = nls . bind ( messages . application instance starting tracker _ application _ check _ canceled , app name ) ; println to console ( error , app module ) ; throw new operation canceled exception ( error ) ; } cloud application cloud app = behaviour . get cloud application ( app name , monitor ) ; application stats application stats = behaviour . get application stats ( app name , monitor ) ; if ( cloud app = = null ) { string error = nls . bind ( messages . application instance starting tracker _ application _ not _ exists , app name ) ; println to console ( error , app module ) ; throw cloud error util . to core exception ( error ) ; } else { state = cloud foundry application module . get cloud state ( cloud app , application stats ) ; try { thread . sleep ( wait _ time ) ; } catch ( interrupted exception e ) { } current time = system . current time millis ( ) ; } } string running state message = state = = iserver . state _ started ? nls . bind ( messages . application instance starting tracker _ application _ is _ running , app name ) : nls . bind ( messages . application instance starting tracker _ application _ is _ not _ running , app name ) ; println to console ( running state message , app module ) ; return state ; }", "new_code_tokens": ["public", "int", "track", "(", "iprogress", "monitor", "monitor", ")", "throws", "core", "exception", ",", "operation", "canceled", "exception", "{", "long", "current", "time", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "long", "total", "time", "=", "current", "time", "+", "timeout", ";", "cloud", "foundry", "server", "behaviour", "behaviour", "=", "cloud", "server", ".", "get", "behaviour", "(", ")", ";", "string", "app", "name", "=", "app", "module", ".", "get", "deployed", "application", "name", "(", ")", ";", "println", "to", "console", "(", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "starting", "_", "tracking", ",", "app", "name", ")", ",", "app", "module", ")", ";", "int", "state", "=", "iserver", ".", "state", "_", "unknown", ";", "while", "(", "state", "!", "=", "iserver", ".", "state", "_", "started", "&", "&", "state", "!", "=", "iserver", ".", "state", "_", "stopped", "&", "&", "current", "time", "<", "total", "time", ")", "{", "if", "(", "monitor", "!", "=", "null", "&", "&", "monitor", ".", "is", "canceled", "(", ")", ")", "{", "string", "error", "=", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "check", "_", "canceled", ",", "app", "name", ")", ";", "println", "to", "console", "(", "error", ",", "app", "module", ")", ";", "throw", "new", "operation", "canceled", "exception", "(", "error", ")", ";", "}", "cloud", "application", "cloud", "app", "=", "behaviour", ".", "get", "cloud", "application", "(", "app", "name", ",", "monitor", ")", ";", "application", "stats", "application", "stats", "=", "behaviour", ".", "get", "application", "stats", "(", "app", "name", ",", "monitor", ")", ";", "if", "(", "cloud", "app", "=", "=", "null", ")", "{", "string", "error", "=", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "not", "_", "exists", ",", "app", "name", ")", ";", "println", "to", "console", "(", "error", ",", "app", "module", ")", ";", "throw", "cloud", "error", "util", ".", "to", "core", "exception", "(", "error", ")", ";", "}", "else", "{", "state", "=", "cloud", "foundry", "application", "module", ".", "get", "cloud", "state", "(", "cloud", "app", ",", "application", "stats", ")", ";", "try", "{", "thread", ".", "sleep", "(", "wait", "_", "time", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "current", "time", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "}", "}", "string", "running", "state", "message", "=", "state", "=", "=", "iserver", ".", "state", "_", "started", "?", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "is", "_", "running", ",", "app", "name", ")", ":", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "is", "_", "not", "_", "running", ",", "app", "name", ")", ";", "println", "to", "console", "(", "running", "state", "message", ",", "app", "module", ")", ";", "return", "state", ";", "}"], "span_diff_code": "<KEEP> public int track ( iprogress monitor monitor ) throws core exception <KEEP_END> <INSERT> , operation canceled exception <INSERT_END> <KEEP> { long current time = system . current time millis ( ) ; long total time = current time + timeout ; cloud foundry <KEEP_END> <REPLACE_OLD> application module app module <REPLACE_NEW> server behaviour behaviour <REPLACE_END> <KEEP> = cloud server . get behaviour ( ) <KEEP_END> <REPLACE_OLD> . update module with all cloud info ( app name , monitor <REPLACE_NEW> ; string app name = app module . get deployed application name ( <REPLACE_END> <KEEP> ) ; println to console ( nls . bind ( messages . application instance starting tracker _ starting _ tracking , app name ) , app module ) ; int state = <KEEP_END> <REPLACE_OLD> app module . get state ( ) <REPLACE_NEW> iserver . state _ unknown <REPLACE_END> <KEEP> ; while ( state ! = iserver . state _ started & & state ! = iserver . state _ stopped & & current time < total time ) { <KEEP_END> <DELETE> app module = cloud server . get behaviour ( ) . update module with all cloud info ( app name , monitor ) ; <DELETE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> app module = <REPLACE_NEW> monitor ! <REPLACE_END> <KEEP> = null <KEEP_END> <REPLACE_OLD> | | app module . get application ( ) = = null ) { <REPLACE_NEW> & & monitor . is canceled ( ) ) { string error = nls . bind ( messages . application instance starting tracker _ application _ check _ canceled , app name ) ; <REPLACE_END> <KEEP> println to console ( <KEEP_END> <INSERT> error , app module ) ; throw new operation canceled exception ( error ) ; } cloud application cloud app = behaviour . get cloud application ( app name , monitor ) ; application stats application stats = behaviour . get application stats ( app name , monitor ) ; if ( cloud app = = null ) { string error = <INSERT_END> <KEEP> nls . bind ( messages . application instance starting tracker _ application _ not _ exists , app name ) <KEEP_END> <REPLACE_OLD> , app module ) ; return iserver . state _ unknown ; } if ( monitor ! = null & & monitor . is canceled ( ) ) { <REPLACE_NEW> ; <REPLACE_END> <KEEP> println to console ( <KEEP_END> <REPLACE_OLD> nls . bind ( messages . application instance starting tracker _ application _ check _ canceled , app name ) , app module ) ; return iserver . state _ unknown ; } state = app <REPLACE_NEW> error , app module ) ; throw cloud error util . to core exception ( error ) ; } else { state = cloud foundry application <REPLACE_END> <KEEP> module . get <KEEP_END> <REPLACE_OLD> state ( <REPLACE_NEW> cloud state ( cloud app , application stats <REPLACE_END> <KEEP> ) ; try { thread . sleep ( wait _ time ) ; } catch ( interrupted exception e ) { } current time = system . current time millis ( ) ; } <KEEP_END> <INSERT> } <INSERT_END> <KEEP> string running state message = state = = iserver . state _ started ? nls . bind ( messages . application instance starting tracker _ application _ is _ running , app name ) : nls . bind ( messages . application instance starting tracker _ application _ is _ not _ running , app name ) ; println to console ( running state message , app module ) ; return state ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "track", "(", "iprogress", "monitor", "monitor", ")", "throws", "core", "exception", "<KEEP_END>", "<INSERT>", ",", "operation", "canceled", "exception", "<INSERT_END>", "<KEEP>", "{", "long", "current", "time", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "long", "total", "time", "=", "current", "time", "+", "timeout", ";", "cloud", "foundry", "<KEEP_END>", "<REPLACE_OLD>", "application", "module", "app", "module", "<REPLACE_NEW>", "server", "behaviour", "behaviour", "<REPLACE_END>", "<KEEP>", "=", "cloud", "server", ".", "get", "behaviour", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ".", "update", "module", "with", "all", "cloud", "info", "(", "app", "name", ",", "monitor", "<REPLACE_NEW>", ";", "string", "app", "name", "=", "app", "module", ".", "get", "deployed", "application", "name", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "println", "to", "console", "(", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "starting", "_", "tracking", ",", "app", "name", ")", ",", "app", "module", ")", ";", "int", "state", "=", "<KEEP_END>", "<REPLACE_OLD>", "app", "module", ".", "get", "state", "(", ")", "<REPLACE_NEW>", "iserver", ".", "state", "_", "unknown", "<REPLACE_END>", "<KEEP>", ";", "while", "(", "state", "!", "=", "iserver", ".", "state", "_", "started", "&", "&", "state", "!", "=", "iserver", ".", "state", "_", "stopped", "&", "&", "current", "time", "<", "total", "time", ")", "{", "<KEEP_END>", "<DELETE>", "app", "module", "=", "cloud", "server", ".", "get", "behaviour", "(", ")", ".", "update", "module", "with", "all", "cloud", "info", "(", "app", "name", ",", "monitor", ")", ";", "<DELETE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "app", "module", "=", "<REPLACE_NEW>", "monitor", "!", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", "|", "|", "app", "module", ".", "get", "application", "(", ")", "=", "=", "null", ")", "{", "<REPLACE_NEW>", "&", "&", "monitor", ".", "is", "canceled", "(", ")", ")", "{", "string", "error", "=", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "check", "_", "canceled", ",", "app", "name", ")", ";", "<REPLACE_END>", "<KEEP>", "println", "to", "console", "(", "<KEEP_END>", "<INSERT>", "error", ",", "app", "module", ")", ";", "throw", "new", "operation", "canceled", "exception", "(", "error", ")", ";", "}", "cloud", "application", "cloud", "app", "=", "behaviour", ".", "get", "cloud", "application", "(", "app", "name", ",", "monitor", ")", ";", "application", "stats", "application", "stats", "=", "behaviour", ".", "get", "application", "stats", "(", "app", "name", ",", "monitor", ")", ";", "if", "(", "cloud", "app", "=", "=", "null", ")", "{", "string", "error", "=", "<INSERT_END>", "<KEEP>", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "not", "_", "exists", ",", "app", "name", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "app", "module", ")", ";", "return", "iserver", ".", "state", "_", "unknown", ";", "}", "if", "(", "monitor", "!", "=", "null", "&", "&", "monitor", ".", "is", "canceled", "(", ")", ")", "{", "<REPLACE_NEW>", ";", "<REPLACE_END>", "<KEEP>", "println", "to", "console", "(", "<KEEP_END>", "<REPLACE_OLD>", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "check", "_", "canceled", ",", "app", "name", ")", ",", "app", "module", ")", ";", "return", "iserver", ".", "state", "_", "unknown", ";", "}", "state", "=", "app", "<REPLACE_NEW>", "error", ",", "app", "module", ")", ";", "throw", "cloud", "error", "util", ".", "to", "core", "exception", "(", "error", ")", ";", "}", "else", "{", "state", "=", "cloud", "foundry", "application", "<REPLACE_END>", "<KEEP>", "module", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "state", "(", "<REPLACE_NEW>", "cloud", "state", "(", "cloud", "app", ",", "application", "stats", "<REPLACE_END>", "<KEEP>", ")", ";", "try", "{", "thread", ".", "sleep", "(", "wait", "_", "time", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "}", "current", "time", "=", "system", ".", "current", "time", "millis", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "string", "running", "state", "message", "=", "state", "=", "=", "iserver", ".", "state", "_", "started", "?", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "is", "_", "running", ",", "app", "name", ")", ":", "nls", ".", "bind", "(", "messages", ".", "application", "instance", "starting", "tracker", "_", "application", "_", "is", "_", "not", "_", "running", ",", "app", "name", ")", ";", "println", "to", "console", "(", "running", "state", "message", ",", "app", "module", ")", ";", "return", "state", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> starting , iserver # state _ <DELETE_END> <DELETE> stopping , iserver # state _ <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "starting", ",", "iserver", "#", "state", "_", "<DELETE_END>", "<DELETE>", "stopping", ",", "iserver", "#", "state", "_", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "track", "<KEEP>", "(", "<KEEP>", "iprogress", "<KEEP>", "monitor", "<KEEP>", "monitor", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "core", "<KEEP>", "exception", "<INSERT>", ",", "<INSERT>", "operation", "<INSERT>", "canceled", "<INSERT>", "exception", "<KEEP>", "{", "<KEEP>", "long", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "long", "<KEEP>", "total", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "+", "<KEEP>", "timeout", "<KEEP>", ";", "<KEEP>", "cloud", "<KEEP>", "foundry", "<REPLACE_OLD>", "application", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "module", "<REPLACE_NEW>", "server", "<REPLACE_NEW>", "behaviour", "<REPLACE_NEW>", "behaviour", "<KEEP>", "=", "<KEEP>", "cloud", "<KEEP>", "server", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "behaviour", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "with", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "cloud", "<REPLACE_OLD>", "info", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "monitor", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", "module", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "deployed", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "println", "<KEEP>", "to", "<KEEP>", "console", "<KEEP>", "(", "<KEEP>", "nls", "<KEEP>", ".", "<KEEP>", "bind", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "application", "<KEEP>", "instance", "<KEEP>", "starting", "<KEEP>", "tracker", "<KEEP>", "_", "<KEEP>", "starting", "<KEEP>", "_", "<KEEP>", "tracking", "<KEEP>", ",", "<KEEP>", "app", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "app", "<KEEP>", "module", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "state", "<KEEP>", "=", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "iserver", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "unknown", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "state", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "iserver", "<KEEP>", ".", "<KEEP>", "state", "<KEEP>", "_", "<KEEP>", "started", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "state", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "iserver", "<KEEP>", ".", "<KEEP>", "state", "<KEEP>", "_", "<KEEP>", "stopped", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "<", "<KEEP>", "total", "<KEEP>", "time", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "app", "<DELETE>", "module", "<DELETE>", "=", "<DELETE>", "cloud", "<DELETE>", "server", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "behaviour", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "update", "<DELETE>", "module", "<DELETE>", "with", "<DELETE>", "all", "<DELETE>", "cloud", "<DELETE>", "info", "<DELETE>", "(", "<DELETE>", "app", "<DELETE>", "name", "<DELETE>", ",", "<DELETE>", "monitor", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "monitor", "<REPLACE_NEW>", "!", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "application", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "monitor", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "canceled", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "nls", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bind", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "messages", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "instance", "<REPLACE_NEW>", "starting", "<REPLACE_NEW>", "tracker", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "canceled", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "println", "<KEEP>", "to", "<KEEP>", "console", "<KEEP>", "(", "<INSERT>", "error", "<INSERT>", ",", "<INSERT>", "app", "<INSERT>", "module", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "operation", "<INSERT>", "canceled", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "error", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "cloud", "<INSERT>", "application", "<INSERT>", "cloud", "<INSERT>", "app", "<INSERT>", "=", "<INSERT>", "behaviour", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "cloud", "<INSERT>", "application", "<INSERT>", "(", "<INSERT>", "app", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "monitor", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "application", "<INSERT>", "stats", "<INSERT>", "application", "<INSERT>", "stats", "<INSERT>", "=", "<INSERT>", "behaviour", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "application", "<INSERT>", "stats", "<INSERT>", "(", "<INSERT>", "app", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "monitor", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "cloud", "<INSERT>", "app", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "error", "<INSERT>", "=", "<KEEP>", "nls", "<KEEP>", ".", "<KEEP>", "bind", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "application", "<KEEP>", "instance", "<KEEP>", "starting", "<KEEP>", "tracker", "<KEEP>", "_", "<KEEP>", "application", "<KEEP>", "_", "<KEEP>", "not", "<KEEP>", "_", "<KEEP>", "exists", "<KEEP>", ",", "<KEEP>", "app", "<KEEP>", "name", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "iserver", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "unknown", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "monitor", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "monitor", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "canceled", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", ";", "<KEEP>", "println", "<KEEP>", "to", "<KEEP>", "console", "<KEEP>", "(", "<REPLACE_OLD>", "nls", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "bind", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "messages", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "application", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", "starting", "<REPLACE_OLD>", "tracker", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "application", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "check", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "canceled", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "app", "<REPLACE_OLD>", "module", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "iserver", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "unknown", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "app", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", "module", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "cloud", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "util", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "core", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "cloud", "<REPLACE_NEW>", "foundry", "<REPLACE_NEW>", "application", "<KEEP>", "module", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "state", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "cloud", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cloud", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "stats", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "thread", "<KEEP>", ".", "<KEEP>", "sleep", "<KEEP>", "(", "<KEEP>", "wait", "<KEEP>", "_", "<KEEP>", "time", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<KEEP>", "string", "<KEEP>", "running", "<KEEP>", "state", "<KEEP>", "message", "<KEEP>", "=", "<KEEP>", "state", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "iserver", "<KEEP>", ".", "<KEEP>", "state", "<KEEP>", "_", "<KEEP>", "started", "<KEEP>", "?", "<KEEP>", "nls", "<KEEP>", ".", "<KEEP>", "bind", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "application", "<KEEP>", "instance", "<KEEP>", "starting", "<KEEP>", "tracker", "<KEEP>", "_", "<KEEP>", "application", "<KEEP>", "_", "<KEEP>", "is", "<KEEP>", "_", "<KEEP>", "running", "<KEEP>", ",", "<KEEP>", "app", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "nls", "<KEEP>", ".", "<KEEP>", "bind", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "application", "<KEEP>", "instance", "<KEEP>", "starting", "<KEEP>", "tracker", "<KEEP>", "_", "<KEEP>", "application", "<KEEP>", "_", "<KEEP>", "is", "<KEEP>", "_", "<KEEP>", "not", "<KEEP>", "_", "<KEEP>", "running", "<KEEP>", ",", "<KEEP>", "app", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "println", "<KEEP>", "to", "<KEEP>", "console", "<KEEP>", "(", "<KEEP>", "running", "<KEEP>", "state", "<KEEP>", "message", "<KEEP>", ",", "<KEEP>", "app", "<KEEP>", "module", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "state", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "albfan_sqlworkbenchj-61-4376", "old_comment": "an integer identifying the status", "old_comment_tokens": ["an", "integer", "identifying", "the", "status"], "new_comment": "an int identifying the status", "new_comment_tokens": ["an", "int", "identifying", "the", "status"], "old_code": "public integer get row status ( int a row ) throws index out of bounds exception { row data row = this . get row ( a row ) ; if ( row . is original ( ) ) { return row _ original ; } else if ( row . is new ( ) ) { return row _ new ; } else if ( row . is modified ( ) ) { return row _ modified ; } else { return row _ original ; } }", "old_code_tokens": ["public", "integer", "get", "row", "status", "(", "int", "a", "row", ")", "throws", "index", "out", "of", "bounds", "exception", "{", "row", "data", "row", "=", "this", ".", "get", "row", "(", "a", "row", ")", ";", "if", "(", "row", ".", "is", "original", "(", ")", ")", "{", "return", "row", "_", "original", ";", "}", "else", "if", "(", "row", ".", "is", "new", "(", ")", ")", "{", "return", "row", "_", "new", ";", "}", "else", "if", "(", "row", ".", "is", "modified", "(", ")", ")", "{", "return", "row", "_", "modified", ";", "}", "else", "{", "return", "row", "_", "original", ";", "}", "}"], "new_code": "public int get row status ( int a row ) throws index out of bounds exception { row data row = this . get row ( a row ) ; if ( row . is new ( ) ) { return row data . new ; } else if ( row . is modified ( ) ) { return row data . modified ; } else { return row data . not _ modified ; } }", "new_code_tokens": ["public", "int", "get", "row", "status", "(", "int", "a", "row", ")", "throws", "index", "out", "of", "bounds", "exception", "{", "row", "data", "row", "=", "this", ".", "get", "row", "(", "a", "row", ")", ";", "if", "(", "row", ".", "is", "new", "(", ")", ")", "{", "return", "row", "data", ".", "new", ";", "}", "else", "if", "(", "row", ".", "is", "modified", "(", ")", ")", "{", "return", "row", "data", ".", "modified", ";", "}", "else", "{", "return", "row", "data", ".", "not", "_", "modified", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> int <REPLACE_END> <KEEP> get row status ( int a row ) throws index out of bounds exception { row data row = this . get row ( a row ) ; if ( row . is <KEEP_END> <DELETE> original ( ) ) { return row _ original ; } else if ( row . is <DELETE_END> <KEEP> new ( ) ) { return row <KEEP_END> <REPLACE_OLD> _ <REPLACE_NEW> data . <REPLACE_END> <KEEP> new ; } else if ( row . is modified ( ) ) { return row <KEEP_END> <REPLACE_OLD> _ <REPLACE_NEW> data . <REPLACE_END> <KEEP> modified ; } else { return row <KEEP_END> <INSERT> data . not <INSERT_END> <KEEP> _ <KEEP_END> <REPLACE_OLD> original <REPLACE_NEW> modified <REPLACE_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "row", "status", "(", "int", "a", "row", ")", "throws", "index", "out", "of", "bounds", "exception", "{", "row", "data", "row", "=", "this", ".", "get", "row", "(", "a", "row", ")", ";", "if", "(", "row", ".", "is", "<KEEP_END>", "<DELETE>", "original", "(", ")", ")", "{", "return", "row", "_", "original", ";", "}", "else", "if", "(", "row", ".", "is", "<DELETE_END>", "<KEEP>", "new", "(", ")", ")", "{", "return", "row", "<KEEP_END>", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "data", ".", "<REPLACE_END>", "<KEEP>", "new", ";", "}", "else", "if", "(", "row", ".", "is", "modified", "(", ")", ")", "{", "return", "row", "<KEEP_END>", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "data", ".", "<REPLACE_END>", "<KEEP>", "modified", ";", "}", "else", "{", "return", "row", "<KEEP_END>", "<INSERT>", "data", ".", "not", "<INSERT_END>", "<KEEP>", "_", "<KEEP_END>", "<REPLACE_OLD>", "original", "<REPLACE_NEW>", "modified", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> integer <REPLACE_NEW> int <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "a", "<KEEP>", "row", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "index", "<KEEP>", "out", "<KEEP>", "of", "<KEEP>", "bounds", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "row", "<KEEP>", "data", "<KEEP>", "row", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "(", "<KEEP>", "a", "<KEEP>", "row", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "row", "<KEEP>", ".", "<KEEP>", "is", "<DELETE>", "original", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "row", "<DELETE>", "_", "<DELETE>", "original", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "row", "<DELETE>", ".", "<DELETE>", "is", "<KEEP>", "new", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "row", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<KEEP>", "new", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "row", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "modified", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "row", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<KEEP>", "modified", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "row", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "not", "<KEEP>", "_", "<REPLACE_OLD>", "original", "<REPLACE_NEW>", "modified", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_rave-0-6759", "old_comment": "valid person", "old_comment_tokens": ["valid", "person"], "new_comment": "valid user", "new_comment_tokens": ["valid", "user"], "old_code": "public person get owner ( ) { return owner ; }", "old_code_tokens": ["public", "person", "get", "owner", "(", ")", "{", "return", "owner", ";", "}"], "new_code": "public user get owner ( ) { return owner ; }", "new_code_tokens": ["public", "user", "get", "owner", "(", ")", "{", "return", "owner", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> person <REPLACE_NEW> user <REPLACE_END> <KEEP> get owner ( ) { return owner ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "person", "<REPLACE_NEW>", "user", "<REPLACE_END>", "<KEEP>", "get", "owner", "(", ")", "{", "return", "owner", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> person <REPLACE_NEW> user <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "person", "<REPLACE_NEW>", "user", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "person", "<REPLACE_NEW>", "user", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "owner", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_android-emulator-plugin-10-3807", "old_comment": "the package id for the given apk , or null if it could not be determined .", "old_comment_tokens": ["the", "package", "id", "for", "the", "given", "apk", ",", "or", "null", "if", "it", "could", "not", "be", "determined", "."], "new_comment": "the package id for the given apk .", "new_comment_tokens": ["the", "package", "id", "for", "the", "given", "apk", "."], "old_code": "private static string get package id for apk ( abstract build < ? , ? > build , launcher launcher , print stream logger , android sdk android sdk , file path apk path ) throws ioexception , interrupted exception { byte array output stream aapt output = new byte array output stream ( ) ; string args = string . format ( str , apk path . get name ( ) ) ; utils . run android tool ( launcher , aapt output , logger , android sdk , tool . aapt , args , apk path . get parent ( ) ) ; string package id = null ; string aapt result = aapt output . to string ( ) ; if ( aapt result . length ( ) > num ) { matcher matcher = pattern . compile ( str ) . matcher ( aapt result ) ; if ( matcher . find ( ) ) { package id = matcher . group ( num ) ; } } return package id ; }", "old_code_tokens": ["private", "static", "string", "get", "package", "id", "for", "apk", "(", "abstract", "build", "<", "?", ",", "?", ">", "build", ",", "launcher", "launcher", ",", "print", "stream", "logger", ",", "android", "sdk", "android", "sdk", ",", "file", "path", "apk", "path", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "byte", "array", "output", "stream", "aapt", "output", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "string", "args", "=", "string", ".", "format", "(", "str", ",", "apk", "path", ".", "get", "name", "(", ")", ")", ";", "utils", ".", "run", "android", "tool", "(", "launcher", ",", "aapt", "output", ",", "logger", ",", "android", "sdk", ",", "tool", ".", "aapt", ",", "args", ",", "apk", "path", ".", "get", "parent", "(", ")", ")", ";", "string", "package", "id", "=", "null", ";", "string", "aapt", "result", "=", "aapt", "output", ".", "to", "string", "(", ")", ";", "if", "(", "aapt", "result", ".", "length", "(", ")", ">", "num", ")", "{", "matcher", "matcher", "=", "pattern", ".", "compile", "(", "str", ")", ".", "matcher", "(", "aapt", "result", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "package", "id", "=", "matcher", ".", "group", "(", "num", ")", ";", "}", "}", "return", "package", "id", ";", "}"], "new_code": "private static string get package id for apk ( file path apk path ) throws ioexception , interrupted exception { return apk path . act ( new file path . file callable < string > ( ) { public string invoke ( file f , virtual channel channel ) throws ioexception , interrupted exception { return get apk metadata ( f ) . get package name ( ) ; } } ) ; }", "new_code_tokens": ["private", "static", "string", "get", "package", "id", "for", "apk", "(", "file", "path", "apk", "path", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "apk", "path", ".", "act", "(", "new", "file", "path", ".", "file", "callable", "<", "string", ">", "(", ")", "{", "public", "string", "invoke", "(", "file", "f", ",", "virtual", "channel", "channel", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "get", "apk", "metadata", "(", "f", ")", ".", "get", "package", "name", "(", ")", ";", "}", "}", ")", ";", "}"], "span_diff_code": "<KEEP> private static string get package id for apk ( <KEEP_END> <DELETE> abstract build < ? , ? > build , launcher launcher , print stream logger , android sdk android sdk , <DELETE_END> <KEEP> file path apk path ) throws ioexception , interrupted exception { <KEEP_END> <REPLACE_OLD> byte array output stream aapt output = new byte array output stream ( ) ; string args = string . format ( str , <REPLACE_NEW> return <REPLACE_END> <KEEP> apk path . <KEEP_END> <INSERT> act ( new file path . file callable < string > ( ) { public string invoke ( file f , virtual channel channel ) throws ioexception , interrupted exception { return <INSERT_END> <KEEP> get <KEEP_END> <INSERT> apk metadata ( f ) . get package <INSERT_END> <KEEP> name ( <KEEP_END> <DELETE> ) ) ; utils . run android tool ( launcher , aapt output , logger , android sdk , tool . aapt , args , apk path . get parent ( ) ) ; string package id = null ; string aapt result = aapt output . to string ( ) ; if ( aapt result . length ( ) > num ) { matcher matcher = pattern . compile ( str ) . matcher ( aapt result ) ; if ( matcher . find ( ) ) { package id = matcher . group ( num <DELETE_END> <KEEP> ) ; } } <KEEP_END> <REPLACE_OLD> return package id <REPLACE_NEW> ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "string", "get", "package", "id", "for", "apk", "(", "<KEEP_END>", "<DELETE>", "abstract", "build", "<", "?", ",", "?", ">", "build", ",", "launcher", "launcher", ",", "print", "stream", "logger", ",", "android", "sdk", "android", "sdk", ",", "<DELETE_END>", "<KEEP>", "file", "path", "apk", "path", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "byte", "array", "output", "stream", "aapt", "output", "=", "new", "byte", "array", "output", "stream", "(", ")", ";", "string", "args", "=", "string", ".", "format", "(", "str", ",", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "apk", "path", ".", "<KEEP_END>", "<INSERT>", "act", "(", "new", "file", "path", ".", "file", "callable", "<", "string", ">", "(", ")", "{", "public", "string", "invoke", "(", "file", "f", ",", "virtual", "channel", "channel", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "<INSERT_END>", "<KEEP>", "get", "<KEEP_END>", "<INSERT>", "apk", "metadata", "(", "f", ")", ".", "get", "package", "<INSERT_END>", "<KEEP>", "name", "(", "<KEEP_END>", "<DELETE>", ")", ")", ";", "utils", ".", "run", "android", "tool", "(", "launcher", ",", "aapt", "output", ",", "logger", ",", "android", "sdk", ",", "tool", ".", "aapt", ",", "args", ",", "apk", "path", ".", "get", "parent", "(", ")", ")", ";", "string", "package", "id", "=", "null", ";", "string", "aapt", "result", "=", "aapt", "output", ".", "to", "string", "(", ")", ";", "if", "(", "aapt", "result", ".", "length", "(", ")", ">", "num", ")", "{", "matcher", "matcher", "=", "pattern", ".", "compile", "(", "str", ")", ".", "matcher", "(", "aapt", "result", ")", ";", "if", "(", "matcher", ".", "find", "(", ")", ")", "{", "package", "id", "=", "matcher", ".", "group", "(", "num", "<DELETE_END>", "<KEEP>", ")", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "return", "package", "id", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> , or null if it could not be determined <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", ",", "or", "null", "if", "it", "could", "not", "be", "determined", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "package", "<KEEP>", "id", "<KEEP>", "for", "<KEEP>", "apk", "<KEEP>", "(", "<DELETE>", "abstract", "<DELETE>", "build", "<DELETE>", "<", "<DELETE>", "?", "<DELETE>", ",", "<DELETE>", "?", "<DELETE>", ">", "<DELETE>", "build", "<DELETE>", ",", "<DELETE>", "launcher", "<DELETE>", "launcher", "<DELETE>", ",", "<DELETE>", "print", "<DELETE>", "stream", "<DELETE>", "logger", "<DELETE>", ",", "<DELETE>", "android", "<DELETE>", "sdk", "<DELETE>", "android", "<DELETE>", "sdk", "<DELETE>", ",", "<KEEP>", "file", "<KEEP>", "path", "<KEEP>", "apk", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", "aapt", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "byte", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "output", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "args", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "format", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "return", "<KEEP>", "apk", "<KEEP>", "path", "<KEEP>", ".", "<INSERT>", "act", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "file", "<INSERT>", "path", "<INSERT>", ".", "<INSERT>", "file", "<INSERT>", "callable", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "public", "<INSERT>", "string", "<INSERT>", "invoke", "<INSERT>", "(", "<INSERT>", "file", "<INSERT>", "f", "<INSERT>", ",", "<INSERT>", "virtual", "<INSERT>", "channel", "<INSERT>", "channel", "<INSERT>", ")", "<INSERT>", "throws", "<INSERT>", "ioexception", "<INSERT>", ",", "<INSERT>", "interrupted", "<INSERT>", "exception", "<INSERT>", "{", "<INSERT>", "return", "<KEEP>", "get", "<INSERT>", "apk", "<INSERT>", "metadata", "<INSERT>", "(", "<INSERT>", "f", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "package", "<KEEP>", "name", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "utils", "<DELETE>", ".", "<DELETE>", "run", "<DELETE>", "android", "<DELETE>", "tool", "<DELETE>", "(", "<DELETE>", "launcher", "<DELETE>", ",", "<DELETE>", "aapt", "<DELETE>", "output", "<DELETE>", ",", "<DELETE>", "logger", "<DELETE>", ",", "<DELETE>", "android", "<DELETE>", "sdk", "<DELETE>", ",", "<DELETE>", "tool", "<DELETE>", ".", "<DELETE>", "aapt", "<DELETE>", ",", "<DELETE>", "args", "<DELETE>", ",", "<DELETE>", "apk", "<DELETE>", "path", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parent", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "package", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "aapt", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "aapt", "<DELETE>", "output", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "aapt", "<DELETE>", "result", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "matcher", "<DELETE>", "matcher", "<DELETE>", "=", "<DELETE>", "pattern", "<DELETE>", ".", "<DELETE>", "compile", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "matcher", "<DELETE>", "(", "<DELETE>", "aapt", "<DELETE>", "result", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "matcher", "<DELETE>", ".", "<DELETE>", "find", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "package", "<DELETE>", "id", "<DELETE>", "=", "<DELETE>", "matcher", "<DELETE>", ".", "<DELETE>", "group", "<DELETE>", "(", "<DELETE>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "package", "<REPLACE_OLD>", "id", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jvanzyl_platypus-3-5561", "old_comment": "a valid url , if all went well ; else null ;", "old_comment_tokens": ["a", "valid", "url", ",", "if", "all", "went", "well", ";", "else", "null", ";"], "new_comment": "a valid url , if all went well .", "new_comment_tokens": ["a", "valid", "url", ",", "if", "all", "went", "well", "."], "old_code": "@ visible for testing protected url create plugin url ( ) { url url for plugin = null ; try { url for plugin = new url ( str + location ) ; gdd . diag ( gdd . get lit ( str ) + str + url for plugin . to string ( ) ) ; } catch ( malformed urlexception e ) { gdd . log . severe ( gdd . get lit ( str ) + str + location + str + e ) ; throw new stop execution exception ( null ) ; } return ( url for plugin ) ; }", "old_code_tokens": ["@", "visible", "for", "testing", "protected", "url", "create", "plugin", "url", "(", ")", "{", "url", "url", "for", "plugin", "=", "null", ";", "try", "{", "url", "for", "plugin", "=", "new", "url", "(", "str", "+", "location", ")", ";", "gdd", ".", "diag", "(", "gdd", ".", "get", "lit", "(", "str", ")", "+", "str", "+", "url", "for", "plugin", ".", "to", "string", "(", ")", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "gdd", ".", "log", ".", "severe", "(", "gdd", ".", "get", "lit", "(", "str", ")", "+", "str", "+", "location", "+", "str", "+", "e", ")", ";", "throw", "new", "stop", "execution", "exception", "(", "null", ")", ";", "}", "return", "(", "url", "for", "plugin", ")", ";", "}"], "new_code": "@ visible for testing protected url create plugin url ( ) { try { url url for plugin = new url ( str + location ) ; gdd . diag ( gdd . get lit ( str ) + str + url for plugin . to string ( ) ) ; return ( url for plugin ) ; } catch ( malformed urlexception e ) { gdd . log . severe ( gdd . get lit ( str ) + str + location + str + e ) ; throw new stop execution exception ( null ) ; } }", "new_code_tokens": ["@", "visible", "for", "testing", "protected", "url", "create", "plugin", "url", "(", ")", "{", "try", "{", "url", "url", "for", "plugin", "=", "new", "url", "(", "str", "+", "location", ")", ";", "gdd", ".", "diag", "(", "gdd", ".", "get", "lit", "(", "str", ")", "+", "str", "+", "url", "for", "plugin", ".", "to", "string", "(", ")", ")", ";", "return", "(", "url", "for", "plugin", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "gdd", ".", "log", ".", "severe", "(", "gdd", ".", "get", "lit", "(", "str", ")", "+", "str", "+", "location", "+", "str", "+", "e", ")", ";", "throw", "new", "stop", "execution", "exception", "(", "null", ")", ";", "}", "}"], "span_diff_code": "<KEEP> @ visible for testing protected url create plugin url ( ) { <KEEP_END> <DELETE> url url for plugin = null ; <DELETE_END> <KEEP> try { <KEEP_END> <INSERT> url <INSERT_END> <KEEP> url for plugin = new url ( str + location ) ; gdd . diag ( gdd . get lit ( str ) + str + url for plugin . to string ( ) <KEEP_END> <INSERT> ) ; return ( url for plugin <INSERT_END> <KEEP> ) ; } catch ( malformed urlexception e ) { gdd . log . severe ( gdd . get lit ( str ) + str + location + str + e ) ; throw new stop execution exception ( null ) ; } <KEEP_END> <DELETE> return ( url for plugin ) ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "visible", "for", "testing", "protected", "url", "create", "plugin", "url", "(", ")", "{", "<KEEP_END>", "<DELETE>", "url", "url", "for", "plugin", "=", "null", ";", "<DELETE_END>", "<KEEP>", "try", "{", "<KEEP_END>", "<INSERT>", "url", "<INSERT_END>", "<KEEP>", "url", "for", "plugin", "=", "new", "url", "(", "str", "+", "location", ")", ";", "gdd", ".", "diag", "(", "gdd", ".", "get", "lit", "(", "str", ")", "+", "str", "+", "url", "for", "plugin", ".", "to", "string", "(", ")", "<KEEP_END>", "<INSERT>", ")", ";", "return", "(", "url", "for", "plugin", "<INSERT_END>", "<KEEP>", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "gdd", ".", "log", ".", "severe", "(", "gdd", ".", "get", "lit", "(", "str", ")", "+", "str", "+", "location", "+", "str", "+", "e", ")", ";", "throw", "new", "stop", "execution", "exception", "(", "null", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "(", "url", "for", "plugin", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> ; else null ; <REPLACE_NEW> . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ";", "else", "null", ";", "<REPLACE_NEW>", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "visible", "<KEEP>", "for", "<KEEP>", "testing", "<KEEP>", "protected", "<KEEP>", "url", "<KEEP>", "create", "<KEEP>", "plugin", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "url", "<DELETE>", "url", "<DELETE>", "for", "<DELETE>", "plugin", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "try", "<KEEP>", "{", "<INSERT>", "url", "<KEEP>", "url", "<KEEP>", "for", "<KEEP>", "plugin", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "location", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "gdd", "<KEEP>", ".", "<KEEP>", "diag", "<KEEP>", "(", "<KEEP>", "gdd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "lit", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "url", "<KEEP>", "for", "<KEEP>", "plugin", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "(", "<INSERT>", "url", "<INSERT>", "for", "<INSERT>", "plugin", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "malformed", "<KEEP>", "urlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "gdd", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "severe", "<KEEP>", "(", "<KEEP>", "gdd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "lit", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "location", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "stop", "<KEEP>", "execution", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "(", "<DELETE>", "url", "<DELETE>", "for", "<DELETE>", "plugin", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_jdk8u_jaxp-31-6326", "old_comment": "an enumeration of all child nodes of this node .", "old_comment_tokens": ["an", "enumeration", "of", "all", "child", "nodes", "of", "this", "node", "."], "new_comment": "an iterator of all child nodes of this node .", "new_comment_tokens": ["an", "iterator", "of", "all", "child", "nodes", "of", "this", "node", "."], "old_code": "protected final enumeration elements ( ) { return _ contents . elements ( ) ; }", "old_code_tokens": ["protected", "final", "enumeration", "elements", "(", ")", "{", "return", "_", "contents", ".", "elements", "(", ")", ";", "}"], "new_code": "protected final iterator < syntax tree node > elements ( ) { return _ contents . iterator ( ) ; }", "new_code_tokens": ["protected", "final", "iterator", "<", "syntax", "tree", "node", ">", "elements", "(", ")", "{", "return", "_", "contents", ".", "iterator", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected final <KEEP_END> <REPLACE_OLD> enumeration <REPLACE_NEW> iterator < syntax tree node > <REPLACE_END> <KEEP> elements ( ) { return _ contents . <KEEP_END> <REPLACE_OLD> elements <REPLACE_NEW> iterator <REPLACE_END> <KEEP> ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "final", "<KEEP_END>", "<REPLACE_OLD>", "enumeration", "<REPLACE_NEW>", "iterator", "<", "syntax", "tree", "node", ">", "<REPLACE_END>", "<KEEP>", "elements", "(", ")", "{", "return", "_", "contents", ".", "<KEEP_END>", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "iterator", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> enumeration <REPLACE_NEW> iterator <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "enumeration", "<REPLACE_NEW>", "iterator", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "final", "<REPLACE_OLD>", "enumeration", "<REPLACE_NEW>", "iterator", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "syntax", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", ">", "<KEEP>", "elements", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "contents", "<KEEP>", ".", "<REPLACE_OLD>", "elements", "<REPLACE_NEW>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-106-5392", "old_comment": "true if it is successful .", "old_comment_tokens": ["true", "if", "it", "is", "successful", "."], "new_comment": "status . ok _ status if it is successful .", "new_comment_tokens": ["status", ".", "ok", "_", "status", "if", "it", "is", "successful", "."], "old_code": "public boolean doit ( ) { return false ; }", "old_code_tokens": ["public", "boolean", "doit", "(", ")", "{", "return", "false", ";", "}"], "new_code": "public istatus doit ( ) { return status . ok _ status ; }", "new_code_tokens": ["public", "istatus", "doit", "(", ")", "{", "return", "status", ".", "ok", "_", "status", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> istatus <REPLACE_END> <KEEP> doit ( ) { return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> status . ok _ status <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "istatus", "<REPLACE_END>", "<KEEP>", "doit", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "status", ".", "ok", "_", "status", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true <REPLACE_NEW> status . ok _ status <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "<REPLACE_NEW>", "status", ".", "ok", "_", "status", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "istatus", "<KEEP>", "doit", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ok", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "status", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "amikey_ormlite-core-53-4443", "old_comment": "set method or null if none found .", "old_comment_tokens": ["set", "method", "or", "null", "if", "none", "found", "."], "new_comment": "set method or null ( or throws illegal argument exception ) if none found .", "new_comment_tokens": ["set", "method", "or", "null", "(", "or", "throws", "illegal", "argument", "exception", ")", "if", "none", "found", "."], "old_code": "public static method find set method ( field field , boolean throw exceptions ) { string method name = method from field ( field , str ) ; method field set method ; try { field set method = field . get declaring class ( ) . get method ( method name , field . get type ( ) ) ; } catch ( exception e ) { if ( throw exceptions ) { throw new illegal argument exception ( str + field ) ; } else { return null ; } } if ( field set method . get return type ( ) ! = void . class ) { if ( throw exceptions ) { throw new illegal argument exception ( str + method name + str + field set method . get return type ( ) + str ) ; } else { return null ; } } return field set method ; }", "old_code_tokens": ["public", "static", "method", "find", "set", "method", "(", "field", "field", ",", "boolean", "throw", "exceptions", ")", "{", "string", "method", "name", "=", "method", "from", "field", "(", "field", ",", "str", ")", ";", "method", "field", "set", "method", ";", "try", "{", "field", "set", "method", "=", "field", ".", "get", "declaring", "class", "(", ")", ".", "get", "method", "(", "method", "name", ",", "field", ".", "get", "type", "(", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "field", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "if", "(", "field", "set", "method", ".", "get", "return", "type", "(", ")", "!", "=", "void", ".", "class", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "method", "name", "+", "str", "+", "field", "set", "method", ".", "get", "return", "type", "(", ")", "+", "str", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "field", "set", "method", ";", "}"], "new_code": "public static method find set method ( field field , boolean throw exceptions ) throws illegal argument exception { method field set method ; if ( locale . english . equals ( locale . get default ( ) ) ) { field set method = find method from names ( field , false , throw exceptions , method from field ( field , str , null ) ) ; } else { field set method = find method from names ( field , false , throw exceptions , method from field ( field , str , null ) , method from field ( field , str , locale . english ) ) ; } if ( field set method = = null ) { return null ; } if ( field set method . get return type ( ) ! = void . class ) { if ( throw exceptions ) { throw new illegal argument exception ( str + field set method . get name ( ) + str + field set method . get return type ( ) + str ) ; } else { return null ; } } return field set method ; }", "new_code_tokens": ["public", "static", "method", "find", "set", "method", "(", "field", "field", ",", "boolean", "throw", "exceptions", ")", "throws", "illegal", "argument", "exception", "{", "method", "field", "set", "method", ";", "if", "(", "locale", ".", "english", ".", "equals", "(", "locale", ".", "get", "default", "(", ")", ")", ")", "{", "field", "set", "method", "=", "find", "method", "from", "names", "(", "field", ",", "false", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ")", ";", "}", "else", "{", "field", "set", "method", "=", "find", "method", "from", "names", "(", "field", ",", "false", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "locale", ".", "english", ")", ")", ";", "}", "if", "(", "field", "set", "method", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "field", "set", "method", ".", "get", "return", "type", "(", ")", "!", "=", "void", ".", "class", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "field", "set", "method", ".", "get", "name", "(", ")", "+", "str", "+", "field", "set", "method", ".", "get", "return", "type", "(", ")", "+", "str", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "field", "set", "method", ";", "}"], "span_diff_code": "<KEEP> public static method find set method ( field field , boolean throw exceptions ) <KEEP_END> <INSERT> throws illegal argument exception <INSERT_END> <KEEP> { <KEEP_END> <DELETE> string <DELETE_END> <KEEP> method <KEEP_END> <REPLACE_OLD> name <REPLACE_NEW> field set method ; if ( locale . english . equals ( locale . get default ( ) ) ) { field set method <REPLACE_END> <KEEP> = <KEEP_END> <INSERT> find method from names ( field , false , throw exceptions , <INSERT_END> <KEEP> method from field ( field , str <KEEP_END> <INSERT> , null ) <INSERT_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> method field set method ; try <REPLACE_NEW> } else <REPLACE_END> <KEEP> { field set method = <KEEP_END> <INSERT> find method from names ( <INSERT_END> <KEEP> field <KEEP_END> <INSERT> , false , throw exceptions , method from field ( field , str , null ) , method from field ( field , str , locale <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get declaring class ( ) . get method ( method name , field . get type ( <REPLACE_NEW> english <REPLACE_END> <KEEP> ) ) ; } <KEEP_END> <DELETE> catch ( exception e ) { <DELETE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> throw exceptions <REPLACE_NEW> field set method = = null <REPLACE_END> <KEEP> ) <KEEP_END> <DELETE> { throw new illegal argument exception ( str + field ) ; } else <DELETE_END> <KEEP> { return null ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> } if ( field set method . get return type ( ) ! = void . class ) { if ( throw exceptions ) { throw new illegal argument exception ( str + <KEEP_END> <INSERT> field set <INSERT_END> <KEEP> method <KEEP_END> <INSERT> . get <INSERT_END> <KEEP> name <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> + str + field set method . get return type ( ) + str ) ; } else { return null ; } } return field set method ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "method", "find", "set", "method", "(", "field", "field", ",", "boolean", "throw", "exceptions", ")", "<KEEP_END>", "<INSERT>", "throws", "illegal", "argument", "exception", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<DELETE>", "string", "<DELETE_END>", "<KEEP>", "method", "<KEEP_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "field", "set", "method", ";", "if", "(", "locale", ".", "english", ".", "equals", "(", "locale", ".", "get", "default", "(", ")", ")", ")", "{", "field", "set", "method", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "find", "method", "from", "names", "(", "field", ",", "false", ",", "throw", "exceptions", ",", "<INSERT_END>", "<KEEP>", "method", "from", "field", "(", "field", ",", "str", "<KEEP_END>", "<INSERT>", ",", "null", ")", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "method", "field", "set", "method", ";", "try", "<REPLACE_NEW>", "}", "else", "<REPLACE_END>", "<KEEP>", "{", "field", "set", "method", "=", "<KEEP_END>", "<INSERT>", "find", "method", "from", "names", "(", "<INSERT_END>", "<KEEP>", "field", "<KEEP_END>", "<INSERT>", ",", "false", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "locale", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "declaring", "class", "(", ")", ".", "get", "method", "(", "method", "name", ",", "field", ".", "get", "type", "(", "<REPLACE_NEW>", "english", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "exception", "e", ")", "{", "<DELETE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "throw", "exceptions", "<REPLACE_NEW>", "field", "set", "method", "=", "=", "null", "<REPLACE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "field", ")", ";", "}", "else", "<DELETE_END>", "<KEEP>", "{", "return", "null", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "}", "if", "(", "field", "set", "method", ".", "get", "return", "type", "(", ")", "!", "=", "void", ".", "class", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "<KEEP_END>", "<INSERT>", "field", "set", "<INSERT_END>", "<KEEP>", "method", "<KEEP_END>", "<INSERT>", ".", "get", "<INSERT_END>", "<KEEP>", "name", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", "+", "str", "+", "field", "set", "method", ".", "get", "return", "type", "(", ")", "+", "str", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "field", "set", "method", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> null <INSERT_NEW_KEEP_BEFORE> null ( or throws illegal argument exception ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "null", "<INSERT_NEW_KEEP_BEFORE>", "null", "(", "or", "throws", "illegal", "argument", "exception", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "method", "<KEEP>", "find", "<KEEP>", "set", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "field", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "throw", "<KEEP>", "exceptions", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "illegal", "<INSERT>", "argument", "<INSERT>", "exception", "<KEEP>", "{", "<DELETE>", "string", "<KEEP>", "method", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "locale", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "english", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "locale", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "method", "<KEEP>", "=", "<INSERT>", "find", "<INSERT>", "method", "<INSERT>", "from", "<INSERT>", "names", "<INSERT>", "(", "<INSERT>", "field", "<INSERT>", ",", "<INSERT>", "false", "<INSERT>", ",", "<INSERT>", "throw", "<INSERT>", "exceptions", "<INSERT>", ",", "<KEEP>", "method", "<KEEP>", "from", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", ",", "<KEEP>", "str", "<INSERT>", ",", "<INSERT>", "null", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<KEEP>", "{", "<KEEP>", "field", "<KEEP>", "set", "<KEEP>", "method", "<KEEP>", "=", "<INSERT>", "find", "<INSERT>", "method", "<INSERT>", "from", "<INSERT>", "names", "<INSERT>", "(", "<KEEP>", "field", "<INSERT>", ",", "<INSERT>", "false", "<INSERT>", ",", "<INSERT>", "throw", "<INSERT>", "exceptions", "<INSERT>", ",", "<INSERT>", "method", "<INSERT>", "from", "<INSERT>", "field", "<INSERT>", "(", "<INSERT>", "field", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "method", "<INSERT>", "from", "<INSERT>", "field", "<INSERT>", "(", "<INSERT>", "field", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "locale", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "declaring", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "english", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "exceptions", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "illegal", "<DELETE>", "argument", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "field", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "set", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "void", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "throw", "<KEEP>", "exceptions", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<INSERT>", "field", "<INSERT>", "set", "<KEEP>", "method", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "name", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "field", "<KEEP>", "set", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "field", "<KEEP>", "set", "<KEEP>", "method", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-133-4102", "old_comment": "a set of class names and class member signatures found in the method .", "old_comment_tokens": ["a", "set", "of", "class", "names", "and", "class", "member", "signatures", "found", "in", "the", "method", "."], "new_comment": "a set of class names and class member signatures found in the method , as well as all invoke sites .", "new_comment_tokens": ["a", "set", "of", "class", "names", "and", "class", "member", "signatures", "found", "in", "the", "method", ",", "as", "well", "as", "all", "invoke", "sites", "."], "old_code": "public static set < string > find referenced members ( method info method info ) { set < string > members = new hash set < string > ( ) ; class member visitor visitor = new class member visitor ( members ) ; set < integer > ids = find pool references ( method info ) ; visitor . visit method ( method info ) ; visit pool references ( method info . get class info ( ) , visitor , ids ) ; return members ; }", "old_code_tokens": ["public", "static", "set", "<", "string", ">", "find", "referenced", "members", "(", "method", "info", "method", "info", ")", "{", "set", "<", "string", ">", "members", "=", "new", "hash", "set", "<", "string", ">", "(", ")", ";", "class", "member", "visitor", "visitor", "=", "new", "class", "member", "visitor", "(", "members", ")", ";", "set", "<", "integer", ">", "ids", "=", "find", "pool", "references", "(", "method", "info", ")", ";", "visitor", ".", "visit", "method", "(", "method", "info", ")", ";", "visit", "pool", "references", "(", "method", "info", ".", "get", "class", "info", "(", ")", ",", "visitor", ",", "ids", ")", ";", "return", "members", ";", "}"], "new_code": "public static reference result find referenced members ( method info method info ) { set < string > members = new hash set < string > ( ) ; class member visitor visitor = new class member visitor ( members ) ; id finder visitor finder = find pool references ( method info , method info . compile ( ) , true ) ; visitor . visit method ( method info ) ; visit pool references ( method info . get class info ( ) , visitor , finder . get ids ( ) ) ; return new reference result ( members , finder . get invoke sites ( ) ) ; }", "new_code_tokens": ["public", "static", "reference", "result", "find", "referenced", "members", "(", "method", "info", "method", "info", ")", "{", "set", "<", "string", ">", "members", "=", "new", "hash", "set", "<", "string", ">", "(", ")", ";", "class", "member", "visitor", "visitor", "=", "new", "class", "member", "visitor", "(", "members", ")", ";", "id", "finder", "visitor", "finder", "=", "find", "pool", "references", "(", "method", "info", ",", "method", "info", ".", "compile", "(", ")", ",", "true", ")", ";", "visitor", ".", "visit", "method", "(", "method", "info", ")", ";", "visit", "pool", "references", "(", "method", "info", ".", "get", "class", "info", "(", ")", ",", "visitor", ",", "finder", ".", "get", "ids", "(", ")", ")", ";", "return", "new", "reference", "result", "(", "members", ",", "finder", ".", "get", "invoke", "sites", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set < string > <REPLACE_NEW> reference result <REPLACE_END> <KEEP> find referenced members ( method info method info ) { set < string > members = new hash set < string > ( ) ; class member visitor visitor = new class member visitor ( members ) ; <KEEP_END> <REPLACE_OLD> set < integer > ids <REPLACE_NEW> id finder visitor finder <REPLACE_END> <KEEP> = find pool references ( method info <KEEP_END> <INSERT> , method info . compile ( ) , true <INSERT_END> <KEEP> ) ; visitor . visit method ( method info ) ; visit pool references ( method info . get class info ( ) , visitor , <KEEP_END> <INSERT> finder . get <INSERT_END> <KEEP> ids <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) ; return <KEEP_END> <INSERT> new reference result ( <INSERT_END> <KEEP> members <KEEP_END> <INSERT> , finder . get invoke sites ( ) ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<", "string", ">", "<REPLACE_NEW>", "reference", "result", "<REPLACE_END>", "<KEEP>", "find", "referenced", "members", "(", "method", "info", "method", "info", ")", "{", "set", "<", "string", ">", "members", "=", "new", "hash", "set", "<", "string", ">", "(", ")", ";", "class", "member", "visitor", "visitor", "=", "new", "class", "member", "visitor", "(", "members", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "set", "<", "integer", ">", "ids", "<REPLACE_NEW>", "id", "finder", "visitor", "finder", "<REPLACE_END>", "<KEEP>", "=", "find", "pool", "references", "(", "method", "info", "<KEEP_END>", "<INSERT>", ",", "method", "info", ".", "compile", "(", ")", ",", "true", "<INSERT_END>", "<KEEP>", ")", ";", "visitor", ".", "visit", "method", "(", "method", "info", ")", ";", "visit", "pool", "references", "(", "method", "info", ".", "get", "class", "info", "(", ")", ",", "visitor", ",", "<KEEP_END>", "<INSERT>", "finder", ".", "get", "<INSERT_END>", "<KEEP>", "ids", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "return", "<KEEP_END>", "<INSERT>", "new", "reference", "result", "(", "<INSERT_END>", "<KEEP>", "members", "<KEEP_END>", "<INSERT>", ",", "finder", ".", "get", "invoke", "sites", "(", ")", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> method <INSERT_NEW_KEEP_BEFORE> method , as well as all invoke sites <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "method", "<INSERT_NEW_KEEP_BEFORE>", "method", ",", "as", "well", "as", "all", "invoke", "sites", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "reference", "<REPLACE_NEW>", "result", "<KEEP>", "find", "<KEEP>", "referenced", "<KEEP>", "members", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "info", "<KEEP>", "method", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "members", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "class", "<KEEP>", "member", "<KEEP>", "visitor", "<KEEP>", "visitor", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "class", "<KEEP>", "member", "<KEEP>", "visitor", "<KEEP>", "(", "<KEEP>", "members", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "finder", "<REPLACE_NEW>", "visitor", "<REPLACE_NEW>", "finder", "<KEEP>", "=", "<KEEP>", "find", "<KEEP>", "pool", "<KEEP>", "references", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "info", "<INSERT>", ",", "<INSERT>", "method", "<INSERT>", "info", "<INSERT>", ".", "<INSERT>", "compile", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "visitor", "<KEEP>", ".", "<KEEP>", "visit", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "visit", "<KEEP>", "pool", "<KEEP>", "references", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "visitor", "<KEEP>", ",", "<INSERT>", "finder", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "ids", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "new", "<INSERT>", "reference", "<INSERT>", "result", "<INSERT>", "(", "<KEEP>", "members", "<INSERT>", ",", "<INSERT>", "finder", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "invoke", "<INSERT>", "sites", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_scriptler-plugin-4-7379", "old_comment": "the final name of the saved script", "old_comment_tokens": ["the", "final", "name", "of", "the", "saved", "script"], "new_comment": "the final name of the saved script - which is also the id of the script !", "new_comment_tokens": ["the", "final", "name", "of", "the", "saved", "script", "-", "which", "is", "also", "the", "id", "of", "the", "script", "!"], "old_code": "private string save script and forward ( string name , string comment , string script , boolean non administer using , string origin catalog name , string origin id , parameter [ ] parameters ) throws ioexception { if ( string utils . is empty ( script ) | | string utils . is empty ( name ) ) { throw new illegal argument exception ( str ) ; } final string final name = fix file name ( origin catalog name , name ) ; file new script file = new file ( get script directory ( ) , final name ) ; writer writer = new file writer ( new script file ) ; writer . write ( script ) ; writer . close ( ) ; script new script = null ; if ( ! string utils . is empty ( origin id ) ) { new script = new script ( final name , comment , true , origin catalog name , origin id , new simple date format ( str ) . format ( new date ( ) ) , parameters ) ; } else { new script = new script ( final name , comment , non administer using , parameters ) ; } scriptler configuration cfg = get configuration ( ) ; cfg . add or replace ( new script ) ; cfg . save ( ) ; return final name ; }", "old_code_tokens": ["private", "string", "save", "script", "and", "forward", "(", "string", "name", ",", "string", "comment", ",", "string", "script", ",", "boolean", "non", "administer", "using", ",", "string", "origin", "catalog", "name", ",", "string", "origin", "id", ",", "parameter", "[", "]", "parameters", ")", "throws", "ioexception", "{", "if", "(", "string", "utils", ".", "is", "empty", "(", "script", ")", "|", "|", "string", "utils", ".", "is", "empty", "(", "name", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "final", "string", "final", "name", "=", "fix", "file", "name", "(", "origin", "catalog", "name", ",", "name", ")", ";", "file", "new", "script", "file", "=", "new", "file", "(", "get", "script", "directory", "(", ")", ",", "final", "name", ")", ";", "writer", "writer", "=", "new", "file", "writer", "(", "new", "script", "file", ")", ";", "writer", ".", "write", "(", "script", ")", ";", "writer", ".", "close", "(", ")", ";", "script", "new", "script", "=", "null", ";", "if", "(", "!", "string", "utils", ".", "is", "empty", "(", "origin", "id", ")", ")", "{", "new", "script", "=", "new", "script", "(", "final", "name", ",", "comment", ",", "true", ",", "origin", "catalog", "name", ",", "origin", "id", ",", "new", "simple", "date", "format", "(", "str", ")", ".", "format", "(", "new", "date", "(", ")", ")", ",", "parameters", ")", ";", "}", "else", "{", "new", "script", "=", "new", "script", "(", "final", "name", ",", "comment", ",", "non", "administer", "using", ",", "parameters", ")", ";", "}", "scriptler", "configuration", "cfg", "=", "get", "configuration", "(", ")", ";", "cfg", ".", "add", "or", "replace", "(", "new", "script", ")", ";", "cfg", ".", "save", "(", ")", ";", "return", "final", "name", ";", "}"], "new_code": "private string save script and forward ( string id , string name , string comment , string script , boolean non administer using , string origin catalog name , string origin id , parameter [ ] parameters ) throws ioexception { script = script = = null ? str : script ; if ( string utils . is empty ( id ) ) { throw new illegal argument exception ( str ) ; } final string display name = name = = null ? id : name ; final string final file name = fix file name ( origin catalog name , id ) ; file new script file = new file ( get script directory ( ) , final file name ) ; writer writer = new file writer ( new script file ) ; writer . write ( script ) ; writer . close ( ) ; script new script = null ; if ( ! string utils . is empty ( origin id ) ) { new script = new script ( final file name , display name , comment , true , origin catalog name , origin id , new simple date format ( str ) . format ( new date ( ) ) , parameters ) ; } else { new script = new script ( final file name , display name , comment , non administer using , parameters ) ; } scriptler configuration cfg = get configuration ( ) ; cfg . add or replace ( new script ) ; cfg . save ( ) ; return final file name ; }", "new_code_tokens": ["private", "string", "save", "script", "and", "forward", "(", "string", "id", ",", "string", "name", ",", "string", "comment", ",", "string", "script", ",", "boolean", "non", "administer", "using", ",", "string", "origin", "catalog", "name", ",", "string", "origin", "id", ",", "parameter", "[", "]", "parameters", ")", "throws", "ioexception", "{", "script", "=", "script", "=", "=", "null", "?", "str", ":", "script", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "id", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "final", "string", "display", "name", "=", "name", "=", "=", "null", "?", "id", ":", "name", ";", "final", "string", "final", "file", "name", "=", "fix", "file", "name", "(", "origin", "catalog", "name", ",", "id", ")", ";", "file", "new", "script", "file", "=", "new", "file", "(", "get", "script", "directory", "(", ")", ",", "final", "file", "name", ")", ";", "writer", "writer", "=", "new", "file", "writer", "(", "new", "script", "file", ")", ";", "writer", ".", "write", "(", "script", ")", ";", "writer", ".", "close", "(", ")", ";", "script", "new", "script", "=", "null", ";", "if", "(", "!", "string", "utils", ".", "is", "empty", "(", "origin", "id", ")", ")", "{", "new", "script", "=", "new", "script", "(", "final", "file", "name", ",", "display", "name", ",", "comment", ",", "true", ",", "origin", "catalog", "name", ",", "origin", "id", ",", "new", "simple", "date", "format", "(", "str", ")", ".", "format", "(", "new", "date", "(", ")", ")", ",", "parameters", ")", ";", "}", "else", "{", "new", "script", "=", "new", "script", "(", "final", "file", "name", ",", "display", "name", ",", "comment", ",", "non", "administer", "using", ",", "parameters", ")", ";", "}", "scriptler", "configuration", "cfg", "=", "get", "configuration", "(", ")", ";", "cfg", ".", "add", "or", "replace", "(", "new", "script", ")", ";", "cfg", ".", "save", "(", ")", ";", "return", "final", "file", "name", ";", "}"], "span_diff_code": "<KEEP> private string save script and forward ( <KEEP_END> <INSERT> string id , <INSERT_END> <KEEP> string name , string comment , string script , boolean non administer using , string origin catalog name , string origin id , parameter [ ] parameters ) throws ioexception { <KEEP_END> <INSERT> script = script = = null ? str : script ; <INSERT_END> <KEEP> if ( string utils . is empty ( <KEEP_END> <REPLACE_OLD> script ) | | string utils . is empty ( name <REPLACE_NEW> id <REPLACE_END> <KEEP> ) ) { throw new illegal argument exception ( str ) ; } final string <KEEP_END> <REPLACE_OLD> final <REPLACE_NEW> display name = name = = null ? id : name ; final string final file <REPLACE_END> <KEEP> name = fix file name ( origin catalog name , <KEEP_END> <REPLACE_OLD> name <REPLACE_NEW> id <REPLACE_END> <KEEP> ) ; file new script file = new file ( get script directory ( ) , final <KEEP_END> <INSERT> file <INSERT_END> <KEEP> name ) ; writer writer = new file writer ( new script file ) ; writer . write ( script ) ; writer . close ( ) ; script new script = null ; if ( ! string utils . is empty ( origin id ) ) { new script = new script ( final <KEEP_END> <INSERT> file name , display <INSERT_END> <KEEP> name , comment , true , origin catalog name , origin id , new simple date format ( str ) . format ( new date ( ) ) , parameters ) ; } else { new script = new script ( final <KEEP_END> <INSERT> file name , display <INSERT_END> <KEEP> name , comment , non administer using , parameters ) ; } scriptler configuration cfg = get configuration ( ) ; cfg . add or replace ( new script ) ; cfg . save ( ) ; return final <KEEP_END> <REPLACE_OLD> name ; } <REPLACE_NEW> file name ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "string", "save", "script", "and", "forward", "(", "<KEEP_END>", "<INSERT>", "string", "id", ",", "<INSERT_END>", "<KEEP>", "string", "name", ",", "string", "comment", ",", "string", "script", ",", "boolean", "non", "administer", "using", ",", "string", "origin", "catalog", "name", ",", "string", "origin", "id", ",", "parameter", "[", "]", "parameters", ")", "throws", "ioexception", "{", "<KEEP_END>", "<INSERT>", "script", "=", "script", "=", "=", "null", "?", "str", ":", "script", ";", "<INSERT_END>", "<KEEP>", "if", "(", "string", "utils", ".", "is", "empty", "(", "<KEEP_END>", "<REPLACE_OLD>", "script", ")", "|", "|", "string", "utils", ".", "is", "empty", "(", "name", "<REPLACE_NEW>", "id", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "final", "string", "<KEEP_END>", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "display", "name", "=", "name", "=", "=", "null", "?", "id", ":", "name", ";", "final", "string", "final", "file", "<REPLACE_END>", "<KEEP>", "name", "=", "fix", "file", "name", "(", "origin", "catalog", "name", ",", "<KEEP_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "id", "<REPLACE_END>", "<KEEP>", ")", ";", "file", "new", "script", "file", "=", "new", "file", "(", "get", "script", "directory", "(", ")", ",", "final", "<KEEP_END>", "<INSERT>", "file", "<INSERT_END>", "<KEEP>", "name", ")", ";", "writer", "writer", "=", "new", "file", "writer", "(", "new", "script", "file", ")", ";", "writer", ".", "write", "(", "script", ")", ";", "writer", ".", "close", "(", ")", ";", "script", "new", "script", "=", "null", ";", "if", "(", "!", "string", "utils", ".", "is", "empty", "(", "origin", "id", ")", ")", "{", "new", "script", "=", "new", "script", "(", "final", "<KEEP_END>", "<INSERT>", "file", "name", ",", "display", "<INSERT_END>", "<KEEP>", "name", ",", "comment", ",", "true", ",", "origin", "catalog", "name", ",", "origin", "id", ",", "new", "simple", "date", "format", "(", "str", ")", ".", "format", "(", "new", "date", "(", ")", ")", ",", "parameters", ")", ";", "}", "else", "{", "new", "script", "=", "new", "script", "(", "final", "<KEEP_END>", "<INSERT>", "file", "name", ",", "display", "<INSERT_END>", "<KEEP>", "name", ",", "comment", ",", "non", "administer", "using", ",", "parameters", ")", ";", "}", "scriptler", "configuration", "cfg", "=", "get", "configuration", "(", ")", ";", "cfg", ".", "add", "or", "replace", "(", "new", "script", ")", ";", "cfg", ".", "save", "(", ")", ";", "return", "final", "<KEEP_END>", "<REPLACE_OLD>", "name", ";", "}", "<REPLACE_NEW>", "file", "name", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> script <INSERT_NEW_KEEP_BEFORE> script - which is also the id of the script ! <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "script", "<INSERT_NEW_KEEP_BEFORE>", "script", "-", "which", "is", "also", "the", "id", "of", "the", "script", "!", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "string", "<KEEP>", "save", "<KEEP>", "script", "<KEEP>", "and", "<KEEP>", "forward", "<KEEP>", "(", "<INSERT>", "string", "<INSERT>", "id", "<INSERT>", ",", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "comment", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "script", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "non", "<KEEP>", "administer", "<KEEP>", "using", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "origin", "<KEEP>", "catalog", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "origin", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "parameter", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<INSERT>", "script", "<INSERT>", "=", "<INSERT>", "script", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "?", "<INSERT>", "str", "<INSERT>", ":", "<INSERT>", "script", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<REPLACE_OLD>", "script", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<KEEP>", "string", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "display", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "file", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "fix", "<KEEP>", "file", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "origin", "<KEEP>", "catalog", "<KEEP>", "name", "<KEEP>", ",", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "file", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "file", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "script", "<KEEP>", "directory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "final", "<INSERT>", "file", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "writer", "<KEEP>", "writer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "writer", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "writer", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", "script", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "writer", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "script", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "origin", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "(", "<KEEP>", "final", "<INSERT>", "file", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "display", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "comment", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ",", "<KEEP>", "origin", "<KEEP>", "catalog", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "origin", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "simple", "<KEEP>", "date", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", "(", "<KEEP>", "final", "<INSERT>", "file", "<INSERT>", "name", "<INSERT>", ",", "<INSERT>", "display", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "comment", "<KEEP>", ",", "<KEEP>", "non", "<KEEP>", "administer", "<KEEP>", "using", "<KEEP>", ",", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "scriptler", "<KEEP>", "configuration", "<KEEP>", "cfg", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cfg", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "or", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "script", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cfg", "<KEEP>", ".", "<KEEP>", "save", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "final", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "iluwatar_java-design-patterns-5-2", "old_comment": "the next element obf the iteration", "old_comment_tokens": ["the", "next", "element", "obf", "the", "iteration"], "new_comment": "the next element of the iterable , or null if not present .", "new_comment_tokens": ["the", "next", "element", "of", "the", "iterable", ",", "or", "null", "if", "not", "present", "."], "old_code": "@ override public final type next ( ) { type result = next ; next = null ; result = ( result = = null ? from iterator . next ( ) : result ) ; return result ; }", "old_code_tokens": ["@", "override", "public", "final", "type", "next", "(", ")", "{", "type", "result", "=", "next", ";", "next", "=", "null", ";", "result", "=", "(", "result", "=", "=", "null", "?", "from", "iterator", ".", "next", "(", ")", ":", "result", ")", ";", "return", "result", ";", "}"], "new_code": "@ override public final type next ( ) { if ( next = = null ) { return from iterator . next ( ) ; } else { final type result = next ; next = null ; return result ; } }", "new_code_tokens": ["@", "override", "public", "final", "type", "next", "(", ")", "{", "if", "(", "next", "=", "=", "null", ")", "{", "return", "from", "iterator", ".", "next", "(", ")", ";", "}", "else", "{", "final", "type", "result", "=", "next", ";", "next", "=", "null", ";", "return", "result", ";", "}", "}"], "span_diff_code": "<KEEP> @ override public final type next ( ) { <KEEP_END> <INSERT> if ( next = = null ) { return from iterator . next ( ) ; } else { final <INSERT_END> <KEEP> type result = next ; next = null ; <KEEP_END> <DELETE> result = ( result = = null ? from iterator . next ( ) : result ) ; <DELETE_END> <KEEP> return result ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "final", "type", "next", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "next", "=", "=", "null", ")", "{", "return", "from", "iterator", ".", "next", "(", ")", ";", "}", "else", "{", "final", "<INSERT_END>", "<KEEP>", "type", "result", "=", "next", ";", "next", "=", "null", ";", "<KEEP_END>", "<DELETE>", "result", "=", "(", "result", "=", "=", "null", "?", "from", "iterator", ".", "next", "(", ")", ":", "result", ")", ";", "<DELETE_END>", "<KEEP>", "return", "result", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> obf <REPLACE_NEW> of <REPLACE_END> <REPLACE_OLD> iteration <REPLACE_NEW> iterable , or null if not present . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "obf", "<REPLACE_NEW>", "of", "<REPLACE_END>", "<REPLACE_OLD>", "iteration", "<REPLACE_NEW>", "iterable", ",", "or", "null", "if", "not", "present", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "type", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "next", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "from", "<INSERT>", "iterator", "<INSERT>", ".", "<INSERT>", "next", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "final", "<KEEP>", "type", "<KEEP>", "result", "<KEEP>", "=", "<KEEP>", "next", "<KEEP>", ";", "<KEEP>", "next", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "?", "<DELETE>", "from", "<DELETE>", "iterator", "<DELETE>", ".", "<DELETE>", "next", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ":", "<DELETE>", "result", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-45-4447", "old_comment": "a security context representing the authenticated account .", "old_comment_tokens": ["a", "security", "context", "representing", "the", "authenticated", "account", "."], "new_comment": "a subject representing the authenticated account .", "new_comment_tokens": ["a", "subject", "representing", "the", "authenticated", "account", "."], "old_code": "public security context login ( authentication token token ) throws authentication exception { account account ; try { account = authenticate ( token ) ; remember me successful login ( token , account ) ; } catch ( authentication exception ae ) { remember me failed login ( token , ae ) ; throw ae ; } security context sec ctx = create security context ( token , account ) ; assert creation ( sec ctx ) ; bind ( sec ctx ) ; return sec ctx ; }", "old_code_tokens": ["public", "security", "context", "login", "(", "authentication", "token", "token", ")", "throws", "authentication", "exception", "{", "account", "account", ";", "try", "{", "account", "=", "authenticate", "(", "token", ")", ";", "remember", "me", "successful", "login", "(", "token", ",", "account", ")", ";", "}", "catch", "(", "authentication", "exception", "ae", ")", "{", "remember", "me", "failed", "login", "(", "token", ",", "ae", ")", ";", "throw", "ae", ";", "}", "security", "context", "sec", "ctx", "=", "create", "security", "context", "(", "token", ",", "account", ")", ";", "assert", "creation", "(", "sec", "ctx", ")", ";", "bind", "(", "sec", "ctx", ")", ";", "return", "sec", "ctx", ";", "}"], "new_code": "public subject login ( authentication token token ) throws authentication exception { account account ; try { account = authenticate ( token ) ; remember me successful login ( token , account ) ; } catch ( authentication exception ae ) { remember me failed login ( token , ae ) ; throw ae ; } subject sec ctx = create subject ( token , account ) ; assert creation ( sec ctx ) ; bind ( sec ctx ) ; return sec ctx ; }", "new_code_tokens": ["public", "subject", "login", "(", "authentication", "token", "token", ")", "throws", "authentication", "exception", "{", "account", "account", ";", "try", "{", "account", "=", "authenticate", "(", "token", ")", ";", "remember", "me", "successful", "login", "(", "token", ",", "account", ")", ";", "}", "catch", "(", "authentication", "exception", "ae", ")", "{", "remember", "me", "failed", "login", "(", "token", ",", "ae", ")", ";", "throw", "ae", ";", "}", "subject", "sec", "ctx", "=", "create", "subject", "(", "token", ",", "account", ")", ";", "assert", "creation", "(", "sec", "ctx", ")", ";", "bind", "(", "sec", "ctx", ")", ";", "return", "sec", "ctx", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> security context <REPLACE_NEW> subject <REPLACE_END> <KEEP> login ( authentication token token ) throws authentication exception { account account ; try { account = authenticate ( token ) ; remember me successful login ( token , account ) ; } catch ( authentication exception ae ) { remember me failed login ( token , ae ) ; throw ae ; } <KEEP_END> <REPLACE_OLD> security context <REPLACE_NEW> subject <REPLACE_END> <KEEP> sec ctx = create <KEEP_END> <REPLACE_OLD> security context <REPLACE_NEW> subject <REPLACE_END> <KEEP> ( token , account ) ; assert creation ( sec ctx ) ; bind ( sec ctx ) ; return sec ctx ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "security", "context", "<REPLACE_NEW>", "subject", "<REPLACE_END>", "<KEEP>", "login", "(", "authentication", "token", "token", ")", "throws", "authentication", "exception", "{", "account", "account", ";", "try", "{", "account", "=", "authenticate", "(", "token", ")", ";", "remember", "me", "successful", "login", "(", "token", ",", "account", ")", ";", "}", "catch", "(", "authentication", "exception", "ae", ")", "{", "remember", "me", "failed", "login", "(", "token", ",", "ae", ")", ";", "throw", "ae", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "security", "context", "<REPLACE_NEW>", "subject", "<REPLACE_END>", "<KEEP>", "sec", "ctx", "=", "create", "<KEEP_END>", "<REPLACE_OLD>", "security", "context", "<REPLACE_NEW>", "subject", "<REPLACE_END>", "<KEEP>", "(", "token", ",", "account", ")", ";", "assert", "creation", "(", "sec", "ctx", ")", ";", "bind", "(", "sec", "ctx", ")", ";", "return", "sec", "ctx", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> security context <REPLACE_NEW> subject <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "security", "context", "<REPLACE_NEW>", "subject", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "security", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "subject", "<KEEP>", "login", "<KEEP>", "(", "<KEEP>", "authentication", "<KEEP>", "token", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "authentication", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "account", "<KEEP>", "account", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "account", "<KEEP>", "=", "<KEEP>", "authenticate", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "remember", "<KEEP>", "me", "<KEEP>", "successful", "<KEEP>", "login", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "account", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "authentication", "<KEEP>", "exception", "<KEEP>", "ae", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "remember", "<KEEP>", "me", "<KEEP>", "failed", "<KEEP>", "login", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "ae", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "ae", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "security", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "subject", "<KEEP>", "sec", "<KEEP>", "ctx", "<KEEP>", "=", "<KEEP>", "create", "<REPLACE_OLD>", "security", "<REPLACE_OLD>", "context", "<REPLACE_NEW>", "subject", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "account", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "assert", "<KEEP>", "creation", "<KEEP>", "(", "<KEEP>", "sec", "<KEEP>", "ctx", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "bind", "<KEEP>", "(", "<KEEP>", "sec", "<KEEP>", "ctx", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "sec", "<KEEP>", "ctx", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_certificate-transparency-java-3-5859", "old_comment": "built ct . merkle tree leaf .", "old_comment_tokens": ["built", "ct", ".", "merkle", "tree", "leaf", "."], "new_comment": "built merkle tree leaf .", "new_comment_tokens": ["built", "merkle", "tree", "leaf", "."], "old_code": "public static ct . merkle tree leaf parse merkle tree leaf ( input stream in ) { ct . merkle tree leaf . builder merkle tree leaf builder = ct . merkle tree leaf . new builder ( ) ; int version = ( int ) read number ( in , ctconstants . version _ length ) ; if ( version ! = ct . version . v1 . get number ( ) ) { throw new serialization exception ( string . format ( str , version ) ) ; } merkle tree leaf builder . set version ( ct . version . value of ( version ) ) ; int leaf type = ( int ) read number ( in , num ) ; if ( leaf type ! = ct . merkle leaf type . timestamped _ entry _ value ) { throw new serialization exception ( string . format ( str , leaf type ) ) ; } merkle tree leaf builder . set type ( ct . merkle leaf type . value of ( leaf type ) ) ; merkle tree leaf builder . set timestamped entry ( ( parse timestamped entry ( in ) ) ) ; return merkle tree leaf builder . build ( ) ; }", "old_code_tokens": ["public", "static", "ct", ".", "merkle", "tree", "leaf", "parse", "merkle", "tree", "leaf", "(", "input", "stream", "in", ")", "{", "ct", ".", "merkle", "tree", "leaf", ".", "builder", "merkle", "tree", "leaf", "builder", "=", "ct", ".", "merkle", "tree", "leaf", ".", "new", "builder", "(", ")", ";", "int", "version", "=", "(", "int", ")", "read", "number", "(", "in", ",", "ctconstants", ".", "version", "_", "length", ")", ";", "if", "(", "version", "!", "=", "ct", ".", "version", ".", "v1", ".", "get", "number", "(", ")", ")", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "version", ")", ")", ";", "}", "merkle", "tree", "leaf", "builder", ".", "set", "version", "(", "ct", ".", "version", ".", "value", "of", "(", "version", ")", ")", ";", "int", "leaf", "type", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "if", "(", "leaf", "type", "!", "=", "ct", ".", "merkle", "leaf", "type", ".", "timestamped", "_", "entry", "_", "value", ")", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "leaf", "type", ")", ")", ";", "}", "merkle", "tree", "leaf", "builder", ".", "set", "type", "(", "ct", ".", "merkle", "leaf", "type", ".", "value", "of", "(", "leaf", "type", ")", ")", ";", "merkle", "tree", "leaf", "builder", ".", "set", "timestamped", "entry", "(", "(", "parse", "timestamped", "entry", "(", "in", ")", ")", ")", ";", "return", "merkle", "tree", "leaf", "builder", ".", "build", "(", ")", ";", "}"], "new_code": "public static merkle tree leaf parse merkle tree leaf ( input stream in ) { int version = ( int ) read number ( in , ctconstants . version _ length ) ; if ( version ! = ct . version . v1 . get number ( ) ) { throw new serialization exception ( string . format ( str , version ) ) ; } int leaf type = ( int ) read number ( in , num ) ; if ( leaf type ! = ct . merkle leaf type . timestamped _ entry _ value ) { throw new serialization exception ( string . format ( str , leaf type ) ) ; } return new merkle tree leaf ( ct . version . value of ( version ) , ct . merkle leaf type . value of ( leaf type ) , parse timestamped entry ( in ) ) ; }", "new_code_tokens": ["public", "static", "merkle", "tree", "leaf", "parse", "merkle", "tree", "leaf", "(", "input", "stream", "in", ")", "{", "int", "version", "=", "(", "int", ")", "read", "number", "(", "in", ",", "ctconstants", ".", "version", "_", "length", ")", ";", "if", "(", "version", "!", "=", "ct", ".", "version", ".", "v1", ".", "get", "number", "(", ")", ")", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "version", ")", ")", ";", "}", "int", "leaf", "type", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "if", "(", "leaf", "type", "!", "=", "ct", ".", "merkle", "leaf", "type", ".", "timestamped", "_", "entry", "_", "value", ")", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "leaf", "type", ")", ")", ";", "}", "return", "new", "merkle", "tree", "leaf", "(", "ct", ".", "version", ".", "value", "of", "(", "version", ")", ",", "ct", ".", "merkle", "leaf", "type", ".", "value", "of", "(", "leaf", "type", ")", ",", "parse", "timestamped", "entry", "(", "in", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <DELETE> ct . <DELETE_END> <KEEP> merkle tree leaf parse merkle tree leaf ( input stream in ) { <KEEP_END> <DELETE> ct . merkle tree leaf . builder merkle tree leaf builder = ct . merkle tree leaf . new builder ( ) ; <DELETE_END> <KEEP> int version = ( int ) read number ( in , ctconstants . version _ length ) ; if ( version ! = ct . version . v1 . get number ( ) ) { throw new serialization exception ( string . format ( str , version ) ) ; } <KEEP_END> <DELETE> merkle tree leaf builder . set version ( ct . version . value of ( version ) ) ; <DELETE_END> <KEEP> int leaf type = ( int ) read number ( in , num ) ; if ( leaf type ! = ct . merkle leaf type . timestamped _ entry _ value ) { throw new serialization exception ( string . format ( str , leaf type ) ) ; } <KEEP_END> <INSERT> return new <INSERT_END> <KEEP> merkle tree leaf <KEEP_END> <REPLACE_OLD> builder <REPLACE_NEW> ( ct <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> set type <REPLACE_NEW> version . value of <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> version ) , <INSERT_END> <KEEP> ct . merkle leaf type . value of ( leaf type ) <KEEP_END> <REPLACE_OLD> ) ; merkle tree leaf builder . set timestamped entry ( ( <REPLACE_NEW> , <REPLACE_END> <KEEP> parse timestamped entry ( in ) ) <KEEP_END> <DELETE> ) ; return merkle tree leaf builder . build ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<DELETE>", "ct", ".", "<DELETE_END>", "<KEEP>", "merkle", "tree", "leaf", "parse", "merkle", "tree", "leaf", "(", "input", "stream", "in", ")", "{", "<KEEP_END>", "<DELETE>", "ct", ".", "merkle", "tree", "leaf", ".", "builder", "merkle", "tree", "leaf", "builder", "=", "ct", ".", "merkle", "tree", "leaf", ".", "new", "builder", "(", ")", ";", "<DELETE_END>", "<KEEP>", "int", "version", "=", "(", "int", ")", "read", "number", "(", "in", ",", "ctconstants", ".", "version", "_", "length", ")", ";", "if", "(", "version", "!", "=", "ct", ".", "version", ".", "v1", ".", "get", "number", "(", ")", ")", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "version", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "merkle", "tree", "leaf", "builder", ".", "set", "version", "(", "ct", ".", "version", ".", "value", "of", "(", "version", ")", ")", ";", "<DELETE_END>", "<KEEP>", "int", "leaf", "type", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "if", "(", "leaf", "type", "!", "=", "ct", ".", "merkle", "leaf", "type", ".", "timestamped", "_", "entry", "_", "value", ")", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "leaf", "type", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "new", "<INSERT_END>", "<KEEP>", "merkle", "tree", "leaf", "<KEEP_END>", "<REPLACE_OLD>", "builder", "<REPLACE_NEW>", "(", "ct", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "set", "type", "<REPLACE_NEW>", "version", ".", "value", "of", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "version", ")", ",", "<INSERT_END>", "<KEEP>", "ct", ".", "merkle", "leaf", "type", ".", "value", "of", "(", "leaf", "type", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "merkle", "tree", "leaf", "builder", ".", "set", "timestamped", "entry", "(", "(", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<KEEP>", "parse", "timestamped", "entry", "(", "in", ")", ")", "<KEEP_END>", "<DELETE>", ")", ";", "return", "merkle", "tree", "leaf", "builder", ".", "build", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ct . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "ct", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<DELETE>", "ct", "<DELETE>", ".", "<KEEP>", "merkle", "<KEEP>", "tree", "<KEEP>", "leaf", "<KEEP>", "parse", "<KEEP>", "merkle", "<KEEP>", "tree", "<KEEP>", "leaf", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "ct", "<DELETE>", ".", "<DELETE>", "merkle", "<DELETE>", "tree", "<DELETE>", "leaf", "<DELETE>", ".", "<DELETE>", "builder", "<DELETE>", "merkle", "<DELETE>", "tree", "<DELETE>", "leaf", "<DELETE>", "builder", "<DELETE>", "=", "<DELETE>", "ct", "<DELETE>", ".", "<DELETE>", "merkle", "<DELETE>", "tree", "<DELETE>", "leaf", "<DELETE>", ".", "<DELETE>", "new", "<DELETE>", "builder", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "int", "<KEEP>", "version", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "ctconstants", "<KEEP>", ".", "<KEEP>", "version", "<KEEP>", "_", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "version", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "version", "<KEEP>", ".", "<KEEP>", "v1", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "serialization", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "merkle", "<DELETE>", "tree", "<DELETE>", "leaf", "<DELETE>", "builder", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "version", "<DELETE>", "(", "<DELETE>", "ct", "<DELETE>", ".", "<DELETE>", "version", "<DELETE>", ".", "<DELETE>", "value", "<DELETE>", "of", "<DELETE>", "(", "<DELETE>", "version", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "int", "<KEEP>", "leaf", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "leaf", "<KEEP>", "type", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "merkle", "<KEEP>", "leaf", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "timestamped", "<KEEP>", "_", "<KEEP>", "entry", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "serialization", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "leaf", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "new", "<KEEP>", "merkle", "<KEEP>", "tree", "<KEEP>", "leaf", "<REPLACE_OLD>", "builder", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "ct", "<KEEP>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "of", "<KEEP>", "(", "<INSERT>", "version", "<INSERT>", ")", "<INSERT>", ",", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "merkle", "<KEEP>", "leaf", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "leaf", "<KEEP>", "type", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "merkle", "<REPLACE_OLD>", "tree", "<REPLACE_OLD>", "leaf", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "timestamped", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", ",", "<KEEP>", "parse", "<KEEP>", "timestamped", "<KEEP>", "entry", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "merkle", "<DELETE>", "tree", "<DELETE>", "leaf", "<DELETE>", "builder", "<DELETE>", ".", "<DELETE>", "build", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "LawnchairLauncher_Lawnchair-0-2318", "old_comment": "a bundle with remote animations that controls how the window of the opening targets are displayed .", "old_comment_tokens": ["a", "bundle", "with", "remote", "animations", "that", "controls", "how", "the", "window", "of", "the", "opening", "targets", "are", "displayed", "."], "new_comment": "activity options with remote animations that controls how the window of the opening targets are displayed .", "new_comment_tokens": ["activity", "options", "with", "remote", "animations", "that", "controls", "how", "the", "window", "of", "the", "opening", "targets", "are", "displayed", "."], "old_code": "@ override public bundle get activity launch options ( launcher launcher , view v ) { if ( has control remote app transition permission ( ) ) { try { remote animation runner compat runner = new launcher animation runner ( m launcher ) { @ override public void on animation start ( remote animation target compat [ ] targets , runnable finished callback ) { post at front of queue asynchronously ( v . get handler ( ) , ( ) - > { m animator = new animator set ( ) ; set current animator ( m animator ) ; m animator . play ( get launcher animators ( v ) ) ; m animator . play ( get window animators ( v , targets ) ) ; m animator . add listener ( new animator listener adapter ( ) { @ override public void on animation end ( animator animation ) { v . set visibility ( view . visible ) ; ( ( view group ) m drag layer . get parent ( ) ) . remove view ( m floating view ) ; m drag layer . set alpha ( num ) ; m drag layer . set translation y ( num ) ; view apps view = m launcher . get apps view ( ) ; apps view . set alpha ( num ) ; apps view . set translation y ( num ) ; finished callback . run ( ) ; } } ) ; m animator . start ( ) ; m animator . set current play time ( refresh _ rate _ ms ) ; } ) ; } } ; return activity options compat . make remote animation ( new remote animation adapter compat ( runner , num , num ) ) . to bundle ( ) ; } catch ( no class def found error e ) { } } return get default activity launch options ( launcher , v ) ; }", "old_code_tokens": ["@", "override", "public", "bundle", "get", "activity", "launch", "options", "(", "launcher", "launcher", ",", "view", "v", ")", "{", "if", "(", "has", "control", "remote", "app", "transition", "permission", "(", ")", ")", "{", "try", "{", "remote", "animation", "runner", "compat", "runner", "=", "new", "launcher", "animation", "runner", "(", "m", "launcher", ")", "{", "@", "override", "public", "void", "on", "animation", "start", "(", "remote", "animation", "target", "compat", "[", "]", "targets", ",", "runnable", "finished", "callback", ")", "{", "post", "at", "front", "of", "queue", "asynchronously", "(", "v", ".", "get", "handler", "(", ")", ",", "(", ")", "-", ">", "{", "m", "animator", "=", "new", "animator", "set", "(", ")", ";", "set", "current", "animator", "(", "m", "animator", ")", ";", "m", "animator", ".", "play", "(", "get", "launcher", "animators", "(", "v", ")", ")", ";", "m", "animator", ".", "play", "(", "get", "window", "animators", "(", "v", ",", "targets", ")", ")", ";", "m", "animator", ".", "add", "listener", "(", "new", "animator", "listener", "adapter", "(", ")", "{", "@", "override", "public", "void", "on", "animation", "end", "(", "animator", "animation", ")", "{", "v", ".", "set", "visibility", "(", "view", ".", "visible", ")", ";", "(", "(", "view", "group", ")", "m", "drag", "layer", ".", "get", "parent", "(", ")", ")", ".", "remove", "view", "(", "m", "floating", "view", ")", ";", "m", "drag", "layer", ".", "set", "alpha", "(", "num", ")", ";", "m", "drag", "layer", ".", "set", "translation", "y", "(", "num", ")", ";", "view", "apps", "view", "=", "m", "launcher", ".", "get", "apps", "view", "(", ")", ";", "apps", "view", ".", "set", "alpha", "(", "num", ")", ";", "apps", "view", ".", "set", "translation", "y", "(", "num", ")", ";", "finished", "callback", ".", "run", "(", ")", ";", "}", "}", ")", ";", "m", "animator", ".", "start", "(", ")", ";", "m", "animator", ".", "set", "current", "play", "time", "(", "refresh", "_", "rate", "_", "ms", ")", ";", "}", ")", ";", "}", "}", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "(", "new", "remote", "animation", "adapter", "compat", "(", "runner", ",", "num", ",", "num", ")", ")", ".", "to", "bundle", "(", ")", ";", "}", "catch", "(", "no", "class", "def", "found", "error", "e", ")", "{", "}", "}", "return", "get", "default", "activity", "launch", "options", "(", "launcher", ",", "v", ")", ";", "}"], "new_code": "@ override public activity options get activity launch options ( launcher launcher , view v ) { if ( has control remote app transition permission ( ) ) { try { remote animation runner compat runner = new launcher animation runner ( m handler ) { @ override public animator set get animator ( remote animation target compat [ ] target compats ) { animator set anim = new animator set ( ) ; if ( ! compose recents launch animator ( v , target compats , anim ) ) { m launcher . get state manager ( ) . set current animation ( anim ) ; anim . play ( get icon animator ( v ) ) ; if ( launcher is atarget with mode ( target compats , mode _ closing ) ) { anim . play ( get launcher content animator ( false ) ) ; } anim . play ( get window animators ( v , target compats ) ) ; } return anim ; } } ; int duration = find task view to launch ( launcher , v , null ) ! = null ? recents _ launch _ duration : app _ launch _ duration ; int status bar transition delay = duration - status _ bar _ transition _ duration ; return activity options compat . make remote animation ( new remote animation adapter compat ( runner , duration , status bar transition delay ) ) ; } catch ( no class def found error e ) { } } return get default activity launch options ( launcher , v ) ; }", "new_code_tokens": ["@", "override", "public", "activity", "options", "get", "activity", "launch", "options", "(", "launcher", "launcher", ",", "view", "v", ")", "{", "if", "(", "has", "control", "remote", "app", "transition", "permission", "(", ")", ")", "{", "try", "{", "remote", "animation", "runner", "compat", "runner", "=", "new", "launcher", "animation", "runner", "(", "m", "handler", ")", "{", "@", "override", "public", "animator", "set", "get", "animator", "(", "remote", "animation", "target", "compat", "[", "]", "target", "compats", ")", "{", "animator", "set", "anim", "=", "new", "animator", "set", "(", ")", ";", "if", "(", "!", "compose", "recents", "launch", "animator", "(", "v", ",", "target", "compats", ",", "anim", ")", ")", "{", "m", "launcher", ".", "get", "state", "manager", "(", ")", ".", "set", "current", "animation", "(", "anim", ")", ";", "anim", ".", "play", "(", "get", "icon", "animator", "(", "v", ")", ")", ";", "if", "(", "launcher", "is", "atarget", "with", "mode", "(", "target", "compats", ",", "mode", "_", "closing", ")", ")", "{", "anim", ".", "play", "(", "get", "launcher", "content", "animator", "(", "false", ")", ")", ";", "}", "anim", ".", "play", "(", "get", "window", "animators", "(", "v", ",", "target", "compats", ")", ")", ";", "}", "return", "anim", ";", "}", "}", ";", "int", "duration", "=", "find", "task", "view", "to", "launch", "(", "launcher", ",", "v", ",", "null", ")", "!", "=", "null", "?", "recents", "_", "launch", "_", "duration", ":", "app", "_", "launch", "_", "duration", ";", "int", "status", "bar", "transition", "delay", "=", "duration", "-", "status", "_", "bar", "_", "transition", "_", "duration", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "(", "new", "remote", "animation", "adapter", "compat", "(", "runner", ",", "duration", ",", "status", "bar", "transition", "delay", ")", ")", ";", "}", "catch", "(", "no", "class", "def", "found", "error", "e", ")", "{", "}", "}", "return", "get", "default", "activity", "launch", "options", "(", "launcher", ",", "v", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public <KEEP_END> <REPLACE_OLD> bundle <REPLACE_NEW> activity options <REPLACE_END> <KEEP> get activity launch options ( launcher launcher , view v ) { if ( has control remote app transition permission ( ) ) { try { remote animation runner compat runner = new launcher animation runner ( m <KEEP_END> <REPLACE_OLD> launcher <REPLACE_NEW> handler <REPLACE_END> <KEEP> ) { @ override public <KEEP_END> <REPLACE_OLD> void on animation start <REPLACE_NEW> animator set get animator <REPLACE_END> <KEEP> ( remote animation target compat [ ] <KEEP_END> <REPLACE_OLD> targets , runnable finished callback ) { post at front of queue asynchronously ( v . get handler ( ) , ( ) - > <REPLACE_NEW> target compats ) { animator set anim = new animator set ( ) ; if ( ! compose recents launch animator ( v , target compats , anim ) ) <REPLACE_END> <KEEP> { m <KEEP_END> <REPLACE_OLD> animator = new animator set ( ) ; <REPLACE_NEW> launcher . get state manager ( ) . <REPLACE_END> <KEEP> set current <KEEP_END> <REPLACE_OLD> animator ( m animator ) ; m animator <REPLACE_NEW> animation ( anim ) ; anim <REPLACE_END> <KEEP> . play ( get <KEEP_END> <REPLACE_OLD> launcher animators ( v ) ) ; m animator <REPLACE_NEW> icon animator ( v ) ) ; if ( launcher is atarget with mode ( target compats , mode _ closing ) ) { anim . play ( get launcher content animator ( false ) ) ; } anim <REPLACE_END> <KEEP> . play ( get window animators ( v , <KEEP_END> <REPLACE_OLD> targets ) ) ; m animator . add listener <REPLACE_NEW> target compats ) ) ; } return anim ; } } ; int duration = find task view to launch ( launcher , v , null ) ! = null ? recents _ launch _ duration : app _ launch _ duration ; int status bar transition delay = duration - status _ bar _ transition _ duration ; return activity options compat . make remote animation <REPLACE_END> <KEEP> ( new <KEEP_END> <REPLACE_OLD> animator listener <REPLACE_NEW> remote animation <REPLACE_END> <KEEP> adapter <KEEP_END> <REPLACE_OLD> ( ) { @ override public void on animation end ( animator animation ) { v . set visibility ( view . visible ) ; ( ( view group ) m drag layer . get parent ( ) ) . remove view ( m floating view ) ; m drag layer . set alpha ( num ) ; m drag layer . set translation y ( num ) ; view apps view = m launcher . get apps view ( ) ; apps view . set alpha ( num ) ; apps view . set translation y ( num ) ; finished callback . run ( ) ; } } ) ; m animator . start ( ) ; m animator . set current play time ( refresh _ rate _ ms ) ; } ) ; } } ; return activity options compat . make remote animation ( new remote animation adapter compat ( runner , num , num ) ) . to bundle ( <REPLACE_NEW> compat ( runner , duration , status bar transition delay ) <REPLACE_END> <KEEP> ) ; } catch ( no class def found error e ) { } } return get default activity launch options ( launcher , v ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "<KEEP_END>", "<REPLACE_OLD>", "bundle", "<REPLACE_NEW>", "activity", "options", "<REPLACE_END>", "<KEEP>", "get", "activity", "launch", "options", "(", "launcher", "launcher", ",", "view", "v", ")", "{", "if", "(", "has", "control", "remote", "app", "transition", "permission", "(", ")", ")", "{", "try", "{", "remote", "animation", "runner", "compat", "runner", "=", "new", "launcher", "animation", "runner", "(", "m", "<KEEP_END>", "<REPLACE_OLD>", "launcher", "<REPLACE_NEW>", "handler", "<REPLACE_END>", "<KEEP>", ")", "{", "@", "override", "public", "<KEEP_END>", "<REPLACE_OLD>", "void", "on", "animation", "start", "<REPLACE_NEW>", "animator", "set", "get", "animator", "<REPLACE_END>", "<KEEP>", "(", "remote", "animation", "target", "compat", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "targets", ",", "runnable", "finished", "callback", ")", "{", "post", "at", "front", "of", "queue", "asynchronously", "(", "v", ".", "get", "handler", "(", ")", ",", "(", ")", "-", ">", "<REPLACE_NEW>", "target", "compats", ")", "{", "animator", "set", "anim", "=", "new", "animator", "set", "(", ")", ";", "if", "(", "!", "compose", "recents", "launch", "animator", "(", "v", ",", "target", "compats", ",", "anim", ")", ")", "<REPLACE_END>", "<KEEP>", "{", "m", "<KEEP_END>", "<REPLACE_OLD>", "animator", "=", "new", "animator", "set", "(", ")", ";", "<REPLACE_NEW>", "launcher", ".", "get", "state", "manager", "(", ")", ".", "<REPLACE_END>", "<KEEP>", "set", "current", "<KEEP_END>", "<REPLACE_OLD>", "animator", "(", "m", "animator", ")", ";", "m", "animator", "<REPLACE_NEW>", "animation", "(", "anim", ")", ";", "anim", "<REPLACE_END>", "<KEEP>", ".", "play", "(", "get", "<KEEP_END>", "<REPLACE_OLD>", "launcher", "animators", "(", "v", ")", ")", ";", "m", "animator", "<REPLACE_NEW>", "icon", "animator", "(", "v", ")", ")", ";", "if", "(", "launcher", "is", "atarget", "with", "mode", "(", "target", "compats", ",", "mode", "_", "closing", ")", ")", "{", "anim", ".", "play", "(", "get", "launcher", "content", "animator", "(", "false", ")", ")", ";", "}", "anim", "<REPLACE_END>", "<KEEP>", ".", "play", "(", "get", "window", "animators", "(", "v", ",", "<KEEP_END>", "<REPLACE_OLD>", "targets", ")", ")", ";", "m", "animator", ".", "add", "listener", "<REPLACE_NEW>", "target", "compats", ")", ")", ";", "}", "return", "anim", ";", "}", "}", ";", "int", "duration", "=", "find", "task", "view", "to", "launch", "(", "launcher", ",", "v", ",", "null", ")", "!", "=", "null", "?", "recents", "_", "launch", "_", "duration", ":", "app", "_", "launch", "_", "duration", ";", "int", "status", "bar", "transition", "delay", "=", "duration", "-", "status", "_", "bar", "_", "transition", "_", "duration", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "<REPLACE_END>", "<KEEP>", "(", "new", "<KEEP_END>", "<REPLACE_OLD>", "animator", "listener", "<REPLACE_NEW>", "remote", "animation", "<REPLACE_END>", "<KEEP>", "adapter", "<KEEP_END>", "<REPLACE_OLD>", "(", ")", "{", "@", "override", "public", "void", "on", "animation", "end", "(", "animator", "animation", ")", "{", "v", ".", "set", "visibility", "(", "view", ".", "visible", ")", ";", "(", "(", "view", "group", ")", "m", "drag", "layer", ".", "get", "parent", "(", ")", ")", ".", "remove", "view", "(", "m", "floating", "view", ")", ";", "m", "drag", "layer", ".", "set", "alpha", "(", "num", ")", ";", "m", "drag", "layer", ".", "set", "translation", "y", "(", "num", ")", ";", "view", "apps", "view", "=", "m", "launcher", ".", "get", "apps", "view", "(", ")", ";", "apps", "view", ".", "set", "alpha", "(", "num", ")", ";", "apps", "view", ".", "set", "translation", "y", "(", "num", ")", ";", "finished", "callback", ".", "run", "(", ")", ";", "}", "}", ")", ";", "m", "animator", ".", "start", "(", ")", ";", "m", "animator", ".", "set", "current", "play", "time", "(", "refresh", "_", "rate", "_", "ms", ")", ";", "}", ")", ";", "}", "}", ";", "return", "activity", "options", "compat", ".", "make", "remote", "animation", "(", "new", "remote", "animation", "adapter", "compat", "(", "runner", ",", "num", ",", "num", ")", ")", ".", "to", "bundle", "(", "<REPLACE_NEW>", "compat", "(", "runner", ",", "duration", ",", "status", "bar", "transition", "delay", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "no", "class", "def", "found", "error", "e", ")", "{", "}", "}", "return", "get", "default", "activity", "launch", "options", "(", "launcher", ",", "v", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a bundle <REPLACE_NEW> activity options <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "bundle", "<REPLACE_NEW>", "activity", "options", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<REPLACE_OLD>", "bundle", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "options", "<KEEP>", "get", "<KEEP>", "activity", "<KEEP>", "launch", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", "launcher", "<KEEP>", "launcher", "<KEEP>", ",", "<KEEP>", "view", "<KEEP>", "v", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "has", "<KEEP>", "control", "<KEEP>", "remote", "<KEEP>", "app", "<KEEP>", "transition", "<KEEP>", "permission", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "remote", "<KEEP>", "animation", "<KEEP>", "runner", "<KEEP>", "compat", "<KEEP>", "runner", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "launcher", "<KEEP>", "animation", "<KEEP>", "runner", "<KEEP>", "(", "<KEEP>", "m", "<REPLACE_OLD>", "launcher", "<REPLACE_NEW>", "handler", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", "animation", "<REPLACE_OLD>", "start", "<REPLACE_NEW>", "animator", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "animator", "<KEEP>", "(", "<KEEP>", "remote", "<KEEP>", "animation", "<KEEP>", "target", "<KEEP>", "compat", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "targets", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "runnable", "<REPLACE_OLD>", "finished", "<REPLACE_OLD>", "callback", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "post", "<REPLACE_OLD>", "at", "<REPLACE_OLD>", "front", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "queue", "<REPLACE_OLD>", "asynchronously", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "v", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "handler", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "compats", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "animator", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "anim", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "animator", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "compose", "<REPLACE_NEW>", "recents", "<REPLACE_NEW>", "launch", "<REPLACE_NEW>", "animator", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "v", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "compats", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "anim", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", "{", "<KEEP>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "launcher", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<KEEP>", "set", "<KEEP>", "current", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_NEW>", "animation", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "anim", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "anim", "<KEEP>", ".", "<KEEP>", "play", "<KEEP>", "(", "<KEEP>", "get", "<REPLACE_OLD>", "launcher", "<REPLACE_OLD>", "animators", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "v", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_NEW>", "icon", "<REPLACE_NEW>", "animator", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "v", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "launcher", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "atarget", "<REPLACE_NEW>", "with", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "compats", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "mode", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "closing", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "anim", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "play", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "launcher", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "animator", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "anim", "<KEEP>", ".", "<KEEP>", "play", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "window", "<KEEP>", "animators", "<KEEP>", "(", "<KEEP>", "v", "<KEEP>", ",", "<REPLACE_OLD>", "targets", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "listener", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "compats", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "anim", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "duration", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "find", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", "view", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "launch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "launcher", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "v", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "recents", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "launch", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "duration", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "launch", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "duration", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "bar", "<REPLACE_NEW>", "transition", "<REPLACE_NEW>", "delay", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "duration", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "bar", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "transition", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "duration", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "options", "<REPLACE_NEW>", "compat", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "make", "<REPLACE_NEW>", "remote", "<REPLACE_NEW>", "animation", "<KEEP>", "(", "<KEEP>", "new", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", "listener", "<REPLACE_NEW>", "remote", "<REPLACE_NEW>", "animation", "<KEEP>", "adapter", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "override", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", "animation", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", "animation", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "v", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "visibility", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "visible", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", "group", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "drag", "<REPLACE_OLD>", "layer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "parent", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "remove", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "floating", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "drag", "<REPLACE_OLD>", "layer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "alpha", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "drag", "<REPLACE_OLD>", "layer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "translation", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", "apps", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "launcher", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "apps", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "apps", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "alpha", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "apps", "<REPLACE_OLD>", "view", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "translation", "<REPLACE_OLD>", "y", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "finished", "<REPLACE_OLD>", "callback", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "run", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "m", "<REPLACE_OLD>", "animator", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "current", "<REPLACE_OLD>", "play", "<REPLACE_OLD>", "time", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "refresh", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "rate", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "ms", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "activity", "<REPLACE_OLD>", "options", "<REPLACE_OLD>", "compat", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "make", "<REPLACE_OLD>", "remote", "<REPLACE_OLD>", "animation", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "remote", "<REPLACE_OLD>", "animation", "<REPLACE_OLD>", "adapter", "<REPLACE_OLD>", "compat", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "runner", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "bundle", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "compat", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "runner", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "duration", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "bar", "<REPLACE_NEW>", "transition", "<REPLACE_NEW>", "delay", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "no", "<KEEP>", "class", "<KEEP>", "def", "<KEEP>", "found", "<KEEP>", "error", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "activity", "<KEEP>", "launch", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", "launcher", "<KEEP>", ",", "<KEEP>", "v", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_kylin-12-2860", "old_comment": "expression to match columns from name list , or null if name list is empty", "old_comment_tokens": ["expression", "to", "match", "columns", "from", "name", "list", ",", "or", "null", "if", "name", "list", "is", "empty"], "new_comment": "expression to match columns from name list , or true if name list is empty", "new_comment_tokens": ["expression", "to", "match", "columns", "from", "name", "list", ",", "or", "true", "if", "name", "list", "is", "empty"], "old_code": "private rex node convert using ( rel node left rel , rel node right rel , list < string > name list ) { rex node condition exp = null ; for ( string name : name list ) { final rel data type left row type = left rel . get row type ( ) ; rel data type field left field = catalog reader . field ( left row type , name ) ; rex node left = rex builder . make input ref ( left field . get type ( ) , left field . get index ( ) ) ; final rel data type right row type = right rel . get row type ( ) ; rel data type field right field = catalog reader . field ( right row type , name ) ; rex node right = rex builder . make input ref ( right field . get type ( ) , left row type . get field list ( ) . size ( ) + right field . get index ( ) ) ; rex node equals call = rex builder . make call ( sql std operator table . equals , left , right ) ; if ( condition exp = = null ) { condition exp = equals call ; } else { condition exp = rex builder . make call ( sql std operator table . and , condition exp , equals call ) ; } } return condition exp ; }", "old_code_tokens": ["private", "rex", "node", "convert", "using", "(", "rel", "node", "left", "rel", ",", "rel", "node", "right", "rel", ",", "list", "<", "string", ">", "name", "list", ")", "{", "rex", "node", "condition", "exp", "=", "null", ";", "for", "(", "string", "name", ":", "name", "list", ")", "{", "final", "rel", "data", "type", "left", "row", "type", "=", "left", "rel", ".", "get", "row", "type", "(", ")", ";", "rel", "data", "type", "field", "left", "field", "=", "catalog", "reader", ".", "field", "(", "left", "row", "type", ",", "name", ")", ";", "rex", "node", "left", "=", "rex", "builder", ".", "make", "input", "ref", "(", "left", "field", ".", "get", "type", "(", ")", ",", "left", "field", ".", "get", "index", "(", ")", ")", ";", "final", "rel", "data", "type", "right", "row", "type", "=", "right", "rel", ".", "get", "row", "type", "(", ")", ";", "rel", "data", "type", "field", "right", "field", "=", "catalog", "reader", ".", "field", "(", "right", "row", "type", ",", "name", ")", ";", "rex", "node", "right", "=", "rex", "builder", ".", "make", "input", "ref", "(", "right", "field", ".", "get", "type", "(", ")", ",", "left", "row", "type", ".", "get", "field", "list", "(", ")", ".", "size", "(", ")", "+", "right", "field", ".", "get", "index", "(", ")", ")", ";", "rex", "node", "equals", "call", "=", "rex", "builder", ".", "make", "call", "(", "sql", "std", "operator", "table", ".", "equals", ",", "left", ",", "right", ")", ";", "if", "(", "condition", "exp", "=", "=", "null", ")", "{", "condition", "exp", "=", "equals", "call", ";", "}", "else", "{", "condition", "exp", "=", "rex", "builder", ".", "make", "call", "(", "sql", "std", "operator", "table", ".", "and", ",", "condition", "exp", ",", "equals", "call", ")", ";", "}", "}", "return", "condition", "exp", ";", "}"], "new_code": "private rex node convert using ( rel node left rel , rel node right rel , list < string > name list ) { final list < rex node > list = lists . new array list ( ) ; for ( string name : name list ) { final rel data type left row type = left rel . get row type ( ) ; rel data type field left field = catalog reader . field ( left row type , name ) ; rex node left = rex builder . make input ref ( left field . get type ( ) , left field . get index ( ) ) ; final rel data type right row type = right rel . get row type ( ) ; rel data type field right field = catalog reader . field ( right row type , name ) ; rex node right = rex builder . make input ref ( right field . get type ( ) , left row type . get field list ( ) . size ( ) + right field . get index ( ) ) ; rex node equals call = rex builder . make call ( sql std operator table . equals , left , right ) ; list . add ( equals call ) ; } return rex util . compose conjunction ( rex builder , list , false ) ; }", "new_code_tokens": ["private", "rex", "node", "convert", "using", "(", "rel", "node", "left", "rel", ",", "rel", "node", "right", "rel", ",", "list", "<", "string", ">", "name", "list", ")", "{", "final", "list", "<", "rex", "node", ">", "list", "=", "lists", ".", "new", "array", "list", "(", ")", ";", "for", "(", "string", "name", ":", "name", "list", ")", "{", "final", "rel", "data", "type", "left", "row", "type", "=", "left", "rel", ".", "get", "row", "type", "(", ")", ";", "rel", "data", "type", "field", "left", "field", "=", "catalog", "reader", ".", "field", "(", "left", "row", "type", ",", "name", ")", ";", "rex", "node", "left", "=", "rex", "builder", ".", "make", "input", "ref", "(", "left", "field", ".", "get", "type", "(", ")", ",", "left", "field", ".", "get", "index", "(", ")", ")", ";", "final", "rel", "data", "type", "right", "row", "type", "=", "right", "rel", ".", "get", "row", "type", "(", ")", ";", "rel", "data", "type", "field", "right", "field", "=", "catalog", "reader", ".", "field", "(", "right", "row", "type", ",", "name", ")", ";", "rex", "node", "right", "=", "rex", "builder", ".", "make", "input", "ref", "(", "right", "field", ".", "get", "type", "(", ")", ",", "left", "row", "type", ".", "get", "field", "list", "(", ")", ".", "size", "(", ")", "+", "right", "field", ".", "get", "index", "(", ")", ")", ";", "rex", "node", "equals", "call", "=", "rex", "builder", ".", "make", "call", "(", "sql", "std", "operator", "table", ".", "equals", ",", "left", ",", "right", ")", ";", "list", ".", "add", "(", "equals", "call", ")", ";", "}", "return", "rex", "util", ".", "compose", "conjunction", "(", "rex", "builder", ",", "list", ",", "false", ")", ";", "}"], "span_diff_code": "<KEEP> private rex node convert using ( rel node left rel , rel node right rel , list < string > name list ) { <KEEP_END> <REPLACE_OLD> rex node condition exp = null <REPLACE_NEW> final list < rex node > list = lists . new array list ( ) <REPLACE_END> <KEEP> ; for ( string name : name list ) { final rel data type left row type = left rel . get row type ( ) ; rel data type field left field = catalog reader . field ( left row type , name ) ; rex node left = rex builder . make input ref ( left field . get type ( ) , left field . get index ( ) ) ; final rel data type right row type = right rel . get row type ( ) ; rel data type field right field = catalog reader . field ( right row type , name ) ; rex node right = rex builder . make input ref ( right field . get type ( ) , left row type . get field list ( ) . size ( ) + right field . get index ( ) ) ; rex node equals call = rex builder . make call ( sql std operator table . equals , left , right ) ; <KEEP_END> <REPLACE_OLD> if ( condition exp = = null ) { condition exp = <REPLACE_NEW> list . add ( <REPLACE_END> <KEEP> equals call <KEEP_END> <REPLACE_OLD> ; } else { condition exp = rex builder . make call ( sql std operator table . and , condition exp , equals call ) ; } <REPLACE_NEW> ) ; <REPLACE_END> <KEEP> } return <KEEP_END> <REPLACE_OLD> condition exp <REPLACE_NEW> rex util . compose conjunction ( rex builder , list , false ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "rex", "node", "convert", "using", "(", "rel", "node", "left", "rel", ",", "rel", "node", "right", "rel", ",", "list", "<", "string", ">", "name", "list", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "rex", "node", "condition", "exp", "=", "null", "<REPLACE_NEW>", "final", "list", "<", "rex", "node", ">", "list", "=", "lists", ".", "new", "array", "list", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "for", "(", "string", "name", ":", "name", "list", ")", "{", "final", "rel", "data", "type", "left", "row", "type", "=", "left", "rel", ".", "get", "row", "type", "(", ")", ";", "rel", "data", "type", "field", "left", "field", "=", "catalog", "reader", ".", "field", "(", "left", "row", "type", ",", "name", ")", ";", "rex", "node", "left", "=", "rex", "builder", ".", "make", "input", "ref", "(", "left", "field", ".", "get", "type", "(", ")", ",", "left", "field", ".", "get", "index", "(", ")", ")", ";", "final", "rel", "data", "type", "right", "row", "type", "=", "right", "rel", ".", "get", "row", "type", "(", ")", ";", "rel", "data", "type", "field", "right", "field", "=", "catalog", "reader", ".", "field", "(", "right", "row", "type", ",", "name", ")", ";", "rex", "node", "right", "=", "rex", "builder", ".", "make", "input", "ref", "(", "right", "field", ".", "get", "type", "(", ")", ",", "left", "row", "type", ".", "get", "field", "list", "(", ")", ".", "size", "(", ")", "+", "right", "field", ".", "get", "index", "(", ")", ")", ";", "rex", "node", "equals", "call", "=", "rex", "builder", ".", "make", "call", "(", "sql", "std", "operator", "table", ".", "equals", ",", "left", ",", "right", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "condition", "exp", "=", "=", "null", ")", "{", "condition", "exp", "=", "<REPLACE_NEW>", "list", ".", "add", "(", "<REPLACE_END>", "<KEEP>", "equals", "call", "<KEEP_END>", "<REPLACE_OLD>", ";", "}", "else", "{", "condition", "exp", "=", "rex", "builder", ".", "make", "call", "(", "sql", "std", "operator", "table", ".", "and", ",", "condition", "exp", ",", "equals", "call", ")", ";", "}", "<REPLACE_NEW>", ")", ";", "<REPLACE_END>", "<KEEP>", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "condition", "exp", "<REPLACE_NEW>", "rex", "util", ".", "compose", "conjunction", "(", "rex", "builder", ",", "list", ",", "false", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> true <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "true", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "rex", "<KEEP>", "node", "<KEEP>", "convert", "<KEEP>", "using", "<KEEP>", "(", "<KEEP>", "rel", "<KEEP>", "node", "<KEEP>", "left", "<KEEP>", "rel", "<KEEP>", ",", "<KEEP>", "rel", "<KEEP>", "node", "<KEEP>", "right", "<KEEP>", "rel", "<KEEP>", ",", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "name", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "rex", "<REPLACE_OLD>", "node", "<REPLACE_OLD>", "condition", "<REPLACE_OLD>", "exp", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "rex", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "lists", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "name", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "left", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "left", "<KEEP>", "rel", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "field", "<KEEP>", "left", "<KEEP>", "field", "<KEEP>", "=", "<KEEP>", "catalog", "<KEEP>", "reader", "<KEEP>", ".", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "left", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rex", "<KEEP>", "node", "<KEEP>", "left", "<KEEP>", "=", "<KEEP>", "rex", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "input", "<KEEP>", "ref", "<KEEP>", "(", "<KEEP>", "left", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "left", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "right", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "right", "<KEEP>", "rel", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rel", "<KEEP>", "data", "<KEEP>", "type", "<KEEP>", "field", "<KEEP>", "right", "<KEEP>", "field", "<KEEP>", "=", "<KEEP>", "catalog", "<KEEP>", "reader", "<KEEP>", ".", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "right", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rex", "<KEEP>", "node", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "rex", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "input", "<KEEP>", "ref", "<KEEP>", "(", "<KEEP>", "right", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "left", "<KEEP>", "row", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "field", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "right", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rex", "<KEEP>", "node", "<KEEP>", "equals", "<KEEP>", "call", "<KEEP>", "=", "<KEEP>", "rex", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "make", "<KEEP>", "call", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", "std", "<KEEP>", "operator", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", ",", "<KEEP>", "left", "<KEEP>", ",", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "condition", "<REPLACE_OLD>", "exp", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "condition", "<REPLACE_OLD>", "exp", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<KEEP>", "equals", "<KEEP>", "call", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "condition", "<REPLACE_OLD>", "exp", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "rex", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "make", "<REPLACE_OLD>", "call", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "sql", "<REPLACE_OLD>", "std", "<REPLACE_OLD>", "operator", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "condition", "<REPLACE_OLD>", "exp", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "call", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "condition", "<REPLACE_OLD>", "exp", "<REPLACE_NEW>", "rex", "<REPLACE_NEW>", "util", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "compose", "<REPLACE_NEW>", "conjunction", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "rex", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-2-4529", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public byte get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "byte", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public byte get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "byte", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public byte get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "byte", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "byte", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-23-5331", "old_comment": "current directory history .", "old_comment_tokens": ["current", "directory", "history", "."], "new_comment": "current directory history , or if empty , only current directory ( as file [ 0 ] ) .", "new_comment_tokens": ["current", "directory", "history", ",", "or", "if", "empty", ",", "only", "current", "directory", "(", "as", "file", "[", "0", "]", ")", "."], "old_code": "private string [ ] get directory history ( ) { return new string [ ] { directory . get absolute path ( ) , str , str , str , str } ; }", "old_code_tokens": ["private", "string", "[", "]", "get", "directory", "history", "(", ")", "{", "return", "new", "string", "[", "]", "{", "directory", ".", "get", "absolute", "path", "(", ")", ",", "str", ",", "str", ",", "str", ",", "str", "}", ";", "}"], "new_code": "private file [ ] get directory history ( ) { file [ ] dirhist = settings . instance ( ) . get directory history ( ) ; if ( dirhist = = null | | dirhist . length = = num ) return new file [ ] { new file ( str ) . get absolute file ( ) } ; else return dirhist ; }", "new_code_tokens": ["private", "file", "[", "]", "get", "directory", "history", "(", ")", "{", "file", "[", "]", "dirhist", "=", "settings", ".", "instance", "(", ")", ".", "get", "directory", "history", "(", ")", ";", "if", "(", "dirhist", "=", "=", "null", "|", "|", "dirhist", ".", "length", "=", "=", "num", ")", "return", "new", "file", "[", "]", "{", "new", "file", "(", "str", ")", ".", "get", "absolute", "file", "(", ")", "}", ";", "else", "return", "dirhist", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> file <REPLACE_END> <KEEP> [ ] get directory history ( ) { <KEEP_END> <INSERT> file [ ] dirhist = settings . instance ( ) . get directory history ( ) ; if ( dirhist = = null | | dirhist . length = = num ) <INSERT_END> <KEEP> return new <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> file <REPLACE_END> <KEEP> [ ] { <KEEP_END> <REPLACE_OLD> directory <REPLACE_NEW> new file ( str ) <REPLACE_END> <KEEP> . get absolute <KEEP_END> <REPLACE_OLD> path <REPLACE_NEW> file <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> , str , str , str , str <DELETE_END> <KEEP> } ; <KEEP_END> <INSERT> else return dirhist ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "directory", "history", "(", ")", "{", "<KEEP_END>", "<INSERT>", "file", "[", "]", "dirhist", "=", "settings", ".", "instance", "(", ")", ".", "get", "directory", "history", "(", ")", ";", "if", "(", "dirhist", "=", "=", "null", "|", "|", "dirhist", ".", "length", "=", "=", "num", ")", "<INSERT_END>", "<KEEP>", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "<REPLACE_END>", "<KEEP>", "[", "]", "{", "<KEEP_END>", "<REPLACE_OLD>", "directory", "<REPLACE_NEW>", "new", "file", "(", "str", ")", "<REPLACE_END>", "<KEEP>", ".", "get", "absolute", "<KEEP_END>", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "file", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ",", "str", ",", "str", ",", "str", ",", "str", "<DELETE_END>", "<KEEP>", "}", ";", "<KEEP_END>", "<INSERT>", "else", "return", "dirhist", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> history <INSERT_NEW_KEEP_BEFORE> history , or if empty , only current directory ( as file [ 0 ] ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "history", "<INSERT_NEW_KEEP_BEFORE>", "history", ",", "or", "if", "empty", ",", "only", "current", "directory", "(", "as", "file", "[", "0", "]", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "directory", "<KEEP>", "history", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "file", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "dirhist", "<INSERT>", "=", "<INSERT>", "settings", "<INSERT>", ".", "<INSERT>", "instance", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "directory", "<INSERT>", "history", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "dirhist", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "dirhist", "<INSERT>", ".", "<INSERT>", "length", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ")", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "file", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<REPLACE_OLD>", "directory", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "absolute", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "file", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "str", "<KEEP>", "}", "<KEEP>", ";", "<INSERT>", "else", "<INSERT>", "return", "<INSERT>", "dirhist", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_jdk8u_jaxp-50-6324", "old_comment": "a vector containing all compile error messages", "old_comment_tokens": ["a", "vector", "containing", "all", "compile", "error", "messages"], "new_comment": "a list containing all compile error messages", "new_comment_tokens": ["a", "list", "containing", "all", "compile", "error", "messages"], "old_code": "public vector get errors ( ) { return _ parser . get errors ( ) ; }", "old_code_tokens": ["public", "vector", "get", "errors", "(", ")", "{", "return", "_", "parser", ".", "get", "errors", "(", ")", ";", "}"], "new_code": "public array list < error msg > get errors ( ) { return _ parser . get errors ( ) ; }", "new_code_tokens": ["public", "array", "list", "<", "error", "msg", ">", "get", "errors", "(", ")", "{", "return", "_", "parser", ".", "get", "errors", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> array list < error msg > <REPLACE_END> <KEEP> get errors ( ) { return _ parser . get errors ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "list", "<", "error", "msg", ">", "<REPLACE_END>", "<KEEP>", "get", "errors", "(", ")", "{", "return", "_", "parser", ".", "get", "errors", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "msg", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "errors", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "parser", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "errors", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bobmcwhirter_microcontainer-21-5872", "old_comment": "injection option instance", "old_comment_tokens": ["injection", "option", "instance"], "new_comment": "from context instance", "new_comment_tokens": ["from", "context", "instance"], "old_code": "public static from context get instance ( string option string ) { if ( name . get from string ( ) . equals ignore case ( option string ) ) return name ; else if ( metadata . get from string ( ) . equals ignore case ( option string ) ) return metadata ; else if ( scope . get from string ( ) . equals ignore case ( option string ) ) return scope ; else if ( id . get from string ( ) . equals ignore case ( option string ) ) return id ; else return new dynamic from context ( option string ) ; }", "old_code_tokens": ["public", "static", "from", "context", "get", "instance", "(", "string", "option", "string", ")", "{", "if", "(", "name", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "option", "string", ")", ")", "return", "name", ";", "else", "if", "(", "metadata", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "option", "string", ")", ")", "return", "metadata", ";", "else", "if", "(", "scope", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "option", "string", ")", ")", "return", "scope", ";", "else", "if", "(", "id", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "option", "string", ")", ")", "return", "id", ";", "else", "return", "new", "dynamic", "from", "context", "(", "option", "string", ")", ";", "}"], "new_code": "public static from context get instance ( string from string ) { if ( name . get from string ( ) . equals ignore case ( from string ) ) return name ; else if ( alias . get from string ( ) . equals ignore case ( from string ) ) return alias ; else if ( metadata . get from string ( ) . equals ignore case ( from string ) ) return metadata ; else if ( beaninfo . get from string ( ) . equals ignore case ( from string ) ) return beaninfo ; else if ( scope . get from string ( ) . equals ignore case ( from string ) ) return scope ; else if ( id . get from string ( ) . equals ignore case ( from string ) ) return id ; else return new dynamic from context ( from string ) ; }", "new_code_tokens": ["public", "static", "from", "context", "get", "instance", "(", "string", "from", "string", ")", "{", "if", "(", "name", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "name", ";", "else", "if", "(", "alias", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "alias", ";", "else", "if", "(", "metadata", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "metadata", ";", "else", "if", "(", "beaninfo", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "beaninfo", ";", "else", "if", "(", "scope", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "scope", ";", "else", "if", "(", "id", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "id", ";", "else", "return", "new", "dynamic", "from", "context", "(", "from", "string", ")", ";", "}"], "span_diff_code": "<KEEP> public static from context get instance ( string <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> from <REPLACE_END> <KEEP> string ) { if ( name . get from string ( ) . equals ignore case ( <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> from <REPLACE_END> <KEEP> string ) ) return name <KEEP_END> <INSERT> ; else if ( alias . get from string ( ) . equals ignore case ( from string ) ) return alias <INSERT_END> <KEEP> ; else if ( metadata . get from string ( ) . equals ignore case ( <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> from <REPLACE_END> <KEEP> string ) ) return metadata <KEEP_END> <INSERT> ; else if ( beaninfo . get from string ( ) . equals ignore case ( from string ) ) return beaninfo <INSERT_END> <KEEP> ; else if ( scope . get from string ( ) . equals ignore case ( <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> from <REPLACE_END> <KEEP> string ) ) return scope ; else if ( id . get from string ( ) . equals ignore case ( <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> from <REPLACE_END> <KEEP> string ) ) return id ; else return new dynamic from context ( <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> from <REPLACE_END> <KEEP> string ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "from", "context", "get", "instance", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<REPLACE_END>", "<KEEP>", "string", ")", "{", "if", "(", "name", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<REPLACE_END>", "<KEEP>", "string", ")", ")", "return", "name", "<KEEP_END>", "<INSERT>", ";", "else", "if", "(", "alias", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "alias", "<INSERT_END>", "<KEEP>", ";", "else", "if", "(", "metadata", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<REPLACE_END>", "<KEEP>", "string", ")", ")", "return", "metadata", "<KEEP_END>", "<INSERT>", ";", "else", "if", "(", "beaninfo", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "from", "string", ")", ")", "return", "beaninfo", "<INSERT_END>", "<KEEP>", ";", "else", "if", "(", "scope", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<REPLACE_END>", "<KEEP>", "string", ")", ")", "return", "scope", ";", "else", "if", "(", "id", ".", "get", "from", "string", "(", ")", ".", "equals", "ignore", "case", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<REPLACE_END>", "<KEEP>", "string", ")", ")", "return", "id", ";", "else", "return", "new", "dynamic", "from", "context", "(", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<REPLACE_END>", "<KEEP>", "string", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> injection option <REPLACE_NEW> from context <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "injection", "option", "<REPLACE_NEW>", "from", "context", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "from", "<KEEP>", "context", "<KEEP>", "get", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "name", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "alias", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "from", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "ignore", "<INSERT>", "case", "<INSERT>", "(", "<INSERT>", "from", "<INSERT>", "string", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "alias", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "metadata", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "metadata", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "beaninfo", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "from", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "ignore", "<INSERT>", "case", "<INSERT>", "(", "<INSERT>", "from", "<INSERT>", "string", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "beaninfo", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "scope", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "scope", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "from", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "ignore", "<KEEP>", "case", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "dynamic", "<KEEP>", "from", "<KEEP>", "context", "<KEEP>", "(", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "from", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_platypus-13-5294", "old_comment": "status . ok , if all went well ; status . file _ not _ found _ err if file not found .", "old_comment_tokens": ["status", ".", "ok", ",", "if", "all", "went", "well", ";", "status", ".", "file", "_", "not", "_", "found", "_", "err", "if", "file", "not", "found", "."], "new_comment": "the buffered reader , if all went well ; otherwise , null .", "new_comment_tokens": ["the", "buffered", "reader", ",", "if", "all", "went", "well", ";", "otherwise", ",", "null", "."], "old_code": "int open ( ) { try { in reader = new buffered reader ( new file reader ( filename ) ) ; } catch ( file not found exception e ) { return ( status . file _ not _ found _ err ) ; } return ( status . ok ) ; }", "old_code_tokens": ["int", "open", "(", ")", "{", "try", "{", "in", "reader", "=", "new", "buffered", "reader", "(", "new", "file", "reader", "(", "filename", ")", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "e", ")", "{", "return", "(", "status", ".", "file", "_", "not", "_", "found", "_", "err", ")", ";", "}", "return", "(", "status", ".", "ok", ")", ";", "}"], "new_code": "public buffered reader open ( final string file name ) { buffered reader reader ; try { reader = new buffered reader ( new file reader ( file name ) ) ; } catch ( file not found exception e ) { return ( null ) ; } return ( reader ) ; }", "new_code_tokens": ["public", "buffered", "reader", "open", "(", "final", "string", "file", "name", ")", "{", "buffered", "reader", "reader", ";", "try", "{", "reader", "=", "new", "buffered", "reader", "(", "new", "file", "reader", "(", "file", "name", ")", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "e", ")", "{", "return", "(", "null", ")", ";", "}", "return", "(", "reader", ")", ";", "}"], "span_diff_code": "<REPLACE_OLD> int <REPLACE_NEW> public buffered reader <REPLACE_END> <KEEP> open ( <KEEP_END> <INSERT> final string file name <INSERT_END> <KEEP> ) { <KEEP_END> <INSERT> buffered reader reader ; <INSERT_END> <KEEP> try { <KEEP_END> <DELETE> in <DELETE_END> <KEEP> reader = new buffered reader ( new file reader ( <KEEP_END> <REPLACE_OLD> filename <REPLACE_NEW> file name <REPLACE_END> <KEEP> ) ) ; } catch ( file not found exception e ) { return ( <KEEP_END> <REPLACE_OLD> status . file _ not _ found _ err <REPLACE_NEW> null <REPLACE_END> <KEEP> ) ; } return ( <KEEP_END> <REPLACE_OLD> status . ok <REPLACE_NEW> reader <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "int", "<REPLACE_NEW>", "public", "buffered", "reader", "<REPLACE_END>", "<KEEP>", "open", "(", "<KEEP_END>", "<INSERT>", "final", "string", "file", "name", "<INSERT_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<INSERT>", "buffered", "reader", "reader", ";", "<INSERT_END>", "<KEEP>", "try", "{", "<KEEP_END>", "<DELETE>", "in", "<DELETE_END>", "<KEEP>", "reader", "=", "new", "buffered", "reader", "(", "new", "file", "reader", "(", "<KEEP_END>", "<REPLACE_OLD>", "filename", "<REPLACE_NEW>", "file", "name", "<REPLACE_END>", "<KEEP>", ")", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "e", ")", "{", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "status", ".", "file", "_", "not", "_", "found", "_", "err", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "return", "(", "<KEEP_END>", "<REPLACE_OLD>", "status", ".", "ok", "<REPLACE_NEW>", "reader", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> status . ok <REPLACE_NEW> the buffered reader <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> ; status <REPLACE_NEW_KEEP_BEFORE> ; otherwise , null <REPLACE_END> <DELETE> file _ not _ found _ err if file not found . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "status", ".", "ok", "<REPLACE_NEW>", "the", "buffered", "reader", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", ";", "status", "<REPLACE_NEW_KEEP_BEFORE>", ";", "otherwise", ",", "null", "<REPLACE_END>", "<DELETE>", "file", "_", "not", "_", "found", "_", "err", "if", "file", "not", "found", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "int", "<REPLACE_NEW>", "public", "<REPLACE_NEW>", "buffered", "<REPLACE_NEW>", "reader", "<KEEP>", "open", "<KEEP>", "(", "<INSERT>", "final", "<INSERT>", "string", "<INSERT>", "file", "<INSERT>", "name", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "buffered", "<INSERT>", "reader", "<INSERT>", "reader", "<INSERT>", ";", "<KEEP>", "try", "<KEEP>", "{", "<DELETE>", "in", "<KEEP>", "reader", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "reader", "<KEEP>", "(", "<REPLACE_OLD>", "filename", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "not", "<KEEP>", "found", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "not", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "found", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "err", "<REPLACE_NEW>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "(", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "ok", "<REPLACE_NEW>", "reader", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "albfan_sqlworkbenchj-44-4375", "old_comment": "input value without any characters that might not be allowed for a filename", "old_comment_tokens": ["input", "value", "without", "any", "characters", "that", "might", "not", "be", "allowed", "for", "a", "filename"], "new_comment": "input value without any characters that might not be allowed for a filename converted to lowercase", "new_comment_tokens": ["input", "value", "without", "any", "characters", "that", "might", "not", "be", "allowed", "for", "a", "filename", "converted", "to", "lowercase"], "old_code": "public static final string make filename ( string input ) { return input . replace all ( str , str ) ; }", "old_code_tokens": ["public", "static", "final", "string", "make", "filename", "(", "string", "input", ")", "{", "return", "input", ".", "replace", "all", "(", "str", ",", "str", ")", ";", "}"], "new_code": "public static final string make filename ( string input ) { if ( input = = null ) return null ; if ( input . equals ( str ) ) return str ; if ( input . equals ( str ) ) return str ; return input . replace all ( str , str ) . to lower case ( ) ; }", "new_code_tokens": ["public", "static", "final", "string", "make", "filename", "(", "string", "input", ")", "{", "if", "(", "input", "=", "=", "null", ")", "return", "null", ";", "if", "(", "input", ".", "equals", "(", "str", ")", ")", "return", "str", ";", "if", "(", "input", ".", "equals", "(", "str", ")", ")", "return", "str", ";", "return", "input", ".", "replace", "all", "(", "str", ",", "str", ")", ".", "to", "lower", "case", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static final string make filename ( string input ) { <KEEP_END> <INSERT> if ( input = = null ) return null ; if ( input . equals ( str ) ) return str ; if ( input . equals ( str ) ) return str ; <INSERT_END> <KEEP> return input . replace all ( str , str ) <KEEP_END> <INSERT> . to lower case ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "string", "make", "filename", "(", "string", "input", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "input", "=", "=", "null", ")", "return", "null", ";", "if", "(", "input", ".", "equals", "(", "str", ")", ")", "return", "str", ";", "if", "(", "input", ".", "equals", "(", "str", ")", ")", "return", "str", ";", "<INSERT_END>", "<KEEP>", "return", "input", ".", "replace", "all", "(", "str", ",", "str", ")", "<KEEP_END>", "<INSERT>", ".", "to", "lower", "case", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> filename <INSERT_NEW_KEEP_BEFORE> filename converted to lowercase <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "filename", "<INSERT_NEW_KEEP_BEFORE>", "filename", "converted", "to", "lowercase", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "make", "<KEEP>", "filename", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "input", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "input", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "input", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "str", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "input", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "str", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "input", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "all", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "lower", "<INSERT>", "case", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wso2-extensions_tomcat-extension-openidsso-1-7448", "old_comment": "user info response object", "old_comment_tokens": ["user", "info", "response", "object"], "new_comment": "user information response object with received values .", "new_comment_tokens": ["user", "information", "response", "object", "with", "received", "values", "."], "old_code": "public user info response get user info ( oidcconfiguration oidc configuration , string acs token ) throws user info exception { bearer access token access token = new bearer access token ( acs token ) ; uri user info endpoint = oidc configuration . get user info endpoint ( ) ; user info request user info request = new user info request ( user info endpoint , access token ) ; httprequest request = user info request . to httprequest ( ) ; return process user info response ( request ) ; }", "old_code_tokens": ["public", "user", "info", "response", "get", "user", "info", "(", "oidcconfiguration", "oidc", "configuration", ",", "string", "acs", "token", ")", "throws", "user", "info", "exception", "{", "bearer", "access", "token", "access", "token", "=", "new", "bearer", "access", "token", "(", "acs", "token", ")", ";", "uri", "user", "info", "endpoint", "=", "oidc", "configuration", ".", "get", "user", "info", "endpoint", "(", ")", ";", "user", "info", "request", "user", "info", "request", "=", "new", "user", "info", "request", "(", "user", "info", "endpoint", ",", "access", "token", ")", ";", "httprequest", "request", "=", "user", "info", "request", ".", "to", "httprequest", "(", ")", ";", "return", "process", "user", "info", "response", "(", "request", ")", ";", "}"], "new_code": "public user information response get user info ( oidcconfiguration oidc configuration , string acs token ) throws user info exception { bearer access token access token = new bearer access token ( acs token ) ; uri user info endpoint = oidc configuration . get user info endpoint ( ) ; user info request user info request = new user info request ( user info endpoint , access token ) ; httprequest request = user info request . to httprequest ( ) ; return process user info response ( request ) ; }", "new_code_tokens": ["public", "user", "information", "response", "get", "user", "info", "(", "oidcconfiguration", "oidc", "configuration", ",", "string", "acs", "token", ")", "throws", "user", "info", "exception", "{", "bearer", "access", "token", "access", "token", "=", "new", "bearer", "access", "token", "(", "acs", "token", ")", ";", "uri", "user", "info", "endpoint", "=", "oidc", "configuration", ".", "get", "user", "info", "endpoint", "(", ")", ";", "user", "info", "request", "user", "info", "request", "=", "new", "user", "info", "request", "(", "user", "info", "endpoint", ",", "access", "token", ")", ";", "httprequest", "request", "=", "user", "info", "request", ".", "to", "httprequest", "(", ")", ";", "return", "process", "user", "info", "response", "(", "request", ")", ";", "}"], "span_diff_code": "<KEEP> public user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response get user info ( oidcconfiguration oidc configuration , string acs token ) throws user info exception { bearer access token access token = new bearer access token ( acs token ) ; uri user info endpoint = oidc configuration . get user info endpoint ( ) ; user info request user info request = new user info request ( user info endpoint , access token ) ; httprequest request = user info request . to httprequest ( ) ; return process user info response ( request ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "get", "user", "info", "(", "oidcconfiguration", "oidc", "configuration", ",", "string", "acs", "token", ")", "throws", "user", "info", "exception", "{", "bearer", "access", "token", "access", "token", "=", "new", "bearer", "access", "token", "(", "acs", "token", ")", ";", "uri", "user", "info", "endpoint", "=", "oidc", "configuration", ".", "get", "user", "info", "endpoint", "(", ")", ";", "user", "info", "request", "user", "info", "request", "=", "new", "user", "info", "request", "(", "user", "info", "endpoint", ",", "access", "token", ")", ";", "httprequest", "request", "=", "user", "info", "request", ".", "to", "httprequest", "(", ")", ";", "return", "process", "user", "info", "response", "(", "request", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> object <INSERT_NEW_KEEP_BEFORE> object with received values . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "object", "<INSERT_NEW_KEEP_BEFORE>", "object", "with", "received", "values", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "oidcconfiguration", "<KEEP>", "oidc", "<KEEP>", "configuration", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "acs", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "bearer", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "bearer", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", "acs", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "uri", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "endpoint", "<KEEP>", "=", "<KEEP>", "oidc", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "endpoint", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "request", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "endpoint", "<KEEP>", ",", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "httprequest", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "httprequest", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "process", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-avatica-138-5438", "old_comment": "project rel corresponding to the right child", "old_comment_tokens": ["project", "rel", "corresponding", "to", "the", "right", "child"], "new_comment": "logical project corresponding to the right child", "new_comment_tokens": ["logical", "project", "corresponding", "to", "the", "right", "child"], "old_code": "protected project rel base get right child ( rel opt rule call call ) { return call . rel ( num ) ; }", "old_code_tokens": ["protected", "project", "rel", "base", "get", "right", "child", "(", "rel", "opt", "rule", "call", "call", ")", "{", "return", "call", ".", "rel", "(", "num", ")", ";", "}"], "new_code": "protected project get right child ( rel opt rule call call ) { return call . rel ( num ) ; }", "new_code_tokens": ["protected", "project", "get", "right", "child", "(", "rel", "opt", "rule", "call", "call", ")", "{", "return", "call", ".", "rel", "(", "num", ")", ";", "}"], "span_diff_code": "<KEEP> protected project <KEEP_END> <DELETE> rel base <DELETE_END> <KEEP> get right child ( rel opt rule call call ) { return call . rel ( num ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "project", "<KEEP_END>", "<DELETE>", "rel", "base", "<DELETE_END>", "<KEEP>", "get", "right", "child", "(", "rel", "opt", "rule", "call", "call", ")", "{", "return", "call", ".", "rel", "(", "num", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> project <INSERT_NEW_KEEP_AFTER> logical project <INSERT_END> <DELETE> rel <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "project", "<INSERT_NEW_KEEP_AFTER>", "logical", "project", "<INSERT_END>", "<DELETE>", "rel", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "project", "<DELETE>", "rel", "<DELETE>", "base", "<KEEP>", "get", "<KEEP>", "right", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "rel", "<KEEP>", "opt", "<KEEP>", "rule", "<KEEP>", "call", "<KEEP>", "call", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "call", "<KEEP>", ".", "<KEEP>", "rel", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jackyglony_objectiveclipse-313-3918", "old_comment": "the java . lang . runnable ( ) operation associated with this page that should be run during the wizard ' s do run epilogue ( ) method . this operation should only be executed if in fact the page is visible .", "old_comment_tokens": ["the", "java", ".", "lang", ".", "runnable", "(", ")", "operation", "associated", "with", "this", "page", "that", "should", "be", "run", "during", "the", "wizard", "'", "s", "do", "run", "epilogue", "(", ")", "method", ".", "this", "operation", "should", "only", "be", "executed", "if", "in", "fact", "the", "page", "is", "visible", "."], "new_comment": "the irunnable with progress operation associated with this page that should be run during the wizard ' s do run epilogue ( ) method . this operation should only be executed if in fact the page is visible .", "new_comment_tokens": ["the", "irunnable", "with", "progress", "operation", "associated", "with", "this", "page", "that", "should", "be", "run", "during", "the", "wizard", "'", "s", "do", "run", "epilogue", "(", ")", "method", ".", "this", "operation", "should", "only", "be", "executed", "if", "in", "fact", "the", "page", "is", "visible", "."], "old_code": "public runnable get operation ( ) { return operation ; }", "old_code_tokens": ["public", "runnable", "get", "operation", "(", ")", "{", "return", "operation", ";", "}"], "new_code": "public irunnable with progress get operation ( ) { return operation ; }", "new_code_tokens": ["public", "irunnable", "with", "progress", "get", "operation", "(", ")", "{", "return", "operation", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> runnable <REPLACE_NEW> irunnable with progress <REPLACE_END> <KEEP> get operation ( ) { return operation ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "runnable", "<REPLACE_NEW>", "irunnable", "with", "progress", "<REPLACE_END>", "<KEEP>", "get", "operation", "(", ")", "{", "return", "operation", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> java . lang . runnable ( ) <REPLACE_NEW> irunnable with progress <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "java", ".", "lang", ".", "runnable", "(", ")", "<REPLACE_NEW>", "irunnable", "with", "progress", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "runnable", "<REPLACE_NEW>", "irunnable", "<REPLACE_NEW>", "with", "<REPLACE_NEW>", "progress", "<KEEP>", "get", "<KEEP>", "operation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "operation", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mongodb_morphia-22-4544", "old_comment": "the field for this accumulator", "old_comment_tokens": ["the", "field", "for", "this", "accumulator"], "new_comment": "the value for this accumulator", "new_comment_tokens": ["the", "value", "for", "this", "accumulator"], "old_code": "public object get field ( ) { return field ; }", "old_code_tokens": ["public", "object", "get", "field", "(", ")", "{", "return", "field", ";", "}"], "new_code": "@ deprecated public object get field ( ) { return get value ( ) ; }", "new_code_tokens": ["@", "deprecated", "public", "object", "get", "field", "(", ")", "{", "return", "get", "value", "(", ")", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public object get field ( ) { return <KEEP_END> <REPLACE_OLD> field <REPLACE_NEW> get value ( ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "object", "get", "field", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "field", "<REPLACE_NEW>", "get", "value", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> field <REPLACE_NEW> value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "field", "<REPLACE_NEW>", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bmc_curn-3-4418", "old_comment": "an open input stream , or null if no suitable output was produced", "old_comment_tokens": ["an", "open", "input", "stream", ",", "or", "null", "if", "no", "suitable", "output", "was", "produced"], "new_comment": "the output file , or null if no suitable output was produced", "new_comment_tokens": ["the", "output", "file", ",", "or", "null", "if", "no", "suitable", "output", "was", "produced"], "old_code": "public final input stream get generated output ( ) throws curn exception { input stream result = null ; if ( has generated output ( ) ) { try { result = new file input stream ( output file ) ; } catch ( file not found exception ex ) { throw new curn exception ( curn . bundle _ name , str , str , new object [ ] { output file } , ex ) ; } } return result ; }", "old_code_tokens": ["public", "final", "input", "stream", "get", "generated", "output", "(", ")", "throws", "curn", "exception", "{", "input", "stream", "result", "=", "null", ";", "if", "(", "has", "generated", "output", "(", ")", ")", "{", "try", "{", "result", "=", "new", "file", "input", "stream", "(", "output", "file", ")", ";", "}", "catch", "(", "file", "not", "found", "exception", "ex", ")", "{", "throw", "new", "curn", "exception", "(", "curn", ".", "bundle", "_", "name", ",", "str", ",", "str", ",", "new", "object", "[", "]", "{", "output", "file", "}", ",", "ex", ")", ";", "}", "}", "return", "result", ";", "}"], "new_code": "public final file get generated output ( ) throws curn exception { return has generated output ( ) ? output file : null ; }", "new_code_tokens": ["public", "final", "file", "get", "generated", "output", "(", ")", "throws", "curn", "exception", "{", "return", "has", "generated", "output", "(", ")", "?", "output", "file", ":", "null", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <REPLACE_OLD> input stream <REPLACE_NEW> file <REPLACE_END> <KEEP> get generated output ( ) throws curn exception { <KEEP_END> <REPLACE_OLD> input stream result = null ; if ( <REPLACE_NEW> return <REPLACE_END> <KEEP> has generated output ( ) <KEEP_END> <REPLACE_OLD> ) { try { result = new file input stream ( <REPLACE_NEW> ? <REPLACE_END> <KEEP> output file <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> : null <REPLACE_END> <KEEP> ; } <KEEP_END> <DELETE> catch ( file not found exception ex ) { throw new curn exception ( curn . bundle _ name , str , str , new object [ ] { output file } , ex ) ; } } return result ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<REPLACE_OLD>", "input", "stream", "<REPLACE_NEW>", "file", "<REPLACE_END>", "<KEEP>", "get", "generated", "output", "(", ")", "throws", "curn", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "input", "stream", "result", "=", "null", ";", "if", "(", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "has", "generated", "output", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "try", "{", "result", "=", "new", "file", "input", "stream", "(", "<REPLACE_NEW>", "?", "<REPLACE_END>", "<KEEP>", "output", "file", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ":", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "file", "not", "found", "exception", "ex", ")", "{", "throw", "new", "curn", "exception", "(", "curn", ".", "bundle", "_", "name", ",", "str", ",", "str", ",", "new", "object", "[", "]", "{", "output", "file", "}", ",", "ex", ")", ";", "}", "}", "return", "result", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> an open input stream <REPLACE_NEW> the output file <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "an", "open", "input", "stream", "<REPLACE_NEW>", "the", "output", "file", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "file", "<KEEP>", "get", "<KEEP>", "generated", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "curn", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "return", "<KEEP>", "has", "<KEEP>", "generated", "<KEEP>", "output", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "?", "<KEEP>", "output", "<KEEP>", "file", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "file", "<DELETE>", "not", "<DELETE>", "found", "<DELETE>", "exception", "<DELETE>", "ex", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "curn", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "curn", "<DELETE>", ".", "<DELETE>", "bundle", "<DELETE>", "_", "<DELETE>", "name", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "new", "<DELETE>", "object", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "{", "<DELETE>", "output", "<DELETE>", "file", "<DELETE>", "}", "<DELETE>", ",", "<DELETE>", "ex", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "result", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "cemcatik_jtds-86-3787", "old_comment": "the update counts as an int [ ]", "old_comment_tokens": ["the", "update", "counts", "as", "an", "int", "[", "]"], "new_comment": "updated sqlexception or null if no error has yet occured", "new_comment_tokens": ["updated", "sqlexception", "or", "null", "if", "no", "error", "has", "yet", "occured"], "old_code": "int [ ] get batch counts ( ) throws batch update exception { array list counts = new array list ( ) ; integer last count = jtds statement . success _ no _ info ; batch update exception batch ex = null ; try { check open ( ) ; while ( ! end of response ) { next token ( ) ; if ( current token . is result set ( ) ) { throw new sqlexception ( messages . get ( str ) , str ) ; } switch ( current token . token ) { case tds _ done _ token : if ( ( current token . status & done _ error ) ! = num ) { counts . add ( jtds statement . execute _ failed ) ; } else { if ( current token . is update count ( ) ) { counts . add ( new integer ( current token . update count ) ) ; } else { counts . add ( last count ) ; } } last count = jtds statement . success _ no _ info ; break ; case tds _ doneinproc _ token : if ( ( current token . status & done _ error ) ! = num ) { last count = jtds statement . execute _ failed ; } else if ( current token . is update count ( ) ) { last count = new integer ( current token . update count ) ; } break ; case tds _ doneproc _ token : if ( ( current token . status & done _ error ) ! = num ) { counts . add ( jtds statement . execute _ failed ) ; } else { counts . add ( last count ) ; } last count = jtds statement . success _ no _ info ; break ; } } messages . check errors ( ) ; } catch ( sqlexception e ) { int [ ] results = new int [ counts . size ( ) ] ; for ( int i = num ; i < results . length ; i + + ) { results [ i ] = ( ( integer ) counts . get ( i ) ) . int value ( ) ; } batch ex = new batch update exception ( e . get message ( ) , e . get sqlstate ( ) , e . get error code ( ) , results ) ; throw batch ex ; } finally { while ( ! end of response ) { try { next token ( ) ; } catch ( sqlexception ex ) { if ( batch ex ! = null ) { batch ex . set next exception ( ex ) ; } } } } int [ ] results = new int [ counts . size ( ) ] ; for ( int i = num ; i < results . length ; i + + ) { results [ i ] = ( ( integer ) counts . get ( i ) ) . int value ( ) ; } return results ; }", "old_code_tokens": ["int", "[", "]", "get", "batch", "counts", "(", ")", "throws", "batch", "update", "exception", "{", "array", "list", "counts", "=", "new", "array", "list", "(", ")", ";", "integer", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "batch", "update", "exception", "batch", "ex", "=", "null", ";", "try", "{", "check", "open", "(", ")", ";", "while", "(", "!", "end", "of", "response", ")", "{", "next", "token", "(", ")", ";", "if", "(", "current", "token", ".", "is", "result", "set", "(", ")", ")", "{", "throw", "new", "sqlexception", "(", "messages", ".", "get", "(", "str", ")", ",", "str", ")", ";", "}", "switch", "(", "current", "token", ".", "token", ")", "{", "case", "tds", "_", "done", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", ")", "{", "counts", ".", "add", "(", "jtds", "statement", ".", "execute", "_", "failed", ")", ";", "}", "else", "{", "if", "(", "current", "token", ".", "is", "update", "count", "(", ")", ")", "{", "counts", ".", "add", "(", "new", "integer", "(", "current", "token", ".", "update", "count", ")", ")", ";", "}", "else", "{", "counts", ".", "add", "(", "last", "count", ")", ";", "}", "}", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "break", ";", "case", "tds", "_", "doneinproc", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", ")", "{", "last", "count", "=", "jtds", "statement", ".", "execute", "_", "failed", ";", "}", "else", "if", "(", "current", "token", ".", "is", "update", "count", "(", ")", ")", "{", "last", "count", "=", "new", "integer", "(", "current", "token", ".", "update", "count", ")", ";", "}", "break", ";", "case", "tds", "_", "doneproc", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", ")", "{", "counts", ".", "add", "(", "jtds", "statement", ".", "execute", "_", "failed", ")", ";", "}", "else", "{", "counts", ".", "add", "(", "last", "count", ")", ";", "}", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "break", ";", "}", "}", "messages", ".", "check", "errors", "(", ")", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "int", "[", "]", "results", "=", "new", "int", "[", "counts", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "results", ".", "length", ";", "i", "+", "+", ")", "{", "results", "[", "i", "]", "=", "(", "(", "integer", ")", "counts", ".", "get", "(", "i", ")", ")", ".", "int", "value", "(", ")", ";", "}", "batch", "ex", "=", "new", "batch", "update", "exception", "(", "e", ".", "get", "message", "(", ")", ",", "e", ".", "get", "sqlstate", "(", ")", ",", "e", ".", "get", "error", "code", "(", ")", ",", "results", ")", ";", "throw", "batch", "ex", ";", "}", "finally", "{", "while", "(", "!", "end", "of", "response", ")", "{", "try", "{", "next", "token", "(", ")", ";", "}", "catch", "(", "sqlexception", "ex", ")", "{", "if", "(", "batch", "ex", "!", "=", "null", ")", "{", "batch", "ex", ".", "set", "next", "exception", "(", "ex", ")", ";", "}", "}", "}", "}", "int", "[", "]", "results", "=", "new", "int", "[", "counts", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "results", ".", "length", ";", "i", "+", "+", ")", "{", "results", "[", "i", "]", "=", "(", "(", "integer", ")", "counts", ".", "get", "(", "i", ")", ")", ".", "int", "value", "(", ")", ";", "}", "return", "results", ";", "}"], "new_code": "sqlexception get batch counts ( array list counts , sqlexception sql ex ) { integer last count = jtds statement . success _ no _ info ; try { check open ( ) ; while ( ! end of response ) { next token ( ) ; if ( current token . is result set ( ) ) { throw new sqlexception ( messages . get ( str ) , str ) ; } switch ( current token . token ) { case tds _ done _ token : if ( ( current token . status & done _ error ) ! = num | | last count = = jtds statement . execute _ failed ) { if ( connection . get server type ( ) = = driver . sybase ) { counts . add ( jtds statement . execute _ failed ) ; } } else { if ( current token . is update count ( ) ) { counts . add ( new integer ( current token . update count ) ) ; } else { counts . add ( last count ) ; } } last count = jtds statement . success _ no _ info ; break ; case tds _ doneinproc _ token : if ( ( current token . status & done _ error ) ! = num ) { last count = jtds statement . execute _ failed ; } else if ( current token . is update count ( ) ) { last count = new integer ( current token . update count ) ; } break ; case tds _ doneproc _ token : if ( ( current token . status & done _ error ) ! = num | | last count = = jtds statement . execute _ failed ) { if ( connection . get server type ( ) = = driver . sybase ) { counts . add ( jtds statement . execute _ failed ) ; } } else { counts . add ( last count ) ; } last count = jtds statement . success _ no _ info ; break ; } } messages . check errors ( ) ; } catch ( sqlexception e ) { if ( sql ex ! = null ) { sql ex . set next exception ( e ) ; } else { sql ex = e ; } } finally { while ( ! end of response ) { try { next token ( ) ; } catch ( sqlexception ex ) { if ( sql ex ! = null ) { sql ex . set next exception ( ex ) ; } else { sql ex = ex ; } } } } return sql ex ; }", "new_code_tokens": ["sqlexception", "get", "batch", "counts", "(", "array", "list", "counts", ",", "sqlexception", "sql", "ex", ")", "{", "integer", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "try", "{", "check", "open", "(", ")", ";", "while", "(", "!", "end", "of", "response", ")", "{", "next", "token", "(", ")", ";", "if", "(", "current", "token", ".", "is", "result", "set", "(", ")", ")", "{", "throw", "new", "sqlexception", "(", "messages", ".", "get", "(", "str", ")", ",", "str", ")", ";", "}", "switch", "(", "current", "token", ".", "token", ")", "{", "case", "tds", "_", "done", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", "|", "|", "last", "count", "=", "=", "jtds", "statement", ".", "execute", "_", "failed", ")", "{", "if", "(", "connection", ".", "get", "server", "type", "(", ")", "=", "=", "driver", ".", "sybase", ")", "{", "counts", ".", "add", "(", "jtds", "statement", ".", "execute", "_", "failed", ")", ";", "}", "}", "else", "{", "if", "(", "current", "token", ".", "is", "update", "count", "(", ")", ")", "{", "counts", ".", "add", "(", "new", "integer", "(", "current", "token", ".", "update", "count", ")", ")", ";", "}", "else", "{", "counts", ".", "add", "(", "last", "count", ")", ";", "}", "}", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "break", ";", "case", "tds", "_", "doneinproc", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", ")", "{", "last", "count", "=", "jtds", "statement", ".", "execute", "_", "failed", ";", "}", "else", "if", "(", "current", "token", ".", "is", "update", "count", "(", ")", ")", "{", "last", "count", "=", "new", "integer", "(", "current", "token", ".", "update", "count", ")", ";", "}", "break", ";", "case", "tds", "_", "doneproc", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", "|", "|", "last", "count", "=", "=", "jtds", "statement", ".", "execute", "_", "failed", ")", "{", "if", "(", "connection", ".", "get", "server", "type", "(", ")", "=", "=", "driver", ".", "sybase", ")", "{", "counts", ".", "add", "(", "jtds", "statement", ".", "execute", "_", "failed", ")", ";", "}", "}", "else", "{", "counts", ".", "add", "(", "last", "count", ")", ";", "}", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "break", ";", "}", "}", "messages", ".", "check", "errors", "(", ")", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "if", "(", "sql", "ex", "!", "=", "null", ")", "{", "sql", "ex", ".", "set", "next", "exception", "(", "e", ")", ";", "}", "else", "{", "sql", "ex", "=", "e", ";", "}", "}", "finally", "{", "while", "(", "!", "end", "of", "response", ")", "{", "try", "{", "next", "token", "(", ")", ";", "}", "catch", "(", "sqlexception", "ex", ")", "{", "if", "(", "sql", "ex", "!", "=", "null", ")", "{", "sql", "ex", ".", "set", "next", "exception", "(", "ex", ")", ";", "}", "else", "{", "sql", "ex", "=", "ex", ";", "}", "}", "}", "}", "return", "sql", "ex", ";", "}"], "span_diff_code": "<REPLACE_OLD> int [ ] <REPLACE_NEW> sqlexception <REPLACE_END> <KEEP> get batch counts ( <KEEP_END> <DELETE> ) throws batch update exception { <DELETE_END> <KEEP> array list counts <KEEP_END> <REPLACE_OLD> = new array list ( ) ; <REPLACE_NEW> , sqlexception sql ex ) { <REPLACE_END> <KEEP> integer last count = jtds statement . success _ no _ info <KEEP_END> <DELETE> ; batch update exception batch ex = null <DELETE_END> <KEEP> ; try { check open ( ) ; while ( ! end of response ) { next token ( ) ; if ( current token . is result set ( ) ) { throw new sqlexception ( messages . get ( str ) , str ) ; } switch ( current token . token ) { case tds _ done _ token : if ( ( current token . status & done _ error ) ! = num <KEEP_END> <INSERT> | | last count = = jtds statement . execute _ failed ) { if ( connection . get server type ( ) = = driver . sybase <INSERT_END> <KEEP> ) { counts . add ( jtds statement . execute _ failed ) ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> } else { if ( current token . is update count ( ) ) { counts . add ( new integer ( current token . update count ) ) ; } else { counts . add ( last count ) ; } } last count = jtds statement . success _ no _ info ; break ; case tds _ doneinproc _ token : if ( ( current token . status & done _ error ) ! = num ) { last count = jtds statement . execute _ failed ; } else if ( current token . is update count ( ) ) { last count = new integer ( current token . update count ) ; } break ; case tds _ doneproc _ token : if ( ( current token . status & done _ error ) ! = num <KEEP_END> <INSERT> | | last count = = jtds statement . execute _ failed ) { if ( connection . get server type ( ) = = driver . sybase <INSERT_END> <KEEP> ) { counts . add ( jtds statement . execute _ failed ) ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> } else { counts . add ( last count ) ; } last count = jtds statement . success _ no _ info ; break ; } } messages . check errors ( ) ; } catch ( sqlexception e ) { <KEEP_END> <REPLACE_OLD> int [ ] results = new int [ counts . size ( ) ] ; for ( int i = num ; i < results . length ; i + + ) { results [ i ] = ( ( integer ) counts . get ( i ) ) . int value ( ) ; } batch ex = new batch update <REPLACE_NEW> if ( sql ex ! = null ) { sql ex . set next <REPLACE_END> <KEEP> exception ( e <KEEP_END> <REPLACE_OLD> . get message ( ) , <REPLACE_NEW> ) ; } else { sql ex = <REPLACE_END> <KEEP> e <KEEP_END> <REPLACE_OLD> . get sqlstate ( ) , e . get error code ( ) , results ) ; throw batch ex ; <REPLACE_NEW> ; } <REPLACE_END> <KEEP> } finally { while ( ! end of response ) { try { next token ( ) ; } catch ( sqlexception ex ) { if ( <KEEP_END> <REPLACE_OLD> batch <REPLACE_NEW> sql <REPLACE_END> <KEEP> ex ! = null ) { <KEEP_END> <REPLACE_OLD> batch <REPLACE_NEW> sql <REPLACE_END> <KEEP> ex . set next exception ( ex ) ; } <KEEP_END> <REPLACE_OLD> } } } int [ ] results = new int [ counts . size ( ) ] ; for ( int i = num ; i < results . length ; i + + ) { results [ i ] = ( ( integer ) counts . get ( i ) ) . int value ( ) ; <REPLACE_NEW> else { sql ex = ex ; } } } <REPLACE_END> <KEEP> } return <KEEP_END> <REPLACE_OLD> results ; } <REPLACE_NEW> sql ex ; } <REPLACE_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "int", "[", "]", "<REPLACE_NEW>", "sqlexception", "<REPLACE_END>", "<KEEP>", "get", "batch", "counts", "(", "<KEEP_END>", "<DELETE>", ")", "throws", "batch", "update", "exception", "{", "<DELETE_END>", "<KEEP>", "array", "list", "counts", "<KEEP_END>", "<REPLACE_OLD>", "=", "new", "array", "list", "(", ")", ";", "<REPLACE_NEW>", ",", "sqlexception", "sql", "ex", ")", "{", "<REPLACE_END>", "<KEEP>", "integer", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", "<KEEP_END>", "<DELETE>", ";", "batch", "update", "exception", "batch", "ex", "=", "null", "<DELETE_END>", "<KEEP>", ";", "try", "{", "check", "open", "(", ")", ";", "while", "(", "!", "end", "of", "response", ")", "{", "next", "token", "(", ")", ";", "if", "(", "current", "token", ".", "is", "result", "set", "(", ")", ")", "{", "throw", "new", "sqlexception", "(", "messages", ".", "get", "(", "str", ")", ",", "str", ")", ";", "}", "switch", "(", "current", "token", ".", "token", ")", "{", "case", "tds", "_", "done", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", "<KEEP_END>", "<INSERT>", "|", "|", "last", "count", "=", "=", "jtds", "statement", ".", "execute", "_", "failed", ")", "{", "if", "(", "connection", ".", "get", "server", "type", "(", ")", "=", "=", "driver", ".", "sybase", "<INSERT_END>", "<KEEP>", ")", "{", "counts", ".", "add", "(", "jtds", "statement", ".", "execute", "_", "failed", ")", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "}", "else", "{", "if", "(", "current", "token", ".", "is", "update", "count", "(", ")", ")", "{", "counts", ".", "add", "(", "new", "integer", "(", "current", "token", ".", "update", "count", ")", ")", ";", "}", "else", "{", "counts", ".", "add", "(", "last", "count", ")", ";", "}", "}", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "break", ";", "case", "tds", "_", "doneinproc", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", ")", "{", "last", "count", "=", "jtds", "statement", ".", "execute", "_", "failed", ";", "}", "else", "if", "(", "current", "token", ".", "is", "update", "count", "(", ")", ")", "{", "last", "count", "=", "new", "integer", "(", "current", "token", ".", "update", "count", ")", ";", "}", "break", ";", "case", "tds", "_", "doneproc", "_", "token", ":", "if", "(", "(", "current", "token", ".", "status", "&", "done", "_", "error", ")", "!", "=", "num", "<KEEP_END>", "<INSERT>", "|", "|", "last", "count", "=", "=", "jtds", "statement", ".", "execute", "_", "failed", ")", "{", "if", "(", "connection", ".", "get", "server", "type", "(", ")", "=", "=", "driver", ".", "sybase", "<INSERT_END>", "<KEEP>", ")", "{", "counts", ".", "add", "(", "jtds", "statement", ".", "execute", "_", "failed", ")", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "}", "else", "{", "counts", ".", "add", "(", "last", "count", ")", ";", "}", "last", "count", "=", "jtds", "statement", ".", "success", "_", "no", "_", "info", ";", "break", ";", "}", "}", "messages", ".", "check", "errors", "(", ")", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "int", "[", "]", "results", "=", "new", "int", "[", "counts", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "results", ".", "length", ";", "i", "+", "+", ")", "{", "results", "[", "i", "]", "=", "(", "(", "integer", ")", "counts", ".", "get", "(", "i", ")", ")", ".", "int", "value", "(", ")", ";", "}", "batch", "ex", "=", "new", "batch", "update", "<REPLACE_NEW>", "if", "(", "sql", "ex", "!", "=", "null", ")", "{", "sql", "ex", ".", "set", "next", "<REPLACE_END>", "<KEEP>", "exception", "(", "e", "<KEEP_END>", "<REPLACE_OLD>", ".", "get", "message", "(", ")", ",", "<REPLACE_NEW>", ")", ";", "}", "else", "{", "sql", "ex", "=", "<REPLACE_END>", "<KEEP>", "e", "<KEEP_END>", "<REPLACE_OLD>", ".", "get", "sqlstate", "(", ")", ",", "e", ".", "get", "error", "code", "(", ")", ",", "results", ")", ";", "throw", "batch", "ex", ";", "<REPLACE_NEW>", ";", "}", "<REPLACE_END>", "<KEEP>", "}", "finally", "{", "while", "(", "!", "end", "of", "response", ")", "{", "try", "{", "next", "token", "(", ")", ";", "}", "catch", "(", "sqlexception", "ex", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "batch", "<REPLACE_NEW>", "sql", "<REPLACE_END>", "<KEEP>", "ex", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "batch", "<REPLACE_NEW>", "sql", "<REPLACE_END>", "<KEEP>", "ex", ".", "set", "next", "exception", "(", "ex", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "}", "}", "}", "int", "[", "]", "results", "=", "new", "int", "[", "counts", ".", "size", "(", ")", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "results", ".", "length", ";", "i", "+", "+", ")", "{", "results", "[", "i", "]", "=", "(", "(", "integer", ")", "counts", ".", "get", "(", "i", ")", ")", ".", "int", "value", "(", ")", ";", "<REPLACE_NEW>", "else", "{", "sql", "ex", "=", "ex", ";", "}", "}", "}", "<REPLACE_END>", "<KEEP>", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "results", ";", "}", "<REPLACE_NEW>", "sql", "ex", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the update counts as an int [ ] <REPLACE_NEW> updated sqlexception or null if no error has yet occured <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "update", "counts", "as", "an", "int", "[", "]", "<REPLACE_NEW>", "updated", "sqlexception", "or", "null", "if", "no", "error", "has", "yet", "occured", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "sqlexception", "<KEEP>", "get", "<KEEP>", "batch", "<KEEP>", "counts", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", "throws", "<DELETE>", "batch", "<DELETE>", "update", "<DELETE>", "exception", "<DELETE>", "{", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "counts", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "sqlexception", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "integer", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "jtds", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "success", "<KEEP>", "_", "<KEEP>", "no", "<KEEP>", "_", "<KEEP>", "info", "<DELETE>", ";", "<DELETE>", "batch", "<DELETE>", "update", "<DELETE>", "exception", "<DELETE>", "batch", "<DELETE>", "ex", "<DELETE>", "=", "<DELETE>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "open", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "end", "<KEEP>", "of", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "next", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "sqlexception", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "tds", "<KEEP>", "_", "<KEEP>", "done", "<KEEP>", "_", "<KEEP>", "token", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "&", "<KEEP>", "done", "<KEEP>", "_", "<KEEP>", "error", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "last", "<INSERT>", "count", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "jtds", "<INSERT>", "statement", "<INSERT>", ".", "<INSERT>", "execute", "<INSERT>", "_", "<INSERT>", "failed", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "connection", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "server", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "driver", "<INSERT>", ".", "<INSERT>", "sybase", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "counts", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "jtds", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "_", "<KEEP>", "failed", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "counts", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "counts", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "jtds", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "success", "<KEEP>", "_", "<KEEP>", "no", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "tds", "<KEEP>", "_", "<KEEP>", "doneinproc", "<KEEP>", "_", "<KEEP>", "token", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "&", "<KEEP>", "done", "<KEEP>", "_", "<KEEP>", "error", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "jtds", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "_", "<KEEP>", "failed", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "tds", "<KEEP>", "_", "<KEEP>", "doneproc", "<KEEP>", "_", "<KEEP>", "token", "<KEEP>", ":", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", "&", "<KEEP>", "done", "<KEEP>", "_", "<KEEP>", "error", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "num", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "last", "<INSERT>", "count", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "jtds", "<INSERT>", "statement", "<INSERT>", ".", "<INSERT>", "execute", "<INSERT>", "_", "<INSERT>", "failed", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "connection", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "server", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "driver", "<INSERT>", ".", "<INSERT>", "sybase", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "counts", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "jtds", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "_", "<KEEP>", "failed", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "counts", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "last", "<KEEP>", "count", "<KEEP>", "=", "<KEEP>", "jtds", "<KEEP>", "statement", "<KEEP>", ".", "<KEEP>", "success", "<KEEP>", "_", "<KEEP>", "no", "<KEEP>", "_", "<KEEP>", "info", "<KEEP>", ";", "<KEEP>", "break", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "check", "<KEEP>", "errors", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "sqlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "counts", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "counts", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "batch", "<REPLACE_OLD>", "ex", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "batch", "<REPLACE_OLD>", "update", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "next", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", "=", "<KEEP>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "sqlstate", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "batch", "<REPLACE_OLD>", "ex", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "end", "<KEEP>", "of", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "next", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "sqlexception", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "batch", "<REPLACE_NEW>", "sql", "<KEEP>", "ex", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "batch", "<REPLACE_NEW>", "sql", "<KEEP>", "ex", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "next", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "counts", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "length", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "counts", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "i", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "results", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "sql", "<REPLACE_NEW>", "ex", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_january-62-5479", "old_comment": "red value in given position", "old_comment_tokens": ["red", "value", "in", "given", "position"], "new_comment": "red value in the first position", "new_comment_tokens": ["red", "value", "in", "the", "first", "position"], "old_code": "public short get red ( final int i ) { return data [ get1 dindex ( i ) ] ; }", "old_code_tokens": ["public", "short", "get", "red", "(", "final", "int", "i", ")", "{", "return", "data", "[", "get1", "dindex", "(", "i", ")", "]", ";", "}"], "new_code": "public short get red ( ) { return data [ get first1 dindex ( ) ] ; }", "new_code_tokens": ["public", "short", "get", "red", "(", ")", "{", "return", "data", "[", "get", "first1", "dindex", "(", ")", "]", ";", "}"], "span_diff_code": "<KEEP> public short get red ( <KEEP_END> <DELETE> final int i <DELETE_END> <KEEP> ) { return data [ <KEEP_END> <REPLACE_OLD> get1 <REPLACE_NEW> get first1 <REPLACE_END> <KEEP> dindex ( <KEEP_END> <DELETE> i <DELETE_END> <KEEP> ) ] ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "short", "get", "red", "(", "<KEEP_END>", "<DELETE>", "final", "int", "i", "<DELETE_END>", "<KEEP>", ")", "{", "return", "data", "[", "<KEEP_END>", "<REPLACE_OLD>", "get1", "<REPLACE_NEW>", "get", "first1", "<REPLACE_END>", "<KEEP>", "dindex", "(", "<KEEP_END>", "<DELETE>", "i", "<DELETE_END>", "<KEEP>", ")", "]", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> given <REPLACE_NEW> the first <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "given", "<REPLACE_NEW>", "the", "first", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "short", "<KEEP>", "get", "<KEEP>", "red", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "data", "<KEEP>", "[", "<REPLACE_OLD>", "get1", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "first1", "<KEEP>", "dindex", "<KEEP>", "(", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "spajus_gmail4j-2-5104", "old_comment": "list of unread priority messages", "old_comment_tokens": ["list", "of", "unread", "priority", "messages"], "new_comment": "list of unread / read priority messages", "new_comment_tokens": ["list", "of", "unread", "/", "read", "priority", "messages"], "old_code": "public list < gmail message > get priority messages ( ) { try { final list < gmail message > unread priority = new array list < gmail message > ( ) ; final store store = open gmail store ( ) ; folder folder = get folder ( imap gmail label . important . get name ( ) , store ) ; folder . open ( folder . read _ only ) ; for ( final message msg : folder . search ( new flag term ( new flags ( flags . flag . seen ) , false ) ) ) { unread priority . add ( new java mail gmail message ( msg ) ) ; } return unread priority ; } catch ( final exception e ) { throw new gmail exception ( str , e ) ; } }", "old_code_tokens": ["public", "list", "<", "gmail", "message", ">", "get", "priority", "messages", "(", ")", "{", "try", "{", "final", "list", "<", "gmail", "message", ">", "unread", "priority", "=", "new", "array", "list", "<", "gmail", "message", ">", "(", ")", ";", "final", "store", "store", "=", "open", "gmail", "store", "(", ")", ";", "folder", "folder", "=", "get", "folder", "(", "imap", "gmail", "label", ".", "important", ".", "get", "name", "(", ")", ",", "store", ")", ";", "folder", ".", "open", "(", "folder", ".", "read", "_", "only", ")", ";", "for", "(", "final", "message", "msg", ":", "folder", ".", "search", "(", "new", "flag", "term", "(", "new", "flags", "(", "flags", ".", "flag", ".", "seen", ")", ",", "false", ")", ")", ")", "{", "unread", "priority", ".", "add", "(", "new", "java", "mail", "gmail", "message", "(", "msg", ")", ")", ";", "}", "return", "unread", "priority", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "throw", "new", "gmail", "exception", "(", "str", ",", "e", ")", ";", "}", "}"], "new_code": "public list < gmail message > get priority messages ( boolean unread only ) { try { final list < gmail message > priority messages = new array list < gmail message > ( ) ; final store store = open gmail store ( ) ; folder folder = get folder ( imap gmail label . important . get name ( ) , store ) ; folder . open ( folder . read _ only ) ; for ( final message msg : folder . search ( new flag term ( new flags ( flags . flag . seen ) , ! unread only ) ) ) { priority messages . add ( new java mail gmail message ( msg ) ) ; } return priority messages ; } catch ( final exception e ) { throw new gmail exception ( str , e ) ; } }", "new_code_tokens": ["public", "list", "<", "gmail", "message", ">", "get", "priority", "messages", "(", "boolean", "unread", "only", ")", "{", "try", "{", "final", "list", "<", "gmail", "message", ">", "priority", "messages", "=", "new", "array", "list", "<", "gmail", "message", ">", "(", ")", ";", "final", "store", "store", "=", "open", "gmail", "store", "(", ")", ";", "folder", "folder", "=", "get", "folder", "(", "imap", "gmail", "label", ".", "important", ".", "get", "name", "(", ")", ",", "store", ")", ";", "folder", ".", "open", "(", "folder", ".", "read", "_", "only", ")", ";", "for", "(", "final", "message", "msg", ":", "folder", ".", "search", "(", "new", "flag", "term", "(", "new", "flags", "(", "flags", ".", "flag", ".", "seen", ")", ",", "!", "unread", "only", ")", ")", ")", "{", "priority", "messages", ".", "add", "(", "new", "java", "mail", "gmail", "message", "(", "msg", ")", ")", ";", "}", "return", "priority", "messages", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "throw", "new", "gmail", "exception", "(", "str", ",", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public list < gmail message > get priority messages ( <KEEP_END> <INSERT> boolean unread only <INSERT_END> <KEEP> ) { try { final list < gmail message > <KEEP_END> <DELETE> unread <DELETE_END> <KEEP> priority <KEEP_END> <INSERT> messages <INSERT_END> <KEEP> = new array list < gmail message > ( ) ; final store store = open gmail store ( ) ; folder folder = get folder ( imap gmail label . important . get name ( ) , store ) ; folder . open ( folder . read _ only ) ; for ( final message msg : folder . search ( new flag term ( new flags ( flags . flag . seen ) , <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> ! unread only <REPLACE_END> <KEEP> ) ) ) { <KEEP_END> <DELETE> unread <DELETE_END> <KEEP> priority <KEEP_END> <INSERT> messages <INSERT_END> <KEEP> . add ( new java mail gmail message ( msg ) ) ; } return <KEEP_END> <DELETE> unread <DELETE_END> <KEEP> priority <KEEP_END> <INSERT> messages <INSERT_END> <KEEP> ; } catch ( final exception e ) { throw new gmail exception ( str , e ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "gmail", "message", ">", "get", "priority", "messages", "(", "<KEEP_END>", "<INSERT>", "boolean", "unread", "only", "<INSERT_END>", "<KEEP>", ")", "{", "try", "{", "final", "list", "<", "gmail", "message", ">", "<KEEP_END>", "<DELETE>", "unread", "<DELETE_END>", "<KEEP>", "priority", "<KEEP_END>", "<INSERT>", "messages", "<INSERT_END>", "<KEEP>", "=", "new", "array", "list", "<", "gmail", "message", ">", "(", ")", ";", "final", "store", "store", "=", "open", "gmail", "store", "(", ")", ";", "folder", "folder", "=", "get", "folder", "(", "imap", "gmail", "label", ".", "important", ".", "get", "name", "(", ")", ",", "store", ")", ";", "folder", ".", "open", "(", "folder", ".", "read", "_", "only", ")", ";", "for", "(", "final", "message", "msg", ":", "folder", ".", "search", "(", "new", "flag", "term", "(", "new", "flags", "(", "flags", ".", "flag", ".", "seen", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "!", "unread", "only", "<REPLACE_END>", "<KEEP>", ")", ")", ")", "{", "<KEEP_END>", "<DELETE>", "unread", "<DELETE_END>", "<KEEP>", "priority", "<KEEP_END>", "<INSERT>", "messages", "<INSERT_END>", "<KEEP>", ".", "add", "(", "new", "java", "mail", "gmail", "message", "(", "msg", ")", ")", ";", "}", "return", "<KEEP_END>", "<DELETE>", "unread", "<DELETE_END>", "<KEEP>", "priority", "<KEEP_END>", "<INSERT>", "messages", "<INSERT_END>", "<KEEP>", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "throw", "new", "gmail", "exception", "(", "str", ",", "e", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> unread <INSERT_NEW_KEEP_BEFORE> unread / read <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "unread", "<INSERT_NEW_KEEP_BEFORE>", "unread", "/", "read", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "gmail", "<KEEP>", "message", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "priority", "<KEEP>", "messages", "<KEEP>", "(", "<INSERT>", "boolean", "<INSERT>", "unread", "<INSERT>", "only", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "gmail", "<KEEP>", "message", "<KEEP>", ">", "<DELETE>", "unread", "<KEEP>", "priority", "<INSERT>", "messages", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "gmail", "<KEEP>", "message", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "store", "<KEEP>", "store", "<KEEP>", "=", "<KEEP>", "open", "<KEEP>", "gmail", "<KEEP>", "store", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "folder", "<KEEP>", "folder", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "folder", "<KEEP>", "(", "<KEEP>", "imap", "<KEEP>", "gmail", "<KEEP>", "label", "<KEEP>", ".", "<KEEP>", "important", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "store", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "folder", "<KEEP>", ".", "<KEEP>", "open", "<KEEP>", "(", "<KEEP>", "folder", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "_", "<KEEP>", "only", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "message", "<KEEP>", "msg", "<KEEP>", ":", "<KEEP>", "folder", "<KEEP>", ".", "<KEEP>", "search", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "flag", "<KEEP>", "term", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "flags", "<KEEP>", "(", "<KEEP>", "flags", "<KEEP>", ".", "<KEEP>", "flag", "<KEEP>", ".", "<KEEP>", "seen", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "unread", "<REPLACE_NEW>", "only", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "unread", "<KEEP>", "priority", "<INSERT>", "messages", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "java", "<KEEP>", "mail", "<KEEP>", "gmail", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", "msg", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<DELETE>", "unread", "<KEEP>", "priority", "<INSERT>", "messages", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "gmail", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "gorkem_webtools.jsdt-50-6460", "old_comment": "absolute path to directory in which native bower call must be performed . basically , the method scans project for bower . json file and returns it ' s parent , ignoring components directories i . e \" bower _ components \" or defined in . bowerrc file", "old_comment_tokens": ["absolute", "path", "to", "directory", "in", "which", "native", "bower", "call", "must", "be", "performed", ".", "basically", ",", "the", "method", "scans", "project", "for", "bower", ".", "json", "file", "and", "returns", "it", "'", "s", "parent", ",", "ignoring", "components", "directories", "i", ".", "e", "\"", "bower", "_", "components", "\"", "or", "defined", "in", ".", "bowerrc", "file"], "new_comment": "path to directory in which native bower call must be performed . basically , the method scans project for bower . json file and returns it ' s parent , ignoring components directories i . e \" bower _ components \" or defined in . bowerrc file", "new_comment_tokens": ["path", "to", "directory", "in", "which", "native", "bower", "call", "must", "be", "performed", ".", "basically", ",", "the", "method", "scans", "project", "for", "bower", ".", "json", "file", "and", "returns", "it", "'", "s", "parent", ",", "ignoring", "components", "directories", "i", ".", "e", "\"", "bower", "_", "components", "\"", "or", "defined", "in", ".", "bowerrc", "file"], "old_code": "public static string get bower working dir ( iproject project , final string . . . ignores ) throws core exception { string working dir = null ; final list < ifile > found files = new array list < > ( ) ; if ( project ! = null & & project . exists ( ) ) { project . accept ( new iresource visitor ( ) { @ override public boolean visit ( iresource resource ) throws core exception { if ( ! found files . is empty ( ) ) { return false ; } else if ( resource . get type ( ) = = iresource . folder & & ignores ! = null ) { for ( string ignore : ignores ) { if ( resource . get name ( ) . equals ( ignore ) ) { return false ; } } } else if ( resource . get type ( ) = = iresource . file & & bower constants . bower _ json . equals ( resource . get name ( ) ) ) { found files . add ( ( ifile ) resource ) ; } return true ; } } ) ; } if ( ! found files . is empty ( ) ) { working dir = found files . get ( num ) . get parent ( ) . get full path ( ) . to osstring ( ) ; } return working dir ; }", "old_code_tokens": ["public", "static", "string", "get", "bower", "working", "dir", "(", "iproject", "project", ",", "final", "string", ".", ".", ".", "ignores", ")", "throws", "core", "exception", "{", "string", "working", "dir", "=", "null", ";", "final", "list", "<", "ifile", ">", "found", "files", "=", "new", "array", "list", "<", ">", "(", ")", ";", "if", "(", "project", "!", "=", "null", "&", "&", "project", ".", "exists", "(", ")", ")", "{", "project", ".", "accept", "(", "new", "iresource", "visitor", "(", ")", "{", "@", "override", "public", "boolean", "visit", "(", "iresource", "resource", ")", "throws", "core", "exception", "{", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "folder", "&", "&", "ignores", "!", "=", "null", ")", "{", "for", "(", "string", "ignore", ":", "ignores", ")", "{", "if", "(", "resource", ".", "get", "name", "(", ")", ".", "equals", "(", "ignore", ")", ")", "{", "return", "false", ";", "}", "}", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "file", "&", "&", "bower", "constants", ".", "bower", "_", "json", ".", "equals", "(", "resource", ".", "get", "name", "(", ")", ")", ")", "{", "found", "files", ".", "add", "(", "(", "ifile", ")", "resource", ")", ";", "}", "return", "true", ";", "}", "}", ")", ";", "}", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "working", "dir", "=", "found", "files", ".", "get", "(", "num", ")", ".", "get", "parent", "(", ")", ".", "get", "full", "path", "(", ")", ".", "to", "osstring", "(", ")", ";", "}", "return", "working", "dir", ";", "}"], "new_code": "public static ipath get bower working dir ( iproject project , final string . . . ignores ) throws core exception { ipath working dir = null ; final list < ifile > found files = new array list < > ( ) ; if ( project ! = null & & project . exists ( ) ) { project . accept ( new iresource visitor ( ) { @ override public boolean visit ( iresource resource ) throws core exception { if ( ! found files . is empty ( ) ) { return false ; } else if ( resource . get type ( ) = = iresource . folder & & ignores ! = null ) { for ( string ignore : ignores ) { if ( resource . get name ( ) . equals ( ignore ) ) { return false ; } } } else if ( resource . get type ( ) = = iresource . file & & bower constants . bower _ json . equals ( resource . get name ( ) ) ) { found files . add ( ( ifile ) resource ) ; } return true ; } } ) ; } if ( ! found files . is empty ( ) ) { working dir = found files . get ( num ) . get parent ( ) . get location ( ) ; } return working dir ; }", "new_code_tokens": ["public", "static", "ipath", "get", "bower", "working", "dir", "(", "iproject", "project", ",", "final", "string", ".", ".", ".", "ignores", ")", "throws", "core", "exception", "{", "ipath", "working", "dir", "=", "null", ";", "final", "list", "<", "ifile", ">", "found", "files", "=", "new", "array", "list", "<", ">", "(", ")", ";", "if", "(", "project", "!", "=", "null", "&", "&", "project", ".", "exists", "(", ")", ")", "{", "project", ".", "accept", "(", "new", "iresource", "visitor", "(", ")", "{", "@", "override", "public", "boolean", "visit", "(", "iresource", "resource", ")", "throws", "core", "exception", "{", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "folder", "&", "&", "ignores", "!", "=", "null", ")", "{", "for", "(", "string", "ignore", ":", "ignores", ")", "{", "if", "(", "resource", ".", "get", "name", "(", ")", ".", "equals", "(", "ignore", ")", ")", "{", "return", "false", ";", "}", "}", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "file", "&", "&", "bower", "constants", ".", "bower", "_", "json", ".", "equals", "(", "resource", ".", "get", "name", "(", ")", ")", ")", "{", "found", "files", ".", "add", "(", "(", "ifile", ")", "resource", ")", ";", "}", "return", "true", ";", "}", "}", ")", ";", "}", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "working", "dir", "=", "found", "files", ".", "get", "(", "num", ")", ".", "get", "parent", "(", ")", ".", "get", "location", "(", ")", ";", "}", "return", "working", "dir", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> ipath <REPLACE_END> <KEEP> get bower working dir ( iproject project , final string . . . ignores ) throws core exception { <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> ipath <REPLACE_END> <KEEP> working dir = null ; final list < ifile > found files = new array list < > ( ) ; if ( project ! = null & & project . exists ( ) ) { project . accept ( new iresource visitor ( ) { @ override public boolean visit ( iresource resource ) throws core exception { if ( ! found files . is empty ( ) ) { return false ; } else if ( resource . get type ( ) = = iresource . folder & & ignores ! = null ) { for ( string ignore : ignores ) { if ( resource . get name ( ) . equals ( ignore ) ) { return false ; } } } else if ( resource . get type ( ) = = iresource . file & & bower constants . bower _ json . equals ( resource . get name ( ) ) ) { found files . add ( ( ifile ) resource ) ; } return true ; } } ) ; } if ( ! found files . is empty ( ) ) { working dir = found files . get ( num ) . get parent ( ) . get <KEEP_END> <REPLACE_OLD> full path ( ) . to osstring ( ) ; } return working dir ; } <REPLACE_NEW> location ( ) ; } return working dir ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<REPLACE_END>", "<KEEP>", "get", "bower", "working", "dir", "(", "iproject", "project", ",", "final", "string", ".", ".", ".", "ignores", ")", "throws", "core", "exception", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<REPLACE_END>", "<KEEP>", "working", "dir", "=", "null", ";", "final", "list", "<", "ifile", ">", "found", "files", "=", "new", "array", "list", "<", ">", "(", ")", ";", "if", "(", "project", "!", "=", "null", "&", "&", "project", ".", "exists", "(", ")", ")", "{", "project", ".", "accept", "(", "new", "iresource", "visitor", "(", ")", "{", "@", "override", "public", "boolean", "visit", "(", "iresource", "resource", ")", "throws", "core", "exception", "{", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "return", "false", ";", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "folder", "&", "&", "ignores", "!", "=", "null", ")", "{", "for", "(", "string", "ignore", ":", "ignores", ")", "{", "if", "(", "resource", ".", "get", "name", "(", ")", ".", "equals", "(", "ignore", ")", ")", "{", "return", "false", ";", "}", "}", "}", "else", "if", "(", "resource", ".", "get", "type", "(", ")", "=", "=", "iresource", ".", "file", "&", "&", "bower", "constants", ".", "bower", "_", "json", ".", "equals", "(", "resource", ".", "get", "name", "(", ")", ")", ")", "{", "found", "files", ".", "add", "(", "(", "ifile", ")", "resource", ")", ";", "}", "return", "true", ";", "}", "}", ")", ";", "}", "if", "(", "!", "found", "files", ".", "is", "empty", "(", ")", ")", "{", "working", "dir", "=", "found", "files", ".", "get", "(", "num", ")", ".", "get", "parent", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "full", "path", "(", ")", ".", "to", "osstring", "(", ")", ";", "}", "return", "working", "dir", ";", "}", "<REPLACE_NEW>", "location", "(", ")", ";", "}", "return", "working", "dir", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<DELETE> absolute <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "absolute", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<KEEP>", "get", "<KEEP>", "bower", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "(", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "ignores", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "core", "<KEEP>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "ipath", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "ifile", "<KEEP>", ">", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "exists", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "iresource", "<KEEP>", "visitor", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "visit", "<KEEP>", "(", "<KEEP>", "iresource", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "core", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "iresource", "<KEEP>", ".", "<KEEP>", "folder", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "ignores", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "ignore", "<KEEP>", ":", "<KEEP>", "ignores", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "ignore", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "iresource", "<KEEP>", ".", "<KEEP>", "file", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "bower", "<KEEP>", "constants", "<KEEP>", ".", "<KEEP>", "bower", "<KEEP>", "_", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "ifile", "<KEEP>", ")", "<KEEP>", "resource", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "working", "<KEEP>", "dir", "<KEEP>", "=", "<KEEP>", "found", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "full", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "osstring", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "working", "<REPLACE_OLD>", "dir", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "location", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "working", "<REPLACE_NEW>", "dir", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "mulesoft_handshake-connector-4-5035", "old_comment": "the response , or an exception if something bad happened", "old_comment_tokens": ["the", "response", ",", "or", "an", "exception", "if", "something", "bad", "happened"], "new_comment": "the response , null if not found , or an exception if something bad happened", "new_comment_tokens": ["the", "response", ",", "null", "if", "not", "found", ",", "or", "an", "exception", "if", "something", "bad", "happened"], "old_code": "private < t > t process response ( final client response client response , final type response type ) { final string response = read response from client response ( client response ) ; if ( client response . get status ( ) > = num ) { throw new handshake apiexception ( response ) ; } try { return parse json ( response , response type ) ; } catch ( final ioexception e ) { throw new runtime exception ( e ) ; } }", "old_code_tokens": ["private", "<", "t", ">", "t", "process", "response", "(", "final", "client", "response", "client", "response", ",", "final", "type", "response", "type", ")", "{", "final", "string", "response", "=", "read", "response", "from", "client", "response", "(", "client", "response", ")", ";", "if", "(", "client", "response", ".", "get", "status", "(", ")", ">", "=", "num", ")", "{", "throw", "new", "handshake", "apiexception", "(", "response", ")", ";", "}", "try", "{", "return", "parse", "json", "(", "response", ",", "response", "type", ")", ";", "}", "catch", "(", "final", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}"], "new_code": "private < t > t process response ( final client response client response , final type response type ) { final string response = read response from client response ( client response ) ; if ( client response . get status ( ) = = num ) { return null ; } else if ( client response . get status ( ) > = num ) { throw new handshake apiexception ( response ) ; } try { return parse json ( response , response type ) ; } catch ( final ioexception e ) { throw new runtime exception ( e ) ; } }", "new_code_tokens": ["private", "<", "t", ">", "t", "process", "response", "(", "final", "client", "response", "client", "response", ",", "final", "type", "response", "type", ")", "{", "final", "string", "response", "=", "read", "response", "from", "client", "response", "(", "client", "response", ")", ";", "if", "(", "client", "response", ".", "get", "status", "(", ")", "=", "=", "num", ")", "{", "return", "null", ";", "}", "else", "if", "(", "client", "response", ".", "get", "status", "(", ")", ">", "=", "num", ")", "{", "throw", "new", "handshake", "apiexception", "(", "response", ")", ";", "}", "try", "{", "return", "parse", "json", "(", "response", ",", "response", "type", ")", ";", "}", "catch", "(", "final", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private < t > t process response ( final client response client response , final type response type ) { final string response = read response from client response ( client response ) ; <KEEP_END> <INSERT> if ( client response . get status ( ) = = num ) { return null ; } else <INSERT_END> <KEEP> if ( client response . get status ( ) > = num ) { throw new handshake apiexception ( response ) ; } try { return parse json ( response , response type ) ; } catch ( final ioexception e ) { throw new runtime exception ( e ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<", "t", ">", "t", "process", "response", "(", "final", "client", "response", "client", "response", ",", "final", "type", "response", "type", ")", "{", "final", "string", "response", "=", "read", "response", "from", "client", "response", "(", "client", "response", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "client", "response", ".", "get", "status", "(", ")", "=", "=", "num", ")", "{", "return", "null", ";", "}", "else", "<INSERT_END>", "<KEEP>", "if", "(", "client", "response", ".", "get", "status", "(", ")", ">", "=", "num", ")", "{", "throw", "new", "handshake", "apiexception", "(", "response", ")", ";", "}", "try", "{", "return", "parse", "json", "(", "response", ",", "response", "type", ")", ";", "}", "catch", "(", "final", "ioexception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> response <INSERT_NEW_KEEP_BEFORE> response , null if not found <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "response", "<INSERT_NEW_KEEP_BEFORE>", "response", ",", "null", "if", "not", "found", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "t", "<KEEP>", "process", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "client", "<KEEP>", "response", "<KEEP>", "client", "<KEEP>", "response", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "type", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "read", "<KEEP>", "response", "<KEEP>", "from", "<KEEP>", "client", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "client", "<INSERT>", "response", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "status", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "client", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "handshake", "<KEEP>", "apiexception", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "parse", "<KEEP>", "json", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "magro_memcached-session-manager-17-7435", "old_comment": "the session id which now contains the memcached id .", "old_comment_tokens": ["the", "session", "id", "which", "now", "contains", "the", "memcached", "id", "."], "new_comment": "the session id which now contains the memcached id if one was provided , otherwise the session id unmodified .", "new_comment_tokens": ["the", "session", "id", "which", "now", "contains", "the", "memcached", "id", "if", "one", "was", "provided", ",", "otherwise", "the", "session", "id", "unmodified", "."], "old_code": "public string create session id ( final string session id , final string memcached id ) { final int idx = session id . index of ( str ) ; if ( idx < num ) { return session id + str + memcached id ; } else { return session id . substring ( num , idx ) + str + memcached id + session id . substring ( idx ) ; } }", "old_code_tokens": ["public", "string", "create", "session", "id", "(", "final", "string", "session", "id", ",", "final", "string", "memcached", "id", ")", "{", "final", "int", "idx", "=", "session", "id", ".", "index", "of", "(", "str", ")", ";", "if", "(", "idx", "<", "num", ")", "{", "return", "session", "id", "+", "str", "+", "memcached", "id", ";", "}", "else", "{", "return", "session", "id", ".", "substring", "(", "num", ",", "idx", ")", "+", "str", "+", "memcached", "id", "+", "session", "id", ".", "substring", "(", "idx", ")", ";", "}", "}"], "new_code": "public string create session id ( final string session id , final string memcached id ) { if ( memcached id = = null ) { return session id ; } final int idx = session id . index of ( str ) ; if ( idx < num ) { return session id + str + memcached id ; } else { return session id . substring ( num , idx ) + str + memcached id + session id . substring ( idx ) ; } }", "new_code_tokens": ["public", "string", "create", "session", "id", "(", "final", "string", "session", "id", ",", "final", "string", "memcached", "id", ")", "{", "if", "(", "memcached", "id", "=", "=", "null", ")", "{", "return", "session", "id", ";", "}", "final", "int", "idx", "=", "session", "id", ".", "index", "of", "(", "str", ")", ";", "if", "(", "idx", "<", "num", ")", "{", "return", "session", "id", "+", "str", "+", "memcached", "id", ";", "}", "else", "{", "return", "session", "id", ".", "substring", "(", "num", ",", "idx", ")", "+", "str", "+", "memcached", "id", "+", "session", "id", ".", "substring", "(", "idx", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public string create session id ( final string session id , final string memcached id ) { <KEEP_END> <INSERT> if ( memcached id = = null ) { return session id ; } <INSERT_END> <KEEP> final int idx = session id . index of ( str ) ; if ( idx < num ) { return session id + str + memcached id ; } else { return session id . substring ( num , idx ) + str + memcached id + session id . substring ( idx ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "create", "session", "id", "(", "final", "string", "session", "id", ",", "final", "string", "memcached", "id", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "memcached", "id", "=", "=", "null", ")", "{", "return", "session", "id", ";", "}", "<INSERT_END>", "<KEEP>", "final", "int", "idx", "=", "session", "id", ".", "index", "of", "(", "str", ")", ";", "if", "(", "idx", "<", "num", ")", "{", "return", "session", "id", "+", "str", "+", "memcached", "id", ";", "}", "else", "{", "return", "session", "id", ".", "substring", "(", "num", ",", "idx", ")", "+", "str", "+", "memcached", "id", "+", "session", "id", ".", "substring", "(", "idx", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> memcached id <INSERT_NEW_KEEP_BEFORE> memcached id if one was provided , otherwise the session id unmodified <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "memcached", "id", "<INSERT_NEW_KEEP_BEFORE>", "memcached", "id", "if", "one", "was", "provided", ",", "otherwise", "the", "session", "id", "unmodified", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "create", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "memcached", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "memcached", "<INSERT>", "id", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "session", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "idx", "<KEEP>", "=", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "idx", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "memcached", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "idx", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "memcached", "<KEEP>", "id", "<KEEP>", "+", "<KEEP>", "session", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "idx", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_tuscany-sca-1.x-68-3797", "old_comment": "the physical class used by the runtime", "old_comment_tokens": ["the", "physical", "class", "used", "by", "the", "runtime"], "new_comment": "the physical type used by the runtime", "new_comment_tokens": ["the", "physical", "type", "used", "by", "the", "runtime"], "old_code": "public class < p > get physical ( ) { return physical ; }", "old_code_tokens": ["public", "class", "<", "p", ">", "get", "physical", "(", ")", "{", "return", "physical", ";", "}"], "new_code": "public type get physical ( ) { return physical ; }", "new_code_tokens": ["public", "type", "get", "physical", "(", ")", "{", "return", "physical", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> class < p > <REPLACE_NEW> type <REPLACE_END> <KEEP> get physical ( ) { return physical ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "class", "<", "p", ">", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "get", "physical", "(", ")", "{", "return", "physical", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> class <REPLACE_NEW> type <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "class", "<REPLACE_NEW>", "type", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "p", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "type", "<KEEP>", "get", "<KEEP>", "physical", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "physical", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-46-6062", "old_comment": "the field hashmap [ field _ name , type ] .", "old_comment_tokens": ["the", "field", "hashmap", "[", "field", "_", "name", ",", "type", "]", "."], "new_comment": "the field map [ field _ name , type ] .", "new_comment_tokens": ["the", "field", "map", "[", "field", "_", "name", ",", "type", "]", "."], "old_code": "public hash map get fields ( ) { return m _ fields ; }", "old_code_tokens": ["public", "hash", "map", "get", "fields", "(", ")", "{", "return", "m", "_", "fields", ";", "}"], "new_code": "public map get fields ( ) { return m _ fields ; }", "new_code_tokens": ["public", "map", "get", "fields", "(", ")", "{", "return", "m", "_", "fields", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> hash <DELETE_END> <KEEP> map get fields ( ) { return m _ fields ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "hash", "<DELETE_END>", "<KEEP>", "map", "get", "fields", "(", ")", "{", "return", "m", "_", "fields", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashmap <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashmap", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "hash", "<KEEP>", "map", "<KEEP>", "get", "<KEEP>", "fields", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "fields", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-134-4097", "old_comment": "a set of class names and class member signatures found in the class .", "old_comment_tokens": ["a", "set", "of", "class", "names", "and", "class", "member", "signatures", "found", "in", "the", "class", "."], "new_comment": "a set of class names and class member signatures found in the field .", "new_comment_tokens": ["a", "set", "of", "class", "names", "and", "class", "member", "signatures", "found", "in", "the", "field", "."], "old_code": "public static set < string > find referenced members ( field info field info ) { set < string > members = new hash set < string > ( ) ; class member visitor visitor = new class member visitor ( members ) ; set < integer > ids = find pool references ( field info ) ; visitor . visit field ( field info ) ; visit pool references ( field info . get class info ( ) , visitor , ids ) ; return members ; }", "old_code_tokens": ["public", "static", "set", "<", "string", ">", "find", "referenced", "members", "(", "field", "info", "field", "info", ")", "{", "set", "<", "string", ">", "members", "=", "new", "hash", "set", "<", "string", ">", "(", ")", ";", "class", "member", "visitor", "visitor", "=", "new", "class", "member", "visitor", "(", "members", ")", ";", "set", "<", "integer", ">", "ids", "=", "find", "pool", "references", "(", "field", "info", ")", ";", "visitor", ".", "visit", "field", "(", "field", "info", ")", ";", "visit", "pool", "references", "(", "field", "info", ".", "get", "class", "info", "(", ")", ",", "visitor", ",", "ids", ")", ";", "return", "members", ";", "}"], "new_code": "public static reference result find referenced members ( field info field info ) { set < string > members = new hash set < string > ( ) ; class member visitor visitor = new class member visitor ( members ) ; set < integer > ids = find pool references ( field info ) ; visitor . visit field ( field info ) ; visit pool references ( field info . get class info ( ) , visitor , ids ) ; return new reference result ( members , new array list < invoke site > ( num ) ) ; }", "new_code_tokens": ["public", "static", "reference", "result", "find", "referenced", "members", "(", "field", "info", "field", "info", ")", "{", "set", "<", "string", ">", "members", "=", "new", "hash", "set", "<", "string", ">", "(", ")", ";", "class", "member", "visitor", "visitor", "=", "new", "class", "member", "visitor", "(", "members", ")", ";", "set", "<", "integer", ">", "ids", "=", "find", "pool", "references", "(", "field", "info", ")", ";", "visitor", ".", "visit", "field", "(", "field", "info", ")", ";", "visit", "pool", "references", "(", "field", "info", ".", "get", "class", "info", "(", ")", ",", "visitor", ",", "ids", ")", ";", "return", "new", "reference", "result", "(", "members", ",", "new", "array", "list", "<", "invoke", "site", ">", "(", "num", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set < string > <REPLACE_NEW> reference result <REPLACE_END> <KEEP> find referenced members ( field info field info ) { set < string > members = new hash set < string > ( ) ; class member visitor visitor = new class member visitor ( members ) ; set < integer > ids = find pool references ( field info ) ; visitor . visit field ( field info ) ; visit pool references ( field info . get class info ( ) , visitor , ids ) ; return <KEEP_END> <INSERT> new reference result ( <INSERT_END> <KEEP> members <KEEP_END> <INSERT> , new array list < invoke site > ( num ) ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<", "string", ">", "<REPLACE_NEW>", "reference", "result", "<REPLACE_END>", "<KEEP>", "find", "referenced", "members", "(", "field", "info", "field", "info", ")", "{", "set", "<", "string", ">", "members", "=", "new", "hash", "set", "<", "string", ">", "(", ")", ";", "class", "member", "visitor", "visitor", "=", "new", "class", "member", "visitor", "(", "members", ")", ";", "set", "<", "integer", ">", "ids", "=", "find", "pool", "references", "(", "field", "info", ")", ";", "visitor", ".", "visit", "field", "(", "field", "info", ")", ";", "visit", "pool", "references", "(", "field", "info", ".", "get", "class", "info", "(", ")", ",", "visitor", ",", "ids", ")", ";", "return", "<KEEP_END>", "<INSERT>", "new", "reference", "result", "(", "<INSERT_END>", "<KEEP>", "members", "<KEEP_END>", "<INSERT>", ",", "new", "array", "list", "<", "invoke", "site", ">", "(", "num", ")", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the class <REPLACE_NEW_KEEP_BEFORE> the field <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "class", "<REPLACE_NEW_KEEP_BEFORE>", "the", "field", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "reference", "<REPLACE_NEW>", "result", "<KEEP>", "find", "<KEEP>", "referenced", "<KEEP>", "members", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "info", "<KEEP>", "field", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "members", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hash", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "class", "<KEEP>", "member", "<KEEP>", "visitor", "<KEEP>", "visitor", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "class", "<KEEP>", "member", "<KEEP>", "visitor", "<KEEP>", "(", "<KEEP>", "members", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "ids", "<KEEP>", "=", "<KEEP>", "find", "<KEEP>", "pool", "<KEEP>", "references", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "visitor", "<KEEP>", ".", "<KEEP>", "visit", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "visit", "<KEEP>", "pool", "<KEEP>", "references", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "class", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "visitor", "<KEEP>", ",", "<KEEP>", "ids", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<INSERT>", "new", "<INSERT>", "reference", "<INSERT>", "result", "<INSERT>", "(", "<KEEP>", "members", "<INSERT>", ",", "<INSERT>", "new", "<INSERT>", "array", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "invoke", "<INSERT>", "site", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "tinkerpop_gremlin-8-3315", "old_comment": "the extended fluent pipeline", "old_comment_tokens": ["the", "extended", "fluent", "pipeline"], "new_comment": "the extended pipeline", "new_comment_tokens": ["the", "extended", "pipeline"], "old_code": "public t out v ( ) { return this . add ( new out vertex pipe ( ) ) ; }", "old_code_tokens": ["public", "t", "out", "v", "(", ")", "{", "return", "this", ".", "add", "(", "new", "out", "vertex", "pipe", "(", ")", ")", ";", "}"], "new_code": "public gremlin pipeline < s , vertex > out v ( ) { return this . add ( new out vertex pipe ( ) ) ; }", "new_code_tokens": ["public", "gremlin", "pipeline", "<", "s", ",", "vertex", ">", "out", "v", "(", ")", "{", "return", "this", ".", "add", "(", "new", "out", "vertex", "pipe", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> t <REPLACE_NEW> gremlin pipeline < s , vertex > <REPLACE_END> <KEEP> out v ( ) { return this . add ( new out vertex pipe ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "t", "<REPLACE_NEW>", "gremlin", "pipeline", "<", "s", ",", "vertex", ">", "<REPLACE_END>", "<KEEP>", "out", "v", "(", ")", "{", "return", "this", ".", "add", "(", "new", "out", "vertex", "pipe", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> fluent <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "fluent", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "t", "<REPLACE_NEW>", "gremlin", "<REPLACE_NEW>", "pipeline", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "vertex", "<REPLACE_NEW>", ">", "<KEEP>", "out", "<KEEP>", "v", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "out", "<KEEP>", "vertex", "<KEEP>", "pipe", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-1-6950", "old_comment": "the cmd line option instances which failed validation .", "old_comment_tokens": ["the", "cmd", "line", "option", "instances", "which", "failed", "validation", "."], "new_comment": "the cmd line option validator . results generated when running cmd line option validators .", "new_comment_tokens": ["the", "cmd", "line", "option", "validator", ".", "results", "generated", "when", "running", "cmd", "line", "option", "validators", "."], "old_code": "public static set < cmd line option instance > validate ( cmd line args cmd line args ) { validate . not null ( cmd line args ) ; hash set < cmd line option instance > options failed = new hash set < cmd line option instance > ( ) ; for ( cmd line option instance option inst : cmd line args . get specified options ( ) ) { if ( ! cmd line utils . validate ( option inst ) ) { options failed . add ( option inst ) ; } } return options failed ; }", "old_code_tokens": ["public", "static", "set", "<", "cmd", "line", "option", "instance", ">", "validate", "(", "cmd", "line", "args", "cmd", "line", "args", ")", "{", "validate", ".", "not", "null", "(", "cmd", "line", "args", ")", ";", "hash", "set", "<", "cmd", "line", "option", "instance", ">", "options", "failed", "=", "new", "hash", "set", "<", "cmd", "line", "option", "instance", ">", "(", ")", ";", "for", "(", "cmd", "line", "option", "instance", "option", "inst", ":", "cmd", "line", "args", ".", "get", "specified", "options", "(", ")", ")", "{", "if", "(", "!", "cmd", "line", "utils", ".", "validate", "(", "option", "inst", ")", ")", "{", "options", "failed", ".", "add", "(", "option", "inst", ")", ";", "}", "}", "return", "options", "failed", ";", "}"], "new_code": "public static list < cmd line option validator . result > validate ( cmd line args cmd line args ) { validate . not null ( cmd line args ) ; list < cmd line option validator . result > results = lists . new array list ( ) ; for ( cmd line option instance option inst : cmd line args . get specified options ( ) ) { results . add all ( cmd line utils . validate ( option inst ) ) ; } return results ; }", "new_code_tokens": ["public", "static", "list", "<", "cmd", "line", "option", "validator", ".", "result", ">", "validate", "(", "cmd", "line", "args", "cmd", "line", "args", ")", "{", "validate", ".", "not", "null", "(", "cmd", "line", "args", ")", ";", "list", "<", "cmd", "line", "option", "validator", ".", "result", ">", "results", "=", "lists", ".", "new", "array", "list", "(", ")", ";", "for", "(", "cmd", "line", "option", "instance", "option", "inst", ":", "cmd", "line", "args", ".", "get", "specified", "options", "(", ")", ")", "{", "results", ".", "add", "all", "(", "cmd", "line", "utils", ".", "validate", "(", "option", "inst", ")", ")", ";", "}", "return", "results", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> set <REPLACE_NEW> list <REPLACE_END> <KEEP> < cmd line option <KEEP_END> <REPLACE_OLD> instance <REPLACE_NEW> validator . result <REPLACE_END> <KEEP> > validate ( cmd line args cmd line args ) { validate . not null ( cmd line args ) ; <KEEP_END> <REPLACE_OLD> hash set <REPLACE_NEW> list <REPLACE_END> <KEEP> < cmd line option <KEEP_END> <REPLACE_OLD> instance <REPLACE_NEW> validator . result <REPLACE_END> <KEEP> > <KEEP_END> <REPLACE_OLD> options failed <REPLACE_NEW> results <REPLACE_END> <KEEP> = <KEEP_END> <INSERT> lists . <INSERT_END> <KEEP> new <KEEP_END> <REPLACE_OLD> hash set < cmd line option instance > <REPLACE_NEW> array list <REPLACE_END> <KEEP> ( ) ; for ( cmd line option instance option inst : cmd line args . get specified options ( ) ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> results . add all <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ! <DELETE_END> <KEEP> cmd line utils . validate ( option inst ) ) <KEEP_END> <DELETE> { options failed . add ( option inst ) <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> options failed <REPLACE_NEW> results <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "cmd", "line", "option", "<KEEP_END>", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "validator", ".", "result", "<REPLACE_END>", "<KEEP>", ">", "validate", "(", "cmd", "line", "args", "cmd", "line", "args", ")", "{", "validate", ".", "not", "null", "(", "cmd", "line", "args", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "hash", "set", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "cmd", "line", "option", "<KEEP_END>", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "validator", ".", "result", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<REPLACE_OLD>", "options", "failed", "<REPLACE_NEW>", "results", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "lists", ".", "<INSERT_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "hash", "set", "<", "cmd", "line", "option", "instance", ">", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "for", "(", "cmd", "line", "option", "instance", "option", "inst", ":", "cmd", "line", "args", ".", "get", "specified", "options", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "results", ".", "add", "all", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "!", "<DELETE_END>", "<KEEP>", "cmd", "line", "utils", ".", "validate", "(", "option", "inst", ")", ")", "<KEEP_END>", "<DELETE>", "{", "options", "failed", ".", "add", "(", "option", "inst", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "options", "failed", "<REPLACE_NEW>", "results", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> instances which failed validation <REPLACE_NEW> validator <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . results generated when running cmd line option validators . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "instances", "which", "failed", "validation", "<REPLACE_NEW>", "validator", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "results", "generated", "when", "running", "cmd", "line", "option", "validators", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "option", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "validator", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "result", "<KEEP>", ">", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "args", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "args", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "validate", "<KEEP>", ".", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "args", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "option", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "validator", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "result", "<KEEP>", ">", "<REPLACE_OLD>", "options", "<REPLACE_OLD>", "failed", "<REPLACE_NEW>", "results", "<KEEP>", "=", "<INSERT>", "lists", "<INSERT>", ".", "<KEEP>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "cmd", "<REPLACE_OLD>", "line", "<REPLACE_OLD>", "option", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "option", "<KEEP>", "instance", "<KEEP>", "option", "<KEEP>", "inst", "<KEEP>", ":", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "args", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "specified", "<KEEP>", "options", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "results", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "all", "<KEEP>", "(", "<DELETE>", "!", "<KEEP>", "cmd", "<KEEP>", "line", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "option", "<KEEP>", "inst", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "options", "<DELETE>", "failed", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "(", "<DELETE>", "option", "<DELETE>", "inst", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "options", "<REPLACE_OLD>", "failed", "<REPLACE_NEW>", "results", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "scribejava_scribejava-4-2954", "old_comment": "a map containing the body parameters .", "old_comment_tokens": ["a", "map", "containing", "the", "body", "parameters", "."], "new_comment": "a parameter listcontaining the body parameters .", "new_comment_tokens": ["a", "parameter", "listcontaining", "the", "body", "parameters", "."], "old_code": "public map < string , string > get body params ( ) { return body params ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "string", ">", "get", "body", "params", "(", ")", "{", "return", "body", "params", ";", "}"], "new_code": "public parameter list get body params ( ) { return body params ; }", "new_code_tokens": ["public", "parameter", "list", "get", "body", "params", "(", ")", "{", "return", "body", "params", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> map < string , string > <REPLACE_NEW> parameter list <REPLACE_END> <KEEP> get body params ( ) { return body params ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "string", ">", "<REPLACE_NEW>", "parameter", "list", "<REPLACE_END>", "<KEEP>", "get", "body", "params", "(", ")", "{", "return", "body", "params", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map containing <REPLACE_NEW> parameter listcontaining <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "containing", "<REPLACE_NEW>", "parameter", "listcontaining", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "list", "<KEEP>", "get", "<KEEP>", "body", "<KEEP>", "params", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "body", "<KEEP>", "params", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "magro_memcached-session-manager-11-7434", "old_comment": "the session tracker valve . session backup service . backup result", "old_comment_tokens": ["the", "session", "tracker", "valve", ".", "session", "backup", "service", ".", "backup", "result"], "new_comment": "the session tracker valve . session backup service . backup result status", "new_comment_tokens": ["the", "session", "tracker", "valve", ".", "session", "backup", "service", ".", "backup", "result", "status"], "old_code": "public backup result backup session ( final session session ) { if ( _ log . is info enabled ( ) ) { _ log . debug ( str + session . get id ( ) ) ; } final backup session task task = get or create backup session task ( ( memcached backup session ) session ) ; return task . backup session ( ) ; }", "old_code_tokens": ["public", "backup", "result", "backup", "session", "(", "final", "session", "session", ")", "{", "if", "(", "_", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "_", "log", ".", "debug", "(", "str", "+", "session", ".", "get", "id", "(", ")", ")", ";", "}", "final", "backup", "session", "task", "task", "=", "get", "or", "create", "backup", "session", "task", "(", "(", "memcached", "backup", "session", ")", "session", ")", ";", "return", "task", ".", "backup", "session", "(", ")", ";", "}"], "new_code": "public backup result status backup session ( final session session ) { if ( _ log . is info enabled ( ) ) { _ log . debug ( str + session . get id ( ) ) ; } final memcached backup session backup session = ( memcached backup session ) session ; final backup session task task = get or create backup session task ( backup session ) ; final map < string , object > attributes = backup session . get attributes internal ( ) ; final byte [ ] attributes data = _ transcoder service . serialize attributes ( backup session , attributes ) ; final int hash code = arrays . hash code ( attributes data ) ; if ( backup session . get data hash code ( ) ! = hash code | | task . session cookie was relocated ( ) ) { final byte [ ] data = _ transcoder service . serialize ( backup session , attributes data ) ; final backup result result = task . backup session ( data , attributes data ) ; if ( result . get attributes data ( ) ! = null ) { backup session . set data hash code ( arrays . hash code ( result . get attributes data ( ) ) ) ; } return result . get status ( ) ; } else { return backup result status . skipped ; } }", "new_code_tokens": ["public", "backup", "result", "status", "backup", "session", "(", "final", "session", "session", ")", "{", "if", "(", "_", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "_", "log", ".", "debug", "(", "str", "+", "session", ".", "get", "id", "(", ")", ")", ";", "}", "final", "memcached", "backup", "session", "backup", "session", "=", "(", "memcached", "backup", "session", ")", "session", ";", "final", "backup", "session", "task", "task", "=", "get", "or", "create", "backup", "session", "task", "(", "backup", "session", ")", ";", "final", "map", "<", "string", ",", "object", ">", "attributes", "=", "backup", "session", ".", "get", "attributes", "internal", "(", ")", ";", "final", "byte", "[", "]", "attributes", "data", "=", "_", "transcoder", "service", ".", "serialize", "attributes", "(", "backup", "session", ",", "attributes", ")", ";", "final", "int", "hash", "code", "=", "arrays", ".", "hash", "code", "(", "attributes", "data", ")", ";", "if", "(", "backup", "session", ".", "get", "data", "hash", "code", "(", ")", "!", "=", "hash", "code", "|", "|", "task", ".", "session", "cookie", "was", "relocated", "(", ")", ")", "{", "final", "byte", "[", "]", "data", "=", "_", "transcoder", "service", ".", "serialize", "(", "backup", "session", ",", "attributes", "data", ")", ";", "final", "backup", "result", "result", "=", "task", ".", "backup", "session", "(", "data", ",", "attributes", "data", ")", ";", "if", "(", "result", ".", "get", "attributes", "data", "(", ")", "!", "=", "null", ")", "{", "backup", "session", ".", "set", "data", "hash", "code", "(", "arrays", ".", "hash", "code", "(", "result", ".", "get", "attributes", "data", "(", ")", ")", ")", ";", "}", "return", "result", ".", "get", "status", "(", ")", ";", "}", "else", "{", "return", "backup", "result", "status", ".", "skipped", ";", "}", "}"], "span_diff_code": "<KEEP> public backup result <KEEP_END> <INSERT> status <INSERT_END> <KEEP> backup session ( final session session ) { if ( _ log . is info enabled ( ) ) { _ log . debug ( str + session . get id ( ) ) ; } final <KEEP_END> <INSERT> memcached backup session backup session = ( memcached backup session ) session ; final <INSERT_END> <KEEP> backup session task task = get or create backup session task ( <KEEP_END> <REPLACE_OLD> ( memcached backup session ) session ) ; <REPLACE_NEW> backup session ) ; final map < string , object > attributes = backup session . get attributes internal ( ) ; final byte [ ] attributes data = _ transcoder service . serialize attributes ( backup session , attributes ) ; final int hash code = arrays . hash code ( attributes data ) ; if ( backup session . get data hash code ( ) ! = hash code | | task . session cookie was relocated ( ) ) { final byte [ ] data = _ transcoder service . serialize ( backup session , attributes data ) ; final backup result result = task . backup session ( data , attributes data ) ; if ( result . get attributes data ( ) ! = null ) { backup session . set data hash code ( arrays . hash code ( result . get attributes data ( ) ) ) ; } <REPLACE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> task . backup session ( ) ; } <REPLACE_NEW> result . get status ( ) ; } else { return backup result status . skipped ; } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "backup", "result", "<KEEP_END>", "<INSERT>", "status", "<INSERT_END>", "<KEEP>", "backup", "session", "(", "final", "session", "session", ")", "{", "if", "(", "_", "log", ".", "is", "info", "enabled", "(", ")", ")", "{", "_", "log", ".", "debug", "(", "str", "+", "session", ".", "get", "id", "(", ")", ")", ";", "}", "final", "<KEEP_END>", "<INSERT>", "memcached", "backup", "session", "backup", "session", "=", "(", "memcached", "backup", "session", ")", "session", ";", "final", "<INSERT_END>", "<KEEP>", "backup", "session", "task", "task", "=", "get", "or", "create", "backup", "session", "task", "(", "<KEEP_END>", "<REPLACE_OLD>", "(", "memcached", "backup", "session", ")", "session", ")", ";", "<REPLACE_NEW>", "backup", "session", ")", ";", "final", "map", "<", "string", ",", "object", ">", "attributes", "=", "backup", "session", ".", "get", "attributes", "internal", "(", ")", ";", "final", "byte", "[", "]", "attributes", "data", "=", "_", "transcoder", "service", ".", "serialize", "attributes", "(", "backup", "session", ",", "attributes", ")", ";", "final", "int", "hash", "code", "=", "arrays", ".", "hash", "code", "(", "attributes", "data", ")", ";", "if", "(", "backup", "session", ".", "get", "data", "hash", "code", "(", ")", "!", "=", "hash", "code", "|", "|", "task", ".", "session", "cookie", "was", "relocated", "(", ")", ")", "{", "final", "byte", "[", "]", "data", "=", "_", "transcoder", "service", ".", "serialize", "(", "backup", "session", ",", "attributes", "data", ")", ";", "final", "backup", "result", "result", "=", "task", ".", "backup", "session", "(", "data", ",", "attributes", "data", ")", ";", "if", "(", "result", ".", "get", "attributes", "data", "(", ")", "!", "=", "null", ")", "{", "backup", "session", ".", "set", "data", "hash", "code", "(", "arrays", ".", "hash", "code", "(", "result", ".", "get", "attributes", "data", "(", ")", ")", ")", ";", "}", "<REPLACE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "task", ".", "backup", "session", "(", ")", ";", "}", "<REPLACE_NEW>", "result", ".", "get", "status", "(", ")", ";", "}", "else", "{", "return", "backup", "result", "status", ".", "skipped", ";", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> result <INSERT_NEW_KEEP_BEFORE> result status <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "result", "<INSERT_NEW_KEEP_BEFORE>", "result", "status", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "backup", "<KEEP>", "result", "<INSERT>", "status", "<KEEP>", "backup", "<KEEP>", "session", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "session", "<KEEP>", "session", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "info", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "_", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "session", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "final", "<INSERT>", "memcached", "<INSERT>", "backup", "<INSERT>", "session", "<INSERT>", "backup", "<INSERT>", "session", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "memcached", "<INSERT>", "backup", "<INSERT>", "session", "<INSERT>", ")", "<INSERT>", "session", "<INSERT>", ";", "<INSERT>", "final", "<KEEP>", "backup", "<KEEP>", "session", "<KEEP>", "task", "<KEEP>", "task", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "or", "<KEEP>", "create", "<KEEP>", "backup", "<KEEP>", "session", "<KEEP>", "task", "<KEEP>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "memcached", "<REPLACE_OLD>", "backup", "<REPLACE_OLD>", "session", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "session", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "transcoder", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "serialize", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "arrays", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", "cookie", "<REPLACE_NEW>", "was", "<REPLACE_NEW>", "relocated", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "transcoder", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "serialize", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "task", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "session", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "arrays", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "task", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "backup", "<REPLACE_OLD>", "session", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "backup", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "skipped", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-8-5327", "old_comment": "the created project , or null if file was not writable .", "old_comment_tokens": ["the", "created", "project", ",", "or", "null", "if", "file", "was", "not", "writable", "."], "new_comment": "the created project , or null if file was not writable or it already existed .", "new_comment_tokens": ["the", "created", "project", ",", "or", "null", "if", "file", "was", "not", "writable", "or", "it", "already", "existed", "."], "old_code": "public static project create afproject ( file file ) { return create project ( file , type . af ) ; }", "old_code_tokens": ["public", "static", "project", "create", "afproject", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "type", ".", "af", ")", ";", "}"], "new_code": "public static project create afproject ( file file ) { return create project ( file , af ) ; }", "new_code_tokens": ["public", "static", "project", "create", "afproject", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "af", ")", ";", "}"], "span_diff_code": "<KEEP> public static project create afproject ( file file ) { return create project ( file , <KEEP_END> <DELETE> type . <DELETE_END> <KEEP> af ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "project", "create", "afproject", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "<KEEP_END>", "<DELETE>", "type", ".", "<DELETE_END>", "<KEEP>", "af", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> writable <INSERT_NEW_KEEP_BEFORE> writable or it already existed <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "writable", "<INSERT_NEW_KEEP_BEFORE>", "writable", "or", "it", "already", "existed", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "project", "<KEEP>", "create", "<KEEP>", "afproject", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ",", "<DELETE>", "type", "<DELETE>", ".", "<KEEP>", "af", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_HeliosStreams-8-7126", "old_comment": "the decoded value type or # x if the char does not map to a value type", "old_comment_tokens": ["the", "decoded", "value", "type", "or", "#", "x", "if", "the", "char", "does", "not", "map", "to", "a", "value", "type"], "new_comment": "the decoded value type or # directed if the char does not map to a value type", "new_comment_tokens": ["the", "decoded", "value", "type", "or", "#", "directed", "if", "the", "char", "does", "not", "map", "to", "a", "value", "type"], "old_code": "public static value type decode ( final char c ) { final value type v = decode by int . get ( c ) ; return v = = null ? x : v ; }", "old_code_tokens": ["public", "static", "value", "type", "decode", "(", "final", "char", "c", ")", "{", "final", "value", "type", "v", "=", "decode", "by", "int", ".", "get", "(", "c", ")", ";", "return", "v", "=", "=", "null", "?", "x", ":", "v", ";", "}"], "new_code": "public static value type decode ( final char c ) { final value type v = decode by int . get ( c ) ; return v = = null ? directed : v ; }", "new_code_tokens": ["public", "static", "value", "type", "decode", "(", "final", "char", "c", ")", "{", "final", "value", "type", "v", "=", "decode", "by", "int", ".", "get", "(", "c", ")", ";", "return", "v", "=", "=", "null", "?", "directed", ":", "v", ";", "}"], "span_diff_code": "<KEEP> public static value type decode ( final char c ) { final value type v = decode by int . get ( c ) ; return v = = null ? <KEEP_END> <REPLACE_OLD> x <REPLACE_NEW> directed <REPLACE_END> <KEEP> : v ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "value", "type", "decode", "(", "final", "char", "c", ")", "{", "final", "value", "type", "v", "=", "decode", "by", "int", ".", "get", "(", "c", ")", ";", "return", "v", "=", "=", "null", "?", "<KEEP_END>", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "directed", "<REPLACE_END>", "<KEEP>", ":", "v", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> x <REPLACE_NEW> directed <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "x", "<REPLACE_NEW>", "directed", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", "decode", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "char", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", "v", "<KEEP>", "=", "<KEEP>", "decode", "<KEEP>", "by", "<KEEP>", "int", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "v", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "directed", "<KEEP>", ":", "<KEEP>", "v", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ushahidi_Crowdmap-Java-0-5422", "old_comment": "int the crowdmap id", "old_comment_tokens": ["int", "the", "crowdmap", "id"], "new_comment": "string the crowdmap id", "new_comment_tokens": ["string", "the", "crowdmap", "id"], "old_code": "public int get crowdmap id ( ) { return this . crowdmap id ; }", "old_code_tokens": ["public", "int", "get", "crowdmap", "id", "(", ")", "{", "return", "this", ".", "crowdmap", "id", ";", "}"], "new_code": "public string get crowdmap id ( ) { return this . crowdmap id ; }", "new_code_tokens": ["public", "string", "get", "crowdmap", "id", "(", ")", "{", "return", "this", ".", "crowdmap", "id", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> string <REPLACE_END> <KEEP> get crowdmap id ( ) { return this . crowdmap id ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "get", "crowdmap", "id", "(", ")", "{", "return", "this", ".", "crowdmap", "id", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> int <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "int", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "string", "<KEEP>", "get", "<KEEP>", "crowdmap", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "crowdmap", "<KEEP>", "id", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_jdk8u_jaxp-33-6327", "old_comment": "a hashtable which contains all datatypes", "old_comment_tokens": ["a", "hashtable", "which", "contains", "all", "datatypes"], "new_comment": "a map which contains all datatypes", "new_comment_tokens": ["a", "map", "which", "contains", "all", "datatypes"], "old_code": "public hashtable get built in types ( ) { return ( hashtable ) f built in types . clone ( ) ; }", "old_code_tokens": ["public", "hashtable", "get", "built", "in", "types", "(", ")", "{", "return", "(", "hashtable", ")", "f", "built", "in", "types", ".", "clone", "(", ")", ";", "}"], "new_code": "@ override public map < string , datatype validator > get built in types ( ) { return new hash map < > ( f built in types ) ; }", "new_code_tokens": ["@", "override", "public", "map", "<", "string", ",", "datatype", "validator", ">", "get", "built", "in", "types", "(", ")", "{", "return", "new", "hash", "map", "<", ">", "(", "f", "built", "in", "types", ")", ";", "}"], "span_diff_code": "<INSERT> @ override <INSERT_END> <KEEP> public <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> map < string , datatype validator > <REPLACE_END> <KEEP> get built in types ( ) { return <KEEP_END> <INSERT> new hash map < > <INSERT_END> <KEEP> ( <KEEP_END> <DELETE> hashtable ) <DELETE_END> <KEEP> f built in types <KEEP_END> <DELETE> . clone ( <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "override", "<INSERT_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<", "string", ",", "datatype", "validator", ">", "<REPLACE_END>", "<KEEP>", "get", "built", "in", "types", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "new", "hash", "map", "<", ">", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "hashtable", ")", "<DELETE_END>", "<KEEP>", "f", "built", "in", "types", "<KEEP_END>", "<DELETE>", ".", "clone", "(", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "override", "<KEEP>", "public", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "datatype", "<REPLACE_NEW>", "validator", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "built", "<KEEP>", "in", "<KEEP>", "types", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "new", "<INSERT>", "hash", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", ">", "<KEEP>", "(", "<DELETE>", "hashtable", "<DELETE>", ")", "<KEEP>", "f", "<KEEP>", "built", "<KEEP>", "in", "<KEEP>", "types", "<DELETE>", ".", "<DELETE>", "clone", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "cemcatik_jtds-114-3784", "old_comment": "result of calling shared named pipe # calculate buffer size ( int , int ) .", "old_comment_tokens": ["result", "of", "calling", "shared", "named", "pipe", "#", "calculate", "buffer", "size", "(", "int", ",", "int", ")", "."], "new_comment": "result of calling support # calculate named pipe buffer size ( int , int ) .", "new_comment_tokens": ["result", "of", "calling", "support", "#", "calculate", "named", "pipe", "buffer", "size", "(", "int", ",", "int", ")", "."], "old_code": "private int invoke _ calculate buffer size ( int tds version , int packet size ) { class [ ] classes = new class [ ] { int . class , int . class } ; object [ ] objects = new object [ ] { new integer ( tds version ) , new integer ( packet size ) } ; return ( ( integer ) invoke static method ( shared named pipe . class , str , classes , objects ) ) . int value ( ) ; }", "old_code_tokens": ["private", "int", "invoke", "_", "calculate", "buffer", "size", "(", "int", "tds", "version", ",", "int", "packet", "size", ")", "{", "class", "[", "]", "classes", "=", "new", "class", "[", "]", "{", "int", ".", "class", ",", "int", ".", "class", "}", ";", "object", "[", "]", "objects", "=", "new", "object", "[", "]", "{", "new", "integer", "(", "tds", "version", ")", ",", "new", "integer", "(", "packet", "size", ")", "}", ";", "return", "(", "(", "integer", ")", "invoke", "static", "method", "(", "shared", "named", "pipe", ".", "class", ",", "str", ",", "classes", ",", "objects", ")", ")", ".", "int", "value", "(", ")", ";", "}"], "new_code": "private int invoke _ calculate buffer size ( int tds version , int packet size ) { class [ ] classes = new class [ ] { int . class , int . class } ; object [ ] objects = new object [ ] { new integer ( tds version ) , new integer ( packet size ) } ; return ( ( integer ) invoke static method ( support . class , str , classes , objects ) ) . int value ( ) ; }", "new_code_tokens": ["private", "int", "invoke", "_", "calculate", "buffer", "size", "(", "int", "tds", "version", ",", "int", "packet", "size", ")", "{", "class", "[", "]", "classes", "=", "new", "class", "[", "]", "{", "int", ".", "class", ",", "int", ".", "class", "}", ";", "object", "[", "]", "objects", "=", "new", "object", "[", "]", "{", "new", "integer", "(", "tds", "version", ")", ",", "new", "integer", "(", "packet", "size", ")", "}", ";", "return", "(", "(", "integer", ")", "invoke", "static", "method", "(", "support", ".", "class", ",", "str", ",", "classes", ",", "objects", ")", ")", ".", "int", "value", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private int invoke _ calculate buffer size ( int tds version , int packet size ) { class [ ] classes = new class [ ] { int . class , int . class } ; object [ ] objects = new object [ ] { new integer ( tds version ) , new integer ( packet size ) } ; return ( ( integer ) invoke static method ( <KEEP_END> <REPLACE_OLD> shared named pipe <REPLACE_NEW> support <REPLACE_END> <KEEP> . class , str , classes , objects ) ) . int value ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "int", "invoke", "_", "calculate", "buffer", "size", "(", "int", "tds", "version", ",", "int", "packet", "size", ")", "{", "class", "[", "]", "classes", "=", "new", "class", "[", "]", "{", "int", ".", "class", ",", "int", ".", "class", "}", ";", "object", "[", "]", "objects", "=", "new", "object", "[", "]", "{", "new", "integer", "(", "tds", "version", ")", ",", "new", "integer", "(", "packet", "size", ")", "}", ";", "return", "(", "(", "integer", ")", "invoke", "static", "method", "(", "<KEEP_END>", "<REPLACE_OLD>", "shared", "named", "pipe", "<REPLACE_NEW>", "support", "<REPLACE_END>", "<KEEP>", ".", "class", ",", "str", ",", "classes", ",", "objects", ")", ")", ".", "int", "value", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> shared <REPLACE_NEW> support # calculate <REPLACE_END> <DELETE> # calculate <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "shared", "<REPLACE_NEW>", "support", "#", "calculate", "<REPLACE_END>", "<DELETE>", "#", "calculate", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "int", "<KEEP>", "invoke", "<KEEP>", "_", "<KEEP>", "calculate", "<KEEP>", "buffer", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "tds", "<KEEP>", "version", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "packet", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "class", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "classes", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "class", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "objects", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "tds", "<KEEP>", "version", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "packet", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "integer", "<KEEP>", ")", "<KEEP>", "invoke", "<KEEP>", "static", "<KEEP>", "method", "<KEEP>", "(", "<REPLACE_OLD>", "shared", "<REPLACE_OLD>", "named", "<REPLACE_OLD>", "pipe", "<REPLACE_NEW>", "support", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "classes", "<KEEP>", ",", "<KEEP>", "objects", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "square_keywhiz-0-2834", "old_comment": "list of cookies that were read json cookie .", "old_comment_tokens": ["list", "of", "cookies", "that", "were", "read", "json", "cookie", "."], "new_comment": "list of cookies that were read", "new_comment_tokens": ["list", "of", "cookies", "that", "were", "read"], "old_code": "public static list < http cookie > load cookies ( path path ) throws ioexception { list < http cookie > cookie list ; try ( buffered reader reader = files . new buffered reader ( path ) ) { list < json cookie > json cookies = jackson . new object mapper ( ) . read value ( reader , new type reference < list < json cookie > > ( ) { } ) ; cookie list = json cookies . stream ( ) . map ( c - > json cookie . to http cookie ( c ) ) . collect ( collectors . to list ( ) ) ; } return cookie list ; }", "old_code_tokens": ["public", "static", "list", "<", "http", "cookie", ">", "load", "cookies", "(", "path", "path", ")", "throws", "ioexception", "{", "list", "<", "http", "cookie", ">", "cookie", "list", ";", "try", "(", "buffered", "reader", "reader", "=", "files", ".", "new", "buffered", "reader", "(", "path", ")", ")", "{", "list", "<", "json", "cookie", ">", "json", "cookies", "=", "jackson", ".", "new", "object", "mapper", "(", ")", ".", "read", "value", "(", "reader", ",", "new", "type", "reference", "<", "list", "<", "json", "cookie", ">", ">", "(", ")", "{", "}", ")", ";", "cookie", "list", "=", "json", "cookies", ".", "stream", "(", ")", ".", "map", "(", "c", "-", ">", "json", "cookie", ".", "to", "http", "cookie", "(", "c", ")", ")", ".", "collect", "(", "collectors", ".", "to", "list", "(", ")", ")", ";", "}", "return", "cookie", "list", ";", "}"], "new_code": "public static list < http cookie > load cookies ( path path ) throws ioexception { type reference cookies type = new type reference < list < json cookie > > ( ) { } ; try ( buffered reader reader = files . new buffered reader ( path ) ) { list < json cookie > json cookies = mapper . read value ( reader , cookies type ) ; return json cookies . stream ( ) . map ( json cookie : : to http cookie ) . collect ( to list ( ) ) ; } }", "new_code_tokens": ["public", "static", "list", "<", "http", "cookie", ">", "load", "cookies", "(", "path", "path", ")", "throws", "ioexception", "{", "type", "reference", "cookies", "type", "=", "new", "type", "reference", "<", "list", "<", "json", "cookie", ">", ">", "(", ")", "{", "}", ";", "try", "(", "buffered", "reader", "reader", "=", "files", ".", "new", "buffered", "reader", "(", "path", ")", ")", "{", "list", "<", "json", "cookie", ">", "json", "cookies", "=", "mapper", ".", "read", "value", "(", "reader", ",", "cookies", "type", ")", ";", "return", "json", "cookies", ".", "stream", "(", ")", ".", "map", "(", "json", "cookie", ":", ":", "to", "http", "cookie", ")", ".", "collect", "(", "to", "list", "(", ")", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public static list < http cookie > load cookies ( path path ) throws ioexception { <KEEP_END> <INSERT> type reference cookies type = new type reference < <INSERT_END> <KEEP> list < <KEEP_END> <REPLACE_OLD> http <REPLACE_NEW> json <REPLACE_END> <KEEP> cookie > <KEEP_END> <REPLACE_OLD> cookie list <REPLACE_NEW> > ( ) { } <REPLACE_END> <KEEP> ; try ( buffered reader reader = files . new buffered reader ( path ) ) { list < json cookie > json cookies = <KEEP_END> <DELETE> jackson . new object <DELETE_END> <KEEP> mapper <KEEP_END> <DELETE> ( ) <DELETE_END> <KEEP> . read value ( reader , <KEEP_END> <REPLACE_OLD> new <REPLACE_NEW> cookies <REPLACE_END> <KEEP> type <KEEP_END> <DELETE> reference < list < json cookie > > ( ) { } <DELETE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> cookie list = <REPLACE_NEW> return <REPLACE_END> <KEEP> json cookies . stream ( ) . map ( <KEEP_END> <DELETE> c - > <DELETE_END> <KEEP> json cookie <KEEP_END> <REPLACE_OLD> . <REPLACE_NEW> : : <REPLACE_END> <KEEP> to http cookie <KEEP_END> <DELETE> ( c ) <DELETE_END> <KEEP> ) . collect ( <KEEP_END> <DELETE> collectors . <DELETE_END> <KEEP> to list ( ) ) ; } <KEEP_END> <DELETE> return cookie list ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "list", "<", "http", "cookie", ">", "load", "cookies", "(", "path", "path", ")", "throws", "ioexception", "{", "<KEEP_END>", "<INSERT>", "type", "reference", "cookies", "type", "=", "new", "type", "reference", "<", "<INSERT_END>", "<KEEP>", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "http", "<REPLACE_NEW>", "json", "<REPLACE_END>", "<KEEP>", "cookie", ">", "<KEEP_END>", "<REPLACE_OLD>", "cookie", "list", "<REPLACE_NEW>", ">", "(", ")", "{", "}", "<REPLACE_END>", "<KEEP>", ";", "try", "(", "buffered", "reader", "reader", "=", "files", ".", "new", "buffered", "reader", "(", "path", ")", ")", "{", "list", "<", "json", "cookie", ">", "json", "cookies", "=", "<KEEP_END>", "<DELETE>", "jackson", ".", "new", "object", "<DELETE_END>", "<KEEP>", "mapper", "<KEEP_END>", "<DELETE>", "(", ")", "<DELETE_END>", "<KEEP>", ".", "read", "value", "(", "reader", ",", "<KEEP_END>", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "cookies", "<REPLACE_END>", "<KEEP>", "type", "<KEEP_END>", "<DELETE>", "reference", "<", "list", "<", "json", "cookie", ">", ">", "(", ")", "{", "}", "<DELETE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "cookie", "list", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "json", "cookies", ".", "stream", "(", ")", ".", "map", "(", "<KEEP_END>", "<DELETE>", "c", "-", ">", "<DELETE_END>", "<KEEP>", "json", "cookie", "<KEEP_END>", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", ":", ":", "<REPLACE_END>", "<KEEP>", "to", "http", "cookie", "<KEEP_END>", "<DELETE>", "(", "c", ")", "<DELETE_END>", "<KEEP>", ")", ".", "collect", "(", "<KEEP_END>", "<DELETE>", "collectors", ".", "<DELETE_END>", "<KEEP>", "to", "list", "(", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "cookie", "list", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> json cookie . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "json", "cookie", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "http", "<KEEP>", "cookie", "<KEEP>", ">", "<KEEP>", "load", "<KEEP>", "cookies", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<INSERT>", "type", "<INSERT>", "reference", "<INSERT>", "cookies", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "type", "<INSERT>", "reference", "<INSERT>", "<", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "http", "<REPLACE_NEW>", "json", "<KEEP>", "cookie", "<KEEP>", ">", "<REPLACE_OLD>", "cookie", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "}", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "(", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "reader", "<KEEP>", "=", "<KEEP>", "files", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "buffered", "<KEEP>", "reader", "<KEEP>", "(", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "json", "<KEEP>", "cookie", "<KEEP>", ">", "<KEEP>", "json", "<KEEP>", "cookies", "<KEEP>", "=", "<DELETE>", "jackson", "<DELETE>", ".", "<DELETE>", "new", "<DELETE>", "object", "<KEEP>", "mapper", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "reader", "<KEEP>", ",", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "cookies", "<KEEP>", "type", "<DELETE>", "reference", "<DELETE>", "<", "<DELETE>", "list", "<DELETE>", "<", "<DELETE>", "json", "<DELETE>", "cookie", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "}", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "cookie", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "json", "<KEEP>", "cookies", "<KEEP>", ".", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "map", "<KEEP>", "(", "<DELETE>", "c", "<DELETE>", "-", "<DELETE>", ">", "<KEEP>", "json", "<KEEP>", "cookie", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", ":", "<KEEP>", "to", "<KEEP>", "http", "<KEEP>", "cookie", "<DELETE>", "(", "<DELETE>", "c", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "collect", "<KEEP>", "(", "<DELETE>", "collectors", "<DELETE>", ".", "<KEEP>", "to", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "cookie", "<DELETE>", "list", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "processing_processing-3-1097", "old_comment": "a jsonobject which is the value .", "old_comment_tokens": ["a", "jsonobject", "which", "is", "the", "value", "."], "new_comment": "a jsonobject which is the value or null if not available .", "new_comment_tokens": ["a", "jsonobject", "which", "is", "the", "value", "or", "null", "if", "not", "available", "."], "old_code": "public jsonobject get jsonobject ( string key ) { object object = this . get ( key ) ; if ( object instanceof jsonobject ) { return ( jsonobject ) object ; } throw new runtime exception ( str + quote ( key ) + str ) ; }", "old_code_tokens": ["public", "jsonobject", "get", "jsonobject", "(", "string", "key", ")", "{", "object", "object", "=", "this", ".", "get", "(", "key", ")", ";", "if", "(", "object", "instanceof", "jsonobject", ")", "{", "return", "(", "jsonobject", ")", "object", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "quote", "(", "key", ")", "+", "str", ")", ";", "}"], "new_code": "public jsonobject get jsonobject ( string key ) { object object = this . get ( key ) ; if ( object = = null ) { return null ; } if ( object instanceof jsonobject ) { return ( jsonobject ) object ; } throw new runtime exception ( str + quote ( key ) + str ) ; }", "new_code_tokens": ["public", "jsonobject", "get", "jsonobject", "(", "string", "key", ")", "{", "object", "object", "=", "this", ".", "get", "(", "key", ")", ";", "if", "(", "object", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "object", "instanceof", "jsonobject", ")", "{", "return", "(", "jsonobject", ")", "object", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "quote", "(", "key", ")", "+", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public jsonobject get jsonobject ( string key ) { object object = this . get ( key ) ; <KEEP_END> <INSERT> if ( object = = null ) { return null ; } <INSERT_END> <KEEP> if ( object instanceof jsonobject ) { return ( jsonobject ) object ; } throw new runtime exception ( str + quote ( key ) + str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "jsonobject", "get", "jsonobject", "(", "string", "key", ")", "{", "object", "object", "=", "this", ".", "get", "(", "key", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "object", "=", "=", "null", ")", "{", "return", "null", ";", "}", "<INSERT_END>", "<KEEP>", "if", "(", "object", "instanceof", "jsonobject", ")", "{", "return", "(", "jsonobject", ")", "object", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "quote", "(", "key", ")", "+", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> value <INSERT_NEW_KEEP_BEFORE> value or null if not available <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "value", "<INSERT_NEW_KEEP_BEFORE>", "value", "or", "null", "if", "not", "available", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "jsonobject", "<KEEP>", "get", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "object", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "instanceof", "<KEEP>", "jsonobject", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "jsonobject", "<KEEP>", ")", "<KEEP>", "object", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "quote", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "scribejava_scribejava-2-1095", "old_comment": "true if the token is empty ( token = \" \" , secret = \" \" )", "old_comment_tokens": ["true", "if", "the", "token", "is", "empty", "(", "token", "=", "\"", "\"", ",", "secret", "=", "\"", "\"", ")"], "new_comment": "true if the token is empty ( oauth _ token = \" \" , oauth _ token _ secret = \" \" )", "new_comment_tokens": ["true", "if", "the", "token", "is", "empty", "(", "oauth", "_", "token", "=", "\"", "\"", ",", "oauth", "_", "token", "_", "secret", "=", "\"", "\"", ")"], "old_code": "public boolean is empty ( ) { return str . equals ( this . get token ( ) ) & & str . equals ( this . secret ) ; }", "old_code_tokens": ["public", "boolean", "is", "empty", "(", ")", "{", "return", "str", ".", "equals", "(", "this", ".", "get", "token", "(", ")", ")", "&", "&", "str", ".", "equals", "(", "this", ".", "secret", ")", ";", "}"], "new_code": "public boolean is empty ( ) { return str . equals ( token ) & & str . equals ( token secret ) ; }", "new_code_tokens": ["public", "boolean", "is", "empty", "(", ")", "{", "return", "str", ".", "equals", "(", "token", ")", "&", "&", "str", ".", "equals", "(", "token", "secret", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is empty ( ) { return str . equals ( <KEEP_END> <DELETE> this . get <DELETE_END> <KEEP> token <KEEP_END> <DELETE> ( ) <DELETE_END> <KEEP> ) & & str . equals ( <KEEP_END> <REPLACE_OLD> this . <REPLACE_NEW> token <REPLACE_END> <KEEP> secret ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "empty", "(", ")", "{", "return", "str", ".", "equals", "(", "<KEEP_END>", "<DELETE>", "this", ".", "get", "<DELETE_END>", "<KEEP>", "token", "<KEEP_END>", "<DELETE>", "(", ")", "<DELETE_END>", "<KEEP>", ")", "&", "&", "str", ".", "equals", "(", "<KEEP_END>", "<REPLACE_OLD>", "this", ".", "<REPLACE_NEW>", "token", "<REPLACE_END>", "<KEEP>", "secret", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> ( <INSERT_NEW_KEEP_BEFORE> ( oauth _ <INSERT_END> <INSERT_OLD_KEEP_BEFORE> , <INSERT_NEW_KEEP_BEFORE> , oauth _ token _ <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "(", "<INSERT_NEW_KEEP_BEFORE>", "(", "oauth", "_", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", ",", "<INSERT_NEW_KEEP_BEFORE>", ",", "oauth", "_", "token", "_", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "token", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "token", "<KEEP>", "secret", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yanzhenjie_NoHttp-1-1308", "old_comment": "protocol result .", "old_comment_tokens": ["protocol", "result", "."], "new_comment": "connection .", "new_comment_tokens": ["connection", "."], "old_code": "private connection result handle redirect ( ibasic request old request , headers response headers ) { ibasic request redirect request = null ; redirect handler redirect handler = old request . get redirect handler ( ) ; if ( redirect handler ! = null ) { if ( redirect handler . is disallowed redirect ( response headers ) ) return new connection result ( null , response headers , null , null ) ; else redirect request = redirect handler . on redirect ( response headers ) ; } if ( redirect request = = null ) { redirect request = new string request ( response headers . get location ( ) , old request . get request method ( ) ) ; redirect request . set sslsocket factory ( old request . get sslsocket factory ( ) ) ; redirect request . set hostname verifier ( old request . get hostname verifier ( ) ) ; redirect request . set proxy ( old request . get proxy ( ) ) ; } return get connection ( redirect request ) ; }", "old_code_tokens": ["private", "connection", "result", "handle", "redirect", "(", "ibasic", "request", "old", "request", ",", "headers", "response", "headers", ")", "{", "ibasic", "request", "redirect", "request", "=", "null", ";", "redirect", "handler", "redirect", "handler", "=", "old", "request", ".", "get", "redirect", "handler", "(", ")", ";", "if", "(", "redirect", "handler", "!", "=", "null", ")", "{", "if", "(", "redirect", "handler", ".", "is", "disallowed", "redirect", "(", "response", "headers", ")", ")", "return", "new", "connection", "result", "(", "null", ",", "response", "headers", ",", "null", ",", "null", ")", ";", "else", "redirect", "request", "=", "redirect", "handler", ".", "on", "redirect", "(", "response", "headers", ")", ";", "}", "if", "(", "redirect", "request", "=", "=", "null", ")", "{", "redirect", "request", "=", "new", "string", "request", "(", "response", "headers", ".", "get", "location", "(", ")", ",", "old", "request", ".", "get", "request", "method", "(", ")", ")", ";", "redirect", "request", ".", "set", "sslsocket", "factory", "(", "old", "request", ".", "get", "sslsocket", "factory", "(", ")", ")", ";", "redirect", "request", ".", "set", "hostname", "verifier", "(", "old", "request", ".", "get", "hostname", "verifier", "(", ")", ")", ";", "redirect", "request", ".", "set", "proxy", "(", "old", "request", ".", "get", "proxy", "(", ")", ")", ";", "}", "return", "get", "connection", "(", "redirect", "request", ")", ";", "}"], "new_code": "private connection handle redirect ( ibasic request old request , headers response headers ) { ibasic request redirect request = null ; redirect handler redirect handler = old request . get redirect handler ( ) ; if ( redirect handler ! = null ) { if ( redirect handler . is disallowed redirect ( response headers ) ) return new connection ( null , response headers , null , null ) ; else redirect request = redirect handler . on redirect ( response headers ) ; } if ( redirect request = = null ) { redirect request = new string request ( response headers . get location ( ) , old request . get request method ( ) ) ; redirect request . set sslsocket factory ( old request . get sslsocket factory ( ) ) ; redirect request . set hostname verifier ( old request . get hostname verifier ( ) ) ; redirect request . set proxy ( old request . get proxy ( ) ) ; } return get connection ( redirect request ) ; }", "new_code_tokens": ["private", "connection", "handle", "redirect", "(", "ibasic", "request", "old", "request", ",", "headers", "response", "headers", ")", "{", "ibasic", "request", "redirect", "request", "=", "null", ";", "redirect", "handler", "redirect", "handler", "=", "old", "request", ".", "get", "redirect", "handler", "(", ")", ";", "if", "(", "redirect", "handler", "!", "=", "null", ")", "{", "if", "(", "redirect", "handler", ".", "is", "disallowed", "redirect", "(", "response", "headers", ")", ")", "return", "new", "connection", "(", "null", ",", "response", "headers", ",", "null", ",", "null", ")", ";", "else", "redirect", "request", "=", "redirect", "handler", ".", "on", "redirect", "(", "response", "headers", ")", ";", "}", "if", "(", "redirect", "request", "=", "=", "null", ")", "{", "redirect", "request", "=", "new", "string", "request", "(", "response", "headers", ".", "get", "location", "(", ")", ",", "old", "request", ".", "get", "request", "method", "(", ")", ")", ";", "redirect", "request", ".", "set", "sslsocket", "factory", "(", "old", "request", ".", "get", "sslsocket", "factory", "(", ")", ")", ";", "redirect", "request", ".", "set", "hostname", "verifier", "(", "old", "request", ".", "get", "hostname", "verifier", "(", ")", ")", ";", "redirect", "request", ".", "set", "proxy", "(", "old", "request", ".", "get", "proxy", "(", ")", ")", ";", "}", "return", "get", "connection", "(", "redirect", "request", ")", ";", "}"], "span_diff_code": "<KEEP> private connection <KEEP_END> <DELETE> result <DELETE_END> <KEEP> handle redirect ( ibasic request old request , headers response headers ) { ibasic request redirect request = null ; redirect handler redirect handler = old request . get redirect handler ( ) ; if ( redirect handler ! = null ) { if ( redirect handler . is disallowed redirect ( response headers ) ) return new connection <KEEP_END> <DELETE> result <DELETE_END> <KEEP> ( null , response headers , null , null ) ; else redirect request = redirect handler . on redirect ( response headers ) ; } if ( redirect request = = null ) { redirect request = new string request ( response headers . get location ( ) , old request . get request method ( ) ) ; redirect request . set sslsocket factory ( old request . get sslsocket factory ( ) ) ; redirect request . set hostname verifier ( old request . get hostname verifier ( ) ) ; redirect request . set proxy ( old request . get proxy ( ) ) ; } return get connection ( redirect request ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "connection", "<KEEP_END>", "<DELETE>", "result", "<DELETE_END>", "<KEEP>", "handle", "redirect", "(", "ibasic", "request", "old", "request", ",", "headers", "response", "headers", ")", "{", "ibasic", "request", "redirect", "request", "=", "null", ";", "redirect", "handler", "redirect", "handler", "=", "old", "request", ".", "get", "redirect", "handler", "(", ")", ";", "if", "(", "redirect", "handler", "!", "=", "null", ")", "{", "if", "(", "redirect", "handler", ".", "is", "disallowed", "redirect", "(", "response", "headers", ")", ")", "return", "new", "connection", "<KEEP_END>", "<DELETE>", "result", "<DELETE_END>", "<KEEP>", "(", "null", ",", "response", "headers", ",", "null", ",", "null", ")", ";", "else", "redirect", "request", "=", "redirect", "handler", ".", "on", "redirect", "(", "response", "headers", ")", ";", "}", "if", "(", "redirect", "request", "=", "=", "null", ")", "{", "redirect", "request", "=", "new", "string", "request", "(", "response", "headers", ".", "get", "location", "(", ")", ",", "old", "request", ".", "get", "request", "method", "(", ")", ")", ";", "redirect", "request", ".", "set", "sslsocket", "factory", "(", "old", "request", ".", "get", "sslsocket", "factory", "(", ")", ")", ";", "redirect", "request", ".", "set", "hostname", "verifier", "(", "old", "request", ".", "get", "hostname", "verifier", "(", ")", ")", ";", "redirect", "request", ".", "set", "proxy", "(", "old", "request", ".", "get", "proxy", "(", ")", ")", ";", "}", "return", "get", "connection", "(", "redirect", "request", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> protocol result <REPLACE_NEW> connection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "protocol", "result", "<REPLACE_NEW>", "connection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "connection", "<DELETE>", "result", "<KEEP>", "handle", "<KEEP>", "redirect", "<KEEP>", "(", "<KEEP>", "ibasic", "<KEEP>", "request", "<KEEP>", "old", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "headers", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ibasic", "<KEEP>", "request", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "redirect", "<KEEP>", "handler", "<KEEP>", "redirect", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "old", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "redirect", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "redirect", "<KEEP>", "handler", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "redirect", "<KEEP>", "handler", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "disallowed", "<KEEP>", "redirect", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "connection", "<DELETE>", "result", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "redirect", "<KEEP>", "handler", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "redirect", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "location", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "old", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "sslsocket", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "sslsocket", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "hostname", "<KEEP>", "verifier", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "hostname", "<KEEP>", "verifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "proxy", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "proxy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "connection", "<KEEP>", "(", "<KEEP>", "redirect", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "briancavalier_iterate-2-5621", "old_comment": "a binary predicate that will call println ( x ) on the java . io . print stream y", "old_comment_tokens": ["a", "binary", "predicate", "that", "will", "call", "println", "(", "x", ")", "on", "the", "java", ".", "io", ".", "print", "stream", "y"], "new_comment": "a binary visitor that will call println ( x ) on the java . io . print stream y", "new_comment_tokens": ["a", "binary", "visitor", "that", "will", "call", "println", "(", "x", ")", "on", "the", "java", ".", "io", ".", "print", "stream", "y"], "old_code": "public static < x > binary predicate < x , print stream > println ( ) { return new print line < x > ( ) ; }", "old_code_tokens": ["public", "static", "<", "x", ">", "binary", "predicate", "<", "x", ",", "print", "stream", ">", "println", "(", ")", "{", "return", "new", "print", "line", "<", "x", ">", "(", ")", ";", "}"], "new_code": "public static < x > binary visitor < x , print stream > println ( ) { return new print line < x > ( ) ; }", "new_code_tokens": ["public", "static", "<", "x", ">", "binary", "visitor", "<", "x", ",", "print", "stream", ">", "println", "(", ")", "{", "return", "new", "print", "line", "<", "x", ">", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static < x > binary <KEEP_END> <REPLACE_OLD> predicate <REPLACE_NEW> visitor <REPLACE_END> <KEEP> < x , print stream > println ( ) { return new print line < x > ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "x", ">", "binary", "<KEEP_END>", "<REPLACE_OLD>", "predicate", "<REPLACE_NEW>", "visitor", "<REPLACE_END>", "<KEEP>", "<", "x", ",", "print", "stream", ">", "println", "(", ")", "{", "return", "new", "print", "line", "<", "x", ">", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> predicate <REPLACE_NEW> visitor <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "predicate", "<REPLACE_NEW>", "visitor", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "x", "<KEEP>", ">", "<KEEP>", "binary", "<REPLACE_OLD>", "predicate", "<REPLACE_NEW>", "visitor", "<KEEP>", "<", "<KEEP>", "x", "<KEEP>", ",", "<KEEP>", "print", "<KEEP>", "stream", "<KEEP>", ">", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "print", "<KEEP>", "line", "<KEEP>", "<", "<KEEP>", "x", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "alibaba_jvm-sandbox-0-2558", "old_comment": "module class loader", "old_comment_tokens": ["module", "class", "loader"], "new_comment": "module jar class loader", "new_comment_tokens": ["module", "jar", "class", "loader"], "old_code": "public module class loader get loader ( ) { return loader ; }", "old_code_tokens": ["public", "module", "class", "loader", "get", "loader", "(", ")", "{", "return", "loader", ";", "}"], "new_code": "public module jar class loader get loader ( ) { return loader ; }", "new_code_tokens": ["public", "module", "jar", "class", "loader", "get", "loader", "(", ")", "{", "return", "loader", ";", "}"], "span_diff_code": "<KEEP> public module <KEEP_END> <INSERT> jar <INSERT_END> <KEEP> class loader get loader ( ) { return loader ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "module", "<KEEP_END>", "<INSERT>", "jar", "<INSERT_END>", "<KEEP>", "class", "loader", "get", "loader", "(", ")", "{", "return", "loader", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> module <INSERT_NEW_KEEP_BEFORE> module jar <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "module", "<INSERT_NEW_KEEP_BEFORE>", "module", "jar", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "module", "<INSERT>", "jar", "<KEEP>", "class", "<KEEP>", "loader", "<KEEP>", "get", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "loader", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eseawind_opening-trunk-9-6427", "old_comment": "the entity as an input stream .", "old_comment_tokens": ["the", "entity", "as", "an", "input", "stream", "."], "new_comment": "the entity .", "new_comment_tokens": ["the", "entity", "."], "old_code": "public final branching input stream get entity ( ) { return entity ; }", "old_code_tokens": ["public", "final", "branching", "input", "stream", "get", "entity", "(", ")", "{", "return", "entity", ";", "}"], "new_code": "public final entity get entity ( ) { return entity ; }", "new_code_tokens": ["public", "final", "entity", "get", "entity", "(", ")", "{", "return", "entity", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <REPLACE_OLD> branching input stream <REPLACE_NEW> entity <REPLACE_END> <KEEP> get entity ( ) { return entity ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<REPLACE_OLD>", "branching", "input", "stream", "<REPLACE_NEW>", "entity", "<REPLACE_END>", "<KEEP>", "get", "entity", "(", ")", "{", "return", "entity", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> as an input stream <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "as", "an", "input", "stream", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<REPLACE_OLD>", "branching", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "entity", "<KEEP>", "get", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "entity", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bbatsov_spellbook-dictionary-1-4507", "old_comment": "current number of words for study", "old_comment_tokens": ["current", "number", "of", "words", "for", "study"], "new_comment": "current number of words for study from respective study set", "new_comment_tokens": ["current", "number", "of", "words", "for", "study", "from", "respective", "study", "set"], "old_code": "public long get count of the words ( ) { return ( long ) em . create query ( str ) . get single result ( ) ; }", "old_code_tokens": ["public", "long", "get", "count", "of", "the", "words", "(", ")", "{", "return", "(", "long", ")", "em", ".", "create", "query", "(", "str", ")", ".", "get", "single", "result", "(", ")", ";", "}"], "new_code": "public long get count of the words ( string study set name ) { return ( long ) em . create query ( str ) . set parameter ( str , study set name ) . get single result ( ) ; }", "new_code_tokens": ["public", "long", "get", "count", "of", "the", "words", "(", "string", "study", "set", "name", ")", "{", "return", "(", "long", ")", "em", ".", "create", "query", "(", "str", ")", ".", "set", "parameter", "(", "str", ",", "study", "set", "name", ")", ".", "get", "single", "result", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public long get count of the words ( <KEEP_END> <INSERT> string study set name <INSERT_END> <KEEP> ) { return ( long ) em . create query ( str ) . <KEEP_END> <INSERT> set parameter ( str , study set name ) . <INSERT_END> <KEEP> get single result ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "count", "of", "the", "words", "(", "<KEEP_END>", "<INSERT>", "string", "study", "set", "name", "<INSERT_END>", "<KEEP>", ")", "{", "return", "(", "long", ")", "em", ".", "create", "query", "(", "str", ")", ".", "<KEEP_END>", "<INSERT>", "set", "parameter", "(", "str", ",", "study", "set", "name", ")", ".", "<INSERT_END>", "<KEEP>", "get", "single", "result", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> study <INSERT_NEW_KEEP_BEFORE> study from respective study set <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "study", "<INSERT_NEW_KEEP_BEFORE>", "study", "from", "respective", "study", "set", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "count", "<KEEP>", "of", "<KEEP>", "the", "<KEEP>", "words", "<KEEP>", "(", "<INSERT>", "string", "<INSERT>", "study", "<INSERT>", "set", "<INSERT>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", ")", "<KEEP>", "em", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<INSERT>", "set", "<INSERT>", "parameter", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "study", "<INSERT>", "set", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ".", "<KEEP>", "get", "<KEEP>", "single", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rstudio_rstudio-6-2025", "old_comment": "number of terminals hosted by the pane", "old_comment_tokens": ["number", "of", "terminals", "hosted", "by", "the", "pane"], "new_comment": "number of terminals in the dropdown", "new_comment_tokens": ["number", "of", "terminals", "in", "the", "dropdown"], "old_code": "public int get terminal count ( ) { return terminal sessions panel _ . get widget count ( ) ; }", "old_code_tokens": ["public", "int", "get", "terminal", "count", "(", ")", "{", "return", "terminal", "sessions", "panel", "_", ".", "get", "widget", "count", "(", ")", ";", "}"], "new_code": "public int get terminal count ( ) { return active terminal toolbar button _ . terminal count ( ) ; }", "new_code_tokens": ["public", "int", "get", "terminal", "count", "(", ")", "{", "return", "active", "terminal", "toolbar", "button", "_", ".", "terminal", "count", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public int get terminal count ( ) { return <KEEP_END> <INSERT> active <INSERT_END> <KEEP> terminal <KEEP_END> <REPLACE_OLD> sessions panel <REPLACE_NEW> toolbar button <REPLACE_END> <KEEP> _ . <KEEP_END> <REPLACE_OLD> get widget <REPLACE_NEW> terminal <REPLACE_END> <KEEP> count ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "terminal", "count", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "active", "<INSERT_END>", "<KEEP>", "terminal", "<KEEP_END>", "<REPLACE_OLD>", "sessions", "panel", "<REPLACE_NEW>", "toolbar", "button", "<REPLACE_END>", "<KEEP>", "_", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "widget", "<REPLACE_NEW>", "terminal", "<REPLACE_END>", "<KEEP>", "count", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hosted by <REPLACE_NEW> in <REPLACE_END> <REPLACE_OLD> pane <REPLACE_NEW> dropdown <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hosted", "by", "<REPLACE_NEW>", "in", "<REPLACE_END>", "<REPLACE_OLD>", "pane", "<REPLACE_NEW>", "dropdown", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "terminal", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "active", "<KEEP>", "terminal", "<REPLACE_OLD>", "sessions", "<REPLACE_OLD>", "panel", "<REPLACE_NEW>", "toolbar", "<REPLACE_NEW>", "button", "<KEEP>", "_", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "widget", "<REPLACE_NEW>", "terminal", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Vexatos_Resonant-Induction-1-0-6840", "old_comment": "watt - the amount of rejected power to be sent back into the conductor", "old_comment_tokens": ["watt", "-", "the", "amount", "of", "rejected", "power", "to", "be", "sent", "back", "into", "the", "conductor"], "new_comment": "vol - the amount of rejected power to be sent back into the conductor", "new_comment_tokens": ["vol", "-", "the", "amount", "of", "rejected", "power", "to", "be", "sent", "back", "into", "the", "conductor"], "old_code": "@ override public int on receive liquid ( int type , int amt , byte side ) { if ( type = = this . type ) { int rejected liquid = math . max ( ( this . get stored liquid ( type ) + amt ) - this . capacity , num ) ; this . liquid stored + = watt - rejected electricity ; return rejected liquid ; } return watt ; }", "old_code_tokens": ["@", "override", "public", "int", "on", "receive", "liquid", "(", "int", "type", ",", "int", "amt", ",", "byte", "side", ")", "{", "if", "(", "type", "=", "=", "this", ".", "type", ")", "{", "int", "rejected", "liquid", "=", "math", ".", "max", "(", "(", "this", ".", "get", "stored", "liquid", "(", "type", ")", "+", "amt", ")", "-", "this", ".", "capacity", ",", "num", ")", ";", "this", ".", "liquid", "stored", "+", "=", "watt", "-", "rejected", "electricity", ";", "return", "rejected", "liquid", ";", "}", "return", "watt", ";", "}"], "new_code": "@ override public int on receive liquid ( int type , int vol , byte side ) { if ( type = = this . type ) { int rejected volume = math . max ( ( this . get stored liquid ( type ) + vol ) - this . capacity , num ) ; this . liquid stored = vol - rejected volume ; return rejected volume ; } return vol ; }", "new_code_tokens": ["@", "override", "public", "int", "on", "receive", "liquid", "(", "int", "type", ",", "int", "vol", ",", "byte", "side", ")", "{", "if", "(", "type", "=", "=", "this", ".", "type", ")", "{", "int", "rejected", "volume", "=", "math", ".", "max", "(", "(", "this", ".", "get", "stored", "liquid", "(", "type", ")", "+", "vol", ")", "-", "this", ".", "capacity", ",", "num", ")", ";", "this", ".", "liquid", "stored", "=", "vol", "-", "rejected", "volume", ";", "return", "rejected", "volume", ";", "}", "return", "vol", ";", "}"], "span_diff_code": "<KEEP> @ override public int on receive liquid ( int type , int <KEEP_END> <REPLACE_OLD> amt <REPLACE_NEW> vol <REPLACE_END> <KEEP> , byte side ) { if ( type = = this . type ) { int rejected <KEEP_END> <REPLACE_OLD> liquid <REPLACE_NEW> volume <REPLACE_END> <KEEP> = math . max ( ( this . get stored liquid ( type ) + <KEEP_END> <REPLACE_OLD> amt <REPLACE_NEW> vol <REPLACE_END> <KEEP> ) - this . capacity , num ) ; this . liquid stored <KEEP_END> <DELETE> + <DELETE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> watt <REPLACE_NEW> vol <REPLACE_END> <KEEP> - rejected <KEEP_END> <REPLACE_OLD> electricity <REPLACE_NEW> volume <REPLACE_END> <KEEP> ; return rejected <KEEP_END> <REPLACE_OLD> liquid <REPLACE_NEW> volume <REPLACE_END> <KEEP> ; } return <KEEP_END> <REPLACE_OLD> watt <REPLACE_NEW> vol <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "int", "on", "receive", "liquid", "(", "int", "type", ",", "int", "<KEEP_END>", "<REPLACE_OLD>", "amt", "<REPLACE_NEW>", "vol", "<REPLACE_END>", "<KEEP>", ",", "byte", "side", ")", "{", "if", "(", "type", "=", "=", "this", ".", "type", ")", "{", "int", "rejected", "<KEEP_END>", "<REPLACE_OLD>", "liquid", "<REPLACE_NEW>", "volume", "<REPLACE_END>", "<KEEP>", "=", "math", ".", "max", "(", "(", "this", ".", "get", "stored", "liquid", "(", "type", ")", "+", "<KEEP_END>", "<REPLACE_OLD>", "amt", "<REPLACE_NEW>", "vol", "<REPLACE_END>", "<KEEP>", ")", "-", "this", ".", "capacity", ",", "num", ")", ";", "this", ".", "liquid", "stored", "<KEEP_END>", "<DELETE>", "+", "<DELETE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "watt", "<REPLACE_NEW>", "vol", "<REPLACE_END>", "<KEEP>", "-", "rejected", "<KEEP_END>", "<REPLACE_OLD>", "electricity", "<REPLACE_NEW>", "volume", "<REPLACE_END>", "<KEEP>", ";", "return", "rejected", "<KEEP_END>", "<REPLACE_OLD>", "liquid", "<REPLACE_NEW>", "volume", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "watt", "<REPLACE_NEW>", "vol", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> watt <REPLACE_NEW> vol <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "watt", "<REPLACE_NEW>", "vol", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "on", "<KEEP>", "receive", "<KEEP>", "liquid", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "int", "<REPLACE_OLD>", "amt", "<REPLACE_NEW>", "vol", "<KEEP>", ",", "<KEEP>", "byte", "<KEEP>", "side", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "rejected", "<REPLACE_OLD>", "liquid", "<REPLACE_NEW>", "volume", "<KEEP>", "=", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "max", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "stored", "<KEEP>", "liquid", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "+", "<REPLACE_OLD>", "amt", "<REPLACE_NEW>", "vol", "<KEEP>", ")", "<KEEP>", "-", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "capacity", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "liquid", "<KEEP>", "stored", "<DELETE>", "+", "<KEEP>", "=", "<REPLACE_OLD>", "watt", "<REPLACE_NEW>", "vol", "<KEEP>", "-", "<KEEP>", "rejected", "<REPLACE_OLD>", "electricity", "<REPLACE_NEW>", "volume", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "rejected", "<REPLACE_OLD>", "liquid", "<REPLACE_NEW>", "volume", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "watt", "<REPLACE_NEW>", "vol", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "gavioto_portecle-62-5679", "old_comment": "the key size", "old_comment_tokens": ["the", "key", "size"], "new_comment": "the key size , # unknown _ key _ size if not known", "new_comment_tokens": ["the", "key", "size", ",", "#", "unknown", "_", "key", "_", "size", "if", "not", "known"], "old_code": "public static int get key length ( asymmetric key parameter key params ) throws crypto exception { if ( key params instanceof rsakey parameters ) { return ( ( rsakey parameters ) key params ) . get modulus ( ) . bit length ( ) ; } else if ( key params instanceof dsakey parameters ) { return ( ( dsakey parameters ) key params ) . get parameters ( ) . get p ( ) . bit length ( ) ; } else if ( key params instanceof dhkey parameters ) { return ( ( dhkey parameters ) key params ) . get parameters ( ) . get p ( ) . bit length ( ) ; } else { throw new crypto exception ( rb . get string ( str ) ) ; } }", "old_code_tokens": ["public", "static", "int", "get", "key", "length", "(", "asymmetric", "key", "parameter", "key", "params", ")", "throws", "crypto", "exception", "{", "if", "(", "key", "params", "instanceof", "rsakey", "parameters", ")", "{", "return", "(", "(", "rsakey", "parameters", ")", "key", "params", ")", ".", "get", "modulus", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "dsakey", "parameters", ")", "{", "return", "(", "(", "dsakey", "parameters", ")", "key", "params", ")", ".", "get", "parameters", "(", ")", ".", "get", "p", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "dhkey", "parameters", ")", "{", "return", "(", "(", "dhkey", "parameters", ")", "key", "params", ")", ".", "get", "parameters", "(", ")", ".", "get", "p", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "{", "throw", "new", "crypto", "exception", "(", "rb", ".", "get", "string", "(", "str", ")", ")", ";", "}", "}"], "new_code": "public static int get key length ( asymmetric key parameter key params ) { if ( key params instanceof rsakey parameters ) { return ( ( rsakey parameters ) key params ) . get modulus ( ) . bit length ( ) ; } else if ( key params instanceof dsakey parameters ) { return ( ( dsakey parameters ) key params ) . get parameters ( ) . get p ( ) . bit length ( ) ; } else if ( key params instanceof dhkey parameters ) { return ( ( dhkey parameters ) key params ) . get parameters ( ) . get p ( ) . bit length ( ) ; } else if ( key params instanceof eckey parameters ) { return unknown _ key _ size ; } log . warning ( str + key params ) ; return unknown _ key _ size ; }", "new_code_tokens": ["public", "static", "int", "get", "key", "length", "(", "asymmetric", "key", "parameter", "key", "params", ")", "{", "if", "(", "key", "params", "instanceof", "rsakey", "parameters", ")", "{", "return", "(", "(", "rsakey", "parameters", ")", "key", "params", ")", ".", "get", "modulus", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "dsakey", "parameters", ")", "{", "return", "(", "(", "dsakey", "parameters", ")", "key", "params", ")", ".", "get", "parameters", "(", ")", ".", "get", "p", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "dhkey", "parameters", ")", "{", "return", "(", "(", "dhkey", "parameters", ")", "key", "params", ")", ".", "get", "parameters", "(", ")", ".", "get", "p", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "eckey", "parameters", ")", "{", "return", "unknown", "_", "key", "_", "size", ";", "}", "log", ".", "warning", "(", "str", "+", "key", "params", ")", ";", "return", "unknown", "_", "key", "_", "size", ";", "}"], "span_diff_code": "<KEEP> public static int get key length ( asymmetric key parameter key params ) <KEEP_END> <DELETE> throws crypto exception <DELETE_END> <KEEP> { if ( key params instanceof rsakey parameters ) { return ( ( rsakey parameters ) key params ) . get modulus ( ) . bit length ( ) ; } else if ( key params instanceof dsakey parameters ) { return ( ( dsakey parameters ) key params ) . get parameters ( ) . get p ( ) . bit length ( ) ; } else if ( key params instanceof dhkey parameters ) { return ( ( dhkey parameters ) key params ) . get parameters ( ) . get p ( ) . bit length ( ) ; } else <KEEP_END> <INSERT> if ( key params instanceof eckey parameters ) <INSERT_END> <KEEP> { <KEEP_END> <REPLACE_OLD> throw new crypto exception ( rb <REPLACE_NEW> return unknown _ key _ size ; } log <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get string <REPLACE_NEW> warning <REPLACE_END> <KEEP> ( str <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> + key params <REPLACE_END> <KEEP> ) ; <KEEP_END> <INSERT> return unknown _ key _ size ; <INSERT_END> <KEEP> } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "int", "get", "key", "length", "(", "asymmetric", "key", "parameter", "key", "params", ")", "<KEEP_END>", "<DELETE>", "throws", "crypto", "exception", "<DELETE_END>", "<KEEP>", "{", "if", "(", "key", "params", "instanceof", "rsakey", "parameters", ")", "{", "return", "(", "(", "rsakey", "parameters", ")", "key", "params", ")", ".", "get", "modulus", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "dsakey", "parameters", ")", "{", "return", "(", "(", "dsakey", "parameters", ")", "key", "params", ")", ".", "get", "parameters", "(", ")", ".", "get", "p", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "if", "(", "key", "params", "instanceof", "dhkey", "parameters", ")", "{", "return", "(", "(", "dhkey", "parameters", ")", "key", "params", ")", ".", "get", "parameters", "(", ")", ".", "get", "p", "(", ")", ".", "bit", "length", "(", ")", ";", "}", "else", "<KEEP_END>", "<INSERT>", "if", "(", "key", "params", "instanceof", "eckey", "parameters", ")", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "throw", "new", "crypto", "exception", "(", "rb", "<REPLACE_NEW>", "return", "unknown", "_", "key", "_", "size", ";", "}", "log", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "string", "<REPLACE_NEW>", "warning", "<REPLACE_END>", "<KEEP>", "(", "str", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "+", "key", "params", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "return", "unknown", "_", "key", "_", "size", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> size <INSERT_NEW_KEEP_BEFORE> size , # unknown _ key _ size if not known <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "size", "<INSERT_NEW_KEEP_BEFORE>", "size", ",", "#", "unknown", "_", "key", "_", "size", "if", "not", "known", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "asymmetric", "<KEEP>", "key", "<KEEP>", "parameter", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", ")", "<DELETE>", "throws", "<DELETE>", "crypto", "<DELETE>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", "instanceof", "<KEEP>", "rsakey", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "rsakey", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "modulus", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "bit", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", "instanceof", "<KEEP>", "dsakey", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "dsakey", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "p", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "bit", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", "instanceof", "<KEEP>", "dhkey", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "dhkey", "<KEEP>", "parameters", "<KEEP>", ")", "<KEEP>", "key", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "p", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "bit", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "key", "<INSERT>", "params", "<INSERT>", "instanceof", "<INSERT>", "eckey", "<INSERT>", "parameters", "<INSERT>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "crypto", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "rb", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "unknown", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "log", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "warning", "<KEEP>", "(", "<KEEP>", "str", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", "params", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "unknown", "<INSERT>", "_", "<INSERT>", "key", "<INSERT>", "_", "<INSERT>", "size", "<INSERT>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "mccraigmccraig_prefuse-3-5598", "old_comment": "the graph item located at the given point , if any", "old_comment_tokens": ["the", "graph", "item", "located", "at", "the", "given", "point", ",", "if", "any"], "new_comment": "the visual item located at the given point , if any", "new_comment_tokens": ["the", "visual", "item", "located", "at", "the", "given", "point", ",", "if", "any"], "old_code": "public graph item find item ( point p ) { point2 d p2 = ( m _ itransform = = null ? p : m _ itransform . transform ( p , m _ tmp point ) ) ; synchronized ( m _ registry ) { iterator items = m _ registry . get items reversed ( ) ; while ( items . has next ( ) ) { graph item gi = ( graph item ) items . next ( ) ; renderer r = gi . get renderer ( ) ; if ( r ! = null & & r . locate point ( p2 , gi ) ) { return gi ; } } } return null ; }", "old_code_tokens": ["public", "graph", "item", "find", "item", "(", "point", "p", ")", "{", "point2", "d", "p2", "=", "(", "m", "_", "itransform", "=", "=", "null", "?", "p", ":", "m", "_", "itransform", ".", "transform", "(", "p", ",", "m", "_", "tmp", "point", ")", ")", ";", "synchronized", "(", "m", "_", "registry", ")", "{", "iterator", "items", "=", "m", "_", "registry", ".", "get", "items", "reversed", "(", ")", ";", "while", "(", "items", ".", "has", "next", "(", ")", ")", "{", "graph", "item", "gi", "=", "(", "graph", "item", ")", "items", ".", "next", "(", ")", ";", "renderer", "r", "=", "gi", ".", "get", "renderer", "(", ")", ";", "if", "(", "r", "!", "=", "null", "&", "&", "r", ".", "locate", "point", "(", "p2", ",", "gi", ")", ")", "{", "return", "gi", ";", "}", "}", "}", "return", "null", ";", "}"], "new_code": "public visual item find item ( point p ) { point2 d p2 = ( m _ itransform = = null ? p : m _ itransform . transform ( p , m _ tmp point ) ) ; synchronized ( m _ registry ) { iterator items = m _ registry . get items reversed ( ) ; while ( items . has next ( ) ) { visual item vi = ( visual item ) items . next ( ) ; renderer r = vi . get renderer ( ) ; if ( r ! = null & & r . locate point ( p2 , vi ) ) { return vi ; } } } return null ; }", "new_code_tokens": ["public", "visual", "item", "find", "item", "(", "point", "p", ")", "{", "point2", "d", "p2", "=", "(", "m", "_", "itransform", "=", "=", "null", "?", "p", ":", "m", "_", "itransform", ".", "transform", "(", "p", ",", "m", "_", "tmp", "point", ")", ")", ";", "synchronized", "(", "m", "_", "registry", ")", "{", "iterator", "items", "=", "m", "_", "registry", ".", "get", "items", "reversed", "(", ")", ";", "while", "(", "items", ".", "has", "next", "(", ")", ")", "{", "visual", "item", "vi", "=", "(", "visual", "item", ")", "items", ".", "next", "(", ")", ";", "renderer", "r", "=", "vi", ".", "get", "renderer", "(", ")", ";", "if", "(", "r", "!", "=", "null", "&", "&", "r", ".", "locate", "point", "(", "p2", ",", "vi", ")", ")", "{", "return", "vi", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END> <KEEP> item find item ( point p ) { point2 d p2 = ( m _ itransform = = null ? p : m _ itransform . transform ( p , m _ tmp point ) ) ; synchronized ( m _ registry ) { iterator items = m _ registry . get items reversed ( ) ; while ( items . has next ( ) ) { <KEEP_END> <REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END> <KEEP> item <KEEP_END> <REPLACE_OLD> gi <REPLACE_NEW> vi <REPLACE_END> <KEEP> = ( <KEEP_END> <REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END> <KEEP> item ) items . next ( ) ; renderer r = <KEEP_END> <REPLACE_OLD> gi <REPLACE_NEW> vi <REPLACE_END> <KEEP> . get renderer ( ) ; if ( r ! = null & & r . locate point ( p2 , <KEEP_END> <REPLACE_OLD> gi <REPLACE_NEW> vi <REPLACE_END> <KEEP> ) ) { return <KEEP_END> <REPLACE_OLD> gi <REPLACE_NEW> vi <REPLACE_END> <KEEP> ; } } } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>", "<KEEP>", "item", "find", "item", "(", "point", "p", ")", "{", "point2", "d", "p2", "=", "(", "m", "_", "itransform", "=", "=", "null", "?", "p", ":", "m", "_", "itransform", ".", "transform", "(", "p", ",", "m", "_", "tmp", "point", ")", ")", ";", "synchronized", "(", "m", "_", "registry", ")", "{", "iterator", "items", "=", "m", "_", "registry", ".", "get", "items", "reversed", "(", ")", ";", "while", "(", "items", ".", "has", "next", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>", "<KEEP>", "item", "<KEEP_END>", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<REPLACE_END>", "<KEEP>", "=", "(", "<KEEP_END>", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>", "<KEEP>", "item", ")", "items", ".", "next", "(", ")", ";", "renderer", "r", "=", "<KEEP_END>", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<REPLACE_END>", "<KEEP>", ".", "get", "renderer", "(", ")", ";", "if", "(", "r", "!", "=", "null", "&", "&", "r", ".", "locate", "point", "(", "p2", ",", "<KEEP_END>", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> graph <REPLACE_NEW> visual <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<KEEP>", "item", "<KEEP>", "find", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "point", "<KEEP>", "p", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "point2", "<KEEP>", "d", "<KEEP>", "p2", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "itransform", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "p", "<KEEP>", ":", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "itransform", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "p", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "tmp", "<KEEP>", "point", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "synchronized", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "registry", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iterator", "<KEEP>", "items", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "registry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "items", "<KEEP>", "reversed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "items", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<KEEP>", "item", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<KEEP>", "=", "<KEEP>", "(", "<REPLACE_OLD>", "graph", "<REPLACE_NEW>", "visual", "<KEEP>", "item", "<KEEP>", ")", "<KEEP>", "items", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "renderer", "<KEEP>", "r", "<KEEP>", "=", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "renderer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "r", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "locate", "<KEEP>", "point", "<KEEP>", "(", "<KEEP>", "p2", "<KEEP>", ",", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "gi", "<REPLACE_NEW>", "vi", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "hazelcast_hazelcast-224-3200", "old_comment": "the next power of two that is larger than the specified long value", "old_comment_tokens": ["the", "next", "power", "of", "two", "that", "is", "larger", "than", "the", "specified", "long", "value"], "new_comment": "the next power of 2 or the value itself if it is a power of 2", "new_comment_tokens": ["the", "next", "power", "of", "2", "or", "the", "value", "itself", "if", "it", "is", "a", "power", "of", "2"], "old_code": "public static long next power of two ( long value ) { if ( ! is power of two ( value ) ) { value - - ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value + + ; } return value ; }", "old_code_tokens": ["public", "static", "long", "next", "power", "of", "two", "(", "long", "value", ")", "{", "if", "(", "!", "is", "power", "of", "two", "(", "value", ")", ")", "{", "value", "-", "-", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "+", "+", ";", "}", "return", "value", ";", "}"], "new_code": "public static long next power of two ( final long value ) { return num < < ( num - long . number of leading zeros ( value - num ) ) ; }", "new_code_tokens": ["public", "static", "long", "next", "power", "of", "two", "(", "final", "long", "value", ")", "{", "return", "num", "<", "<", "(", "num", "-", "long", ".", "number", "of", "leading", "zeros", "(", "value", "-", "num", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static long next power of two ( <KEEP_END> <INSERT> final <INSERT_END> <KEEP> long value ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return num < < <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ! is power <REPLACE_NEW> num - long . number <REPLACE_END> <KEEP> of <KEEP_END> <REPLACE_OLD> two <REPLACE_NEW> leading zeros <REPLACE_END> <KEEP> ( value <KEEP_END> <INSERT> - num <INSERT_END> <KEEP> ) ) <KEEP_END> <DELETE> { value - - ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value + + <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> return value ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "long", "next", "power", "of", "two", "(", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "long", "value", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "num", "<", "<", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "!", "is", "power", "<REPLACE_NEW>", "num", "-", "long", ".", "number", "<REPLACE_END>", "<KEEP>", "of", "<KEEP_END>", "<REPLACE_OLD>", "two", "<REPLACE_NEW>", "leading", "zeros", "<REPLACE_END>", "<KEEP>", "(", "value", "<KEEP_END>", "<INSERT>", "-", "num", "<INSERT_END>", "<KEEP>", ")", ")", "<KEEP_END>", "<DELETE>", "{", "value", "-", "-", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "+", "+", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "value", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> two that <REPLACE_NEW> 2 or the value itself if it <REPLACE_END> <REPLACE_OLD> larger than the specified long value <REPLACE_NEW> a power of 2 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "two", "that", "<REPLACE_NEW>", "2", "or", "the", "value", "itself", "if", "it", "<REPLACE_END>", "<REPLACE_OLD>", "larger", "than", "the", "specified", "long", "value", "<REPLACE_NEW>", "a", "power", "of", "2", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "long", "<KEEP>", "next", "<KEEP>", "power", "<KEEP>", "of", "<KEEP>", "two", "<KEEP>", "(", "<INSERT>", "final", "<KEEP>", "long", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "<", "<KEEP>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "power", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "number", "<KEEP>", "of", "<REPLACE_OLD>", "two", "<REPLACE_NEW>", "leading", "<REPLACE_NEW>", "zeros", "<KEEP>", "(", "<KEEP>", "value", "<INSERT>", "-", "<INSERT>", "num", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "value", "<DELETE>", "-", "<DELETE>", "-", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "+", "<DELETE>", "+", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "value", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-10-4533", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public int get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "int", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public int get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "int", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public int get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "manuel-woelker_egit-9-4589", "old_comment": "time , expressed as milliseconds since the epoch .", "old_comment_tokens": ["time", ",", "expressed", "as", "milliseconds", "since", "the", "epoch", "."], "new_comment": "time , expressed as seconds since the epoch .", "new_comment_tokens": ["time", ",", "expressed", "as", "seconds", "since", "the", "epoch", "."], "old_code": "public long get commit time ( ) { return commit time ; }", "old_code_tokens": ["public", "long", "get", "commit", "time", "(", ")", "{", "return", "commit", "time", ";", "}"], "new_code": "public int get commit time ( ) { return commit time ; }", "new_code_tokens": ["public", "int", "get", "commit", "time", "(", ")", "{", "return", "commit", "time", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> int <REPLACE_END> <KEEP> get commit time ( ) { return commit time ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "commit", "time", "(", ")", "{", "return", "commit", "time", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> milliseconds <REPLACE_NEW> seconds <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "milliseconds", "<REPLACE_NEW>", "seconds", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "commit", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "commit", "<KEEP>", "time", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_openshift-sync-plugin-1-5831", "old_comment": "the jenkins job name for the given namespace and build config name and default namesapce", "old_comment_tokens": ["the", "jenkins", "job", "name", "for", "the", "given", "namespace", "and", "build", "config", "name", "and", "default", "namesapce"], "new_comment": "the jenkins job name for the given namespace and name", "new_comment_tokens": ["the", "jenkins", "job", "name", "for", "the", "given", "namespace", "and", "name"], "old_code": "public static string jenkins job name ( string namespace , string build config name , string default namespace ) { if ( namespace = = null | | namespace . length ( ) = = num | | namespace . equals ( default namespace ) ) { return build config name ; } return namespace + str + build config name ; }", "old_code_tokens": ["public", "static", "string", "jenkins", "job", "name", "(", "string", "namespace", ",", "string", "build", "config", "name", ",", "string", "default", "namespace", ")", "{", "if", "(", "namespace", "=", "=", "null", "|", "|", "namespace", ".", "length", "(", ")", "=", "=", "num", "|", "|", "namespace", ".", "equals", "(", "default", "namespace", ")", ")", "{", "return", "build", "config", "name", ";", "}", "return", "namespace", "+", "str", "+", "build", "config", "name", ";", "}"], "new_code": "public static string jenkins job name ( string namespace , string build config name ) { return namespace + str + build config name ; }", "new_code_tokens": ["public", "static", "string", "jenkins", "job", "name", "(", "string", "namespace", ",", "string", "build", "config", "name", ")", "{", "return", "namespace", "+", "str", "+", "build", "config", "name", ";", "}"], "span_diff_code": "<KEEP> public static string jenkins job name ( string namespace , string build config name <KEEP_END> <DELETE> , string default namespace <DELETE_END> <KEEP> ) { <KEEP_END> <DELETE> if ( namespace = = null | | namespace . length ( ) = = num | | namespace . equals ( default namespace ) ) { return build config name ; } <DELETE_END> <KEEP> return namespace + str + build config name ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "jenkins", "job", "name", "(", "string", "namespace", ",", "string", "build", "config", "name", "<KEEP_END>", "<DELETE>", ",", "string", "default", "namespace", "<DELETE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<DELETE>", "if", "(", "namespace", "=", "=", "null", "|", "|", "namespace", ".", "length", "(", ")", "=", "=", "num", "|", "|", "namespace", ".", "equals", "(", "default", "namespace", ")", ")", "{", "return", "build", "config", "name", ";", "}", "<DELETE_END>", "<KEEP>", "return", "namespace", "+", "str", "+", "build", "config", "name", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> build config <DELETE_END> <DELETE> and default namesapce <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "build", "config", "<DELETE_END>", "<DELETE>", "and", "default", "namesapce", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "jenkins", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "namespace", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "build", "<KEEP>", "config", "<KEEP>", "name", "<DELETE>", ",", "<DELETE>", "string", "<DELETE>", "default", "<DELETE>", "namespace", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "namespace", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "namespace", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "namespace", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "default", "<DELETE>", "namespace", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "build", "<DELETE>", "config", "<DELETE>", "name", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "namespace", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "build", "<KEEP>", "config", "<KEEP>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_sgs-server-32-6926", "old_comment": "the port", "old_comment_tokens": ["the", "port"], "new_comment": "the server port", "new_comment_tokens": ["the", "server", "port"], "old_code": "public int get port ( ) { return port ; }", "old_code_tokens": ["public", "int", "get", "port", "(", ")", "{", "return", "port", ";", "}"], "new_code": "public int get port ( ) { return server port ; }", "new_code_tokens": ["public", "int", "get", "port", "(", ")", "{", "return", "server", "port", ";", "}"], "span_diff_code": "<KEEP> public int get port ( ) { return <KEEP_END> <INSERT> server <INSERT_END> <KEEP> port ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "port", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "server", "<INSERT_END>", "<KEEP>", "port", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the server <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "server", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "port", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "server", "<KEEP>", "port", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_kylin-7-2856", "old_comment": "cube request cube change request", "old_comment_tokens": ["cube", "request", "cube", "change", "request"], "new_comment": "table metadata array", "new_comment_tokens": ["table", "metadata", "array"], "old_code": "@ request mapping ( value = str , method = { request method . post } ) @ response body public cube request save cube desc ( @ request body cube request cube request ) { metadata manager meta manager = metadata manager . get instance ( cube service . get config ( ) ) ; data model desc model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return error request ( cube request , str ) ; } if ( string utils . is empty ( model desc . get name ( ) ) ) { return error request ( cube request , str ) ; } try { data model desc existing model = meta manager . get data model desc ( model desc . get name ( ) ) ; if ( existing model = = null ) { meta manager . create data model desc ( model desc ) ; } else { model desc . set last modified ( existing model . get last modified ( ) ) ; meta manager . update data model desc ( model desc ) ; } } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } if ( string utils . is empty ( desc . get name ( ) ) ) { logger . info ( str ) ; return error request ( cube request , str ) ; } try { desc . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; cube instance created cube = cube service . create cube and desc ( desc . get name ( ) , project name , desc ) ; access service . init ( created cube , acl permission . administration ) ; project instance project = cube service . get project manager ( ) . get project ( project name ) ; access service . inherit ( created cube , project ) ; } catch ( exception e ) { logger . error ( str , e ) ; throw new internal error exception ( e . get localized message ( ) , e ) ; } cube request . set uuid ( desc . get uuid ( ) ) ; cube request . set successful ( true ) ; return cube request ; }", "old_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "post", "}", ")", "@", "response", "body", "public", "cube", "request", "save", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "{", "metadata", "manager", "meta", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "cube", "service", ".", "get", "config", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "if", "(", "string", "utils", ".", "is", "empty", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "try", "{", "data", "model", "desc", "existing", "model", "=", "meta", "manager", ".", "get", "data", "model", "desc", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "existing", "model", "=", "=", "null", ")", "{", "meta", "manager", ".", "create", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "else", "{", "model", "desc", ".", "set", "last", "modified", "(", "existing", "model", ".", "get", "last", "modified", "(", ")", ")", ";", "meta", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "if", "(", "string", "utils", ".", "is", "empty", "(", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "try", "{", "desc", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "cube", "instance", "created", "cube", "=", "cube", "service", ".", "create", "cube", "and", "desc", "(", "desc", ".", "get", "name", "(", ")", ",", "project", "name", ",", "desc", ")", ";", "access", "service", ".", "init", "(", "created", "cube", ",", "acl", "permission", ".", "administration", ")", ";", "project", "instance", "project", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ".", "get", "project", "(", "project", "name", ")", ";", "access", "service", ".", "inherit", "(", "created", "cube", ",", "project", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "}", "cube", "request", ".", "set", "uuid", "(", "desc", ".", "get", "uuid", "(", ")", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}"], "new_code": "@ request mapping ( value = str , method = { request method . post } ) @ response body public cube request save cube desc ( @ request body cube request cube request ) { cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { cube request . set message ( str ) ; return cube request ; } string name = cube service . get cube name from desc ( desc . get name ( ) ) ; if ( string utils . is empty ( name ) ) { logger . info ( str ) ; throw new bad request exception ( str ) ; } cube instance cube instance ; try { desc . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; cube instance = cube service . create cube and desc ( name , project name , desc ) ; } catch ( exception e ) { logger . error ( str , e ) ; throw new internal error exception ( e . get localized message ( ) , e ) ; } boolean create streaming config success = false , create kafka config success = false ; streaming config streaming config = null ; kafka config kafka config = null ; boolean is streaming cube = cube request . get streaming cube ( ) ! = null & & cube request . get streaming cube ( ) . equals ( str ) ; try { if ( is streaming cube ) { streaming config = deserialize streaming desc ( cube request ) ; kafka config = deserialize kafka desc ( cube request ) ; if ( kafka config = = null ) { cube request . set message ( str ) ; return cube request ; } if ( streaming config = = null ) { cube request . set message ( str ) ; return cube request ; } try { streaming config . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; streaming service . create streaming config ( streaming config ) ; create streaming config success = true ; } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } try { kafka config . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; kafka config service . create kafka config ( kafka config ) ; create kafka config success = true ; } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } } } finally { if ( is streaming cube ) { if ( create streaming config success = = false | | create kafka config success = = false ) { try { cube service . delete cube ( cube instance ) ; } catch ( exception ex ) { throw new internal error exception ( str + str + ex . get message ( ) , ex ) ; } if ( create streaming config success = = true ) { try { streaming service . drop streaming config ( streaming config ) ; } catch ( ioexception e ) { throw new internal error exception ( str + e . get localized message ( ) ) ; } } if ( create kafka config success = = true ) { try { kafka config service . drop kafka config ( kafka config ) ; } catch ( ioexception e ) { throw new internal error exception ( str + e . get localized message ( ) ) ; } } } } } cube request . set uuid ( desc . get uuid ( ) ) ; cube request . set successful ( true ) ; return cube request ; }", "new_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "post", "}", ")", "@", "response", "body", "public", "cube", "request", "save", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "cube", "request", ".", "set", "message", "(", "str", ")", ";", "return", "cube", "request", ";", "}", "string", "name", "=", "cube", "service", ".", "get", "cube", "name", "from", "desc", "(", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "name", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "throw", "new", "bad", "request", "exception", "(", "str", ")", ";", "}", "cube", "instance", "cube", "instance", ";", "try", "{", "desc", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "cube", "instance", "=", "cube", "service", ".", "create", "cube", "and", "desc", "(", "name", ",", "project", "name", ",", "desc", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "}", "boolean", "create", "streaming", "config", "success", "=", "false", ",", "create", "kafka", "config", "success", "=", "false", ";", "streaming", "config", "streaming", "config", "=", "null", ";", "kafka", "config", "kafka", "config", "=", "null", ";", "boolean", "is", "streaming", "cube", "=", "cube", "request", ".", "get", "streaming", "cube", "(", ")", "!", "=", "null", "&", "&", "cube", "request", ".", "get", "streaming", "cube", "(", ")", ".", "equals", "(", "str", ")", ";", "try", "{", "if", "(", "is", "streaming", "cube", ")", "{", "streaming", "config", "=", "deserialize", "streaming", "desc", "(", "cube", "request", ")", ";", "kafka", "config", "=", "deserialize", "kafka", "desc", "(", "cube", "request", ")", ";", "if", "(", "kafka", "config", "=", "=", "null", ")", "{", "cube", "request", ".", "set", "message", "(", "str", ")", ";", "return", "cube", "request", ";", "}", "if", "(", "streaming", "config", "=", "=", "null", ")", "{", "cube", "request", ".", "set", "message", "(", "str", ")", ";", "return", "cube", "request", ";", "}", "try", "{", "streaming", "config", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "streaming", "service", ".", "create", "streaming", "config", "(", "streaming", "config", ")", ";", "create", "streaming", "config", "success", "=", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "try", "{", "kafka", "config", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "kafka", "config", "service", ".", "create", "kafka", "config", "(", "kafka", "config", ")", ";", "create", "kafka", "config", "success", "=", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "}", "finally", "{", "if", "(", "is", "streaming", "cube", ")", "{", "if", "(", "create", "streaming", "config", "success", "=", "=", "false", "|", "|", "create", "kafka", "config", "success", "=", "=", "false", ")", "{", "try", "{", "cube", "service", ".", "delete", "cube", "(", "cube", "instance", ")", ";", "}", "catch", "(", "exception", "ex", ")", "{", "throw", "new", "internal", "error", "exception", "(", "str", "+", "str", "+", "ex", ".", "get", "message", "(", ")", ",", "ex", ")", ";", "}", "if", "(", "create", "streaming", "config", "success", "=", "=", "true", ")", "{", "try", "{", "streaming", "service", ".", "drop", "streaming", "config", "(", "streaming", "config", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "if", "(", "create", "kafka", "config", "success", "=", "=", "true", ")", "{", "try", "{", "kafka", "config", "service", ".", "drop", "kafka", "config", "(", "kafka", "config", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "}", "}", "}", "cube", "request", ".", "set", "uuid", "(", "desc", ".", "get", "uuid", "(", ")", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}"], "span_diff_code": "<KEEP> @ request mapping ( value = str , method = { request method . post } ) @ response body public cube request save cube desc ( @ request body cube request cube request ) { <KEEP_END> <REPLACE_OLD> metadata manager meta manager = metadata manager . get instance ( <REPLACE_NEW> cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { cube request . set message ( str ) ; return cube request ; } string name = <REPLACE_END> <KEEP> cube service . get <KEEP_END> <REPLACE_OLD> config ( ) ) ; data model desc model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return error request ( cube request , str ) ; } <REPLACE_NEW> cube name from desc ( desc . get name ( ) ) ; <REPLACE_END> <KEEP> if ( string utils . is empty ( <KEEP_END> <DELETE> model desc . get <DELETE_END> <KEEP> name <KEEP_END> <REPLACE_OLD> ( ) ) ) { return error request ( cube request , str ) ; } try { data model desc existing model = meta manager . get data model desc ( model desc . get name ( ) ) ; if ( existing model = = null ) { meta manager . create data model desc ( model desc ) ; } else { model desc . set last modified ( existing model . get last modified ( ) ) ; meta manager . update data model desc ( model desc ) ; } } catch ( ioexception e <REPLACE_NEW> ) <REPLACE_END> <KEEP> ) { logger . <KEEP_END> <REPLACE_OLD> error ( str + e . get localized message ( ) , e <REPLACE_NEW> info ( str <REPLACE_END> <KEEP> ) ; throw new <KEEP_END> <REPLACE_OLD> internal error exception ( str + e . get localized message ( ) ) ; } cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } if ( string utils . is empty ( desc . get name ( ) ) ) { logger . info ( str ) ; return error request ( cube request , str ) ; } <REPLACE_NEW> bad request exception ( str ) ; } cube instance cube instance ; <REPLACE_END> <KEEP> try { desc . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; cube instance <KEEP_END> <DELETE> created cube <DELETE_END> <KEEP> = cube service . create cube and desc ( <KEEP_END> <DELETE> desc . get <DELETE_END> <KEEP> name <KEEP_END> <DELETE> ( ) <DELETE_END> <KEEP> , project name , desc <KEEP_END> <DELETE> ) ; access service . init ( created cube , acl permission . administration ) ; project instance project = cube service . get project manager ( ) . get project ( project name ) ; access service . inherit ( created cube , project <DELETE_END> <KEEP> ) ; } catch ( exception e ) { logger . error ( str , e ) ; throw new internal error exception ( e . get localized message ( ) , e ) ; } <KEEP_END> <INSERT> boolean create streaming config success = false , create kafka config success = false ; streaming config streaming config = null ; kafka config kafka config = null ; boolean is streaming cube = cube request . get streaming cube ( ) ! = null & & cube request . get streaming cube ( ) . equals ( str ) ; try { if ( is streaming cube ) { streaming config = deserialize streaming desc ( cube request ) ; kafka config = deserialize kafka desc ( cube request ) ; if ( kafka config = = null ) { cube request . set message ( str ) ; return cube request ; } if ( streaming config = = null ) { cube request . set message ( str ) ; return cube request ; } try { streaming config . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; streaming service . create streaming config ( streaming config ) ; create streaming config success = true ; } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } try { kafka config . set uuid ( uuid . random uuid ( ) . to string ( ) ) ; kafka config service . create kafka config ( kafka config ) ; create kafka config success = true ; } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } } } finally { if ( is streaming cube ) { if ( create streaming config success = = false | | create kafka config success = = false ) { try { cube service . delete cube ( cube instance ) ; } catch ( exception ex ) { throw new internal error exception ( str + str + ex . get message ( ) , ex ) ; } if ( create streaming config success = = true ) { try { streaming service . drop streaming config ( streaming config ) ; } catch ( ioexception e ) { throw new internal error exception ( str + e . get localized message ( ) ) ; } } if ( create kafka config success = = true ) { try { kafka config service . drop kafka config ( kafka config ) ; } catch ( ioexception e ) { throw new internal error exception ( str + e . get localized message ( ) ) ; } } } } } <INSERT_END> <KEEP> cube request . set uuid ( desc . get uuid ( ) ) ; cube request . set successful ( true ) ; return cube request ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "post", "}", ")", "@", "response", "body", "public", "cube", "request", "save", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "metadata", "manager", "meta", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "<REPLACE_NEW>", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "cube", "request", ".", "set", "message", "(", "str", ")", ";", "return", "cube", "request", ";", "}", "string", "name", "=", "<REPLACE_END>", "<KEEP>", "cube", "service", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "config", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "<REPLACE_NEW>", "cube", "name", "from", "desc", "(", "desc", ".", "get", "name", "(", ")", ")", ";", "<REPLACE_END>", "<KEEP>", "if", "(", "string", "utils", ".", "is", "empty", "(", "<KEEP_END>", "<DELETE>", "model", "desc", ".", "get", "<DELETE_END>", "<KEEP>", "name", "<KEEP_END>", "<REPLACE_OLD>", "(", ")", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "try", "{", "data", "model", "desc", "existing", "model", "=", "meta", "manager", ".", "get", "data", "model", "desc", "(", "model", "desc", ".", "get", "name", "(", ")", ")", ";", "if", "(", "existing", "model", "=", "=", "null", ")", "{", "meta", "manager", ".", "create", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "else", "{", "model", "desc", ".", "set", "last", "modified", "(", "existing", "model", ".", "get", "last", "modified", "(", ")", ")", ";", "meta", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "}", "}", "catch", "(", "ioexception", "e", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ")", "{", "logger", ".", "<KEEP_END>", "<REPLACE_OLD>", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", "<REPLACE_NEW>", "info", "(", "str", "<REPLACE_END>", "<KEEP>", ")", ";", "throw", "new", "<KEEP_END>", "<REPLACE_OLD>", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "if", "(", "string", "utils", ".", "is", "empty", "(", "desc", ".", "get", "name", "(", ")", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "<REPLACE_NEW>", "bad", "request", "exception", "(", "str", ")", ";", "}", "cube", "instance", "cube", "instance", ";", "<REPLACE_END>", "<KEEP>", "try", "{", "desc", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "cube", "instance", "<KEEP_END>", "<DELETE>", "created", "cube", "<DELETE_END>", "<KEEP>", "=", "cube", "service", ".", "create", "cube", "and", "desc", "(", "<KEEP_END>", "<DELETE>", "desc", ".", "get", "<DELETE_END>", "<KEEP>", "name", "<KEEP_END>", "<DELETE>", "(", ")", "<DELETE_END>", "<KEEP>", ",", "project", "name", ",", "desc", "<KEEP_END>", "<DELETE>", ")", ";", "access", "service", ".", "init", "(", "created", "cube", ",", "acl", "permission", ".", "administration", ")", ";", "project", "instance", "project", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ".", "get", "project", "(", "project", "name", ")", ";", "access", "service", ".", "inherit", "(", "created", "cube", ",", "project", "<DELETE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "}", "<KEEP_END>", "<INSERT>", "boolean", "create", "streaming", "config", "success", "=", "false", ",", "create", "kafka", "config", "success", "=", "false", ";", "streaming", "config", "streaming", "config", "=", "null", ";", "kafka", "config", "kafka", "config", "=", "null", ";", "boolean", "is", "streaming", "cube", "=", "cube", "request", ".", "get", "streaming", "cube", "(", ")", "!", "=", "null", "&", "&", "cube", "request", ".", "get", "streaming", "cube", "(", ")", ".", "equals", "(", "str", ")", ";", "try", "{", "if", "(", "is", "streaming", "cube", ")", "{", "streaming", "config", "=", "deserialize", "streaming", "desc", "(", "cube", "request", ")", ";", "kafka", "config", "=", "deserialize", "kafka", "desc", "(", "cube", "request", ")", ";", "if", "(", "kafka", "config", "=", "=", "null", ")", "{", "cube", "request", ".", "set", "message", "(", "str", ")", ";", "return", "cube", "request", ";", "}", "if", "(", "streaming", "config", "=", "=", "null", ")", "{", "cube", "request", ".", "set", "message", "(", "str", ")", ";", "return", "cube", "request", ";", "}", "try", "{", "streaming", "config", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "streaming", "service", ".", "create", "streaming", "config", "(", "streaming", "config", ")", ";", "create", "streaming", "config", "success", "=", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "try", "{", "kafka", "config", ".", "set", "uuid", "(", "uuid", ".", "random", "uuid", "(", ")", ".", "to", "string", "(", ")", ")", ";", "kafka", "config", "service", ".", "create", "kafka", "config", "(", "kafka", "config", ")", ";", "create", "kafka", "config", "success", "=", "true", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "}", "finally", "{", "if", "(", "is", "streaming", "cube", ")", "{", "if", "(", "create", "streaming", "config", "success", "=", "=", "false", "|", "|", "create", "kafka", "config", "success", "=", "=", "false", ")", "{", "try", "{", "cube", "service", ".", "delete", "cube", "(", "cube", "instance", ")", ";", "}", "catch", "(", "exception", "ex", ")", "{", "throw", "new", "internal", "error", "exception", "(", "str", "+", "str", "+", "ex", ".", "get", "message", "(", ")", ",", "ex", ")", ";", "}", "if", "(", "create", "streaming", "config", "success", "=", "=", "true", ")", "{", "try", "{", "streaming", "service", ".", "drop", "streaming", "config", "(", "streaming", "config", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "if", "(", "create", "kafka", "config", "success", "=", "=", "true", ")", "{", "try", "{", "kafka", "config", "service", ".", "drop", "kafka", "config", "(", "kafka", "config", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "}", "}", "}", "<INSERT_END>", "<KEEP>", "cube", "request", ".", "set", "uuid", "(", "desc", ".", "get", "uuid", "(", ")", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> cube request cube change request <REPLACE_NEW> table metadata array <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "cube", "request", "cube", "change", "request", "<REPLACE_NEW>", "table", "metadata", "array", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "mapping", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "=", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", "@", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "public", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "save", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "body", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "deserialize", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "config", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "deserialize", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<DELETE>", "model", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "existing", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "existing", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "create", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "modified", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "existing", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "modified", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ioexception", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "localized", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<REPLACE_OLD>", "internal", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "localized", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "deserialize", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "logger", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "info", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "bad", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "instance", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "instance", "<REPLACE_NEW>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", "uuid", "<KEEP>", ".", "<KEEP>", "random", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "project", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "project", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cube", "<KEEP>", "instance", "<DELETE>", "created", "<DELETE>", "cube", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "cube", "<KEEP>", "and", "<KEEP>", "desc", "<KEEP>", "(", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<KEEP>", "name", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "desc", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "access", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "init", "<DELETE>", "(", "<DELETE>", "created", "<DELETE>", "cube", "<DELETE>", ",", "<DELETE>", "acl", "<DELETE>", "permission", "<DELETE>", ".", "<DELETE>", "administration", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "project", "<DELETE>", "instance", "<DELETE>", "project", "<DELETE>", "=", "<DELETE>", "cube", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "project", "<DELETE>", "manager", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "project", "<DELETE>", "(", "<DELETE>", "project", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "access", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "inherit", "<DELETE>", "(", "<DELETE>", "created", "<DELETE>", "cube", "<DELETE>", ",", "<DELETE>", "project", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "internal", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "boolean", "<INSERT>", "create", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ",", "<INSERT>", "create", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "boolean", "<INSERT>", "is", "<INSERT>", "streaming", "<INSERT>", "cube", "<INSERT>", "=", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "streaming", "<INSERT>", "cube", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "streaming", "<INSERT>", "cube", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "is", "<INSERT>", "streaming", "<INSERT>", "cube", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "=", "<INSERT>", "deserialize", "<INSERT>", "streaming", "<INSERT>", "desc", "<INSERT>", "(", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "=", "<INSERT>", "deserialize", "<INSERT>", "kafka", "<INSERT>", "desc", "<INSERT>", "(", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "uuid", "<INSERT>", "(", "<INSERT>", "uuid", "<INSERT>", ".", "<INSERT>", "random", "<INSERT>", "uuid", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "streaming", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "(", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "create", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "ioexception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "e", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "localized", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "internal", "<INSERT>", "error", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "e", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "localized", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "uuid", "<INSERT>", "(", "<INSERT>", "uuid", "<INSERT>", ".", "<INSERT>", "random", "<INSERT>", "uuid", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "(", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "create", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "ioexception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "e", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "localized", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "internal", "<INSERT>", "error", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "e", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "localized", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "finally", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "is", "<INSERT>", "streaming", "<INSERT>", "cube", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "create", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "create", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "false", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "cube", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "delete", "<INSERT>", "cube", "<INSERT>", "(", "<INSERT>", "cube", "<INSERT>", "instance", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "exception", "<INSERT>", "ex", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "internal", "<INSERT>", "error", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "ex", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "ex", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "create", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "streaming", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "drop", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", "(", "<INSERT>", "streaming", "<INSERT>", "config", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "ioexception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "internal", "<INSERT>", "error", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "e", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "localized", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "create", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "success", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "true", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "service", "<INSERT>", ".", "<INSERT>", "drop", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", "(", "<INSERT>", "kafka", "<INSERT>", "config", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "ioexception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "internal", "<INSERT>", "error", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "e", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "localized", "<INSERT>", "message", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "uuid", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "successful", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_lenya-761-5182", "old_comment": "a file value", "old_comment_tokens": ["a", "file", "value"], "new_comment": "a string .", "new_comment_tokens": ["a", "string", "."], "old_code": "public string get document path ( ) { return get publication ( ) . get path mapper ( ) . get path ( get document ( ) . get uuid ( ) , get document ( ) . get language ( ) ) ; }", "old_code_tokens": ["public", "string", "get", "document", "path", "(", ")", "{", "return", "get", "publication", "(", ")", ".", "get", "path", "mapper", "(", ")", ".", "get", "path", "(", "get", "document", "(", ")", ".", "get", "uuid", "(", ")", ",", "get", "document", "(", ")", ".", "get", "language", "(", ")", ")", ";", "}"], "new_code": "public string get document path ( ) { if ( this . path = = null ) { final document doc = get document ( ) ; try { this . path = doc ! = null ? doc . get path ( ) : get publication ( ) . get document builder ( ) . get locator ( this . factory , this . webapp url ) . get path ( ) ; } catch ( final exception e ) { throw new runtime exception ( e ) ; } } return this . path ; }", "new_code_tokens": ["public", "string", "get", "document", "path", "(", ")", "{", "if", "(", "this", ".", "path", "=", "=", "null", ")", "{", "final", "document", "doc", "=", "get", "document", "(", ")", ";", "try", "{", "this", ".", "path", "=", "doc", "!", "=", "null", "?", "doc", ".", "get", "path", "(", ")", ":", "get", "publication", "(", ")", ".", "get", "document", "builder", "(", ")", ".", "get", "locator", "(", "this", ".", "factory", ",", "this", ".", "webapp", "url", ")", ".", "get", "path", "(", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "return", "this", ".", "path", ";", "}"], "span_diff_code": "<KEEP> public string get document path ( ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> if ( this . path = = null ) { final document doc = get document ( ) ; try { this . path = doc ! = null ? doc . get path ( ) : <REPLACE_END> <KEEP> get publication ( ) . get <KEEP_END> <REPLACE_OLD> path mapper <REPLACE_NEW> document builder <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> ) . get locator ( this . factory , this . webapp url <INSERT_END> <KEEP> ) . get path ( <KEEP_END> <DELETE> get document ( ) . get uuid ( ) , get document ( ) . get language ( ) <DELETE_END> <KEEP> ) ; } <KEEP_END> <INSERT> catch ( final exception e ) { throw new runtime exception ( e ) ; } } return this . path ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "document", "path", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "(", "this", ".", "path", "=", "=", "null", ")", "{", "final", "document", "doc", "=", "get", "document", "(", ")", ";", "try", "{", "this", ".", "path", "=", "doc", "!", "=", "null", "?", "doc", ".", "get", "path", "(", ")", ":", "<REPLACE_END>", "<KEEP>", "get", "publication", "(", ")", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "path", "mapper", "<REPLACE_NEW>", "document", "builder", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", ")", ".", "get", "locator", "(", "this", ".", "factory", ",", "this", ".", "webapp", "url", "<INSERT_END>", "<KEEP>", ")", ".", "get", "path", "(", "<KEEP_END>", "<DELETE>", "get", "document", "(", ")", ".", "get", "uuid", "(", ")", ",", "get", "document", "(", ")", ".", "get", "language", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<INSERT>", "catch", "(", "final", "exception", "e", ")", "{", "throw", "new", "runtime", "exception", "(", "e", ")", ";", "}", "}", "return", "this", ".", "path", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> file value <REPLACE_NEW> string . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "file", "value", "<REPLACE_NEW>", "string", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "document", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "document", "<REPLACE_NEW>", "doc", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "document", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "doc", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "doc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "path", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ":", "<KEEP>", "get", "<KEEP>", "publication", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "path", "<REPLACE_OLD>", "mapper", "<REPLACE_NEW>", "document", "<REPLACE_NEW>", "builder", "<KEEP>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "locator", "<INSERT>", "(", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "factory", "<INSERT>", ",", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "webapp", "<INSERT>", "url", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "path", "<KEEP>", "(", "<DELETE>", "get", "<DELETE>", "document", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "uuid", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "get", "<DELETE>", "document", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "language", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "final", "<INSERT>", "exception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "runtime", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "path", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "Atmosphere_atmosphere-1-1471", "old_comment": "an instance of the specified class", "old_comment_tokens": ["an", "instance", "of", "the", "specified", "class"], "new_comment": "an instance of the specified class or null if the class cannot be instantiated", "new_comment_tokens": ["an", "instance", "of", "the", "specified", "class", "or", "null", "if", "the", "class", "cannot", "be", "instantiated"], "old_code": "public async support new comet support ( final class < ? extends async support > target class ) { try { return ( async support ) target class . get declared constructor ( new class [ ] { atmosphere config . class } ) . new instance ( config ) ; } catch ( final exception e ) { logger . error ( str , target class , e ) ; logger . error ( str ) ; return new blocking iocomet support ( config ) ; } }", "old_code_tokens": ["public", "async", "support", "new", "comet", "support", "(", "final", "class", "<", "?", "extends", "async", "support", ">", "target", "class", ")", "{", "try", "{", "return", "(", "async", "support", ")", "target", "class", ".", "get", "declared", "constructor", "(", "new", "class", "[", "]", "{", "atmosphere", "config", ".", "class", "}", ")", ".", "new", "instance", "(", "config", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "target", "class", ",", "e", ")", ";", "logger", ".", "error", "(", "str", ")", ";", "return", "new", "blocking", "iocomet", "support", "(", "config", ")", ";", "}", "}"], "new_code": "public async support new comet support ( final class < ? extends async support > target class ) { try { return ( async support ) target class . get declared constructor ( new class [ ] { atmosphere config . class } ) . new instance ( config ) ; } catch ( final exception e ) { logger . warn ( str , target class , e ) ; return null ; } }", "new_code_tokens": ["public", "async", "support", "new", "comet", "support", "(", "final", "class", "<", "?", "extends", "async", "support", ">", "target", "class", ")", "{", "try", "{", "return", "(", "async", "support", ")", "target", "class", ".", "get", "declared", "constructor", "(", "new", "class", "[", "]", "{", "atmosphere", "config", ".", "class", "}", ")", ".", "new", "instance", "(", "config", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "warn", "(", "str", ",", "target", "class", ",", "e", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public async support new comet support ( final class < ? extends async support > target class ) { try { return ( async support ) target class . get declared constructor ( new class [ ] { atmosphere config . class } ) . new instance ( config ) ; } catch ( final exception e ) { logger . <KEEP_END> <REPLACE_OLD> error <REPLACE_NEW> warn <REPLACE_END> <KEEP> ( str , target class , e ) ; <KEEP_END> <DELETE> logger . error ( str ) ; <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> new blocking iocomet support ( config ) <REPLACE_NEW> null <REPLACE_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "async", "support", "new", "comet", "support", "(", "final", "class", "<", "?", "extends", "async", "support", ">", "target", "class", ")", "{", "try", "{", "return", "(", "async", "support", ")", "target", "class", ".", "get", "declared", "constructor", "(", "new", "class", "[", "]", "{", "atmosphere", "config", ".", "class", "}", ")", ".", "new", "instance", "(", "config", ")", ";", "}", "catch", "(", "final", "exception", "e", ")", "{", "logger", ".", "<KEEP_END>", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "warn", "<REPLACE_END>", "<KEEP>", "(", "str", ",", "target", "class", ",", "e", ")", ";", "<KEEP_END>", "<DELETE>", "logger", ".", "error", "(", "str", ")", ";", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "blocking", "iocomet", "support", "(", "config", ")", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> class <INSERT_NEW_KEEP_BEFORE> class or null if the class cannot be instantiated <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "class", "<INSERT_NEW_KEEP_BEFORE>", "class", "or", "null", "if", "the", "class", "cannot", "be", "instantiated", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "async", "<KEEP>", "support", "<KEEP>", "new", "<KEEP>", "comet", "<KEEP>", "support", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "async", "<KEEP>", "support", "<KEEP>", ">", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "async", "<KEEP>", "support", "<KEEP>", ")", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "declared", "<KEEP>", "constructor", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "class", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "atmosphere", "<KEEP>", "config", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "instance", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "warn", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "blocking", "<REPLACE_OLD>", "iocomet", "<REPLACE_OLD>", "support", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "config", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.team-272-7357", "old_comment": "true if the left and right side of the viewer are mirrored . default is false .", "old_comment_tokens": ["true", "if", "the", "left", "and", "right", "side", "of", "the", "viewer", "are", "mirrored", ".", "default", "is", "false", "."], "new_comment": "true if the compare viewer is mirrored . by default the compare viewer is not mirrored .", "new_comment_tokens": ["true", "if", "the", "compare", "viewer", "is", "mirrored", ".", "by", "default", "the", "compare", "viewer", "is", "not", "mirrored", "."], "old_code": "public boolean is mirrored ( ) { object property = get property ( mirrored ) ; return property instanceof boolean & & ( boolean ) property ; }", "old_code_tokens": ["public", "boolean", "is", "mirrored", "(", ")", "{", "object", "property", "=", "get", "property", "(", "mirrored", ")", ";", "return", "property", "instanceof", "boolean", "&", "&", "(", "boolean", ")", "property", ";", "}"], "new_code": "public boolean is mirrored ( ) { if ( ! f mirroring enabled ) return false ; object property = get property ( mirrored ) ; return property instanceof boolean & & ( boolean ) property ; }", "new_code_tokens": ["public", "boolean", "is", "mirrored", "(", ")", "{", "if", "(", "!", "f", "mirroring", "enabled", ")", "return", "false", ";", "object", "property", "=", "get", "property", "(", "mirrored", ")", ";", "return", "property", "instanceof", "boolean", "&", "&", "(", "boolean", ")", "property", ";", "}"], "span_diff_code": "<KEEP> public boolean is mirrored ( ) { <KEEP_END> <INSERT> if ( ! f mirroring enabled ) return false ; <INSERT_END> <KEEP> object property = get property ( mirrored ) ; return property instanceof boolean & & ( boolean ) property ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "mirrored", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "!", "f", "mirroring", "enabled", ")", "return", "false", ";", "<INSERT_END>", "<KEEP>", "object", "property", "=", "get", "property", "(", "mirrored", ")", ";", "return", "property", "instanceof", "boolean", "&", "&", "(", "boolean", ")", "property", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> left and right side of the <REPLACE_NEW> compare <REPLACE_END> <REPLACE_OLD> are <REPLACE_NEW> is <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> mirrored . <INSERT_NEW_KEEP_BEFORE> mirrored . by <INSERT_END> <INSERT_OLD_KEEP_BEFORE> default <INSERT_NEW_KEEP_BEFORE> default the compare viewer <INSERT_END> <REPLACE_OLD> false <REPLACE_NEW> not mirrored <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "left", "and", "right", "side", "of", "the", "<REPLACE_NEW>", "compare", "<REPLACE_END>", "<REPLACE_OLD>", "are", "<REPLACE_NEW>", "is", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "mirrored", ".", "<INSERT_NEW_KEEP_BEFORE>", "mirrored", ".", "by", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "default", "<INSERT_NEW_KEEP_BEFORE>", "default", "the", "compare", "viewer", "<INSERT_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "not", "mirrored", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "mirrored", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "f", "<INSERT>", "mirroring", "<INSERT>", "enabled", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<KEEP>", "object", "<KEEP>", "property", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "mirrored", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "property", "<KEEP>", "instanceof", "<KEEP>", "boolean", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", ")", "<KEEP>", "property", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_physical-web-4-835", "old_comment": "the stored value or null if it doesn ' t exist in specified form .", "old_comment_tokens": ["the", "stored", "value", "or", "null", "if", "it", "doesn", "'", "t", "exist", "in", "specified", "form", "."], "new_comment": "the stored value .", "new_comment_tokens": ["the", "stored", "value", "."], "old_code": "public double get extra double ( string key ) { return m extra data . opt double ( key ) ; }", "old_code_tokens": ["public", "double", "get", "extra", "double", "(", "string", "key", ")", "{", "return", "m", "extra", "data", ".", "opt", "double", "(", "key", ")", ";", "}"], "new_code": "public double get extra double ( string key ) throws jsonexception { return m extra data . get double ( key ) ; }", "new_code_tokens": ["public", "double", "get", "extra", "double", "(", "string", "key", ")", "throws", "jsonexception", "{", "return", "m", "extra", "data", ".", "get", "double", "(", "key", ")", ";", "}"], "span_diff_code": "<KEEP> public double get extra double ( string key ) <KEEP_END> <INSERT> throws jsonexception <INSERT_END> <KEEP> { return m extra data . <KEEP_END> <REPLACE_OLD> opt <REPLACE_NEW> get <REPLACE_END> <KEEP> double ( key ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "get", "extra", "double", "(", "string", "key", ")", "<KEEP_END>", "<INSERT>", "throws", "jsonexception", "<INSERT_END>", "<KEEP>", "{", "return", "m", "extra", "data", ".", "<KEEP_END>", "<REPLACE_OLD>", "opt", "<REPLACE_NEW>", "get", "<REPLACE_END>", "<KEEP>", "double", "(", "key", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or null if it doesn ' t exist in specified form <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", "if", "it", "doesn", "'", "t", "exist", "in", "specified", "form", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "get", "<KEEP>", "extra", "<KEEP>", "double", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "jsonexception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "extra", "<KEEP>", "data", "<KEEP>", ".", "<REPLACE_OLD>", "opt", "<REPLACE_NEW>", "get", "<KEEP>", "double", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "stanfordnlp_CoreNLP-231-3307", "old_comment": "sentence index or const # nonexist if stack doesn ' t have an element at this index", "old_comment_tokens": ["sentence", "index", "or", "const", "#", "nonexist", "if", "stack", "doesn", "'", "t", "have", "an", "element", "at", "this", "index"], "new_comment": "sentence index or config # nonexist if stack doesn ' t have an element at this index", "new_comment_tokens": ["sentence", "index", "or", "config", "#", "nonexist", "if", "stack", "doesn", "'", "t", "have", "an", "element", "at", "this", "index"], "old_code": "public int get buffer ( int k ) { return ( k > = num & & k < get buffer size ( ) ) ? buffer . get ( k ) : const . nonexist ; }", "old_code_tokens": ["public", "int", "get", "buffer", "(", "int", "k", ")", "{", "return", "(", "k", ">", "=", "num", "&", "&", "k", "<", "get", "buffer", "size", "(", ")", ")", "?", "buffer", ".", "get", "(", "k", ")", ":", "const", ".", "nonexist", ";", "}"], "new_code": "public int get buffer ( int k ) { return ( k > = num & & k < get buffer size ( ) ) ? buffer . get ( k ) : config . nonexist ; }", "new_code_tokens": ["public", "int", "get", "buffer", "(", "int", "k", ")", "{", "return", "(", "k", ">", "=", "num", "&", "&", "k", "<", "get", "buffer", "size", "(", ")", ")", "?", "buffer", ".", "get", "(", "k", ")", ":", "config", ".", "nonexist", ";", "}"], "span_diff_code": "<KEEP> public int get buffer ( int k ) { return ( k > = num & & k < get buffer size ( ) ) ? buffer . get ( k ) : <KEEP_END> <REPLACE_OLD> const <REPLACE_NEW> config <REPLACE_END> <KEEP> . nonexist ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "buffer", "(", "int", "k", ")", "{", "return", "(", "k", ">", "=", "num", "&", "&", "k", "<", "get", "buffer", "size", "(", ")", ")", "?", "buffer", ".", "get", "(", "k", ")", ":", "<KEEP_END>", "<REPLACE_OLD>", "const", "<REPLACE_NEW>", "config", "<REPLACE_END>", "<KEEP>", ".", "nonexist", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> const <REPLACE_NEW> config <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "const", "<REPLACE_NEW>", "config", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "buffer", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "k", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "k", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "k", "<KEEP>", "<", "<KEEP>", "get", "<KEEP>", "buffer", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "buffer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "k", "<KEEP>", ")", "<KEEP>", ":", "<REPLACE_OLD>", "const", "<REPLACE_NEW>", "config", "<KEEP>", ".", "<KEEP>", "nonexist", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "facebook_facebook-android-sdk-10-4865", "old_comment": "the error encountered , or null if the request succeeded", "old_comment_tokens": ["the", "error", "encountered", ",", "or", "null", "if", "the", "request", "succeeded"], "new_comment": "the error from the server , or null if there was no server error", "new_comment_tokens": ["the", "error", "from", "the", "server", ",", "or", "null", "if", "there", "was", "no", "server", "error"], "old_code": "public final facebook exception get error ( ) { return error ; }", "old_code_tokens": ["public", "final", "facebook", "exception", "get", "error", "(", ")", "{", "return", "error", ";", "}"], "new_code": "public final facebook request error get error ( ) { return error ; }", "new_code_tokens": ["public", "final", "facebook", "request", "error", "get", "error", "(", ")", "{", "return", "error", ";", "}"], "span_diff_code": "<KEEP> public final facebook <KEEP_END> <REPLACE_OLD> exception <REPLACE_NEW> request error <REPLACE_END> <KEEP> get error ( ) { return error ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "facebook", "<KEEP_END>", "<REPLACE_OLD>", "exception", "<REPLACE_NEW>", "request", "error", "<REPLACE_END>", "<KEEP>", "get", "error", "(", ")", "{", "return", "error", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> encountered <REPLACE_NEW> from the server <REPLACE_END> <REPLACE_OLD> the request succeeded <REPLACE_NEW> there was no server error <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "encountered", "<REPLACE_NEW>", "from", "the", "server", "<REPLACE_END>", "<REPLACE_OLD>", "the", "request", "succeeded", "<REPLACE_NEW>", "there", "was", "no", "server", "error", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<KEEP>", "facebook", "<REPLACE_OLD>", "exception", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "error", "<KEEP>", "get", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "error", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.resources-130-3812", "old_comment": "the list of currently open projects in the workspace in the order in which they would be built by iworkspace . build .", "old_comment_tokens": ["the", "list", "of", "currently", "open", "projects", "in", "the", "workspace", "in", "the", "order", "in", "which", "they", "would", "be", "built", "by", "iworkspace", ".", "build", "."], "new_comment": "the list of currently open projects active build configs ( and the project build configs they depend on ) in the workspace in the order in which they would be built by iworkspace . build .", "new_comment_tokens": ["the", "list", "of", "currently", "open", "projects", "active", "build", "configs", "(", "and", "the", "project", "build", "configs", "they", "depend", "on", ")", "in", "the", "workspace", "in", "the", "order", "in", "which", "they", "would", "be", "built", "by", "iworkspace", ".", "build", "."], "old_code": "public iproject [ ] get build order ( ) { if ( build order ! = null ) { return build order ; } string [ ] order = description . get build order ( false ) ; if ( order ! = null ) { list project list = new array list ( order . length ) ; for ( int i = num ; i < order . length ; i + + ) { iproject project = get root ( ) . get project ( order [ i ] ) ; if ( project . is accessible ( ) ) { project list . add ( project ) ; } } build order = new iproject [ project list . size ( ) ] ; project list . to array ( build order ) ; } else { build order = compute full project order ( ) . projects ; } return build order ; }", "old_code_tokens": ["public", "iproject", "[", "]", "get", "build", "order", "(", ")", "{", "if", "(", "build", "order", "!", "=", "null", ")", "{", "return", "build", "order", ";", "}", "string", "[", "]", "order", "=", "description", ".", "get", "build", "order", "(", "false", ")", ";", "if", "(", "order", "!", "=", "null", ")", "{", "list", "project", "list", "=", "new", "array", "list", "(", "order", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "order", ".", "length", ";", "i", "+", "+", ")", "{", "iproject", "project", "=", "get", "root", "(", ")", ".", "get", "project", "(", "order", "[", "i", "]", ")", ";", "if", "(", "project", ".", "is", "accessible", "(", ")", ")", "{", "project", "list", ".", "add", "(", "project", ")", ";", "}", "}", "build", "order", "=", "new", "iproject", "[", "project", "list", ".", "size", "(", ")", "]", ";", "project", "list", ".", "to", "array", "(", "build", "order", ")", ";", "}", "else", "{", "build", "order", "=", "compute", "full", "project", "order", "(", ")", ".", "projects", ";", "}", "return", "build", "order", ";", "}"], "new_code": "public ibuild configuration [ ] get build order ( ) { if ( build order ! = null ) return build order ; string [ ] order = description . get build order ( false ) ; if ( order ! = null ) { linked hash set configs = new linked hash set ( ) ; for ( int i = num ; i < order . length ; i + + ) { iproject project = get root ( ) . get project ( order [ i ] ) ; if ( project . is accessible ( ) ) configs . add ( ( ( project ) project ) . internal get active build config ( ) ) ; } configs . add all ( arrays . as list ( vertex order to project build config order ( compute active build configuration order ( ) ) . build configurations ) ) ; ibuild configuration [ ] bo = new ibuild configuration [ configs . size ( ) ] ; configs . to array ( bo ) ; this . build order = bo ; } else build order = vertex order to project build config order ( compute active build configuration order ( ) ) . build configurations ; return build order ; }", "new_code_tokens": ["public", "ibuild", "configuration", "[", "]", "get", "build", "order", "(", ")", "{", "if", "(", "build", "order", "!", "=", "null", ")", "return", "build", "order", ";", "string", "[", "]", "order", "=", "description", ".", "get", "build", "order", "(", "false", ")", ";", "if", "(", "order", "!", "=", "null", ")", "{", "linked", "hash", "set", "configs", "=", "new", "linked", "hash", "set", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "order", ".", "length", ";", "i", "+", "+", ")", "{", "iproject", "project", "=", "get", "root", "(", ")", ".", "get", "project", "(", "order", "[", "i", "]", ")", ";", "if", "(", "project", ".", "is", "accessible", "(", ")", ")", "configs", ".", "add", "(", "(", "(", "project", ")", "project", ")", ".", "internal", "get", "active", "build", "config", "(", ")", ")", ";", "}", "configs", ".", "add", "all", "(", "arrays", ".", "as", "list", "(", "vertex", "order", "to", "project", "build", "config", "order", "(", "compute", "active", "build", "configuration", "order", "(", ")", ")", ".", "build", "configurations", ")", ")", ";", "ibuild", "configuration", "[", "]", "bo", "=", "new", "ibuild", "configuration", "[", "configs", ".", "size", "(", ")", "]", ";", "configs", ".", "to", "array", "(", "bo", ")", ";", "this", ".", "build", "order", "=", "bo", ";", "}", "else", "build", "order", "=", "vertex", "order", "to", "project", "build", "config", "order", "(", "compute", "active", "build", "configuration", "order", "(", ")", ")", ".", "build", "configurations", ";", "return", "build", "order", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> iproject <REPLACE_NEW> ibuild configuration <REPLACE_END> <KEEP> [ ] get build order ( ) { if ( build order ! = null ) <KEEP_END> <INSERT> return build order ; string [ ] order = description . get build order ( false ) ; if ( order ! = null ) <INSERT_END> <KEEP> { <KEEP_END> <REPLACE_OLD> return build order ; } string [ ] order = description . get build order ( false ) ; if ( order ! = null ) { list project list <REPLACE_NEW> linked hash set configs <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> array list ( order . length <REPLACE_NEW> linked hash set ( <REPLACE_END> <KEEP> ) ; for ( int i = num ; i < order . length ; i + + ) { iproject project = get root ( ) . get project ( order [ i ] ) ; if ( project . is accessible ( ) ) <KEEP_END> <REPLACE_OLD> { project <REPLACE_NEW> configs . add ( ( ( project ) project ) . internal get active build config ( ) ) ; } configs . add all ( arrays . as <REPLACE_END> <KEEP> list <KEEP_END> <REPLACE_OLD> . add ( project ) ; } } build order <REPLACE_NEW> ( vertex order to project build config order ( compute active build configuration order ( ) ) . build configurations ) ) ; ibuild configuration [ ] bo <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> iproject [ project list <REPLACE_NEW> ibuild configuration [ configs <REPLACE_END> <KEEP> . size ( ) ] ; <KEEP_END> <REPLACE_OLD> project list <REPLACE_NEW> configs <REPLACE_END> <KEEP> . to array ( <KEEP_END> <REPLACE_OLD> build order ) <REPLACE_NEW> bo ) ; this . build order = bo <REPLACE_END> <KEEP> ; } else <KEEP_END> <REPLACE_OLD> { build order = <REPLACE_NEW> build order = vertex order to project build config order ( <REPLACE_END> <KEEP> compute <KEEP_END> <REPLACE_OLD> full project order ( ) . projects <REPLACE_NEW> active build configuration order ( ) ) . build configurations ; return build order <REPLACE_END> <KEEP> ; } <KEEP_END> <DELETE> return build order ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "iproject", "<REPLACE_NEW>", "ibuild", "configuration", "<REPLACE_END>", "<KEEP>", "[", "]", "get", "build", "order", "(", ")", "{", "if", "(", "build", "order", "!", "=", "null", ")", "<KEEP_END>", "<INSERT>", "return", "build", "order", ";", "string", "[", "]", "order", "=", "description", ".", "get", "build", "order", "(", "false", ")", ";", "if", "(", "order", "!", "=", "null", ")", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "build", "order", ";", "}", "string", "[", "]", "order", "=", "description", ".", "get", "build", "order", "(", "false", ")", ";", "if", "(", "order", "!", "=", "null", ")", "{", "list", "project", "list", "<REPLACE_NEW>", "linked", "hash", "set", "configs", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "array", "list", "(", "order", ".", "length", "<REPLACE_NEW>", "linked", "hash", "set", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "order", ".", "length", ";", "i", "+", "+", ")", "{", "iproject", "project", "=", "get", "root", "(", ")", ".", "get", "project", "(", "order", "[", "i", "]", ")", ";", "if", "(", "project", ".", "is", "accessible", "(", ")", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "project", "<REPLACE_NEW>", "configs", ".", "add", "(", "(", "(", "project", ")", "project", ")", ".", "internal", "get", "active", "build", "config", "(", ")", ")", ";", "}", "configs", ".", "add", "all", "(", "arrays", ".", "as", "<REPLACE_END>", "<KEEP>", "list", "<KEEP_END>", "<REPLACE_OLD>", ".", "add", "(", "project", ")", ";", "}", "}", "build", "order", "<REPLACE_NEW>", "(", "vertex", "order", "to", "project", "build", "config", "order", "(", "compute", "active", "build", "configuration", "order", "(", ")", ")", ".", "build", "configurations", ")", ")", ";", "ibuild", "configuration", "[", "]", "bo", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "iproject", "[", "project", "list", "<REPLACE_NEW>", "ibuild", "configuration", "[", "configs", "<REPLACE_END>", "<KEEP>", ".", "size", "(", ")", "]", ";", "<KEEP_END>", "<REPLACE_OLD>", "project", "list", "<REPLACE_NEW>", "configs", "<REPLACE_END>", "<KEEP>", ".", "to", "array", "(", "<KEEP_END>", "<REPLACE_OLD>", "build", "order", ")", "<REPLACE_NEW>", "bo", ")", ";", "this", ".", "build", "order", "=", "bo", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "<KEEP_END>", "<REPLACE_OLD>", "{", "build", "order", "=", "<REPLACE_NEW>", "build", "order", "=", "vertex", "order", "to", "project", "build", "config", "order", "(", "<REPLACE_END>", "<KEEP>", "compute", "<KEEP_END>", "<REPLACE_OLD>", "full", "project", "order", "(", ")", ".", "projects", "<REPLACE_NEW>", "active", "build", "configuration", "order", "(", ")", ")", ".", "build", "configurations", ";", "return", "build", "order", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "build", "order", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> projects <INSERT_NEW_KEEP_BEFORE> projects active build configs ( and the project build configs they depend on ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "projects", "<INSERT_NEW_KEEP_BEFORE>", "projects", "active", "build", "configs", "(", "and", "the", "project", "build", "configs", "they", "depend", "on", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "iproject", "<REPLACE_NEW>", "ibuild", "<REPLACE_NEW>", "configuration", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "build", "<KEEP>", "order", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "build", "<KEEP>", "order", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<INSERT>", "return", "<INSERT>", "build", "<INSERT>", "order", "<INSERT>", ";", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "order", "<INSERT>", "=", "<INSERT>", "description", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "build", "<INSERT>", "order", "<INSERT>", "(", "<INSERT>", "false", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "order", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "description", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "linked", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "configs", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "linked", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "order", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "iproject", "<KEEP>", "project", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "root", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "order", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "accessible", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "project", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "internal", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "all", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "arrays", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "as", "<KEEP>", "list", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "order", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "vertex", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "compute", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "configurations", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "ibuild", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "bo", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "iproject", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "ibuild", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "configs", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ";", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "configs", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "bo", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "bo", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "build", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "vertex", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "(", "<KEEP>", "compute", "<REPLACE_OLD>", "full", "<REPLACE_OLD>", "project", "<REPLACE_OLD>", "order", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "projects", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "order", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "configurations", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "order", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "build", "<DELETE>", "order", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_my-37-6914", "old_comment": "a list of sqlrow .", "old_comment_tokens": ["a", "list", "of", "sqlrow", "."], "new_comment": "the asked tree .", "new_comment_tokens": ["the", "asked", "tree", "."], "old_code": "private list < sqlrow > get tree ( sqlrow row , boolean archived ) { check ( row ) ; final list < sqlrow > descs and me = new array list < sqlrow > ( ) ; try { this . for descendants do ( row , new child processor < sqlrow > ( ) { public void process ( sqlrow parent , sqlfield joint , sqlrow desc ) throws sqlexception { descs and me . add ( desc ) ; } } , true , true , archived ) ; } catch ( sqlexception e ) { e . print stack trace ( ) ; } if ( row . is archived ( ) = = archived ) descs and me . add ( row ) ; return descs and me ; }", "old_code_tokens": ["private", "list", "<", "sqlrow", ">", "get", "tree", "(", "sqlrow", "row", ",", "boolean", "archived", ")", "{", "check", "(", "row", ")", ";", "final", "list", "<", "sqlrow", ">", "descs", "and", "me", "=", "new", "array", "list", "<", "sqlrow", ">", "(", ")", ";", "try", "{", "this", ".", "for", "descendants", "do", "(", "row", ",", "new", "child", "processor", "<", "sqlrow", ">", "(", ")", "{", "public", "void", "process", "(", "sqlrow", "parent", ",", "sqlfield", "joint", ",", "sqlrow", "desc", ")", "throws", "sqlexception", "{", "descs", "and", "me", ".", "add", "(", "desc", ")", ";", "}", "}", ",", "true", ",", "true", ",", "archived", ")", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "if", "(", "row", ".", "is", "archived", "(", ")", "=", "=", "archived", ")", "descs", "and", "me", ".", "add", "(", "row", ")", ";", "return", "descs", "and", "me", ";", "}"], "new_code": "private sqlrow values get tree ( sqlrow row , boolean archived ) { check ( row ) ; final sqlrow values res = row . as row values ( ) ; try { this . for descendants do ( res , new child processor < sqlrow values > ( ) { public void process ( sqlrow values parent , sqlfield joint , sqlrow values desc ) throws sqlexception { desc . put ( joint . get name ( ) , parent ) ; } } , true , false , archived ) ; } catch ( sqlexception e ) { e . print stack trace ( ) ; } return res ; }", "new_code_tokens": ["private", "sqlrow", "values", "get", "tree", "(", "sqlrow", "row", ",", "boolean", "archived", ")", "{", "check", "(", "row", ")", ";", "final", "sqlrow", "values", "res", "=", "row", ".", "as", "row", "values", "(", ")", ";", "try", "{", "this", ".", "for", "descendants", "do", "(", "res", ",", "new", "child", "processor", "<", "sqlrow", "values", ">", "(", ")", "{", "public", "void", "process", "(", "sqlrow", "values", "parent", ",", "sqlfield", "joint", ",", "sqlrow", "values", "desc", ")", "throws", "sqlexception", "{", "desc", ".", "put", "(", "joint", ".", "get", "name", "(", ")", ",", "parent", ")", ";", "}", "}", ",", "true", ",", "false", ",", "archived", ")", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "res", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <DELETE> list < <DELETE_END> <KEEP> sqlrow <KEEP_END> <REPLACE_OLD> > <REPLACE_NEW> values <REPLACE_END> <KEEP> get tree ( sqlrow row , boolean archived ) { check ( row ) ; final <KEEP_END> <DELETE> list < <DELETE_END> <KEEP> sqlrow <KEEP_END> <REPLACE_OLD> > descs and me <REPLACE_NEW> values res <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> new array list < sqlrow > <REPLACE_NEW> row . as row values <REPLACE_END> <KEEP> ( ) ; try { this . for descendants do ( <KEEP_END> <REPLACE_OLD> row <REPLACE_NEW> res <REPLACE_END> <KEEP> , new child processor < sqlrow <KEEP_END> <INSERT> values <INSERT_END> <KEEP> > ( ) { public void process ( sqlrow <KEEP_END> <INSERT> values <INSERT_END> <KEEP> parent , sqlfield joint , sqlrow <KEEP_END> <INSERT> values <INSERT_END> <KEEP> desc ) throws sqlexception { <KEEP_END> <REPLACE_OLD> descs and me <REPLACE_NEW> desc <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> add <REPLACE_NEW> put <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> desc <REPLACE_NEW> joint . get name ( ) , parent <REPLACE_END> <KEEP> ) ; } } , true , <KEEP_END> <REPLACE_OLD> true <REPLACE_NEW> false <REPLACE_END> <KEEP> , archived ) ; } catch ( sqlexception e ) { e . print stack trace ( ) ; } <KEEP_END> <DELETE> if ( row . is archived ( ) = = archived ) descs and me . add ( row ) ; <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> descs and me <REPLACE_NEW> res <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<DELETE>", "list", "<", "<DELETE_END>", "<KEEP>", "sqlrow", "<KEEP_END>", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "values", "<REPLACE_END>", "<KEEP>", "get", "tree", "(", "sqlrow", "row", ",", "boolean", "archived", ")", "{", "check", "(", "row", ")", ";", "final", "<KEEP_END>", "<DELETE>", "list", "<", "<DELETE_END>", "<KEEP>", "sqlrow", "<KEEP_END>", "<REPLACE_OLD>", ">", "descs", "and", "me", "<REPLACE_NEW>", "values", "res", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "array", "list", "<", "sqlrow", ">", "<REPLACE_NEW>", "row", ".", "as", "row", "values", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "try", "{", "this", ".", "for", "descendants", "do", "(", "<KEEP_END>", "<REPLACE_OLD>", "row", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", ",", "new", "child", "processor", "<", "sqlrow", "<KEEP_END>", "<INSERT>", "values", "<INSERT_END>", "<KEEP>", ">", "(", ")", "{", "public", "void", "process", "(", "sqlrow", "<KEEP_END>", "<INSERT>", "values", "<INSERT_END>", "<KEEP>", "parent", ",", "sqlfield", "joint", ",", "sqlrow", "<KEEP_END>", "<INSERT>", "values", "<INSERT_END>", "<KEEP>", "desc", ")", "throws", "sqlexception", "{", "<KEEP_END>", "<REPLACE_OLD>", "descs", "and", "me", "<REPLACE_NEW>", "desc", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "add", "<REPLACE_NEW>", "put", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "desc", "<REPLACE_NEW>", "joint", ".", "get", "name", "(", ")", ",", "parent", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "}", ",", "true", ",", "<KEEP_END>", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<KEEP>", ",", "archived", ")", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "if", "(", "row", ".", "is", "archived", "(", ")", "=", "=", "archived", ")", "descs", "and", "me", ".", "add", "(", "row", ")", ";", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "descs", "and", "me", "<REPLACE_NEW>", "res", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a list of sqlrow <REPLACE_NEW> the asked tree <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "list", "of", "sqlrow", "<REPLACE_NEW>", "the", "asked", "tree", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<DELETE>", "list", "<DELETE>", "<", "<KEEP>", "sqlrow", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "values", "<KEEP>", "get", "<KEEP>", "tree", "<KEEP>", "(", "<KEEP>", "sqlrow", "<KEEP>", "row", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "archived", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "check", "<KEEP>", "(", "<KEEP>", "row", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<DELETE>", "list", "<DELETE>", "<", "<KEEP>", "sqlrow", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "descs", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "me", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", "res", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "sqlrow", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "row", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "as", "<REPLACE_NEW>", "row", "<REPLACE_NEW>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "for", "<KEEP>", "descendants", "<KEEP>", "do", "<KEEP>", "(", "<REPLACE_OLD>", "row", "<REPLACE_NEW>", "res", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "child", "<KEEP>", "processor", "<KEEP>", "<", "<KEEP>", "sqlrow", "<INSERT>", "values", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "process", "<KEEP>", "(", "<KEEP>", "sqlrow", "<INSERT>", "values", "<KEEP>", "parent", "<KEEP>", ",", "<KEEP>", "sqlfield", "<KEEP>", "joint", "<KEEP>", ",", "<KEEP>", "sqlrow", "<INSERT>", "values", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sqlexception", "<KEEP>", "{", "<REPLACE_OLD>", "descs", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "me", "<REPLACE_NEW>", "desc", "<KEEP>", ".", "<REPLACE_OLD>", "add", "<REPLACE_NEW>", "put", "<KEEP>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_NEW>", "joint", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "parent", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ",", "<REPLACE_OLD>", "true", "<REPLACE_NEW>", "false", "<KEEP>", ",", "<KEEP>", "archived", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "sqlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "row", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "archived", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "archived", "<DELETE>", ")", "<DELETE>", "descs", "<DELETE>", "and", "<DELETE>", "me", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "(", "<DELETE>", "row", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "descs", "<REPLACE_OLD>", "and", "<REPLACE_OLD>", "me", "<REPLACE_NEW>", "res", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "iluwatar_java-design-patterns-1-1", "old_comment": "a data set with test entries", "old_comment_tokens": ["a", "data", "set", "with", "test", "entries"], "new_comment": "a stream with test entries", "new_comment_tokens": ["a", "stream", "with", "test", "entries"], "old_code": "static list < object [ ] > prepare parameters ( final int binary operator result calc ) { final list < object [ ] > test data = new array list < > ( ) ; for ( int i = - num ; i < num ; i + + ) { for ( int j = - num ; j < num ; j + + ) { test data . add ( new object [ ] { new number expression ( i ) , new number expression ( j ) , result calc . apply as int ( i , j ) } ) ; } } return test data ; }", "old_code_tokens": ["static", "list", "<", "object", "[", "]", ">", "prepare", "parameters", "(", "final", "int", "binary", "operator", "result", "calc", ")", "{", "final", "list", "<", "object", "[", "]", ">", "test", "data", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "-", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "for", "(", "int", "j", "=", "-", "num", ";", "j", "<", "num", ";", "j", "+", "+", ")", "{", "test", "data", ".", "add", "(", "new", "object", "[", "]", "{", "new", "number", "expression", "(", "i", ")", ",", "new", "number", "expression", "(", "j", ")", ",", "result", "calc", ".", "apply", "as", "int", "(", "i", ",", "j", ")", "}", ")", ";", "}", "}", "return", "test", "data", ";", "}"], "new_code": "static stream < arguments > prepare parameters ( final int binary operator result calc ) { final list < arguments > test data = new array list < > ( ) ; for ( int i = - num ; i < num ; i + + ) { for ( int j = - num ; j < num ; j + + ) { test data . add ( arguments . of ( new number expression ( i ) , new number expression ( j ) , result calc . apply as int ( i , j ) ) ) ; } } return test data . stream ( ) ; }", "new_code_tokens": ["static", "stream", "<", "arguments", ">", "prepare", "parameters", "(", "final", "int", "binary", "operator", "result", "calc", ")", "{", "final", "list", "<", "arguments", ">", "test", "data", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "-", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "for", "(", "int", "j", "=", "-", "num", ";", "j", "<", "num", ";", "j", "+", "+", ")", "{", "test", "data", ".", "add", "(", "arguments", ".", "of", "(", "new", "number", "expression", "(", "i", ")", ",", "new", "number", "expression", "(", "j", ")", ",", "result", "calc", ".", "apply", "as", "int", "(", "i", ",", "j", ")", ")", ")", ";", "}", "}", "return", "test", "data", ".", "stream", "(", ")", ";", "}"], "span_diff_code": "<KEEP> static <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> stream <REPLACE_END> <KEEP> < <KEEP_END> <REPLACE_OLD> object [ ] <REPLACE_NEW> arguments <REPLACE_END> <KEEP> > prepare parameters ( final int binary operator result calc ) { final list < <KEEP_END> <REPLACE_OLD> object [ ] <REPLACE_NEW> arguments <REPLACE_END> <KEEP> > test data = new array list < > ( ) ; for ( int i = - num ; i < num ; i + + ) { for ( int j = - num ; j < num ; j + + ) { test data . add ( <KEEP_END> <REPLACE_OLD> new object [ ] { <REPLACE_NEW> arguments . of ( <REPLACE_END> <KEEP> new number expression ( i ) , new number expression ( j ) , result calc . apply as int ( i , j ) <KEEP_END> <REPLACE_OLD> } <REPLACE_NEW> ) <REPLACE_END> <KEEP> ) ; } } return test data <KEEP_END> <INSERT> . stream ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "stream", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<REPLACE_OLD>", "object", "[", "]", "<REPLACE_NEW>", "arguments", "<REPLACE_END>", "<KEEP>", ">", "prepare", "parameters", "(", "final", "int", "binary", "operator", "result", "calc", ")", "{", "final", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "object", "[", "]", "<REPLACE_NEW>", "arguments", "<REPLACE_END>", "<KEEP>", ">", "test", "data", "=", "new", "array", "list", "<", ">", "(", ")", ";", "for", "(", "int", "i", "=", "-", "num", ";", "i", "<", "num", ";", "i", "+", "+", ")", "{", "for", "(", "int", "j", "=", "-", "num", ";", "j", "<", "num", ";", "j", "+", "+", ")", "{", "test", "data", ".", "add", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "object", "[", "]", "{", "<REPLACE_NEW>", "arguments", ".", "of", "(", "<REPLACE_END>", "<KEEP>", "new", "number", "expression", "(", "i", ")", ",", "new", "number", "expression", "(", "j", ")", ",", "result", "calc", ".", "apply", "as", "int", "(", "i", ",", "j", ")", "<KEEP_END>", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "}", "return", "test", "data", "<KEEP_END>", "<INSERT>", ".", "stream", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> data set <REPLACE_NEW> stream <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "data", "set", "<REPLACE_NEW>", "stream", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "stream", "<KEEP>", "<", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "arguments", "<KEEP>", ">", "<KEEP>", "prepare", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "binary", "<KEEP>", "operator", "<KEEP>", "result", "<KEEP>", "calc", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "arguments", "<KEEP>", ">", "<KEEP>", "test", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "j", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "<", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "j", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "test", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "arguments", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<KEEP>", "new", "<KEEP>", "number", "<KEEP>", "expression", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "number", "<KEEP>", "expression", "<KEEP>", "(", "<KEEP>", "j", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "result", "<KEEP>", "calc", "<KEEP>", ".", "<KEEP>", "apply", "<KEEP>", "as", "<KEEP>", "int", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ",", "<KEEP>", "j", "<KEEP>", ")", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "test", "<KEEP>", "data", "<INSERT>", ".", "<INSERT>", "stream", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "amikey_android-vlc-6-4272", "old_comment": "media list , should not be released .", "old_comment_tokens": ["media", "list", ",", "should", "not", "be", "released", "."], "new_comment": "media list . this media list should be released with # release ( ) .", "new_comment_tokens": ["media", "list", ".", "this", "media", "list", "should", "be", "released", "with", "#", "release", "(", ")", "."], "old_code": "public synchronized media list get media list ( ) { if ( m media list = = null & & ! is released ( ) ) m media list = new media list ( this ) ; return m media list ; }", "old_code_tokens": ["public", "synchronized", "media", "list", "get", "media", "list", "(", ")", "{", "if", "(", "m", "media", "list", "=", "=", "null", "&", "&", "!", "is", "released", "(", ")", ")", "m", "media", "list", "=", "new", "media", "list", "(", "this", ")", ";", "return", "m", "media", "list", ";", "}"], "new_code": "public media list get media list ( ) { synchronized ( this ) { if ( m media list ! = null ) { m media list . retain ( ) ; return m media list ; } } final media list media list = new media list ( this ) ; synchronized ( this ) { m media list = media list ; m media list . retain ( ) ; return m media list ; } }", "new_code_tokens": ["public", "media", "list", "get", "media", "list", "(", ")", "{", "synchronized", "(", "this", ")", "{", "if", "(", "m", "media", "list", "!", "=", "null", ")", "{", "m", "media", "list", ".", "retain", "(", ")", ";", "return", "m", "media", "list", ";", "}", "}", "final", "media", "list", "media", "list", "=", "new", "media", "list", "(", "this", ")", ";", "synchronized", "(", "this", ")", "{", "m", "media", "list", "=", "media", "list", ";", "m", "media", "list", ".", "retain", "(", ")", ";", "return", "m", "media", "list", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> synchronized <DELETE_END> <KEEP> media list get media list ( ) { <KEEP_END> <INSERT> synchronized ( this ) { <INSERT_END> <KEEP> if ( m media list <KEEP_END> <REPLACE_OLD> = <REPLACE_NEW> ! <REPLACE_END> <KEEP> = null <KEEP_END> <REPLACE_OLD> & & ! is released <REPLACE_NEW> ) { m media list . retain <REPLACE_END> <KEEP> ( ) <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> ; return <REPLACE_END> <KEEP> m <KEEP_END> <INSERT> media list ; } } final media list <INSERT_END> <KEEP> media list = new media list ( this ) ; <KEEP_END> <INSERT> synchronized ( this ) { m media list = media list ; m media list . retain ( ) ; <INSERT_END> <KEEP> return m media list ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "synchronized", "<DELETE_END>", "<KEEP>", "media", "list", "get", "media", "list", "(", ")", "{", "<KEEP_END>", "<INSERT>", "synchronized", "(", "this", ")", "{", "<INSERT_END>", "<KEEP>", "if", "(", "m", "media", "list", "<KEEP_END>", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "!", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", "&", "&", "!", "is", "released", "<REPLACE_NEW>", ")", "{", "m", "media", "list", ".", "retain", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "return", "<REPLACE_END>", "<KEEP>", "m", "<KEEP_END>", "<INSERT>", "media", "list", ";", "}", "}", "final", "media", "list", "<INSERT_END>", "<KEEP>", "media", "list", "=", "new", "media", "list", "(", "this", ")", ";", "<KEEP_END>", "<INSERT>", "synchronized", "(", "this", ")", "{", "m", "media", "list", "=", "media", "list", ";", "m", "media", "list", ".", "retain", "(", ")", ";", "<INSERT_END>", "<KEEP>", "return", "m", "media", "list", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> , <REPLACE_NEW> . this media list <REPLACE_END> <DELETE> not <DELETE_END> <INSERT_OLD_KEEP_BEFORE> released <INSERT_NEW_KEEP_BEFORE> released with # release ( ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ",", "<REPLACE_NEW>", ".", "this", "media", "list", "<REPLACE_END>", "<DELETE>", "not", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "released", "<INSERT_NEW_KEEP_BEFORE>", "released", "with", "#", "release", "(", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "synchronized", "<KEEP>", "media", "<KEEP>", "list", "<KEEP>", "get", "<KEEP>", "media", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "synchronized", "<INSERT>", "(", "<INSERT>", "this", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "media", "<KEEP>", "list", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "!", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "released", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "media", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "retain", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<KEEP>", "m", "<INSERT>", "media", "<INSERT>", "list", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "final", "<INSERT>", "media", "<INSERT>", "list", "<KEEP>", "media", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "media", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "synchronized", "<INSERT>", "(", "<INSERT>", "this", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "m", "<INSERT>", "media", "<INSERT>", "list", "<INSERT>", "=", "<INSERT>", "media", "<INSERT>", "list", "<INSERT>", ";", "<INSERT>", "m", "<INSERT>", "media", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "retain", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "media", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_flume-81-4303", "old_comment": "the set of file ids which are currently on the queue will be normally be used when deciding which data files can be deleted", "old_comment_tokens": ["the", "set", "of", "file", "ids", "which", "are", "currently", "on", "the", "queue", "will", "be", "normally", "be", "used", "when", "deciding", "which", "data", "files", "can", "be", "deleted"], "new_comment": "a copy of the set of file ids which are currently on the queue will be normally be used when deciding which data files can be deleted", "new_comment_tokens": ["a", "copy", "of", "the", "set", "of", "file", "ids", "which", "are", "currently", "on", "the", "queue", "will", "be", "normally", "be", "used", "when", "deciding", "which", "data", "files", "can", "be", "deleted"], "old_code": "synchronized set < integer > get file ids ( ) { return new hash set < integer > ( file idcounts . key set ( ) ) ; }", "old_code_tokens": ["synchronized", "set", "<", "integer", ">", "get", "file", "ids", "(", ")", "{", "return", "new", "hash", "set", "<", "integer", ">", "(", "file", "idcounts", ".", "key", "set", "(", ")", ")", ";", "}"], "new_code": "synchronized sorted set < integer > get file ids ( ) { return new tree set < integer > ( file idcounts . key set ( ) ) ; }", "new_code_tokens": ["synchronized", "sorted", "set", "<", "integer", ">", "get", "file", "ids", "(", ")", "{", "return", "new", "tree", "set", "<", "integer", ">", "(", "file", "idcounts", ".", "key", "set", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> synchronized <KEEP_END> <INSERT> sorted <INSERT_END> <KEEP> set < integer > get file ids ( ) { return new <KEEP_END> <REPLACE_OLD> hash <REPLACE_NEW> tree <REPLACE_END> <KEEP> set < integer > ( file idcounts . key set ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "synchronized", "<KEEP_END>", "<INSERT>", "sorted", "<INSERT_END>", "<KEEP>", "set", "<", "integer", ">", "get", "file", "ids", "(", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "hash", "<REPLACE_NEW>", "tree", "<REPLACE_END>", "<KEEP>", "set", "<", "integer", ">", "(", "file", "idcounts", ".", "key", "set", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the set <INSERT_NEW_KEEP_AFTER> a copy of the set <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "set", "<INSERT_NEW_KEEP_AFTER>", "a", "copy", "of", "the", "set", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "synchronized", "<INSERT>", "sorted", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "file", "<KEEP>", "ids", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_NEW>", "tree", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "integer", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "idcounts", "<KEEP>", ".", "<KEEP>", "key", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rt.equinox.bundles-53-5853", "old_comment": "string with no directional formatting characters .", "old_comment_tokens": ["string", "with", "no", "directional", "formatting", "characters", "."], "new_comment": "string without directional formatting characters", "new_comment_tokens": ["string", "without", "directional", "formatting", "characters"], "old_code": "public static string deprocess ( string str ) { if ( ( str = = null ) | | ( str . length ( ) < = num ) | | ! is processing needed ( ) ) return str ; string buffer buf = new string buffer ( ) ; int str len = str . length ( ) ; for ( int i = num ; i < str len ; i + + ) { char c = str . char at ( i ) ; switch ( c ) { case lrm : continue ; case lre : continue ; case pdf : continue ; default : buf . append ( c ) ; } } return buf . to string ( ) ; }", "old_code_tokens": ["public", "static", "string", "deprocess", "(", "string", "str", ")", "{", "if", "(", "(", "str", "=", "=", "null", ")", "|", "|", "(", "str", ".", "length", "(", ")", "<", "=", "num", ")", "|", "|", "!", "is", "processing", "needed", "(", ")", ")", "return", "str", ";", "string", "buffer", "buf", "=", "new", "string", "buffer", "(", ")", ";", "int", "str", "len", "=", "str", ".", "length", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "str", "len", ";", "i", "+", "+", ")", "{", "char", "c", "=", "str", ".", "char", "at", "(", "i", ")", ";", "switch", "(", "c", ")", "{", "case", "lrm", ":", "continue", ";", "case", "lre", ":", "continue", ";", "case", "pdf", ":", "continue", ";", "default", ":", "buf", ".", "append", "(", "c", ")", ";", "}", "}", "return", "buf", ".", "to", "string", "(", ")", ";", "}"], "new_code": "public static string deprocess ( string str ) { if ( ( str = = null ) | | ( str . length ( ) < = num ) ) return str ; stext environment env = new stext environment ( null , false , stext environment . orient _ unknown ) ; if ( ! env . is processing needed ( ) ) return str ; string buffer buf = new string buffer ( ) ; int str len = str . length ( ) ; for ( int i = num ; i < str len ; i + + ) { char c = str . char at ( i ) ; switch ( c ) { case lrm : continue ; case lre : continue ; case pdf : continue ; default : buf . append ( c ) ; } } return buf . to string ( ) ; }", "new_code_tokens": ["public", "static", "string", "deprocess", "(", "string", "str", ")", "{", "if", "(", "(", "str", "=", "=", "null", ")", "|", "|", "(", "str", ".", "length", "(", ")", "<", "=", "num", ")", ")", "return", "str", ";", "stext", "environment", "env", "=", "new", "stext", "environment", "(", "null", ",", "false", ",", "stext", "environment", ".", "orient", "_", "unknown", ")", ";", "if", "(", "!", "env", ".", "is", "processing", "needed", "(", ")", ")", "return", "str", ";", "string", "buffer", "buf", "=", "new", "string", "buffer", "(", ")", ";", "int", "str", "len", "=", "str", ".", "length", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "str", "len", ";", "i", "+", "+", ")", "{", "char", "c", "=", "str", ".", "char", "at", "(", "i", ")", ";", "switch", "(", "c", ")", "{", "case", "lrm", ":", "continue", ";", "case", "lre", ":", "continue", ";", "case", "pdf", ":", "continue", ";", "default", ":", "buf", ".", "append", "(", "c", ")", ";", "}", "}", "return", "buf", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static string deprocess ( string str ) { if ( ( str = = null ) | | ( str . length ( ) < = num ) <KEEP_END> <REPLACE_OLD> | | <REPLACE_NEW> ) return str ; stext environment env = new stext environment ( null , false , stext environment . orient _ unknown ) ; if ( <REPLACE_END> <KEEP> ! <KEEP_END> <INSERT> env . <INSERT_END> <KEEP> is processing needed ( ) ) return str ; string buffer buf = new string buffer ( ) ; int str len = str . length ( ) ; for ( int i = num ; i < str len ; i + + ) { char c = str . char at ( i ) ; switch ( c ) { case lrm : continue ; case lre : continue ; case pdf : continue ; default : buf . append ( c ) ; } } return buf . to string ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "deprocess", "(", "string", "str", ")", "{", "if", "(", "(", "str", "=", "=", "null", ")", "|", "|", "(", "str", ".", "length", "(", ")", "<", "=", "num", ")", "<KEEP_END>", "<REPLACE_OLD>", "|", "|", "<REPLACE_NEW>", ")", "return", "str", ";", "stext", "environment", "env", "=", "new", "stext", "environment", "(", "null", ",", "false", ",", "stext", "environment", ".", "orient", "_", "unknown", ")", ";", "if", "(", "<REPLACE_END>", "<KEEP>", "!", "<KEEP_END>", "<INSERT>", "env", ".", "<INSERT_END>", "<KEEP>", "is", "processing", "needed", "(", ")", ")", "return", "str", ";", "string", "buffer", "buf", "=", "new", "string", "buffer", "(", ")", ";", "int", "str", "len", "=", "str", ".", "length", "(", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "str", "len", ";", "i", "+", "+", ")", "{", "char", "c", "=", "str", ".", "char", "at", "(", "i", ")", ";", "switch", "(", "c", ")", "{", "case", "lrm", ":", "continue", ";", "case", "lre", ":", "continue", ";", "case", "pdf", ":", "continue", ";", "default", ":", "buf", ".", "append", "(", "c", ")", ";", "}", "}", "return", "buf", ".", "to", "string", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> with no <REPLACE_NEW> without <REPLACE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "with", "no", "<REPLACE_NEW>", "without", "<REPLACE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "deprocess", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "stext", "<REPLACE_NEW>", "environment", "<REPLACE_NEW>", "env", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "stext", "<REPLACE_NEW>", "environment", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "stext", "<REPLACE_NEW>", "environment", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "orient", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "unknown", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "!", "<INSERT>", "env", "<INSERT>", ".", "<KEEP>", "is", "<KEEP>", "processing", "<KEEP>", "needed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "buffer", "<KEEP>", "buf", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "buffer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "str", "<KEEP>", "len", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "str", "<KEEP>", "len", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "char", "<KEEP>", "c", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "char", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "lrm", "<KEEP>", ":", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "lre", "<KEEP>", ":", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "case", "<KEEP>", "pdf", "<KEEP>", ":", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "buf", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "buf", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_cft-16-6730", "old_comment": "ok status if deployment information is complete and valid . error if failed to validate , or is invalid ( i . e . it is missing information ) .", "old_comment_tokens": ["ok", "status", "if", "deployment", "information", "is", "complete", "and", "valid", ".", "error", "if", "failed", "to", "validate", ",", "or", "is", "invalid", "(", "i", ".", "e", ".", "it", "is", "missing", "information", ")", "."], "new_comment": "ok status if deployment information is complete and valid . returns an error status if invalid ( i . e . it is missing some information ) .", "new_comment_tokens": ["ok", "status", "if", "deployment", "information", "is", "complete", "and", "valid", ".", "returns", "an", "error", "status", "if", "invalid", "(", "i", ".", "e", ".", "it", "is", "missing", "some", "information", ")", "."], "old_code": "public synchronized istatus validate deployment info ( ) { abstract application delegate delegate = application registry . get application delegate ( get local module ( ) ) ; if ( delegate = = null ) { return cloud util . basic validate deployment info ( deployment info ) ; } istatus status = delegate . validate deployment info ( deployment info ) ; set status ( status ) ; return status ; }", "old_code_tokens": ["public", "synchronized", "istatus", "validate", "deployment", "info", "(", ")", "{", "abstract", "application", "delegate", "delegate", "=", "application", "registry", ".", "get", "application", "delegate", "(", "get", "local", "module", "(", ")", ")", ";", "if", "(", "delegate", "=", "=", "null", ")", "{", "return", "cloud", "util", ".", "basic", "validate", "deployment", "info", "(", "deployment", "info", ")", ";", "}", "istatus", "status", "=", "delegate", ".", "validate", "deployment", "info", "(", "deployment", "info", ")", ";", "set", "status", "(", "status", ")", ";", "return", "status", ";", "}"], "new_code": "public synchronized istatus validate deployment info ( ) { if ( deployment info = = null ) { string message = nls . bind ( messages . cloud foundry application module _ server _ out _ of _ sync , server . get id ( ) ) ; istatus status = cloud foundry plugin . get error status ( message ) ; set status ( status ) ; return status ; } else { abstract application delegate delegate = application registry . get application delegate ( get local module ( ) ) ; istatus status = delegate ! = null ? delegate . validate deployment info ( deployment info ) : cloud util . basic validate deployment info ( deployment info ) ; if ( status = = null ) { status = status . ok _ status ; } if ( ! status . is ok ( ) ) { status = cloud foundry plugin . get error status ( nls . bind ( messages . error _ app _ deployment _ validation _ error , get deployed application name ( ) , status . get message ( ) ) ) ; } set status ( status ) ; return status ; } }", "new_code_tokens": ["public", "synchronized", "istatus", "validate", "deployment", "info", "(", ")", "{", "if", "(", "deployment", "info", "=", "=", "null", ")", "{", "string", "message", "=", "nls", ".", "bind", "(", "messages", ".", "cloud", "foundry", "application", "module", "_", "server", "_", "out", "_", "of", "_", "sync", ",", "server", ".", "get", "id", "(", ")", ")", ";", "istatus", "status", "=", "cloud", "foundry", "plugin", ".", "get", "error", "status", "(", "message", ")", ";", "set", "status", "(", "status", ")", ";", "return", "status", ";", "}", "else", "{", "abstract", "application", "delegate", "delegate", "=", "application", "registry", ".", "get", "application", "delegate", "(", "get", "local", "module", "(", ")", ")", ";", "istatus", "status", "=", "delegate", "!", "=", "null", "?", "delegate", ".", "validate", "deployment", "info", "(", "deployment", "info", ")", ":", "cloud", "util", ".", "basic", "validate", "deployment", "info", "(", "deployment", "info", ")", ";", "if", "(", "status", "=", "=", "null", ")", "{", "status", "=", "status", ".", "ok", "_", "status", ";", "}", "if", "(", "!", "status", ".", "is", "ok", "(", ")", ")", "{", "status", "=", "cloud", "foundry", "plugin", ".", "get", "error", "status", "(", "nls", ".", "bind", "(", "messages", ".", "error", "_", "app", "_", "deployment", "_", "validation", "_", "error", ",", "get", "deployed", "application", "name", "(", ")", ",", "status", ".", "get", "message", "(", ")", ")", ")", ";", "}", "set", "status", "(", "status", ")", ";", "return", "status", ";", "}", "}"], "span_diff_code": "<KEEP> public synchronized istatus validate deployment info ( ) { <KEEP_END> <INSERT> if ( deployment info = = null ) { string message = nls . bind ( messages . cloud foundry application module _ server _ out _ of _ sync , server . get id ( ) ) ; istatus status = cloud foundry plugin . get error status ( message ) ; set status ( status ) ; return status ; } else { <INSERT_END> <KEEP> abstract application delegate delegate = application registry . get application delegate ( get local module ( ) ) ; <KEEP_END> <REPLACE_OLD> if ( delegate = <REPLACE_NEW> istatus status = delegate ! <REPLACE_END> <KEEP> = null <KEEP_END> <REPLACE_OLD> ) { return <REPLACE_NEW> ? delegate . validate deployment info ( deployment info ) : <REPLACE_END> <KEEP> cloud util . basic validate deployment info ( deployment info ) ; <KEEP_END> <REPLACE_OLD> } istatus status = delegate . validate deployment info ( deployment info ) ; <REPLACE_NEW> if ( status = = null ) { status = status . ok _ status ; } if ( ! status . is ok ( ) ) { status = cloud foundry plugin . get error status ( nls . bind ( messages . error _ app _ deployment _ validation _ error , get deployed application name ( ) , status . get message ( ) ) ) ; } <REPLACE_END> <KEEP> set status ( status ) ; return status ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "synchronized", "istatus", "validate", "deployment", "info", "(", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "deployment", "info", "=", "=", "null", ")", "{", "string", "message", "=", "nls", ".", "bind", "(", "messages", ".", "cloud", "foundry", "application", "module", "_", "server", "_", "out", "_", "of", "_", "sync", ",", "server", ".", "get", "id", "(", ")", ")", ";", "istatus", "status", "=", "cloud", "foundry", "plugin", ".", "get", "error", "status", "(", "message", ")", ";", "set", "status", "(", "status", ")", ";", "return", "status", ";", "}", "else", "{", "<INSERT_END>", "<KEEP>", "abstract", "application", "delegate", "delegate", "=", "application", "registry", ".", "get", "application", "delegate", "(", "get", "local", "module", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "delegate", "=", "<REPLACE_NEW>", "istatus", "status", "=", "delegate", "!", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "return", "<REPLACE_NEW>", "?", "delegate", ".", "validate", "deployment", "info", "(", "deployment", "info", ")", ":", "<REPLACE_END>", "<KEEP>", "cloud", "util", ".", "basic", "validate", "deployment", "info", "(", "deployment", "info", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "istatus", "status", "=", "delegate", ".", "validate", "deployment", "info", "(", "deployment", "info", ")", ";", "<REPLACE_NEW>", "if", "(", "status", "=", "=", "null", ")", "{", "status", "=", "status", ".", "ok", "_", "status", ";", "}", "if", "(", "!", "status", ".", "is", "ok", "(", ")", ")", "{", "status", "=", "cloud", "foundry", "plugin", ".", "get", "error", "status", "(", "nls", ".", "bind", "(", "messages", ".", "error", "_", "app", "_", "deployment", "_", "validation", "_", "error", ",", "get", "deployed", "application", "name", "(", ")", ",", "status", ".", "get", "message", "(", ")", ")", ")", ";", "}", "<REPLACE_END>", "<KEEP>", "set", "status", "(", "status", ")", ";", "return", "status", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> valid . <INSERT_NEW_KEEP_BEFORE> valid . returns an <INSERT_END> <INSERT_OLD_KEEP_BEFORE> error <INSERT_NEW_KEEP_BEFORE> error status <INSERT_END> <DELETE> failed to validate , or is <DELETE_END> <INSERT_OLD_KEEP_BEFORE> missing <INSERT_NEW_KEEP_BEFORE> missing some <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "valid", ".", "<INSERT_NEW_KEEP_BEFORE>", "valid", ".", "returns", "an", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "error", "<INSERT_NEW_KEEP_BEFORE>", "error", "status", "<INSERT_END>", "<DELETE>", "failed", "to", "validate", ",", "or", "is", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "missing", "<INSERT_NEW_KEEP_BEFORE>", "missing", "some", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "synchronized", "<KEEP>", "istatus", "<KEEP>", "validate", "<KEEP>", "deployment", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "deployment", "<INSERT>", "info", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "message", "<INSERT>", "=", "<INSERT>", "nls", "<INSERT>", ".", "<INSERT>", "bind", "<INSERT>", "(", "<INSERT>", "messages", "<INSERT>", ".", "<INSERT>", "cloud", "<INSERT>", "foundry", "<INSERT>", "application", "<INSERT>", "module", "<INSERT>", "_", "<INSERT>", "server", "<INSERT>", "_", "<INSERT>", "out", "<INSERT>", "_", "<INSERT>", "of", "<INSERT>", "_", "<INSERT>", "sync", "<INSERT>", ",", "<INSERT>", "server", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "id", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "istatus", "<INSERT>", "status", "<INSERT>", "=", "<INSERT>", "cloud", "<INSERT>", "foundry", "<INSERT>", "plugin", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "error", "<INSERT>", "status", "<INSERT>", "(", "<INSERT>", "message", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "set", "<INSERT>", "status", "<INSERT>", "(", "<INSERT>", "status", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "status", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<KEEP>", "abstract", "<KEEP>", "application", "<KEEP>", "delegate", "<KEEP>", "delegate", "<KEEP>", "=", "<KEEP>", "application", "<KEEP>", "registry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "application", "<KEEP>", "delegate", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "module", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "delegate", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "istatus", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "delegate", "<REPLACE_NEW>", "!", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "delegate", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "validate", "<REPLACE_NEW>", "deployment", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "deployment", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ":", "<KEEP>", "cloud", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "basic", "<KEEP>", "validate", "<KEEP>", "deployment", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "deployment", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "istatus", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "delegate", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "validate", "<REPLACE_OLD>", "deployment", "<REPLACE_OLD>", "info", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "deployment", "<REPLACE_OLD>", "info", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ok", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "ok", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "cloud", "<REPLACE_NEW>", "foundry", "<REPLACE_NEW>", "plugin", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "nls", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bind", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "messages", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "app", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "deployment", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "validation", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "deployed", "<REPLACE_NEW>", "application", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "status", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "message", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "set", "<KEEP>", "status", "<KEEP>", "(", "<KEEP>", "status", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "status", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "macalinao_albkit-13-5742", "old_comment": "the player by the name of the raw arg - null if ( s ) he isn ' t online", "old_comment_tokens": ["the", "player", "by", "the", "name", "of", "the", "raw", "arg", "-", "null", "if", "(", "s", ")", "he", "isn", "'", "t", "online"], "new_comment": "the player by the name of the raw raw - null if ( s ) he isn ' t online", "new_comment_tokens": ["the", "player", "by", "the", "name", "of", "the", "raw", "raw", "-", "null", "if", "(", "s", ")", "he", "isn", "'", "t", "online"], "old_code": "public player as player ( ) { return bukkit . get player ( arg ) ; }", "old_code_tokens": ["public", "player", "as", "player", "(", ")", "{", "return", "bukkit", ".", "get", "player", "(", "arg", ")", ";", "}"], "new_code": "public player as player ( ) { return bukkit . get player ( raw ) ; }", "new_code_tokens": ["public", "player", "as", "player", "(", ")", "{", "return", "bukkit", ".", "get", "player", "(", "raw", ")", ";", "}"], "span_diff_code": "<KEEP> public player as player ( ) { return bukkit . get player ( <KEEP_END> <REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "player", "as", "player", "(", ")", "{", "return", "bukkit", ".", "get", "player", "(", "<KEEP_END>", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "player", "<KEEP>", "as", "<KEEP>", "player", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "bukkit", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "player", "<KEEP>", "(", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "amikey_ormlite-core-52-4442", "old_comment": "get method or null if none found .", "old_comment_tokens": ["get", "method", "or", "null", "if", "none", "found", "."], "new_comment": "get method or null ( or throws illegal argument exception ) if none found .", "new_comment_tokens": ["get", "method", "or", "null", "(", "or", "throws", "illegal", "argument", "exception", ")", "if", "none", "found", "."], "old_code": "public static method find get method ( field field , boolean throw exceptions ) { string method name = method from field ( field , str ) ; method field get method ; try { try { field get method = field . get declaring class ( ) . get method ( method name ) ; } catch ( no such method exception nsme ) { if ( field . get type ( ) = = boolean . class | | field . get type ( ) = = boolean . class ) { method name = method from field ( field , str ) ; field get method = field . get declaring class ( ) . get method ( method name ) ; } else { throw nsme ; } } } catch ( exception e ) { if ( throw exceptions ) { throw new illegal argument exception ( str + field ) ; } else { return null ; } } if ( field get method . get return type ( ) ! = field . get type ( ) ) { if ( throw exceptions ) { throw new illegal argument exception ( str + method name + str + field . get type ( ) ) ; } else { return null ; } } return field get method ; }", "old_code_tokens": ["public", "static", "method", "find", "get", "method", "(", "field", "field", ",", "boolean", "throw", "exceptions", ")", "{", "string", "method", "name", "=", "method", "from", "field", "(", "field", ",", "str", ")", ";", "method", "field", "get", "method", ";", "try", "{", "try", "{", "field", "get", "method", "=", "field", ".", "get", "declaring", "class", "(", ")", ".", "get", "method", "(", "method", "name", ")", ";", "}", "catch", "(", "no", "such", "method", "exception", "nsme", ")", "{", "if", "(", "field", ".", "get", "type", "(", ")", "=", "=", "boolean", ".", "class", "|", "|", "field", ".", "get", "type", "(", ")", "=", "=", "boolean", ".", "class", ")", "{", "method", "name", "=", "method", "from", "field", "(", "field", ",", "str", ")", ";", "field", "get", "method", "=", "field", ".", "get", "declaring", "class", "(", ")", ".", "get", "method", "(", "method", "name", ")", ";", "}", "else", "{", "throw", "nsme", ";", "}", "}", "}", "catch", "(", "exception", "e", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "field", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "if", "(", "field", "get", "method", ".", "get", "return", "type", "(", ")", "!", "=", "field", ".", "get", "type", "(", ")", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "method", "name", "+", "str", "+", "field", ".", "get", "type", "(", ")", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "field", "get", "method", ";", "}"], "new_code": "public static method find get method ( field field , boolean throw exceptions ) throws illegal argument exception { method field get method ; if ( locale . english . equals ( locale . get default ( ) ) ) { field get method = find method from names ( field , true , throw exceptions , method from field ( field , str , null ) , method from field ( field , str , null ) ) ; } else { field get method = find method from names ( field , true , throw exceptions , method from field ( field , str , null ) , method from field ( field , str , locale . english ) , method from field ( field , str , null ) , method from field ( field , str , locale . english ) ) ; } if ( field get method = = null ) { return null ; } if ( field get method . get return type ( ) ! = field . get type ( ) ) { if ( throw exceptions ) { throw new illegal argument exception ( str + field get method . get name ( ) + str + field . get type ( ) ) ; } else { return null ; } } return field get method ; }", "new_code_tokens": ["public", "static", "method", "find", "get", "method", "(", "field", "field", ",", "boolean", "throw", "exceptions", ")", "throws", "illegal", "argument", "exception", "{", "method", "field", "get", "method", ";", "if", "(", "locale", ".", "english", ".", "equals", "(", "locale", ".", "get", "default", "(", ")", ")", ")", "{", "field", "get", "method", "=", "find", "method", "from", "names", "(", "field", ",", "true", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ")", ";", "}", "else", "{", "field", "get", "method", "=", "find", "method", "from", "names", "(", "field", ",", "true", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "locale", ".", "english", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "locale", ".", "english", ")", ")", ";", "}", "if", "(", "field", "get", "method", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "field", "get", "method", ".", "get", "return", "type", "(", ")", "!", "=", "field", ".", "get", "type", "(", ")", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "field", "get", "method", ".", "get", "name", "(", ")", "+", "str", "+", "field", ".", "get", "type", "(", ")", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "field", "get", "method", ";", "}"], "span_diff_code": "<KEEP> public static method find get method ( field field , boolean throw exceptions ) <KEEP_END> <REPLACE_OLD> { string method name = method from field ( field , str ) ; method field get method ; try { try { field get method = field . get declaring class ( ) . get method ( method name ) ; } catch ( no such method <REPLACE_NEW> throws illegal argument <REPLACE_END> <KEEP> exception <KEEP_END> <REPLACE_OLD> nsme ) { if ( field . get <REPLACE_NEW> { method field get method ; if ( locale . english . equals ( locale . get default ( ) ) ) { field get method = find method from names ( field , true , throw exceptions , method from field ( field , str , null ) , method from field ( field , str , null ) ) ; } else { field get method = find method from names ( field , true , throw exceptions , method from field ( field , str , null ) , method from field ( field , str , locale . english ) , method from field ( field , str , null ) , method from field ( field , str , locale . english ) ) ; } if ( field get method = = null ) { return null ; } if ( field get method . get return <REPLACE_END> <KEEP> type ( ) <KEEP_END> <REPLACE_OLD> = = boolean . class | | <REPLACE_NEW> ! = <REPLACE_END> <KEEP> field . get type ( ) <KEEP_END> <DELETE> = = boolean . class ) { method name = method from field ( field , str ) ; field get method = field . get declaring class ( ) . get method ( method name ) ; } else { throw nsme ; } } } catch ( exception e <DELETE_END> <KEEP> ) { if ( throw exceptions ) { throw new illegal argument exception ( str + field <KEEP_END> <INSERT> get method . get name ( ) + str + field . get type ( ) <INSERT_END> <KEEP> ) ; } else { return null ; } } <KEEP_END> <REPLACE_OLD> if ( field get method . get return type ( ) ! = field . get type ( ) ) { if ( throw exceptions ) { throw new illegal argument exception ( str + method name + str + field . get type ( ) ) ; } else { return null ; } } return field get method ; } <REPLACE_NEW> return field get method ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "method", "find", "get", "method", "(", "field", "field", ",", "boolean", "throw", "exceptions", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "string", "method", "name", "=", "method", "from", "field", "(", "field", ",", "str", ")", ";", "method", "field", "get", "method", ";", "try", "{", "try", "{", "field", "get", "method", "=", "field", ".", "get", "declaring", "class", "(", ")", ".", "get", "method", "(", "method", "name", ")", ";", "}", "catch", "(", "no", "such", "method", "<REPLACE_NEW>", "throws", "illegal", "argument", "<REPLACE_END>", "<KEEP>", "exception", "<KEEP_END>", "<REPLACE_OLD>", "nsme", ")", "{", "if", "(", "field", ".", "get", "<REPLACE_NEW>", "{", "method", "field", "get", "method", ";", "if", "(", "locale", ".", "english", ".", "equals", "(", "locale", ".", "get", "default", "(", ")", ")", ")", "{", "field", "get", "method", "=", "find", "method", "from", "names", "(", "field", ",", "true", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ")", ";", "}", "else", "{", "field", "get", "method", "=", "find", "method", "from", "names", "(", "field", ",", "true", ",", "throw", "exceptions", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "locale", ".", "english", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "null", ")", ",", "method", "from", "field", "(", "field", ",", "str", ",", "locale", ".", "english", ")", ")", ";", "}", "if", "(", "field", "get", "method", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "field", "get", "method", ".", "get", "return", "<REPLACE_END>", "<KEEP>", "type", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", "=", "=", "boolean", ".", "class", "|", "|", "<REPLACE_NEW>", "!", "=", "<REPLACE_END>", "<KEEP>", "field", ".", "get", "type", "(", ")", "<KEEP_END>", "<DELETE>", "=", "=", "boolean", ".", "class", ")", "{", "method", "name", "=", "method", "from", "field", "(", "field", ",", "str", ")", ";", "field", "get", "method", "=", "field", ".", "get", "declaring", "class", "(", ")", ".", "get", "method", "(", "method", "name", ")", ";", "}", "else", "{", "throw", "nsme", ";", "}", "}", "}", "catch", "(", "exception", "e", "<DELETE_END>", "<KEEP>", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "field", "<KEEP_END>", "<INSERT>", "get", "method", ".", "get", "name", "(", ")", "+", "str", "+", "field", ".", "get", "type", "(", ")", "<INSERT_END>", "<KEEP>", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "field", "get", "method", ".", "get", "return", "type", "(", ")", "!", "=", "field", ".", "get", "type", "(", ")", ")", "{", "if", "(", "throw", "exceptions", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", "+", "method", "name", "+", "str", "+", "field", ".", "get", "type", "(", ")", ")", ";", "}", "else", "{", "return", "null", ";", "}", "}", "return", "field", "get", "method", ";", "}", "<REPLACE_NEW>", "return", "field", "get", "method", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> null <INSERT_NEW_KEEP_BEFORE> null ( or throws illegal argument exception ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "null", "<INSERT_NEW_KEEP_BEFORE>", "null", "(", "or", "throws", "illegal", "argument", "exception", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "method", "<KEEP>", "find", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "field", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "throw", "<KEEP>", "exceptions", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "from", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "declaring", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "no", "<REPLACE_OLD>", "such", "<REPLACE_OLD>", "method", "<REPLACE_NEW>", "throws", "<REPLACE_NEW>", "illegal", "<REPLACE_NEW>", "argument", "<KEEP>", "exception", "<REPLACE_OLD>", "nsme", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "locale", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "english", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "locale", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "find", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "names", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "exceptions", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "find", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "names", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "exceptions", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "locale", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "english", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "locale", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "english", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "return", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "boolean", "<DELETE>", ".", "<DELETE>", "class", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "method", "<DELETE>", "name", "<DELETE>", "=", "<DELETE>", "method", "<DELETE>", "from", "<DELETE>", "field", "<DELETE>", "(", "<DELETE>", "field", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "field", "<DELETE>", "get", "<DELETE>", "method", "<DELETE>", "=", "<DELETE>", "field", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "declaring", "<DELETE>", "class", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "method", "<DELETE>", "(", "<DELETE>", "method", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "nsme", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "throw", "<KEEP>", "exceptions", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "field", "<INSERT>", "get", "<INSERT>", "method", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "field", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "exceptions", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "illegal", "<REPLACE_OLD>", "argument", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "field", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "method", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "Vexatos_Resonant-Induction-1-5-6841", "old_comment": "the forge direction in which this conveyor belt is slanting against . the direction given is the high point of the slant . return unknown if not slanting .", "old_comment_tokens": ["the", "forge", "direction", "in", "which", "this", "conveyor", "belt", "is", "slanting", "against", ".", "the", "direction", "given", "is", "the", "high", "point", "of", "the", "slant", ".", "return", "unknown", "if", "not", "slanting", "."], "new_comment": "returns of this belt is slanting up or down . returns null if not slanting .", "new_comment_tokens": ["returns", "of", "this", "belt", "is", "slanting", "up", "or", "down", ".", "returns", "null", "if", "not", "slanting", "."], "old_code": "public forge direction get slant ( world world , vector3 position ) { tile entity t = position . get tile entity ( world ) ; if ( t ! = null ) { if ( t instanceof tile entity conveyor belt ) { tile entity conveyor belt tile entity = ( tile entity conveyor belt ) t ; vector3 high check = position . clone ( ) ; high check . modify position from side ( tile entity . get direction ( ) ) ; } } return forge direction . unknown ; }", "old_code_tokens": ["public", "forge", "direction", "get", "slant", "(", "world", "world", ",", "vector3", "position", ")", "{", "tile", "entity", "t", "=", "position", ".", "get", "tile", "entity", "(", "world", ")", ";", "if", "(", "t", "!", "=", "null", ")", "{", "if", "(", "t", "instanceof", "tile", "entity", "conveyor", "belt", ")", "{", "tile", "entity", "conveyor", "belt", "tile", "entity", "=", "(", "tile", "entity", "conveyor", "belt", ")", "t", ";", "vector3", "high", "check", "=", "position", ".", "clone", "(", ")", ";", "high", "check", ".", "modify", "position", "from", "side", "(", "tile", "entity", ".", "get", "direction", "(", ")", ")", ";", "}", "}", "return", "forge", "direction", ".", "unknown", ";", "}"], "new_code": "public static slant type get slant ( world world , vector3 position ) { tile entity t = position . get tile entity ( world ) ; if ( t ! = null ) { if ( t instanceof tile entity conveyor belt ) { tile entity conveyor belt tile entity = ( tile entity conveyor belt ) t ; vector3 front check = position . clone ( ) ; front check . modify position from side ( tile entity . get direction ( ) ) ; vector3 back check = position . clone ( ) ; back check . modify position from side ( tile entity . get direction ( ) . get opposite ( ) ) ; if ( vector3 . add ( front check , new vector3 ( num , num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id & & vector3 . add ( back check , new vector3 ( num , - num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id ) { return slant type . up ; } else if ( vector3 . add ( front check , new vector3 ( num , - num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id & & vector3 . add ( back check , new vector3 ( num , num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id ) { return slant type . down ; } } } return null ; }", "new_code_tokens": ["public", "static", "slant", "type", "get", "slant", "(", "world", "world", ",", "vector3", "position", ")", "{", "tile", "entity", "t", "=", "position", ".", "get", "tile", "entity", "(", "world", ")", ";", "if", "(", "t", "!", "=", "null", ")", "{", "if", "(", "t", "instanceof", "tile", "entity", "conveyor", "belt", ")", "{", "tile", "entity", "conveyor", "belt", "tile", "entity", "=", "(", "tile", "entity", "conveyor", "belt", ")", "t", ";", "vector3", "front", "check", "=", "position", ".", "clone", "(", ")", ";", "front", "check", ".", "modify", "position", "from", "side", "(", "tile", "entity", ".", "get", "direction", "(", ")", ")", ";", "vector3", "back", "check", "=", "position", ".", "clone", "(", ")", ";", "back", "check", ".", "modify", "position", "from", "side", "(", "tile", "entity", ".", "get", "direction", "(", ")", ".", "get", "opposite", "(", ")", ")", ";", "if", "(", "vector3", ".", "add", "(", "front", "check", ",", "new", "vector3", "(", "num", ",", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", "&", "&", "vector3", ".", "add", "(", "back", "check", ",", "new", "vector3", "(", "num", ",", "-", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", ")", "{", "return", "slant", "type", ".", "up", ";", "}", "else", "if", "(", "vector3", ".", "add", "(", "front", "check", ",", "new", "vector3", "(", "num", ",", "-", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", "&", "&", "vector3", ".", "add", "(", "back", "check", ",", "new", "vector3", "(", "num", ",", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", ")", "{", "return", "slant", "type", ".", "down", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> forge direction <REPLACE_NEW> static slant type <REPLACE_END> <KEEP> get slant ( world world , vector3 position ) { tile entity t = position . get tile entity ( world ) ; if ( t ! = null ) { if ( t instanceof tile entity conveyor belt ) { tile entity conveyor belt tile entity = ( tile entity conveyor belt ) t ; vector3 <KEEP_END> <REPLACE_OLD> high <REPLACE_NEW> front <REPLACE_END> <KEEP> check = position . clone ( ) ; <KEEP_END> <REPLACE_OLD> high <REPLACE_NEW> front <REPLACE_END> <KEEP> check . modify position from side ( tile entity . get direction ( ) ) ; <KEEP_END> <REPLACE_OLD> } } <REPLACE_NEW> vector3 back check = position . clone ( ) ; back check . modify position from side ( tile entity . get direction ( ) . get opposite ( ) ) ; if ( vector3 . add ( front check , new vector3 ( num , num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id & & vector3 . add ( back check , new vector3 ( num , - num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id ) { <REPLACE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> forge direction . unknown ; } <REPLACE_NEW> slant type . up ; } else if ( vector3 . add ( front check , new vector3 ( num , - num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id & & vector3 . add ( back check , new vector3 ( num , num , num ) ) . get block id ( world ) = = assembly line . block conveyor belt . block id ) { return slant type . down ; } } } return null ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "forge", "direction", "<REPLACE_NEW>", "static", "slant", "type", "<REPLACE_END>", "<KEEP>", "get", "slant", "(", "world", "world", ",", "vector3", "position", ")", "{", "tile", "entity", "t", "=", "position", ".", "get", "tile", "entity", "(", "world", ")", ";", "if", "(", "t", "!", "=", "null", ")", "{", "if", "(", "t", "instanceof", "tile", "entity", "conveyor", "belt", ")", "{", "tile", "entity", "conveyor", "belt", "tile", "entity", "=", "(", "tile", "entity", "conveyor", "belt", ")", "t", ";", "vector3", "<KEEP_END>", "<REPLACE_OLD>", "high", "<REPLACE_NEW>", "front", "<REPLACE_END>", "<KEEP>", "check", "=", "position", ".", "clone", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "high", "<REPLACE_NEW>", "front", "<REPLACE_END>", "<KEEP>", "check", ".", "modify", "position", "from", "side", "(", "tile", "entity", ".", "get", "direction", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "}", "<REPLACE_NEW>", "vector3", "back", "check", "=", "position", ".", "clone", "(", ")", ";", "back", "check", ".", "modify", "position", "from", "side", "(", "tile", "entity", ".", "get", "direction", "(", ")", ".", "get", "opposite", "(", ")", ")", ";", "if", "(", "vector3", ".", "add", "(", "front", "check", ",", "new", "vector3", "(", "num", ",", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", "&", "&", "vector3", ".", "add", "(", "back", "check", ",", "new", "vector3", "(", "num", ",", "-", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", ")", "{", "<REPLACE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "forge", "direction", ".", "unknown", ";", "}", "<REPLACE_NEW>", "slant", "type", ".", "up", ";", "}", "else", "if", "(", "vector3", ".", "add", "(", "front", "check", ",", "new", "vector3", "(", "num", ",", "-", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", "&", "&", "vector3", ".", "add", "(", "back", "check", ",", "new", "vector3", "(", "num", ",", "num", ",", "num", ")", ")", ".", "get", "block", "id", "(", "world", ")", "=", "=", "assembly", "line", ".", "block", "conveyor", "belt", ".", "block", "id", ")", "{", "return", "slant", "type", ".", "down", ";", "}", "}", "}", "return", "null", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the forge direction in which <REPLACE_NEW> returns of <REPLACE_END> <DELETE> conveyor <DELETE_END> <REPLACE_OLD> against <REPLACE_NEW> up or down <REPLACE_END> <REPLACE_OLD> the direction given is the high point of the slant . return unknown <REPLACE_NEW> returns null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "forge", "direction", "in", "which", "<REPLACE_NEW>", "returns", "of", "<REPLACE_END>", "<DELETE>", "conveyor", "<DELETE_END>", "<REPLACE_OLD>", "against", "<REPLACE_NEW>", "up", "or", "down", "<REPLACE_END>", "<REPLACE_OLD>", "the", "direction", "given", "is", "the", "high", "point", "of", "the", "slant", ".", "return", "unknown", "<REPLACE_NEW>", "returns", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "forge", "<REPLACE_OLD>", "direction", "<REPLACE_NEW>", "static", "<REPLACE_NEW>", "slant", "<REPLACE_NEW>", "type", "<KEEP>", "get", "<KEEP>", "slant", "<KEEP>", "(", "<KEEP>", "world", "<KEEP>", "world", "<KEEP>", ",", "<KEEP>", "vector3", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", "t", "<KEEP>", "=", "<KEEP>", "position", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", "(", "<KEEP>", "world", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "t", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "t", "<KEEP>", "instanceof", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", "conveyor", "<KEEP>", "belt", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", "conveyor", "<KEEP>", "belt", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", "conveyor", "<KEEP>", "belt", "<KEEP>", ")", "<KEEP>", "t", "<KEEP>", ";", "<KEEP>", "vector3", "<REPLACE_OLD>", "high", "<REPLACE_NEW>", "front", "<KEEP>", "check", "<KEEP>", "=", "<KEEP>", "position", "<KEEP>", ".", "<KEEP>", "clone", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "high", "<REPLACE_NEW>", "front", "<KEEP>", "check", "<KEEP>", ".", "<KEEP>", "modify", "<KEEP>", "position", "<KEEP>", "from", "<KEEP>", "side", "<KEEP>", "(", "<KEEP>", "tile", "<KEEP>", "entity", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "direction", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", "back", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "position", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "clone", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "back", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "modify", "<REPLACE_NEW>", "position", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "side", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tile", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "direction", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "opposite", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "front", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "world", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "assembly", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "conveyor", "<REPLACE_NEW>", "belt", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "back", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "world", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "assembly", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "conveyor", "<REPLACE_NEW>", "belt", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "forge", "<REPLACE_OLD>", "direction", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "unknown", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "slant", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "up", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "front", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "world", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "assembly", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "conveyor", "<REPLACE_NEW>", "belt", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "back", "<REPLACE_NEW>", "check", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "vector3", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "world", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "assembly", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "conveyor", "<REPLACE_NEW>", "belt", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "block", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "slant", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "down", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-18-6954", "old_comment": "a hashtable representation of a workflow instance page .", "old_comment_tokens": ["a", "hashtable", "representation", "of", "a", "workflow", "instance", "page", "."], "new_comment": "a hash map representation of a workflow instance page .", "new_comment_tokens": ["a", "hash", "map", "representation", "of", "a", "workflow", "instance", "page", "."], "old_code": "public static hashtable get xml rpc workflow instance page ( workflow instance page page ) { hashtable page hash = new hashtable ( ) ; page hash . put ( str , string . value of ( page . get total pages ( ) ) ) ; page hash . put ( str , string . value of ( page . get page num ( ) ) ) ; page hash . put ( str , string . value of ( page . get page size ( ) ) ) ; page hash . put ( str , get xml rpc workflow instances ( page . get page workflows ( ) ) ) ; return page hash ; }", "old_code_tokens": ["public", "static", "hashtable", "get", "xml", "rpc", "workflow", "instance", "page", "(", "workflow", "instance", "page", "page", ")", "{", "hashtable", "page", "hash", "=", "new", "hashtable", "(", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "total", "pages", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "page", "num", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "page", "size", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "instances", "(", "page", ".", "get", "page", "workflows", "(", ")", ")", ")", ";", "return", "page", "hash", ";", "}"], "new_code": "public static hash map get xml rpc workflow instance page ( workflow instance page page ) { hash map page hash = new hash map ( ) ; page hash . put ( str , string . value of ( page . get total pages ( ) ) ) ; page hash . put ( str , string . value of ( page . get page num ( ) ) ) ; page hash . put ( str , string . value of ( page . get page size ( ) ) ) ; page hash . put ( str , get xml rpc workflow instances ( page . get page workflows ( ) ) ) ; return page hash ; }", "new_code_tokens": ["public", "static", "hash", "map", "get", "xml", "rpc", "workflow", "instance", "page", "(", "workflow", "instance", "page", "page", ")", "{", "hash", "map", "page", "hash", "=", "new", "hash", "map", "(", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "total", "pages", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "page", "num", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "page", "size", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "instances", "(", "page", ".", "get", "page", "workflows", "(", ")", ")", ")", ";", "return", "page", "hash", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> get xml rpc workflow instance page ( workflow instance page page ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> page hash = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> ( ) ; page hash . put ( str , string . value of ( page . get total pages ( ) ) ) ; page hash . put ( str , string . value of ( page . get page num ( ) ) ) ; page hash . put ( str , string . value of ( page . get page size ( ) ) ) ; page hash . put ( str , get xml rpc workflow instances ( page . get page workflows ( ) ) ) ; return page hash ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "get", "xml", "rpc", "workflow", "instance", "page", "(", "workflow", "instance", "page", "page", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "page", "hash", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "total", "pages", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "page", "num", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "page", ".", "get", "page", "size", "(", ")", ")", ")", ";", "page", "hash", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "instances", "(", "page", ".", "get", "page", "workflows", "(", ")", ")", ")", ";", "return", "page", "hash", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", "page", "<KEEP>", "(", "<KEEP>", "workflow", "<KEEP>", "instance", "<KEEP>", "page", "<KEEP>", "page", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "page", "<KEEP>", "hash", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "page", "<KEEP>", "hash", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "page", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "total", "<KEEP>", "pages", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "page", "<KEEP>", "hash", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "page", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "page", "<KEEP>", "num", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "page", "<KEEP>", "hash", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "page", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "page", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "page", "<KEEP>", "hash", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "instances", "<KEEP>", "(", "<KEEP>", "page", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "page", "<KEEP>", "workflows", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "page", "<KEEP>", "hash", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "querydsl_querydsl-91-2584", "old_comment": "this & & right", "old_comment_tokens": ["this", "&", "&", "right"], "new_comment": "this & amp ; & amp ; right", "new_comment_tokens": ["this", "&", "amp", ";", "&", "amp", ";", "right"], "old_code": "public boolean expression and ( @ nullable predicate right ) { right = ( predicate ) expression utils . extract ( right ) ; if ( right ! = null ) { return boolean operation . create ( ops . and , mixin , right ) ; } else { return this ; } }", "old_code_tokens": ["public", "boolean", "expression", "and", "(", "@", "nullable", "predicate", "right", ")", "{", "right", "=", "(", "predicate", ")", "expression", "utils", ".", "extract", "(", "right", ")", ";", "if", "(", "right", "!", "=", "null", ")", "{", "return", "boolean", "operation", ".", "create", "(", "ops", ".", "and", ",", "mixin", ",", "right", ")", ";", "}", "else", "{", "return", "this", ";", "}", "}"], "new_code": "public boolean expression and ( @ nullable predicate right ) { right = ( predicate ) expression utils . extract ( right ) ; if ( right ! = null ) { return expressions . boolean operation ( ops . and , mixin , right ) ; } else { return this ; } }", "new_code_tokens": ["public", "boolean", "expression", "and", "(", "@", "nullable", "predicate", "right", ")", "{", "right", "=", "(", "predicate", ")", "expression", "utils", ".", "extract", "(", "right", ")", ";", "if", "(", "right", "!", "=", "null", ")", "{", "return", "expressions", ".", "boolean", "operation", "(", "ops", ".", "and", ",", "mixin", ",", "right", ")", ";", "}", "else", "{", "return", "this", ";", "}", "}"], "span_diff_code": "<KEEP> public boolean expression and ( @ nullable predicate right ) { right = ( predicate ) expression utils . extract ( right ) ; if ( right ! = null ) { return <KEEP_END> <INSERT> expressions . <INSERT_END> <KEEP> boolean operation <KEEP_END> <DELETE> . create <DELETE_END> <KEEP> ( ops . and , mixin , right ) ; } else { return this ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "expression", "and", "(", "@", "nullable", "predicate", "right", ")", "{", "right", "=", "(", "predicate", ")", "expression", "utils", ".", "extract", "(", "right", ")", ";", "if", "(", "right", "!", "=", "null", ")", "{", "return", "<KEEP_END>", "<INSERT>", "expressions", ".", "<INSERT_END>", "<KEEP>", "boolean", "operation", "<KEEP_END>", "<DELETE>", ".", "create", "<DELETE_END>", "<KEEP>", "(", "ops", ".", "and", ",", "mixin", ",", "right", ")", ";", "}", "else", "{", "return", "this", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> this & <INSERT_NEW_KEEP_BEFORE> this & amp ; <INSERT_END> <INSERT_OLD_KEEP_AFTER> right <INSERT_NEW_KEEP_AFTER> amp ; right <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "this", "&", "<INSERT_NEW_KEEP_BEFORE>", "this", "&", "amp", ";", "<INSERT_END>", "<INSERT_OLD_KEEP_AFTER>", "right", "<INSERT_NEW_KEEP_AFTER>", "amp", ";", "right", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "expression", "<KEEP>", "and", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "nullable", "<KEEP>", "predicate", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "predicate", "<KEEP>", ")", "<KEEP>", "expression", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "extract", "<KEEP>", "(", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "right", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "expressions", "<INSERT>", ".", "<KEEP>", "boolean", "<KEEP>", "operation", "<DELETE>", ".", "<DELETE>", "create", "<KEEP>", "(", "<KEEP>", "ops", "<KEEP>", ".", "<KEEP>", "and", "<KEEP>", ",", "<KEEP>", "mixin", "<KEEP>", ",", "<KEEP>", "right", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-git-2-5870", "old_comment": "the component key to adapter cache", "old_comment_tokens": ["the", "component", "key", "to", "adapter", "cache"], "new_comment": "the key to adapter cache", "new_comment_tokens": ["the", "key", "to", "adapter", "cache"], "old_code": "protected map < object , component adapter < ? > > get component key to adapter cache ( ) { return component key to adapter cache ; }", "old_code_tokens": ["protected", "map", "<", "object", ",", "component", "adapter", "<", "?", ">", ">", "get", "component", "key", "to", "adapter", "cache", "(", ")", "{", "return", "component", "key", "to", "adapter", "cache", ";", "}"], "new_code": "protected map < object , component adapter < ? > > get component key to adapter cache ( ) { return key to adapter cache ; }", "new_code_tokens": ["protected", "map", "<", "object", ",", "component", "adapter", "<", "?", ">", ">", "get", "component", "key", "to", "adapter", "cache", "(", ")", "{", "return", "key", "to", "adapter", "cache", ";", "}"], "span_diff_code": "<KEEP> protected map < object , component adapter < ? > > get component key to adapter cache ( ) { return <KEEP_END> <DELETE> component <DELETE_END> <KEEP> key to adapter cache ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "map", "<", "object", ",", "component", "adapter", "<", "?", ">", ">", "get", "component", "key", "to", "adapter", "cache", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "component", "<DELETE_END>", "<KEEP>", "key", "to", "adapter", "cache", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> component <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "component", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "component", "<KEEP>", "adapter", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "component", "<KEEP>", "key", "<KEEP>", "to", "<KEEP>", "adapter", "<KEEP>", "cache", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "component", "<KEEP>", "key", "<KEEP>", "to", "<KEEP>", "adapter", "<KEEP>", "cache", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "r0adkll_Slidr-0-3243", "old_comment": "a com . r0adkll . slidableactivity . slide lock interface that allows the user to lock / unlock the sliding mechanism for whatever purpose .", "old_comment_tokens": ["a", "com", ".", "r0adkll", ".", "slidableactivity", ".", "slide", "lock", "interface", "that", "allows", "the", "user", "to", "lock", "/", "unlock", "the", "sliding", "mechanism", "for", "whatever", "purpose", "."], "new_comment": "a com . r0adkll . slidr . slidr interface that allows the user to lock / unlock the sliding mechanism for whatever purpose .", "new_comment_tokens": ["a", "com", ".", "r0adkll", ".", "slidr", ".", "slidr", "interface", "that", "allows", "the", "user", "to", "lock", "/", "unlock", "the", "sliding", "mechanism", "for", "whatever", "purpose", "."], "old_code": "public static slide lock interface attach ( final activity activity ) { view group decor view = ( view group ) activity . get window ( ) . get decor view ( ) ; view old screen = decor view . get child at ( num ) ; decor view . remove view at ( num ) ; final slider panel panel = new slider panel ( activity , old screen ) ; panel . set id ( r . id . slidable _ panel ) ; panel . add view ( old screen ) ; decor view . add view ( panel , num ) ; panel . set on panel slide listener ( new slider panel . on panel slide listener ( ) { @ override public void on closed ( ) { activity . finish ( ) ; activity . override pending transition ( num , num ) ; } @ override public void on opened ( ) { } } ) ; slide lock interface lock interface = new slide lock interface ( ) { @ override public void lock ( ) { panel . lock ( ) ; } @ override public void unlock ( ) { panel . unlock ( ) ; } } ; return lock interface ; }", "old_code_tokens": ["public", "static", "slide", "lock", "interface", "attach", "(", "final", "activity", "activity", ")", "{", "view", "group", "decor", "view", "=", "(", "view", "group", ")", "activity", ".", "get", "window", "(", ")", ".", "get", "decor", "view", "(", ")", ";", "view", "old", "screen", "=", "decor", "view", ".", "get", "child", "at", "(", "num", ")", ";", "decor", "view", ".", "remove", "view", "at", "(", "num", ")", ";", "final", "slider", "panel", "panel", "=", "new", "slider", "panel", "(", "activity", ",", "old", "screen", ")", ";", "panel", ".", "set", "id", "(", "r", ".", "id", ".", "slidable", "_", "panel", ")", ";", "panel", ".", "add", "view", "(", "old", "screen", ")", ";", "decor", "view", ".", "add", "view", "(", "panel", ",", "num", ")", ";", "panel", ".", "set", "on", "panel", "slide", "listener", "(", "new", "slider", "panel", ".", "on", "panel", "slide", "listener", "(", ")", "{", "@", "override", "public", "void", "on", "closed", "(", ")", "{", "activity", ".", "finish", "(", ")", ";", "activity", ".", "override", "pending", "transition", "(", "num", ",", "num", ")", ";", "}", "@", "override", "public", "void", "on", "opened", "(", ")", "{", "}", "}", ")", ";", "slide", "lock", "interface", "lock", "interface", "=", "new", "slide", "lock", "interface", "(", ")", "{", "@", "override", "public", "void", "lock", "(", ")", "{", "panel", ".", "lock", "(", ")", ";", "}", "@", "override", "public", "void", "unlock", "(", ")", "{", "panel", ".", "unlock", "(", ")", ";", "}", "}", ";", "return", "lock", "interface", ";", "}"], "new_code": "public static slidr interface attach ( final activity activity , final int status bar color1 , final int status bar color2 ) { view group decor view = ( view group ) activity . get window ( ) . get decor view ( ) ; view old screen = decor view . get child at ( num ) ; decor view . remove view at ( num ) ; final slider panel panel = new slider panel ( activity , old screen ) ; panel . set id ( r . id . slidable _ panel ) ; panel . add view ( old screen ) ; decor view . add view ( panel , num ) ; panel . set on panel slide listener ( new slider panel . on panel slide listener ( ) { private final argb evaluator m evaluator = new argb evaluator ( ) ; @ override public void on closed ( ) { activity . finish ( ) ; activity . override pending transition ( num , num ) ; } @ override public void on opened ( ) { } @ override public void on slide change ( float percent ) { if ( build . version . sdk _ int > = build . version _ codes . lollipop ) { int new color = ( int ) m evaluator . evaluate ( percent , status bar color1 , status bar color2 ) ; activity . get window ( ) . set status bar color ( new color ) ; } } } ) ; slidr interface slidr interface = new slidr interface ( ) { @ override public void lock ( ) { panel . lock ( ) ; } @ override public void unlock ( ) { panel . unlock ( ) ; } } ; return slidr interface ; }", "new_code_tokens": ["public", "static", "slidr", "interface", "attach", "(", "final", "activity", "activity", ",", "final", "int", "status", "bar", "color1", ",", "final", "int", "status", "bar", "color2", ")", "{", "view", "group", "decor", "view", "=", "(", "view", "group", ")", "activity", ".", "get", "window", "(", ")", ".", "get", "decor", "view", "(", ")", ";", "view", "old", "screen", "=", "decor", "view", ".", "get", "child", "at", "(", "num", ")", ";", "decor", "view", ".", "remove", "view", "at", "(", "num", ")", ";", "final", "slider", "panel", "panel", "=", "new", "slider", "panel", "(", "activity", ",", "old", "screen", ")", ";", "panel", ".", "set", "id", "(", "r", ".", "id", ".", "slidable", "_", "panel", ")", ";", "panel", ".", "add", "view", "(", "old", "screen", ")", ";", "decor", "view", ".", "add", "view", "(", "panel", ",", "num", ")", ";", "panel", ".", "set", "on", "panel", "slide", "listener", "(", "new", "slider", "panel", ".", "on", "panel", "slide", "listener", "(", ")", "{", "private", "final", "argb", "evaluator", "m", "evaluator", "=", "new", "argb", "evaluator", "(", ")", ";", "@", "override", "public", "void", "on", "closed", "(", ")", "{", "activity", ".", "finish", "(", ")", ";", "activity", ".", "override", "pending", "transition", "(", "num", ",", "num", ")", ";", "}", "@", "override", "public", "void", "on", "opened", "(", ")", "{", "}", "@", "override", "public", "void", "on", "slide", "change", "(", "float", "percent", ")", "{", "if", "(", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "build", ".", "version", "_", "codes", ".", "lollipop", ")", "{", "int", "new", "color", "=", "(", "int", ")", "m", "evaluator", ".", "evaluate", "(", "percent", ",", "status", "bar", "color1", ",", "status", "bar", "color2", ")", ";", "activity", ".", "get", "window", "(", ")", ".", "set", "status", "bar", "color", "(", "new", "color", ")", ";", "}", "}", "}", ")", ";", "slidr", "interface", "slidr", "interface", "=", "new", "slidr", "interface", "(", ")", "{", "@", "override", "public", "void", "lock", "(", ")", "{", "panel", ".", "lock", "(", ")", ";", "}", "@", "override", "public", "void", "unlock", "(", ")", "{", "panel", ".", "unlock", "(", ")", ";", "}", "}", ";", "return", "slidr", "interface", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> slide lock <REPLACE_NEW> slidr <REPLACE_END> <KEEP> interface attach ( final activity activity <KEEP_END> <INSERT> , final int status bar color1 , final int status bar color2 <INSERT_END> <KEEP> ) { view group decor view = ( view group ) activity . get window ( ) . get decor view ( ) ; view old screen = decor view . get child at ( num ) ; decor view . remove view at ( num ) ; final slider panel panel = new slider panel ( activity , old screen ) ; panel . set id ( r . id . slidable _ panel ) ; panel . add view ( old screen ) ; decor view . add view ( panel , num ) ; panel . set on panel slide listener ( new slider panel . on panel slide listener ( ) { <KEEP_END> <INSERT> private final argb evaluator m evaluator = new argb evaluator ( ) ; <INSERT_END> <KEEP> @ override public void on closed ( ) { activity . finish ( ) ; activity . override pending transition ( num , num ) ; } @ override public void on opened ( ) { } <KEEP_END> <REPLACE_OLD> } ) ; <REPLACE_NEW> @ override public void on <REPLACE_END> <KEEP> slide <KEEP_END> <INSERT> change ( float percent ) { if ( build . version . sdk _ int > = build . version _ codes . lollipop ) { int new color = ( int ) m evaluator . evaluate ( percent , status bar color1 , status bar color2 ) ; activity . get window ( ) . set status bar color ( new color ) ; } } } ) ; slidr interface slidr interface = new slidr interface ( ) { @ override public void <INSERT_END> <KEEP> lock <KEEP_END> <REPLACE_OLD> interface <REPLACE_NEW> ( ) { panel . <REPLACE_END> <KEEP> lock <KEEP_END> <DELETE> interface = new slide lock interface ( ) { @ override public void lock ( ) { panel . lock <DELETE_END> <KEEP> ( ) ; } @ override public void unlock ( ) { panel . unlock ( ) ; } } ; return <KEEP_END> <REPLACE_OLD> lock interface ; } <REPLACE_NEW> slidr interface ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "slide", "lock", "<REPLACE_NEW>", "slidr", "<REPLACE_END>", "<KEEP>", "interface", "attach", "(", "final", "activity", "activity", "<KEEP_END>", "<INSERT>", ",", "final", "int", "status", "bar", "color1", ",", "final", "int", "status", "bar", "color2", "<INSERT_END>", "<KEEP>", ")", "{", "view", "group", "decor", "view", "=", "(", "view", "group", ")", "activity", ".", "get", "window", "(", ")", ".", "get", "decor", "view", "(", ")", ";", "view", "old", "screen", "=", "decor", "view", ".", "get", "child", "at", "(", "num", ")", ";", "decor", "view", ".", "remove", "view", "at", "(", "num", ")", ";", "final", "slider", "panel", "panel", "=", "new", "slider", "panel", "(", "activity", ",", "old", "screen", ")", ";", "panel", ".", "set", "id", "(", "r", ".", "id", ".", "slidable", "_", "panel", ")", ";", "panel", ".", "add", "view", "(", "old", "screen", ")", ";", "decor", "view", ".", "add", "view", "(", "panel", ",", "num", ")", ";", "panel", ".", "set", "on", "panel", "slide", "listener", "(", "new", "slider", "panel", ".", "on", "panel", "slide", "listener", "(", ")", "{", "<KEEP_END>", "<INSERT>", "private", "final", "argb", "evaluator", "m", "evaluator", "=", "new", "argb", "evaluator", "(", ")", ";", "<INSERT_END>", "<KEEP>", "@", "override", "public", "void", "on", "closed", "(", ")", "{", "activity", ".", "finish", "(", ")", ";", "activity", ".", "override", "pending", "transition", "(", "num", ",", "num", ")", ";", "}", "@", "override", "public", "void", "on", "opened", "(", ")", "{", "}", "<KEEP_END>", "<REPLACE_OLD>", "}", ")", ";", "<REPLACE_NEW>", "@", "override", "public", "void", "on", "<REPLACE_END>", "<KEEP>", "slide", "<KEEP_END>", "<INSERT>", "change", "(", "float", "percent", ")", "{", "if", "(", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "build", ".", "version", "_", "codes", ".", "lollipop", ")", "{", "int", "new", "color", "=", "(", "int", ")", "m", "evaluator", ".", "evaluate", "(", "percent", ",", "status", "bar", "color1", ",", "status", "bar", "color2", ")", ";", "activity", ".", "get", "window", "(", ")", ".", "set", "status", "bar", "color", "(", "new", "color", ")", ";", "}", "}", "}", ")", ";", "slidr", "interface", "slidr", "interface", "=", "new", "slidr", "interface", "(", ")", "{", "@", "override", "public", "void", "<INSERT_END>", "<KEEP>", "lock", "<KEEP_END>", "<REPLACE_OLD>", "interface", "<REPLACE_NEW>", "(", ")", "{", "panel", ".", "<REPLACE_END>", "<KEEP>", "lock", "<KEEP_END>", "<DELETE>", "interface", "=", "new", "slide", "lock", "interface", "(", ")", "{", "@", "override", "public", "void", "lock", "(", ")", "{", "panel", ".", "lock", "<DELETE_END>", "<KEEP>", "(", ")", ";", "}", "@", "override", "public", "void", "unlock", "(", ")", "{", "panel", ".", "unlock", "(", ")", ";", "}", "}", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "lock", "interface", ";", "}", "<REPLACE_NEW>", "slidr", "interface", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> slidableactivity <REPLACE_NEW> slidr <REPLACE_END> <REPLACE_OLD> slide lock <REPLACE_NEW> slidr <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "slidableactivity", "<REPLACE_NEW>", "slidr", "<REPLACE_END>", "<REPLACE_OLD>", "slide", "lock", "<REPLACE_NEW>", "slidr", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "slide", "<REPLACE_OLD>", "lock", "<REPLACE_NEW>", "slidr", "<KEEP>", "interface", "<KEEP>", "attach", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "activity", "<KEEP>", "activity", "<INSERT>", ",", "<INSERT>", "final", "<INSERT>", "int", "<INSERT>", "status", "<INSERT>", "bar", "<INSERT>", "color1", "<INSERT>", ",", "<INSERT>", "final", "<INSERT>", "int", "<INSERT>", "status", "<INSERT>", "bar", "<INSERT>", "color2", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "view", "<KEEP>", "group", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "view", "<KEEP>", "group", "<KEEP>", ")", "<KEEP>", "activity", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "view", "<KEEP>", "old", "<KEEP>", "screen", "<KEEP>", "=", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "child", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "remove", "<KEEP>", "view", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "slider", "<KEEP>", "panel", "<KEEP>", "panel", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "slider", "<KEEP>", "panel", "<KEEP>", "(", "<KEEP>", "activity", "<KEEP>", ",", "<KEEP>", "old", "<KEEP>", "screen", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "panel", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "slidable", "<KEEP>", "_", "<KEEP>", "panel", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "panel", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", "old", "<KEEP>", "screen", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "decor", "<KEEP>", "view", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "view", "<KEEP>", "(", "<KEEP>", "panel", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "panel", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "on", "<KEEP>", "panel", "<KEEP>", "slide", "<KEEP>", "listener", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "slider", "<KEEP>", "panel", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "panel", "<KEEP>", "slide", "<KEEP>", "listener", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "private", "<INSERT>", "final", "<INSERT>", "argb", "<INSERT>", "evaluator", "<INSERT>", "m", "<INSERT>", "evaluator", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "argb", "<INSERT>", "evaluator", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "on", "<KEEP>", "closed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "activity", "<KEEP>", ".", "<KEEP>", "finish", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "activity", "<KEEP>", ".", "<KEEP>", "override", "<KEEP>", "pending", "<KEEP>", "transition", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "on", "<KEEP>", "opened", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "@", "<REPLACE_NEW>", "override", "<REPLACE_NEW>", "public", "<REPLACE_NEW>", "void", "<REPLACE_NEW>", "on", "<KEEP>", "slide", "<INSERT>", "change", "<INSERT>", "(", "<INSERT>", "float", "<INSERT>", "percent", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "build", "<INSERT>", ".", "<INSERT>", "version", "<INSERT>", ".", "<INSERT>", "sdk", "<INSERT>", "_", "<INSERT>", "int", "<INSERT>", ">", "<INSERT>", "=", "<INSERT>", "build", "<INSERT>", ".", "<INSERT>", "version", "<INSERT>", "_", "<INSERT>", "codes", "<INSERT>", ".", "<INSERT>", "lollipop", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "int", "<INSERT>", "new", "<INSERT>", "color", "<INSERT>", "=", "<INSERT>", "(", "<INSERT>", "int", "<INSERT>", ")", "<INSERT>", "m", "<INSERT>", "evaluator", "<INSERT>", ".", "<INSERT>", "evaluate", "<INSERT>", "(", "<INSERT>", "percent", "<INSERT>", ",", "<INSERT>", "status", "<INSERT>", "bar", "<INSERT>", "color1", "<INSERT>", ",", "<INSERT>", "status", "<INSERT>", "bar", "<INSERT>", "color2", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "activity", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "window", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "status", "<INSERT>", "bar", "<INSERT>", "color", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "color", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "slidr", "<INSERT>", "interface", "<INSERT>", "slidr", "<INSERT>", "interface", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "slidr", "<INSERT>", "interface", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "@", "<INSERT>", "override", "<INSERT>", "public", "<INSERT>", "void", "<KEEP>", "lock", "<REPLACE_OLD>", "interface", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "panel", "<REPLACE_NEW>", ".", "<KEEP>", "lock", "<DELETE>", "interface", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "slide", "<DELETE>", "lock", "<DELETE>", "interface", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "@", "<DELETE>", "override", "<DELETE>", "public", "<DELETE>", "void", "<DELETE>", "lock", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "panel", "<DELETE>", ".", "<DELETE>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "void", "<KEEP>", "unlock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "panel", "<KEEP>", ".", "<KEEP>", "unlock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "lock", "<REPLACE_OLD>", "interface", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "slidr", "<REPLACE_NEW>", "interface", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "mccraigmccraig_prefuse-64-5599", "old_comment": "true if the extension is \" . gz \" , false otherwise", "old_comment_tokens": ["true", "if", "the", "extension", "is", "\"", ".", "gz", "\"", ",", "false", "otherwise"], "new_comment": "true if the extension is \" . gz \" or \" . z \" , false otherwise", "new_comment_tokens": ["true", "if", "the", "extension", "is", "\"", ".", "gz", "\"", "or", "\"", ".", "z", "\"", ",", "false", "otherwise"], "old_code": "public static boolean is gzip file ( string file ) { return str . equals ( get extension ( file ) ) ; }", "old_code_tokens": ["public", "static", "boolean", "is", "gzip", "file", "(", "string", "file", ")", "{", "return", "str", ".", "equals", "(", "get", "extension", "(", "file", ")", ")", ";", "}"], "new_code": "public static boolean is gzip file ( string file ) { string ext = get extension ( file ) ; return str . equals ( ext ) | | str . equals ( ext ) ; }", "new_code_tokens": ["public", "static", "boolean", "is", "gzip", "file", "(", "string", "file", ")", "{", "string", "ext", "=", "get", "extension", "(", "file", ")", ";", "return", "str", ".", "equals", "(", "ext", ")", "|", "|", "str", ".", "equals", "(", "ext", ")", ";", "}"], "span_diff_code": "<KEEP> public static boolean is gzip file ( string file ) { <KEEP_END> <INSERT> string ext = get extension ( file ) ; <INSERT_END> <KEEP> return str . equals ( <KEEP_END> <REPLACE_OLD> get extension <REPLACE_NEW> ext ) | | str . equals <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> file ) <REPLACE_NEW> ext <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "boolean", "is", "gzip", "file", "(", "string", "file", ")", "{", "<KEEP_END>", "<INSERT>", "string", "ext", "=", "get", "extension", "(", "file", ")", ";", "<INSERT_END>", "<KEEP>", "return", "str", ".", "equals", "(", "<KEEP_END>", "<REPLACE_OLD>", "get", "extension", "<REPLACE_NEW>", "ext", ")", "|", "|", "str", ".", "equals", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "file", ")", "<REPLACE_NEW>", "ext", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> gz \" <INSERT_NEW_KEEP_BEFORE> gz \" or \" . z \" <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "gz", "\"", "<INSERT_NEW_KEEP_BEFORE>", "gz", "\"", "or", "\"", ".", "z", "\"", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "gzip", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "string", "<INSERT>", "ext", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "extension", "<INSERT>", "(", "<INSERT>", "file", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "extension", "<REPLACE_NEW>", "ext", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "|", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<KEEP>", "(", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "ext", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Atmosphere_atmosphere-54-3693", "old_comment": "the associated http servlet request", "old_comment_tokens": ["the", "associated", "http", "servlet", "request"], "new_comment": "the associated atmosphere request", "new_comment_tokens": ["the", "associated", "atmosphere", "request"], "old_code": "public http servlet request get request ( ) { return atmosphere request ; }", "old_code_tokens": ["public", "http", "servlet", "request", "get", "request", "(", ")", "{", "return", "atmosphere", "request", ";", "}"], "new_code": "public atmosphere request get request ( ) { return atmosphere request ; }", "new_code_tokens": ["public", "atmosphere", "request", "get", "request", "(", ")", "{", "return", "atmosphere", "request", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> http servlet <REPLACE_NEW> atmosphere <REPLACE_END> <KEEP> request get request ( ) { return atmosphere request ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "http", "servlet", "<REPLACE_NEW>", "atmosphere", "<REPLACE_END>", "<KEEP>", "request", "get", "request", "(", ")", "{", "return", "atmosphere", "request", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> http servlet <REPLACE_NEW> atmosphere <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "http", "servlet", "<REPLACE_NEW>", "atmosphere", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "http", "<REPLACE_OLD>", "servlet", "<REPLACE_NEW>", "atmosphere", "<KEEP>", "request", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "atmosphere", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lstoll_libvirt-java-3-4352", "old_comment": "an array of vir vcpu info object describing the vcpus", "old_comment_tokens": ["an", "array", "of", "vir", "vcpu", "info", "object", "describing", "the", "vcpus"], "new_comment": "an array of vcpu info object describing the vcpus", "new_comment_tokens": ["an", "array", "of", "vcpu", "info", "object", "describing", "the", "vcpus"], "old_code": "public vir vcpu info [ ] get vcpus info ( ) throws libvirt exception { return _ get vcpus info ( vdp ) ; }", "old_code_tokens": ["public", "vir", "vcpu", "info", "[", "]", "get", "vcpus", "info", "(", ")", "throws", "libvirt", "exception", "{", "return", "_", "get", "vcpus", "info", "(", "vdp", ")", ";", "}"], "new_code": "public vcpu info [ ] get vcpus info ( ) throws libvirt exception { return _ get vcpus info ( vdp ) ; }", "new_code_tokens": ["public", "vcpu", "info", "[", "]", "get", "vcpus", "info", "(", ")", "throws", "libvirt", "exception", "{", "return", "_", "get", "vcpus", "info", "(", "vdp", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> vcpu info [ ] get vcpus info ( ) throws libvirt exception { return _ get vcpus info ( vdp ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "vcpu", "info", "[", "]", "get", "vcpus", "info", "(", ")", "throws", "libvirt", "exception", "{", "return", "_", "get", "vcpus", "info", "(", "vdp", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> vir <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "vir", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "vir", "<KEEP>", "vcpu", "<KEEP>", "info", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "vcpus", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "libvirt", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "get", "<KEEP>", "vcpus", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "vdp", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "zjpjohn_idempiere-21-6653", "old_comment": "column name", "old_comment_tokens": ["column", "name"], "new_comment": "column name or \" \" if not found", "new_comment_tokens": ["column", "name", "or", "\"", "\"", "if", "not", "found"], "old_code": "public static string get column name ( string element type ) { if ( element type . equals ( elementtype _ organization ) ) return str ; else if ( element type . equals ( elementtype _ account ) ) return str ; else if ( element type . equals ( elementtype _ bpartner ) ) return str ; else if ( element type . equals ( elementtype _ product ) ) return str ; else if ( element type . equals ( elementtype _ activity ) ) return str ; else if ( element type . equals ( elementtype _ location from ) ) return str ; else if ( element type . equals ( elementtype _ location to ) ) return str ; else if ( element type . equals ( elementtype _ campaign ) ) return str ; else if ( element type . equals ( elementtype _ org trx ) ) return str ; else if ( element type . equals ( elementtype _ project ) ) return str ; else if ( element type . equals ( elementtype _ sales region ) ) return str ; else if ( element type . equals ( elementtype _ user list1 ) ) return str ; else if ( element type . equals ( elementtype _ user list2 ) ) return str ; else if ( element type . equals ( elementtype _ user element1 ) ) return str ; else if ( element type . equals ( elementtype _ user element2 ) ) return str ; return str ; }", "old_code_tokens": ["public", "static", "string", "get", "column", "name", "(", "string", "element", "type", ")", "{", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "organization", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "account", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "bpartner", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "product", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "activity", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "location", "from", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "location", "to", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "campaign", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "org", "trx", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "project", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "sales", "region", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list1", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list2", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element1", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element2", ")", ")", "return", "str", ";", "return", "str", ";", "}"], "new_code": "public static string get column name ( string element type ) { if ( element type . equals ( elementtype _ organization ) ) return str ; else if ( element type . equals ( elementtype _ account ) ) return i _ c _ valid combination . columnname _ account _ id ; else if ( element type . equals ( elementtype _ bpartner ) ) return i _ c _ valid combination . columnname _ c _ bpartner _ id ; else if ( element type . equals ( elementtype _ product ) ) return i _ c _ valid combination . columnname _ m _ product _ id ; else if ( element type . equals ( elementtype _ activity ) ) return i _ c _ valid combination . columnname _ c _ activity _ id ; else if ( element type . equals ( elementtype _ location from ) ) return i _ c _ valid combination . columnname _ c _ loc from _ id ; else if ( element type . equals ( elementtype _ location to ) ) return i _ c _ valid combination . columnname _ c _ loc to _ id ; else if ( element type . equals ( elementtype _ campaign ) ) return i _ c _ valid combination . columnname _ c _ campaign _ id ; else if ( element type . equals ( elementtype _ org trx ) ) return i _ c _ valid combination . columnname _ ad _ org trx _ id ; else if ( element type . equals ( elementtype _ project ) ) return i _ c _ valid combination . columnname _ c _ project _ id ; else if ( element type . equals ( elementtype _ sales region ) ) return i _ c _ valid combination . columnname _ c _ sales region _ id ; else if ( element type . equals ( elementtype _ user list1 ) ) return i _ c _ valid combination . columnname _ user1 _ id ; else if ( element type . equals ( elementtype _ user list2 ) ) return i _ c _ valid combination . columnname _ user2 _ id ; else if ( element type . equals ( elementtype _ user element1 ) ) return i _ c _ valid combination . columnname _ user element1 _ id ; else if ( element type . equals ( elementtype _ user element2 ) ) return i _ c _ valid combination . columnname _ user element2 _ id ; return str ; }", "new_code_tokens": ["public", "static", "string", "get", "column", "name", "(", "string", "element", "type", ")", "{", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "organization", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "account", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "account", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "bpartner", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "bpartner", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "product", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "m", "_", "product", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "activity", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "activity", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "location", "from", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "loc", "from", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "location", "to", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "loc", "to", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "campaign", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "campaign", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "org", "trx", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "ad", "_", "org", "trx", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "project", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "project", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "sales", "region", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "sales", "region", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list1", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user1", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list2", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user2", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element1", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user", "element1", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element2", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user", "element2", "_", "id", ";", "return", "str", ";", "}"], "span_diff_code": "<KEEP> public static string get column name ( string element type ) { if ( element type . equals ( elementtype _ organization ) ) return str ; else if ( element type . equals ( elementtype _ account ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ account _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ bpartner ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ c _ bpartner _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ product ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ m _ product _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ activity ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ c _ activity _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ location from ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ c _ loc from _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ location to ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ c _ loc to _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ campaign ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ c _ campaign _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ org trx ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ ad _ org trx _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ project ) ) return <KEEP_END> <REPLACE_OLD> str <REPLACE_NEW> i _ c _ valid combination . columnname _ c _ project _ id <REPLACE_END> <KEEP> ; else if ( element type . equals ( elementtype _ sales region ) ) return <KEEP_END> <INSERT> i _ c _ valid combination . columnname _ c _ sales region _ id ; else if ( element type . equals ( elementtype _ user list1 ) ) return i _ c _ valid combination . columnname _ user1 _ id ; else if ( element type . equals ( elementtype _ user list2 ) ) return i _ c _ valid combination . columnname _ user2 _ id ; else if ( element type . equals ( elementtype _ user element1 ) ) return i _ c _ valid combination . columnname _ user element1 _ id ; else if ( element type . equals ( elementtype _ user element2 ) ) return i _ c _ valid combination . columnname _ user element2 _ id ; return <INSERT_END> <KEEP> str ; <KEEP_END> <DELETE> else if ( element type . equals ( elementtype _ user list1 ) ) return str ; else if ( element type . equals ( elementtype _ user list2 ) ) return str ; else if ( element type . equals ( elementtype _ user element1 ) ) return str ; else if ( element type . equals ( elementtype _ user element2 ) ) return str ; return str ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "get", "column", "name", "(", "string", "element", "type", ")", "{", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "organization", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "account", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "account", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "bpartner", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "bpartner", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "product", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "m", "_", "product", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "activity", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "activity", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "location", "from", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "loc", "from", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "location", "to", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "loc", "to", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "campaign", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "campaign", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "org", "trx", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "ad", "_", "org", "trx", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "project", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "project", "_", "id", "<REPLACE_END>", "<KEEP>", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "sales", "region", ")", ")", "return", "<KEEP_END>", "<INSERT>", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "c", "_", "sales", "region", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list1", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user1", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list2", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user2", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element1", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user", "element1", "_", "id", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element2", ")", ")", "return", "i", "_", "c", "_", "valid", "combination", ".", "columnname", "_", "user", "element2", "_", "id", ";", "return", "<INSERT_END>", "<KEEP>", "str", ";", "<KEEP_END>", "<DELETE>", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list1", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "list2", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element1", ")", ")", "return", "str", ";", "else", "if", "(", "element", "type", ".", "equals", "(", "elementtype", "_", "user", "element2", ")", ")", "return", "str", ";", "return", "str", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> name <INSERT_NEW_KEEP_BEFORE> name or \" \" if not found <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "name", "<INSERT_NEW_KEEP_BEFORE>", "name", "or", "\"", "\"", "if", "not", "found", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "column", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "organization", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "account", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "account", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "bpartner", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "bpartner", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "product", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "product", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "activity", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "activity", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "location", "<KEEP>", "from", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "loc", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "location", "<KEEP>", "to", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "loc", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "campaign", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "campaign", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "org", "<KEEP>", "trx", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "ad", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "org", "<REPLACE_NEW>", "trx", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "project", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "valid", "<REPLACE_NEW>", "combination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "columnname", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "c", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "id", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "elementtype", "<KEEP>", "_", "<KEEP>", "sales", "<KEEP>", "region", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<INSERT>", "i", "<INSERT>", "_", "<INSERT>", "c", "<INSERT>", "_", "<INSERT>", "valid", "<INSERT>", "combination", "<INSERT>", ".", "<INSERT>", "columnname", "<INSERT>", "_", "<INSERT>", "c", "<INSERT>", "_", "<INSERT>", "sales", "<INSERT>", "region", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "elementtype", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", "list1", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "i", "<INSERT>", "_", "<INSERT>", "c", "<INSERT>", "_", "<INSERT>", "valid", "<INSERT>", "combination", "<INSERT>", ".", "<INSERT>", "columnname", "<INSERT>", "_", "<INSERT>", "user1", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "elementtype", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", "list2", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "i", "<INSERT>", "_", "<INSERT>", "c", "<INSERT>", "_", "<INSERT>", "valid", "<INSERT>", "combination", "<INSERT>", ".", "<INSERT>", "columnname", "<INSERT>", "_", "<INSERT>", "user2", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "elementtype", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", "element1", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "i", "<INSERT>", "_", "<INSERT>", "c", "<INSERT>", "_", "<INSERT>", "valid", "<INSERT>", "combination", "<INSERT>", ".", "<INSERT>", "columnname", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", "element1", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "element", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "elementtype", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", "element2", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "i", "<INSERT>", "_", "<INSERT>", "c", "<INSERT>", "_", "<INSERT>", "valid", "<INSERT>", "combination", "<INSERT>", ".", "<INSERT>", "columnname", "<INSERT>", "_", "<INSERT>", "user", "<INSERT>", "element2", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", ";", "<INSERT>", "return", "<KEEP>", "str", "<KEEP>", ";", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "elementtype", "<DELETE>", "_", "<DELETE>", "user", "<DELETE>", "list1", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "str", "<DELETE>", ";", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "elementtype", "<DELETE>", "_", "<DELETE>", "user", "<DELETE>", "list2", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "str", "<DELETE>", ";", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "elementtype", "<DELETE>", "_", "<DELETE>", "user", "<DELETE>", "element1", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "str", "<DELETE>", ";", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "elementtype", "<DELETE>", "_", "<DELETE>", "user", "<DELETE>", "element2", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "str", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "str", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "kaendfinger_pircbotx-107-5594", "old_comment": "the maximum line length ( currently fixed at 512 )", "old_comment_tokens": ["the", "maximum", "line", "length", "(", "currently", "fixed", "at", "512", ")"], "new_comment": "the maximum line length ( default 512 )", "new_comment_tokens": ["the", "maximum", "line", "length", "(", "default", "512", ")"], "old_code": "public int get max line length ( ) { return input thread . max _ line _ length ; }", "old_code_tokens": ["public", "int", "get", "max", "line", "length", "(", ")", "{", "return", "input", "thread", ".", "max", "_", "line", "_", "length", ";", "}"], "new_code": "public int get max line length ( ) { return max line length ; }", "new_code_tokens": ["public", "int", "get", "max", "line", "length", "(", ")", "{", "return", "max", "line", "length", ";", "}"], "span_diff_code": "<KEEP> public int get max line length ( ) { return <KEEP_END> <DELETE> input thread . <DELETE_END> <KEEP> max <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> line <KEEP_END> <DELETE> _ <DELETE_END> <KEEP> length ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "int", "get", "max", "line", "length", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "input", "thread", ".", "<DELETE_END>", "<KEEP>", "max", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "line", "<KEEP_END>", "<DELETE>", "_", "<DELETE_END>", "<KEEP>", "length", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> currently fixed at <REPLACE_NEW> default <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "currently", "fixed", "at", "<REPLACE_NEW>", "default", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "max", "<KEEP>", "line", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "input", "<DELETE>", "thread", "<DELETE>", ".", "<KEEP>", "max", "<DELETE>", "_", "<KEEP>", "line", "<DELETE>", "_", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "stephenh_jxls-2-4683", "old_comment": "new hssfworkbook generated by inserting beans into corresponding excel template", "old_comment_tokens": ["new", "hssfworkbook", "generated", "by", "inserting", "beans", "into", "corresponding", "excel", "template"], "new_comment": "new org . apache . poi . ss . usermodel . workbook generated by inserting beans into corresponding excel template", "new_comment_tokens": ["new", "org", ".", "apache", ".", "poi", ".", "ss", ".", "usermodel", ".", "workbook", "generated", "by", "inserting", "beans", "into", "corresponding", "excel", "template"], "old_code": "public hssfworkbook transform xls ( input stream is , map bean params ) throws parse property exception { hssfworkbook hssf workbook = null ; try { poifsfile system fs = new poifsfile system ( is ) ; hssf workbook = new hssfworkbook ( fs ) ; transform workbook ( hssf workbook , bean params ) ; } catch ( ioexception e ) { e . print stack trace ( ) ; } return hssf workbook ; }", "old_code_tokens": ["public", "hssfworkbook", "transform", "xls", "(", "input", "stream", "is", ",", "map", "bean", "params", ")", "throws", "parse", "property", "exception", "{", "hssfworkbook", "hssf", "workbook", "=", "null", ";", "try", "{", "poifsfile", "system", "fs", "=", "new", "poifsfile", "system", "(", "is", ")", ";", "hssf", "workbook", "=", "new", "hssfworkbook", "(", "fs", ")", ";", "transform", "workbook", "(", "hssf", "workbook", ",", "bean", "params", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "hssf", "workbook", ";", "}"], "new_code": "public org . apache . poi . ss . usermodel . workbook transform xls ( input stream is , map bean params ) throws parse property exception , invalid format exception { org . apache . poi . ss . usermodel . workbook hssf workbook = null ; try { hssf workbook = workbook factory . create ( is ) ; transform workbook ( hssf workbook , bean params ) ; } catch ( ioexception e ) { e . print stack trace ( ) ; } return hssf workbook ; }", "new_code_tokens": ["public", "org", ".", "apache", ".", "poi", ".", "ss", ".", "usermodel", ".", "workbook", "transform", "xls", "(", "input", "stream", "is", ",", "map", "bean", "params", ")", "throws", "parse", "property", "exception", ",", "invalid", "format", "exception", "{", "org", ".", "apache", ".", "poi", ".", "ss", ".", "usermodel", ".", "workbook", "hssf", "workbook", "=", "null", ";", "try", "{", "hssf", "workbook", "=", "workbook", "factory", ".", "create", "(", "is", ")", ";", "transform", "workbook", "(", "hssf", "workbook", ",", "bean", "params", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "hssf", "workbook", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> hssfworkbook <REPLACE_NEW> org . apache . poi . ss . usermodel . workbook <REPLACE_END> <KEEP> transform xls ( input stream is , map bean params ) throws parse property exception <KEEP_END> <INSERT> , invalid format exception <INSERT_END> <KEEP> { <KEEP_END> <REPLACE_OLD> hssfworkbook <REPLACE_NEW> org . apache . poi . ss . usermodel . workbook <REPLACE_END> <KEEP> hssf workbook = null ; try { <KEEP_END> <DELETE> poifsfile system fs = new poifsfile system ( is ) ; <DELETE_END> <KEEP> hssf workbook = <KEEP_END> <REPLACE_OLD> new hssfworkbook <REPLACE_NEW> workbook factory . create <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> fs <REPLACE_NEW> is <REPLACE_END> <KEEP> ) ; transform workbook ( hssf workbook , bean params ) ; } catch ( ioexception e ) { e . print stack trace ( ) ; } return hssf workbook ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "hssfworkbook", "<REPLACE_NEW>", "org", ".", "apache", ".", "poi", ".", "ss", ".", "usermodel", ".", "workbook", "<REPLACE_END>", "<KEEP>", "transform", "xls", "(", "input", "stream", "is", ",", "map", "bean", "params", ")", "throws", "parse", "property", "exception", "<KEEP_END>", "<INSERT>", ",", "invalid", "format", "exception", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "hssfworkbook", "<REPLACE_NEW>", "org", ".", "apache", ".", "poi", ".", "ss", ".", "usermodel", ".", "workbook", "<REPLACE_END>", "<KEEP>", "hssf", "workbook", "=", "null", ";", "try", "{", "<KEEP_END>", "<DELETE>", "poifsfile", "system", "fs", "=", "new", "poifsfile", "system", "(", "is", ")", ";", "<DELETE_END>", "<KEEP>", "hssf", "workbook", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "hssfworkbook", "<REPLACE_NEW>", "workbook", "factory", ".", "create", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "fs", "<REPLACE_NEW>", "is", "<REPLACE_END>", "<KEEP>", ")", ";", "transform", "workbook", "(", "hssf", "workbook", ",", "bean", "params", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "hssf", "workbook", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hssfworkbook <REPLACE_NEW> org . apache . poi . ss . usermodel . workbook <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hssfworkbook", "<REPLACE_NEW>", "org", ".", "apache", ".", "poi", ".", "ss", ".", "usermodel", ".", "workbook", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "hssfworkbook", "<REPLACE_NEW>", "org", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "apache", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "poi", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ss", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "usermodel", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "workbook", "<KEEP>", "transform", "<KEEP>", "xls", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "is", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "bean", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "parse", "<KEEP>", "property", "<KEEP>", "exception", "<INSERT>", ",", "<INSERT>", "invalid", "<INSERT>", "format", "<INSERT>", "exception", "<KEEP>", "{", "<REPLACE_OLD>", "hssfworkbook", "<REPLACE_NEW>", "org", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "apache", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "poi", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "ss", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "usermodel", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "workbook", "<KEEP>", "hssf", "<KEEP>", "workbook", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<DELETE>", "poifsfile", "<DELETE>", "system", "<DELETE>", "fs", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "poifsfile", "<DELETE>", "system", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "hssf", "<KEEP>", "workbook", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "hssfworkbook", "<REPLACE_NEW>", "workbook", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<KEEP>", "(", "<REPLACE_OLD>", "fs", "<REPLACE_NEW>", "is", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "transform", "<KEEP>", "workbook", "<KEEP>", "(", "<KEEP>", "hssf", "<KEEP>", "workbook", "<KEEP>", ",", "<KEEP>", "bean", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "hssf", "<KEEP>", "workbook", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "frohoff_jdk6-208-5097", "old_comment": "the list of kdcs", "old_comment_tokens": ["the", "list", "of", "kdcs"], "new_comment": "the list of kdcs separated by a space , always non null", "new_comment_tokens": ["the", "list", "of", "kdcs", "separated", "by", "a", "space", ",", "always", "non", "null"], "old_code": "public string get kdclist ( string realm ) { if ( realm = = null ) { realm = get default realm ( ) ; } string kdcs = get default ( str , realm ) ; if ( kdcs = = null ) { return null ; } return kdcs ; }", "old_code_tokens": ["public", "string", "get", "kdclist", "(", "string", "realm", ")", "{", "if", "(", "realm", "=", "=", "null", ")", "{", "realm", "=", "get", "default", "realm", "(", ")", ";", "}", "string", "kdcs", "=", "get", "default", "(", "str", ",", "realm", ")", ";", "if", "(", "kdcs", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "kdcs", ";", "}"], "new_code": "public string get kdclist ( string realm ) throws krb exception { if ( realm = = null ) { realm = get default realm ( ) ; } exception cause = null ; string kdcs = get default ( str , realm ) ; if ( kdcs = = null ) { kdcs = java . security . access controller . do privileged ( new java . security . privileged action < string > ( ) { @ override public string run ( ) { string osname = system . get property ( str ) ; if ( osname . starts with ( str ) ) { string logon server = system . getenv ( str ) ; if ( logon server ! = null & & logon server . starts with ( str ) ) { logon server = logon server . substring ( num ) ; } return logon server ; } return null ; } } ) ; } if ( kdcs = = null ) { krb exception ke = new krb exception ( str ) ; if ( cause ! = null ) { ke . init cause ( cause ) ; } throw ke ; } return kdcs ; }", "new_code_tokens": ["public", "string", "get", "kdclist", "(", "string", "realm", ")", "throws", "krb", "exception", "{", "if", "(", "realm", "=", "=", "null", ")", "{", "realm", "=", "get", "default", "realm", "(", ")", ";", "}", "exception", "cause", "=", "null", ";", "string", "kdcs", "=", "get", "default", "(", "str", ",", "realm", ")", ";", "if", "(", "kdcs", "=", "=", "null", ")", "{", "kdcs", "=", "java", ".", "security", ".", "access", "controller", ".", "do", "privileged", "(", "new", "java", ".", "security", ".", "privileged", "action", "<", "string", ">", "(", ")", "{", "@", "override", "public", "string", "run", "(", ")", "{", "string", "osname", "=", "system", ".", "get", "property", "(", "str", ")", ";", "if", "(", "osname", ".", "starts", "with", "(", "str", ")", ")", "{", "string", "logon", "server", "=", "system", ".", "getenv", "(", "str", ")", ";", "if", "(", "logon", "server", "!", "=", "null", "&", "&", "logon", "server", ".", "starts", "with", "(", "str", ")", ")", "{", "logon", "server", "=", "logon", "server", ".", "substring", "(", "num", ")", ";", "}", "return", "logon", "server", ";", "}", "return", "null", ";", "}", "}", ")", ";", "}", "if", "(", "kdcs", "=", "=", "null", ")", "{", "krb", "exception", "ke", "=", "new", "krb", "exception", "(", "str", ")", ";", "if", "(", "cause", "!", "=", "null", ")", "{", "ke", ".", "init", "cause", "(", "cause", ")", ";", "}", "throw", "ke", ";", "}", "return", "kdcs", ";", "}"], "span_diff_code": "<KEEP> public string get kdclist ( string realm ) <KEEP_END> <INSERT> throws krb exception <INSERT_END> <KEEP> { if ( realm = = null ) { realm = get default realm ( ) ; } <KEEP_END> <INSERT> exception cause = null ; <INSERT_END> <KEEP> string kdcs = get default ( str , realm ) ; if ( kdcs = = null ) { <KEEP_END> <INSERT> kdcs = java . security . access controller . do privileged ( new java . security . privileged action < string > ( ) { @ override public string run ( ) { string osname = system . get property ( str ) ; if ( osname . starts with ( str ) ) { string logon server = system . getenv ( str ) ; if ( logon server ! = null & & logon server . starts with ( str ) ) { logon server = logon server . substring ( num ) ; } <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> logon server <REPLACE_END> <KEEP> ; } return <KEEP_END> <REPLACE_OLD> kdcs ; } <REPLACE_NEW> null ; } } ) ; } if ( kdcs = = null ) { krb exception ke = new krb exception ( str ) ; if ( cause ! = null ) { ke . init cause ( cause ) ; } throw ke ; } return kdcs ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "kdclist", "(", "string", "realm", ")", "<KEEP_END>", "<INSERT>", "throws", "krb", "exception", "<INSERT_END>", "<KEEP>", "{", "if", "(", "realm", "=", "=", "null", ")", "{", "realm", "=", "get", "default", "realm", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "exception", "cause", "=", "null", ";", "<INSERT_END>", "<KEEP>", "string", "kdcs", "=", "get", "default", "(", "str", ",", "realm", ")", ";", "if", "(", "kdcs", "=", "=", "null", ")", "{", "<KEEP_END>", "<INSERT>", "kdcs", "=", "java", ".", "security", ".", "access", "controller", ".", "do", "privileged", "(", "new", "java", ".", "security", ".", "privileged", "action", "<", "string", ">", "(", ")", "{", "@", "override", "public", "string", "run", "(", ")", "{", "string", "osname", "=", "system", ".", "get", "property", "(", "str", ")", ";", "if", "(", "osname", ".", "starts", "with", "(", "str", ")", ")", "{", "string", "logon", "server", "=", "system", ".", "getenv", "(", "str", ")", ";", "if", "(", "logon", "server", "!", "=", "null", "&", "&", "logon", "server", ".", "starts", "with", "(", "str", ")", ")", "{", "logon", "server", "=", "logon", "server", ".", "substring", "(", "num", ")", ";", "}", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "logon", "server", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "kdcs", ";", "}", "<REPLACE_NEW>", "null", ";", "}", "}", ")", ";", "}", "if", "(", "kdcs", "=", "=", "null", ")", "{", "krb", "exception", "ke", "=", "new", "krb", "exception", "(", "str", ")", ";", "if", "(", "cause", "!", "=", "null", ")", "{", "ke", ".", "init", "cause", "(", "cause", ")", ";", "}", "throw", "ke", ";", "}", "return", "kdcs", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> kdcs <INSERT_NEW_KEEP_BEFORE> kdcs separated by a space , always non null <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "kdcs", "<INSERT_NEW_KEEP_BEFORE>", "kdcs", "separated", "by", "a", "space", ",", "always", "non", "null", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "kdclist", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "realm", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "krb", "<INSERT>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "realm", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "realm", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "exception", "<INSERT>", "cause", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "string", "<KEEP>", "kdcs", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "realm", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "kdcs", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "kdcs", "<INSERT>", "=", "<INSERT>", "java", "<INSERT>", ".", "<INSERT>", "security", "<INSERT>", ".", "<INSERT>", "access", "<INSERT>", "controller", "<INSERT>", ".", "<INSERT>", "do", "<INSERT>", "privileged", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "java", "<INSERT>", ".", "<INSERT>", "security", "<INSERT>", ".", "<INSERT>", "privileged", "<INSERT>", "action", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "@", "<INSERT>", "override", "<INSERT>", "public", "<INSERT>", "string", "<INSERT>", "run", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "osname", "<INSERT>", "=", "<INSERT>", "system", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "property", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "osname", "<INSERT>", ".", "<INSERT>", "starts", "<INSERT>", "with", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "logon", "<INSERT>", "server", "<INSERT>", "=", "<INSERT>", "system", "<INSERT>", ".", "<INSERT>", "getenv", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "logon", "<INSERT>", "server", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "logon", "<INSERT>", "server", "<INSERT>", ".", "<INSERT>", "starts", "<INSERT>", "with", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "logon", "<INSERT>", "server", "<INSERT>", "=", "<INSERT>", "logon", "<INSERT>", "server", "<INSERT>", ".", "<INSERT>", "substring", "<INSERT>", "(", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "logon", "<REPLACE_NEW>", "server", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "kdcs", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "kdcs", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "krb", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "ke", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "krb", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cause", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "ke", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "init", "<REPLACE_NEW>", "cause", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cause", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "ke", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "kdcs", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_hourparser-1-3969", "old_comment": "the time of the last record or null if there are no records", "old_comment_tokens": ["the", "time", "of", "the", "last", "record", "or", "null", "if", "there", "are", "no", "records"], "new_comment": "the time of the last record , or the current time if there are no records", "new_comment_tokens": ["the", "time", "of", "the", "last", "record", ",", "or", "the", "current", "time", "if", "there", "are", "no", "records"], "old_code": "public date get end ( ) { if ( records . size ( ) = = num ) { return null ; } else { date last = records . get ( num ) . get date ( ) ; for ( entry e : records ) { if ( e . get date ( ) . after ( last ) ) { last = e . get date ( ) ; } } return last ; } }", "old_code_tokens": ["public", "date", "get", "end", "(", ")", "{", "if", "(", "records", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "null", ";", "}", "else", "{", "date", "last", "=", "records", ".", "get", "(", "num", ")", ".", "get", "date", "(", ")", ";", "for", "(", "entry", "e", ":", "records", ")", "{", "if", "(", "e", ".", "get", "date", "(", ")", ".", "after", "(", "last", ")", ")", "{", "last", "=", "e", ".", "get", "date", "(", ")", ";", "}", "}", "return", "last", ";", "}", "}"], "new_code": "public date get end ( ) { if ( records . size ( ) = = num ) { return new date ( ) ; } else { date last = records . get ( num ) . get date ( ) ; for ( entry e : records ) { if ( e . get date ( ) . after ( last ) ) { last = e . get date ( ) ; } } return last ; } }", "new_code_tokens": ["public", "date", "get", "end", "(", ")", "{", "if", "(", "records", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "new", "date", "(", ")", ";", "}", "else", "{", "date", "last", "=", "records", ".", "get", "(", "num", ")", ".", "get", "date", "(", ")", ";", "for", "(", "entry", "e", ":", "records", ")", "{", "if", "(", "e", ".", "get", "date", "(", ")", ".", "after", "(", "last", ")", ")", "{", "last", "=", "e", ".", "get", "date", "(", ")", ";", "}", "}", "return", "last", ";", "}", "}"], "span_diff_code": "<KEEP> public date get end ( ) { if ( records . size ( ) = = num ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new date ( ) <REPLACE_END> <KEEP> ; } else { date last = records . get ( num ) . get date ( ) ; for ( entry e : records ) { if ( e . get date ( ) . after ( last ) ) { last = e . get date ( ) ; } } return last ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "date", "get", "end", "(", ")", "{", "if", "(", "records", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "date", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "date", "last", "=", "records", ".", "get", "(", "num", ")", ".", "get", "date", "(", ")", ";", "for", "(", "entry", "e", ":", "records", ")", "{", "if", "(", "e", ".", "get", "date", "(", ")", ".", "after", "(", "last", ")", ")", "{", "last", "=", "e", ".", "get", "date", "(", ")", ";", "}", "}", "return", "last", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> record <INSERT_NEW_KEEP_BEFORE> record , <INSERT_END> <REPLACE_OLD> null <REPLACE_NEW> the current time <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "record", "<INSERT_NEW_KEEP_BEFORE>", "record", ",", "<INSERT_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "the", "current", "time", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "date", "<KEEP>", "get", "<KEEP>", "end", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "records", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "date", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "date", "<KEEP>", "last", "<KEEP>", "=", "<KEEP>", "records", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "e", "<KEEP>", ":", "<KEEP>", "records", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "after", "<KEEP>", "(", "<KEEP>", "last", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "last", "<KEEP>", "=", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "last", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_geronimo-specs-19-3713", "old_comment": "the factory that creates entity managers configured according to the specified persistence unit .", "old_comment_tokens": ["the", "factory", "that", "creates", "entity", "managers", "configured", "according", "to", "the", "specified", "persistence", "unit", "."], "new_comment": "the factory for the specified persistence unit or null if none are applicable .", "new_comment_tokens": ["the", "factory", "for", "the", "specified", "persistence", "unit", "or", "null", "if", "none", "are", "applicable", "."], "old_code": "public static entity manager factory create entity manager factory ( string persistence unit name , map properties ) { entity manager factory factory = null ; if ( properties = = null ) { properties = collections . empty _ map ; } object provider name = properties . get ( persistence _ provider _ property ) ; if ( provider name instanceof string ) { factory = create factory ( provider name . to string ( ) , persistence unit name , properties ) ; } if ( factory = = null ) { persistence provider resolver resolver = persistence provider resolver holder . get persistence provider resolver ( ) ; list < persistence provider > providers = resolver . get persistence providers ( ) ; for ( persistence provider provider : providers ) { try { factory = provider . create entity manager factory ( persistence unit name , properties ) ; } catch ( exception e ) { throw new persistence exception ( str + provider name , e ) ; } if ( factory ! = null ) { break ; } } } return factory ; }", "old_code_tokens": ["public", "static", "entity", "manager", "factory", "create", "entity", "manager", "factory", "(", "string", "persistence", "unit", "name", ",", "map", "properties", ")", "{", "entity", "manager", "factory", "factory", "=", "null", ";", "if", "(", "properties", "=", "=", "null", ")", "{", "properties", "=", "collections", ".", "empty", "_", "map", ";", "}", "object", "provider", "name", "=", "properties", ".", "get", "(", "persistence", "_", "provider", "_", "property", ")", ";", "if", "(", "provider", "name", "instanceof", "string", ")", "{", "factory", "=", "create", "factory", "(", "provider", "name", ".", "to", "string", "(", ")", ",", "persistence", "unit", "name", ",", "properties", ")", ";", "}", "if", "(", "factory", "=", "=", "null", ")", "{", "persistence", "provider", "resolver", "resolver", "=", "persistence", "provider", "resolver", "holder", ".", "get", "persistence", "provider", "resolver", "(", ")", ";", "list", "<", "persistence", "provider", ">", "providers", "=", "resolver", ".", "get", "persistence", "providers", "(", ")", ";", "for", "(", "persistence", "provider", "provider", ":", "providers", ")", "{", "try", "{", "factory", "=", "provider", ".", "create", "entity", "manager", "factory", "(", "persistence", "unit", "name", ",", "properties", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "persistence", "exception", "(", "str", "+", "provider", "name", ",", "e", ")", ";", "}", "if", "(", "factory", "!", "=", "null", ")", "{", "break", ";", "}", "}", "}", "return", "factory", ";", "}"], "new_code": "public static entity manager factory create entity manager factory ( string persistence unit name , map properties ) { entity manager factory factory = null ; map props = properties ; if ( props = = null ) { props = collections . empty _ map ; } persistence provider resolver resolver = persistence provider resolver holder . get persistence provider resolver ( ) ; list < persistence provider > providers = resolver . get persistence providers ( ) ; object provider name = props . get ( persistence _ provider _ property ) ; if ( ( provider name ! = null ) & & ( provider name instanceof string ) ) { boolean is loaded = false ; for ( persistence provider provider : providers ) { if ( provider . get class ( ) . get name ( ) . compare to ( provider name . to string ( ) ) = = num ) { is loaded = true ; break ; } } if ( ! is loaded ) { factory = create factory ( provider name . to string ( ) , persistence unit name , props ) ; if ( factory ! = null ) { return factory ; } } } if ( providers . size ( ) = = num ) { return providers . get ( num ) . create entity manager factory ( persistence unit name , props ) ; } else { for ( persistence provider provider : providers ) { try { factory = provider . create entity manager factory ( persistence unit name , props ) ; } catch ( exception e ) { } if ( factory ! = null ) { return factory ; } } } throw new persistence exception ( str + persistence unit name ) ; }", "new_code_tokens": ["public", "static", "entity", "manager", "factory", "create", "entity", "manager", "factory", "(", "string", "persistence", "unit", "name", ",", "map", "properties", ")", "{", "entity", "manager", "factory", "factory", "=", "null", ";", "map", "props", "=", "properties", ";", "if", "(", "props", "=", "=", "null", ")", "{", "props", "=", "collections", ".", "empty", "_", "map", ";", "}", "persistence", "provider", "resolver", "resolver", "=", "persistence", "provider", "resolver", "holder", ".", "get", "persistence", "provider", "resolver", "(", ")", ";", "list", "<", "persistence", "provider", ">", "providers", "=", "resolver", ".", "get", "persistence", "providers", "(", ")", ";", "object", "provider", "name", "=", "props", ".", "get", "(", "persistence", "_", "provider", "_", "property", ")", ";", "if", "(", "(", "provider", "name", "!", "=", "null", ")", "&", "&", "(", "provider", "name", "instanceof", "string", ")", ")", "{", "boolean", "is", "loaded", "=", "false", ";", "for", "(", "persistence", "provider", "provider", ":", "providers", ")", "{", "if", "(", "provider", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", ".", "compare", "to", "(", "provider", "name", ".", "to", "string", "(", ")", ")", "=", "=", "num", ")", "{", "is", "loaded", "=", "true", ";", "break", ";", "}", "}", "if", "(", "!", "is", "loaded", ")", "{", "factory", "=", "create", "factory", "(", "provider", "name", ".", "to", "string", "(", ")", ",", "persistence", "unit", "name", ",", "props", ")", ";", "if", "(", "factory", "!", "=", "null", ")", "{", "return", "factory", ";", "}", "}", "}", "if", "(", "providers", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "providers", ".", "get", "(", "num", ")", ".", "create", "entity", "manager", "factory", "(", "persistence", "unit", "name", ",", "props", ")", ";", "}", "else", "{", "for", "(", "persistence", "provider", "provider", ":", "providers", ")", "{", "try", "{", "factory", "=", "provider", ".", "create", "entity", "manager", "factory", "(", "persistence", "unit", "name", ",", "props", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "}", "if", "(", "factory", "!", "=", "null", ")", "{", "return", "factory", ";", "}", "}", "}", "throw", "new", "persistence", "exception", "(", "str", "+", "persistence", "unit", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public static entity manager factory create entity manager factory ( string persistence unit name , map properties ) { entity manager factory factory = null ; <KEEP_END> <REPLACE_OLD> if ( <REPLACE_NEW> map props = <REPLACE_END> <KEEP> properties <KEEP_END> <REPLACE_OLD> = = null ) { properties <REPLACE_NEW> ; if ( props = = null ) { props <REPLACE_END> <KEEP> = collections . empty _ map ; } <KEEP_END> <INSERT> persistence provider resolver resolver = persistence provider resolver holder . get persistence provider resolver ( ) ; list < persistence provider > providers = resolver . get persistence providers ( ) ; <INSERT_END> <KEEP> object provider name = <KEEP_END> <REPLACE_OLD> properties <REPLACE_NEW> props <REPLACE_END> <KEEP> . get ( persistence _ provider _ property ) ; if ( <KEEP_END> <INSERT> ( provider name ! = null ) & & ( <INSERT_END> <KEEP> provider name instanceof string ) <KEEP_END> <REPLACE_OLD> { factory = create factory <REPLACE_NEW> ) { boolean is loaded = false ; for ( persistence provider provider : providers ) { if ( provider . get class ( ) . get name ( ) . compare to <REPLACE_END> <KEEP> ( provider name . to string ( ) <KEEP_END> <REPLACE_OLD> , persistence unit name , properties ) ; } if ( factory = = null ) { persistence provider resolver resolver = persistence provider resolver holder . get persistence provider resolver ( ) ; list < persistence provider > providers = resolver . get persistence providers ( ) ; <REPLACE_NEW> ) = = num ) { is loaded = true ; break ; } } if ( ! is loaded ) { factory = create factory ( provider name . to string ( ) , persistence unit name , props ) ; if ( factory ! = null ) { return factory ; } } } if ( providers . size ( ) = = num ) { return providers . get ( num ) . create entity manager factory ( persistence unit name , props ) ; } else { <REPLACE_END> <KEEP> for ( persistence provider provider : providers ) { try { factory = provider . create entity manager factory ( persistence unit name , <KEEP_END> <REPLACE_OLD> properties <REPLACE_NEW> props <REPLACE_END> <KEEP> ) ; } catch ( exception e ) { <KEEP_END> <INSERT> } if ( factory ! = null ) { return factory ; } } } <INSERT_END> <KEEP> throw new persistence exception ( str + <KEEP_END> <REPLACE_OLD> provider name , e ) ; } if ( factory ! = null ) { break ; } } } return factory ; } <REPLACE_NEW> persistence unit name ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "entity", "manager", "factory", "create", "entity", "manager", "factory", "(", "string", "persistence", "unit", "name", ",", "map", "properties", ")", "{", "entity", "manager", "factory", "factory", "=", "null", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "<REPLACE_NEW>", "map", "props", "=", "<REPLACE_END>", "<KEEP>", "properties", "<KEEP_END>", "<REPLACE_OLD>", "=", "=", "null", ")", "{", "properties", "<REPLACE_NEW>", ";", "if", "(", "props", "=", "=", "null", ")", "{", "props", "<REPLACE_END>", "<KEEP>", "=", "collections", ".", "empty", "_", "map", ";", "}", "<KEEP_END>", "<INSERT>", "persistence", "provider", "resolver", "resolver", "=", "persistence", "provider", "resolver", "holder", ".", "get", "persistence", "provider", "resolver", "(", ")", ";", "list", "<", "persistence", "provider", ">", "providers", "=", "resolver", ".", "get", "persistence", "providers", "(", ")", ";", "<INSERT_END>", "<KEEP>", "object", "provider", "name", "=", "<KEEP_END>", "<REPLACE_OLD>", "properties", "<REPLACE_NEW>", "props", "<REPLACE_END>", "<KEEP>", ".", "get", "(", "persistence", "_", "provider", "_", "property", ")", ";", "if", "(", "<KEEP_END>", "<INSERT>", "(", "provider", "name", "!", "=", "null", ")", "&", "&", "(", "<INSERT_END>", "<KEEP>", "provider", "name", "instanceof", "string", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "factory", "=", "create", "factory", "<REPLACE_NEW>", ")", "{", "boolean", "is", "loaded", "=", "false", ";", "for", "(", "persistence", "provider", "provider", ":", "providers", ")", "{", "if", "(", "provider", ".", "get", "class", "(", ")", ".", "get", "name", "(", ")", ".", "compare", "to", "<REPLACE_END>", "<KEEP>", "(", "provider", "name", ".", "to", "string", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "persistence", "unit", "name", ",", "properties", ")", ";", "}", "if", "(", "factory", "=", "=", "null", ")", "{", "persistence", "provider", "resolver", "resolver", "=", "persistence", "provider", "resolver", "holder", ".", "get", "persistence", "provider", "resolver", "(", ")", ";", "list", "<", "persistence", "provider", ">", "providers", "=", "resolver", ".", "get", "persistence", "providers", "(", ")", ";", "<REPLACE_NEW>", ")", "=", "=", "num", ")", "{", "is", "loaded", "=", "true", ";", "break", ";", "}", "}", "if", "(", "!", "is", "loaded", ")", "{", "factory", "=", "create", "factory", "(", "provider", "name", ".", "to", "string", "(", ")", ",", "persistence", "unit", "name", ",", "props", ")", ";", "if", "(", "factory", "!", "=", "null", ")", "{", "return", "factory", ";", "}", "}", "}", "if", "(", "providers", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "providers", ".", "get", "(", "num", ")", ".", "create", "entity", "manager", "factory", "(", "persistence", "unit", "name", ",", "props", ")", ";", "}", "else", "{", "<REPLACE_END>", "<KEEP>", "for", "(", "persistence", "provider", "provider", ":", "providers", ")", "{", "try", "{", "factory", "=", "provider", ".", "create", "entity", "manager", "factory", "(", "persistence", "unit", "name", ",", "<KEEP_END>", "<REPLACE_OLD>", "properties", "<REPLACE_NEW>", "props", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "<KEEP_END>", "<INSERT>", "}", "if", "(", "factory", "!", "=", "null", ")", "{", "return", "factory", ";", "}", "}", "}", "<INSERT_END>", "<KEEP>", "throw", "new", "persistence", "exception", "(", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "provider", "name", ",", "e", ")", ";", "}", "if", "(", "factory", "!", "=", "null", ")", "{", "break", ";", "}", "}", "}", "return", "factory", ";", "}", "<REPLACE_NEW>", "persistence", "unit", "name", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> that creates entity managers configured according to <REPLACE_NEW> for <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> unit <INSERT_NEW_KEEP_BEFORE> unit or null if none are applicable <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "that", "creates", "entity", "managers", "configured", "according", "to", "<REPLACE_NEW>", "for", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "unit", "<INSERT_NEW_KEEP_BEFORE>", "unit", "or", "null", "if", "none", "are", "applicable", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "entity", "<KEEP>", "manager", "<KEEP>", "factory", "<KEEP>", "create", "<KEEP>", "entity", "<KEEP>", "manager", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "persistence", "<KEEP>", "unit", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "map", "<KEEP>", "properties", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "entity", "<KEEP>", "manager", "<KEEP>", "factory", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", "=", "<KEEP>", "properties", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "properties", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "props", "<KEEP>", "=", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "empty", "<KEEP>", "_", "<KEEP>", "map", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "persistence", "<INSERT>", "provider", "<INSERT>", "resolver", "<INSERT>", "resolver", "<INSERT>", "=", "<INSERT>", "persistence", "<INSERT>", "provider", "<INSERT>", "resolver", "<INSERT>", "holder", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "persistence", "<INSERT>", "provider", "<INSERT>", "resolver", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "persistence", "<INSERT>", "provider", "<INSERT>", ">", "<INSERT>", "providers", "<INSERT>", "=", "<INSERT>", "resolver", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "persistence", "<INSERT>", "providers", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "object", "<KEEP>", "provider", "<KEEP>", "name", "<KEEP>", "=", "<REPLACE_OLD>", "properties", "<REPLACE_NEW>", "props", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "persistence", "<KEEP>", "_", "<KEEP>", "provider", "<KEEP>", "_", "<KEEP>", "property", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "(", "<INSERT>", "provider", "<INSERT>", "name", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "(", "<KEEP>", "provider", "<KEEP>", "name", "<KEEP>", "instanceof", "<KEEP>", "string", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "factory", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "create", "<REPLACE_OLD>", "factory", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "loaded", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "persistence", "<REPLACE_NEW>", "provider", "<REPLACE_NEW>", "provider", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "providers", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "provider", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "compare", "<REPLACE_NEW>", "to", "<KEEP>", "(", "<KEEP>", "provider", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "persistence", "<REPLACE_OLD>", "unit", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "properties", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "factory", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "persistence", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", "resolver", "<REPLACE_OLD>", "resolver", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "persistence", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", "resolver", "<REPLACE_OLD>", "holder", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "persistence", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", "resolver", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "persistence", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "providers", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "resolver", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "persistence", "<REPLACE_OLD>", "providers", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "loaded", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "break", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "loaded", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "provider", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "persistence", "<REPLACE_NEW>", "unit", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "providers", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "providers", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "entity", "<REPLACE_NEW>", "manager", "<REPLACE_NEW>", "factory", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "persistence", "<REPLACE_NEW>", "unit", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "props", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "persistence", "<KEEP>", "provider", "<KEEP>", "provider", "<KEEP>", ":", "<KEEP>", "providers", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "provider", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "entity", "<KEEP>", "manager", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "persistence", "<KEEP>", "unit", "<KEEP>", "name", "<KEEP>", ",", "<REPLACE_OLD>", "properties", "<REPLACE_NEW>", "props", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "factory", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "factory", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "persistence", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "provider", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "factory", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "factory", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "persistence", "<REPLACE_NEW>", "unit", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "mulesoft_google-connectors-suite-6-7323", "old_comment": "a list with instances of org . mule . module . google . drive . model . comment", "old_comment_tokens": ["a", "list", "with", "instances", "of", "org", ".", "mule", ".", "module", ".", "google", ".", "drive", ".", "model", ".", "comment"], "new_comment": "a paginated iterator with instances of org . mule . module . google . drive . model . comment", "new_comment_tokens": ["a", "paginated", "iterator", "with", "instances", "of", "org", ".", "mule", ".", "module", ".", "google", ".", "drive", ".", "model", ".", "comment"], "old_code": "@ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ inject public list < comment > list comments ( mule message message , string file id , @ optional @ default ( str ) boolean include deleted , @ optional @ default ( str ) int max results , @ optional @ default ( str ) string page token , @ optional string updated min ) throws ioexception { comment list response = this . client . comments ( ) . list ( file id ) . set include deleted ( include deleted ) . set max results ( max results ) . set page token ( page token ) . set updated min ( updated min ) . execute ( ) ; pagination utils . save page token ( next _ page _ token , response . get next page token ( ) , message ) ; return comment . value of ( response . get items ( ) , comment . class ) ; }", "old_code_tokens": ["@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "inject", "public", "list", "<", "comment", ">", "list", "comments", "(", "mule", "message", "message", ",", "string", "file", "id", ",", "@", "optional", "@", "default", "(", "str", ")", "boolean", "include", "deleted", ",", "@", "optional", "@", "default", "(", "str", ")", "int", "max", "results", ",", "@", "optional", "@", "default", "(", "str", ")", "string", "page", "token", ",", "@", "optional", "string", "updated", "min", ")", "throws", "ioexception", "{", "comment", "list", "response", "=", "this", ".", "client", ".", "comments", "(", ")", ".", "list", "(", "file", "id", ")", ".", "set", "include", "deleted", "(", "include", "deleted", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "page", "token", ")", ".", "set", "updated", "min", "(", "updated", "min", ")", ".", "execute", "(", ")", ";", "pagination", "utils", ".", "save", "page", "token", "(", "next", "_", "page", "_", "token", ",", "response", ".", "get", "next", "page", "token", "(", ")", ",", "message", ")", ";", "return", "comment", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "comment", ".", "class", ")", ";", "}"], "new_code": "@ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ paged public paging delegate < comment > list comments ( final string file id , @ optional @ default ( str ) final boolean include deleted , @ optional @ default ( str ) final int max results , @ optional final string updated min , final paging configuration paging configuration ) throws ioexception { return new token based paging delegate < comment > ( ) { @ override protected list < comment > do get page ( ) throws ioexception { comment list response = client . comments ( ) . list ( file id ) . set include deleted ( include deleted ) . set max results ( max results ) . set page token ( this . get page token ( ) ) . set updated min ( updated min ) . execute ( ) ; this . set page token ( response . get next page token ( ) ) ; return comment . value of ( response . get items ( ) , comment . class ) ; } } ; }", "new_code_tokens": ["@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "paged", "public", "paging", "delegate", "<", "comment", ">", "list", "comments", "(", "final", "string", "file", "id", ",", "@", "optional", "@", "default", "(", "str", ")", "final", "boolean", "include", "deleted", ",", "@", "optional", "@", "default", "(", "str", ")", "final", "int", "max", "results", ",", "@", "optional", "final", "string", "updated", "min", ",", "final", "paging", "configuration", "paging", "configuration", ")", "throws", "ioexception", "{", "return", "new", "token", "based", "paging", "delegate", "<", "comment", ">", "(", ")", "{", "@", "override", "protected", "list", "<", "comment", ">", "do", "get", "page", "(", ")", "throws", "ioexception", "{", "comment", "list", "response", "=", "client", ".", "comments", "(", ")", ".", "list", "(", "file", "id", ")", ".", "set", "include", "deleted", "(", "include", "deleted", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "this", ".", "get", "page", "token", "(", ")", ")", ".", "set", "updated", "min", "(", "updated", "min", ")", ".", "execute", "(", ")", ";", "this", ".", "set", "page", "token", "(", "response", ".", "get", "next", "page", "token", "(", ")", ")", ";", "return", "comment", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "comment", ".", "class", ")", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> @ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ <KEEP_END> <REPLACE_OLD> inject <REPLACE_NEW> paged <REPLACE_END> <KEEP> public <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> paging delegate <REPLACE_END> <KEEP> < comment > list comments ( <KEEP_END> <REPLACE_OLD> mule message message , <REPLACE_NEW> final <REPLACE_END> <KEEP> string file id , @ optional @ default ( str ) <KEEP_END> <INSERT> final <INSERT_END> <KEEP> boolean include deleted , @ optional @ default ( str ) <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int max results , @ optional <KEEP_END> <REPLACE_OLD> @ default ( str ) string page token , @ optional <REPLACE_NEW> final <REPLACE_END> <KEEP> string updated min <KEEP_END> <INSERT> , final paging configuration paging configuration ) throws ioexception { return new token based paging delegate < comment > ( ) { @ override protected list < comment > do get page ( <INSERT_END> <KEEP> ) throws ioexception { comment list response = <KEEP_END> <DELETE> this . <DELETE_END> <KEEP> client . comments ( ) . list ( file id ) . set include deleted ( include deleted ) . set max results ( max results ) . set page token ( <KEEP_END> <INSERT> this . get <INSERT_END> <KEEP> page token <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) . set updated min ( updated min ) . execute ( ) ; <KEEP_END> <REPLACE_OLD> pagination utils <REPLACE_NEW> this <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> save <REPLACE_NEW> set <REPLACE_END> <KEEP> page token ( <KEEP_END> <DELETE> next _ page _ token , <DELETE_END> <KEEP> response . get next page token ( ) <KEEP_END> <DELETE> , message <DELETE_END> <KEEP> ) ; return comment . value of ( response . get items ( ) , comment . class ) ; } <KEEP_END> <INSERT> } ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "<KEEP_END>", "<REPLACE_OLD>", "inject", "<REPLACE_NEW>", "paged", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paging", "delegate", "<REPLACE_END>", "<KEEP>", "<", "comment", ">", "list", "comments", "(", "<KEEP_END>", "<REPLACE_OLD>", "mule", "message", "message", ",", "<REPLACE_NEW>", "final", "<REPLACE_END>", "<KEEP>", "string", "file", "id", ",", "@", "optional", "@", "default", "(", "str", ")", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "boolean", "include", "deleted", ",", "@", "optional", "@", "default", "(", "str", ")", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "max", "results", ",", "@", "optional", "<KEEP_END>", "<REPLACE_OLD>", "@", "default", "(", "str", ")", "string", "page", "token", ",", "@", "optional", "<REPLACE_NEW>", "final", "<REPLACE_END>", "<KEEP>", "string", "updated", "min", "<KEEP_END>", "<INSERT>", ",", "final", "paging", "configuration", "paging", "configuration", ")", "throws", "ioexception", "{", "return", "new", "token", "based", "paging", "delegate", "<", "comment", ">", "(", ")", "{", "@", "override", "protected", "list", "<", "comment", ">", "do", "get", "page", "(", "<INSERT_END>", "<KEEP>", ")", "throws", "ioexception", "{", "comment", "list", "response", "=", "<KEEP_END>", "<DELETE>", "this", ".", "<DELETE_END>", "<KEEP>", "client", ".", "comments", "(", ")", ".", "list", "(", "file", "id", ")", ".", "set", "include", "deleted", "(", "include", "deleted", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "<KEEP_END>", "<INSERT>", "this", ".", "get", "<INSERT_END>", "<KEEP>", "page", "token", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ".", "set", "updated", "min", "(", "updated", "min", ")", ".", "execute", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "pagination", "utils", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "save", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "page", "token", "(", "<KEEP_END>", "<DELETE>", "next", "_", "page", "_", "token", ",", "<DELETE_END>", "<KEEP>", "response", ".", "get", "next", "page", "token", "(", ")", "<KEEP_END>", "<DELETE>", ",", "message", "<DELETE_END>", "<KEEP>", ")", ";", "return", "comment", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "comment", ".", "class", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> paginated iterator <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paginated", "iterator", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "processor", "<KEEP>", "@", "<KEEP>", "oauth", "<KEEP>", "protected", "<KEEP>", "@", "<KEEP>", "oauth", "<KEEP>", "invalidate", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "oauth", "<KEEP>", "token", "<KEEP>", "expired", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "@", "<REPLACE_OLD>", "inject", "<REPLACE_NEW>", "paged", "<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paging", "<REPLACE_NEW>", "delegate", "<KEEP>", "<", "<KEEP>", "comment", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "comments", "<KEEP>", "(", "<REPLACE_OLD>", "mule", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", "final", "<KEEP>", "string", "<KEEP>", "file", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<KEEP>", "@", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", "final", "<KEEP>", "boolean", "<KEEP>", "include", "<KEEP>", "deleted", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<KEEP>", "@", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "page", "<REPLACE_OLD>", "token", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "optional", "<REPLACE_NEW>", "final", "<KEEP>", "string", "<KEEP>", "updated", "<KEEP>", "min", "<INSERT>", ",", "<INSERT>", "final", "<INSERT>", "paging", "<INSERT>", "configuration", "<INSERT>", "paging", "<INSERT>", "configuration", "<INSERT>", ")", "<INSERT>", "throws", "<INSERT>", "ioexception", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "token", "<INSERT>", "based", "<INSERT>", "paging", "<INSERT>", "delegate", "<INSERT>", "<", "<INSERT>", "comment", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "@", "<INSERT>", "override", "<INSERT>", "protected", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "comment", "<INSERT>", ">", "<INSERT>", "do", "<INSERT>", "get", "<INSERT>", "page", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "comment", "<KEEP>", "list", "<KEEP>", "response", "<KEEP>", "=", "<DELETE>", "this", "<DELETE>", ".", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "comments", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "include", "<KEEP>", "deleted", "<KEEP>", "(", "<KEEP>", "include", "<KEEP>", "deleted", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", "(", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "page", "<KEEP>", "token", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "updated", "<KEEP>", "min", "<KEEP>", "(", "<KEEP>", "updated", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "pagination", "<REPLACE_OLD>", "utils", "<REPLACE_NEW>", "this", "<KEEP>", ".", "<REPLACE_OLD>", "save", "<REPLACE_NEW>", "set", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<DELETE>", "next", "<DELETE>", "_", "<DELETE>", "page", "<DELETE>", "_", "<DELETE>", "token", "<DELETE>", ",", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "next", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ",", "<DELETE>", "message", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "comment", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "items", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "comment", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "apache_kylin-8-2857", "old_comment": "cube request cube change request", "old_comment_tokens": ["cube", "request", "cube", "change", "request"], "new_comment": "table metadata array", "new_comment_tokens": ["table", "metadata", "array"], "old_code": "@ request mapping ( value = str , method = { request method . put } ) @ response body public cube request update cube desc ( @ request body cube request cube request ) throws json processing exception { cube desc desc = deserialize cube desc ( cube request ) ; if ( desc = = null ) { return cube request ; } final string cube name = cube request . get cube name ( ) ; if ( string utils . is empty ( cube name ) ) { return error request ( cube request , str ) ; } metadata manager metadata manager = metadata manager . get instance ( cube service . get config ( ) ) ; data model desc model desc = null ; data model desc old model desc = null ; if ( string utils . is not empty ( cube request . get model desc data ( ) ) ) { model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return cube request ; } final string mode name = model desc . get name ( ) ; if ( ! string utils . equals ( desc . get model name ( ) , mode name ) ) { return error request ( cube request , str + desc . get model name ( ) + str + mode name ) ; } old model desc = metadata manager . get data model desc ( mode name ) ; if ( old model desc = = null ) { return error request ( cube request , str + mode name + str ) ; } } if ( ! cube service . is cube desc editable ( desc ) ) { string error = str + desc . get name ( ) . to upper case ( ) + str ; return error request ( cube request , error ) ; } boolean update model success = false , update cube success = false ; try { if ( model desc ! = null ) { metadata manager . update data model desc ( model desc ) ; update model success = true ; } cube instance cube = cube service . get cube manager ( ) . get cube ( cube name ) ; string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; desc = cube service . update cube and desc ( cube , desc , project name ) ; project manager project manager = cube service . get project manager ( ) ; if ( ! cube service . is cube in project ( project name , cube ) ) { string owner = security context holder . get context ( ) . get authentication ( ) . get name ( ) ; project instance new project = project manager . move realization to project ( realization type . cube , cube . get name ( ) , project name , owner ) ; access service . inherit ( cube , new project ) ; } if ( desc . get error ( ) . is empty ( ) ) { cube request . set successful ( true ) ; update cube success = true ; } else { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; error request ( cube request , omit message ( desc . get error ( ) ) ) ; } } catch ( access denied exception access denied exception ) { throw new forbidden exception ( str ) ; } catch ( exception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } finally { if ( update model success = = true & & update cube success = = false ) { try { old model desc . set last modified ( model desc . get last modified ( ) ) ; metadata manager . update data model desc ( old model desc ) ; } catch ( ioexception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } } } string desc data = json util . write value as indent string ( desc ) ; cube request . set cube desc data ( desc data ) ; return cube request ; }", "old_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "put", "}", ")", "@", "response", "body", "public", "cube", "request", "update", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "throws", "json", "processing", "exception", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "cube", "name", "=", "cube", "request", ".", "get", "cube", "name", "(", ")", ";", "if", "(", "string", "utils", ".", "is", "empty", "(", "cube", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "metadata", "manager", "metadata", "manager", "=", "metadata", "manager", ".", "get", "instance", "(", "cube", "service", ".", "get", "config", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "null", ";", "data", "model", "desc", "old", "model", "desc", "=", "null", ";", "if", "(", "string", "utils", ".", "is", "not", "empty", "(", "cube", "request", ".", "get", "model", "desc", "data", "(", ")", ")", ")", "{", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "mode", "name", "=", "model", "desc", ".", "get", "name", "(", ")", ";", "if", "(", "!", "string", "utils", ".", "equals", "(", "desc", ".", "get", "model", "name", "(", ")", ",", "mode", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "desc", ".", "get", "model", "name", "(", ")", "+", "str", "+", "mode", "name", ")", ";", "}", "old", "model", "desc", "=", "metadata", "manager", ".", "get", "data", "model", "desc", "(", "mode", "name", ")", ";", "if", "(", "old", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "mode", "name", "+", "str", ")", ";", "}", "}", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "string", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ".", "to", "upper", "case", "(", ")", "+", "str", ";", "return", "error", "request", "(", "cube", "request", ",", "error", ")", ";", "}", "boolean", "update", "model", "success", "=", "false", ",", "update", "cube", "success", "=", "false", ";", "try", "{", "if", "(", "model", "desc", "!", "=", "null", ")", "{", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "update", "model", "success", "=", "true", ";", "}", "cube", "instance", "cube", "=", "cube", "service", ".", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "name", ")", ";", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "desc", "=", "cube", "service", ".", "update", "cube", "and", "desc", "(", "cube", ",", "desc", ",", "project", "name", ")", ";", "project", "manager", "project", "manager", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ";", "if", "(", "!", "cube", "service", ".", "is", "cube", "in", "project", "(", "project", "name", ",", "cube", ")", ")", "{", "string", "owner", "=", "security", "context", "holder", ".", "get", "context", "(", ")", ".", "get", "authentication", "(", ")", ".", "get", "name", "(", ")", ";", "project", "instance", "new", "project", "=", "project", "manager", ".", "move", "realization", "to", "project", "(", "realization", "type", ".", "cube", ",", "cube", ".", "get", "name", "(", ")", ",", "project", "name", ",", "owner", ")", ";", "access", "service", ".", "inherit", "(", "cube", ",", "new", "project", ")", ";", "}", "if", "(", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "update", "cube", "success", "=", "true", ";", "}", "else", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "error", "request", "(", "cube", "request", ",", "omit", "message", "(", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "}", "}", "catch", "(", "access", "denied", "exception", "access", "denied", "exception", ")", "{", "throw", "new", "forbidden", "exception", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "finally", "{", "if", "(", "update", "model", "success", "=", "=", "true", "&", "&", "update", "cube", "success", "=", "=", "false", ")", "{", "try", "{", "old", "model", "desc", ".", "set", "last", "modified", "(", "model", "desc", ".", "get", "last", "modified", "(", ")", ")", ";", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "old", "model", "desc", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "}", "string", "desc", "data", "=", "json", "util", ".", "write", "value", "as", "indent", "string", "(", "desc", ")", ";", "cube", "request", ".", "set", "cube", "desc", "data", "(", "desc", "data", ")", ";", "return", "cube", "request", ";", "}"], "new_code": "@ request mapping ( value = str , method = { request method . put } ) @ response body public cube request update cube desc ( @ request body cube request cube request ) throws json processing exception { cube desc desc = deserialize cube desc ( cube request ) ; cube desc old cube desc = null ; if ( desc = = null ) { return cube request ; } if ( ! cube service . is cube desc editable ( desc ) ) { string error = str + desc . get name ( ) ; update request ( cube request , false , error ) ; return cube request ; } if ( ! cube request . get cube name ( ) . equals ignore case ( cube service . get cube name from desc ( desc . get name ( ) ) ) ) { delete cube ( cube request . get cube name ( ) ) ; save cube desc ( cube request ) ; } string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; try { cube instance cube = cube service . get cube manager ( ) . get cube ( cube request . get cube name ( ) ) ; old cube desc = cube . get descriptor ( ) ; desc = cube service . update cube and desc ( cube , desc , project name ) ; } catch ( access denied exception access denied exception ) { throw new forbidden exception ( str ) ; } catch ( exception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } if ( ! desc . get error ( ) . is empty ( ) ) { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; update request ( cube request , false , omit message ( desc . get error ( ) ) ) ; return cube request ; } string desc data = json util . write value as indent string ( desc ) ; cube request . set cube desc data ( desc data ) ; cube request . set successful ( true ) ; return cube request ; }", "new_code_tokens": ["@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "put", "}", ")", "@", "response", "body", "public", "cube", "request", "update", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "throws", "json", "processing", "exception", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "cube", "desc", "old", "cube", "desc", "=", "null", ";", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "string", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ";", "update", "request", "(", "cube", "request", ",", "false", ",", "error", ")", ";", "return", "cube", "request", ";", "}", "if", "(", "!", "cube", "request", ".", "get", "cube", "name", "(", ")", ".", "equals", "ignore", "case", "(", "cube", "service", ".", "get", "cube", "name", "from", "desc", "(", "desc", ".", "get", "name", "(", ")", ")", ")", ")", "{", "delete", "cube", "(", "cube", "request", ".", "get", "cube", "name", "(", ")", ")", ";", "save", "cube", "desc", "(", "cube", "request", ")", ";", "}", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "try", "{", "cube", "instance", "cube", "=", "cube", "service", ".", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "request", ".", "get", "cube", "name", "(", ")", ")", ";", "old", "cube", "desc", "=", "cube", ".", "get", "descriptor", "(", ")", ";", "desc", "=", "cube", "service", ".", "update", "cube", "and", "desc", "(", "cube", ",", "desc", ",", "project", "name", ")", ";", "}", "catch", "(", "access", "denied", "exception", "access", "denied", "exception", ")", "{", "throw", "new", "forbidden", "exception", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "if", "(", "!", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "update", "request", "(", "cube", "request", ",", "false", ",", "omit", "message", "(", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "return", "cube", "request", ";", "}", "string", "desc", "data", "=", "json", "util", ".", "write", "value", "as", "indent", "string", "(", "desc", ")", ";", "cube", "request", ".", "set", "cube", "desc", "data", "(", "desc", "data", ")", ";", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "return", "cube", "request", ";", "}"], "span_diff_code": "<KEEP> @ request mapping ( value = str , method = { request method . put } ) @ response body public cube request update cube desc ( @ request body cube request cube request ) throws json processing exception { cube desc desc = deserialize cube desc ( cube request ) ; <KEEP_END> <INSERT> cube desc old cube desc = null ; <INSERT_END> <KEEP> if ( desc = = null ) { return cube request ; } <KEEP_END> <REPLACE_OLD> final <REPLACE_NEW> if ( ! cube service . is cube desc editable ( desc ) ) { <REPLACE_END> <KEEP> string <KEEP_END> <REPLACE_OLD> cube name = cube request . get cube name ( ) ; <REPLACE_NEW> error = str + desc . get name ( ) ; update request ( cube request , false , error ) ; return cube request ; } <REPLACE_END> <KEEP> if ( <KEEP_END> <REPLACE_OLD> string utils . is empty ( cube name ) ) { return error request ( cube request , str ) ; } metadata manager metadata manager = metadata manager . get instance <REPLACE_NEW> ! cube request . get cube name ( ) . equals ignore case <REPLACE_END> <KEEP> ( cube service . get <KEEP_END> <REPLACE_OLD> config ( ) ) ; data model desc model desc = null ; data model desc old model desc = null ; if ( string utils . is not empty ( cube request . get model desc data ( ) ) ) { model desc = deserialize data model desc ( cube request ) ; if ( model desc = = null ) { return cube request ; } final string mode name = model desc . get name ( ) ; if ( ! string utils . equals ( desc . get model name ( ) , mode name ) ) { return error request ( cube request , str + desc . get model name ( ) + str + mode name ) ; } old model desc = metadata manager . get data model desc ( mode name ) ; if ( old model desc = = null ) { return error request ( cube request , str + mode name + str ) ; } } if ( ! cube service . is cube desc editable ( desc ) ) { string error = str + desc . get name ( ) . to upper case ( ) + str ; return error request ( cube request , error ) ; } boolean update model success = false , update cube success = false ; try { if ( model desc ! = null ) { metadata manager . update data model desc ( model desc ) ; update model success = true ; } cube instance cube = cube service . get cube manager ( ) . get cube ( cube name ) ; <REPLACE_NEW> cube name from desc ( desc . get name ( ) ) ) ) { delete cube ( cube request . get cube name ( ) ) ; save cube desc ( cube request ) ; } <REPLACE_END> <KEEP> string project name = ( null = = cube request . get project ( ) ) ? project instance . default _ project _ name : cube request . get project ( ) ; <KEEP_END> <REPLACE_OLD> desc <REPLACE_NEW> try { cube instance cube <REPLACE_END> <KEEP> = cube service . <KEEP_END> <INSERT> get cube manager ( ) . get cube ( cube request . get cube name ( ) ) ; old cube desc = cube . get descriptor ( ) ; desc = cube service . <INSERT_END> <KEEP> update cube and desc ( cube , desc , project name ) ; <KEEP_END> <DELETE> project manager project manager = cube service . get project manager ( ) ; if ( ! cube service . is cube in project ( project name , cube ) ) { string owner = security context holder . get context ( ) . get authentication ( ) . get name ( ) ; project instance new project = project manager . move realization to project ( realization type . cube , cube . get name ( ) , project name , owner ) ; access service . inherit ( cube , new project ) ; } if ( desc . get error ( ) . is empty ( ) ) { cube request . set successful ( true ) ; update cube success = true ; } else { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; error request ( cube request , omit message ( desc . get error ( ) ) ) ; } <DELETE_END> <KEEP> } catch ( access denied exception access denied exception ) { throw new forbidden exception ( str ) ; } catch ( exception e ) { logger . error ( str + e . get localized message ( ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } <KEEP_END> <DELETE> finally { <DELETE_END> <KEEP> if ( <KEEP_END> <INSERT> ! desc . get error ( ) . is empty ( ) ) { logger . warn ( str + desc . get name ( ) + str + desc . get error ( ) ) ; <INSERT_END> <KEEP> update <KEEP_END> <REPLACE_OLD> model success = = true & & update cube success = = <REPLACE_NEW> request ( cube request , <REPLACE_END> <KEEP> false <KEEP_END> <REPLACE_OLD> ) { try { old model desc . set last modified ( model desc . get last modified ( ) ) ; metadata manager . update data model desc ( old model desc ) ; } catch ( ioexception e ) { logger . error ( str + e . get localized <REPLACE_NEW> , omit <REPLACE_END> <KEEP> message ( <KEEP_END> <REPLACE_OLD> ) , e ) ; throw new internal error exception ( str + e . get localized message ( ) ) ; } } <REPLACE_NEW> desc . get error ( ) ) ) ; return cube request ; <REPLACE_END> <KEEP> } string desc data = json util . write value as indent string ( desc ) ; cube request . set cube desc data ( desc data ) ; <KEEP_END> <INSERT> cube request . set successful ( true ) ; <INSERT_END> <KEEP> return cube request ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "request", "mapping", "(", "value", "=", "str", ",", "method", "=", "{", "request", "method", ".", "put", "}", ")", "@", "response", "body", "public", "cube", "request", "update", "cube", "desc", "(", "@", "request", "body", "cube", "request", "cube", "request", ")", "throws", "json", "processing", "exception", "{", "cube", "desc", "desc", "=", "deserialize", "cube", "desc", "(", "cube", "request", ")", ";", "<KEEP_END>", "<INSERT>", "cube", "desc", "old", "cube", "desc", "=", "null", ";", "<INSERT_END>", "<KEEP>", "if", "(", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "<REPLACE_END>", "<KEEP>", "string", "<KEEP_END>", "<REPLACE_OLD>", "cube", "name", "=", "cube", "request", ".", "get", "cube", "name", "(", ")", ";", "<REPLACE_NEW>", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ";", "update", "request", "(", "cube", "request", ",", "false", ",", "error", ")", ";", "return", "cube", "request", ";", "}", "<REPLACE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "string", "utils", ".", "is", "empty", "(", "cube", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", ")", ";", "}", "metadata", "manager", "metadata", "manager", "=", "metadata", "manager", ".", "get", "instance", "<REPLACE_NEW>", "!", "cube", "request", ".", "get", "cube", "name", "(", ")", ".", "equals", "ignore", "case", "<REPLACE_END>", "<KEEP>", "(", "cube", "service", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "config", "(", ")", ")", ";", "data", "model", "desc", "model", "desc", "=", "null", ";", "data", "model", "desc", "old", "model", "desc", "=", "null", ";", "if", "(", "string", "utils", ".", "is", "not", "empty", "(", "cube", "request", ".", "get", "model", "desc", "data", "(", ")", ")", ")", "{", "model", "desc", "=", "deserialize", "data", "model", "desc", "(", "cube", "request", ")", ";", "if", "(", "model", "desc", "=", "=", "null", ")", "{", "return", "cube", "request", ";", "}", "final", "string", "mode", "name", "=", "model", "desc", ".", "get", "name", "(", ")", ";", "if", "(", "!", "string", "utils", ".", "equals", "(", "desc", ".", "get", "model", "name", "(", ")", ",", "mode", "name", ")", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "desc", ".", "get", "model", "name", "(", ")", "+", "str", "+", "mode", "name", ")", ";", "}", "old", "model", "desc", "=", "metadata", "manager", ".", "get", "data", "model", "desc", "(", "mode", "name", ")", ";", "if", "(", "old", "model", "desc", "=", "=", "null", ")", "{", "return", "error", "request", "(", "cube", "request", ",", "str", "+", "mode", "name", "+", "str", ")", ";", "}", "}", "if", "(", "!", "cube", "service", ".", "is", "cube", "desc", "editable", "(", "desc", ")", ")", "{", "string", "error", "=", "str", "+", "desc", ".", "get", "name", "(", ")", ".", "to", "upper", "case", "(", ")", "+", "str", ";", "return", "error", "request", "(", "cube", "request", ",", "error", ")", ";", "}", "boolean", "update", "model", "success", "=", "false", ",", "update", "cube", "success", "=", "false", ";", "try", "{", "if", "(", "model", "desc", "!", "=", "null", ")", "{", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "model", "desc", ")", ";", "update", "model", "success", "=", "true", ";", "}", "cube", "instance", "cube", "=", "cube", "service", ".", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "name", ")", ";", "<REPLACE_NEW>", "cube", "name", "from", "desc", "(", "desc", ".", "get", "name", "(", ")", ")", ")", ")", "{", "delete", "cube", "(", "cube", "request", ".", "get", "cube", "name", "(", ")", ")", ";", "save", "cube", "desc", "(", "cube", "request", ")", ";", "}", "<REPLACE_END>", "<KEEP>", "string", "project", "name", "=", "(", "null", "=", "=", "cube", "request", ".", "get", "project", "(", ")", ")", "?", "project", "instance", ".", "default", "_", "project", "_", "name", ":", "cube", "request", ".", "get", "project", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "desc", "<REPLACE_NEW>", "try", "{", "cube", "instance", "cube", "<REPLACE_END>", "<KEEP>", "=", "cube", "service", ".", "<KEEP_END>", "<INSERT>", "get", "cube", "manager", "(", ")", ".", "get", "cube", "(", "cube", "request", ".", "get", "cube", "name", "(", ")", ")", ";", "old", "cube", "desc", "=", "cube", ".", "get", "descriptor", "(", ")", ";", "desc", "=", "cube", "service", ".", "<INSERT_END>", "<KEEP>", "update", "cube", "and", "desc", "(", "cube", ",", "desc", ",", "project", "name", ")", ";", "<KEEP_END>", "<DELETE>", "project", "manager", "project", "manager", "=", "cube", "service", ".", "get", "project", "manager", "(", ")", ";", "if", "(", "!", "cube", "service", ".", "is", "cube", "in", "project", "(", "project", "name", ",", "cube", ")", ")", "{", "string", "owner", "=", "security", "context", "holder", ".", "get", "context", "(", ")", ".", "get", "authentication", "(", ")", ".", "get", "name", "(", ")", ";", "project", "instance", "new", "project", "=", "project", "manager", ".", "move", "realization", "to", "project", "(", "realization", "type", ".", "cube", ",", "cube", ".", "get", "name", "(", ")", ",", "project", "name", ",", "owner", ")", ";", "access", "service", ".", "inherit", "(", "cube", ",", "new", "project", ")", ";", "}", "if", "(", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "update", "cube", "success", "=", "true", ";", "}", "else", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "error", "request", "(", "cube", "request", ",", "omit", "message", "(", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "}", "<DELETE_END>", "<KEEP>", "}", "catch", "(", "access", "denied", "exception", "access", "denied", "exception", ")", "{", "throw", "new", "forbidden", "exception", "(", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "finally", "{", "<DELETE_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<INSERT>", "!", "desc", ".", "get", "error", "(", ")", ".", "is", "empty", "(", ")", ")", "{", "logger", ".", "warn", "(", "str", "+", "desc", ".", "get", "name", "(", ")", "+", "str", "+", "desc", ".", "get", "error", "(", ")", ")", ";", "<INSERT_END>", "<KEEP>", "update", "<KEEP_END>", "<REPLACE_OLD>", "model", "success", "=", "=", "true", "&", "&", "update", "cube", "success", "=", "=", "<REPLACE_NEW>", "request", "(", "cube", "request", ",", "<REPLACE_END>", "<KEEP>", "false", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "try", "{", "old", "model", "desc", ".", "set", "last", "modified", "(", "model", "desc", ".", "get", "last", "modified", "(", ")", ")", ";", "metadata", "manager", ".", "update", "data", "model", "desc", "(", "old", "model", "desc", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "logger", ".", "error", "(", "str", "+", "e", ".", "get", "localized", "<REPLACE_NEW>", ",", "omit", "<REPLACE_END>", "<KEEP>", "message", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ",", "e", ")", ";", "throw", "new", "internal", "error", "exception", "(", "str", "+", "e", ".", "get", "localized", "message", "(", ")", ")", ";", "}", "}", "<REPLACE_NEW>", "desc", ".", "get", "error", "(", ")", ")", ")", ";", "return", "cube", "request", ";", "<REPLACE_END>", "<KEEP>", "}", "string", "desc", "data", "=", "json", "util", ".", "write", "value", "as", "indent", "string", "(", "desc", ")", ";", "cube", "request", ".", "set", "cube", "desc", "data", "(", "desc", "data", ")", ";", "<KEEP_END>", "<INSERT>", "cube", "request", ".", "set", "successful", "(", "true", ")", ";", "<INSERT_END>", "<KEEP>", "return", "cube", "request", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> cube request cube change request <REPLACE_NEW> table metadata array <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "cube", "request", "cube", "change", "request", "<REPLACE_NEW>", "table", "metadata", "array", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "mapping", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "=", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", "@", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "public", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "update", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "@", "<KEEP>", "request", "<KEEP>", "body", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "json", "<KEEP>", "processing", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "deserialize", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "cube", "<INSERT>", "desc", "<INSERT>", "old", "<INSERT>", "cube", "<INSERT>", "desc", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "service", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "editable", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "update", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "ignore", "<REPLACE_NEW>", "case", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "config", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "old", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "not", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "deserialize", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "old", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "old", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "mode", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "editable", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "upper", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "boolean", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "success", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "success", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "success", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "instance", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "service", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "delete", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "save", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "string", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "project", "<KEEP>", "instance", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "_", "<KEEP>", "project", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ":", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "desc", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "instance", "<REPLACE_NEW>", "cube", "<KEEP>", "=", "<KEEP>", "cube", "<KEEP>", "service", "<KEEP>", ".", "<INSERT>", "get", "<INSERT>", "cube", "<INSERT>", "manager", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "cube", "<INSERT>", "(", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "cube", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "old", "<INSERT>", "cube", "<INSERT>", "desc", "<INSERT>", "=", "<INSERT>", "cube", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "descriptor", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "desc", "<INSERT>", "=", "<INSERT>", "cube", "<INSERT>", "service", "<INSERT>", ".", "<KEEP>", "update", "<KEEP>", "cube", "<KEEP>", "and", "<KEEP>", "desc", "<KEEP>", "(", "<KEEP>", "cube", "<KEEP>", ",", "<KEEP>", "desc", "<KEEP>", ",", "<KEEP>", "project", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "project", "<DELETE>", "manager", "<DELETE>", "project", "<DELETE>", "manager", "<DELETE>", "=", "<DELETE>", "cube", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "project", "<DELETE>", "manager", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "cube", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "cube", "<DELETE>", "in", "<DELETE>", "project", "<DELETE>", "(", "<DELETE>", "project", "<DELETE>", "name", "<DELETE>", ",", "<DELETE>", "cube", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "string", "<DELETE>", "owner", "<DELETE>", "=", "<DELETE>", "security", "<DELETE>", "context", "<DELETE>", "holder", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "context", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "authentication", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "project", "<DELETE>", "instance", "<DELETE>", "new", "<DELETE>", "project", "<DELETE>", "=", "<DELETE>", "project", "<DELETE>", "manager", "<DELETE>", ".", "<DELETE>", "move", "<DELETE>", "realization", "<DELETE>", "to", "<DELETE>", "project", "<DELETE>", "(", "<DELETE>", "realization", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "cube", "<DELETE>", ",", "<DELETE>", "cube", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "project", "<DELETE>", "name", "<DELETE>", ",", "<DELETE>", "owner", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "access", "<DELETE>", "service", "<DELETE>", ".", "<DELETE>", "inherit", "<DELETE>", "(", "<DELETE>", "cube", "<DELETE>", ",", "<DELETE>", "new", "<DELETE>", "project", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "empty", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "cube", "<DELETE>", "request", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "successful", "<DELETE>", "(", "<DELETE>", "true", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "update", "<DELETE>", "cube", "<DELETE>", "success", "<DELETE>", "=", "<DELETE>", "true", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "warn", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "error", "<DELETE>", "request", "<DELETE>", "(", "<DELETE>", "cube", "<DELETE>", "request", "<DELETE>", ",", "<DELETE>", "omit", "<DELETE>", "message", "<DELETE>", "(", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "access", "<KEEP>", "denied", "<KEEP>", "exception", "<KEEP>", "access", "<KEEP>", "denied", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "forbidden", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "internal", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "localized", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "finally", "<DELETE>", "{", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "!", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "warn", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "+", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "desc", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "error", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "update", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "success", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "cube", "<REPLACE_OLD>", "success", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ",", "<KEEP>", "false", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "old", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "modified", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "last", "<REPLACE_OLD>", "modified", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "metadata", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "update", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "old", "<REPLACE_OLD>", "model", "<REPLACE_OLD>", "desc", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "ioexception", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "logger", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "localized", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "omit", "<KEEP>", "message", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "internal", "<REPLACE_OLD>", "error", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "localized", "<REPLACE_OLD>", "message", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "desc", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "error", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "cube", "<REPLACE_NEW>", "request", "<REPLACE_NEW>", ";", "<KEEP>", "}", "<KEEP>", "string", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "json", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "value", "<KEEP>", "as", "<KEEP>", "indent", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "cube", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "desc", "<KEEP>", "data", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "cube", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "successful", "<INSERT>", "(", "<INSERT>", "true", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "cube", "<KEEP>", "request", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "h4ck3rm1k3_josm-older-82-7419", "old_comment": "list of all selected objects .", "old_comment_tokens": ["list", "of", "all", "selected", "objects", "."], "new_comment": "unmodifiable collection of primitives", "new_comment_tokens": ["unmodifiable", "collection", "of", "primitives"], "old_code": "public collection < osm primitive > get selected ( ) { return new array list < osm primitive > ( selected primitives ) ; }", "old_code_tokens": ["public", "collection", "<", "osm", "primitive", ">", "get", "selected", "(", ")", "{", "return", "new", "array", "list", "<", "osm", "primitive", ">", "(", "selected", "primitives", ")", ";", "}"], "new_code": "public collection < osm primitive > get selected ( ) { return collections . unmodifiable set ( selected primitives ) ; }", "new_code_tokens": ["public", "collection", "<", "osm", "primitive", ">", "get", "selected", "(", ")", "{", "return", "collections", ".", "unmodifiable", "set", "(", "selected", "primitives", ")", ";", "}"], "span_diff_code": "<KEEP> public collection < osm primitive > get selected ( ) { return <KEEP_END> <REPLACE_OLD> new array list < osm primitive > <REPLACE_NEW> collections . unmodifiable set <REPLACE_END> <KEEP> ( selected primitives ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "collection", "<", "osm", "primitive", ">", "get", "selected", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "array", "list", "<", "osm", "primitive", ">", "<REPLACE_NEW>", "collections", ".", "unmodifiable", "set", "<REPLACE_END>", "<KEEP>", "(", "selected", "primitives", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> unmodifiable collection <REPLACE_END> <REPLACE_OLD> all selected objects . <REPLACE_NEW> primitives <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "unmodifiable", "collection", "<REPLACE_END>", "<REPLACE_OLD>", "all", "selected", "objects", ".", "<REPLACE_NEW>", "primitives", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "osm", "<KEEP>", "primitive", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "selected", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "osm", "<REPLACE_OLD>", "primitive", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "collections", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "unmodifiable", "<REPLACE_NEW>", "set", "<KEEP>", "(", "<KEEP>", "selected", "<KEEP>", "primitives", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "facebook_device-year-class-0-2560", "old_comment": "the year when this device would have been considered top - of - the - line .", "old_comment_tokens": ["the", "year", "when", "this", "device", "would", "have", "been", "considered", "top", "-", "of", "-", "the", "-", "line", "."], "new_comment": "the year class when this device would have been considered top - of - the - line .", "new_comment_tokens": ["the", "year", "class", "when", "this", "device", "would", "have", "been", "considered", "top", "-", "of", "-", "the", "-", "line", "."], "old_code": "private static int categorize by year ( context c ) { array list < integer > component years = new array list < integer > ( ) ; conditionally add ( component years , get num cores year ( ) ) ; conditionally add ( component years , get clock speed year ( ) ) ; conditionally add ( component years , get ram year ( c ) ) ; if ( component years . is empty ( ) ) return class _ unknown ; collections . sort ( component years ) ; if ( ( component years . size ( ) & num ) = = num ) { return component years . get ( component years . size ( ) / num ) ; } else { int base index = component years . size ( ) / num - num ; return component years . get ( base index ) + ( component years . get ( base index + num ) - component years . get ( base index ) ) / num ; } }", "old_code_tokens": ["private", "static", "int", "categorize", "by", "year", "(", "context", "c", ")", "{", "array", "list", "<", "integer", ">", "component", "years", "=", "new", "array", "list", "<", "integer", ">", "(", ")", ";", "conditionally", "add", "(", "component", "years", ",", "get", "num", "cores", "year", "(", ")", ")", ";", "conditionally", "add", "(", "component", "years", ",", "get", "clock", "speed", "year", "(", ")", ")", ";", "conditionally", "add", "(", "component", "years", ",", "get", "ram", "year", "(", "c", ")", ")", ";", "if", "(", "component", "years", ".", "is", "empty", "(", ")", ")", "return", "class", "_", "unknown", ";", "collections", ".", "sort", "(", "component", "years", ")", ";", "if", "(", "(", "component", "years", ".", "size", "(", ")", "&", "num", ")", "=", "=", "num", ")", "{", "return", "component", "years", ".", "get", "(", "component", "years", ".", "size", "(", ")", "/", "num", ")", ";", "}", "else", "{", "int", "base", "index", "=", "component", "years", ".", "size", "(", ")", "/", "num", "-", "num", ";", "return", "component", "years", ".", "get", "(", "base", "index", ")", "+", "(", "component", "years", ".", "get", "(", "base", "index", "+", "num", ")", "-", "component", "years", ".", "get", "(", "base", "index", ")", ")", "/", "num", ";", "}", "}"], "new_code": "private static year class categorize by year ( context c ) { array list < year class > component years = new array list < year class > ( ) ; conditionally add ( component years , year class . from number of cores ( ) ) ; conditionally add ( component years , year class . from clock speed ( ) ) ; conditionally add ( component years , year class . from ram total ( c ) ) ; if ( component years . is empty ( ) ) return year class . class _ unknown ; collections . sort ( component years ) ; if ( ( component years . size ( ) & num ) = = num ) { return component years . get ( component years . size ( ) / num ) ; } else { int base index = component years . size ( ) / num - num ; int average rounded down = component years . get ( base index ) . m int value + ( component years . get ( base index + num ) . m int value - component years . get ( base index ) . m int value ) / num ; return year class . from int value ( average rounded down ) ; } }", "new_code_tokens": ["private", "static", "year", "class", "categorize", "by", "year", "(", "context", "c", ")", "{", "array", "list", "<", "year", "class", ">", "component", "years", "=", "new", "array", "list", "<", "year", "class", ">", "(", ")", ";", "conditionally", "add", "(", "component", "years", ",", "year", "class", ".", "from", "number", "of", "cores", "(", ")", ")", ";", "conditionally", "add", "(", "component", "years", ",", "year", "class", ".", "from", "clock", "speed", "(", ")", ")", ";", "conditionally", "add", "(", "component", "years", ",", "year", "class", ".", "from", "ram", "total", "(", "c", ")", ")", ";", "if", "(", "component", "years", ".", "is", "empty", "(", ")", ")", "return", "year", "class", ".", "class", "_", "unknown", ";", "collections", ".", "sort", "(", "component", "years", ")", ";", "if", "(", "(", "component", "years", ".", "size", "(", ")", "&", "num", ")", "=", "=", "num", ")", "{", "return", "component", "years", ".", "get", "(", "component", "years", ".", "size", "(", ")", "/", "num", ")", ";", "}", "else", "{", "int", "base", "index", "=", "component", "years", ".", "size", "(", ")", "/", "num", "-", "num", ";", "int", "average", "rounded", "down", "=", "component", "years", ".", "get", "(", "base", "index", ")", ".", "m", "int", "value", "+", "(", "component", "years", ".", "get", "(", "base", "index", "+", "num", ")", ".", "m", "int", "value", "-", "component", "years", ".", "get", "(", "base", "index", ")", ".", "m", "int", "value", ")", "/", "num", ";", "return", "year", "class", ".", "from", "int", "value", "(", "average", "rounded", "down", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private static <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> year class <REPLACE_END> <KEEP> categorize by year ( context c ) { array list < <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> year class <REPLACE_END> <KEEP> > component years = new array list < <KEEP_END> <REPLACE_OLD> integer <REPLACE_NEW> year class <REPLACE_END> <KEEP> > ( ) ; conditionally add ( component years , <KEEP_END> <REPLACE_OLD> get num <REPLACE_NEW> year class . from number of <REPLACE_END> <KEEP> cores <KEEP_END> <DELETE> year <DELETE_END> <KEEP> ( ) ) ; conditionally add ( component years , <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> year class . from <REPLACE_END> <KEEP> clock speed <KEEP_END> <DELETE> year <DELETE_END> <KEEP> ( ) ) ; conditionally add ( component years , <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> year class . from <REPLACE_END> <KEEP> ram <KEEP_END> <REPLACE_OLD> year <REPLACE_NEW> total <REPLACE_END> <KEEP> ( c ) ) ; if ( component years . is empty ( ) ) return <KEEP_END> <INSERT> year class . <INSERT_END> <KEEP> class _ unknown ; collections . sort ( component years ) ; if ( ( component years . size ( ) & num ) = = num ) { return component years . get ( component years . size ( ) / num ) ; } else { int base index = component years . size ( ) / num - num ; <KEEP_END> <INSERT> int average rounded down = component years . get ( base index ) . m int value + ( component years . get ( base index + num ) . m int value - component years . get ( base index ) . m int value ) / num ; <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> component years . get ( base index ) + ( component years . get ( base index + num ) - component years . get ( base index ) ) / num <REPLACE_NEW> year class . from int value ( average rounded down ) <REPLACE_END> <KEEP> ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "year", "class", "<REPLACE_END>", "<KEEP>", "categorize", "by", "year", "(", "context", "c", ")", "{", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "year", "class", "<REPLACE_END>", "<KEEP>", ">", "component", "years", "=", "new", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "year", "class", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "conditionally", "add", "(", "component", "years", ",", "<KEEP_END>", "<REPLACE_OLD>", "get", "num", "<REPLACE_NEW>", "year", "class", ".", "from", "number", "of", "<REPLACE_END>", "<KEEP>", "cores", "<KEEP_END>", "<DELETE>", "year", "<DELETE_END>", "<KEEP>", "(", ")", ")", ";", "conditionally", "add", "(", "component", "years", ",", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "year", "class", ".", "from", "<REPLACE_END>", "<KEEP>", "clock", "speed", "<KEEP_END>", "<DELETE>", "year", "<DELETE_END>", "<KEEP>", "(", ")", ")", ";", "conditionally", "add", "(", "component", "years", ",", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "year", "class", ".", "from", "<REPLACE_END>", "<KEEP>", "ram", "<KEEP_END>", "<REPLACE_OLD>", "year", "<REPLACE_NEW>", "total", "<REPLACE_END>", "<KEEP>", "(", "c", ")", ")", ";", "if", "(", "component", "years", ".", "is", "empty", "(", ")", ")", "return", "<KEEP_END>", "<INSERT>", "year", "class", ".", "<INSERT_END>", "<KEEP>", "class", "_", "unknown", ";", "collections", ".", "sort", "(", "component", "years", ")", ";", "if", "(", "(", "component", "years", ".", "size", "(", ")", "&", "num", ")", "=", "=", "num", ")", "{", "return", "component", "years", ".", "get", "(", "component", "years", ".", "size", "(", ")", "/", "num", ")", ";", "}", "else", "{", "int", "base", "index", "=", "component", "years", ".", "size", "(", ")", "/", "num", "-", "num", ";", "<KEEP_END>", "<INSERT>", "int", "average", "rounded", "down", "=", "component", "years", ".", "get", "(", "base", "index", ")", ".", "m", "int", "value", "+", "(", "component", "years", ".", "get", "(", "base", "index", "+", "num", ")", ".", "m", "int", "value", "-", "component", "years", ".", "get", "(", "base", "index", ")", ".", "m", "int", "value", ")", "/", "num", ";", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "component", "years", ".", "get", "(", "base", "index", ")", "+", "(", "component", "years", ".", "get", "(", "base", "index", "+", "num", ")", "-", "component", "years", ".", "get", "(", "base", "index", ")", ")", "/", "num", "<REPLACE_NEW>", "year", "class", ".", "from", "int", "value", "(", "average", "rounded", "down", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> year <INSERT_NEW_KEEP_BEFORE> year class <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "year", "<INSERT_NEW_KEEP_BEFORE>", "year", "class", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<KEEP>", "categorize", "<KEEP>", "by", "<KEEP>", "year", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<KEEP>", ">", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "integer", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "conditionally", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ",", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "number", "<REPLACE_NEW>", "of", "<KEEP>", "cores", "<DELETE>", "year", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "conditionally", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ",", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "from", "<KEEP>", "clock", "<KEEP>", "speed", "<DELETE>", "year", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "conditionally", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ",", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "from", "<KEEP>", "ram", "<REPLACE_OLD>", "year", "<REPLACE_NEW>", "total", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<INSERT>", "year", "<INSERT>", "class", "<INSERT>", ".", "<KEEP>", "class", "<KEEP>", "_", "<KEEP>", "unknown", "<KEEP>", ";", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "sort", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "base", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "component", "<KEEP>", "years", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "/", "<KEEP>", "num", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ";", "<INSERT>", "int", "<INSERT>", "average", "<INSERT>", "rounded", "<INSERT>", "down", "<INSERT>", "=", "<INSERT>", "component", "<INSERT>", "years", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "base", "<INSERT>", "index", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "m", "<INSERT>", "int", "<INSERT>", "value", "<INSERT>", "+", "<INSERT>", "(", "<INSERT>", "component", "<INSERT>", "years", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "base", "<INSERT>", "index", "<INSERT>", "+", "<INSERT>", "num", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "m", "<INSERT>", "int", "<INSERT>", "value", "<INSERT>", "-", "<INSERT>", "component", "<INSERT>", "years", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "(", "<INSERT>", "base", "<INSERT>", "index", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "m", "<INSERT>", "int", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", "/", "<INSERT>", "num", "<INSERT>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "component", "<REPLACE_OLD>", "years", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "component", "<REPLACE_OLD>", "years", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "component", "<REPLACE_OLD>", "years", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "base", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "/", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "year", "<REPLACE_NEW>", "class", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "average", "<REPLACE_NEW>", "rounded", "<REPLACE_NEW>", "down", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_hourparser-0-3968", "old_comment": "the time of the first record or null if there are no records", "old_comment_tokens": ["the", "time", "of", "the", "first", "record", "or", "null", "if", "there", "are", "no", "records"], "new_comment": "the time of the first record , or the current time if there are no records", "new_comment_tokens": ["the", "time", "of", "the", "first", "record", ",", "or", "the", "current", "time", "if", "there", "are", "no", "records"], "old_code": "public date get start ( ) { if ( records . size ( ) = = num ) { return null ; } else { date first = records . get ( num ) . get date ( ) ; for ( entry e : records ) { if ( e . get date ( ) . before ( first ) ) { first = e . get date ( ) ; } } return first ; } }", "old_code_tokens": ["public", "date", "get", "start", "(", ")", "{", "if", "(", "records", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "null", ";", "}", "else", "{", "date", "first", "=", "records", ".", "get", "(", "num", ")", ".", "get", "date", "(", ")", ";", "for", "(", "entry", "e", ":", "records", ")", "{", "if", "(", "e", ".", "get", "date", "(", ")", ".", "before", "(", "first", ")", ")", "{", "first", "=", "e", ".", "get", "date", "(", ")", ";", "}", "}", "return", "first", ";", "}", "}"], "new_code": "public date get start ( ) { if ( records . size ( ) = = num ) { return new date ( ) ; } else { date first = records . get ( num ) . get date ( ) ; for ( entry e : records ) { if ( e . get date ( ) . before ( first ) ) { first = e . get date ( ) ; } } return first ; } }", "new_code_tokens": ["public", "date", "get", "start", "(", ")", "{", "if", "(", "records", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "new", "date", "(", ")", ";", "}", "else", "{", "date", "first", "=", "records", ".", "get", "(", "num", ")", ".", "get", "date", "(", ")", ";", "for", "(", "entry", "e", ":", "records", ")", "{", "if", "(", "e", ".", "get", "date", "(", ")", ".", "before", "(", "first", ")", ")", "{", "first", "=", "e", ".", "get", "date", "(", ")", ";", "}", "}", "return", "first", ";", "}", "}"], "span_diff_code": "<KEEP> public date get start ( ) { if ( records . size ( ) = = num ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> new date ( ) <REPLACE_END> <KEEP> ; } else { date first = records . get ( num ) . get date ( ) ; for ( entry e : records ) { if ( e . get date ( ) . before ( first ) ) { first = e . get date ( ) ; } } return first ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "date", "get", "start", "(", ")", "{", "if", "(", "records", ".", "size", "(", ")", "=", "=", "num", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "date", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "date", "first", "=", "records", ".", "get", "(", "num", ")", ".", "get", "date", "(", ")", ";", "for", "(", "entry", "e", ":", "records", ")", "{", "if", "(", "e", ".", "get", "date", "(", ")", ".", "before", "(", "first", ")", ")", "{", "first", "=", "e", ".", "get", "date", "(", ")", ";", "}", "}", "return", "first", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> record <INSERT_NEW_KEEP_BEFORE> record , <INSERT_END> <REPLACE_OLD> null <REPLACE_NEW> the current time <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "record", "<INSERT_NEW_KEEP_BEFORE>", "record", ",", "<INSERT_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "the", "current", "time", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "date", "<KEEP>", "get", "<KEEP>", "start", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "records", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "date", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "date", "<KEEP>", "first", "<KEEP>", "=", "<KEEP>", "records", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "e", "<KEEP>", ":", "<KEEP>", "records", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "before", "<KEEP>", "(", "<KEEP>", "first", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "first", "<KEEP>", "=", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "date", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "first", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_webtools.javaee-51-6845", "old_comment": "array of configuration elements or null if this container has no contributions .", "old_comment_tokens": ["array", "of", "configuration", "elements", "or", "null", "if", "this", "container", "has", "no", "contributions", "."], "new_comment": "array of configuration elements .", "new_comment_tokens": ["array", "of", "configuration", "elements", "."], "old_code": "public synchronized iconfiguration element [ ] get container configurations ( string containerid ) { if ( container to contributions = = null ) process proxy contribution extension point ( ) ; return ( iconfiguration element [ ] ) container to contributions . get ( containerid ) ; }", "old_code_tokens": ["public", "synchronized", "iconfiguration", "element", "[", "]", "get", "container", "configurations", "(", "string", "containerid", ")", "{", "if", "(", "container", "to", "contributions", "=", "=", "null", ")", "process", "proxy", "contribution", "extension", "point", "(", ")", ";", "return", "(", "iconfiguration", "element", "[", "]", ")", "container", "to", "contributions", ".", "get", "(", "containerid", ")", ";", "}"], "new_code": "public synchronized iconfiguration element [ ] get container configurations ( string containerid , string [ ] container paths ) { if ( contributions = = null ) process proxy contribution extension point ( ) ; return ( iconfiguration element [ ] ) contributions . container path contributions . get contributors ( containerid , container paths ) ; }", "new_code_tokens": ["public", "synchronized", "iconfiguration", "element", "[", "]", "get", "container", "configurations", "(", "string", "containerid", ",", "string", "[", "]", "container", "paths", ")", "{", "if", "(", "contributions", "=", "=", "null", ")", "process", "proxy", "contribution", "extension", "point", "(", ")", ";", "return", "(", "iconfiguration", "element", "[", "]", ")", "contributions", ".", "container", "path", "contributions", ".", "get", "contributors", "(", "containerid", ",", "container", "paths", ")", ";", "}"], "span_diff_code": "<KEEP> public synchronized iconfiguration element [ ] get container configurations ( string containerid <KEEP_END> <INSERT> , string [ ] container paths <INSERT_END> <KEEP> ) { if ( <KEEP_END> <DELETE> container to <DELETE_END> <KEEP> contributions = = null ) process proxy contribution extension point ( ) ; return ( iconfiguration element [ ] ) <KEEP_END> <INSERT> contributions . <INSERT_END> <KEEP> container <KEEP_END> <REPLACE_OLD> to <REPLACE_NEW> path <REPLACE_END> <KEEP> contributions . get <KEEP_END> <INSERT> contributors <INSERT_END> <KEEP> ( containerid <KEEP_END> <INSERT> , container paths <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "synchronized", "iconfiguration", "element", "[", "]", "get", "container", "configurations", "(", "string", "containerid", "<KEEP_END>", "<INSERT>", ",", "string", "[", "]", "container", "paths", "<INSERT_END>", "<KEEP>", ")", "{", "if", "(", "<KEEP_END>", "<DELETE>", "container", "to", "<DELETE_END>", "<KEEP>", "contributions", "=", "=", "null", ")", "process", "proxy", "contribution", "extension", "point", "(", ")", ";", "return", "(", "iconfiguration", "element", "[", "]", ")", "<KEEP_END>", "<INSERT>", "contributions", ".", "<INSERT_END>", "<KEEP>", "container", "<KEEP_END>", "<REPLACE_OLD>", "to", "<REPLACE_NEW>", "path", "<REPLACE_END>", "<KEEP>", "contributions", ".", "get", "<KEEP_END>", "<INSERT>", "contributors", "<INSERT_END>", "<KEEP>", "(", "containerid", "<KEEP_END>", "<INSERT>", ",", "container", "paths", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or null if this container has no contributions <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", "if", "this", "container", "has", "no", "contributions", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "synchronized", "<KEEP>", "iconfiguration", "<KEEP>", "element", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "container", "<KEEP>", "configurations", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "containerid", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "container", "<INSERT>", "paths", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "container", "<DELETE>", "to", "<KEEP>", "contributions", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "process", "<KEEP>", "proxy", "<KEEP>", "contribution", "<KEEP>", "extension", "<KEEP>", "point", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "iconfiguration", "<KEEP>", "element", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<INSERT>", "contributions", "<INSERT>", ".", "<KEEP>", "container", "<REPLACE_OLD>", "to", "<REPLACE_NEW>", "path", "<KEEP>", "contributions", "<KEEP>", ".", "<KEEP>", "get", "<INSERT>", "contributors", "<KEEP>", "(", "<KEEP>", "containerid", "<INSERT>", ",", "<INSERT>", "container", "<INSERT>", "paths", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-64-4100", "old_comment": "true if there is some ( valid ) value available for this option .", "old_comment_tokens": ["true", "if", "there", "is", "some", "(", "valid", ")", "value", "available", "for", "this", "option", "."], "new_comment": "true if there is some value available for this option .", "new_comment_tokens": ["true", "if", "there", "is", "some", "value", "available", "for", "this", "option", "."], "old_code": "public boolean has value ( option < ? > option ) { return try get option ( option ) ! = null ; }", "old_code_tokens": ["public", "boolean", "has", "value", "(", "option", "<", "?", ">", "option", ")", "{", "return", "try", "get", "option", "(", "option", ")", "!", "=", "null", ";", "}"], "new_code": "public boolean has value ( option < ? > option ) { string val = config . get value ( get config key ( option ) ) ; return val ! = null | | option . get default value ( ) ! = null ; }", "new_code_tokens": ["public", "boolean", "has", "value", "(", "option", "<", "?", ">", "option", ")", "{", "string", "val", "=", "config", ".", "get", "value", "(", "get", "config", "key", "(", "option", ")", ")", ";", "return", "val", "!", "=", "null", "|", "|", "option", ".", "get", "default", "value", "(", ")", "!", "=", "null", ";", "}"], "span_diff_code": "<KEEP> public boolean has value ( option < ? > option ) { <KEEP_END> <REPLACE_OLD> return try <REPLACE_NEW> string val = config . <REPLACE_END> <KEEP> get <KEEP_END> <REPLACE_OLD> option <REPLACE_NEW> value ( get config key <REPLACE_END> <KEEP> ( option <KEEP_END> <INSERT> ) ) ; return val ! = null | | option . get default value ( <INSERT_END> <KEEP> ) ! = null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "has", "value", "(", "option", "<", "?", ">", "option", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "try", "<REPLACE_NEW>", "string", "val", "=", "config", ".", "<REPLACE_END>", "<KEEP>", "get", "<KEEP_END>", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "value", "(", "get", "config", "key", "<REPLACE_END>", "<KEEP>", "(", "option", "<KEEP_END>", "<INSERT>", ")", ")", ";", "return", "val", "!", "=", "null", "|", "|", "option", ".", "get", "default", "value", "(", "<INSERT_END>", "<KEEP>", ")", "!", "=", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ( valid ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "valid", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "option", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "option", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "try", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "val", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "option", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "key", "<KEEP>", "(", "<KEEP>", "option", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "val", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "option", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "default", "<INSERT>", "value", "<INSERT>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Rajawali_Rajawali-176-3637", "old_comment": "double the pitch euler angle .", "old_comment_tokens": ["double", "the", "pitch", "euler", "angle", "."], "new_comment": "double the pitch euler angle in degrees .", "new_comment_tokens": ["double", "the", "pitch", "euler", "angle", "in", "degrees", "."], "old_code": "public double get rot z ( ) { return m orientation . get rotation z ( ) ; }", "old_code_tokens": ["public", "double", "get", "rot", "z", "(", ")", "{", "return", "m", "orientation", ".", "get", "rotation", "z", "(", ")", ";", "}"], "new_code": "public double get rot z ( ) { return math . to degrees ( m orientation . get rotation z ( ) ) ; }", "new_code_tokens": ["public", "double", "get", "rot", "z", "(", ")", "{", "return", "math", ".", "to", "degrees", "(", "m", "orientation", ".", "get", "rotation", "z", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public double get rot z ( ) { return <KEEP_END> <INSERT> math . to degrees ( <INSERT_END> <KEEP> m orientation . get rotation z ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "get", "rot", "z", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "math", ".", "to", "degrees", "(", "<INSERT_END>", "<KEEP>", "m", "orientation", ".", "get", "rotation", "z", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> angle <INSERT_NEW_KEEP_BEFORE> angle in degrees <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "angle", "<INSERT_NEW_KEEP_BEFORE>", "angle", "in", "degrees", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "get", "<KEEP>", "rot", "<KEEP>", "z", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "math", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "degrees", "<INSERT>", "(", "<KEEP>", "m", "<KEEP>", "orientation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "rotation", "<KEEP>", "z", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_falcon-34-5037", "old_comment": "apiresule - succeeded or failed", "old_comment_tokens": ["apiresule", "-", "succeeded", "or", "failed"], "new_comment": "apiresult - succeeded or failed", "new_comment_tokens": ["apiresult", "-", "succeeded", "or", "failed"], "old_code": "public apiresult validate ( http servlet request request , string type , boolean skip dry run ) { try { entity type entity type = entity type . get enum ( type ) ; entity entity = deserialize entity ( request , entity type ) ; validate ( entity ) ; if ( entity . get entity type ( ) . is schedulable ( ) ) { set < string > clusters = entity util . get clusters defined in colos ( entity ) ; for ( string cluster : clusters ) { try { get workflow engine ( ) . dry run ( entity , cluster , skip dry run ) ; } catch ( falcon exception e ) { throw new falcon exception ( str + cluster , e ) ; } } } return new apiresult ( apiresult . status . succeeded , str + entity type + str + entity . get name ( ) ) ; } catch ( throwable e ) { log . error ( str , type , e ) ; throw falcon web exception . new exception ( e , response . status . bad _ request ) ; } }", "old_code_tokens": ["public", "apiresult", "validate", "(", "http", "servlet", "request", "request", ",", "string", "type", ",", "boolean", "skip", "dry", "run", ")", "{", "try", "{", "entity", "type", "entity", "type", "=", "entity", "type", ".", "get", "enum", "(", "type", ")", ";", "entity", "entity", "=", "deserialize", "entity", "(", "request", ",", "entity", "type", ")", ";", "validate", "(", "entity", ")", ";", "if", "(", "entity", ".", "get", "entity", "type", "(", ")", ".", "is", "schedulable", "(", ")", ")", "{", "set", "<", "string", ">", "clusters", "=", "entity", "util", ".", "get", "clusters", "defined", "in", "colos", "(", "entity", ")", ";", "for", "(", "string", "cluster", ":", "clusters", ")", "{", "try", "{", "get", "workflow", "engine", "(", ")", ".", "dry", "run", "(", "entity", ",", "cluster", ",", "skip", "dry", "run", ")", ";", "}", "catch", "(", "falcon", "exception", "e", ")", "{", "throw", "new", "falcon", "exception", "(", "str", "+", "cluster", ",", "e", ")", ";", "}", "}", "}", "return", "new", "apiresult", "(", "apiresult", ".", "status", ".", "succeeded", ",", "str", "+", "entity", "type", "+", "str", "+", "entity", ".", "get", "name", "(", ")", ")", ";", "}", "catch", "(", "throwable", "e", ")", "{", "log", ".", "error", "(", "str", ",", "type", ",", "e", ")", ";", "throw", "falcon", "web", "exception", ".", "new", "exception", "(", "e", ",", "response", ".", "status", ".", "bad", "_", "request", ")", ";", "}", "}"], "new_code": "public apiresult validate ( http servlet request request , string type , boolean skip dry run ) { try { return validate ( request . get input stream ( ) , type , skip dry run ) ; } catch ( ioexception e ) { log . error ( str , request , e ) ; throw falcon web exception . new exception ( e , response . status . bad _ request ) ; } }", "new_code_tokens": ["public", "apiresult", "validate", "(", "http", "servlet", "request", "request", ",", "string", "type", ",", "boolean", "skip", "dry", "run", ")", "{", "try", "{", "return", "validate", "(", "request", ".", "get", "input", "stream", "(", ")", ",", "type", ",", "skip", "dry", "run", ")", ";", "}", "catch", "(", "ioexception", "e", ")", "{", "log", ".", "error", "(", "str", ",", "request", ",", "e", ")", ";", "throw", "falcon", "web", "exception", ".", "new", "exception", "(", "e", ",", "response", ".", "status", ".", "bad", "_", "request", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public apiresult validate ( http servlet request request , string type , boolean skip dry run ) { try { <KEEP_END> <REPLACE_OLD> entity type entity type = entity type <REPLACE_NEW> return validate ( request <REPLACE_END> <KEEP> . get <KEEP_END> <REPLACE_OLD> enum ( type ) ; entity entity = deserialize entity ( request , entity type ) ; validate ( entity ) ; if ( entity . get entity type <REPLACE_NEW> input stream <REPLACE_END> <KEEP> ( ) <KEEP_END> <DELETE> . is schedulable ( ) ) { set < string > clusters = entity util . get clusters defined in colos ( entity ) ; for ( string cluster : clusters ) { try { get workflow engine ( ) . dry run ( entity <DELETE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> cluster <REPLACE_NEW> type <REPLACE_END> <KEEP> , skip dry run ) ; } catch ( <KEEP_END> <REPLACE_OLD> falcon exception e ) { throw new falcon exception ( str + cluster , e ) ; } } } return new apiresult ( apiresult . status . succeeded , str + entity type + str + entity . get name ( ) ) ; } catch ( throwable <REPLACE_NEW> ioexception <REPLACE_END> <KEEP> e ) { log . error ( str , <KEEP_END> <REPLACE_OLD> type <REPLACE_NEW> request <REPLACE_END> <KEEP> , e ) ; throw falcon web exception . new exception ( e , response . status . bad _ request ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "apiresult", "validate", "(", "http", "servlet", "request", "request", ",", "string", "type", ",", "boolean", "skip", "dry", "run", ")", "{", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "entity", "type", "entity", "type", "=", "entity", "type", "<REPLACE_NEW>", "return", "validate", "(", "request", "<REPLACE_END>", "<KEEP>", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "enum", "(", "type", ")", ";", "entity", "entity", "=", "deserialize", "entity", "(", "request", ",", "entity", "type", ")", ";", "validate", "(", "entity", ")", ";", "if", "(", "entity", ".", "get", "entity", "type", "<REPLACE_NEW>", "input", "stream", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<DELETE>", ".", "is", "schedulable", "(", ")", ")", "{", "set", "<", "string", ">", "clusters", "=", "entity", "util", ".", "get", "clusters", "defined", "in", "colos", "(", "entity", ")", ";", "for", "(", "string", "cluster", ":", "clusters", ")", "{", "try", "{", "get", "workflow", "engine", "(", ")", ".", "dry", "run", "(", "entity", "<DELETE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "cluster", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", ",", "skip", "dry", "run", ")", ";", "}", "catch", "(", "<KEEP_END>", "<REPLACE_OLD>", "falcon", "exception", "e", ")", "{", "throw", "new", "falcon", "exception", "(", "str", "+", "cluster", ",", "e", ")", ";", "}", "}", "}", "return", "new", "apiresult", "(", "apiresult", ".", "status", ".", "succeeded", ",", "str", "+", "entity", "type", "+", "str", "+", "entity", ".", "get", "name", "(", ")", ")", ";", "}", "catch", "(", "throwable", "<REPLACE_NEW>", "ioexception", "<REPLACE_END>", "<KEEP>", "e", ")", "{", "log", ".", "error", "(", "str", ",", "<KEEP_END>", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "request", "<REPLACE_END>", "<KEEP>", ",", "e", ")", ";", "throw", "falcon", "web", "exception", ".", "new", "exception", "(", "e", ",", "response", ".", "status", ".", "bad", "_", "request", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> apiresule <REPLACE_NEW> apiresult <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "apiresule", "<REPLACE_NEW>", "apiresult", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "apiresult", "<KEEP>", "validate", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "skip", "<KEEP>", "dry", "<KEEP>", "run", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "validate", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "request", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "enum", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "deserialize", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "validate", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ".", "<DELETE>", "is", "<DELETE>", "schedulable", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "set", "<DELETE>", "<", "<DELETE>", "string", "<DELETE>", ">", "<DELETE>", "clusters", "<DELETE>", "=", "<DELETE>", "entity", "<DELETE>", "util", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "clusters", "<DELETE>", "defined", "<DELETE>", "in", "<DELETE>", "colos", "<DELETE>", "(", "<DELETE>", "entity", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", "cluster", "<DELETE>", ":", "<DELETE>", "clusters", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "get", "<DELETE>", "workflow", "<DELETE>", "engine", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "dry", "<DELETE>", "run", "<DELETE>", "(", "<DELETE>", "entity", "<KEEP>", ",", "<REPLACE_OLD>", "cluster", "<REPLACE_NEW>", "type", "<KEEP>", ",", "<KEEP>", "skip", "<KEEP>", "dry", "<KEEP>", "run", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<REPLACE_OLD>", "falcon", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "falcon", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "cluster", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "apiresult", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "apiresult", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "succeeded", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "entity", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "throwable", "<REPLACE_NEW>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "request", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "throw", "<KEEP>", "falcon", "<KEEP>", "web", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "status", "<KEEP>", ".", "<KEEP>", "bad", "<KEEP>", "_", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "airbnb_epoxy-1-3678", "old_comment": "true if the clazz ( or one of its superclasses ) implements the given method . returns false if the method doesn ' t exist anywhere in the class hierarchy or it is abstract .", "old_comment_tokens": ["true", "if", "the", "clazz", "(", "or", "one", "of", "its", "superclasses", ")", "implements", "the", "given", "method", ".", "returns", "false", "if", "the", "method", "doesn", "'", "t", "exist", "anywhere", "in", "the", "class", "hierarchy", "or", "it", "is", "abstract", "."], "new_comment": "true if the clazz ( or one of its superclasses except for object ) implements the given method . returns false if the method doesn ' t exist anywhere in the class hierarchy or it is abstract .", "new_comment_tokens": ["true", "if", "the", "clazz", "(", "or", "one", "of", "its", "superclasses", "except", "for", "object", ")", "implements", "the", "given", "method", ".", "returns", "false", "if", "the", "method", "doesn", "'", "t", "exist", "anywhere", "in", "the", "class", "hierarchy", "or", "it", "is", "abstract", "."], "old_code": "static boolean implements method ( type element clazz , method spec method , types type utils ) { executable element method on class = get method on class ( clazz , method , type utils ) ; if ( method on class = = null ) { return false ; } set < modifier > modifiers = method on class . get modifiers ( ) ; return ! modifiers . contains ( modifier . abstract ) ; }", "old_code_tokens": ["static", "boolean", "implements", "method", "(", "type", "element", "clazz", ",", "method", "spec", "method", ",", "types", "type", "utils", ")", "{", "executable", "element", "method", "on", "class", "=", "get", "method", "on", "class", "(", "clazz", ",", "method", ",", "type", "utils", ")", ";", "if", "(", "method", "on", "class", "=", "=", "null", ")", "{", "return", "false", ";", "}", "set", "<", "modifier", ">", "modifiers", "=", "method", "on", "class", ".", "get", "modifiers", "(", ")", ";", "return", "!", "modifiers", ".", "contains", "(", "modifier", ".", "abstract", ")", ";", "}"], "new_code": "static boolean implements method ( type element clazz , method spec method , types type utils ) { executable element method on class = get method on class ( clazz , method , type utils ) ; if ( method on class = = null ) { return false ; } element implementing class = method on class . get enclosing element ( ) ; if ( implementing class . get simple name ( ) . to string ( ) . equals ( str ) ) { return false ; } set < modifier > modifiers = method on class . get modifiers ( ) ; return ! modifiers . contains ( modifier . abstract ) ; }", "new_code_tokens": ["static", "boolean", "implements", "method", "(", "type", "element", "clazz", ",", "method", "spec", "method", ",", "types", "type", "utils", ")", "{", "executable", "element", "method", "on", "class", "=", "get", "method", "on", "class", "(", "clazz", ",", "method", ",", "type", "utils", ")", ";", "if", "(", "method", "on", "class", "=", "=", "null", ")", "{", "return", "false", ";", "}", "element", "implementing", "class", "=", "method", "on", "class", ".", "get", "enclosing", "element", "(", ")", ";", "if", "(", "implementing", "class", ".", "get", "simple", "name", "(", ")", ".", "to", "string", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "set", "<", "modifier", ">", "modifiers", "=", "method", "on", "class", ".", "get", "modifiers", "(", ")", ";", "return", "!", "modifiers", ".", "contains", "(", "modifier", ".", "abstract", ")", ";", "}"], "span_diff_code": "<KEEP> static boolean implements method ( type element clazz , method spec method , types type utils ) { executable element method on class = get method on class ( clazz , method , type utils ) ; if ( method on class = = null ) { return false ; } <KEEP_END> <INSERT> element implementing class = method on class . get enclosing element ( ) ; if ( implementing class . get simple name ( ) . to string ( ) . equals ( str ) ) { return false ; } <INSERT_END> <KEEP> set < modifier > modifiers = method on class . get modifiers ( ) ; return ! modifiers . contains ( modifier . abstract ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "boolean", "implements", "method", "(", "type", "element", "clazz", ",", "method", "spec", "method", ",", "types", "type", "utils", ")", "{", "executable", "element", "method", "on", "class", "=", "get", "method", "on", "class", "(", "clazz", ",", "method", ",", "type", "utils", ")", ";", "if", "(", "method", "on", "class", "=", "=", "null", ")", "{", "return", "false", ";", "}", "<KEEP_END>", "<INSERT>", "element", "implementing", "class", "=", "method", "on", "class", ".", "get", "enclosing", "element", "(", ")", ";", "if", "(", "implementing", "class", ".", "get", "simple", "name", "(", ")", ".", "to", "string", "(", ")", ".", "equals", "(", "str", ")", ")", "{", "return", "false", ";", "}", "<INSERT_END>", "<KEEP>", "set", "<", "modifier", ">", "modifiers", "=", "method", "on", "class", ".", "get", "modifiers", "(", ")", ";", "return", "!", "modifiers", ".", "contains", "(", "modifier", ".", "abstract", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> superclasses <INSERT_NEW_KEEP_BEFORE> superclasses except for object <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "superclasses", "<INSERT_NEW_KEEP_BEFORE>", "superclasses", "except", "for", "object", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "implements", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "element", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", "spec", "<KEEP>", "method", "<KEEP>", ",", "<KEEP>", "types", "<KEEP>", "type", "<KEEP>", "utils", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "executable", "<KEEP>", "element", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", "(", "<KEEP>", "clazz", "<KEEP>", ",", "<KEEP>", "method", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", "utils", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "element", "<INSERT>", "implementing", "<INSERT>", "class", "<INSERT>", "=", "<INSERT>", "method", "<INSERT>", "on", "<INSERT>", "class", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "enclosing", "<INSERT>", "element", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "implementing", "<INSERT>", "class", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "simple", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "string", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "modifier", "<KEEP>", ">", "<KEEP>", "modifiers", "<KEEP>", "=", "<KEEP>", "method", "<KEEP>", "on", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "modifiers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "!", "<KEEP>", "modifiers", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<KEEP>", "modifier", "<KEEP>", ".", "<KEEP>", "abstract", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "murat8505_userapi-java-0-5914", "old_comment": "the last element in this list", "old_comment_tokens": ["the", "last", "element", "in", "this", "list"], "new_comment": "friend list for a user", "new_comment_tokens": ["friend", "list", "for", "a", "user"], "old_code": "public list < user > get friends ( long id , int from , int to , friends types type ) throws ioexception , jsonexception { list < user > friends = new linked list < user > ( ) ; url url = new url ( str + type . name ( ) + str + from + str + to + str + id + str + sid ) ; string json text = get text from url ( url ) ; jsonarray fr ; if ( type = = friends types . friends ) { fr = new jsonarray ( json text ) ; } else { fr = new jsonobject ( json text ) . get jsonarray ( str ) ; } for ( int i = num ; i < fr . length ( ) ; i + + ) { jsonarray user info = ( jsonarray ) fr . get ( i ) ; friends . add ( new user ( user info , this ) ) ; } return friends ; }", "old_code_tokens": ["public", "list", "<", "user", ">", "get", "friends", "(", "long", "id", ",", "int", "from", ",", "int", "to", ",", "friends", "types", "type", ")", "throws", "ioexception", ",", "jsonexception", "{", "list", "<", "user", ">", "friends", "=", "new", "linked", "list", "<", "user", ">", "(", ")", ";", "url", "url", "=", "new", "url", "(", "str", "+", "type", ".", "name", "(", ")", "+", "str", "+", "from", "+", "str", "+", "to", "+", "str", "+", "id", "+", "str", "+", "sid", ")", ";", "string", "json", "text", "=", "get", "text", "from", "url", "(", "url", ")", ";", "jsonarray", "fr", ";", "if", "(", "type", "=", "=", "friends", "types", ".", "friends", ")", "{", "fr", "=", "new", "jsonarray", "(", "json", "text", ")", ";", "}", "else", "{", "fr", "=", "new", "jsonobject", "(", "json", "text", ")", ".", "get", "jsonarray", "(", "str", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "fr", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "jsonarray", "user", "info", "=", "(", "jsonarray", ")", "fr", ".", "get", "(", "i", ")", ";", "friends", ".", "add", "(", "new", "user", "(", "user", "info", ",", "this", ")", ")", ";", "}", "return", "friends", ";", "}"], "new_code": "public list with total < user > get friends ( long id , int from , int to , friends types type ) throws ioexception , jsonexception { list < user > friends = new linked list < user > ( ) ; url url = new url ( str + type . name ( ) + str + from + str + to + str + id + str + sid ) ; string json text = get text from url ( url ) ; system . out . println ( json text ) ; jsonarray fr ; long count = - num ; if ( type = = friends types . friends _ new ) { jsonobject object = new jsonobject ( json text ) ; count = object . get long ( str ) ; fr = object . get jsonarray ( str ) ; } else { fr = new jsonarray ( json text ) ; } for ( int i = num ; i < fr . length ( ) ; i + + ) { jsonarray user info = ( jsonarray ) fr . get ( i ) ; friends . add ( new user ( user info , this ) ) ; } return new list with total < user > ( friends , count ) ; }", "new_code_tokens": ["public", "list", "with", "total", "<", "user", ">", "get", "friends", "(", "long", "id", ",", "int", "from", ",", "int", "to", ",", "friends", "types", "type", ")", "throws", "ioexception", ",", "jsonexception", "{", "list", "<", "user", ">", "friends", "=", "new", "linked", "list", "<", "user", ">", "(", ")", ";", "url", "url", "=", "new", "url", "(", "str", "+", "type", ".", "name", "(", ")", "+", "str", "+", "from", "+", "str", "+", "to", "+", "str", "+", "id", "+", "str", "+", "sid", ")", ";", "string", "json", "text", "=", "get", "text", "from", "url", "(", "url", ")", ";", "system", ".", "out", ".", "println", "(", "json", "text", ")", ";", "jsonarray", "fr", ";", "long", "count", "=", "-", "num", ";", "if", "(", "type", "=", "=", "friends", "types", ".", "friends", "_", "new", ")", "{", "jsonobject", "object", "=", "new", "jsonobject", "(", "json", "text", ")", ";", "count", "=", "object", ".", "get", "long", "(", "str", ")", ";", "fr", "=", "object", ".", "get", "jsonarray", "(", "str", ")", ";", "}", "else", "{", "fr", "=", "new", "jsonarray", "(", "json", "text", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "fr", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "jsonarray", "user", "info", "=", "(", "jsonarray", ")", "fr", ".", "get", "(", "i", ")", ";", "friends", ".", "add", "(", "new", "user", "(", "user", "info", ",", "this", ")", ")", ";", "}", "return", "new", "list", "with", "total", "<", "user", ">", "(", "friends", ",", "count", ")", ";", "}"], "span_diff_code": "<KEEP> public list <KEEP_END> <INSERT> with total <INSERT_END> <KEEP> < user > get friends ( long id , int from , int to , friends types type ) throws ioexception , jsonexception { list < user > friends = new linked list < user > ( ) ; url url = new url ( str + type . name ( ) + str + from + str + to + str + id + str + sid ) ; string json text = get text from url ( url ) ; <KEEP_END> <REPLACE_OLD> jsonarray fr <REPLACE_NEW> system . out . println ( json text ) ; jsonarray fr ; long count = - num <REPLACE_END> <KEEP> ; if ( type = = friends types . friends <KEEP_END> <REPLACE_OLD> ) { fr = new jsonarray ( json text <REPLACE_NEW> _ new ) { jsonobject object = new jsonobject ( json text ) ; count = object . get long ( str ) ; fr = object . get jsonarray ( str <REPLACE_END> <KEEP> ) ; } else { fr = new <KEEP_END> <REPLACE_OLD> jsonobject ( json text ) . get jsonarray ( str <REPLACE_NEW> jsonarray ( json text <REPLACE_END> <KEEP> ) ; } for ( int i = num ; i < fr . length ( ) ; i + + ) { jsonarray user info = ( jsonarray ) fr . get ( i ) ; friends . add ( new user ( user info , this ) ) ; } return <KEEP_END> <REPLACE_OLD> friends ; } <REPLACE_NEW> new list with total < user > ( friends , count ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<KEEP_END>", "<INSERT>", "with", "total", "<INSERT_END>", "<KEEP>", "<", "user", ">", "get", "friends", "(", "long", "id", ",", "int", "from", ",", "int", "to", ",", "friends", "types", "type", ")", "throws", "ioexception", ",", "jsonexception", "{", "list", "<", "user", ">", "friends", "=", "new", "linked", "list", "<", "user", ">", "(", ")", ";", "url", "url", "=", "new", "url", "(", "str", "+", "type", ".", "name", "(", ")", "+", "str", "+", "from", "+", "str", "+", "to", "+", "str", "+", "id", "+", "str", "+", "sid", ")", ";", "string", "json", "text", "=", "get", "text", "from", "url", "(", "url", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "jsonarray", "fr", "<REPLACE_NEW>", "system", ".", "out", ".", "println", "(", "json", "text", ")", ";", "jsonarray", "fr", ";", "long", "count", "=", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "if", "(", "type", "=", "=", "friends", "types", ".", "friends", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "fr", "=", "new", "jsonarray", "(", "json", "text", "<REPLACE_NEW>", "_", "new", ")", "{", "jsonobject", "object", "=", "new", "jsonobject", "(", "json", "text", ")", ";", "count", "=", "object", ".", "get", "long", "(", "str", ")", ";", "fr", "=", "object", ".", "get", "jsonarray", "(", "str", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "else", "{", "fr", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "jsonobject", "(", "json", "text", ")", ".", "get", "jsonarray", "(", "str", "<REPLACE_NEW>", "jsonarray", "(", "json", "text", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "for", "(", "int", "i", "=", "num", ";", "i", "<", "fr", ".", "length", "(", ")", ";", "i", "+", "+", ")", "{", "jsonarray", "user", "info", "=", "(", "jsonarray", ")", "fr", ".", "get", "(", "i", ")", ";", "friends", ".", "add", "(", "new", "user", "(", "user", "info", ",", "this", ")", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "friends", ";", "}", "<REPLACE_NEW>", "new", "list", "with", "total", "<", "user", ">", "(", "friends", ",", "count", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the last element in this <REPLACE_NEW> friend <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> list <INSERT_NEW_KEEP_BEFORE> list for a user <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "last", "element", "in", "this", "<REPLACE_NEW>", "friend", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "list", "<INSERT_NEW_KEEP_BEFORE>", "list", "for", "a", "user", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<INSERT>", "with", "<INSERT>", "total", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "friends", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "from", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "to", "<KEEP>", ",", "<KEEP>", "friends", "<KEEP>", "types", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "jsonexception", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", ">", "<KEEP>", "friends", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "linked", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "user", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "url", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "from", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "to", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "id", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sid", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "json", "<KEEP>", "text", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "from", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "jsonarray", "<REPLACE_OLD>", "fr", "<REPLACE_NEW>", "system", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "out", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "println", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "jsonarray", "<REPLACE_NEW>", "fr", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "count", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "friends", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "friends", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "fr", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "jsonarray", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "text", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "jsonobject", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "jsonobject", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "count", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "fr", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "jsonarray", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "fr", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "jsonobject", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "jsonarray", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "jsonarray", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "json", "<REPLACE_NEW>", "text", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "fr", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "jsonarray", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "jsonarray", "<KEEP>", ")", "<KEEP>", "fr", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "friends", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", ",", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "friends", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "with", "<REPLACE_NEW>", "total", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "user", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "friends", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "count", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_analysis-core-plugin-6-3772", "old_comment": "the action of the previous build , or null if no such build exists", "old_comment_tokens": ["the", "action", "of", "the", "previous", "build", ",", "or", "null", "if", "no", "such", "build", "exists"], "new_comment": "the previous build result", "new_comment_tokens": ["the", "previous", "build", "result"], "old_code": "public build result get previous result ( ) { return get previous action ( ) . get result ( ) ; }", "old_code_tokens": ["public", "build", "result", "get", "previous", "result", "(", ")", "{", "return", "get", "previous", "action", "(", ")", ".", "get", "result", "(", ")", ";", "}"], "new_code": "public build result get previous result ( ) { result action < ? extends build result > action = get previous action ( ) ; if ( action ! = null ) { return action . get result ( ) ; } throw new no such element exception ( str ) ; }", "new_code_tokens": ["public", "build", "result", "get", "previous", "result", "(", ")", "{", "result", "action", "<", "?", "extends", "build", "result", ">", "action", "=", "get", "previous", "action", "(", ")", ";", "if", "(", "action", "!", "=", "null", ")", "{", "return", "action", ".", "get", "result", "(", ")", ";", "}", "throw", "new", "no", "such", "element", "exception", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public build result get previous result ( ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> result action < ? extends build result > action = <REPLACE_END> <KEEP> get previous action ( ) <KEEP_END> <INSERT> ; if ( action ! = null ) { return action <INSERT_END> <KEEP> . get result ( ) ; } <KEEP_END> <INSERT> throw new no such element exception ( str ) ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "build", "result", "get", "previous", "result", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "result", "action", "<", "?", "extends", "build", "result", ">", "action", "=", "<REPLACE_END>", "<KEEP>", "get", "previous", "action", "(", ")", "<KEEP_END>", "<INSERT>", ";", "if", "(", "action", "!", "=", "null", ")", "{", "return", "action", "<INSERT_END>", "<KEEP>", ".", "get", "result", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "throw", "new", "no", "such", "element", "exception", "(", "str", ")", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> the action of <DELETE_END> <REPLACE_OLD> , or null if no such build exists <REPLACE_NEW> result <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "action", "of", "<DELETE_END>", "<REPLACE_OLD>", ",", "or", "null", "if", "no", "such", "build", "exists", "<REPLACE_NEW>", "result", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "build", "<KEEP>", "result", "<KEEP>", "get", "<KEEP>", "previous", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "extends", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "action", "<REPLACE_NEW>", "=", "<KEEP>", "get", "<KEEP>", "previous", "<KEEP>", "action", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "action", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "action", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "result", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "no", "<INSERT>", "such", "<INSERT>", "element", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "albfan_sqlworkbenchj-32-4378", "old_comment": "a data store which contains the grant information .", "old_comment_tokens": ["a", "data", "store", "which", "contains", "the", "grant", "information", "."], "new_comment": "a list with table grant objects .", "new_comment_tokens": ["a", "list", "with", "table", "grant", "objects", "."], "old_code": "public data store get table grants ( table identifier table ) { string [ ] columns = new string [ ] { str , str , str , str , str } ; int [ ] col types = new int [ ] { types . varchar , types . varchar , types . varchar , types . varchar , types . varchar } ; data store result = new data store ( columns , col types ) ; result set rs = null ; try { table identifier tbl = table . create copy ( ) ; tbl . adjust case ( this . db connection ) ; rs = this . meta data . get table privileges ( tbl . get catalog ( ) , tbl . get schema ( ) , tbl . get table name ( ) ) ; while ( rs . next ( ) ) { int row = result . add row ( ) ; result . set value ( row , column _ idx _ table _ grants _ object _ name , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ grantor , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ grantee , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ priv , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ grantable , rs . get string ( num ) ) ; } } catch ( exception e ) { log mgr . log error ( str , str , e ) ; result . reset ( ) ; } finally { try { rs . close ( ) ; } catch ( throwable th ) { } } return result ; }", "old_code_tokens": ["public", "data", "store", "get", "table", "grants", "(", "table", "identifier", "table", ")", "{", "string", "[", "]", "columns", "=", "new", "string", "[", "]", "{", "str", ",", "str", ",", "str", ",", "str", ",", "str", "}", ";", "int", "[", "]", "col", "types", "=", "new", "int", "[", "]", "{", "types", ".", "varchar", ",", "types", ".", "varchar", ",", "types", ".", "varchar", ",", "types", ".", "varchar", ",", "types", ".", "varchar", "}", ";", "data", "store", "result", "=", "new", "data", "store", "(", "columns", ",", "col", "types", ")", ";", "result", "set", "rs", "=", "null", ";", "try", "{", "table", "identifier", "tbl", "=", "table", ".", "create", "copy", "(", ")", ";", "tbl", ".", "adjust", "case", "(", "this", ".", "db", "connection", ")", ";", "rs", "=", "this", ".", "meta", "data", ".", "get", "table", "privileges", "(", "tbl", ".", "get", "catalog", "(", ")", ",", "tbl", ".", "get", "schema", "(", ")", ",", "tbl", ".", "get", "table", "name", "(", ")", ")", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "int", "row", "=", "result", ".", "add", "row", "(", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "object", "_", "name", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "grantor", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "grantee", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "priv", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "grantable", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", "mgr", ".", "log", "error", "(", "str", ",", "str", ",", "e", ")", ";", "result", ".", "reset", "(", ")", ";", "}", "finally", "{", "try", "{", "rs", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "th", ")", "{", "}", "}", "return", "result", ";", "}"], "new_code": "public collection < table grant > get table grants ( table identifier table ) { collection < table grant > result = new hash set < table grant > ( ) ; result set rs = null ; try { table identifier tbl = table . create copy ( ) ; tbl . adjust case ( this . db connection ) ; rs = this . meta data . get table privileges ( tbl . get catalog ( ) , tbl . get schema ( ) , tbl . get table name ( ) ) ; while ( rs . next ( ) ) { string from = rs . get string ( num ) ; string to = rs . get string ( num ) ; string what = rs . get string ( num ) ; boolean grantable = string util . string to bool ( rs . get string ( num ) ) ; table grant grant = new table grant ( to , what , grantable ) ; result . add ( grant ) ; } } catch ( exception e ) { log mgr . log error ( str , str , e ) ; } finally { try { rs . close ( ) ; } catch ( throwable th ) { } } return result ; }", "new_code_tokens": ["public", "collection", "<", "table", "grant", ">", "get", "table", "grants", "(", "table", "identifier", "table", ")", "{", "collection", "<", "table", "grant", ">", "result", "=", "new", "hash", "set", "<", "table", "grant", ">", "(", ")", ";", "result", "set", "rs", "=", "null", ";", "try", "{", "table", "identifier", "tbl", "=", "table", ".", "create", "copy", "(", ")", ";", "tbl", ".", "adjust", "case", "(", "this", ".", "db", "connection", ")", ";", "rs", "=", "this", ".", "meta", "data", ".", "get", "table", "privileges", "(", "tbl", ".", "get", "catalog", "(", ")", ",", "tbl", ".", "get", "schema", "(", ")", ",", "tbl", ".", "get", "table", "name", "(", ")", ")", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "string", "from", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "string", "to", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "string", "what", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "boolean", "grantable", "=", "string", "util", ".", "string", "to", "bool", "(", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "table", "grant", "grant", "=", "new", "table", "grant", "(", "to", ",", "what", ",", "grantable", ")", ";", "result", ".", "add", "(", "grant", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", "mgr", ".", "log", "error", "(", "str", ",", "str", ",", "e", ")", ";", "}", "finally", "{", "try", "{", "rs", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "th", ")", "{", "}", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> data store <REPLACE_NEW> collection < table grant > <REPLACE_END> <KEEP> get table grants ( table identifier table ) { <KEEP_END> <REPLACE_OLD> string [ ] columns <REPLACE_NEW> collection < table grant > result <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> string [ ] { str , str , str , str , str } ; int [ ] col types = new int [ ] { types . varchar , types . varchar , types . varchar , types . varchar , types . varchar } ; data store result = new data store ( columns , col types <REPLACE_NEW> hash set < table grant > ( <REPLACE_END> <KEEP> ) ; result set rs = null ; try { table identifier tbl = table . create copy ( ) ; tbl . adjust case ( this . db connection ) ; rs = this . meta data . get table privileges ( tbl . get catalog ( ) , tbl . get schema ( ) , tbl . get table name ( ) ) ; while ( rs . next ( ) ) { <KEEP_END> <REPLACE_OLD> int row = <REPLACE_NEW> string from = rs . get string ( num ) ; string to = rs . get string ( num ) ; string what = rs . get string ( num ) ; boolean grantable = string util . string to bool ( rs . get string ( num ) ) ; table grant grant = new table grant ( to , what , grantable ) ; <REPLACE_END> <KEEP> result . add <KEEP_END> <REPLACE_OLD> row ( ) ; result . set value ( row , column _ idx _ table _ grants _ object _ name , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ grantor , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ grantee , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ priv , rs . get string ( num ) ) ; result . set value ( row , column _ idx _ table _ grants _ grantable , rs . get string ( num ) <REPLACE_NEW> ( grant <REPLACE_END> <KEEP> ) ; } } catch ( exception e ) { log mgr . log error ( str , str , e ) ; <KEEP_END> <DELETE> result . reset ( ) ; <DELETE_END> <KEEP> } finally { try { rs . close ( ) ; } catch ( throwable th ) { } } return result ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "data", "store", "<REPLACE_NEW>", "collection", "<", "table", "grant", ">", "<REPLACE_END>", "<KEEP>", "get", "table", "grants", "(", "table", "identifier", "table", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "[", "]", "columns", "<REPLACE_NEW>", "collection", "<", "table", "grant", ">", "result", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "string", "[", "]", "{", "str", ",", "str", ",", "str", ",", "str", ",", "str", "}", ";", "int", "[", "]", "col", "types", "=", "new", "int", "[", "]", "{", "types", ".", "varchar", ",", "types", ".", "varchar", ",", "types", ".", "varchar", ",", "types", ".", "varchar", ",", "types", ".", "varchar", "}", ";", "data", "store", "result", "=", "new", "data", "store", "(", "columns", ",", "col", "types", "<REPLACE_NEW>", "hash", "set", "<", "table", "grant", ">", "(", "<REPLACE_END>", "<KEEP>", ")", ";", "result", "set", "rs", "=", "null", ";", "try", "{", "table", "identifier", "tbl", "=", "table", ".", "create", "copy", "(", ")", ";", "tbl", ".", "adjust", "case", "(", "this", ".", "db", "connection", ")", ";", "rs", "=", "this", ".", "meta", "data", ".", "get", "table", "privileges", "(", "tbl", ".", "get", "catalog", "(", ")", ",", "tbl", ".", "get", "schema", "(", ")", ",", "tbl", ".", "get", "table", "name", "(", ")", ")", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "int", "row", "=", "<REPLACE_NEW>", "string", "from", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "string", "to", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "string", "what", "=", "rs", ".", "get", "string", "(", "num", ")", ";", "boolean", "grantable", "=", "string", "util", ".", "string", "to", "bool", "(", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "table", "grant", "grant", "=", "new", "table", "grant", "(", "to", ",", "what", ",", "grantable", ")", ";", "<REPLACE_END>", "<KEEP>", "result", ".", "add", "<KEEP_END>", "<REPLACE_OLD>", "row", "(", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "object", "_", "name", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "grantor", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "grantee", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "priv", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ";", "result", ".", "set", "value", "(", "row", ",", "column", "_", "idx", "_", "table", "_", "grants", "_", "grantable", ",", "rs", ".", "get", "string", "(", "num", ")", "<REPLACE_NEW>", "(", "grant", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "log", "mgr", ".", "log", "error", "(", "str", ",", "str", ",", "e", ")", ";", "<KEEP_END>", "<DELETE>", "result", ".", "reset", "(", ")", ";", "<DELETE_END>", "<KEEP>", "}", "finally", "{", "try", "{", "rs", ".", "close", "(", ")", ";", "}", "catch", "(", "throwable", "th", ")", "{", "}", "}", "return", "result", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> data store which contains the <REPLACE_NEW> list with table <REPLACE_END> <REPLACE_OLD> information <REPLACE_NEW> objects <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "data", "store", "which", "contains", "the", "<REPLACE_NEW>", "list", "with", "table", "<REPLACE_END>", "<REPLACE_OLD>", "information", "<REPLACE_NEW>", "objects", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "store", "<REPLACE_NEW>", "collection", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "grant", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "grants", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "identifier", "<KEEP>", "table", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "columns", "<REPLACE_NEW>", "collection", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "grant", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "result", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "col", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "varchar", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "varchar", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "varchar", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "varchar", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "types", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "varchar", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "store", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "data", "<REPLACE_OLD>", "store", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "columns", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "col", "<REPLACE_OLD>", "types", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "grant", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "table", "<KEEP>", "identifier", "<KEEP>", "tbl", "<KEEP>", "=", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "copy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "tbl", "<KEEP>", ".", "<KEEP>", "adjust", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "db", "<KEEP>", "connection", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rs", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "privileges", "<KEEP>", "(", "<KEEP>", "tbl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "catalog", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "tbl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "tbl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "from", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "rs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "rs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "what", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "rs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "grantable", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "util", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "bool", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "rs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "grant", "<REPLACE_NEW>", "grant", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "table", "<REPLACE_NEW>", "grant", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "what", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "grantable", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "add", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grants", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "object", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grants", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grantor", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grants", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grantee", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grants", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "priv", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "row", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "column", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "idx", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "table", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grants", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "grantable", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "grant", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", "mgr", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "result", "<DELETE>", ".", "<DELETE>", "reset", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "rs", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "th", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "result", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-avatica-141-5439", "old_comment": "the multi join rel corresponding to this multijoin", "old_comment_tokens": ["the", "multi", "join", "rel", "corresponding", "to", "this", "multijoin"], "new_comment": "the multi join corresponding to this multijoin", "new_comment_tokens": ["the", "multi", "join", "corresponding", "to", "this", "multijoin"], "old_code": "public multi join rel get multi join rel ( ) { return multi join ; }", "old_code_tokens": ["public", "multi", "join", "rel", "get", "multi", "join", "rel", "(", ")", "{", "return", "multi", "join", ";", "}"], "new_code": "public multi join get multi join rel ( ) { return multi join ; }", "new_code_tokens": ["public", "multi", "join", "get", "multi", "join", "rel", "(", ")", "{", "return", "multi", "join", ";", "}"], "span_diff_code": "<KEEP> public multi join <KEEP_END> <DELETE> rel <DELETE_END> <KEEP> get multi join rel ( ) { return multi join ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "multi", "join", "<KEEP_END>", "<DELETE>", "rel", "<DELETE_END>", "<KEEP>", "get", "multi", "join", "rel", "(", ")", "{", "return", "multi", "join", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> rel <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "rel", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "multi", "<KEEP>", "join", "<DELETE>", "rel", "<KEEP>", "get", "<KEEP>", "multi", "<KEEP>", "join", "<KEEP>", "rel", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "multi", "<KEEP>", "join", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "macalinao_albkit-16-5745", "old_comment": "whether this chat section ' s argument can be parsed as a boolean", "old_comment_tokens": ["whether", "this", "chat", "section", "'", "s", "argument", "can", "be", "parsed", "as", "a", "boolean"], "new_comment": "whether this chat section ' s value can be parsed as a boolean", "new_comment_tokens": ["whether", "this", "chat", "section", "'", "s", "value", "can", "be", "parsed", "as", "a", "boolean"], "old_code": "public boolean is boolean ( ) { return arg . equals ( str ) | | arg . equals ( str ) ; }", "old_code_tokens": ["public", "boolean", "is", "boolean", "(", ")", "{", "return", "arg", ".", "equals", "(", "str", ")", "|", "|", "arg", ".", "equals", "(", "str", ")", ";", "}"], "new_code": "public boolean is boolean ( ) { return raw . equals ( str ) | | raw . equals ( str ) ; }", "new_code_tokens": ["public", "boolean", "is", "boolean", "(", ")", "{", "return", "raw", ".", "equals", "(", "str", ")", "|", "|", "raw", ".", "equals", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is boolean ( ) { return <KEEP_END> <REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END> <KEEP> . equals ( str ) | | <KEEP_END> <REPLACE_OLD> arg <REPLACE_NEW> raw <REPLACE_END> <KEEP> . equals ( str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "boolean", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", ".", "equals", "(", "str", ")", "|", "|", "<KEEP_END>", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<REPLACE_END>", "<KEEP>", ".", "equals", "(", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> argument <REPLACE_NEW> value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "argument", "<REPLACE_NEW>", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<REPLACE_OLD>", "arg", "<REPLACE_NEW>", "raw", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_checker-framework-127-6922", "old_comment": "true if the annotated type mirror contains the unknown val or array len annotation mirror , false otherwise", "old_comment_tokens": ["true", "if", "the", "annotated", "type", "mirror", "contains", "the", "unknown", "val", "or", "array", "len", "annotation", "mirror", ",", "false", "otherwise"], "new_comment": "true if the annotated type mirror contains the unknown val , array len , to bottom val , false otherwise", "new_comment_tokens": ["true", "if", "the", "annotated", "type", "mirror", "contains", "the", "unknown", "val", ",", "array", "len", ",", "to", "bottom", "val", ",", "false", "otherwise"], "old_code": "private boolean non value anno ( annotated type mirror mirror ) { return annotation utils . are same ignoring values ( get value annotation ( mirror ) , unknownval ) | | annotation utils . are same ignoring values ( mirror . get annotation in hierarchy ( arraylen ) , arraylen ) ; }", "old_code_tokens": ["private", "boolean", "non", "value", "anno", "(", "annotated", "type", "mirror", "mirror", ")", "{", "return", "annotation", "utils", ".", "are", "same", "ignoring", "values", "(", "get", "value", "annotation", "(", "mirror", ")", ",", "unknownval", ")", "|", "|", "annotation", "utils", ".", "are", "same", "ignoring", "values", "(", "mirror", ".", "get", "annotation", "in", "hierarchy", "(", "arraylen", ")", ",", "arraylen", ")", ";", "}"], "new_code": "private boolean non value anno ( annotated type mirror mirror ) { annotation mirror value anno = get value annotation ( mirror ) ; return annotation utils . are same ignoring values ( value anno , unknownval ) | | annotation utils . are same by class ( value anno , bottom val . class ) | | annotation utils . are same ignoring values ( mirror . get annotation in hierarchy ( arraylen ) , arraylen ) ; }", "new_code_tokens": ["private", "boolean", "non", "value", "anno", "(", "annotated", "type", "mirror", "mirror", ")", "{", "annotation", "mirror", "value", "anno", "=", "get", "value", "annotation", "(", "mirror", ")", ";", "return", "annotation", "utils", ".", "are", "same", "ignoring", "values", "(", "value", "anno", ",", "unknownval", ")", "|", "|", "annotation", "utils", ".", "are", "same", "by", "class", "(", "value", "anno", ",", "bottom", "val", ".", "class", ")", "|", "|", "annotation", "utils", ".", "are", "same", "ignoring", "values", "(", "mirror", ".", "get", "annotation", "in", "hierarchy", "(", "arraylen", ")", ",", "arraylen", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean non value anno ( annotated type mirror mirror ) { <KEEP_END> <INSERT> annotation mirror value anno = get value annotation ( mirror ) ; <INSERT_END> <KEEP> return annotation utils . are same ignoring values ( <KEEP_END> <DELETE> get <DELETE_END> <KEEP> value <KEEP_END> <REPLACE_OLD> annotation ( mirror ) <REPLACE_NEW> anno <REPLACE_END> <KEEP> , unknownval <KEEP_END> <INSERT> ) | | annotation utils . are same by class ( value anno , bottom val . class <INSERT_END> <KEEP> ) | | annotation utils . are same ignoring values ( mirror . get annotation in hierarchy ( arraylen ) , arraylen ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "non", "value", "anno", "(", "annotated", "type", "mirror", "mirror", ")", "{", "<KEEP_END>", "<INSERT>", "annotation", "mirror", "value", "anno", "=", "get", "value", "annotation", "(", "mirror", ")", ";", "<INSERT_END>", "<KEEP>", "return", "annotation", "utils", ".", "are", "same", "ignoring", "values", "(", "<KEEP_END>", "<DELETE>", "get", "<DELETE_END>", "<KEEP>", "value", "<KEEP_END>", "<REPLACE_OLD>", "annotation", "(", "mirror", ")", "<REPLACE_NEW>", "anno", "<REPLACE_END>", "<KEEP>", ",", "unknownval", "<KEEP_END>", "<INSERT>", ")", "|", "|", "annotation", "utils", ".", "are", "same", "by", "class", "(", "value", "anno", ",", "bottom", "val", ".", "class", "<INSERT_END>", "<KEEP>", ")", "|", "|", "annotation", "utils", ".", "are", "same", "ignoring", "values", "(", "mirror", ".", "get", "annotation", "in", "hierarchy", "(", "arraylen", ")", ",", "arraylen", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> or <REPLACE_NEW> , <REPLACE_END> <REPLACE_OLD> annotation mirror <REPLACE_NEW> , to bottom val <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "or", "<REPLACE_NEW>", ",", "<REPLACE_END>", "<REPLACE_OLD>", "annotation", "mirror", "<REPLACE_NEW>", ",", "to", "bottom", "val", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "non", "<KEEP>", "value", "<KEEP>", "anno", "<KEEP>", "(", "<KEEP>", "annotated", "<KEEP>", "type", "<KEEP>", "mirror", "<KEEP>", "mirror", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "annotation", "<INSERT>", "mirror", "<INSERT>", "value", "<INSERT>", "anno", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "value", "<INSERT>", "annotation", "<INSERT>", "(", "<INSERT>", "mirror", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "annotation", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "are", "<KEEP>", "same", "<KEEP>", "ignoring", "<KEEP>", "values", "<KEEP>", "(", "<DELETE>", "get", "<KEEP>", "value", "<REPLACE_OLD>", "annotation", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mirror", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "anno", "<KEEP>", ",", "<KEEP>", "unknownval", "<INSERT>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "annotation", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "are", "<INSERT>", "same", "<INSERT>", "by", "<INSERT>", "class", "<INSERT>", "(", "<INSERT>", "value", "<INSERT>", "anno", "<INSERT>", ",", "<INSERT>", "bottom", "<INSERT>", "val", "<INSERT>", ".", "<INSERT>", "class", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "annotation", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "are", "<KEEP>", "same", "<KEEP>", "ignoring", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", "mirror", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "in", "<KEEP>", "hierarchy", "<KEEP>", "(", "<KEEP>", "arraylen", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "arraylen", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bobmcwhirter_drools-19-4957", "old_comment": "the rule set", "old_comment_tokens": ["the", "rule", "set"], "new_comment": "the pkg", "new_comment_tokens": ["the", "pkg"], "old_code": "public rule set get rule set ( ) { return this . rule set ; }", "old_code_tokens": ["public", "rule", "set", "get", "rule", "set", "(", ")", "{", "return", "this", ".", "rule", "set", ";", "}"], "new_code": "public package get rule set ( ) { return this . pkg ; }", "new_code_tokens": ["public", "package", "get", "rule", "set", "(", ")", "{", "return", "this", ".", "pkg", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> rule set <REPLACE_NEW> package <REPLACE_END> <KEEP> get rule set ( ) { return this . <KEEP_END> <REPLACE_OLD> rule set <REPLACE_NEW> pkg <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "rule", "set", "<REPLACE_NEW>", "package", "<REPLACE_END>", "<KEEP>", "get", "rule", "set", "(", ")", "{", "return", "this", ".", "<KEEP_END>", "<REPLACE_OLD>", "rule", "set", "<REPLACE_NEW>", "pkg", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> rule set <REPLACE_NEW> pkg <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "rule", "set", "<REPLACE_NEW>", "pkg", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "rule", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "package", "<KEEP>", "get", "<KEEP>", "rule", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<REPLACE_OLD>", "rule", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "pkg", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_loom-17-7328", "old_comment": "the component meta data", "old_comment_tokens": ["the", "component", "meta", "data"], "new_comment": "the component template", "new_comment_tokens": ["the", "component", "template"], "old_code": "protected component meta data get meta data ( final object entry ) { return ( component meta data ) entry ; }", "old_code_tokens": ["protected", "component", "meta", "data", "get", "meta", "data", "(", "final", "object", "entry", ")", "{", "return", "(", "component", "meta", "data", ")", "entry", ";", "}"], "new_code": "protected component template get meta data ( final object entry ) { return ( component template ) entry ; }", "new_code_tokens": ["protected", "component", "template", "get", "meta", "data", "(", "final", "object", "entry", ")", "{", "return", "(", "component", "template", ")", "entry", ";", "}"], "span_diff_code": "<KEEP> protected component <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> get meta data ( final object entry ) { return ( component <KEEP_END> <REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END> <KEEP> ) entry ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "component", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", "get", "meta", "data", "(", "final", "object", "entry", ")", "{", "return", "(", "component", "<KEEP_END>", "<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>", "<KEEP>", ")", "entry", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> meta data <REPLACE_NEW> template <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "meta", "data", "<REPLACE_NEW>", "template", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "component", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", "get", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "object", "<KEEP>", "entry", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "component", "<REPLACE_OLD>", "meta", "<REPLACE_OLD>", "data", "<REPLACE_NEW>", "template", "<KEEP>", ")", "<KEEP>", "entry", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Graylog2_graylog2-server-3-1092", "old_comment": "index name and index stats", "old_comment_tokens": ["index", "name", "and", "index", "stats"], "new_comment": "index name and aliases of that index", "new_comment_tokens": ["index", "name", "and", "aliases", "of", "that", "index"], "old_code": "public map < string , index stats > get all graylog deflector indices ( ) { final immutable map . builder < string , index stats > result = immutable map . builder ( ) ; for ( map . entry < string , index stats > e : indices . get all ( ) . entry set ( ) ) { final string name = e . get key ( ) ; if ( is graylog deflector index ( name ) ) { result . put ( name , e . get value ( ) ) ; } } return result . build ( ) ; }", "old_code_tokens": ["public", "map", "<", "string", ",", "index", "stats", ">", "get", "all", "graylog", "deflector", "indices", "(", ")", "{", "final", "immutable", "map", ".", "builder", "<", "string", ",", "index", "stats", ">", "result", "=", "immutable", "map", ".", "builder", "(", ")", ";", "for", "(", "map", ".", "entry", "<", "string", ",", "index", "stats", ">", "e", ":", "indices", ".", "get", "all", "(", ")", ".", "entry", "set", "(", ")", ")", "{", "final", "string", "name", "=", "e", ".", "get", "key", "(", ")", ";", "if", "(", "is", "graylog", "deflector", "index", "(", "name", ")", ")", "{", "result", ".", "put", "(", "name", ",", "e", ".", "get", "value", "(", ")", ")", ";", "}", "}", "return", "result", ".", "build", "(", ")", ";", "}"], "new_code": "public map < string , set < string > > get all graylog deflector indices ( ) { final map < string , set < string > > index names and aliases = indices . get index names and aliases ( get deflector wildcard ( ) ) ; return index names and aliases . entry set ( ) . stream ( ) . filter ( e - > is graylog deflector index ( e . get key ( ) ) ) . collect ( collectors . to map ( map . entry : : get key , map . entry : : get value ) ) ; }", "new_code_tokens": ["public", "map", "<", "string", ",", "set", "<", "string", ">", ">", "get", "all", "graylog", "deflector", "indices", "(", ")", "{", "final", "map", "<", "string", ",", "set", "<", "string", ">", ">", "index", "names", "and", "aliases", "=", "indices", ".", "get", "index", "names", "and", "aliases", "(", "get", "deflector", "wildcard", "(", ")", ")", ";", "return", "index", "names", "and", "aliases", ".", "entry", "set", "(", ")", ".", "stream", "(", ")", ".", "filter", "(", "e", "-", ">", "is", "graylog", "deflector", "index", "(", "e", ".", "get", "key", "(", ")", ")", ")", ".", "collect", "(", "collectors", ".", "to", "map", "(", "map", ".", "entry", ":", ":", "get", "key", ",", "map", ".", "entry", ":", ":", "get", "value", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public map < string , <KEEP_END> <REPLACE_OLD> index stats <REPLACE_NEW> set < string > <REPLACE_END> <KEEP> > get all graylog deflector indices ( ) { final <KEEP_END> <DELETE> immutable <DELETE_END> <KEEP> map <KEEP_END> <DELETE> . builder <DELETE_END> <KEEP> < string , <KEEP_END> <REPLACE_OLD> index stats > result = immutable map . builder ( ) ; for ( map . entry <REPLACE_NEW> set <REPLACE_END> <KEEP> < string <KEEP_END> <REPLACE_OLD> , <REPLACE_NEW> > > <REPLACE_END> <KEEP> index <KEEP_END> <REPLACE_OLD> stats > e : <REPLACE_NEW> names and aliases = <REPLACE_END> <KEEP> indices . get <KEEP_END> <REPLACE_OLD> all <REPLACE_NEW> index names and aliases ( get deflector wildcard <REPLACE_END> <KEEP> ( ) <KEEP_END> <INSERT> ) ; return index names and aliases <INSERT_END> <KEEP> . entry set ( ) <KEEP_END> <INSERT> . stream ( <INSERT_END> <KEEP> ) <KEEP_END> <REPLACE_OLD> { final string name = <REPLACE_NEW> . filter ( e - > is graylog deflector index ( <REPLACE_END> <KEEP> e . get key ( ) <KEEP_END> <DELETE> ; if ( is graylog deflector index ( name <DELETE_END> <KEEP> ) ) <KEEP_END> <DELETE> { result <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> put <REPLACE_NEW> collect <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> name <REPLACE_NEW> collectors . to map ( map . entry : : get key <REPLACE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> e <REPLACE_NEW> map <REPLACE_END> <KEEP> . <KEEP_END> <INSERT> entry : : <INSERT_END> <KEEP> get value <KEEP_END> <DELETE> ( <DELETE_END> <KEEP> ) ) ; } <KEEP_END> <DELETE> } return result . build ( ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "map", "<", "string", ",", "<KEEP_END>", "<REPLACE_OLD>", "index", "stats", "<REPLACE_NEW>", "set", "<", "string", ">", "<REPLACE_END>", "<KEEP>", ">", "get", "all", "graylog", "deflector", "indices", "(", ")", "{", "final", "<KEEP_END>", "<DELETE>", "immutable", "<DELETE_END>", "<KEEP>", "map", "<KEEP_END>", "<DELETE>", ".", "builder", "<DELETE_END>", "<KEEP>", "<", "string", ",", "<KEEP_END>", "<REPLACE_OLD>", "index", "stats", ">", "result", "=", "immutable", "map", ".", "builder", "(", ")", ";", "for", "(", "map", ".", "entry", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "<", "string", "<KEEP_END>", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ">", ">", "<REPLACE_END>", "<KEEP>", "index", "<KEEP_END>", "<REPLACE_OLD>", "stats", ">", "e", ":", "<REPLACE_NEW>", "names", "and", "aliases", "=", "<REPLACE_END>", "<KEEP>", "indices", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "index", "names", "and", "aliases", "(", "get", "deflector", "wildcard", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<INSERT>", ")", ";", "return", "index", "names", "and", "aliases", "<INSERT_END>", "<KEEP>", ".", "entry", "set", "(", ")", "<KEEP_END>", "<INSERT>", ".", "stream", "(", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "final", "string", "name", "=", "<REPLACE_NEW>", ".", "filter", "(", "e", "-", ">", "is", "graylog", "deflector", "index", "(", "<REPLACE_END>", "<KEEP>", "e", ".", "get", "key", "(", ")", "<KEEP_END>", "<DELETE>", ";", "if", "(", "is", "graylog", "deflector", "index", "(", "name", "<DELETE_END>", "<KEEP>", ")", ")", "<KEEP_END>", "<DELETE>", "{", "result", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "collect", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "collectors", ".", "to", "map", "(", "map", ".", "entry", ":", ":", "get", "key", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", "map", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<INSERT>", "entry", ":", ":", "<INSERT_END>", "<KEEP>", "get", "value", "<KEEP_END>", "<DELETE>", "(", "<DELETE_END>", "<KEEP>", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "return", "result", ".", "build", "(", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> and <INSERT_NEW_KEEP_BEFORE> and aliases of that <INSERT_END> <DELETE> stats <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "and", "<INSERT_NEW_KEEP_BEFORE>", "and", "aliases", "of", "that", "<INSERT_END>", "<DELETE>", "stats", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "stats", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "graylog", "<KEEP>", "deflector", "<KEEP>", "indices", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<DELETE>", "immutable", "<KEEP>", "map", "<DELETE>", ".", "<DELETE>", "builder", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<REPLACE_OLD>", "index", "<REPLACE_OLD>", "stats", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "immutable", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "entry", "<REPLACE_NEW>", "set", "<KEEP>", "<", "<KEEP>", "string", "<REPLACE_OLD>", ",", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", ">", "<KEEP>", "index", "<REPLACE_OLD>", "stats", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", "names", "<REPLACE_NEW>", "and", "<REPLACE_NEW>", "aliases", "<REPLACE_NEW>", "=", "<KEEP>", "indices", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "names", "<REPLACE_NEW>", "and", "<REPLACE_NEW>", "aliases", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "deflector", "<REPLACE_NEW>", "wildcard", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "index", "<INSERT>", "names", "<INSERT>", "and", "<INSERT>", "aliases", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ".", "<INSERT>", "stream", "<INSERT>", "(", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "filter", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "e", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "graylog", "<REPLACE_NEW>", "deflector", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "(", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", "graylog", "<DELETE>", "deflector", "<DELETE>", "index", "<DELETE>", "(", "<DELETE>", "name", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "result", "<KEEP>", ".", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "collect", "<KEEP>", "(", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "collectors", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "key", "<KEEP>", ",", "<REPLACE_OLD>", "e", "<REPLACE_NEW>", "map", "<KEEP>", ".", "<INSERT>", "entry", "<INSERT>", ":", "<INSERT>", ":", "<KEEP>", "get", "<KEEP>", "value", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "result", "<DELETE>", ".", "<DELETE>", "build", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "apache_qpid-jms-14-5340", "old_comment": "the annotation type string , or null if the supplied destination is null or can ' t be classified", "old_comment_tokens": ["the", "annotation", "type", "string", ",", "or", "null", "if", "the", "supplied", "destination", "is", "null", "or", "can", "'", "t", "be", "classified"], "new_comment": "the annotation type value , or null if the supplied destination is null or can ' t be classified", "new_comment_tokens": ["the", "annotation", "type", "value", ",", "or", "null", "if", "the", "supplied", "destination", "is", "null", "or", "can", "'", "t", "be", "classified"], "old_code": "private string to type annotation ( jms destination destination ) { if ( destination = = null ) { return null ; } if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ attributes _ string ; } else { return queue _ attributes _ string ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ attributes _ string ; } else { return topic _ attributes _ string ; } } return null ; }", "old_code_tokens": ["private", "string", "to", "type", "annotation", "(", "jms", "destination", "destination", ")", "{", "if", "(", "destination", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "queue", "_", "attributes", "_", "string", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "topic", "_", "attributes", "_", "string", ";", "}", "}", "return", "null", ";", "}"], "new_code": "private object to type annotation ( jms destination destination , boolean use byte value ) { if ( destination = = null ) { return null ; } if ( use byte value ) { if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ type ; } else { return queue _ type ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ type ; } else { return topic _ type ; } } } else { if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ attributes _ string ; } else { return queue _ attributes _ string ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ attributes _ string ; } else { return topic _ attributes _ string ; } } } return null ; }", "new_code_tokens": ["private", "object", "to", "type", "annotation", "(", "jms", "destination", "destination", ",", "boolean", "use", "byte", "value", ")", "{", "if", "(", "destination", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "use", "byte", "value", ")", "{", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "type", ";", "}", "else", "{", "return", "queue", "_", "type", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "type", ";", "}", "else", "{", "return", "topic", "_", "type", ";", "}", "}", "}", "else", "{", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "queue", "_", "attributes", "_", "string", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "topic", "_", "attributes", "_", "string", ";", "}", "}", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> object <REPLACE_END> <KEEP> to type annotation ( jms destination destination <KEEP_END> <INSERT> , boolean use byte value <INSERT_END> <KEEP> ) { if ( destination = = null ) { return null ; } if ( <KEEP_END> <REPLACE_OLD> destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ attributes _ string ; } else { return queue _ attributes _ string ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ attributes _ string ; } else { return topic _ attributes _ string ; <REPLACE_NEW> use byte value ) { if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ type ; } else { return queue _ type ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ type ; } else { return topic _ type ; } } } else { if ( destination . is queue ( ) ) { if ( destination . is temporary ( ) ) { return temp _ queue _ attributes _ string ; } else { return queue _ attributes _ string ; } } else if ( destination . is topic ( ) ) { if ( destination . is temporary ( ) ) { return temp _ topic _ attributes _ string ; } else { return topic _ attributes _ string ; } <REPLACE_END> <KEEP> } } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "object", "<REPLACE_END>", "<KEEP>", "to", "type", "annotation", "(", "jms", "destination", "destination", "<KEEP_END>", "<INSERT>", ",", "boolean", "use", "byte", "value", "<INSERT_END>", "<KEEP>", ")", "{", "if", "(", "destination", "=", "=", "null", ")", "{", "return", "null", ";", "}", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "queue", "_", "attributes", "_", "string", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "topic", "_", "attributes", "_", "string", ";", "<REPLACE_NEW>", "use", "byte", "value", ")", "{", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "type", ";", "}", "else", "{", "return", "queue", "_", "type", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "type", ";", "}", "else", "{", "return", "topic", "_", "type", ";", "}", "}", "}", "else", "{", "if", "(", "destination", ".", "is", "queue", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "queue", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "queue", "_", "attributes", "_", "string", ";", "}", "}", "else", "if", "(", "destination", ".", "is", "topic", "(", ")", ")", "{", "if", "(", "destination", ".", "is", "temporary", "(", ")", ")", "{", "return", "temp", "_", "topic", "_", "attributes", "_", "string", ";", "}", "else", "{", "return", "topic", "_", "attributes", "_", "string", ";", "}", "<REPLACE_END>", "<KEEP>", "}", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> string <REPLACE_NEW> value <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "string", "<REPLACE_NEW>", "value", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "object", "<KEEP>", "to", "<KEEP>", "type", "<KEEP>", "annotation", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "destination", "<KEEP>", "destination", "<INSERT>", ",", "<INSERT>", "boolean", "<INSERT>", "use", "<INSERT>", "byte", "<INSERT>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "destination", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "destination", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "queue", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "destination", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "temporary", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "temp", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "queue", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "queue", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "destination", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "topic", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "destination", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "temporary", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "temp", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "topic", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "topic", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "attributes", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "use", "<REPLACE_NEW>", "byte", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "temporary", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "temp", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "temporary", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "temp", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "temporary", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "temp", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "destination", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "temporary", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "temp", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "topic", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "attributes", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_certificate-transparency-java-4-5858", "old_comment": "built ct . timestamped entry .", "old_comment_tokens": ["built", "ct", ".", "timestamped", "entry", "."], "new_comment": "built timestamped entry .", "new_comment_tokens": ["built", "timestamped", "entry", "."], "old_code": "public static ct . timestamped entry parse timestamped entry ( input stream in ) { ct . timestamped entry . builder timestamped entry = ct . timestamped entry . new builder ( ) ; long timestamp = read number ( in , ctconstants . timestamp _ length ) ; timestamped entry . set timestamp ( timestamp ) ; int entry type = ( int ) read number ( in , ctconstants . log _ entry _ type _ length ) ; timestamped entry . set entry type ( ct . log entry type . value of ( entry type ) ) ; ct . signed entry . builder signed entry builder = ct . signed entry . new builder ( ) ; if ( entry type = = ct . log entry type . x509 _ entry _ value ) { int length = ( int ) read number ( in , num ) ; byte string x509 = byte string . copy from ( read fixed length ( in , length ) ) ; signed entry builder . set x509 ( x509 ) ; } else if ( entry type = = ct . log entry type . precert _ entry _ value ) { ct . pre cert . builder pre cert builder = ct . pre cert . new builder ( ) ; byte [ ] arr = read fixed length ( in , num ) ; pre cert builder . set issuer key hash ( byte string . copy from ( arr ) ) ; arr = read fixed length ( in , num ) ; int length = ( int ) read number ( in , num ) ; pre cert builder . set tbs certificate ( byte string . copy from ( read fixed length ( in , length ) ) ) ; pre cert builder . build ( ) ; signed entry builder . set precert ( pre cert builder ) ; } else { throw new serialization exception ( string . format ( str , entry type ) ) ; } signed entry builder . build ( ) ; timestamped entry . set signed entry ( signed entry builder ) ; return timestamped entry . build ( ) ; }", "old_code_tokens": ["public", "static", "ct", ".", "timestamped", "entry", "parse", "timestamped", "entry", "(", "input", "stream", "in", ")", "{", "ct", ".", "timestamped", "entry", ".", "builder", "timestamped", "entry", "=", "ct", ".", "timestamped", "entry", ".", "new", "builder", "(", ")", ";", "long", "timestamp", "=", "read", "number", "(", "in", ",", "ctconstants", ".", "timestamp", "_", "length", ")", ";", "timestamped", "entry", ".", "set", "timestamp", "(", "timestamp", ")", ";", "int", "entry", "type", "=", "(", "int", ")", "read", "number", "(", "in", ",", "ctconstants", ".", "log", "_", "entry", "_", "type", "_", "length", ")", ";", "timestamped", "entry", ".", "set", "entry", "type", "(", "ct", ".", "log", "entry", "type", ".", "value", "of", "(", "entry", "type", ")", ")", ";", "ct", ".", "signed", "entry", ".", "builder", "signed", "entry", "builder", "=", "ct", ".", "signed", "entry", ".", "new", "builder", "(", ")", ";", "if", "(", "entry", "type", "=", "=", "ct", ".", "log", "entry", "type", ".", "x509", "_", "entry", "_", "value", ")", "{", "int", "length", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "byte", "string", "x509", "=", "byte", "string", ".", "copy", "from", "(", "read", "fixed", "length", "(", "in", ",", "length", ")", ")", ";", "signed", "entry", "builder", ".", "set", "x509", "(", "x509", ")", ";", "}", "else", "if", "(", "entry", "type", "=", "=", "ct", ".", "log", "entry", "type", ".", "precert", "_", "entry", "_", "value", ")", "{", "ct", ".", "pre", "cert", ".", "builder", "pre", "cert", "builder", "=", "ct", ".", "pre", "cert", ".", "new", "builder", "(", ")", ";", "byte", "[", "]", "arr", "=", "read", "fixed", "length", "(", "in", ",", "num", ")", ";", "pre", "cert", "builder", ".", "set", "issuer", "key", "hash", "(", "byte", "string", ".", "copy", "from", "(", "arr", ")", ")", ";", "arr", "=", "read", "fixed", "length", "(", "in", ",", "num", ")", ";", "int", "length", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "pre", "cert", "builder", ".", "set", "tbs", "certificate", "(", "byte", "string", ".", "copy", "from", "(", "read", "fixed", "length", "(", "in", ",", "length", ")", ")", ")", ";", "pre", "cert", "builder", ".", "build", "(", ")", ";", "signed", "entry", "builder", ".", "set", "precert", "(", "pre", "cert", "builder", ")", ";", "}", "else", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "entry", "type", ")", ")", ";", "}", "signed", "entry", "builder", ".", "build", "(", ")", ";", "timestamped", "entry", ".", "set", "signed", "entry", "(", "signed", "entry", "builder", ")", ";", "return", "timestamped", "entry", ".", "build", "(", ")", ";", "}"], "new_code": "public static timestamped entry parse timestamped entry ( input stream in ) { timestamped entry timestamped entry = new timestamped entry ( ) ; timestamped entry . timestamp = read number ( in , ctconstants . timestamp _ length ) ; int entry type = ( int ) read number ( in , ctconstants . log _ entry _ type _ length ) ; timestamped entry . entry type = ct . log entry type . value of ( entry type ) ; ct . signed entry . builder signed entry builder = ct . signed entry . new builder ( ) ; if ( entry type = = ct . log entry type . x509 _ entry _ value ) { int length = ( int ) read number ( in , num ) ; byte string x509 = byte string . copy from ( read fixed length ( in , length ) ) ; signed entry builder . set x509 ( x509 ) ; } else if ( entry type = = ct . log entry type . precert _ entry _ value ) { ct . pre cert . builder pre cert builder = ct . pre cert . new builder ( ) ; byte [ ] arr = read fixed length ( in , num ) ; pre cert builder . set issuer key hash ( byte string . copy from ( arr ) ) ; arr = read fixed length ( in , num ) ; int length = ( int ) read number ( in , num ) ; pre cert builder . set tbs certificate ( byte string . copy from ( read fixed length ( in , length ) ) ) ; pre cert builder . build ( ) ; signed entry builder . set precert ( pre cert builder ) ; } else { throw new serialization exception ( string . format ( str , entry type ) ) ; } timestamped entry . signed entry = signed entry builder . build ( ) ; return timestamped entry ; }", "new_code_tokens": ["public", "static", "timestamped", "entry", "parse", "timestamped", "entry", "(", "input", "stream", "in", ")", "{", "timestamped", "entry", "timestamped", "entry", "=", "new", "timestamped", "entry", "(", ")", ";", "timestamped", "entry", ".", "timestamp", "=", "read", "number", "(", "in", ",", "ctconstants", ".", "timestamp", "_", "length", ")", ";", "int", "entry", "type", "=", "(", "int", ")", "read", "number", "(", "in", ",", "ctconstants", ".", "log", "_", "entry", "_", "type", "_", "length", ")", ";", "timestamped", "entry", ".", "entry", "type", "=", "ct", ".", "log", "entry", "type", ".", "value", "of", "(", "entry", "type", ")", ";", "ct", ".", "signed", "entry", ".", "builder", "signed", "entry", "builder", "=", "ct", ".", "signed", "entry", ".", "new", "builder", "(", ")", ";", "if", "(", "entry", "type", "=", "=", "ct", ".", "log", "entry", "type", ".", "x509", "_", "entry", "_", "value", ")", "{", "int", "length", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "byte", "string", "x509", "=", "byte", "string", ".", "copy", "from", "(", "read", "fixed", "length", "(", "in", ",", "length", ")", ")", ";", "signed", "entry", "builder", ".", "set", "x509", "(", "x509", ")", ";", "}", "else", "if", "(", "entry", "type", "=", "=", "ct", ".", "log", "entry", "type", ".", "precert", "_", "entry", "_", "value", ")", "{", "ct", ".", "pre", "cert", ".", "builder", "pre", "cert", "builder", "=", "ct", ".", "pre", "cert", ".", "new", "builder", "(", ")", ";", "byte", "[", "]", "arr", "=", "read", "fixed", "length", "(", "in", ",", "num", ")", ";", "pre", "cert", "builder", ".", "set", "issuer", "key", "hash", "(", "byte", "string", ".", "copy", "from", "(", "arr", ")", ")", ";", "arr", "=", "read", "fixed", "length", "(", "in", ",", "num", ")", ";", "int", "length", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "pre", "cert", "builder", ".", "set", "tbs", "certificate", "(", "byte", "string", ".", "copy", "from", "(", "read", "fixed", "length", "(", "in", ",", "length", ")", ")", ")", ";", "pre", "cert", "builder", ".", "build", "(", ")", ";", "signed", "entry", "builder", ".", "set", "precert", "(", "pre", "cert", "builder", ")", ";", "}", "else", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "entry", "type", ")", ")", ";", "}", "timestamped", "entry", ".", "signed", "entry", "=", "signed", "entry", "builder", ".", "build", "(", ")", ";", "return", "timestamped", "entry", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <DELETE> ct . <DELETE_END> <KEEP> timestamped entry parse timestamped entry ( input stream in ) { <KEEP_END> <REPLACE_OLD> ct . timestamped entry . builder timestamped entry = ct . timestamped entry . <REPLACE_NEW> timestamped entry timestamped entry = <REPLACE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> builder ( ) ; long <REPLACE_NEW> timestamped entry ( ) ; timestamped entry . <REPLACE_END> <KEEP> timestamp = read number ( in , ctconstants . timestamp _ length ) ; <KEEP_END> <DELETE> timestamped entry . set timestamp ( timestamp ) ; <DELETE_END> <KEEP> int entry type = ( int ) read number ( in , ctconstants . log _ entry _ type _ length ) ; timestamped entry . <KEEP_END> <REPLACE_OLD> set entry type ( <REPLACE_NEW> entry type = <REPLACE_END> <KEEP> ct . log entry type . value of ( entry type <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ) ; ct . signed entry . builder signed entry builder = ct . signed entry . new builder ( ) ; if ( entry type = = ct . log entry type . x509 _ entry _ value ) { int length = ( int ) read number ( in , num ) ; byte string x509 = byte string . copy from ( read fixed length ( in , length ) ) ; signed entry builder . set x509 ( x509 ) ; } else if ( entry type = = ct . log entry type . precert _ entry _ value ) { ct . pre cert . builder pre cert builder = ct . pre cert . new builder ( ) ; byte [ ] arr = read fixed length ( in , num ) ; pre cert builder . set issuer key hash ( byte string . copy from ( arr ) ) ; arr = read fixed length ( in , num ) ; int length = ( int ) read number ( in , num ) ; pre cert builder . set tbs certificate ( byte string . copy from ( read fixed length ( in , length ) ) ) ; pre cert builder . build ( ) ; signed entry builder . set precert ( pre cert builder ) ; } else { throw new serialization exception ( string . format ( str , entry type ) ) ; } <KEEP_END> <INSERT> timestamped entry . signed entry = <INSERT_END> <KEEP> signed entry builder . build ( ) ; <KEEP_END> <DELETE> timestamped entry . set signed entry ( signed entry builder ) ; <DELETE_END> <KEEP> return timestamped entry <KEEP_END> <DELETE> . build ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<DELETE>", "ct", ".", "<DELETE_END>", "<KEEP>", "timestamped", "entry", "parse", "timestamped", "entry", "(", "input", "stream", "in", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "ct", ".", "timestamped", "entry", ".", "builder", "timestamped", "entry", "=", "ct", ".", "timestamped", "entry", ".", "<REPLACE_NEW>", "timestamped", "entry", "timestamped", "entry", "=", "<REPLACE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "builder", "(", ")", ";", "long", "<REPLACE_NEW>", "timestamped", "entry", "(", ")", ";", "timestamped", "entry", ".", "<REPLACE_END>", "<KEEP>", "timestamp", "=", "read", "number", "(", "in", ",", "ctconstants", ".", "timestamp", "_", "length", ")", ";", "<KEEP_END>", "<DELETE>", "timestamped", "entry", ".", "set", "timestamp", "(", "timestamp", ")", ";", "<DELETE_END>", "<KEEP>", "int", "entry", "type", "=", "(", "int", ")", "read", "number", "(", "in", ",", "ctconstants", ".", "log", "_", "entry", "_", "type", "_", "length", ")", ";", "timestamped", "entry", ".", "<KEEP_END>", "<REPLACE_OLD>", "set", "entry", "type", "(", "<REPLACE_NEW>", "entry", "type", "=", "<REPLACE_END>", "<KEEP>", "ct", ".", "log", "entry", "type", ".", "value", "of", "(", "entry", "type", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ")", ";", "ct", ".", "signed", "entry", ".", "builder", "signed", "entry", "builder", "=", "ct", ".", "signed", "entry", ".", "new", "builder", "(", ")", ";", "if", "(", "entry", "type", "=", "=", "ct", ".", "log", "entry", "type", ".", "x509", "_", "entry", "_", "value", ")", "{", "int", "length", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "byte", "string", "x509", "=", "byte", "string", ".", "copy", "from", "(", "read", "fixed", "length", "(", "in", ",", "length", ")", ")", ";", "signed", "entry", "builder", ".", "set", "x509", "(", "x509", ")", ";", "}", "else", "if", "(", "entry", "type", "=", "=", "ct", ".", "log", "entry", "type", ".", "precert", "_", "entry", "_", "value", ")", "{", "ct", ".", "pre", "cert", ".", "builder", "pre", "cert", "builder", "=", "ct", ".", "pre", "cert", ".", "new", "builder", "(", ")", ";", "byte", "[", "]", "arr", "=", "read", "fixed", "length", "(", "in", ",", "num", ")", ";", "pre", "cert", "builder", ".", "set", "issuer", "key", "hash", "(", "byte", "string", ".", "copy", "from", "(", "arr", ")", ")", ";", "arr", "=", "read", "fixed", "length", "(", "in", ",", "num", ")", ";", "int", "length", "=", "(", "int", ")", "read", "number", "(", "in", ",", "num", ")", ";", "pre", "cert", "builder", ".", "set", "tbs", "certificate", "(", "byte", "string", ".", "copy", "from", "(", "read", "fixed", "length", "(", "in", ",", "length", ")", ")", ")", ";", "pre", "cert", "builder", ".", "build", "(", ")", ";", "signed", "entry", "builder", ".", "set", "precert", "(", "pre", "cert", "builder", ")", ";", "}", "else", "{", "throw", "new", "serialization", "exception", "(", "string", ".", "format", "(", "str", ",", "entry", "type", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "timestamped", "entry", ".", "signed", "entry", "=", "<INSERT_END>", "<KEEP>", "signed", "entry", "builder", ".", "build", "(", ")", ";", "<KEEP_END>", "<DELETE>", "timestamped", "entry", ".", "set", "signed", "entry", "(", "signed", "entry", "builder", ")", ";", "<DELETE_END>", "<KEEP>", "return", "timestamped", "entry", "<KEEP_END>", "<DELETE>", ".", "build", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ct . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "ct", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<DELETE>", "ct", "<DELETE>", ".", "<KEEP>", "timestamped", "<KEEP>", "entry", "<KEEP>", "parse", "<KEEP>", "timestamped", "<KEEP>", "entry", "<KEEP>", "(", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "in", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "ct", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "timestamped", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", "timestamped", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "ct", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "timestamped", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", "timestamped", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", "timestamped", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "builder", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "timestamped", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "timestamped", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", ".", "<KEEP>", "timestamp", "<KEEP>", "=", "<KEEP>", "read", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "ctconstants", "<KEEP>", ".", "<KEEP>", "timestamp", "<KEEP>", "_", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "timestamped", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "timestamp", "<DELETE>", "(", "<DELETE>", "timestamp", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "int", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "ctconstants", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "_", "<KEEP>", "entry", "<KEEP>", "_", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "timestamped", "<KEEP>", "entry", "<KEEP>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "entry", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "type", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "signed", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "builder", "<KEEP>", "signed", "<KEEP>", "entry", "<KEEP>", "builder", "<KEEP>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "signed", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "x509", "<KEEP>", "_", "<KEEP>", "entry", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", "x509", "<KEEP>", "=", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "copy", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "read", "<KEEP>", "fixed", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "signed", "<KEEP>", "entry", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "x509", "<KEEP>", "(", "<KEEP>", "x509", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "precert", "<KEEP>", "_", "<KEEP>", "entry", "<KEEP>", "_", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", ".", "<KEEP>", "builder", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", "builder", "<KEEP>", "=", "<KEEP>", "ct", "<KEEP>", ".", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", ".", "<KEEP>", "new", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "arr", "<KEEP>", "=", "<KEEP>", "read", "<KEEP>", "fixed", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "issuer", "<KEEP>", "key", "<KEEP>", "hash", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "copy", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "arr", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "arr", "<KEEP>", "=", "<KEEP>", "read", "<KEEP>", "fixed", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "read", "<KEEP>", "number", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "tbs", "<KEEP>", "certificate", "<KEEP>", "(", "<KEEP>", "byte", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "copy", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "read", "<KEEP>", "fixed", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", "in", "<KEEP>", ",", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "signed", "<KEEP>", "entry", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "precert", "<KEEP>", "(", "<KEEP>", "pre", "<KEEP>", "cert", "<KEEP>", "builder", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "serialization", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "entry", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "timestamped", "<INSERT>", "entry", "<INSERT>", ".", "<INSERT>", "signed", "<INSERT>", "entry", "<INSERT>", "=", "<KEEP>", "signed", "<KEEP>", "entry", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "timestamped", "<DELETE>", "entry", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "signed", "<DELETE>", "entry", "<DELETE>", "(", "<DELETE>", "signed", "<DELETE>", "entry", "<DELETE>", "builder", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<KEEP>", "timestamped", "<KEEP>", "entry", "<DELETE>", ".", "<DELETE>", "build", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_HeliosStreams-9-7127", "old_comment": "the decoded value type or # x if the char does not map to a value type", "old_comment_tokens": ["the", "decoded", "value", "type", "or", "#", "x", "if", "the", "char", "does", "not", "map", "to", "a", "value", "type"], "new_comment": "the decoded value type or # directed if the char does not map to a value type", "new_comment_tokens": ["the", "decoded", "value", "type", "or", "#", "directed", "if", "the", "char", "does", "not", "map", "to", "a", "value", "type"], "old_code": "public static value type decode ( final string value ) { if ( value = = null | | value . trim ( ) . is empty ( ) ) throw new illegal argument exception ( str ) ; final value type v = decode by int . get ( value . trim ( ) . char at ( num ) ) ; return v = = null ? x : v ; }", "old_code_tokens": ["public", "static", "value", "type", "decode", "(", "final", "string", "value", ")", "{", "if", "(", "value", "=", "=", "null", "|", "|", "value", ".", "trim", "(", ")", ".", "is", "empty", "(", ")", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "final", "value", "type", "v", "=", "decode", "by", "int", ".", "get", "(", "value", ".", "trim", "(", ")", ".", "char", "at", "(", "num", ")", ")", ";", "return", "v", "=", "=", "null", "?", "x", ":", "v", ";", "}"], "new_code": "public static value type decode ( final string value ) { if ( value = = null | | value . trim ( ) . is empty ( ) ) throw new illegal argument exception ( str ) ; final value type v = decode by int . get ( value . trim ( ) . char at ( num ) ) ; return v = = null ? directed : v ; }", "new_code_tokens": ["public", "static", "value", "type", "decode", "(", "final", "string", "value", ")", "{", "if", "(", "value", "=", "=", "null", "|", "|", "value", ".", "trim", "(", ")", ".", "is", "empty", "(", ")", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "final", "value", "type", "v", "=", "decode", "by", "int", ".", "get", "(", "value", ".", "trim", "(", ")", ".", "char", "at", "(", "num", ")", ")", ";", "return", "v", "=", "=", "null", "?", "directed", ":", "v", ";", "}"], "span_diff_code": "<KEEP> public static value type decode ( final string value ) { if ( value = = null | | value . trim ( ) . is empty ( ) ) throw new illegal argument exception ( str ) ; final value type v = decode by int . get ( value . trim ( ) . char at ( num ) ) ; return v = = null ? <KEEP_END> <REPLACE_OLD> x <REPLACE_NEW> directed <REPLACE_END> <KEEP> : v ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "value", "type", "decode", "(", "final", "string", "value", ")", "{", "if", "(", "value", "=", "=", "null", "|", "|", "value", ".", "trim", "(", ")", ".", "is", "empty", "(", ")", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "final", "value", "type", "v", "=", "decode", "by", "int", ".", "get", "(", "value", ".", "trim", "(", ")", ".", "char", "at", "(", "num", ")", ")", ";", "return", "v", "=", "=", "null", "?", "<KEEP_END>", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "directed", "<REPLACE_END>", "<KEEP>", ":", "v", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> x <REPLACE_NEW> directed <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "x", "<REPLACE_NEW>", "directed", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", "decode", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", "v", "<KEEP>", "=", "<KEEP>", "decode", "<KEEP>", "by", "<KEEP>", "int", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "char", "<KEEP>", "at", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "v", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "directed", "<KEEP>", ":", "<KEEP>", "v", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_aptoide-client-0-6681", "old_comment": "a hashtable with keys string ( values . to string ( ) ) and with values version apk", "old_comment_tokens": ["a", "hashtable", "with", "keys", "string", "(", "values", ".", "to", "string", "(", ")", ")", "and", "with", "values", "version", "apk"], "new_comment": "a array list with the versions of an application information", "new_comment_tokens": ["a", "array", "list", "with", "the", "versions", "of", "an", "application", "information"], "old_code": "public hashtable < string , version apk > get versions ( ) { hashtable < string , version apk > versions = new hashtable < string , version apk > ( ) ; try { node list nl = dom . get elements by tag name ( str ) ; if ( nl ! = null & & nl . get length ( ) > num ) { for ( int i = num ; i < nl . get length ( ) ; i + + ) { string version = get version tag text ( i , str , nl ) ; versions . put ( version , new version apk ( version , get version tag text ( i , str , nl ) , get version tag text ( i , str , nl ) ) ) ; } } } catch ( malformed urlexception e ) { e . print stack trace ( ) ; } return versions ; }", "old_code_tokens": ["public", "hashtable", "<", "string", ",", "version", "apk", ">", "get", "versions", "(", ")", "{", "hashtable", "<", "string", ",", "version", "apk", ">", "versions", "=", "new", "hashtable", "<", "string", ",", "version", "apk", ">", "(", ")", ";", "try", "{", "node", "list", "nl", "=", "dom", ".", "get", "elements", "by", "tag", "name", "(", "str", ")", ";", "if", "(", "nl", "!", "=", "null", "&", "&", "nl", ".", "get", "length", "(", ")", ">", "num", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "nl", ".", "get", "length", "(", ")", ";", "i", "+", "+", ")", "{", "string", "version", "=", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ";", "versions", ".", "put", "(", "version", ",", "new", "version", "apk", "(", "version", ",", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ",", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "versions", ";", "}"], "new_code": "public array list < version apk > get versions ( ) { array list < version apk > versions = new array list < version apk > ( ) ; try { node list nl = dom . get elements by tag name ( str ) ; if ( nl ! = null & & nl . get length ( ) > num ) { for ( int i = num ; i < nl . get length ( ) ; i + + ) { versions . add ( new version apk ( get version tag text ( i , str , nl ) , get version tag text ( i , str , nl ) , get version tag text ( i , str , nl ) ) ) ; } } } catch ( malformed urlexception e ) { e . print stack trace ( ) ; } return versions ; }", "new_code_tokens": ["public", "array", "list", "<", "version", "apk", ">", "get", "versions", "(", ")", "{", "array", "list", "<", "version", "apk", ">", "versions", "=", "new", "array", "list", "<", "version", "apk", ">", "(", ")", ";", "try", "{", "node", "list", "nl", "=", "dom", ".", "get", "elements", "by", "tag", "name", "(", "str", ")", ";", "if", "(", "nl", "!", "=", "null", "&", "&", "nl", ".", "get", "length", "(", ")", ">", "num", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "nl", ".", "get", "length", "(", ")", ";", "i", "+", "+", ")", "{", "versions", ".", "add", "(", "new", "version", "apk", "(", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ",", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ",", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "versions", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> array list <REPLACE_END> <KEEP> < <KEEP_END> <DELETE> string , <DELETE_END> <KEEP> version apk > get versions ( ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> array list <REPLACE_END> <KEEP> < <KEEP_END> <DELETE> string , <DELETE_END> <KEEP> version apk > versions = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> array list <REPLACE_END> <KEEP> < <KEEP_END> <DELETE> string , <DELETE_END> <KEEP> version apk > ( ) ; try { node list nl = dom . get elements by tag name ( str ) ; if ( nl ! = null & & nl . get length ( ) > num ) { for ( int i = num ; i < nl . get length ( ) ; i + + ) { <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> versions . add ( new <REPLACE_END> <KEEP> version <KEEP_END> <REPLACE_OLD> = <REPLACE_NEW> apk ( <REPLACE_END> <KEEP> get version tag text ( i , str , nl ) <KEEP_END> <DELETE> ; versions . put ( version , new version apk ( version <DELETE_END> <KEEP> , get version tag text ( i , str , nl ) , get version tag text ( i , str , nl ) ) ) ; } } } catch ( malformed urlexception e ) { e . print stack trace ( ) ; } return versions ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<DELETE>", "string", ",", "<DELETE_END>", "<KEEP>", "version", "apk", ">", "get", "versions", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<DELETE>", "string", ",", "<DELETE_END>", "<KEEP>", "version", "apk", ">", "versions", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<DELETE>", "string", ",", "<DELETE_END>", "<KEEP>", "version", "apk", ">", "(", ")", ";", "try", "{", "node", "list", "nl", "=", "dom", ".", "get", "elements", "by", "tag", "name", "(", "str", ")", ";", "if", "(", "nl", "!", "=", "null", "&", "&", "nl", ".", "get", "length", "(", ")", ">", "num", ")", "{", "for", "(", "int", "i", "=", "num", ";", "i", "<", "nl", ".", "get", "length", "(", ")", ";", "i", "+", "+", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "versions", ".", "add", "(", "new", "<REPLACE_END>", "<KEEP>", "version", "<KEEP_END>", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "apk", "(", "<REPLACE_END>", "<KEEP>", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", "<KEEP_END>", "<DELETE>", ";", "versions", ".", "put", "(", "version", ",", "new", "version", "apk", "(", "version", "<DELETE_END>", "<KEEP>", ",", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ",", "get", "version", "tag", "text", "(", "i", ",", "str", ",", "nl", ")", ")", ")", ";", "}", "}", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "e", ".", "print", "stack", "trace", "(", ")", ";", "}", "return", "versions", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> array list <REPLACE_END> <REPLACE_OLD> keys string ( values . to string ( ) ) and with values version apk <REPLACE_NEW> the versions of an application information <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "list", "<REPLACE_END>", "<REPLACE_OLD>", "keys", "string", "(", "values", ".", "to", "string", "(", ")", ")", "and", "with", "values", "version", "apk", "<REPLACE_NEW>", "the", "versions", "of", "an", "application", "information", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<DELETE>", "string", "<DELETE>", ",", "<KEEP>", "version", "<KEEP>", "apk", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "versions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<DELETE>", "string", "<DELETE>", ",", "<KEEP>", "version", "<KEEP>", "apk", "<KEEP>", ">", "<KEEP>", "versions", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "array", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<DELETE>", "string", "<DELETE>", ",", "<KEEP>", "version", "<KEEP>", "apk", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "node", "<KEEP>", "list", "<KEEP>", "nl", "<KEEP>", "=", "<KEEP>", "dom", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "elements", "<KEEP>", "by", "<KEEP>", "tag", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "nl", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "nl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "nl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "versions", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "new", "<KEEP>", "version", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "apk", "<REPLACE_NEW>", "(", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "tag", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "nl", "<KEEP>", ")", "<DELETE>", ";", "<DELETE>", "versions", "<DELETE>", ".", "<DELETE>", "put", "<DELETE>", "(", "<DELETE>", "version", "<DELETE>", ",", "<DELETE>", "new", "<DELETE>", "version", "<DELETE>", "apk", "<DELETE>", "(", "<DELETE>", "version", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "tag", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "nl", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "version", "<KEEP>", "tag", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "i", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "nl", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "malformed", "<KEEP>", "urlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "stack", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "versions", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "travis_cosmo-33-5254", "old_comment": "array of component type codes", "old_comment_tokens": ["array", "of", "component", "type", "codes"], "new_comment": "array of component types", "new_comment_tokens": ["array", "of", "component", "types"], "old_code": "public static int [ ] get all supported component types ( ) { return supported _ component _ types ; }", "old_code_tokens": ["public", "static", "int", "[", "]", "get", "all", "supported", "component", "types", "(", ")", "{", "return", "supported", "_", "component", "_", "types", ";", "}"], "new_code": "public static set < string > get all supported component types ( ) { return supported _ component _ types ; }", "new_code_tokens": ["public", "static", "set", "<", "string", ">", "get", "all", "supported", "component", "types", "(", ")", "{", "return", "supported", "_", "component", "_", "types", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> int [ ] <REPLACE_NEW> set < string > <REPLACE_END> <KEEP> get all supported component types ( ) { return supported _ component _ types ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "int", "[", "]", "<REPLACE_NEW>", "set", "<", "string", ">", "<REPLACE_END>", "<KEEP>", "get", "all", "supported", "component", "types", "(", ")", "{", "return", "supported", "_", "component", "_", "types", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> type codes <REPLACE_NEW> types <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "type", "codes", "<REPLACE_NEW>", "types", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "supported", "<KEEP>", "component", "<KEEP>", "types", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "supported", "<KEEP>", "_", "<KEEP>", "component", "<KEEP>", "_", "<KEEP>", "types", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "kaendfinger_pircbotx-105-5592", "old_comment": "the encoding used to send outgoing messages , or null if not set .", "old_comment_tokens": ["the", "encoding", "used", "to", "send", "outgoing", "messages", ",", "or", "null", "if", "not", "set", "."], "new_comment": "the encoding used to send outgoing messages . never null", "new_comment_tokens": ["the", "encoding", "used", "to", "send", "outgoing", "messages", ".", "never", "null"], "old_code": "public string get encoding ( ) { return _ charset ; }", "old_code_tokens": ["public", "string", "get", "encoding", "(", ")", "{", "return", "_", "charset", ";", "}"], "new_code": "public charset get encoding ( ) { return _ charset ; }", "new_code_tokens": ["public", "charset", "get", "encoding", "(", ")", "{", "return", "_", "charset", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> charset <REPLACE_END> <KEEP> get encoding ( ) { return _ charset ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "charset", "<REPLACE_END>", "<KEEP>", "get", "encoding", "(", ")", "{", "return", "_", "charset", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> , or <REPLACE_NEW> . never <REPLACE_END> <DELETE> if not set . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", ",", "or", "<REPLACE_NEW>", ".", "never", "<REPLACE_END>", "<DELETE>", "if", "not", "set", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "charset", "<KEEP>", "get", "<KEEP>", "encoding", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "charset", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-54-4451", "old_comment": "true if the method has a jsecurity roles required or permissions required annotation , false otherwise .", "old_comment_tokens": ["true", "if", "the", "method", "has", "a", "jsecurity", "roles", "required", "or", "permissions", "required", "annotation", ",", "false", "otherwise", "."], "new_comment": "true if the method has a jsecurity requires roles or requires permissions annotation , false otherwise .", "new_comment_tokens": ["true", "if", "the", "method", "has", "a", "jsecurity", "requires", "roles", "or", "requires", "permissions", "annotation", ",", "false", "otherwise", "."], "old_code": "public boolean matches ( method method , class target class ) { return ( ( method . get annotation ( permissions required . class ) ! = null ) | | ( method . get annotation ( roles required . class ) ! = null ) ) ; }", "old_code_tokens": ["public", "boolean", "matches", "(", "method", "method", ",", "class", "target", "class", ")", "{", "return", "(", "(", "method", ".", "get", "annotation", "(", "permissions", "required", ".", "class", ")", "!", "=", "null", ")", "|", "|", "(", "method", ".", "get", "annotation", "(", "roles", "required", ".", "class", ")", "!", "=", "null", ")", ")", ";", "}"], "new_code": "public boolean matches ( method method , class target class ) { return ( ( method . get annotation ( requires permissions . class ) ! = null ) | | ( method . get annotation ( requires roles . class ) ! = null ) ) ; }", "new_code_tokens": ["public", "boolean", "matches", "(", "method", "method", ",", "class", "target", "class", ")", "{", "return", "(", "(", "method", ".", "get", "annotation", "(", "requires", "permissions", ".", "class", ")", "!", "=", "null", ")", "|", "|", "(", "method", ".", "get", "annotation", "(", "requires", "roles", ".", "class", ")", "!", "=", "null", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean matches ( method method , class target class ) { return ( ( method . get annotation ( <KEEP_END> <INSERT> requires <INSERT_END> <KEEP> permissions <KEEP_END> <DELETE> required <DELETE_END> <KEEP> . class ) ! = null ) | | ( method . get annotation ( <KEEP_END> <INSERT> requires <INSERT_END> <KEEP> roles <KEEP_END> <DELETE> required <DELETE_END> <KEEP> . class ) ! = null ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "matches", "(", "method", "method", ",", "class", "target", "class", ")", "{", "return", "(", "(", "method", ".", "get", "annotation", "(", "<KEEP_END>", "<INSERT>", "requires", "<INSERT_END>", "<KEEP>", "permissions", "<KEEP_END>", "<DELETE>", "required", "<DELETE_END>", "<KEEP>", ".", "class", ")", "!", "=", "null", ")", "|", "|", "(", "method", ".", "get", "annotation", "(", "<KEEP_END>", "<INSERT>", "requires", "<INSERT_END>", "<KEEP>", "roles", "<KEEP_END>", "<DELETE>", "required", "<DELETE_END>", "<KEEP>", ".", "class", ")", "!", "=", "null", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> jsecurity <INSERT_NEW_KEEP_BEFORE> jsecurity requires <INSERT_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> roles required <REPLACE_NEW_DELETE_KEEP_BEFORE> roles <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> or <INSERT_NEW_KEEP_BEFORE> or requires <INSERT_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> permissions required <REPLACE_NEW_DELETE_KEEP_BEFORE> permissions <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "jsecurity", "<INSERT_NEW_KEEP_BEFORE>", "jsecurity", "requires", "<INSERT_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", "roles", "required", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "roles", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "or", "<INSERT_NEW_KEEP_BEFORE>", "or", "requires", "<INSERT_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", "permissions", "required", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "permissions", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "method", "<KEEP>", ",", "<KEEP>", "class", "<KEEP>", "target", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "(", "<INSERT>", "requires", "<KEEP>", "permissions", "<DELETE>", "required", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "annotation", "<KEEP>", "(", "<INSERT>", "requires", "<KEEP>", "roles", "<DELETE>", "required", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_picocontainer-64-3943", "old_comment": "abstract custom builder node ( this ) to allow for method chaining .", "old_comment_tokens": ["abstract", "custom", "builder", "node", "(", "this", ")", "to", "allow", "for", "method", "chaining", "."], "new_comment": "abstract builder node ( this ) to allow for method chaining .", "new_comment_tokens": ["abstract", "builder", "node", "(", "this", ")", "to", "allow", "for", "method", "chaining", "."], "old_code": "protected abstract custom builder node add attribute ( final string name ) { supported attributes . add ( name ) ; return this ; }", "old_code_tokens": ["protected", "abstract", "custom", "builder", "node", "add", "attribute", "(", "final", "string", "name", ")", "{", "supported", "attributes", ".", "add", "(", "name", ")", ";", "return", "this", ";", "}"], "new_code": "protected abstract builder node add attribute ( final string name ) { supported attributes . add ( name ) ; return this ; }", "new_code_tokens": ["protected", "abstract", "builder", "node", "add", "attribute", "(", "final", "string", "name", ")", "{", "supported", "attributes", ".", "add", "(", "name", ")", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> protected abstract <KEEP_END> <DELETE> custom <DELETE_END> <KEEP> builder node add attribute ( final string name ) { supported attributes . add ( name ) ; return this ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "abstract", "<KEEP_END>", "<DELETE>", "custom", "<DELETE_END>", "<KEEP>", "builder", "node", "add", "attribute", "(", "final", "string", "name", ")", "{", "supported", "attributes", ".", "add", "(", "name", ")", ";", "return", "this", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> custom <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "custom", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "abstract", "<DELETE>", "custom", "<KEEP>", "builder", "<KEEP>", "node", "<KEEP>", "add", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "supported", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mulesoft_google-connectors-suite-5-7322", "old_comment": "a list with instance of org . mule . module . google . drive . model . change", "old_comment_tokens": ["a", "list", "with", "instance", "of", "org", ".", "mule", ".", "module", ".", "google", ".", "drive", ".", "model", ".", "change"], "new_comment": "a paginated iterator with instances of org . mule . module . google . drive . model . file", "new_comment_tokens": ["a", "paginated", "iterator", "with", "instances", "of", "org", ".", "mule", ".", "module", ".", "google", ".", "drive", ".", "model", ".", "file"], "old_code": "@ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ inject public list < change > list changes ( mule message message , @ optional @ default ( str ) boolean include deleted , @ optional @ default ( str ) boolean include subscribed , @ optional @ default ( str ) int max results , @ optional @ default ( str ) string page token , @ optional long start change id ) throws ioexception { change list response = this . client . changes ( ) . list ( ) . set include deleted ( include deleted ) . set include subscribed ( include subscribed ) . set max results ( max results ) . set page token ( page token ) . set start change id ( start change id ) . execute ( ) ; pagination utils . save page token ( next _ page _ token , response . get next page token ( ) , message ) ; return change . value of ( response . get items ( ) , change . class ) ; }", "old_code_tokens": ["@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "inject", "public", "list", "<", "change", ">", "list", "changes", "(", "mule", "message", "message", ",", "@", "optional", "@", "default", "(", "str", ")", "boolean", "include", "deleted", ",", "@", "optional", "@", "default", "(", "str", ")", "boolean", "include", "subscribed", ",", "@", "optional", "@", "default", "(", "str", ")", "int", "max", "results", ",", "@", "optional", "@", "default", "(", "str", ")", "string", "page", "token", ",", "@", "optional", "long", "start", "change", "id", ")", "throws", "ioexception", "{", "change", "list", "response", "=", "this", ".", "client", ".", "changes", "(", ")", ".", "list", "(", ")", ".", "set", "include", "deleted", "(", "include", "deleted", ")", ".", "set", "include", "subscribed", "(", "include", "subscribed", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "page", "token", ")", ".", "set", "start", "change", "id", "(", "start", "change", "id", ")", ".", "execute", "(", ")", ";", "pagination", "utils", ".", "save", "page", "token", "(", "next", "_", "page", "_", "token", ",", "response", ".", "get", "next", "page", "token", "(", ")", ",", "message", ")", ";", "return", "change", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "change", ".", "class", ")", ";", "}"], "new_code": "@ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ paged public paging delegate < change > list changes ( @ optional @ default ( str ) final boolean include deleted , @ optional @ default ( str ) final boolean include subscribed , @ optional @ default ( str ) final int max results , @ optional final long start change id , final paging configuration paging configuration ) throws ioexception { return new token based paging delegate < change > ( ) { @ override protected list < change > do get page ( ) throws ioexception { change list response = client . changes ( ) . list ( ) . set include deleted ( include deleted ) . set include subscribed ( include subscribed ) . set max results ( max results ) . set page token ( this . get page token ( ) ) . set start change id ( start change id ) . execute ( ) ; this . set page token ( response . get next page token ( ) ) ; return change . value of ( response . get items ( ) , change . class ) ; } } ; }", "new_code_tokens": ["@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "paged", "public", "paging", "delegate", "<", "change", ">", "list", "changes", "(", "@", "optional", "@", "default", "(", "str", ")", "final", "boolean", "include", "deleted", ",", "@", "optional", "@", "default", "(", "str", ")", "final", "boolean", "include", "subscribed", ",", "@", "optional", "@", "default", "(", "str", ")", "final", "int", "max", "results", ",", "@", "optional", "final", "long", "start", "change", "id", ",", "final", "paging", "configuration", "paging", "configuration", ")", "throws", "ioexception", "{", "return", "new", "token", "based", "paging", "delegate", "<", "change", ">", "(", ")", "{", "@", "override", "protected", "list", "<", "change", ">", "do", "get", "page", "(", ")", "throws", "ioexception", "{", "change", "list", "response", "=", "client", ".", "changes", "(", ")", ".", "list", "(", ")", ".", "set", "include", "deleted", "(", "include", "deleted", ")", ".", "set", "include", "subscribed", "(", "include", "subscribed", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "this", ".", "get", "page", "token", "(", ")", ")", ".", "set", "start", "change", "id", "(", "start", "change", "id", ")", ".", "execute", "(", ")", ";", "this", ".", "set", "page", "token", "(", "response", ".", "get", "next", "page", "token", "(", ")", ")", ";", "return", "change", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "change", ".", "class", ")", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> @ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ <KEEP_END> <REPLACE_OLD> inject <REPLACE_NEW> paged <REPLACE_END> <KEEP> public <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> paging delegate <REPLACE_END> <KEEP> < change > list changes ( <KEEP_END> <DELETE> mule message message , <DELETE_END> <KEEP> @ optional @ default ( str ) <KEEP_END> <INSERT> final <INSERT_END> <KEEP> boolean include deleted , @ optional @ default ( str ) <KEEP_END> <INSERT> final <INSERT_END> <KEEP> boolean include subscribed , @ optional @ default ( str ) <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int max results , @ optional <KEEP_END> <REPLACE_OLD> @ default ( str ) string page token , @ optional <REPLACE_NEW> final <REPLACE_END> <KEEP> long start change id <KEEP_END> <INSERT> , final paging configuration paging configuration <INSERT_END> <KEEP> ) throws ioexception { <KEEP_END> <INSERT> return new token based paging delegate < change > ( ) { @ override protected list < change > do get page ( ) throws ioexception { <INSERT_END> <KEEP> change list response = <KEEP_END> <DELETE> this . <DELETE_END> <KEEP> client . changes ( ) . list ( ) . set include deleted ( include deleted ) . set include subscribed ( include subscribed ) . set max results ( max results ) . set page token ( <KEEP_END> <REPLACE_OLD> page token <REPLACE_NEW> this . get page token ( ) <REPLACE_END> <KEEP> ) . set start change id ( start change id ) . execute ( ) ; <KEEP_END> <REPLACE_OLD> pagination utils . save page token ( <REPLACE_NEW> this . set page token ( response . get <REPLACE_END> <KEEP> next <KEEP_END> <REPLACE_OLD> _ page _ token , response . get next page token ( ) , message <REPLACE_NEW> page token ( ) <REPLACE_END> <KEEP> ) ; return change . value of ( response . get items ( ) , change . class ) ; } <KEEP_END> <INSERT> } ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "<KEEP_END>", "<REPLACE_OLD>", "inject", "<REPLACE_NEW>", "paged", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paging", "delegate", "<REPLACE_END>", "<KEEP>", "<", "change", ">", "list", "changes", "(", "<KEEP_END>", "<DELETE>", "mule", "message", "message", ",", "<DELETE_END>", "<KEEP>", "@", "optional", "@", "default", "(", "str", ")", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "boolean", "include", "deleted", ",", "@", "optional", "@", "default", "(", "str", ")", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "boolean", "include", "subscribed", ",", "@", "optional", "@", "default", "(", "str", ")", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "max", "results", ",", "@", "optional", "<KEEP_END>", "<REPLACE_OLD>", "@", "default", "(", "str", ")", "string", "page", "token", ",", "@", "optional", "<REPLACE_NEW>", "final", "<REPLACE_END>", "<KEEP>", "long", "start", "change", "id", "<KEEP_END>", "<INSERT>", ",", "final", "paging", "configuration", "paging", "configuration", "<INSERT_END>", "<KEEP>", ")", "throws", "ioexception", "{", "<KEEP_END>", "<INSERT>", "return", "new", "token", "based", "paging", "delegate", "<", "change", ">", "(", ")", "{", "@", "override", "protected", "list", "<", "change", ">", "do", "get", "page", "(", ")", "throws", "ioexception", "{", "<INSERT_END>", "<KEEP>", "change", "list", "response", "=", "<KEEP_END>", "<DELETE>", "this", ".", "<DELETE_END>", "<KEEP>", "client", ".", "changes", "(", ")", ".", "list", "(", ")", ".", "set", "include", "deleted", "(", "include", "deleted", ")", ".", "set", "include", "subscribed", "(", "include", "subscribed", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "<KEEP_END>", "<REPLACE_OLD>", "page", "token", "<REPLACE_NEW>", "this", ".", "get", "page", "token", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ".", "set", "start", "change", "id", "(", "start", "change", "id", ")", ".", "execute", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "pagination", "utils", ".", "save", "page", "token", "(", "<REPLACE_NEW>", "this", ".", "set", "page", "token", "(", "response", ".", "get", "<REPLACE_END>", "<KEEP>", "next", "<KEEP_END>", "<REPLACE_OLD>", "_", "page", "_", "token", ",", "response", ".", "get", "next", "page", "token", "(", ")", ",", "message", "<REPLACE_NEW>", "page", "token", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "return", "change", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "change", ".", "class", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> paginated iterator <REPLACE_END> <REPLACE_OLD> instance <REPLACE_NEW> instances <REPLACE_END> <REPLACE_OLD> change <REPLACE_NEW> file <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paginated", "iterator", "<REPLACE_END>", "<REPLACE_OLD>", "instance", "<REPLACE_NEW>", "instances", "<REPLACE_END>", "<REPLACE_OLD>", "change", "<REPLACE_NEW>", "file", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "processor", "<KEEP>", "@", "<KEEP>", "oauth", "<KEEP>", "protected", "<KEEP>", "@", "<KEEP>", "oauth", "<KEEP>", "invalidate", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "oauth", "<KEEP>", "token", "<KEEP>", "expired", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "@", "<REPLACE_OLD>", "inject", "<REPLACE_NEW>", "paged", "<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paging", "<REPLACE_NEW>", "delegate", "<KEEP>", "<", "<KEEP>", "change", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "changes", "<KEEP>", "(", "<DELETE>", "mule", "<DELETE>", "message", "<DELETE>", "message", "<DELETE>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<KEEP>", "@", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", "final", "<KEEP>", "boolean", "<KEEP>", "include", "<KEEP>", "deleted", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<KEEP>", "@", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", "final", "<KEEP>", "boolean", "<KEEP>", "include", "<KEEP>", "subscribed", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<KEEP>", "@", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "page", "<REPLACE_OLD>", "token", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "optional", "<REPLACE_NEW>", "final", "<KEEP>", "long", "<KEEP>", "start", "<KEEP>", "change", "<KEEP>", "id", "<INSERT>", ",", "<INSERT>", "final", "<INSERT>", "paging", "<INSERT>", "configuration", "<INSERT>", "paging", "<INSERT>", "configuration", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "token", "<INSERT>", "based", "<INSERT>", "paging", "<INSERT>", "delegate", "<INSERT>", "<", "<INSERT>", "change", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "@", "<INSERT>", "override", "<INSERT>", "protected", "<INSERT>", "list", "<INSERT>", "<", "<INSERT>", "change", "<INSERT>", ">", "<INSERT>", "do", "<INSERT>", "get", "<INSERT>", "page", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "throws", "<INSERT>", "ioexception", "<INSERT>", "{", "<KEEP>", "change", "<KEEP>", "list", "<KEEP>", "response", "<KEEP>", "=", "<DELETE>", "this", "<DELETE>", ".", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "changes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "include", "<KEEP>", "deleted", "<KEEP>", "(", "<KEEP>", "include", "<KEEP>", "deleted", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "include", "<KEEP>", "subscribed", "<KEEP>", "(", "<KEEP>", "include", "<KEEP>", "subscribed", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", "(", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<REPLACE_OLD>", "page", "<REPLACE_OLD>", "token", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "page", "<REPLACE_NEW>", "token", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "start", "<KEEP>", "change", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "start", "<KEEP>", "change", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "pagination", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "save", "<REPLACE_OLD>", "page", "<REPLACE_OLD>", "token", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "this", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "page", "<REPLACE_NEW>", "token", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<KEEP>", "next", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "page", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "token", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "response", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "next", "<REPLACE_OLD>", "page", "<REPLACE_OLD>", "token", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "message", "<REPLACE_NEW>", "page", "<REPLACE_NEW>", "token", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "items", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "google_blockly-android-98-7039", "old_comment": "the currently attached trash fragment .", "old_comment_tokens": ["the", "currently", "attached", "trash", "fragment", "."], "new_comment": "the currently attached trash flyout fragment .", "new_comment_tokens": ["the", "currently", "attached", "trash", "flyout", "fragment", "."], "old_code": "public trash fragment get trash fragment ( ) { return m trash fragment ; }", "old_code_tokens": ["public", "trash", "fragment", "get", "trash", "fragment", "(", ")", "{", "return", "m", "trash", "fragment", ";", "}"], "new_code": "public flyout fragment get trash fragment ( ) { return m trash fragment ; }", "new_code_tokens": ["public", "flyout", "fragment", "get", "trash", "fragment", "(", ")", "{", "return", "m", "trash", "fragment", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> trash <REPLACE_NEW> flyout <REPLACE_END> <KEEP> fragment get trash fragment ( ) { return m trash fragment ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "trash", "<REPLACE_NEW>", "flyout", "<REPLACE_END>", "<KEEP>", "fragment", "get", "trash", "fragment", "(", ")", "{", "return", "m", "trash", "fragment", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> trash <INSERT_NEW_KEEP_BEFORE> trash flyout <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "trash", "<INSERT_NEW_KEEP_BEFORE>", "trash", "flyout", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "trash", "<REPLACE_NEW>", "flyout", "<KEEP>", "fragment", "<KEEP>", "get", "<KEEP>", "trash", "<KEEP>", "fragment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "trash", "<KEEP>", "fragment", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Rajawali_Rajawali-174-3635", "old_comment": "double the roll euler angle .", "old_comment_tokens": ["double", "the", "roll", "euler", "angle", "."], "new_comment": "double the roll euler angle in degrees .", "new_comment_tokens": ["double", "the", "roll", "euler", "angle", "in", "degrees", "."], "old_code": "public double get rot x ( ) { return m orientation . get rotation x ( ) ; }", "old_code_tokens": ["public", "double", "get", "rot", "x", "(", ")", "{", "return", "m", "orientation", ".", "get", "rotation", "x", "(", ")", ";", "}"], "new_code": "public double get rot x ( ) { return math . to degrees ( m orientation . get rotation x ( ) ) ; }", "new_code_tokens": ["public", "double", "get", "rot", "x", "(", ")", "{", "return", "math", ".", "to", "degrees", "(", "m", "orientation", ".", "get", "rotation", "x", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public double get rot x ( ) { return <KEEP_END> <INSERT> math . to degrees ( <INSERT_END> <KEEP> m orientation . get rotation x ( ) <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "get", "rot", "x", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "math", ".", "to", "degrees", "(", "<INSERT_END>", "<KEEP>", "m", "orientation", ".", "get", "rotation", "x", "(", ")", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> angle <INSERT_NEW_KEEP_BEFORE> angle in degrees <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "angle", "<INSERT_NEW_KEEP_BEFORE>", "angle", "in", "degrees", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "get", "<KEEP>", "rot", "<KEEP>", "x", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "math", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "degrees", "<INSERT>", "(", "<KEEP>", "m", "<KEEP>", "orientation", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "rotation", "<KEEP>", "x", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rstudio_rstudio-5-2024", "old_comment": "opaque string handle for this terminal instance , or null if terminal has never been attached to a process", "old_comment_tokens": ["opaque", "string", "handle", "for", "this", "terminal", "instance", ",", "or", "null", "if", "terminal", "has", "never", "been", "attached", "to", "a", "process"], "new_comment": "opaque string handle for this terminal instance , or null if terminal has never been attached to a server console process .", "new_comment_tokens": ["opaque", "string", "handle", "for", "this", "terminal", "instance", ",", "or", "null", "if", "terminal", "has", "never", "been", "attached", "to", "a", "server", "console", "process", "."], "old_code": "public string get handle ( ) { if ( console process _ = = null ) { return terminal handle _ ; } return console process _ . get process info ( ) . get terminal handle ( ) ; }", "old_code_tokens": ["public", "string", "get", "handle", "(", ")", "{", "if", "(", "console", "process", "_", "=", "=", "null", ")", "{", "return", "terminal", "handle", "_", ";", "}", "return", "console", "process", "_", ".", "get", "process", "info", "(", ")", ".", "get", "terminal", "handle", "(", ")", ";", "}"], "new_code": "public string get handle ( ) { if ( console process _ = = null ) { return terminal handle _ ; } return console process _ . get process info ( ) . get handle ( ) ; }", "new_code_tokens": ["public", "string", "get", "handle", "(", ")", "{", "if", "(", "console", "process", "_", "=", "=", "null", ")", "{", "return", "terminal", "handle", "_", ";", "}", "return", "console", "process", "_", ".", "get", "process", "info", "(", ")", ".", "get", "handle", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public string get handle ( ) { if ( console process _ = = null ) { return terminal handle _ ; } return console process _ . get process info ( ) . get <KEEP_END> <DELETE> terminal <DELETE_END> <KEEP> handle ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "handle", "(", ")", "{", "if", "(", "console", "process", "_", "=", "=", "null", ")", "{", "return", "terminal", "handle", "_", ";", "}", "return", "console", "process", "_", ".", "get", "process", "info", "(", ")", ".", "get", "<KEEP_END>", "<DELETE>", "terminal", "<DELETE_END>", "<KEEP>", "handle", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a server console <INSERT_END> <INSERT_OLD_KEEP_BEFORE> process <INSERT_NEW_KEEP_BEFORE> process . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "server", "console", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "process", "<INSERT_NEW_KEEP_BEFORE>", "process", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "handle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "console", "<KEEP>", "process", "<KEEP>", "_", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "terminal", "<KEEP>", "handle", "<KEEP>", "_", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "console", "<KEEP>", "process", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "process", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<DELETE>", "terminal", "<KEEP>", "handle", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oozie-34-3717", "old_comment": "the corresponding sla event list .", "old_comment_tokens": ["the", "corresponding", "sla", "event", "list", "."], "new_comment": "the corresponding sla slaregistration bean list .", "new_comment_tokens": ["the", "corresponding", "sla", "slaregistration", "bean", "list", "."], "old_code": "public static list < slaevent > from jsonarray ( jsonarray array ) { list < slaevent > list = new array list < slaevent > ( ) ; for ( object obj : array ) { list . add ( new json slaregistration event ( ( jsonobject ) obj ) ) ; } return list ; }", "old_code_tokens": ["public", "static", "list", "<", "slaevent", ">", "from", "jsonarray", "(", "jsonarray", "array", ")", "{", "list", "<", "slaevent", ">", "list", "=", "new", "array", "list", "<", "slaevent", ">", "(", ")", ";", "for", "(", "object", "obj", ":", "array", ")", "{", "list", ".", "add", "(", "new", "json", "slaregistration", "event", "(", "(", "jsonobject", ")", "obj", ")", ")", ";", "}", "return", "list", ";", "}"], "new_code": "public static list < slaregistration bean > from jsonarray ( jsonarray array ) { list < slaregistration bean > list = new array list < slaregistration bean > ( ) ; for ( object obj : array ) { list . add ( new slaregistration bean ( ( jsonobject ) obj ) ) ; } return list ; }", "new_code_tokens": ["public", "static", "list", "<", "slaregistration", "bean", ">", "from", "jsonarray", "(", "jsonarray", "array", ")", "{", "list", "<", "slaregistration", "bean", ">", "list", "=", "new", "array", "list", "<", "slaregistration", "bean", ">", "(", ")", ";", "for", "(", "object", "obj", ":", "array", ")", "{", "list", ".", "add", "(", "new", "slaregistration", "bean", "(", "(", "jsonobject", ")", "obj", ")", ")", ";", "}", "return", "list", ";", "}"], "span_diff_code": "<KEEP> public static list < <KEEP_END> <REPLACE_OLD> slaevent <REPLACE_NEW> slaregistration bean <REPLACE_END> <KEEP> > from jsonarray ( jsonarray array ) { list < <KEEP_END> <REPLACE_OLD> slaevent <REPLACE_NEW> slaregistration bean <REPLACE_END> <KEEP> > list = new array list < <KEEP_END> <REPLACE_OLD> slaevent <REPLACE_NEW> slaregistration bean <REPLACE_END> <KEEP> > ( ) ; for ( object obj : array ) { list . add ( new <KEEP_END> <DELETE> json <DELETE_END> <KEEP> slaregistration <KEEP_END> <REPLACE_OLD> event <REPLACE_NEW> bean <REPLACE_END> <KEEP> ( ( jsonobject ) obj ) ) ; } return list ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "slaevent", "<REPLACE_NEW>", "slaregistration", "bean", "<REPLACE_END>", "<KEEP>", ">", "from", "jsonarray", "(", "jsonarray", "array", ")", "{", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "slaevent", "<REPLACE_NEW>", "slaregistration", "bean", "<REPLACE_END>", "<KEEP>", ">", "list", "=", "new", "array", "list", "<", "<KEEP_END>", "<REPLACE_OLD>", "slaevent", "<REPLACE_NEW>", "slaregistration", "bean", "<REPLACE_END>", "<KEEP>", ">", "(", ")", ";", "for", "(", "object", "obj", ":", "array", ")", "{", "list", ".", "add", "(", "new", "<KEEP_END>", "<DELETE>", "json", "<DELETE_END>", "<KEEP>", "slaregistration", "<KEEP_END>", "<REPLACE_OLD>", "event", "<REPLACE_NEW>", "bean", "<REPLACE_END>", "<KEEP>", "(", "(", "jsonobject", ")", "obj", ")", ")", ";", "}", "return", "list", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> event <REPLACE_NEW> slaregistration bean <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "event", "<REPLACE_NEW>", "slaregistration", "bean", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "slaevent", "<REPLACE_NEW>", "slaregistration", "<REPLACE_NEW>", "bean", "<KEEP>", ">", "<KEEP>", "from", "<KEEP>", "jsonarray", "<KEEP>", "(", "<KEEP>", "jsonarray", "<KEEP>", "array", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "slaevent", "<REPLACE_NEW>", "slaregistration", "<REPLACE_NEW>", "bean", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<REPLACE_OLD>", "slaevent", "<REPLACE_NEW>", "slaregistration", "<REPLACE_NEW>", "bean", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "obj", "<KEEP>", ":", "<KEEP>", "array", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<DELETE>", "json", "<KEEP>", "slaregistration", "<REPLACE_OLD>", "event", "<REPLACE_NEW>", "bean", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "jsonobject", "<KEEP>", ")", "<KEEP>", "obj", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Ravikumarmaddi_socialauth-8-5613", "old_comment": "string the date of birth different providers may use different formats", "old_comment_tokens": ["string", "the", "date", "of", "birth", "different", "providers", "may", "use", "different", "formats"], "new_comment": "the date of birth different providers may use different formats", "new_comment_tokens": ["the", "date", "of", "birth", "different", "providers", "may", "use", "different", "formats"], "old_code": "public string get dob ( ) { return dob ; }", "old_code_tokens": ["public", "string", "get", "dob", "(", ")", "{", "return", "dob", ";", "}"], "new_code": "public birth date get dob ( ) { return dob ; }", "new_code_tokens": ["public", "birth", "date", "get", "dob", "(", ")", "{", "return", "dob", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> birth date <REPLACE_END> <KEEP> get dob ( ) { return dob ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "birth", "date", "<REPLACE_END>", "<KEEP>", "get", "dob", "(", ")", "{", "return", "dob", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> string <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "string", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "birth", "<REPLACE_NEW>", "date", "<KEEP>", "get", "<KEEP>", "dob", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "dob", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ozodrukh_CircularReveal-1-2456", "old_comment": "true if transformation was successfully applied on referenced child , otherwise child be not the target and therefore animation was skipped", "old_comment_tokens": ["true", "if", "transformation", "was", "successfully", "applied", "on", "referenced", "child", ",", "otherwise", "child", "be", "not", "the", "target", "and", "therefore", "animation", "was", "skipped"], "new_comment": "true if view transformation was successfully applied on referenced child , otherwise child be not the target and therefore animation was skipped", "new_comment_tokens": ["true", "if", "view", "transformation", "was", "successfully", "applied", "on", "referenced", "child", ",", "otherwise", "child", "be", "not", "the", "target", "and", "therefore", "animation", "was", "skipped"], "old_code": "public boolean transform ( canvas canvas , view child ) { final reveal values reveal data = targets . get ( child ) ; return reveal data ! = null & & reveal data . apply transformation ( canvas , child ) ; }", "old_code_tokens": ["public", "boolean", "transform", "(", "canvas", "canvas", ",", "view", "child", ")", "{", "final", "reveal", "values", "reveal", "data", "=", "targets", ".", "get", "(", "child", ")", ";", "return", "reveal", "data", "!", "=", "null", "&", "&", "reveal", "data", ".", "apply", "transformation", "(", "canvas", ",", "child", ")", ";", "}"], "new_code": "public final boolean transform ( canvas canvas , view child ) { final reveal values reveal data = targets . get ( child ) ; if ( reveal data = = null ) { return false ; } else if ( reveal data . target ! = child ) { throw new illegal state exception ( str ) ; } else if ( ! reveal data . clipping ) { return false ; } return view transformation . transform ( canvas , child , reveal data ) ; }", "new_code_tokens": ["public", "final", "boolean", "transform", "(", "canvas", "canvas", ",", "view", "child", ")", "{", "final", "reveal", "values", "reveal", "data", "=", "targets", ".", "get", "(", "child", ")", ";", "if", "(", "reveal", "data", "=", "=", "null", ")", "{", "return", "false", ";", "}", "else", "if", "(", "reveal", "data", ".", "target", "!", "=", "child", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "else", "if", "(", "!", "reveal", "data", ".", "clipping", ")", "{", "return", "false", ";", "}", "return", "view", "transformation", ".", "transform", "(", "canvas", ",", "child", ",", "reveal", "data", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> final <INSERT_END> <KEEP> boolean transform ( canvas canvas , view child ) { final reveal values reveal data = targets . get ( child ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> if ( <REPLACE_END> <KEEP> reveal data <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> = <REPLACE_END> <KEEP> = null <KEEP_END> <REPLACE_OLD> & & <REPLACE_NEW> ) { return false ; } else if ( <REPLACE_END> <KEEP> reveal data . <KEEP_END> <REPLACE_OLD> apply <REPLACE_NEW> target ! = child ) { throw new illegal state exception ( str ) ; } else if ( ! reveal data . clipping ) { return false ; } return view <REPLACE_END> <KEEP> transformation <KEEP_END> <INSERT> . transform <INSERT_END> <KEEP> ( canvas , child <KEEP_END> <INSERT> , reveal data <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "boolean", "transform", "(", "canvas", "canvas", ",", "view", "child", ")", "{", "final", "reveal", "values", "reveal", "data", "=", "targets", ".", "get", "(", "child", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "(", "<REPLACE_END>", "<KEEP>", "reveal", "data", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", "&", "&", "<REPLACE_NEW>", ")", "{", "return", "false", ";", "}", "else", "if", "(", "<REPLACE_END>", "<KEEP>", "reveal", "data", ".", "<KEEP_END>", "<REPLACE_OLD>", "apply", "<REPLACE_NEW>", "target", "!", "=", "child", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "else", "if", "(", "!", "reveal", "data", ".", "clipping", ")", "{", "return", "false", ";", "}", "return", "view", "<REPLACE_END>", "<KEEP>", "transformation", "<KEEP_END>", "<INSERT>", ".", "transform", "<INSERT_END>", "<KEEP>", "(", "canvas", ",", "child", "<KEEP_END>", "<INSERT>", ",", "reveal", "data", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> if <INSERT_NEW_KEEP_BEFORE> if view <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "if", "<INSERT_NEW_KEEP_BEFORE>", "if", "view", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "final", "<KEEP>", "boolean", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "canvas", "<KEEP>", "canvas", "<KEEP>", ",", "<KEEP>", "view", "<KEEP>", "child", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "reveal", "<KEEP>", "values", "<KEEP>", "reveal", "<KEEP>", "data", "<KEEP>", "=", "<KEEP>", "targets", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "child", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "reveal", "<KEEP>", "data", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "reveal", "<KEEP>", "data", "<KEEP>", ".", "<REPLACE_OLD>", "apply", "<REPLACE_NEW>", "target", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "child", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "illegal", "<REPLACE_NEW>", "state", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "reveal", "<REPLACE_NEW>", "data", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "clipping", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "view", "<KEEP>", "transformation", "<INSERT>", ".", "<INSERT>", "transform", "<KEEP>", "(", "<KEEP>", "canvas", "<KEEP>", ",", "<KEEP>", "child", "<INSERT>", ",", "<INSERT>", "reveal", "<INSERT>", "data", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_clerezza-48-6391", "old_comment": "a read lock if the underlying graph is a lockable mgraph it returns its lock , otherwise null", "old_comment_tokens": ["a", "read", "lock", "if", "the", "underlying", "graph", "is", "a", "lockable", "mgraph", "it", "returns", "its", "lock", ",", "otherwise", "null"], "new_comment": "a read lock if the underlying immutable graph is a lockable graph it returns its lock , otherwise null", "new_comment_tokens": ["a", "read", "lock", "if", "the", "underlying", "immutable", "graph", "is", "a", "lockable", "graph", "it", "returns", "its", "lock", ",", "otherwise", "null"], "old_code": "public lock read lock ( ) { if ( get graph ( ) instanceof lockable mgraph ) { return ( ( lockable mgraph ) get graph ( ) ) . get lock ( ) . read lock ( ) ; } return new fake lock ( ) ; }", "old_code_tokens": ["public", "lock", "read", "lock", "(", ")", "{", "if", "(", "get", "graph", "(", ")", "instanceof", "lockable", "mgraph", ")", "{", "return", "(", "(", "lockable", "mgraph", ")", "get", "graph", "(", ")", ")", ".", "get", "lock", "(", ")", ".", "read", "lock", "(", ")", ";", "}", "return", "new", "fake", "lock", "(", ")", ";", "}"], "new_code": "public lock read lock ( ) { return get graph ( ) . get lock ( ) . read lock ( ) ; }", "new_code_tokens": ["public", "lock", "read", "lock", "(", ")", "{", "return", "get", "graph", "(", ")", ".", "get", "lock", "(", ")", ".", "read", "lock", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public lock read lock ( ) { <KEEP_END> <REPLACE_OLD> if ( <REPLACE_NEW> return <REPLACE_END> <KEEP> get graph ( <KEEP_END> <DELETE> ) instanceof lockable mgraph ) { return ( ( lockable mgraph ) get graph ( ) <DELETE_END> <KEEP> ) . get lock ( ) . read lock ( ) ; } <KEEP_END> <DELETE> return new fake lock ( ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "lock", "read", "lock", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "get", "graph", "(", "<KEEP_END>", "<DELETE>", ")", "instanceof", "lockable", "mgraph", ")", "{", "return", "(", "(", "lockable", "mgraph", ")", "get", "graph", "(", ")", "<DELETE_END>", "<KEEP>", ")", ".", "get", "lock", "(", ")", ".", "read", "lock", "(", ")", ";", "}", "<KEEP_END>", "<DELETE>", "return", "new", "fake", "lock", "(", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> underlying <INSERT_NEW_KEEP_BEFORE> underlying immutable <INSERT_END> <REPLACE_OLD> mgraph <REPLACE_NEW> graph <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "underlying", "<INSERT_NEW_KEEP_BEFORE>", "underlying", "immutable", "<INSERT_END>", "<REPLACE_OLD>", "mgraph", "<REPLACE_NEW>", "graph", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "lock", "<KEEP>", "read", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "return", "<KEEP>", "get", "<KEEP>", "graph", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", "instanceof", "<DELETE>", "lockable", "<DELETE>", "mgraph", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "lockable", "<DELETE>", "mgraph", "<DELETE>", ")", "<DELETE>", "get", "<DELETE>", "graph", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "lock", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "fake", "<DELETE>", "lock", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "zjpjohn_idempiere-91-6657", "old_comment": "the collection the x _ ad _ replication table", "old_comment_tokens": ["the", "collection", "the", "x", "_", "ad", "_", "replication", "table"], "new_comment": "the list the x _ ad _ replication table", "new_comment_tokens": ["the", "list", "the", "x", "_", "ad", "_", "replication", "table"], "old_code": "public collection < x _ ad _ replication table > get replication tables ( ) { final string where clause = new string buffer ( x _ ad _ replication table . columnname _ ad _ replication strategy _ id ) + str ; return new query ( get ctx ( ) , x _ ad _ replication table . table _ name , where clause , get _ trx name ( ) ) . set client _ id ( ) . set parameters ( get ad _ replication strategy _ id ( ) ) . set only active records ( true ) . set apply access filter ( false ) . list ( ) ; }", "old_code_tokens": ["public", "collection", "<", "x", "_", "ad", "_", "replication", "table", ">", "get", "replication", "tables", "(", ")", "{", "final", "string", "where", "clause", "=", "new", "string", "buffer", "(", "x", "_", "ad", "_", "replication", "table", ".", "columnname", "_", "ad", "_", "replication", "strategy", "_", "id", ")", "+", "str", ";", "return", "new", "query", "(", "get", "ctx", "(", ")", ",", "x", "_", "ad", "_", "replication", "table", ".", "table", "_", "name", ",", "where", "clause", ",", "get", "_", "trx", "name", "(", ")", ")", ".", "set", "client", "_", "id", "(", ")", ".", "set", "parameters", "(", "get", "ad", "_", "replication", "strategy", "_", "id", "(", ")", ")", ".", "set", "only", "active", "records", "(", "true", ")", ".", "set", "apply", "access", "filter", "(", "false", ")", ".", "list", "(", ")", ";", "}"], "new_code": "public list < x _ ad _ replication table > get replication tables ( ) { final string where clause = i _ ad _ replication table . columnname _ ad _ replication strategy _ id + str ; return new query ( get ctx ( ) , i _ ad _ replication table . table _ name , where clause , get _ trx name ( ) ) . set client _ id ( ) . set parameters ( get ad _ replication strategy _ id ( ) ) . set only active records ( true ) . set apply access filter ( false ) . list ( ) ; }", "new_code_tokens": ["public", "list", "<", "x", "_", "ad", "_", "replication", "table", ">", "get", "replication", "tables", "(", ")", "{", "final", "string", "where", "clause", "=", "i", "_", "ad", "_", "replication", "table", ".", "columnname", "_", "ad", "_", "replication", "strategy", "_", "id", "+", "str", ";", "return", "new", "query", "(", "get", "ctx", "(", ")", ",", "i", "_", "ad", "_", "replication", "table", ".", "table", "_", "name", ",", "where", "clause", ",", "get", "_", "trx", "name", "(", ")", ")", ".", "set", "client", "_", "id", "(", ")", ".", "set", "parameters", "(", "get", "ad", "_", "replication", "strategy", "_", "id", "(", ")", ")", ".", "set", "only", "active", "records", "(", "true", ")", ".", "set", "apply", "access", "filter", "(", "false", ")", ".", "list", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < x _ ad _ replication table > get replication tables ( ) { final string where clause = <KEEP_END> <REPLACE_OLD> new string buffer ( x <REPLACE_NEW> i <REPLACE_END> <KEEP> _ ad _ replication table . columnname _ ad _ replication strategy _ id <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> + str ; return new query ( get ctx ( ) , <KEEP_END> <REPLACE_OLD> x <REPLACE_NEW> i <REPLACE_END> <KEEP> _ ad _ replication table . table _ name , where clause , get _ trx name ( ) ) . set client _ id ( ) . set parameters ( get ad _ replication strategy _ id ( ) ) . set only active records ( true ) . set apply access filter ( false ) . list ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "x", "_", "ad", "_", "replication", "table", ">", "get", "replication", "tables", "(", ")", "{", "final", "string", "where", "clause", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "string", "buffer", "(", "x", "<REPLACE_NEW>", "i", "<REPLACE_END>", "<KEEP>", "_", "ad", "_", "replication", "table", ".", "columnname", "_", "ad", "_", "replication", "strategy", "_", "id", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", "+", "str", ";", "return", "new", "query", "(", "get", "ctx", "(", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "i", "<REPLACE_END>", "<KEEP>", "_", "ad", "_", "replication", "table", ".", "table", "_", "name", ",", "where", "clause", ",", "get", "_", "trx", "name", "(", ")", ")", ".", "set", "client", "_", "id", "(", ")", ".", "set", "parameters", "(", "get", "ad", "_", "replication", "strategy", "_", "id", "(", ")", ")", ".", "set", "only", "active", "records", "(", "true", ")", ".", "set", "apply", "access", "filter", "(", "false", ")", ".", "list", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "x", "<KEEP>", "_", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "table", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "replication", "<KEEP>", "tables", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "where", "<KEEP>", "clause", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "buffer", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "i", "<KEEP>", "_", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "columnname", "<KEEP>", "_", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "strategy", "<KEEP>", "_", "<KEEP>", "id", "<DELETE>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "ctx", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "i", "<KEEP>", "_", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "table", "<KEEP>", ".", "<KEEP>", "table", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "where", "<KEEP>", "clause", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "_", "<KEEP>", "trx", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "client", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "strategy", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "only", "<KEEP>", "active", "<KEEP>", "records", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "apply", "<KEEP>", "access", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-11-4445", "old_comment": "the results of the active directory search .", "old_comment_tokens": ["the", "results", "of", "the", "active", "directory", "search", "."], "new_comment": "the results of the ldap directory search .", "new_comment_tokens": ["the", "results", "of", "the", "ldap", "directory", "search", "."], "old_code": "protected active directory info perform authentication ( string username , char [ ] password ) { if ( search base = = null ) { throw new illegal state exception ( str ) ; } if ( url = = null ) { throw new illegal state exception ( str ) ; } if ( principal suffix ! = null ) { username = username + principal suffix ; } hashtable < string , string > env = new hashtable < string , string > ( num ) ; env . put ( context . security _ authentication , authentication ) ; env . put ( context . security _ principal , username ) ; env . put ( context . security _ credentials , new string ( password ) ) ; env . put ( context . initial _ context _ factory , context factory ) ; env . put ( context . provider _ url , url ) ; env . put ( context . referral , refferal ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + env + str ) ; } ldap context ctx = null ; try { ctx = new initial ldap context ( env , null ) ; return get active directory info ( username , ctx ) ; } catch ( javax . naming . authentication exception e ) { throw new incorrect credential exception ( str , e ) ; } catch ( naming exception e ) { throw new authentication exception ( str , e ) ; } finally { try { if ( ctx ! = null ) { ctx . close ( ) ; } } catch ( naming exception e ) { if ( log . is error enabled ( ) ) { log . error ( str , e ) ; } } } }", "old_code_tokens": ["protected", "active", "directory", "info", "perform", "authentication", "(", "string", "username", ",", "char", "[", "]", "password", ")", "{", "if", "(", "search", "base", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "if", "(", "url", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "if", "(", "principal", "suffix", "!", "=", "null", ")", "{", "username", "=", "username", "+", "principal", "suffix", ";", "}", "hashtable", "<", "string", ",", "string", ">", "env", "=", "new", "hashtable", "<", "string", ",", "string", ">", "(", "num", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "authentication", ",", "authentication", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "principal", ",", "username", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "credentials", ",", "new", "string", "(", "password", ")", ")", ";", "env", ".", "put", "(", "context", ".", "initial", "_", "context", "_", "factory", ",", "context", "factory", ")", ";", "env", ".", "put", "(", "context", ".", "provider", "_", "url", ",", "url", ")", ";", "env", ".", "put", "(", "context", ".", "referral", ",", "refferal", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "env", "+", "str", ")", ";", "}", "ldap", "context", "ctx", "=", "null", ";", "try", "{", "ctx", "=", "new", "initial", "ldap", "context", "(", "env", ",", "null", ")", ";", "return", "get", "active", "directory", "info", "(", "username", ",", "ctx", ")", ";", "}", "catch", "(", "javax", ".", "naming", ".", "authentication", "exception", "e", ")", "{", "throw", "new", "incorrect", "credential", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "naming", "exception", "e", ")", "{", "throw", "new", "authentication", "exception", "(", "str", ",", "e", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "ctx", "!", "=", "null", ")", "{", "ctx", ".", "close", "(", ")", ";", "}", "}", "catch", "(", "naming", "exception", "e", ")", "{", "if", "(", "log", ".", "is", "error", "enabled", "(", ")", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "}", "}", "}", "}"], "new_code": "protected ldap directory info perform authentication ( string username , char [ ] password ) { if ( search base = = null ) { throw new illegal state exception ( str ) ; } if ( url = = null ) { throw new illegal state exception ( str ) ; } if ( principal suffix ! = null ) { username = username + principal suffix ; } hashtable < string , string > env = new hashtable < string , string > ( num ) ; env . put ( context . security _ authentication , authentication ) ; env . put ( context . security _ principal , username ) ; env . put ( context . security _ credentials , new string ( password ) ) ; env . put ( context . initial _ context _ factory , context factory ) ; env . put ( context . provider _ url , url ) ; env . put ( context . referral , refferal ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + env + str ) ; } ldap context ctx = null ; try { ctx = new initial ldap context ( env , null ) ; return get ldap directory info ( username , ctx ) ; } catch ( javax . naming . authentication exception e ) { throw new incorrect credential exception ( str , e ) ; } catch ( naming exception e ) { throw new authentication exception ( str , e ) ; } finally { try { if ( ctx ! = null ) { ctx . close ( ) ; } } catch ( naming exception e ) { if ( log . is error enabled ( ) ) { log . error ( str , e ) ; } } } }", "new_code_tokens": ["protected", "ldap", "directory", "info", "perform", "authentication", "(", "string", "username", ",", "char", "[", "]", "password", ")", "{", "if", "(", "search", "base", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "if", "(", "url", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "if", "(", "principal", "suffix", "!", "=", "null", ")", "{", "username", "=", "username", "+", "principal", "suffix", ";", "}", "hashtable", "<", "string", ",", "string", ">", "env", "=", "new", "hashtable", "<", "string", ",", "string", ">", "(", "num", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "authentication", ",", "authentication", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "principal", ",", "username", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "credentials", ",", "new", "string", "(", "password", ")", ")", ";", "env", ".", "put", "(", "context", ".", "initial", "_", "context", "_", "factory", ",", "context", "factory", ")", ";", "env", ".", "put", "(", "context", ".", "provider", "_", "url", ",", "url", ")", ";", "env", ".", "put", "(", "context", ".", "referral", ",", "refferal", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "env", "+", "str", ")", ";", "}", "ldap", "context", "ctx", "=", "null", ";", "try", "{", "ctx", "=", "new", "initial", "ldap", "context", "(", "env", ",", "null", ")", ";", "return", "get", "ldap", "directory", "info", "(", "username", ",", "ctx", ")", ";", "}", "catch", "(", "javax", ".", "naming", ".", "authentication", "exception", "e", ")", "{", "throw", "new", "incorrect", "credential", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "naming", "exception", "e", ")", "{", "throw", "new", "authentication", "exception", "(", "str", ",", "e", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "ctx", "!", "=", "null", ")", "{", "ctx", ".", "close", "(", ")", ";", "}", "}", "catch", "(", "naming", "exception", "e", ")", "{", "if", "(", "log", ".", "is", "error", "enabled", "(", ")", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "}", "}", "}", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> active <REPLACE_NEW> ldap <REPLACE_END> <KEEP> directory info perform authentication ( string username , char [ ] password ) { if ( search base = = null ) { throw new illegal state exception ( str ) ; } if ( url = = null ) { throw new illegal state exception ( str ) ; } if ( principal suffix ! = null ) { username = username + principal suffix ; } hashtable < string , string > env = new hashtable < string , string > ( num ) ; env . put ( context . security _ authentication , authentication ) ; env . put ( context . security _ principal , username ) ; env . put ( context . security _ credentials , new string ( password ) ) ; env . put ( context . initial _ context _ factory , context factory ) ; env . put ( context . provider _ url , url ) ; env . put ( context . referral , refferal ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + env + str ) ; } ldap context ctx = null ; try { ctx = new initial ldap context ( env , null ) ; return get <KEEP_END> <REPLACE_OLD> active <REPLACE_NEW> ldap <REPLACE_END> <KEEP> directory info ( username , ctx ) ; } catch ( javax . naming . authentication exception e ) { throw new incorrect credential exception ( str , e ) ; } catch ( naming exception e ) { throw new authentication exception ( str , e ) ; } finally { try { if ( ctx ! = null ) { ctx . close ( ) ; } } catch ( naming exception e ) { if ( log . is error enabled ( ) ) { log . error ( str , e ) ; } } } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "active", "<REPLACE_NEW>", "ldap", "<REPLACE_END>", "<KEEP>", "directory", "info", "perform", "authentication", "(", "string", "username", ",", "char", "[", "]", "password", ")", "{", "if", "(", "search", "base", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "if", "(", "url", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "if", "(", "principal", "suffix", "!", "=", "null", ")", "{", "username", "=", "username", "+", "principal", "suffix", ";", "}", "hashtable", "<", "string", ",", "string", ">", "env", "=", "new", "hashtable", "<", "string", ",", "string", ">", "(", "num", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "authentication", ",", "authentication", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "principal", ",", "username", ")", ";", "env", ".", "put", "(", "context", ".", "security", "_", "credentials", ",", "new", "string", "(", "password", ")", ")", ";", "env", ".", "put", "(", "context", ".", "initial", "_", "context", "_", "factory", ",", "context", "factory", ")", ";", "env", ".", "put", "(", "context", ".", "provider", "_", "url", ",", "url", ")", ";", "env", ".", "put", "(", "context", ".", "referral", ",", "refferal", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "env", "+", "str", ")", ";", "}", "ldap", "context", "ctx", "=", "null", ";", "try", "{", "ctx", "=", "new", "initial", "ldap", "context", "(", "env", ",", "null", ")", ";", "return", "get", "<KEEP_END>", "<REPLACE_OLD>", "active", "<REPLACE_NEW>", "ldap", "<REPLACE_END>", "<KEEP>", "directory", "info", "(", "username", ",", "ctx", ")", ";", "}", "catch", "(", "javax", ".", "naming", ".", "authentication", "exception", "e", ")", "{", "throw", "new", "incorrect", "credential", "exception", "(", "str", ",", "e", ")", ";", "}", "catch", "(", "naming", "exception", "e", ")", "{", "throw", "new", "authentication", "exception", "(", "str", ",", "e", ")", ";", "}", "finally", "{", "try", "{", "if", "(", "ctx", "!", "=", "null", ")", "{", "ctx", ".", "close", "(", ")", ";", "}", "}", "catch", "(", "naming", "exception", "e", ")", "{", "if", "(", "log", ".", "is", "error", "enabled", "(", ")", ")", "{", "log", ".", "error", "(", "str", ",", "e", ")", ";", "}", "}", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> active <REPLACE_NEW> ldap <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "active", "<REPLACE_NEW>", "ldap", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "active", "<REPLACE_NEW>", "ldap", "<KEEP>", "directory", "<KEEP>", "info", "<KEEP>", "perform", "<KEEP>", "authentication", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "username", "<KEEP>", ",", "<KEEP>", "char", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "password", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "search", "<KEEP>", "base", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "principal", "<KEEP>", "suffix", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "username", "<KEEP>", "=", "<KEEP>", "username", "<KEEP>", "+", "<KEEP>", "principal", "<KEEP>", "suffix", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "hashtable", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "env", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "hashtable", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "security", "<KEEP>", "_", "<KEEP>", "authentication", "<KEEP>", ",", "<KEEP>", "authentication", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "security", "<KEEP>", "_", "<KEEP>", "principal", "<KEEP>", ",", "<KEEP>", "username", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "security", "<KEEP>", "_", "<KEEP>", "credentials", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "password", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "initial", "<KEEP>", "_", "<KEEP>", "context", "<KEEP>", "_", "<KEEP>", "factory", "<KEEP>", ",", "<KEEP>", "context", "<KEEP>", "factory", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "provider", "<KEEP>", "_", "<KEEP>", "url", "<KEEP>", ",", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "env", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "context", "<KEEP>", ".", "<KEEP>", "referral", "<KEEP>", ",", "<KEEP>", "refferal", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "env", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "ldap", "<KEEP>", "context", "<KEEP>", "ctx", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "ctx", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "initial", "<KEEP>", "ldap", "<KEEP>", "context", "<KEEP>", "(", "<KEEP>", "env", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "get", "<REPLACE_OLD>", "active", "<REPLACE_NEW>", "ldap", "<KEEP>", "directory", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "username", "<KEEP>", ",", "<KEEP>", "ctx", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "javax", "<KEEP>", ".", "<KEEP>", "naming", "<KEEP>", ".", "<KEEP>", "authentication", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "incorrect", "<KEEP>", "credential", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "naming", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "authentication", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ctx", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "ctx", "<KEEP>", ".", "<KEEP>", "close", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "naming", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "error", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "briancavalier_iterate-1-5620", "old_comment": "a binary predicate that will call write ( x ) on the java . io . writer y", "old_comment_tokens": ["a", "binary", "predicate", "that", "will", "call", "write", "(", "x", ")", "on", "the", "java", ".", "io", ".", "writer", "y"], "new_comment": "a binary visitor that will call write ( x ) on the java . io . writer y", "new_comment_tokens": ["a", "binary", "visitor", "that", "will", "call", "write", "(", "x", ")", "on", "the", "java", ".", "io", ".", "writer", "y"], "old_code": "public static binary predicate < string , writer > write ( ) { return new write ( ) ; }", "old_code_tokens": ["public", "static", "binary", "predicate", "<", "string", ",", "writer", ">", "write", "(", ")", "{", "return", "new", "write", "(", ")", ";", "}"], "new_code": "public static binary visitor < string , writer > write ( ) { return new write ( ) ; }", "new_code_tokens": ["public", "static", "binary", "visitor", "<", "string", ",", "writer", ">", "write", "(", ")", "{", "return", "new", "write", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static binary <KEEP_END> <REPLACE_OLD> predicate <REPLACE_NEW> visitor <REPLACE_END> <KEEP> < string , writer > write ( ) { return new write ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "binary", "<KEEP_END>", "<REPLACE_OLD>", "predicate", "<REPLACE_NEW>", "visitor", "<REPLACE_END>", "<KEEP>", "<", "string", ",", "writer", ">", "write", "(", ")", "{", "return", "new", "write", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> predicate <REPLACE_NEW> visitor <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "predicate", "<REPLACE_NEW>", "visitor", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "binary", "<REPLACE_OLD>", "predicate", "<REPLACE_NEW>", "visitor", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "writer", "<KEEP>", ">", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "write", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_jsecurity-67-4448", "old_comment": "an aggregated account instance representing account data across all the successfully consulted realms .", "old_comment_tokens": ["an", "aggregated", "account", "instance", "representing", "account", "data", "across", "all", "the", "successfully", "consulted", "realms", "."], "new_comment": "an aggregated authentication info instance representing account data across all the successfully consulted realms .", "new_comment_tokens": ["an", "aggregated", "authentication", "info", "instance", "representing", "account", "data", "across", "all", "the", "successfully", "consulted", "realms", "."], "old_code": "protected account do multi realm authentication ( collection < ? extends realm > realms , authentication token token ) { modular authentication strategy strategy = get modular authentication strategy ( ) ; account aggregate = strategy . before all attempts ( realms , token ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + realms . size ( ) + str ) ; } for ( realm realm : realms ) { if ( realm . supports ( token ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + token + str + str + realm + str ) ; } aggregate = strategy . before attempt ( realm , token , aggregate ) ; account account = null ; throwable t = null ; try { account = realm . get account ( token ) ; } catch ( throwable throwable ) { t = throwable ; if ( log . is trace enabled ( ) ) { string msg = str + realm + str ; log . trace ( msg , t ) ; } } aggregate = strategy . after attempt ( realm , token , account , aggregate , t ) ; } else { if ( log . is debug enabled ( ) ) { log . debug ( str + realm + str + str + token + str ) ; } } } aggregate = strategy . after all attempts ( token , aggregate ) ; return aggregate ; }", "old_code_tokens": ["protected", "account", "do", "multi", "realm", "authentication", "(", "collection", "<", "?", "extends", "realm", ">", "realms", ",", "authentication", "token", "token", ")", "{", "modular", "authentication", "strategy", "strategy", "=", "get", "modular", "authentication", "strategy", "(", ")", ";", "account", "aggregate", "=", "strategy", ".", "before", "all", "attempts", "(", "realms", ",", "token", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realms", ".", "size", "(", ")", "+", "str", ")", ";", "}", "for", "(", "realm", "realm", ":", "realms", ")", "{", "if", "(", "realm", ".", "supports", "(", "token", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "token", "+", "str", "+", "str", "+", "realm", "+", "str", ")", ";", "}", "aggregate", "=", "strategy", ".", "before", "attempt", "(", "realm", ",", "token", ",", "aggregate", ")", ";", "account", "account", "=", "null", ";", "throwable", "t", "=", "null", ";", "try", "{", "account", "=", "realm", ".", "get", "account", "(", "token", ")", ";", "}", "catch", "(", "throwable", "throwable", ")", "{", "t", "=", "throwable", ";", "if", "(", "log", ".", "is", "trace", "enabled", "(", ")", ")", "{", "string", "msg", "=", "str", "+", "realm", "+", "str", ";", "log", ".", "trace", "(", "msg", ",", "t", ")", ";", "}", "}", "aggregate", "=", "strategy", ".", "after", "attempt", "(", "realm", ",", "token", ",", "account", ",", "aggregate", ",", "t", ")", ";", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", "+", "str", "+", "str", "+", "token", "+", "str", ")", ";", "}", "}", "}", "aggregate", "=", "strategy", ".", "after", "all", "attempts", "(", "token", ",", "aggregate", ")", ";", "return", "aggregate", ";", "}"], "new_code": "protected authentication info do multi realm authentication ( collection < ? extends realm > realms , authentication token token ) { modular authentication strategy strategy = get modular authentication strategy ( ) ; authentication info aggregate = strategy . before all attempts ( realms , token ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + realms . size ( ) + str ) ; } for ( realm realm : realms ) { if ( realm . supports ( token ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + token + str + str + realm + str ) ; } authentication info info = null ; throwable t = null ; try { info = realm . get authentication info ( token ) ; } catch ( throwable throwable ) { t = throwable ; if ( log . is trace enabled ( ) ) { string msg = str + realm + str ; log . trace ( msg , t ) ; } } aggregate = strategy . after attempt ( realm , token , info , aggregate , t ) ; } else { if ( log . is debug enabled ( ) ) { log . debug ( str + realm + str + str + token + str ) ; } } } aggregate = strategy . after all attempts ( token , aggregate ) ; return aggregate ; }", "new_code_tokens": ["protected", "authentication", "info", "do", "multi", "realm", "authentication", "(", "collection", "<", "?", "extends", "realm", ">", "realms", ",", "authentication", "token", "token", ")", "{", "modular", "authentication", "strategy", "strategy", "=", "get", "modular", "authentication", "strategy", "(", ")", ";", "authentication", "info", "aggregate", "=", "strategy", ".", "before", "all", "attempts", "(", "realms", ",", "token", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realms", ".", "size", "(", ")", "+", "str", ")", ";", "}", "for", "(", "realm", "realm", ":", "realms", ")", "{", "if", "(", "realm", ".", "supports", "(", "token", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "token", "+", "str", "+", "str", "+", "realm", "+", "str", ")", ";", "}", "authentication", "info", "info", "=", "null", ";", "throwable", "t", "=", "null", ";", "try", "{", "info", "=", "realm", ".", "get", "authentication", "info", "(", "token", ")", ";", "}", "catch", "(", "throwable", "throwable", ")", "{", "t", "=", "throwable", ";", "if", "(", "log", ".", "is", "trace", "enabled", "(", ")", ")", "{", "string", "msg", "=", "str", "+", "realm", "+", "str", ";", "log", ".", "trace", "(", "msg", ",", "t", ")", ";", "}", "}", "aggregate", "=", "strategy", ".", "after", "attempt", "(", "realm", ",", "token", ",", "info", ",", "aggregate", ",", "t", ")", ";", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", "+", "str", "+", "str", "+", "token", "+", "str", ")", ";", "}", "}", "}", "aggregate", "=", "strategy", ".", "after", "all", "attempts", "(", "token", ",", "aggregate", ")", ";", "return", "aggregate", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <REPLACE_OLD> account <REPLACE_NEW> authentication info <REPLACE_END> <KEEP> do multi realm authentication ( collection < ? extends realm > realms , authentication token token ) { modular authentication strategy strategy = get modular authentication strategy ( ) ; <KEEP_END> <REPLACE_OLD> account <REPLACE_NEW> authentication info <REPLACE_END> <KEEP> aggregate = strategy . before all attempts ( realms , token ) ; if ( log . is debug enabled ( ) ) { log . debug ( str + realms . size ( ) + str ) ; } for ( realm realm : realms ) { if ( realm . supports ( token ) ) { if ( log . is debug enabled ( ) ) { log . debug ( str + token + str + str + realm + str ) ; } <KEEP_END> <REPLACE_OLD> aggregate = strategy . before attempt ( realm , token , aggregate ) ; account account <REPLACE_NEW> authentication info info <REPLACE_END> <KEEP> = null ; throwable t = null ; try { <KEEP_END> <REPLACE_OLD> account <REPLACE_NEW> info <REPLACE_END> <KEEP> = realm . get <KEEP_END> <REPLACE_OLD> account <REPLACE_NEW> authentication info <REPLACE_END> <KEEP> ( token ) ; } catch ( throwable throwable ) { t = throwable ; if ( log . is trace enabled ( ) ) { string msg = str + realm + str ; log . trace ( msg , t ) ; } } aggregate = strategy . after attempt ( realm , token , <KEEP_END> <REPLACE_OLD> account <REPLACE_NEW> info <REPLACE_END> <KEEP> , aggregate , t ) ; } else { if ( log . is debug enabled ( ) ) { log . debug ( str + realm + str + str + token + str ) ; } } } aggregate = strategy . after all attempts ( token , aggregate ) ; return aggregate ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "info", "<REPLACE_END>", "<KEEP>", "do", "multi", "realm", "authentication", "(", "collection", "<", "?", "extends", "realm", ">", "realms", ",", "authentication", "token", "token", ")", "{", "modular", "authentication", "strategy", "strategy", "=", "get", "modular", "authentication", "strategy", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "info", "<REPLACE_END>", "<KEEP>", "aggregate", "=", "strategy", ".", "before", "all", "attempts", "(", "realms", ",", "token", ")", ";", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realms", ".", "size", "(", ")", "+", "str", ")", ";", "}", "for", "(", "realm", "realm", ":", "realms", ")", "{", "if", "(", "realm", ".", "supports", "(", "token", ")", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "token", "+", "str", "+", "str", "+", "realm", "+", "str", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "aggregate", "=", "strategy", ".", "before", "attempt", "(", "realm", ",", "token", ",", "aggregate", ")", ";", "account", "account", "<REPLACE_NEW>", "authentication", "info", "info", "<REPLACE_END>", "<KEEP>", "=", "null", ";", "throwable", "t", "=", "null", ";", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "info", "<REPLACE_END>", "<KEEP>", "=", "realm", ".", "get", "<KEEP_END>", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "info", "<REPLACE_END>", "<KEEP>", "(", "token", ")", ";", "}", "catch", "(", "throwable", "throwable", ")", "{", "t", "=", "throwable", ";", "if", "(", "log", ".", "is", "trace", "enabled", "(", ")", ")", "{", "string", "msg", "=", "str", "+", "realm", "+", "str", ";", "log", ".", "trace", "(", "msg", ",", "t", ")", ";", "}", "}", "aggregate", "=", "strategy", ".", "after", "attempt", "(", "realm", ",", "token", ",", "<KEEP_END>", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "info", "<REPLACE_END>", "<KEEP>", ",", "aggregate", ",", "t", ")", ";", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "realm", "+", "str", "+", "str", "+", "token", "+", "str", ")", ";", "}", "}", "}", "aggregate", "=", "strategy", ".", "after", "all", "attempts", "(", "token", ",", "aggregate", ")", ";", "return", "aggregate", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> aggregated account <REPLACE_NEW_KEEP_BEFORE> aggregated authentication info <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "aggregated", "account", "<REPLACE_NEW_KEEP_BEFORE>", "aggregated", "authentication", "info", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "<REPLACE_NEW>", "info", "<KEEP>", "do", "<KEEP>", "multi", "<KEEP>", "realm", "<KEEP>", "authentication", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", "extends", "<KEEP>", "realm", "<KEEP>", ">", "<KEEP>", "realms", "<KEEP>", ",", "<KEEP>", "authentication", "<KEEP>", "token", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "modular", "<KEEP>", "authentication", "<KEEP>", "strategy", "<KEEP>", "strategy", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "modular", "<KEEP>", "authentication", "<KEEP>", "strategy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "<REPLACE_NEW>", "info", "<KEEP>", "aggregate", "<KEEP>", "=", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "before", "<KEEP>", "all", "<KEEP>", "attempts", "<KEEP>", "(", "<KEEP>", "realms", "<KEEP>", ",", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realms", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", "realm", "<KEEP>", ":", "<KEEP>", "realms", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "supports", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "token", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "aggregate", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "strategy", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "before", "<REPLACE_OLD>", "attempt", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "realm", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "token", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "aggregate", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "account", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "<REPLACE_NEW>", "info", "<REPLACE_NEW>", "info", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "throwable", "<KEEP>", "t", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "info", "<KEEP>", "=", "<KEEP>", "realm", "<KEEP>", ".", "<KEEP>", "get", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "authentication", "<REPLACE_NEW>", "info", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "throwable", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "t", "<KEEP>", "=", "<KEEP>", "throwable", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "trace", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "msg", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "trace", "<KEEP>", "(", "<KEEP>", "msg", "<KEEP>", ",", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "aggregate", "<KEEP>", "=", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "after", "<KEEP>", "attempt", "<KEEP>", "(", "<KEEP>", "realm", "<KEEP>", ",", "<KEEP>", "token", "<KEEP>", ",", "<REPLACE_OLD>", "account", "<REPLACE_NEW>", "info", "<KEEP>", ",", "<KEEP>", "aggregate", "<KEEP>", ",", "<KEEP>", "t", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "realm", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "token", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "aggregate", "<KEEP>", "=", "<KEEP>", "strategy", "<KEEP>", ".", "<KEEP>", "after", "<KEEP>", "all", "<KEEP>", "attempts", "<KEEP>", "(", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "aggregate", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "aggregate", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-16-6953", "old_comment": "hash map of product type ids mapped to their parent id", "old_comment_tokens": ["hash", "map", "of", "product", "type", "ids", "mapped", "to", "their", "parent", "id"], "new_comment": "concurrent hash map of product type ids mapped to their parent id", "new_comment_tokens": ["concurrent", "hash", "map", "of", "product", "type", "ids", "mapped", "to", "their", "parent", "id"], "old_code": "public hash map < string , string > get sub to super map ( ) { return sub to super map ; }", "old_code_tokens": ["public", "hash", "map", "<", "string", ",", "string", ">", "get", "sub", "to", "super", "map", "(", ")", "{", "return", "sub", "to", "super", "map", ";", "}"], "new_code": "public concurrent hash map < string , string > get sub to super map ( ) { return sub to super map ; }", "new_code_tokens": ["public", "concurrent", "hash", "map", "<", "string", ",", "string", ">", "get", "sub", "to", "super", "map", "(", ")", "{", "return", "sub", "to", "super", "map", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> concurrent <INSERT_END> <KEEP> hash map < string , string > get sub to super map ( ) { return sub to super map ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "concurrent", "<INSERT_END>", "<KEEP>", "hash", "map", "<", "string", ",", "string", ">", "get", "sub", "to", "super", "map", "(", ")", "{", "return", "sub", "to", "super", "map", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> hash <INSERT_NEW_KEEP_AFTER> concurrent hash <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "hash", "<INSERT_NEW_KEEP_AFTER>", "concurrent", "hash", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "concurrent", "<KEEP>", "hash", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "sub", "<KEEP>", "to", "<KEEP>", "super", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "sub", "<KEEP>", "to", "<KEEP>", "super", "<KEEP>", "map", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "joehalliwell_jGeoPlanet-6-4684", "old_comment": "the place type corresponding to the provided name , or null .", "old_comment_tokens": ["the", "place", "type", "corresponding", "to", "the", "provided", "name", ",", "or", "null", "."], "new_comment": "the place type corresponding to the provided name .", "new_comment_tokens": ["the", "place", "type", "corresponding", "to", "the", "provided", "name", "."], "old_code": "public place type get place type ( string place type ) { return place types cache . get ( place type ) ; }", "old_code_tokens": ["public", "place", "type", "get", "place", "type", "(", "string", "place", "type", ")", "{", "return", "place", "types", "cache", ".", "get", "(", "place", "type", ")", ";", "}"], "new_code": "public place type get place type ( string place type name ) throws invalid place type { place type type = place type name cache . get ( place type name ) ; if ( type = = null ) throw new invalid place type ( place type name ) ; return type ; }", "new_code_tokens": ["public", "place", "type", "get", "place", "type", "(", "string", "place", "type", "name", ")", "throws", "invalid", "place", "type", "{", "place", "type", "type", "=", "place", "type", "name", "cache", ".", "get", "(", "place", "type", "name", ")", ";", "if", "(", "type", "=", "=", "null", ")", "throw", "new", "invalid", "place", "type", "(", "place", "type", "name", ")", ";", "return", "type", ";", "}"], "span_diff_code": "<KEEP> public place type get place type ( string place type <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ) <KEEP_END> <INSERT> throws invalid place type <INSERT_END> <KEEP> { <KEEP_END> <DELETE> return <DELETE_END> <KEEP> place <KEEP_END> <REPLACE_OLD> types <REPLACE_NEW> type type = place type name <REPLACE_END> <KEEP> cache . get ( place type <KEEP_END> <INSERT> name <INSERT_END> <KEEP> ) ; <KEEP_END> <INSERT> if ( type = = null ) throw new invalid place type ( place type name ) ; return type ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "place", "type", "get", "place", "type", "(", "string", "place", "type", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", "throws", "invalid", "place", "type", "<INSERT_END>", "<KEEP>", "{", "<KEEP_END>", "<DELETE>", "return", "<DELETE_END>", "<KEEP>", "place", "<KEEP_END>", "<REPLACE_OLD>", "types", "<REPLACE_NEW>", "type", "type", "=", "place", "type", "name", "<REPLACE_END>", "<KEEP>", "cache", ".", "get", "(", "place", "type", "<KEEP_END>", "<INSERT>", "name", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "type", "=", "=", "null", ")", "throw", "new", "invalid", "place", "type", "(", "place", "type", "name", ")", ";", "return", "type", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> , or null <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", ",", "or", "null", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "place", "<KEEP>", "type", "<KEEP>", "get", "<KEEP>", "place", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "place", "<KEEP>", "type", "<INSERT>", "name", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "invalid", "<INSERT>", "place", "<INSERT>", "type", "<KEEP>", "{", "<DELETE>", "return", "<KEEP>", "place", "<REPLACE_OLD>", "types", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "place", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "name", "<KEEP>", "cache", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "place", "<KEEP>", "type", "<INSERT>", "name", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "invalid", "<INSERT>", "place", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", "place", "<INSERT>", "type", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "type", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jackyglony_objectiveclipse-216-3922", "old_comment": "the itype of the iastname parameter", "old_comment_tokens": ["the", "itype", "of", "the", "iastname", "parameter"], "new_comment": "the itype of the iastdeclarator parameter", "new_comment_tokens": ["the", "itype", "of", "the", "iastdeclarator", "parameter"], "old_code": "public static itype create type ( iastname name ) { if ( ! ( name . get parent ( ) instanceof iastdeclarator ) ) return null ; iastdecl specifier decl spec = null ; iastdeclarator declarator = ( iastdeclarator ) name . get parent ( ) ; iastnode node = declarator . get parent ( ) ; while ( node instanceof iastdeclarator ) { declarator = ( iastdeclarator ) node ; node = node . get parent ( ) ; } if ( node instanceof iastparameter declaration ) decl spec = ( ( iastparameter declaration ) node ) . get decl specifier ( ) ; else if ( node instanceof iastsimple declaration ) decl spec = ( ( iastsimple declaration ) node ) . get decl specifier ( ) ; else if ( node instanceof iastfunction definition ) decl spec = ( ( iastfunction definition ) node ) . get decl specifier ( ) ; else if ( node instanceof iasttype id ) decl spec = ( ( iasttype id ) node ) . get decl specifier ( ) ; boolean is parameter = ( node instanceof iastparameter declaration | | node . get parent ( ) instanceof icastkn rfunction declarator ) ; itype type = null ; if ( is parameter & & node . get parent ( ) . get parent ( ) instanceof iastfunction definition ) { type = create base type ( decl spec ) ; } else { type = create type ( decl spec ) ; } type = create type ( type , declarator ) ; if ( is parameter ) { if ( type instanceof iarray type ) { carray type at = ( carray type ) type ; type = new cqualified pointer type ( at . get type ( ) , at . get modifier ( ) ) ; } else if ( type instanceof ifunction type ) { type = new cpointer type ( type ) ; } } return type ; }", "old_code_tokens": ["public", "static", "itype", "create", "type", "(", "iastname", "name", ")", "{", "if", "(", "!", "(", "name", ".", "get", "parent", "(", ")", "instanceof", "iastdeclarator", ")", ")", "return", "null", ";", "iastdecl", "specifier", "decl", "spec", "=", "null", ";", "iastdeclarator", "declarator", "=", "(", "iastdeclarator", ")", "name", ".", "get", "parent", "(", ")", ";", "iastnode", "node", "=", "declarator", ".", "get", "parent", "(", ")", ";", "while", "(", "node", "instanceof", "iastdeclarator", ")", "{", "declarator", "=", "(", "iastdeclarator", ")", "node", ";", "node", "=", "node", ".", "get", "parent", "(", ")", ";", "}", "if", "(", "node", "instanceof", "iastparameter", "declaration", ")", "decl", "spec", "=", "(", "(", "iastparameter", "declaration", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iastsimple", "declaration", ")", "decl", "spec", "=", "(", "(", "iastsimple", "declaration", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iastfunction", "definition", ")", "decl", "spec", "=", "(", "(", "iastfunction", "definition", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iasttype", "id", ")", "decl", "spec", "=", "(", "(", "iasttype", "id", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "boolean", "is", "parameter", "=", "(", "node", "instanceof", "iastparameter", "declaration", "|", "|", "node", ".", "get", "parent", "(", ")", "instanceof", "icastkn", "rfunction", "declarator", ")", ";", "itype", "type", "=", "null", ";", "if", "(", "is", "parameter", "&", "&", "node", ".", "get", "parent", "(", ")", ".", "get", "parent", "(", ")", "instanceof", "iastfunction", "definition", ")", "{", "type", "=", "create", "base", "type", "(", "decl", "spec", ")", ";", "}", "else", "{", "type", "=", "create", "type", "(", "decl", "spec", ")", ";", "}", "type", "=", "create", "type", "(", "type", ",", "declarator", ")", ";", "if", "(", "is", "parameter", ")", "{", "if", "(", "type", "instanceof", "iarray", "type", ")", "{", "carray", "type", "at", "=", "(", "carray", "type", ")", "type", ";", "type", "=", "new", "cqualified", "pointer", "type", "(", "at", ".", "get", "type", "(", ")", ",", "at", ".", "get", "modifier", "(", ")", ")", ";", "}", "else", "if", "(", "type", "instanceof", "ifunction", "type", ")", "{", "type", "=", "new", "cpointer", "type", "(", "type", ")", ";", "}", "}", "return", "type", ";", "}"], "new_code": "public static itype create type ( iastdeclarator declarator ) { iastdecl specifier decl spec = null ; iastnode node = declarator . get parent ( ) ; while ( node instanceof iastdeclarator ) { declarator = ( iastdeclarator ) node ; node = node . get parent ( ) ; } if ( node instanceof iastparameter declaration ) decl spec = ( ( iastparameter declaration ) node ) . get decl specifier ( ) ; else if ( node instanceof iastsimple declaration ) decl spec = ( ( iastsimple declaration ) node ) . get decl specifier ( ) ; else if ( node instanceof iastfunction definition ) decl spec = ( ( iastfunction definition ) node ) . get decl specifier ( ) ; else if ( node instanceof iasttype id ) decl spec = ( ( iasttype id ) node ) . get decl specifier ( ) ; boolean is parameter = ( node instanceof iastparameter declaration | | node . get parent ( ) instanceof icastkn rfunction declarator ) ; itype type = null ; if ( is parameter & & node . get parent ( ) . get parent ( ) instanceof iastfunction definition ) { type = create base type ( decl spec ) ; } else { type = create type ( decl spec ) ; } type = create type ( type , declarator ) ; if ( is parameter ) { if ( type instanceof iarray type ) { carray type at = ( carray type ) type ; type = new cqualified pointer type ( at . get type ( ) , at . get modifier ( ) ) ; } else if ( type instanceof ifunction type ) { type = new cpointer type ( type ) ; } } return type ; }", "new_code_tokens": ["public", "static", "itype", "create", "type", "(", "iastdeclarator", "declarator", ")", "{", "iastdecl", "specifier", "decl", "spec", "=", "null", ";", "iastnode", "node", "=", "declarator", ".", "get", "parent", "(", ")", ";", "while", "(", "node", "instanceof", "iastdeclarator", ")", "{", "declarator", "=", "(", "iastdeclarator", ")", "node", ";", "node", "=", "node", ".", "get", "parent", "(", ")", ";", "}", "if", "(", "node", "instanceof", "iastparameter", "declaration", ")", "decl", "spec", "=", "(", "(", "iastparameter", "declaration", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iastsimple", "declaration", ")", "decl", "spec", "=", "(", "(", "iastsimple", "declaration", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iastfunction", "definition", ")", "decl", "spec", "=", "(", "(", "iastfunction", "definition", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iasttype", "id", ")", "decl", "spec", "=", "(", "(", "iasttype", "id", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "boolean", "is", "parameter", "=", "(", "node", "instanceof", "iastparameter", "declaration", "|", "|", "node", ".", "get", "parent", "(", ")", "instanceof", "icastkn", "rfunction", "declarator", ")", ";", "itype", "type", "=", "null", ";", "if", "(", "is", "parameter", "&", "&", "node", ".", "get", "parent", "(", ")", ".", "get", "parent", "(", ")", "instanceof", "iastfunction", "definition", ")", "{", "type", "=", "create", "base", "type", "(", "decl", "spec", ")", ";", "}", "else", "{", "type", "=", "create", "type", "(", "decl", "spec", ")", ";", "}", "type", "=", "create", "type", "(", "type", ",", "declarator", ")", ";", "if", "(", "is", "parameter", ")", "{", "if", "(", "type", "instanceof", "iarray", "type", ")", "{", "carray", "type", "at", "=", "(", "carray", "type", ")", "type", ";", "type", "=", "new", "cqualified", "pointer", "type", "(", "at", ".", "get", "type", "(", ")", ",", "at", ".", "get", "modifier", "(", ")", ")", ";", "}", "else", "if", "(", "type", "instanceof", "ifunction", "type", ")", "{", "type", "=", "new", "cpointer", "type", "(", "type", ")", ";", "}", "}", "return", "type", ";", "}"], "span_diff_code": "<KEEP> public static itype create type ( <KEEP_END> <DELETE> iastname name ) { if ( ! ( name . get parent ( ) instanceof <DELETE_END> <KEEP> iastdeclarator <KEEP_END> <REPLACE_OLD> ) ) return <REPLACE_NEW> declarator ) { iastdecl specifier decl spec = <REPLACE_END> <KEEP> null <KEEP_END> <DELETE> ; iastdecl specifier decl spec = null ; iastdeclarator declarator = ( iastdeclarator ) name . get parent ( ) <DELETE_END> <KEEP> ; iastnode node = declarator . get parent ( ) ; while ( node instanceof iastdeclarator ) { declarator = ( iastdeclarator ) node ; node = node . get parent ( ) ; } if ( node instanceof iastparameter declaration ) decl spec = ( ( iastparameter declaration ) node ) . get decl specifier ( ) ; else if ( node instanceof iastsimple declaration ) decl spec = ( ( iastsimple declaration ) node ) . get decl specifier ( ) ; else if ( node instanceof iastfunction definition ) decl spec = ( ( iastfunction definition ) node ) . get decl specifier ( ) ; else if ( node instanceof iasttype id ) decl spec = ( ( iasttype id ) node ) . get decl specifier ( ) ; boolean is parameter = ( node instanceof iastparameter declaration | | node . get parent ( ) instanceof icastkn rfunction declarator ) ; itype type = null ; if ( is parameter & & node . get parent ( ) . get parent ( ) instanceof iastfunction definition ) { type = create base type ( decl spec ) ; } else { type = create type ( decl spec ) ; } type = create type ( type , declarator ) ; if ( is parameter ) { if ( type instanceof iarray type ) { carray type at = ( carray type ) type ; type = new cqualified pointer type ( at . get type ( ) , at . get modifier ( ) ) ; } else if ( type instanceof ifunction type ) { type = new cpointer type ( type ) ; } } return type ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "itype", "create", "type", "(", "<KEEP_END>", "<DELETE>", "iastname", "name", ")", "{", "if", "(", "!", "(", "name", ".", "get", "parent", "(", ")", "instanceof", "<DELETE_END>", "<KEEP>", "iastdeclarator", "<KEEP_END>", "<REPLACE_OLD>", ")", ")", "return", "<REPLACE_NEW>", "declarator", ")", "{", "iastdecl", "specifier", "decl", "spec", "=", "<REPLACE_END>", "<KEEP>", "null", "<KEEP_END>", "<DELETE>", ";", "iastdecl", "specifier", "decl", "spec", "=", "null", ";", "iastdeclarator", "declarator", "=", "(", "iastdeclarator", ")", "name", ".", "get", "parent", "(", ")", "<DELETE_END>", "<KEEP>", ";", "iastnode", "node", "=", "declarator", ".", "get", "parent", "(", ")", ";", "while", "(", "node", "instanceof", "iastdeclarator", ")", "{", "declarator", "=", "(", "iastdeclarator", ")", "node", ";", "node", "=", "node", ".", "get", "parent", "(", ")", ";", "}", "if", "(", "node", "instanceof", "iastparameter", "declaration", ")", "decl", "spec", "=", "(", "(", "iastparameter", "declaration", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iastsimple", "declaration", ")", "decl", "spec", "=", "(", "(", "iastsimple", "declaration", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iastfunction", "definition", ")", "decl", "spec", "=", "(", "(", "iastfunction", "definition", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "else", "if", "(", "node", "instanceof", "iasttype", "id", ")", "decl", "spec", "=", "(", "(", "iasttype", "id", ")", "node", ")", ".", "get", "decl", "specifier", "(", ")", ";", "boolean", "is", "parameter", "=", "(", "node", "instanceof", "iastparameter", "declaration", "|", "|", "node", ".", "get", "parent", "(", ")", "instanceof", "icastkn", "rfunction", "declarator", ")", ";", "itype", "type", "=", "null", ";", "if", "(", "is", "parameter", "&", "&", "node", ".", "get", "parent", "(", ")", ".", "get", "parent", "(", ")", "instanceof", "iastfunction", "definition", ")", "{", "type", "=", "create", "base", "type", "(", "decl", "spec", ")", ";", "}", "else", "{", "type", "=", "create", "type", "(", "decl", "spec", ")", ";", "}", "type", "=", "create", "type", "(", "type", ",", "declarator", ")", ";", "if", "(", "is", "parameter", ")", "{", "if", "(", "type", "instanceof", "iarray", "type", ")", "{", "carray", "type", "at", "=", "(", "carray", "type", ")", "type", ";", "type", "=", "new", "cqualified", "pointer", "type", "(", "at", ".", "get", "type", "(", ")", ",", "at", ".", "get", "modifier", "(", ")", ")", ";", "}", "else", "if", "(", "type", "instanceof", "ifunction", "type", ")", "{", "type", "=", "new", "cpointer", "type", "(", "type", ")", ";", "}", "}", "return", "type", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> iastname <REPLACE_NEW> iastdeclarator <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "iastname", "<REPLACE_NEW>", "iastdeclarator", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "itype", "<KEEP>", "create", "<KEEP>", "type", "<KEEP>", "(", "<DELETE>", "iastname", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "name", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parent", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "instanceof", "<KEEP>", "iastdeclarator", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "declarator", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "iastdecl", "<REPLACE_NEW>", "specifier", "<REPLACE_NEW>", "decl", "<REPLACE_NEW>", "spec", "<REPLACE_NEW>", "=", "<KEEP>", "null", "<DELETE>", ";", "<DELETE>", "iastdecl", "<DELETE>", "specifier", "<DELETE>", "decl", "<DELETE>", "spec", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "iastdeclarator", "<DELETE>", "declarator", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "iastdeclarator", "<DELETE>", ")", "<DELETE>", "name", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parent", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "iastnode", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "declarator", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "iastdeclarator", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "declarator", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "iastdeclarator", "<KEEP>", ")", "<KEEP>", "node", "<KEEP>", ";", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "iastparameter", "<KEEP>", "declaration", "<KEEP>", ")", "<KEEP>", "decl", "<KEEP>", "spec", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "iastparameter", "<KEEP>", "declaration", "<KEEP>", ")", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "decl", "<KEEP>", "specifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "iastsimple", "<KEEP>", "declaration", "<KEEP>", ")", "<KEEP>", "decl", "<KEEP>", "spec", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "iastsimple", "<KEEP>", "declaration", "<KEEP>", ")", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "decl", "<KEEP>", "specifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "iastfunction", "<KEEP>", "definition", "<KEEP>", ")", "<KEEP>", "decl", "<KEEP>", "spec", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "iastfunction", "<KEEP>", "definition", "<KEEP>", ")", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "decl", "<KEEP>", "specifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "iasttype", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "decl", "<KEEP>", "spec", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "iasttype", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "decl", "<KEEP>", "specifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "parameter", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "instanceof", "<KEEP>", "iastparameter", "<KEEP>", "declaration", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "instanceof", "<KEEP>", "icastkn", "<KEEP>", "rfunction", "<KEEP>", "declarator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "itype", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "parameter", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "instanceof", "<KEEP>", "iastfunction", "<KEEP>", "definition", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "base", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "decl", "<KEEP>", "spec", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "decl", "<KEEP>", "spec", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "declarator", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "is", "<KEEP>", "parameter", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "iarray", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "carray", "<KEEP>", "type", "<KEEP>", "at", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "carray", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "cqualified", "<KEEP>", "pointer", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "at", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "at", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "modifier", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "instanceof", "<KEEP>", "ifunction", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "cpointer", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "type", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-9-5328", "old_comment": "the created project , or null if file was not writable .", "old_comment_tokens": ["the", "created", "project", ",", "or", "null", "if", "file", "was", "not", "writable", "."], "new_comment": "the created project , or null if file was not writable or it already existed .", "new_comment_tokens": ["the", "created", "project", ",", "or", "null", "if", "file", "was", "not", "writable", "or", "it", "already", "existed", "."], "old_code": "public static project create thellier project ( file file ) { return create project ( file , type . thellier ) ; }", "old_code_tokens": ["public", "static", "project", "create", "thellier", "project", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "type", ".", "thellier", ")", ";", "}"], "new_code": "public static project create thellier project ( file file ) { return create project ( file , thellier ) ; }", "new_code_tokens": ["public", "static", "project", "create", "thellier", "project", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "thellier", ")", ";", "}"], "span_diff_code": "<KEEP> public static project create thellier project ( file file ) { return create project ( file , <KEEP_END> <DELETE> type . <DELETE_END> <KEEP> thellier ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "project", "create", "thellier", "project", "(", "file", "file", ")", "{", "return", "create", "project", "(", "file", ",", "<KEEP_END>", "<DELETE>", "type", ".", "<DELETE_END>", "<KEEP>", "thellier", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> writable <INSERT_NEW_KEEP_BEFORE> writable or it already existed <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "writable", "<INSERT_NEW_KEEP_BEFORE>", "writable", "or", "it", "already", "existed", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "project", "<KEEP>", "create", "<KEEP>", "thellier", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "project", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ",", "<DELETE>", "type", "<DELETE>", ".", "<KEEP>", "thellier", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ansell_openrdf-sesame-130-6357", "old_comment": "the current transaction isolation level . if no transaction is active , this may be null .", "old_comment_tokens": ["the", "current", "transaction", "isolation", "level", ".", "if", "no", "transaction", "is", "active", ",", "this", "may", "be", "null", "."], "new_comment": "the current isolation level level . if no transaction is active , this may be null .", "new_comment_tokens": ["the", "current", "isolation", "level", "level", ".", "if", "no", "transaction", "is", "active", ",", "this", "may", "be", "null", "."], "old_code": "protected transaction isolation get transaction isolation ( ) { return this . transaction isolation level ; }", "old_code_tokens": ["protected", "transaction", "isolation", "get", "transaction", "isolation", "(", ")", "{", "return", "this", ".", "transaction", "isolation", "level", ";", "}"], "new_code": "protected isolation level get transaction isolation ( ) { return this . transaction isolation level ; }", "new_code_tokens": ["protected", "isolation", "level", "get", "transaction", "isolation", "(", ")", "{", "return", "this", ".", "transaction", "isolation", "level", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <DELETE> transaction <DELETE_END> <KEEP> isolation <KEEP_END> <INSERT> level <INSERT_END> <KEEP> get transaction isolation ( ) { return this . transaction isolation level ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<DELETE>", "transaction", "<DELETE_END>", "<KEEP>", "isolation", "<KEEP_END>", "<INSERT>", "level", "<INSERT_END>", "<KEEP>", "get", "transaction", "isolation", "(", ")", "{", "return", "this", ".", "transaction", "isolation", "level", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> current transaction <REPLACE_NEW_DELETE_KEEP_BEFORE> current <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> isolation <INSERT_NEW_KEEP_BEFORE> isolation level <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", "current", "transaction", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", "current", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "isolation", "<INSERT_NEW_KEEP_BEFORE>", "isolation", "level", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<DELETE>", "transaction", "<KEEP>", "isolation", "<INSERT>", "level", "<KEEP>", "get", "<KEEP>", "transaction", "<KEEP>", "isolation", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "transaction", "<KEEP>", "isolation", "<KEEP>", "level", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dropwizard_dropwizard-0-3639", "old_comment": "object as a json ast node", "old_comment_tokens": ["object", "as", "a", "json", "ast", "node"], "new_comment": "object as a json string", "new_comment_tokens": ["object", "as", "a", "json", "string"], "old_code": "public static json node as json ( object object ) throws ioexception { return json . write value as tree ( object ) ; }", "old_code_tokens": ["public", "static", "json", "node", "as", "json", "(", "object", "object", ")", "throws", "ioexception", "{", "return", "json", ".", "write", "value", "as", "tree", "(", "object", ")", ";", "}"], "new_code": "public static string as json ( object object ) throws ioexception { return json . write value as string ( object ) ; }", "new_code_tokens": ["public", "static", "string", "as", "json", "(", "object", "object", ")", "throws", "ioexception", "{", "return", "json", ".", "write", "value", "as", "string", "(", "object", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> json node <REPLACE_NEW> string <REPLACE_END> <KEEP> as json ( object object ) throws ioexception { return json . write value as <KEEP_END> <REPLACE_OLD> tree <REPLACE_NEW> string <REPLACE_END> <KEEP> ( object ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "json", "node", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "as", "json", "(", "object", "object", ")", "throws", "ioexception", "{", "return", "json", ".", "write", "value", "as", "<KEEP_END>", "<REPLACE_OLD>", "tree", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "(", "object", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> ast node <REPLACE_NEW> string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "ast", "node", "<REPLACE_NEW>", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "json", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "string", "<KEEP>", "as", "<KEEP>", "json", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "json", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "value", "<KEEP>", "as", "<REPLACE_OLD>", "tree", "<REPLACE_NEW>", "string", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "krosenvold_struts2-0-5345", "old_comment": "true if item collection contains the key , false otherwise .", "old_comment_tokens": ["true", "if", "item", "collection", "contains", "the", "key", ",", "false", "otherwise", "."], "new_comment": "true if item collection contains the item , false otherwise .", "new_comment_tokens": ["true", "if", "item", "collection", "contains", "the", "item", ",", "false", "otherwise", "."], "old_code": "private static boolean contains item ( collection item collection , string key ) { return item collection . contains ( key . to lower case ( ) ) ; }", "old_code_tokens": ["private", "static", "boolean", "contains", "item", "(", "collection", "item", "collection", ",", "string", "key", ")", "{", "return", "item", "collection", ".", "contains", "(", "key", ".", "to", "lower", "case", "(", ")", ")", ";", "}"], "new_code": "private static boolean contains item ( collection < string > item collection , string item ) { return item collection . contains ( item . to lower case ( ) ) ; }", "new_code_tokens": ["private", "static", "boolean", "contains", "item", "(", "collection", "<", "string", ">", "item", "collection", ",", "string", "item", ")", "{", "return", "item", "collection", ".", "contains", "(", "item", ".", "to", "lower", "case", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> private static boolean contains item ( collection <KEEP_END> <INSERT> < string > <INSERT_END> <KEEP> item collection , string <KEEP_END> <REPLACE_OLD> key <REPLACE_NEW> item <REPLACE_END> <KEEP> ) { return item collection . contains ( <KEEP_END> <REPLACE_OLD> key <REPLACE_NEW> item <REPLACE_END> <KEEP> . to lower case ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "static", "boolean", "contains", "item", "(", "collection", "<KEEP_END>", "<INSERT>", "<", "string", ">", "<INSERT_END>", "<KEEP>", "item", "collection", ",", "string", "<KEEP_END>", "<REPLACE_OLD>", "key", "<REPLACE_NEW>", "item", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "item", "collection", ".", "contains", "(", "<KEEP_END>", "<REPLACE_OLD>", "key", "<REPLACE_NEW>", "item", "<REPLACE_END>", "<KEEP>", ".", "to", "lower", "case", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> key <REPLACE_NEW> item <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "key", "<REPLACE_NEW>", "item", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "contains", "<KEEP>", "item", "<KEEP>", "(", "<KEEP>", "collection", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ">", "<KEEP>", "item", "<KEEP>", "collection", "<KEEP>", ",", "<KEEP>", "string", "<REPLACE_OLD>", "key", "<REPLACE_NEW>", "item", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "item", "<KEEP>", "collection", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "(", "<REPLACE_OLD>", "key", "<REPLACE_NEW>", "item", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-avatica-59-5433", "old_comment": "a rex kind value , never null", "old_comment_tokens": ["a", "rex", "kind", "value", ",", "never", "null"], "new_comment": "a org . eigenbase . sql . sql kind value , never null", "new_comment_tokens": ["a", "org", ".", "eigenbase", ".", "sql", ".", "sql", "kind", "value", ",", "never", "null"], "old_code": "public rex kind get kind ( ) { return rex kind . other ; }", "old_code_tokens": ["public", "rex", "kind", "get", "kind", "(", ")", "{", "return", "rex", "kind", ".", "other", ";", "}"], "new_code": "public sql kind get kind ( ) { return sql kind . other ; }", "new_code_tokens": ["public", "sql", "kind", "get", "kind", "(", ")", "{", "return", "sql", "kind", ".", "other", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> rex <REPLACE_NEW> sql <REPLACE_END> <KEEP> kind get kind ( ) { return <KEEP_END> <REPLACE_OLD> rex <REPLACE_NEW> sql <REPLACE_END> <KEEP> kind . other ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "rex", "<REPLACE_NEW>", "sql", "<REPLACE_END>", "<KEEP>", "kind", "get", "kind", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "rex", "<REPLACE_NEW>", "sql", "<REPLACE_END>", "<KEEP>", "kind", ".", "other", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> rex <REPLACE_NEW> org . eigenbase . sql . sql <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "rex", "<REPLACE_NEW>", "org", ".", "eigenbase", ".", "sql", ".", "sql", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "rex", "<REPLACE_NEW>", "sql", "<KEEP>", "kind", "<KEEP>", "get", "<KEEP>", "kind", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "rex", "<REPLACE_NEW>", "sql", "<KEEP>", "kind", "<KEEP>", ".", "<KEEP>", "other", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_physical-web-9-838", "old_comment": "42 .", "old_comment_tokens": ["42", "."], "new_comment": "hash code", "new_comment_tokens": ["hash", "code"], "old_code": "public int hash code ( ) { assert false : str ; return num ; }", "old_code_tokens": ["public", "int", "hash", "code", "(", ")", "{", "assert", "false", ":", "str", ";", "return", "num", ";", "}"], "new_code": "@ override public int hash code ( ) { int hash = num ; hash = hash * num + double . value of ( get rank ( ) ) . hash code ( ) ; hash = hash * num + m url device . hash code ( ) ; hash = hash * num + m pws result . hash code ( ) ; return hash ; }", "new_code_tokens": ["@", "override", "public", "int", "hash", "code", "(", ")", "{", "int", "hash", "=", "num", ";", "hash", "=", "hash", "*", "num", "+", "double", ".", "value", "of", "(", "get", "rank", "(", ")", ")", ".", "hash", "code", "(", ")", ";", "hash", "=", "hash", "*", "num", "+", "m", "url", "device", ".", "hash", "code", "(", ")", ";", "hash", "=", "hash", "*", "num", "+", "m", "pws", "result", ".", "hash", "code", "(", ")", ";", "return", "hash", ";", "}"], "span_diff_code": "<INSERT> @ override <INSERT_END> <KEEP> public int hash code ( ) { <KEEP_END> <REPLACE_OLD> assert false : str <REPLACE_NEW> int hash = num ; hash = hash * num + double . value of ( get rank ( ) ) . hash code ( ) ; hash = hash * num + m url device . hash code ( ) ; hash = hash * num + m pws result . hash code ( ) <REPLACE_END> <KEEP> ; return <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> hash <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "override", "<INSERT_END>", "<KEEP>", "public", "int", "hash", "code", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "assert", "false", ":", "str", "<REPLACE_NEW>", "int", "hash", "=", "num", ";", "hash", "=", "hash", "*", "num", "+", "double", ".", "value", "of", "(", "get", "rank", "(", ")", ")", ".", "hash", "code", "(", ")", ";", "hash", "=", "hash", "*", "num", "+", "m", "url", "device", ".", "hash", "code", "(", ")", ";", "hash", "=", "hash", "*", "num", "+", "m", "pws", "result", ".", "hash", "code", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "hash", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> 42 . <REPLACE_NEW> hash code <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "42", ".", "<REPLACE_NEW>", "hash", "code", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "override", "<KEEP>", "public", "<KEEP>", "int", "<KEEP>", "hash", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "assert", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "str", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "*", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "double", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "rank", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "*", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "url", "<REPLACE_NEW>", "device", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "*", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "m", "<REPLACE_NEW>", "pws", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "hash", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wso2-extensions_tomcat-extension-openidsso-3-7449", "old_comment": "the user info response object", "old_comment_tokens": ["the", "user", "info", "response", "object"], "new_comment": "the user information response object .", "new_comment_tokens": ["the", "user", "information", "response", "object", "."], "old_code": "protected user info response handle user info response ( oidcconfiguration oidc context configuration , string access token ) throws user info exception { user info response user info response ; user info response = oidc agent . get user info ( oidc context configuration , access token ) ; return user info response ; }", "old_code_tokens": ["protected", "user", "info", "response", "handle", "user", "info", "response", "(", "oidcconfiguration", "oidc", "context", "configuration", ",", "string", "access", "token", ")", "throws", "user", "info", "exception", "{", "user", "info", "response", "user", "info", "response", ";", "user", "info", "response", "=", "oidc", "agent", ".", "get", "user", "info", "(", "oidc", "context", "configuration", ",", "access", "token", ")", ";", "return", "user", "info", "response", ";", "}"], "new_code": "protected user information response handle user info response ( oidcconfiguration oidc context configuration , string access token ) throws user info exception { user information response user info response ; user info response = oidc agent . get user info ( oidc context configuration , access token ) ; return user info response ; }", "new_code_tokens": ["protected", "user", "information", "response", "handle", "user", "info", "response", "(", "oidcconfiguration", "oidc", "context", "configuration", ",", "string", "access", "token", ")", "throws", "user", "info", "exception", "{", "user", "information", "response", "user", "info", "response", ";", "user", "info", "response", "=", "oidc", "agent", ".", "get", "user", "info", "(", "oidc", "context", "configuration", ",", "access", "token", ")", ";", "return", "user", "info", "response", ";", "}"], "span_diff_code": "<KEEP> protected user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response handle user info response ( oidcconfiguration oidc context configuration , string access token ) throws user info exception { user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response user info response ; user info response = oidc agent . get user info ( oidc context configuration , access token ) ; return user info response ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "handle", "user", "info", "response", "(", "oidcconfiguration", "oidc", "context", "configuration", ",", "string", "access", "token", ")", "throws", "user", "info", "exception", "{", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "user", "info", "response", ";", "user", "info", "response", "=", "oidc", "agent", ".", "get", "user", "info", "(", "oidc", "context", "configuration", ",", "access", "token", ")", ";", "return", "user", "info", "response", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> object <INSERT_NEW_KEEP_BEFORE> object . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "object", "<INSERT_NEW_KEEP_BEFORE>", "object", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "handle", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "oidcconfiguration", "<KEEP>", "oidc", "<KEEP>", "context", "<KEEP>", "configuration", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "oidc", "<KEEP>", "agent", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "oidc", "<KEEP>", "context", "<KEEP>", "configuration", "<KEEP>", ",", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_axis1-java-22-6687", "old_comment": "wsdl document", "old_comment_tokens": ["wsdl", "document"], "new_comment": "wsdl definition", "new_comment_tokens": ["wsdl", "definition"], "old_code": "public document emit ( class cls , string allowed methods ) throws exception { this . cls = cls ; this . allowed methods = allowed methods ; string name = cls . get name ( ) ; name = name . substring ( name . last index of ( str ) + num ) ; set service name ( name ) ; return emit ( ) ; }", "old_code_tokens": ["public", "document", "emit", "(", "class", "cls", ",", "string", "allowed", "methods", ")", "throws", "exception", "{", "this", ".", "cls", "=", "cls", ";", "this", ".", "allowed", "methods", "=", "allowed", "methods", ";", "string", "name", "=", "cls", ".", "get", "name", "(", ")", ";", "name", "=", "name", ".", "substring", "(", "name", ".", "last", "index", "of", "(", "str", ")", "+", "num", ")", ";", "set", "service", "name", "(", "name", ")", ";", "return", "emit", "(", ")", ";", "}"], "new_code": "public definition emit ( class cls , string allowed methods ) throws exception { this . cls = cls ; this . allowed methods = allowed methods ; string name = cls . get name ( ) ; name = name . substring ( name . last index of ( str ) + num ) ; set service name ( name ) ; return emit ( ) ; }", "new_code_tokens": ["public", "definition", "emit", "(", "class", "cls", ",", "string", "allowed", "methods", ")", "throws", "exception", "{", "this", ".", "cls", "=", "cls", ";", "this", ".", "allowed", "methods", "=", "allowed", "methods", ";", "string", "name", "=", "cls", ".", "get", "name", "(", ")", ";", "name", "=", "name", ".", "substring", "(", "name", ".", "last", "index", "of", "(", "str", ")", "+", "num", ")", ";", "set", "service", "name", "(", "name", ")", ";", "return", "emit", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> document <REPLACE_NEW> definition <REPLACE_END> <KEEP> emit ( class cls , string allowed methods ) throws exception { this . cls = cls ; this . allowed methods = allowed methods ; string name = cls . get name ( ) ; name = name . substring ( name . last index of ( str ) + num ) ; set service name ( name ) ; return emit ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "document", "<REPLACE_NEW>", "definition", "<REPLACE_END>", "<KEEP>", "emit", "(", "class", "cls", ",", "string", "allowed", "methods", ")", "throws", "exception", "{", "this", ".", "cls", "=", "cls", ";", "this", ".", "allowed", "methods", "=", "allowed", "methods", ";", "string", "name", "=", "cls", ".", "get", "name", "(", ")", ";", "name", "=", "name", ".", "substring", "(", "name", ".", "last", "index", "of", "(", "str", ")", "+", "num", ")", ";", "set", "service", "name", "(", "name", ")", ";", "return", "emit", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> document <REPLACE_NEW> definition <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "document", "<REPLACE_NEW>", "definition", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "document", "<REPLACE_NEW>", "definition", "<KEEP>", "emit", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "cls", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "allowed", "<KEEP>", "methods", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "cls", "<KEEP>", "=", "<KEEP>", "cls", "<KEEP>", ";", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "allowed", "<KEEP>", "methods", "<KEEP>", "=", "<KEEP>", "allowed", "<KEEP>", "methods", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "cls", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "last", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "set", "<KEEP>", "service", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "emit", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_heliosutils-5-5105", "old_comment": "the map the value type", "old_comment_tokens": ["the", "map", "the", "value", "type"], "new_comment": "the map", "new_comment_tokens": ["the", "map"], "old_code": "public static < k , v > fluent map < k , v > new map ( class < k > key type , class < v > value type ) { return new map ( null ) ; }", "old_code_tokens": ["public", "static", "<", "k", ",", "v", ">", "fluent", "map", "<", "k", ",", "v", ">", "new", "map", "(", "class", "<", "k", ">", "key", "type", ",", "class", "<", "v", ">", "value", "type", ")", "{", "return", "new", "map", "(", "null", ")", ";", "}"], "new_code": "public static < k , v > fluent map < k , v > new map ( final class < k > key type , final class < v > value type ) { return new map ( null , key type , value type ) ; }", "new_code_tokens": ["public", "static", "<", "k", ",", "v", ">", "fluent", "map", "<", "k", ",", "v", ">", "new", "map", "(", "final", "class", "<", "k", ">", "key", "type", ",", "final", "class", "<", "v", ">", "value", "type", ")", "{", "return", "new", "map", "(", "null", ",", "key", "type", ",", "value", "type", ")", ";", "}"], "span_diff_code": "<KEEP> public static < k , v > fluent map < k , v > new map ( <KEEP_END> <INSERT> final <INSERT_END> <KEEP> class < k > key type , <KEEP_END> <INSERT> final <INSERT_END> <KEEP> class < v > value type ) { return new map ( null <KEEP_END> <INSERT> , key type , value type <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<", "k", ",", "v", ">", "fluent", "map", "<", "k", ",", "v", ">", "new", "map", "(", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "class", "<", "k", ">", "key", "type", ",", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "class", "<", "v", ">", "value", "type", ")", "{", "return", "new", "map", "(", "null", "<KEEP_END>", "<INSERT>", ",", "key", "type", ",", "value", "type", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> the value type <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "value", "type", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "<", "<KEEP>", "k", "<KEEP>", ",", "<KEEP>", "v", "<KEEP>", ">", "<KEEP>", "fluent", "<KEEP>", "map", "<KEEP>", "<", "<KEEP>", "k", "<KEEP>", ",", "<KEEP>", "v", "<KEEP>", ">", "<KEEP>", "new", "<KEEP>", "map", "<KEEP>", "(", "<INSERT>", "final", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "k", "<KEEP>", ">", "<KEEP>", "key", "<KEEP>", "type", "<KEEP>", ",", "<INSERT>", "final", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "v", "<KEEP>", ">", "<KEEP>", "value", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "map", "<KEEP>", "(", "<KEEP>", "null", "<INSERT>", ",", "<INSERT>", "key", "<INSERT>", "type", "<INSERT>", ",", "<INSERT>", "value", "<INSERT>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-145-5907", "old_comment": "global configuration table name including the correct escaped schema", "old_comment_tokens": ["global", "configuration", "table", "name", "including", "the", "correct", "escaped", "schema"], "new_comment": "global configuration table name including the escaped schema", "new_comment_tokens": ["global", "configuration", "table", "name", "including", "the", "escaped", "schema"], "old_code": "private string get configuration table ( connection con ) { try { if ( storage manager . get storage impl ( con . get meta data ( ) . get database product name ( ) ) . escape schema ( ) ) return str + database const . get config schema ( ) + str + tbl _ global _ config ; } catch ( sqlexception e ) { log . warn ( e ) ; } return database const . get config schema ( ) + str + tbl _ global _ config ; }", "old_code_tokens": ["private", "string", "get", "configuration", "table", "(", "connection", "con", ")", "{", "try", "{", "if", "(", "storage", "manager", ".", "get", "storage", "impl", "(", "con", ".", "get", "meta", "data", "(", ")", ".", "get", "database", "product", "name", "(", ")", ")", ".", "escape", "schema", "(", ")", ")", "return", "str", "+", "database", "const", ".", "get", "config", "schema", "(", ")", "+", "str", "+", "tbl", "_", "global", "_", "config", ";", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "warn", "(", "e", ")", ";", "}", "return", "database", "const", ".", "get", "config", "schema", "(", ")", "+", "str", "+", "tbl", "_", "global", "_", "config", ";", "}"], "new_code": "private string get configuration table ( connection con ) { try { if ( storage manager . get storage impl ( con . get meta data ( ) . get database product name ( ) ) . requires config schema ( ) ) { if ( database const . get config schema ( ) . ends with ( str ) ) return database const . get config schema ( ) + tbl _ global _ config ; else return database const . get config schema ( ) + str + tbl _ global _ config ; } } catch ( sqlexception e ) { log . warn ( e ) ; } return tbl _ global _ config ; }", "new_code_tokens": ["private", "string", "get", "configuration", "table", "(", "connection", "con", ")", "{", "try", "{", "if", "(", "storage", "manager", ".", "get", "storage", "impl", "(", "con", ".", "get", "meta", "data", "(", ")", ".", "get", "database", "product", "name", "(", ")", ")", ".", "requires", "config", "schema", "(", ")", ")", "{", "if", "(", "database", "const", ".", "get", "config", "schema", "(", ")", ".", "ends", "with", "(", "str", ")", ")", "return", "database", "const", ".", "get", "config", "schema", "(", ")", "+", "tbl", "_", "global", "_", "config", ";", "else", "return", "database", "const", ".", "get", "config", "schema", "(", ")", "+", "str", "+", "tbl", "_", "global", "_", "config", ";", "}", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "warn", "(", "e", ")", ";", "}", "return", "tbl", "_", "global", "_", "config", ";", "}"], "span_diff_code": "<KEEP> private string get configuration table ( connection con ) { try { if ( storage manager . get storage impl ( con . get meta data ( ) . get database product name ( ) ) . <KEEP_END> <REPLACE_OLD> escape <REPLACE_NEW> requires config <REPLACE_END> <KEEP> schema ( ) ) <KEEP_END> <INSERT> { if ( database const . get config schema ( ) . ends with ( str ) ) <INSERT_END> <KEEP> return <KEEP_END> <DELETE> str + <DELETE_END> <KEEP> database const . get config schema ( ) + <KEEP_END> <DELETE> str + <DELETE_END> <KEEP> tbl _ global _ config ; <KEEP_END> <REPLACE_OLD> } catch ( sqlexception e ) { log . warn ( e ) ; } <REPLACE_NEW> else <REPLACE_END> <KEEP> return database const . get config schema ( ) + str + tbl _ global _ config ; } <KEEP_END> <INSERT> } catch ( sqlexception e ) { log . warn ( e ) ; } return tbl _ global _ config ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "private", "string", "get", "configuration", "table", "(", "connection", "con", ")", "{", "try", "{", "if", "(", "storage", "manager", ".", "get", "storage", "impl", "(", "con", ".", "get", "meta", "data", "(", ")", ".", "get", "database", "product", "name", "(", ")", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "escape", "<REPLACE_NEW>", "requires", "config", "<REPLACE_END>", "<KEEP>", "schema", "(", ")", ")", "<KEEP_END>", "<INSERT>", "{", "if", "(", "database", "const", ".", "get", "config", "schema", "(", ")", ".", "ends", "with", "(", "str", ")", ")", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<DELETE>", "str", "+", "<DELETE_END>", "<KEEP>", "database", "const", ".", "get", "config", "schema", "(", ")", "+", "<KEEP_END>", "<DELETE>", "str", "+", "<DELETE_END>", "<KEEP>", "tbl", "_", "global", "_", "config", ";", "<KEEP_END>", "<REPLACE_OLD>", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "warn", "(", "e", ")", ";", "}", "<REPLACE_NEW>", "else", "<REPLACE_END>", "<KEEP>", "return", "database", "const", ".", "get", "config", "schema", "(", ")", "+", "str", "+", "tbl", "_", "global", "_", "config", ";", "}", "<KEEP_END>", "<INSERT>", "}", "catch", "(", "sqlexception", "e", ")", "{", "log", ".", "warn", "(", "e", ")", ";", "}", "return", "tbl", "_", "global", "_", "config", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> correct <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "correct", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "configuration", "<KEEP>", "table", "<KEEP>", "(", "<KEEP>", "connection", "<KEEP>", "con", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "storage", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "storage", "<KEEP>", "impl", "<KEEP>", "(", "<KEEP>", "con", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "meta", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "database", "<KEEP>", "product", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "escape", "<REPLACE_NEW>", "requires", "<REPLACE_NEW>", "config", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "database", "<INSERT>", "const", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "config", "<INSERT>", "schema", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "ends", "<INSERT>", "with", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", "return", "<DELETE>", "str", "<DELETE>", "+", "<KEEP>", "database", "<KEEP>", "const", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "config", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<DELETE>", "str", "<DELETE>", "+", "<KEEP>", "tbl", "<KEEP>", "_", "<KEEP>", "global", "<KEEP>", "_", "<KEEP>", "config", "<KEEP>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "catch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "sqlexception", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "warn", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "e", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "else", "<KEEP>", "return", "<KEEP>", "database", "<KEEP>", "const", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "config", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "tbl", "<KEEP>", "_", "<KEEP>", "global", "<KEEP>", "_", "<KEEP>", "config", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "sqlexception", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "log", "<INSERT>", ".", "<INSERT>", "warn", "<INSERT>", "(", "<INSERT>", "e", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "tbl", "<INSERT>", "_", "<INSERT>", "global", "<INSERT>", "_", "<INSERT>", "config", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-193-6067", "old_comment": "the cause of this exception or null if no cause was specified .", "old_comment_tokens": ["the", "cause", "of", "this", "exception", "or", "null", "if", "no", "cause", "was", "specified", "."], "new_comment": "the cause of this exception or null if no cause was set .", "new_comment_tokens": ["the", "cause", "of", "this", "exception", "or", "null", "if", "no", "cause", "was", "set", "."], "old_code": "public throwable get cause ( ) { return cause ; }", "old_code_tokens": ["public", "throwable", "get", "cause", "(", ")", "{", "return", "cause", ";", "}"], "new_code": "public throwable get cause ( ) { return super . get cause ( ) ; }", "new_code_tokens": ["public", "throwable", "get", "cause", "(", ")", "{", "return", "super", ".", "get", "cause", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public throwable get cause ( ) { return <KEEP_END> <INSERT> super . get <INSERT_END> <KEEP> cause <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "throwable", "get", "cause", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "super", ".", "get", "<INSERT_END>", "<KEEP>", "cause", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> specified <REPLACE_NEW> set <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "specified", "<REPLACE_NEW>", "set", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "throwable", "<KEEP>", "get", "<KEEP>", "cause", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "super", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "cause", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "cemcatik_jtds-84-3786", "old_comment": "if the first result is an update count , if it ' s a result set", "old_comment_tokens": ["if", "the", "first", "result", "is", "an", "update", "count", ",", "if", "it", "'", "s", "a", "result", "set"], "new_comment": "true if there are any results , false otherwise", "new_comment_tokens": ["true", "if", "there", "are", "any", "results", ",", "false", "otherwise"], "old_code": "private boolean process results ( boolean return keys , boolean update ) throws sqlexception { while ( ! tds . is end of response ( ) ) { if ( ! tds . get more results ( ) ) { if ( tds . is update count ( ) ) { if ( update & & connection . is last update count ( ) ) { result queue . clear ( ) ; } result queue . add last ( new integer ( tds . get update count ( ) ) ) ; } } else { if ( return keys ) { if ( tds . get next row ( ) ) { gen key result set = new cached result set ( this , tds . get columns ( ) , tds . get row data ( ) ) ; } } else { if ( update & & result queue . is empty ( ) ) { throw new sqlexception ( messages . get ( str ) , str ) ; } jtds result set rs = new jtds result set ( this , result set . type _ forward _ only , result set . concur _ read _ only , tds . get columns ( ) , false ) ; if ( result queue . is empty ( ) ) { current result = rs ; return true ; } else { result queue . add ( rs ) ; return false ; } } } } return false ; }", "old_code_tokens": ["private", "boolean", "process", "results", "(", "boolean", "return", "keys", ",", "boolean", "update", ")", "throws", "sqlexception", "{", "while", "(", "!", "tds", ".", "is", "end", "of", "response", "(", ")", ")", "{", "if", "(", "!", "tds", ".", "get", "more", "results", "(", ")", ")", "{", "if", "(", "tds", ".", "is", "update", "count", "(", ")", ")", "{", "if", "(", "update", "&", "&", "connection", ".", "is", "last", "update", "count", "(", ")", ")", "{", "result", "queue", ".", "clear", "(", ")", ";", "}", "result", "queue", ".", "add", "last", "(", "new", "integer", "(", "tds", ".", "get", "update", "count", "(", ")", ")", ")", ";", "}", "}", "else", "{", "if", "(", "return", "keys", ")", "{", "if", "(", "tds", ".", "get", "next", "row", "(", ")", ")", "{", "gen", "key", "result", "set", "=", "new", "cached", "result", "set", "(", "this", ",", "tds", ".", "get", "columns", "(", ")", ",", "tds", ".", "get", "row", "data", "(", ")", ")", ";", "}", "}", "else", "{", "if", "(", "update", "&", "&", "result", "queue", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "sqlexception", "(", "messages", ".", "get", "(", "str", ")", ",", "str", ")", ";", "}", "jtds", "result", "set", "rs", "=", "new", "jtds", "result", "set", "(", "this", ",", "result", "set", ".", "type", "_", "forward", "_", "only", ",", "result", "set", ".", "concur", "_", "read", "_", "only", ",", "tds", ".", "get", "columns", "(", ")", ",", "false", ")", ";", "if", "(", "result", "queue", ".", "is", "empty", "(", ")", ")", "{", "current", "result", "=", "rs", ";", "return", "true", ";", "}", "else", "{", "result", "queue", ".", "add", "(", "rs", ")", ";", "return", "false", ";", "}", "}", "}", "}", "return", "false", ";", "}"], "new_code": "private boolean process results ( boolean return keys , boolean update ) throws sqlexception { if ( ! result queue . is empty ( ) ) { throw new illegal state exception ( str ) ; } while ( ! tds . is end of response ( ) ) { if ( ! tds . get more results ( ) ) { if ( tds . is update count ( ) ) { if ( update & & connection . is last update count ( ) ) { result queue . clear ( ) ; } result queue . add last ( new integer ( tds . get update count ( ) ) ) ; } } else { if ( return keys ) { if ( tds . get next row ( ) ) { gen key result set = new cached result set ( this , tds . get columns ( ) , tds . get row data ( ) ) ; } } else { if ( update & & result queue . is empty ( ) ) { throw new sqlexception ( messages . get ( str ) , str ) ; } result queue . add ( new jtds result set ( this , result set . type _ forward _ only , result set . concur _ read _ only , tds . get columns ( ) ) ) ; break ; } } } return ! result queue . is empty ( ) ; }", "new_code_tokens": ["private", "boolean", "process", "results", "(", "boolean", "return", "keys", ",", "boolean", "update", ")", "throws", "sqlexception", "{", "if", "(", "!", "result", "queue", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "while", "(", "!", "tds", ".", "is", "end", "of", "response", "(", ")", ")", "{", "if", "(", "!", "tds", ".", "get", "more", "results", "(", ")", ")", "{", "if", "(", "tds", ".", "is", "update", "count", "(", ")", ")", "{", "if", "(", "update", "&", "&", "connection", ".", "is", "last", "update", "count", "(", ")", ")", "{", "result", "queue", ".", "clear", "(", ")", ";", "}", "result", "queue", ".", "add", "last", "(", "new", "integer", "(", "tds", ".", "get", "update", "count", "(", ")", ")", ")", ";", "}", "}", "else", "{", "if", "(", "return", "keys", ")", "{", "if", "(", "tds", ".", "get", "next", "row", "(", ")", ")", "{", "gen", "key", "result", "set", "=", "new", "cached", "result", "set", "(", "this", ",", "tds", ".", "get", "columns", "(", ")", ",", "tds", ".", "get", "row", "data", "(", ")", ")", ";", "}", "}", "else", "{", "if", "(", "update", "&", "&", "result", "queue", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "sqlexception", "(", "messages", ".", "get", "(", "str", ")", ",", "str", ")", ";", "}", "result", "queue", ".", "add", "(", "new", "jtds", "result", "set", "(", "this", ",", "result", "set", ".", "type", "_", "forward", "_", "only", ",", "result", "set", ".", "concur", "_", "read", "_", "only", ",", "tds", ".", "get", "columns", "(", ")", ")", ")", ";", "break", ";", "}", "}", "}", "return", "!", "result", "queue", ".", "is", "empty", "(", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean process results ( boolean return keys , boolean update ) throws sqlexception { <KEEP_END> <INSERT> if ( ! result queue . is empty ( ) ) { throw new illegal state exception ( str ) ; } <INSERT_END> <KEEP> while ( ! tds . is end of response ( ) ) { if ( ! tds . get more results ( ) ) { if ( tds . is update count ( ) ) { if ( update & & connection . is last update count ( ) ) { result queue . clear ( ) ; } result queue . add last ( new integer ( tds . get update count ( ) ) ) ; } } else { if ( return keys ) { if ( tds . get next row ( ) ) { gen key result set = new cached result set ( this , tds . get columns ( ) , tds . get row data ( ) ) ; } } else { if ( update & & result queue . is empty ( ) ) { throw new sqlexception ( messages . get ( str ) , str ) ; } <KEEP_END> <INSERT> result queue . add ( new <INSERT_END> <KEEP> jtds result set <KEEP_END> <DELETE> rs = new jtds result set <DELETE_END> <KEEP> ( this , result set . type _ forward _ only , result set . concur _ read _ only , tds . get columns ( ) <KEEP_END> <REPLACE_OLD> , false ) ; if ( <REPLACE_NEW> ) ) ; break ; } } } return ! <REPLACE_END> <KEEP> result queue . is empty ( ) <KEEP_END> <REPLACE_OLD> ) { current result = rs ; return true ; } else { result queue . add ( rs ) ; return false ; } } } } return false ; } <REPLACE_NEW> ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "process", "results", "(", "boolean", "return", "keys", ",", "boolean", "update", ")", "throws", "sqlexception", "{", "<KEEP_END>", "<INSERT>", "if", "(", "!", "result", "queue", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "<INSERT_END>", "<KEEP>", "while", "(", "!", "tds", ".", "is", "end", "of", "response", "(", ")", ")", "{", "if", "(", "!", "tds", ".", "get", "more", "results", "(", ")", ")", "{", "if", "(", "tds", ".", "is", "update", "count", "(", ")", ")", "{", "if", "(", "update", "&", "&", "connection", ".", "is", "last", "update", "count", "(", ")", ")", "{", "result", "queue", ".", "clear", "(", ")", ";", "}", "result", "queue", ".", "add", "last", "(", "new", "integer", "(", "tds", ".", "get", "update", "count", "(", ")", ")", ")", ";", "}", "}", "else", "{", "if", "(", "return", "keys", ")", "{", "if", "(", "tds", ".", "get", "next", "row", "(", ")", ")", "{", "gen", "key", "result", "set", "=", "new", "cached", "result", "set", "(", "this", ",", "tds", ".", "get", "columns", "(", ")", ",", "tds", ".", "get", "row", "data", "(", ")", ")", ";", "}", "}", "else", "{", "if", "(", "update", "&", "&", "result", "queue", ".", "is", "empty", "(", ")", ")", "{", "throw", "new", "sqlexception", "(", "messages", ".", "get", "(", "str", ")", ",", "str", ")", ";", "}", "<KEEP_END>", "<INSERT>", "result", "queue", ".", "add", "(", "new", "<INSERT_END>", "<KEEP>", "jtds", "result", "set", "<KEEP_END>", "<DELETE>", "rs", "=", "new", "jtds", "result", "set", "<DELETE_END>", "<KEEP>", "(", "this", ",", "result", "set", ".", "type", "_", "forward", "_", "only", ",", "result", "set", ".", "concur", "_", "read", "_", "only", ",", "tds", ".", "get", "columns", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ",", "false", ")", ";", "if", "(", "<REPLACE_NEW>", ")", ")", ";", "break", ";", "}", "}", "}", "return", "!", "<REPLACE_END>", "<KEEP>", "result", "queue", ".", "is", "empty", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", "{", "current", "result", "=", "rs", ";", "return", "true", ";", "}", "else", "{", "result", "queue", ".", "add", "(", "rs", ")", ";", "return", "false", ";", "}", "}", "}", "}", "return", "false", ";", "}", "<REPLACE_NEW>", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> if the first result is an update count , if it ' s a result set <REPLACE_NEW> true if there are any results , false otherwise <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "if", "the", "first", "result", "is", "an", "update", "count", ",", "if", "it", "'", "s", "a", "result", "set", "<REPLACE_NEW>", "true", "if", "there", "are", "any", "results", ",", "false", "otherwise", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "process", "<KEEP>", "results", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", "return", "<KEEP>", "keys", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "update", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sqlexception", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "result", "<INSERT>", "queue", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "empty", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "illegal", "<INSERT>", "state", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "end", "<KEEP>", "of", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "more", "<KEEP>", "results", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "update", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "last", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "result", "<KEEP>", "queue", "<KEEP>", ".", "<KEEP>", "clear", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "result", "<KEEP>", "queue", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "last", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "integer", "<KEEP>", "(", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "update", "<KEEP>", "count", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "return", "<KEEP>", "keys", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "next", "<KEEP>", "row", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "gen", "<KEEP>", "key", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "cached", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "columns", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "row", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "update", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "result", "<KEEP>", "queue", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "sqlexception", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "result", "<INSERT>", "queue", "<INSERT>", ".", "<INSERT>", "add", "<INSERT>", "(", "<INSERT>", "new", "<KEEP>", "jtds", "<KEEP>", "result", "<KEEP>", "set", "<DELETE>", "rs", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "jtds", "<DELETE>", "result", "<DELETE>", "set", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ",", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "forward", "<KEEP>", "_", "<KEEP>", "only", "<KEEP>", ",", "<KEEP>", "result", "<KEEP>", "set", "<KEEP>", ".", "<KEEP>", "concur", "<KEEP>", "_", "<KEEP>", "read", "<KEEP>", "_", "<KEEP>", "only", "<KEEP>", ",", "<KEEP>", "tds", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "columns", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "break", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "!", "<KEEP>", "result", "<KEEP>", "queue", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "current", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "queue", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "iluwatar_java-design-patterns-0-0", "old_comment": "if wait time is more than 200ms , it returns value * 10 , otherwise - 1 .", "old_comment_tokens": ["if", "wait", "time", "is", "more", "than", "200ms", ",", "it", "returns", "value", "*", "10", ",", "otherwise", "-", "1", "."], "new_comment": "if wait time is less than remote service # threshold , it returns value * 10 , otherwise remote service interface # failure .", "new_comment_tokens": ["if", "wait", "time", "is", "less", "than", "remote", "service", "#", "threshold", ",", "it", "returns", "value", "*", "10", ",", "otherwise", "remote", "service", "interface", "#", "failure", "."], "old_code": "@ override public long do remote function ( int value ) { long wait time = ( long ) math . floor ( math . random ( ) * num ) ; try { sleep ( wait time ) ; } catch ( interrupted exception e ) { logger . error ( str , e ) ; } return wait time > = num ? value * num : - num ; }", "old_code_tokens": ["@", "override", "public", "long", "do", "remote", "function", "(", "int", "value", ")", "{", "long", "wait", "time", "=", "(", "long", ")", "math", ".", "floor", "(", "math", ".", "random", "(", ")", "*", "num", ")", ";", "try", "{", "sleep", "(", "wait", "time", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "}", "return", "wait", "time", ">", "=", "num", "?", "value", "*", "num", ":", "-", "num", ";", "}"], "new_code": "@ override public long do remote function ( int value ) { long wait time = ( long ) math . floor ( random provider . random ( ) * num ) ; try { sleep ( wait time ) ; } catch ( interrupted exception e ) { logger . error ( str , e ) ; } return wait time < = threshold ? value * num : failure ; }", "new_code_tokens": ["@", "override", "public", "long", "do", "remote", "function", "(", "int", "value", ")", "{", "long", "wait", "time", "=", "(", "long", ")", "math", ".", "floor", "(", "random", "provider", ".", "random", "(", ")", "*", "num", ")", ";", "try", "{", "sleep", "(", "wait", "time", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "}", "return", "wait", "time", "<", "=", "threshold", "?", "value", "*", "num", ":", "failure", ";", "}"], "span_diff_code": "<KEEP> @ override public long do remote function ( int value ) { long wait time = ( long ) math . floor ( <KEEP_END> <REPLACE_OLD> math <REPLACE_NEW> random provider <REPLACE_END> <KEEP> . random ( ) * num ) ; try { sleep ( wait time ) ; } catch ( interrupted exception e ) { logger . error ( str , e ) ; } return wait time <KEEP_END> <REPLACE_OLD> > <REPLACE_NEW> < <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> threshold <REPLACE_END> <KEEP> ? value * num : <KEEP_END> <REPLACE_OLD> - num <REPLACE_NEW> failure <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "long", "do", "remote", "function", "(", "int", "value", ")", "{", "long", "wait", "time", "=", "(", "long", ")", "math", ".", "floor", "(", "<KEEP_END>", "<REPLACE_OLD>", "math", "<REPLACE_NEW>", "random", "provider", "<REPLACE_END>", "<KEEP>", ".", "random", "(", ")", "*", "num", ")", ";", "try", "{", "sleep", "(", "wait", "time", ")", ";", "}", "catch", "(", "interrupted", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "}", "return", "wait", "time", "<KEEP_END>", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "<", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "threshold", "<REPLACE_END>", "<KEEP>", "?", "value", "*", "num", ":", "<KEEP_END>", "<REPLACE_OLD>", "-", "num", "<REPLACE_NEW>", "failure", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> more <REPLACE_NEW> less <REPLACE_END> <REPLACE_OLD> 200ms <REPLACE_NEW> remote service # threshold <REPLACE_END> <REPLACE_OLD> - 1 <REPLACE_NEW> remote service interface # failure <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "more", "<REPLACE_NEW>", "less", "<REPLACE_END>", "<REPLACE_OLD>", "200ms", "<REPLACE_NEW>", "remote", "service", "#", "threshold", "<REPLACE_END>", "<REPLACE_OLD>", "-", "1", "<REPLACE_NEW>", "remote", "service", "interface", "#", "failure", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "do", "<KEEP>", "remote", "<KEEP>", "function", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "long", "<KEEP>", "wait", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", ")", "<KEEP>", "math", "<KEEP>", ".", "<KEEP>", "floor", "<KEEP>", "(", "<REPLACE_OLD>", "math", "<REPLACE_NEW>", "random", "<REPLACE_NEW>", "provider", "<KEEP>", ".", "<KEEP>", "random", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "sleep", "<KEEP>", "(", "<KEEP>", "wait", "<KEEP>", "time", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "wait", "<KEEP>", "time", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "<", "<KEEP>", "=", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "threshold", "<KEEP>", "?", "<KEEP>", "value", "<KEEP>", "*", "<KEEP>", "num", "<KEEP>", ":", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "failure", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "byterom_android_external_spongycastle-62-5632", "old_comment": "the hash or null if no object digest info is set .", "old_comment_tokens": ["the", "hash", "or", "null", "if", "no", "object", "digest", "info", "is", "set", "."], "new_comment": "the hash or null if object digest info is absent .", "new_comment_tokens": ["the", "hash", "or", "null", "if", "object", "digest", "info", "is", "absent", "."], "old_code": "public byte [ ] get object digest ( ) { if ( holder . get object digest info ( ) ! = null ) { holder . get object digest info ( ) . get object digest ( ) . get bytes ( ) ; } return null ; }", "old_code_tokens": ["public", "byte", "[", "]", "get", "object", "digest", "(", ")", "{", "if", "(", "holder", ".", "get", "object", "digest", "info", "(", ")", "!", "=", "null", ")", "{", "holder", ".", "get", "object", "digest", "info", "(", ")", ".", "get", "object", "digest", "(", ")", ".", "get", "bytes", "(", ")", ";", "}", "return", "null", ";", "}"], "new_code": "public byte [ ] get object digest ( ) { if ( holder . get object digest info ( ) ! = null ) { return holder . get object digest info ( ) . get object digest ( ) . get bytes ( ) ; } return null ; }", "new_code_tokens": ["public", "byte", "[", "]", "get", "object", "digest", "(", ")", "{", "if", "(", "holder", ".", "get", "object", "digest", "info", "(", ")", "!", "=", "null", ")", "{", "return", "holder", ".", "get", "object", "digest", "info", "(", ")", ".", "get", "object", "digest", "(", ")", ".", "get", "bytes", "(", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public byte [ ] get object digest ( ) { if ( holder . get object digest info ( ) ! = null ) { <KEEP_END> <INSERT> return <INSERT_END> <KEEP> holder . get object digest info ( ) . get object digest ( ) . get bytes ( ) ; } return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "byte", "[", "]", "get", "object", "digest", "(", ")", "{", "if", "(", "holder", ".", "get", "object", "digest", "info", "(", ")", "!", "=", "null", ")", "{", "<KEEP_END>", "<INSERT>", "return", "<INSERT_END>", "<KEEP>", "holder", ".", "get", "object", "digest", "info", "(", ")", ".", "get", "object", "digest", "(", ")", ".", "get", "bytes", "(", ")", ";", "}", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> no <DELETE_END> <REPLACE_OLD> set <REPLACE_NEW> absent <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "no", "<DELETE_END>", "<REPLACE_OLD>", "set", "<REPLACE_NEW>", "absent", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "byte", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "digest", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "holder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "digest", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "return", "<KEEP>", "holder", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "digest", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "object", "<KEEP>", "digest", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "bytes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_january-60-5477", "old_comment": "item in given position", "old_comment_tokens": ["item", "in", "given", "position"], "new_comment": "item in first position", "new_comment_tokens": ["item", "in", "first", "position"], "old_code": "public complex get complex ( final int i ) { return get ( i ) ; }", "old_code_tokens": ["public", "complex", "get", "complex", "(", "final", "int", "i", ")", "{", "return", "get", "(", "i", ")", ";", "}"], "new_code": "public complex get complex ( ) { return get ( ) ; }", "new_code_tokens": ["public", "complex", "get", "complex", "(", ")", "{", "return", "get", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public complex get complex ( <KEEP_END> <DELETE> final int i <DELETE_END> <KEEP> ) { return get ( <KEEP_END> <DELETE> i <DELETE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "complex", "get", "complex", "(", "<KEEP_END>", "<DELETE>", "final", "int", "i", "<DELETE_END>", "<KEEP>", ")", "{", "return", "get", "(", "<KEEP_END>", "<DELETE>", "i", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> given <REPLACE_NEW> first <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "given", "<REPLACE_NEW>", "first", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "complex", "<KEEP>", "get", "<KEEP>", "complex", "<KEEP>", "(", "<DELETE>", "final", "<DELETE>", "int", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "(", "<DELETE>", "i", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_portals-pluto-17-3792", "old_comment": "newly created portlet container", "old_comment_tokens": ["newly", "created", "portlet", "container"], "new_comment": "newly created portlet container instance .", "new_comment_tokens": ["newly", "created", "portlet", "container", "instance", "."], "old_code": "public portlet container create container ( string container name , portlet container services services ) throws portlet container exception { return create container ( container name , services , new default optional services ( ) ) ; }", "old_code_tokens": ["public", "portlet", "container", "create", "container", "(", "string", "container", "name", ",", "portlet", "container", "services", "services", ")", "throws", "portlet", "container", "exception", "{", "return", "create", "container", "(", "container", "name", ",", "services", ",", "new", "default", "optional", "services", "(", ")", ")", ";", "}"], "new_code": "public portlet container create container ( string container name , required container services required services ) throws portlet container exception { return create container ( container name , required services , new default optional container services ( ) ) ; }", "new_code_tokens": ["public", "portlet", "container", "create", "container", "(", "string", "container", "name", ",", "required", "container", "services", "required", "services", ")", "throws", "portlet", "container", "exception", "{", "return", "create", "container", "(", "container", "name", ",", "required", "services", ",", "new", "default", "optional", "container", "services", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public portlet container create container ( string container name , <KEEP_END> <REPLACE_OLD> portlet <REPLACE_NEW> required <REPLACE_END> <KEEP> container services <KEEP_END> <INSERT> required <INSERT_END> <KEEP> services ) throws portlet container exception { return create container ( container name , <KEEP_END> <INSERT> required <INSERT_END> <KEEP> services , new default optional <KEEP_END> <INSERT> container <INSERT_END> <KEEP> services ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "portlet", "container", "create", "container", "(", "string", "container", "name", ",", "<KEEP_END>", "<REPLACE_OLD>", "portlet", "<REPLACE_NEW>", "required", "<REPLACE_END>", "<KEEP>", "container", "services", "<KEEP_END>", "<INSERT>", "required", "<INSERT_END>", "<KEEP>", "services", ")", "throws", "portlet", "container", "exception", "{", "return", "create", "container", "(", "container", "name", ",", "<KEEP_END>", "<INSERT>", "required", "<INSERT_END>", "<KEEP>", "services", ",", "new", "default", "optional", "<KEEP_END>", "<INSERT>", "container", "<INSERT_END>", "<KEEP>", "services", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> container <INSERT_NEW_KEEP_BEFORE> container instance . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "container", "<INSERT_NEW_KEEP_BEFORE>", "container", "instance", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "portlet", "<KEEP>", "container", "<KEEP>", "create", "<KEEP>", "container", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "container", "<KEEP>", "name", "<KEEP>", ",", "<REPLACE_OLD>", "portlet", "<REPLACE_NEW>", "required", "<KEEP>", "container", "<KEEP>", "services", "<INSERT>", "required", "<KEEP>", "services", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "portlet", "<KEEP>", "container", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "container", "<KEEP>", "(", "<KEEP>", "container", "<KEEP>", "name", "<KEEP>", ",", "<INSERT>", "required", "<KEEP>", "services", "<KEEP>", ",", "<KEEP>", "new", "<KEEP>", "default", "<KEEP>", "optional", "<INSERT>", "container", "<KEEP>", "services", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "vbehar_jenkins-rundeck-plugin-1-6817", "old_comment": "an array of name value pair , won ' t be null or empty ( at least 2 entries : group and job )", "old_comment_tokens": ["an", "array", "of", "name", "value", "pair", ",", "won", "'", "t", "be", "null", "or", "empty", "(", "at", "least", "2", "entries", ":", "group", "and", "job", ")"], "new_comment": "an url - encoded string", "new_comment_tokens": ["an", "url", "-", "encoded", "string"], "old_code": "private name value pair [ ] prepare query string ( string group path , string job name , properties options ) { list < name value pair > query string = new array list < name value pair > ( ) ; query string . add ( new name value pair ( str , group path ) ) ; query string . add ( new name value pair ( str , job name ) ) ; if ( options ! = null ) { for ( entry < object , object > option : options . entry set ( ) ) { query string . add ( new name value pair ( str + option . get key ( ) , string . value of ( option . get value ( ) ) ) ) ; } } return query string . to array ( new name value pair [ query string . size ( ) ] ) ; }", "old_code_tokens": ["private", "name", "value", "pair", "[", "]", "prepare", "query", "string", "(", "string", "group", "path", ",", "string", "job", "name", ",", "properties", "options", ")", "{", "list", "<", "name", "value", "pair", ">", "query", "string", "=", "new", "array", "list", "<", "name", "value", "pair", ">", "(", ")", ";", "query", "string", ".", "add", "(", "new", "name", "value", "pair", "(", "str", ",", "group", "path", ")", ")", ";", "query", "string", ".", "add", "(", "new", "name", "value", "pair", "(", "str", ",", "job", "name", ")", ")", ";", "if", "(", "options", "!", "=", "null", ")", "{", "for", "(", "entry", "<", "object", ",", "object", ">", "option", ":", "options", ".", "entry", "set", "(", ")", ")", "{", "query", "string", ".", "add", "(", "new", "name", "value", "pair", "(", "str", "+", "option", ".", "get", "key", "(", ")", ",", "string", ".", "value", "of", "(", "option", ".", "get", "value", "(", ")", ")", ")", ")", ";", "}", "}", "return", "query", "string", ".", "to", "array", "(", "new", "name", "value", "pair", "[", "query", "string", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "private string prepare query string ( string group path , string job name , properties options ) { list < name value pair > parameters = new array list < name value pair > ( ) ; parameters . add ( new basic name value pair ( str , group path ) ) ; parameters . add ( new basic name value pair ( str , job name ) ) ; if ( options ! = null ) { for ( entry < object , object > option : options . entry set ( ) ) { parameters . add ( new basic name value pair ( str + option . get key ( ) , string . value of ( option . get value ( ) ) ) ) ; } } return urlencoded utils . format ( parameters , http . utf _ 8 ) ; }", "new_code_tokens": ["private", "string", "prepare", "query", "string", "(", "string", "group", "path", ",", "string", "job", "name", ",", "properties", "options", ")", "{", "list", "<", "name", "value", "pair", ">", "parameters", "=", "new", "array", "list", "<", "name", "value", "pair", ">", "(", ")", ";", "parameters", ".", "add", "(", "new", "basic", "name", "value", "pair", "(", "str", ",", "group", "path", ")", ")", ";", "parameters", ".", "add", "(", "new", "basic", "name", "value", "pair", "(", "str", ",", "job", "name", ")", ")", ";", "if", "(", "options", "!", "=", "null", ")", "{", "for", "(", "entry", "<", "object", ",", "object", ">", "option", ":", "options", ".", "entry", "set", "(", ")", ")", "{", "parameters", ".", "add", "(", "new", "basic", "name", "value", "pair", "(", "str", "+", "option", ".", "get", "key", "(", ")", ",", "string", ".", "value", "of", "(", "option", ".", "get", "value", "(", ")", ")", ")", ")", ";", "}", "}", "return", "urlencoded", "utils", ".", "format", "(", "parameters", ",", "http", ".", "utf", "_", "8", ")", ";", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> name value pair [ ] <REPLACE_NEW> string <REPLACE_END> <KEEP> prepare query string ( string group path , string job name , properties options ) { list < name value pair > <KEEP_END> <REPLACE_OLD> query string <REPLACE_NEW> parameters <REPLACE_END> <KEEP> = new array list < name value pair > ( ) ; <KEEP_END> <REPLACE_OLD> query string <REPLACE_NEW> parameters <REPLACE_END> <KEEP> . add ( new <KEEP_END> <INSERT> basic <INSERT_END> <KEEP> name value pair ( str , group path ) ) ; <KEEP_END> <REPLACE_OLD> query string <REPLACE_NEW> parameters <REPLACE_END> <KEEP> . add ( new <KEEP_END> <INSERT> basic <INSERT_END> <KEEP> name value pair ( str , job name ) ) ; if ( options ! = null ) { for ( entry < object , object > option : options . entry set ( ) ) { <KEEP_END> <REPLACE_OLD> query string <REPLACE_NEW> parameters <REPLACE_END> <KEEP> . add ( new <KEEP_END> <INSERT> basic <INSERT_END> <KEEP> name value pair ( str + option . get key ( ) , string . value of ( option . get value ( ) ) ) ) ; } } return <KEEP_END> <REPLACE_OLD> query string <REPLACE_NEW> urlencoded utils <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> to array <REPLACE_NEW> format <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> new name value pair [ query string <REPLACE_NEW> parameters , http <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> size ( ) ] <REPLACE_NEW> utf _ 8 <REPLACE_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "name", "value", "pair", "[", "]", "<REPLACE_NEW>", "string", "<REPLACE_END>", "<KEEP>", "prepare", "query", "string", "(", "string", "group", "path", ",", "string", "job", "name", ",", "properties", "options", ")", "{", "list", "<", "name", "value", "pair", ">", "<KEEP_END>", "<REPLACE_OLD>", "query", "string", "<REPLACE_NEW>", "parameters", "<REPLACE_END>", "<KEEP>", "=", "new", "array", "list", "<", "name", "value", "pair", ">", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "query", "string", "<REPLACE_NEW>", "parameters", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "new", "<KEEP_END>", "<INSERT>", "basic", "<INSERT_END>", "<KEEP>", "name", "value", "pair", "(", "str", ",", "group", "path", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "query", "string", "<REPLACE_NEW>", "parameters", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "new", "<KEEP_END>", "<INSERT>", "basic", "<INSERT_END>", "<KEEP>", "name", "value", "pair", "(", "str", ",", "job", "name", ")", ")", ";", "if", "(", "options", "!", "=", "null", ")", "{", "for", "(", "entry", "<", "object", ",", "object", ">", "option", ":", "options", ".", "entry", "set", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "query", "string", "<REPLACE_NEW>", "parameters", "<REPLACE_END>", "<KEEP>", ".", "add", "(", "new", "<KEEP_END>", "<INSERT>", "basic", "<INSERT_END>", "<KEEP>", "name", "value", "pair", "(", "str", "+", "option", ".", "get", "key", "(", ")", ",", "string", ".", "value", "of", "(", "option", ".", "get", "value", "(", ")", ")", ")", ")", ";", "}", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "query", "string", "<REPLACE_NEW>", "urlencoded", "utils", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "to", "array", "<REPLACE_NEW>", "format", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "name", "value", "pair", "[", "query", "string", "<REPLACE_NEW>", "parameters", ",", "http", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "size", "(", ")", "]", "<REPLACE_NEW>", "utf", "_", "8", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> array of name value pair , won ' t be null or empty ( at least 2 entries : group and job ) <REPLACE_NEW> url - encoded string <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "array", "of", "name", "value", "pair", ",", "won", "'", "t", "be", "null", "or", "empty", "(", "at", "least", "2", "entries", ":", "group", "and", "job", ")", "<REPLACE_NEW>", "url", "-", "encoded", "string", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "pair", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "string", "<KEEP>", "prepare", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "group", "<KEEP>", "path", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "properties", "<KEEP>", "options", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "name", "<KEEP>", "value", "<KEEP>", "pair", "<KEEP>", ">", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "parameters", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "name", "<KEEP>", "value", "<KEEP>", "pair", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "parameters", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<INSERT>", "basic", "<KEEP>", "name", "<KEEP>", "value", "<KEEP>", "pair", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "path", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "parameters", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<INSERT>", "basic", "<KEEP>", "name", "<KEEP>", "value", "<KEEP>", "pair", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "job", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "options", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "option", "<KEEP>", ":", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "entry", "<KEEP>", "set", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "parameters", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "new", "<INSERT>", "basic", "<KEEP>", "name", "<KEEP>", "value", "<KEEP>", "pair", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "option", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "option", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "urlencoded", "<REPLACE_NEW>", "utils", "<KEEP>", ".", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "array", "<REPLACE_NEW>", "format", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "pair", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "parameters", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "http", "<KEEP>", ".", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "utf", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "8", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "twitter_commons-25-4489", "old_comment": "an aggregated token stream", "old_comment_tokens": ["an", "aggregated", "token", "stream"], "new_comment": "an aggregated twitter token stream", "new_comment_tokens": ["an", "aggregated", "twitter", "token", "stream"], "old_code": "public static final token stream of ( token stream . . . streams ) { return new token stream aggregator ( streams ) ; }", "old_code_tokens": ["public", "static", "final", "token", "stream", "of", "(", "token", "stream", ".", ".", ".", "streams", ")", "{", "return", "new", "token", "stream", "aggregator", "(", "streams", ")", ";", "}"], "new_code": "public static final twitter token stream of ( twitter token stream . . . streams ) { return new token stream aggregator ( streams ) ; }", "new_code_tokens": ["public", "static", "final", "twitter", "token", "stream", "of", "(", "twitter", "token", "stream", ".", ".", ".", "streams", ")", "{", "return", "new", "token", "stream", "aggregator", "(", "streams", ")", ";", "}"], "span_diff_code": "<KEEP> public static final <KEEP_END> <INSERT> twitter <INSERT_END> <KEEP> token stream of ( <KEEP_END> <INSERT> twitter <INSERT_END> <KEEP> token stream . . . streams ) { return new token stream aggregator ( streams ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "<KEEP_END>", "<INSERT>", "twitter", "<INSERT_END>", "<KEEP>", "token", "stream", "of", "(", "<KEEP_END>", "<INSERT>", "twitter", "<INSERT_END>", "<KEEP>", "token", "stream", ".", ".", ".", "streams", ")", "{", "return", "new", "token", "stream", "aggregator", "(", "streams", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> aggregated <INSERT_NEW_KEEP_BEFORE> aggregated twitter <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "aggregated", "<INSERT_NEW_KEEP_BEFORE>", "aggregated", "twitter", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<INSERT>", "twitter", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "of", "<KEEP>", "(", "<INSERT>", "twitter", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "streams", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "token", "<KEEP>", "stream", "<KEEP>", "aggregator", "<KEEP>", "(", "<KEEP>", "streams", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "iSoron_uhabits-8-2475", "old_comment": "score for that day", "old_comment_tokens": ["score", "for", "that", "day"], "new_comment": "score value for that day", "new_comment_tokens": ["score", "value", "for", "that", "day"], "old_code": "public int get value ( long timestamp ) { compute all ( ) ; string [ ] args = { habit . get id ( ) . to string ( ) , long . to string ( timestamp ) } ; return sqlite utils . int query ( str , args ) ; }", "old_code_tokens": ["public", "int", "get", "value", "(", "long", "timestamp", ")", "{", "compute", "all", "(", ")", ";", "string", "[", "]", "args", "=", "{", "habit", ".", "get", "id", "(", ")", ".", "to", "string", "(", ")", ",", "long", ".", "to", "string", "(", "timestamp", ")", "}", ";", "return", "sqlite", "utils", ".", "int", "query", "(", "str", ",", "args", ")", ";", "}"], "new_code": "public final int get value ( long timestamp ) { score s = get by timestamp ( timestamp ) ; if ( s ! = null ) return s . get value ( ) ; return num ; }", "new_code_tokens": ["public", "final", "int", "get", "value", "(", "long", "timestamp", ")", "{", "score", "s", "=", "get", "by", "timestamp", "(", "timestamp", ")", ";", "if", "(", "s", "!", "=", "null", ")", "return", "s", ".", "get", "value", "(", ")", ";", "return", "num", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int get value ( long timestamp ) { <KEEP_END> <REPLACE_OLD> compute all <REPLACE_NEW> score s = get by timestamp ( timestamp ) ; if ( s ! = null ) return s . get value <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <DELETE> string [ ] args = { habit . get id ( ) . to string ( ) , long . to string ( timestamp ) } ; <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> sqlite utils . int query ( str , args ) <REPLACE_NEW> num <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "get", "value", "(", "long", "timestamp", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "compute", "all", "<REPLACE_NEW>", "score", "s", "=", "get", "by", "timestamp", "(", "timestamp", ")", ";", "if", "(", "s", "!", "=", "null", ")", "return", "s", ".", "get", "value", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<DELETE>", "string", "[", "]", "args", "=", "{", "habit", ".", "get", "id", "(", ")", ".", "to", "string", "(", ")", ",", "long", ".", "to", "string", "(", "timestamp", ")", "}", ";", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "sqlite", "utils", ".", "int", "query", "(", "str", ",", "args", ")", "<REPLACE_NEW>", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> score <INSERT_NEW_KEEP_BEFORE> score value <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "score", "<INSERT_NEW_KEEP_BEFORE>", "score", "value", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "get", "<KEEP>", "value", "<KEEP>", "(", "<KEEP>", "long", "<KEEP>", "timestamp", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "compute", "<REPLACE_OLD>", "all", "<REPLACE_NEW>", "score", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "by", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "timestamp", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "s", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "value", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "string", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "args", "<DELETE>", "=", "<DELETE>", "{", "<DELETE>", "habit", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "id", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "long", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "timestamp", "<DELETE>", ")", "<DELETE>", "}", "<DELETE>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "sqlite", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "args", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Konloch_bytecode-viewer-1-540", "old_comment": "boolean flag indicating if multiple values are allowed", "old_comment_tokens": ["boolean", "flag", "indicating", "if", "multiple", "values", "are", "allowed"], "new_comment": "this builder , to allow method chaining", "new_comment_tokens": ["this", "builder", ",", "to", "allow", "method", "chaining"], "old_code": "public boolean has args ( ) { return number of args > num | | number of args = = unlimited _ values ; }", "old_code_tokens": ["public", "boolean", "has", "args", "(", ")", "{", "return", "number", "of", "args", ">", "num", "|", "|", "number", "of", "args", "=", "=", "unlimited", "_", "values", ";", "}"], "new_code": "public builder has args ( ) { number of args = option . unlimited _ values ; return this ; }", "new_code_tokens": ["public", "builder", "has", "args", "(", ")", "{", "number", "of", "args", "=", "option", ".", "unlimited", "_", "values", ";", "return", "this", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> builder <REPLACE_END> <KEEP> has args ( ) { <KEEP_END> <DELETE> return number of args > num | | <DELETE_END> <KEEP> number of args = <KEEP_END> <REPLACE_OLD> = <REPLACE_NEW> option . <REPLACE_END> <KEEP> unlimited _ values ; <KEEP_END> <INSERT> return this ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "has", "args", "(", ")", "{", "<KEEP_END>", "<DELETE>", "return", "number", "of", "args", ">", "num", "|", "|", "<DELETE_END>", "<KEEP>", "number", "of", "args", "=", "<KEEP_END>", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "option", ".", "<REPLACE_END>", "<KEEP>", "unlimited", "_", "values", ";", "<KEEP_END>", "<INSERT>", "return", "this", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> boolean flag indicating if multiple values are allowed <REPLACE_NEW> this builder , to allow method chaining <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "boolean", "flag", "indicating", "if", "multiple", "values", "are", "allowed", "<REPLACE_NEW>", "this", "builder", ",", "to", "allow", "method", "chaining", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "builder", "<KEEP>", "has", "<KEEP>", "args", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "return", "<DELETE>", "number", "<DELETE>", "of", "<DELETE>", "args", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", "|", "<DELETE>", "|", "<KEEP>", "number", "<KEEP>", "of", "<KEEP>", "args", "<KEEP>", "=", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "option", "<REPLACE_NEW>", ".", "<KEEP>", "unlimited", "<KEEP>", "_", "<KEEP>", "values", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "this", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "jenkinsci_cloudbees-folder-plugin-0-4698", "old_comment": "any subset of orphaned , representing those children which ought to be removed from the folder now ( by default , all of them ) ; items not listed will be left alone for the time being", "old_comment_tokens": ["any", "subset", "of", "orphaned", ",", "representing", "those", "children", "which", "ought", "to", "be", "removed", "from", "the", "folder", "now", "(", "by", "default", ",", "all", "of", "them", ")", ";", "items", "not", "listed", "will", "be", "left", "alone", "for", "the", "time", "being"], "new_comment": "any subset of orphaned , representing those children which ought to be removed from the folder now ; items not listed will be left alone for the time being", "new_comment_tokens": ["any", "subset", "of", "orphaned", ",", "representing", "those", "children", "which", "ought", "to", "be", "removed", "from", "the", "folder", "now", ";", "items", "not", "listed", "will", "be", "left", "alone", "for", "the", "time", "being"], "old_code": "protected collection < i > orphaned items ( collection < i > orphaned , task listener listener ) throws ioexception , interrupted exception { return orphaned ; }", "old_code_tokens": ["protected", "collection", "<", "i", ">", "orphaned", "items", "(", "collection", "<", "i", ">", "orphaned", ",", "task", "listener", "listener", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "orphaned", ";", "}"], "new_code": "protected collection < i > orphaned items ( collection < i > orphaned , task listener listener ) throws ioexception , interrupted exception { return get orphaned item strategy ( ) . orphaned items ( this , orphaned , listener ) ; }", "new_code_tokens": ["protected", "collection", "<", "i", ">", "orphaned", "items", "(", "collection", "<", "i", ">", "orphaned", ",", "task", "listener", "listener", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "get", "orphaned", "item", "strategy", "(", ")", ".", "orphaned", "items", "(", "this", ",", "orphaned", ",", "listener", ")", ";", "}"], "span_diff_code": "<KEEP> protected collection < i > orphaned items ( collection < i > orphaned , task listener listener ) throws ioexception , interrupted exception { return <KEEP_END> <INSERT> get <INSERT_END> <KEEP> orphaned <KEEP_END> <INSERT> item strategy ( ) . orphaned items ( this , orphaned , listener ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "collection", "<", "i", ">", "orphaned", "items", "(", "collection", "<", "i", ">", "orphaned", ",", "task", "listener", "listener", ")", "throws", "ioexception", ",", "interrupted", "exception", "{", "return", "<KEEP_END>", "<INSERT>", "get", "<INSERT_END>", "<KEEP>", "orphaned", "<KEEP_END>", "<INSERT>", "item", "strategy", "(", ")", ".", "orphaned", "items", "(", "this", ",", "orphaned", ",", "listener", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> ( by default , all of them ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "(", "by", "default", ",", "all", "of", "them", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "i", "<KEEP>", ">", "<KEEP>", "orphaned", "<KEEP>", "items", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "<", "<KEEP>", "i", "<KEEP>", ">", "<KEEP>", "orphaned", "<KEEP>", ",", "<KEEP>", "task", "<KEEP>", "listener", "<KEEP>", "listener", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", ",", "<KEEP>", "interrupted", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "get", "<KEEP>", "orphaned", "<INSERT>", "item", "<INSERT>", "strategy", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "orphaned", "<INSERT>", "items", "<INSERT>", "(", "<INSERT>", "this", "<INSERT>", ",", "<INSERT>", "orphaned", "<INSERT>", ",", "<INSERT>", "listener", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_activemq-artemis-28-5473", "old_comment": "the hornet qconnection factory", "old_comment_tokens": ["the", "hornet", "qconnection", "factory"], "new_comment": "the active mqconnection factory", "new_comment_tokens": ["the", "active", "mqconnection", "factory"], "old_code": "public static hornet qconnection factory create connection factory without ha ( jmsfactory type jms factory type , final transport configuration . . . transport configurations ) { hornet qconnection factory factory = null ; if ( jms factory type . equals ( jmsfactory type . cf ) ) { factory = new hornet qjmsconnection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ cf ) ) { factory = new hornet qqueue connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ cf ) ) { factory = new hornet qtopic connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . xa _ cf ) ) { factory = new hornet qxaconnection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ xa _ cf ) ) { factory = new hornet qxaqueue connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ xa _ cf ) ) { factory = new hornet qxatopic connection factory ( false , transport configurations ) ; } return factory ; }", "old_code_tokens": ["public", "static", "hornet", "qconnection", "factory", "create", "connection", "factory", "without", "ha", "(", "jmsfactory", "type", "jms", "factory", "type", ",", "final", "transport", "configuration", ".", ".", ".", "transport", "configurations", ")", "{", "hornet", "qconnection", "factory", "factory", "=", "null", ";", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qjmsconnection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qqueue", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qtopic", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qxaconnection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qxaqueue", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qxatopic", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "return", "factory", ";", "}"], "new_code": "public static active mqconnection factory create connection factory without ha ( jmsfactory type jms factory type , final transport configuration . . . transport configurations ) { active mqconnection factory factory = null ; if ( jms factory type . equals ( jmsfactory type . cf ) ) { factory = new active mqjmsconnection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ cf ) ) { factory = new active mqqueue connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ cf ) ) { factory = new active mqtopic connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . xa _ cf ) ) { factory = new active mqxaconnection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ xa _ cf ) ) { factory = new active mqxaqueue connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ xa _ cf ) ) { factory = new active mqxatopic connection factory ( false , transport configurations ) ; } return factory ; }", "new_code_tokens": ["public", "static", "active", "mqconnection", "factory", "create", "connection", "factory", "without", "ha", "(", "jmsfactory", "type", "jms", "factory", "type", ",", "final", "transport", "configuration", ".", ".", ".", "transport", "configurations", ")", "{", "active", "mqconnection", "factory", "factory", "=", "null", ";", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqjmsconnection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqqueue", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqtopic", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqxaconnection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqxaqueue", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqxatopic", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "return", "factory", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hornet qconnection <REPLACE_NEW> active mqconnection <REPLACE_END> <KEEP> factory create connection factory without ha ( jmsfactory type jms factory type , final transport configuration . . . transport configurations ) { <KEEP_END> <REPLACE_OLD> hornet qconnection <REPLACE_NEW> active mqconnection <REPLACE_END> <KEEP> factory factory = null ; if ( jms factory type . equals ( jmsfactory type . cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qjmsconnection <REPLACE_NEW> active mqjmsconnection <REPLACE_END> <KEEP> factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qqueue <REPLACE_NEW> active mqqueue <REPLACE_END> <KEEP> connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qtopic <REPLACE_NEW> active mqtopic <REPLACE_END> <KEEP> connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . xa _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qxaconnection <REPLACE_NEW> active mqxaconnection <REPLACE_END> <KEEP> factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ xa _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qxaqueue <REPLACE_NEW> active mqxaqueue <REPLACE_END> <KEEP> connection factory ( false , transport configurations ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ xa _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qxatopic <REPLACE_NEW> active mqxatopic <REPLACE_END> <KEEP> connection factory ( false , transport configurations ) ; } return factory ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qconnection", "<REPLACE_NEW>", "active", "mqconnection", "<REPLACE_END>", "<KEEP>", "factory", "create", "connection", "factory", "without", "ha", "(", "jmsfactory", "type", "jms", "factory", "type", ",", "final", "transport", "configuration", ".", ".", ".", "transport", "configurations", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qconnection", "<REPLACE_NEW>", "active", "mqconnection", "<REPLACE_END>", "<KEEP>", "factory", "factory", "=", "null", ";", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qjmsconnection", "<REPLACE_NEW>", "active", "mqjmsconnection", "<REPLACE_END>", "<KEEP>", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qqueue", "<REPLACE_NEW>", "active", "mqqueue", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qtopic", "<REPLACE_NEW>", "active", "mqtopic", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qxaconnection", "<REPLACE_NEW>", "active", "mqxaconnection", "<REPLACE_END>", "<KEEP>", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qxaqueue", "<REPLACE_NEW>", "active", "mqxaqueue", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qxatopic", "<REPLACE_NEW>", "active", "mqxatopic", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "transport", "configurations", ")", ";", "}", "return", "factory", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hornet qconnection <REPLACE_NEW> active mqconnection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hornet", "qconnection", "<REPLACE_NEW>", "active", "mqconnection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqconnection", "<KEEP>", "factory", "<KEEP>", "create", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "without", "<KEEP>", "ha", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "transport", "<KEEP>", "configuration", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqconnection", "<KEEP>", "factory", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qjmsconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqjmsconnection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "queue", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qqueue", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqqueue", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "topic", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qtopic", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqtopic", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "xa", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qxaconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqxaconnection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "queue", "<KEEP>", "_", "<KEEP>", "xa", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qxaqueue", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqxaqueue", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "topic", "<KEEP>", "_", "<KEEP>", "xa", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qxatopic", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqxatopic", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "transport", "<KEEP>", "configurations", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "factory", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_qreactor-4-5173", "old_comment": "the buffered", "old_comment_tokens": ["the", "buffered"], "new_comment": "true if the queue is buffered , false otherwise", "new_comment_tokens": ["true", "if", "the", "queue", "is", "buffered", ",", "false", "otherwise"], "old_code": "public boolean is buffered ( ) { return buffered ; }", "old_code_tokens": ["public", "boolean", "is", "buffered", "(", ")", "{", "return", "buffered", ";", "}"], "new_code": "public boolean is buffered ( ) { return queue . buffered ( ) ; }", "new_code_tokens": ["public", "boolean", "is", "buffered", "(", ")", "{", "return", "queue", ".", "buffered", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is buffered ( ) { return <KEEP_END> <INSERT> queue . <INSERT_END> <KEEP> buffered <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "buffered", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "queue", ".", "<INSERT_END>", "<KEEP>", "buffered", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the buffered <REPLACE_NEW> true if the queue is buffered , false otherwise <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "buffered", "<REPLACE_NEW>", "true", "if", "the", "queue", "is", "buffered", ",", "false", "otherwise", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "buffered", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "queue", "<INSERT>", ".", "<KEEP>", "buffered", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "notonthehighstreet_aequum-0-4252", "old_comment": "a builder which will support plain object # equals ( object ) equals & plain object # hash code ( ) hash code but not support plain comparable # compare to ( object ) compare to .", "old_comment_tokens": ["a", "builder", "which", "will", "support", "plain", "object", "#", "equals", "(", "object", ")", "equals", "&", "plain", "object", "#", "hash", "code", "(", ")", "hash", "code", "but", "not", "support", "plain", "comparable", "#", "compare", "to", "(", "object", ")", "compare", "to", "."], "new_comment": "a builder which will support plain object # equals ( object ) equals & amp ; plain object # hash code ( ) hash code but not support plain comparable # compare to ( object ) compare to .", "new_comment_tokens": ["a", "builder", "which", "will", "support", "plain", "object", "#", "equals", "(", "object", ")", "equals", "&", "amp", ";", "plain", "object", "#", "hash", "code", "(", ")", "hash", "code", "but", "not", "support", "plain", "comparable", "#", "compare", "to", "(", "object", ")", "compare", "to", "."], "old_code": "public incomparable builder < t > with field ( final function < t , object > field ) { return new incomparable builder < > ( expected type , field ) ; }", "old_code_tokens": ["public", "incomparable", "builder", "<", "t", ">", "with", "field", "(", "final", "function", "<", "t", ",", "object", ">", "field", ")", "{", "return", "new", "incomparable", "builder", "<", ">", "(", "expected", "type", ",", "field", ")", ";", "}"], "new_code": "public incomparable builder < t > with field ( final function < t , object > field ) { return new incomparable builder < > ( expected type , fields ) . with field ( field ) ; }", "new_code_tokens": ["public", "incomparable", "builder", "<", "t", ">", "with", "field", "(", "final", "function", "<", "t", ",", "object", ">", "field", ")", "{", "return", "new", "incomparable", "builder", "<", ">", "(", "expected", "type", ",", "fields", ")", ".", "with", "field", "(", "field", ")", ";", "}"], "span_diff_code": "<KEEP> public incomparable builder < t > with field ( final function < t , object > field ) { return new incomparable builder < > ( expected type , <KEEP_END> <INSERT> fields ) . with field ( <INSERT_END> <KEEP> field ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "incomparable", "builder", "<", "t", ">", "with", "field", "(", "final", "function", "<", "t", ",", "object", ">", "field", ")", "{", "return", "new", "incomparable", "builder", "<", ">", "(", "expected", "type", ",", "<KEEP_END>", "<INSERT>", "fields", ")", ".", "with", "field", "(", "<INSERT_END>", "<KEEP>", "field", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> & <INSERT_NEW_KEEP_BEFORE> & amp ; <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "&", "<INSERT_NEW_KEEP_BEFORE>", "&", "amp", ";", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "incomparable", "<KEEP>", "builder", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "with", "<KEEP>", "field", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "function", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", ">", "<KEEP>", "field", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "incomparable", "<KEEP>", "builder", "<KEEP>", "<", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "expected", "<KEEP>", "type", "<KEEP>", ",", "<INSERT>", "fields", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "with", "<INSERT>", "field", "<INSERT>", "(", "<KEEP>", "field", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-34-5904", "old_comment": "a filtered environment for the calling user .", "old_comment_tokens": ["a", "filtered", "environment", "for", "the", "calling", "user", "."], "new_comment": "a com . flexive . shared . structure . fx filtered environment for the calling user .", "new_comment_tokens": ["a", "com", ".", "flexive", ".", "shared", ".", "structure", ".", "fx", "filtered", "environment", "for", "the", "calling", "user", "."], "old_code": "public static fx environment get filtered environment ( ) { return new filtered environment ( get environment ( ) ) ; }", "old_code_tokens": ["public", "static", "fx", "environment", "get", "filtered", "environment", "(", ")", "{", "return", "new", "filtered", "environment", "(", "get", "environment", "(", ")", ")", ";", "}"], "new_code": "public static fx environment get filtered environment ( ) { return new fx filtered environment ( get environment ( ) ) ; }", "new_code_tokens": ["public", "static", "fx", "environment", "get", "filtered", "environment", "(", ")", "{", "return", "new", "fx", "filtered", "environment", "(", "get", "environment", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static fx environment get filtered environment ( ) { return new <KEEP_END> <INSERT> fx <INSERT_END> <KEEP> filtered environment ( get environment ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "fx", "environment", "get", "filtered", "environment", "(", ")", "{", "return", "new", "<KEEP_END>", "<INSERT>", "fx", "<INSERT_END>", "<KEEP>", "filtered", "environment", "(", "get", "environment", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a com . flexive . shared . structure . fx <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "com", ".", "flexive", ".", "shared", ".", "structure", ".", "fx", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "fx", "<KEEP>", "environment", "<KEEP>", "get", "<KEEP>", "filtered", "<KEEP>", "environment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<INSERT>", "fx", "<KEEP>", "filtered", "<KEEP>", "environment", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "environment", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "hazelcast_hazelcast-223-3199", "old_comment": "the next power of two that is larger than the specified int value .", "old_comment_tokens": ["the", "next", "power", "of", "two", "that", "is", "larger", "than", "the", "specified", "int", "value", "."], "new_comment": "the next power of 2 or the value itself if it is a power of 2", "new_comment_tokens": ["the", "next", "power", "of", "2", "or", "the", "value", "itself", "if", "it", "is", "a", "power", "of", "2"], "old_code": "public static int next power of two ( int value ) { if ( ! is power of two ( value ) ) { value - - ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value + + ; } return value ; }", "old_code_tokens": ["public", "static", "int", "next", "power", "of", "two", "(", "int", "value", ")", "{", "if", "(", "!", "is", "power", "of", "two", "(", "value", ")", ")", "{", "value", "-", "-", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "+", "+", ";", "}", "return", "value", ";", "}"], "new_code": "public static int next power of two ( final int value ) { return num < < ( num - integer . number of leading zeros ( value - num ) ) ; }", "new_code_tokens": ["public", "static", "int", "next", "power", "of", "two", "(", "final", "int", "value", ")", "{", "return", "num", "<", "<", "(", "num", "-", "integer", ".", "number", "of", "leading", "zeros", "(", "value", "-", "num", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static int next power of two ( <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int value ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return num < < <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ! is power <REPLACE_NEW> num - integer . number <REPLACE_END> <KEEP> of <KEEP_END> <REPLACE_OLD> two <REPLACE_NEW> leading zeros <REPLACE_END> <KEEP> ( value <KEEP_END> <INSERT> - num <INSERT_END> <KEEP> ) ) <KEEP_END> <DELETE> { value - - ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value | = value > > num ; value + + <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> return value ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "int", "next", "power", "of", "two", "(", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "value", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "num", "<", "<", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "!", "is", "power", "<REPLACE_NEW>", "num", "-", "integer", ".", "number", "<REPLACE_END>", "<KEEP>", "of", "<KEEP_END>", "<REPLACE_OLD>", "two", "<REPLACE_NEW>", "leading", "zeros", "<REPLACE_END>", "<KEEP>", "(", "value", "<KEEP_END>", "<INSERT>", "-", "num", "<INSERT_END>", "<KEEP>", ")", ")", "<KEEP_END>", "<DELETE>", "{", "value", "-", "-", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "|", "=", "value", ">", ">", "num", ";", "value", "+", "+", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "return", "value", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> two that <REPLACE_NEW> 2 or the value itself if it <REPLACE_END> <REPLACE_OLD> larger than the specified int value . <REPLACE_NEW> a power of 2 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "two", "that", "<REPLACE_NEW>", "2", "or", "the", "value", "itself", "if", "it", "<REPLACE_END>", "<REPLACE_OLD>", "larger", "than", "the", "specified", "int", "value", ".", "<REPLACE_NEW>", "a", "power", "of", "2", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "int", "<KEEP>", "next", "<KEEP>", "power", "<KEEP>", "of", "<KEEP>", "two", "<KEEP>", "(", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "value", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "<", "<KEEP>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "is", "<REPLACE_OLD>", "power", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "integer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "number", "<KEEP>", "of", "<REPLACE_OLD>", "two", "<REPLACE_NEW>", "leading", "<REPLACE_NEW>", "zeros", "<KEEP>", "(", "<KEEP>", "value", "<INSERT>", "-", "<INSERT>", "num", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "value", "<DELETE>", "-", "<DELETE>", "-", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "|", "<DELETE>", "=", "<DELETE>", "value", "<DELETE>", ">", "<DELETE>", ">", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "value", "<DELETE>", "+", "<DELETE>", "+", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "return", "<DELETE>", "value", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "stanfordnlp_CoreNLP-254-3308", "old_comment": "a pair of binary train treebank , binary tune treebank .", "old_comment_tokens": ["a", "pair", "of", "binary", "train", "treebank", ",", "binary", "tune", "treebank", "."], "new_comment": "a triple of binary train treebank , binary secondary train treebank , binary tune treebank .", "new_comment_tokens": ["a", "triple", "of", "binary", "train", "treebank", ",", "binary", "secondary", "train", "treebank", ",", "binary", "tune", "treebank", "."], "old_code": "public static triple < treebank , treebank , treebank > get annotated binary treebank from treebank ( treebank train treebank , treebank secondary treebank , treebank tune treebank , options op ) { treebank lang parser params tlp params = op . tlp params ; treebank language pack tlp = tlp params . treebank language pack ( ) ; if ( op . test options . verbose ) { print writer pw err = tlp params . pw ( system . err ) ; pw err . print ( str ) ; pw err . println ( train treebank . textual summary ( tlp ) ) ; if ( secondary treebank ! = null ) { pw err . print ( str ) ; pw err . println ( secondary treebank . textual summary ( tlp ) ) ; } } system . err . print ( str ) ; tree annotator and binarizer binarizer = build train binarizer ( op ) ; composite tree transformer train transformer = build train transformer ( op , binarizer ) ; treebank whole treebank ; if ( secondary treebank = = null ) { whole treebank = train treebank ; } else { whole treebank = new composite treebank ( train treebank , secondary treebank ) ; } if ( op . train options . selective split ) { op . train options . splitters = parent annotation stats . get split categories ( whole treebank , op . train options . tag selective split , num , op . train options . selective split cut off , op . train options . tag selective split cut off , tlp ) ; remove delete splitters from splitters ( tlp , op ) ; if ( op . test options . verbose ) { list < string > list = new array list < string > ( op . train options . splitters ) ; collections . sort ( list ) ; system . err . println ( str + list ) ; } } if ( op . train options . selective post split ) { tree transformer my transformer = new tree annotator ( tlp params . head finder ( ) , tlp params , op ) ; whole treebank = whole treebank . transform ( my transformer ) ; op . train options . post splitters = parent annotation stats . get split categories ( whole treebank , true , num , op . train options . selective post split cut off , op . train options . tag selective post split cut off , tlp ) ; if ( op . test options . verbose ) { system . err . println ( str + op . train options . post splitters ) ; } } if ( op . train options . h sel split ) { int ptt = op . train options . print tree transformations ; op . train options . print tree transformations = num ; binarizer . set do selective split ( false ) ; for ( tree tree : whole treebank ) { train transformer . transform tree ( tree ) ; } binarizer . set do selective split ( true ) ; op . train options . print tree transformations = ptt ; } train treebank = train treebank . transform ( train transformer ) ; if ( secondary treebank ! = null ) { secondary treebank = secondary treebank . transform ( train transformer ) ; } if ( op . train options . print annotated state counts ) { binarizer . print state counts ( ) ; } if ( op . train options . print annotated rule counts ) { binarizer . print rule counts ( ) ; } if ( tune treebank ! = null ) { tune treebank = tune treebank . transform ( train transformer ) ; } timing . tick ( str ) ; if ( op . test options . verbose ) { binarizer . dump stats ( ) ; } return new triple < treebank , treebank , treebank > ( train treebank , secondary treebank , tune treebank ) ; }", "old_code_tokens": ["public", "static", "triple", "<", "treebank", ",", "treebank", ",", "treebank", ">", "get", "annotated", "binary", "treebank", "from", "treebank", "(", "treebank", "train", "treebank", ",", "treebank", "secondary", "treebank", ",", "treebank", "tune", "treebank", ",", "options", "op", ")", "{", "treebank", "lang", "parser", "params", "tlp", "params", "=", "op", ".", "tlp", "params", ";", "treebank", "language", "pack", "tlp", "=", "tlp", "params", ".", "treebank", "language", "pack", "(", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "print", "writer", "pw", "err", "=", "tlp", "params", ".", "pw", "(", "system", ".", "err", ")", ";", "pw", "err", ".", "print", "(", "str", ")", ";", "pw", "err", ".", "println", "(", "train", "treebank", ".", "textual", "summary", "(", "tlp", ")", ")", ";", "if", "(", "secondary", "treebank", "!", "=", "null", ")", "{", "pw", "err", ".", "print", "(", "str", ")", ";", "pw", "err", ".", "println", "(", "secondary", "treebank", ".", "textual", "summary", "(", "tlp", ")", ")", ";", "}", "}", "system", ".", "err", ".", "print", "(", "str", ")", ";", "tree", "annotator", "and", "binarizer", "binarizer", "=", "build", "train", "binarizer", "(", "op", ")", ";", "composite", "tree", "transformer", "train", "transformer", "=", "build", "train", "transformer", "(", "op", ",", "binarizer", ")", ";", "treebank", "whole", "treebank", ";", "if", "(", "secondary", "treebank", "=", "=", "null", ")", "{", "whole", "treebank", "=", "train", "treebank", ";", "}", "else", "{", "whole", "treebank", "=", "new", "composite", "treebank", "(", "train", "treebank", ",", "secondary", "treebank", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "selective", "split", ")", "{", "op", ".", "train", "options", ".", "splitters", "=", "parent", "annotation", "stats", ".", "get", "split", "categories", "(", "whole", "treebank", ",", "op", ".", "train", "options", ".", "tag", "selective", "split", ",", "num", ",", "op", ".", "train", "options", ".", "selective", "split", "cut", "off", ",", "op", ".", "train", "options", ".", "tag", "selective", "split", "cut", "off", ",", "tlp", ")", ";", "remove", "delete", "splitters", "from", "splitters", "(", "tlp", ",", "op", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "list", "<", "string", ">", "list", "=", "new", "array", "list", "<", "string", ">", "(", "op", ".", "train", "options", ".", "splitters", ")", ";", "collections", ".", "sort", "(", "list", ")", ";", "system", ".", "err", ".", "println", "(", "str", "+", "list", ")", ";", "}", "}", "if", "(", "op", ".", "train", "options", ".", "selective", "post", "split", ")", "{", "tree", "transformer", "my", "transformer", "=", "new", "tree", "annotator", "(", "tlp", "params", ".", "head", "finder", "(", ")", ",", "tlp", "params", ",", "op", ")", ";", "whole", "treebank", "=", "whole", "treebank", ".", "transform", "(", "my", "transformer", ")", ";", "op", ".", "train", "options", ".", "post", "splitters", "=", "parent", "annotation", "stats", ".", "get", "split", "categories", "(", "whole", "treebank", ",", "true", ",", "num", ",", "op", ".", "train", "options", ".", "selective", "post", "split", "cut", "off", ",", "op", ".", "train", "options", ".", "tag", "selective", "post", "split", "cut", "off", ",", "tlp", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "system", ".", "err", ".", "println", "(", "str", "+", "op", ".", "train", "options", ".", "post", "splitters", ")", ";", "}", "}", "if", "(", "op", ".", "train", "options", ".", "h", "sel", "split", ")", "{", "int", "ptt", "=", "op", ".", "train", "options", ".", "print", "tree", "transformations", ";", "op", ".", "train", "options", ".", "print", "tree", "transformations", "=", "num", ";", "binarizer", ".", "set", "do", "selective", "split", "(", "false", ")", ";", "for", "(", "tree", "tree", ":", "whole", "treebank", ")", "{", "train", "transformer", ".", "transform", "tree", "(", "tree", ")", ";", "}", "binarizer", ".", "set", "do", "selective", "split", "(", "true", ")", ";", "op", ".", "train", "options", ".", "print", "tree", "transformations", "=", "ptt", ";", "}", "train", "treebank", "=", "train", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "if", "(", "secondary", "treebank", "!", "=", "null", ")", "{", "secondary", "treebank", "=", "secondary", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "print", "annotated", "state", "counts", ")", "{", "binarizer", ".", "print", "state", "counts", "(", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "print", "annotated", "rule", "counts", ")", "{", "binarizer", ".", "print", "rule", "counts", "(", ")", ";", "}", "if", "(", "tune", "treebank", "!", "=", "null", ")", "{", "tune", "treebank", "=", "tune", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "}", "timing", ".", "tick", "(", "str", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "binarizer", ".", "dump", "stats", "(", ")", ";", "}", "return", "new", "triple", "<", "treebank", ",", "treebank", ",", "treebank", ">", "(", "train", "treebank", ",", "secondary", "treebank", ",", "tune", "treebank", ")", ";", "}"], "new_code": "@ suppress warnings ( str ) public static triple < treebank , treebank , treebank > get annotated binary treebank from treebank ( treebank train treebank , treebank secondary treebank , treebank tune treebank , options op ) { treebank lang parser params tlp params = op . tlp params ; treebank language pack tlp = tlp params . treebank language pack ( ) ; if ( op . test options . verbose ) { print writer pw err = tlp params . pw ( system . err ) ; pw err . print ( str ) ; pw err . println ( train treebank . textual summary ( tlp ) ) ; if ( secondary treebank ! = null ) { pw err . print ( str ) ; pw err . println ( secondary treebank . textual summary ( tlp ) ) ; } } system . err . print ( str ) ; tree annotator and binarizer binarizer = build train binarizer ( op ) ; composite tree transformer train transformer = build train transformer ( op , binarizer ) ; treebank whole treebank ; if ( secondary treebank = = null ) { whole treebank = train treebank ; } else { whole treebank = new composite treebank ( train treebank , secondary treebank ) ; } if ( op . train options . selective split ) { op . train options . splitters = parent annotation stats . get split categories ( whole treebank , op . train options . tag selective split , num , op . train options . selective split cut off , op . train options . tag selective split cut off , tlp ) ; remove delete splitters from splitters ( tlp , op ) ; if ( op . test options . verbose ) { list < string > list = new array list < string > ( op . train options . splitters ) ; collections . sort ( list ) ; system . err . println ( str + list ) ; } } if ( op . train options . selective post split ) { tree transformer my transformer = new tree annotator ( tlp params . head finder ( ) , tlp params , op ) ; whole treebank = whole treebank . transform ( my transformer ) ; op . train options . post splitters = parent annotation stats . get split categories ( whole treebank , true , num , op . train options . selective post split cut off , op . train options . tag selective post split cut off , tlp ) ; if ( op . test options . verbose ) { system . err . println ( str + op . train options . post splitters ) ; } } if ( op . train options . h sel split ) { int ptt = op . train options . print tree transformations ; op . train options . print tree transformations = num ; binarizer . set do selective split ( false ) ; for ( tree tree : whole treebank ) { train transformer . transform tree ( tree ) ; } binarizer . set do selective split ( true ) ; op . train options . print tree transformations = ptt ; } train treebank = train treebank . transform ( train transformer ) ; if ( secondary treebank ! = null ) { secondary treebank = secondary treebank . transform ( train transformer ) ; } if ( op . train options . print annotated state counts ) { binarizer . print state counts ( ) ; } if ( op . train options . print annotated rule counts ) { binarizer . print rule counts ( ) ; } if ( tune treebank ! = null ) { tune treebank = tune treebank . transform ( train transformer ) ; } timing . tick ( str ) ; if ( op . test options . verbose ) { binarizer . dump stats ( ) ; } return new triple < > ( train treebank , secondary treebank , tune treebank ) ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "static", "triple", "<", "treebank", ",", "treebank", ",", "treebank", ">", "get", "annotated", "binary", "treebank", "from", "treebank", "(", "treebank", "train", "treebank", ",", "treebank", "secondary", "treebank", ",", "treebank", "tune", "treebank", ",", "options", "op", ")", "{", "treebank", "lang", "parser", "params", "tlp", "params", "=", "op", ".", "tlp", "params", ";", "treebank", "language", "pack", "tlp", "=", "tlp", "params", ".", "treebank", "language", "pack", "(", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "print", "writer", "pw", "err", "=", "tlp", "params", ".", "pw", "(", "system", ".", "err", ")", ";", "pw", "err", ".", "print", "(", "str", ")", ";", "pw", "err", ".", "println", "(", "train", "treebank", ".", "textual", "summary", "(", "tlp", ")", ")", ";", "if", "(", "secondary", "treebank", "!", "=", "null", ")", "{", "pw", "err", ".", "print", "(", "str", ")", ";", "pw", "err", ".", "println", "(", "secondary", "treebank", ".", "textual", "summary", "(", "tlp", ")", ")", ";", "}", "}", "system", ".", "err", ".", "print", "(", "str", ")", ";", "tree", "annotator", "and", "binarizer", "binarizer", "=", "build", "train", "binarizer", "(", "op", ")", ";", "composite", "tree", "transformer", "train", "transformer", "=", "build", "train", "transformer", "(", "op", ",", "binarizer", ")", ";", "treebank", "whole", "treebank", ";", "if", "(", "secondary", "treebank", "=", "=", "null", ")", "{", "whole", "treebank", "=", "train", "treebank", ";", "}", "else", "{", "whole", "treebank", "=", "new", "composite", "treebank", "(", "train", "treebank", ",", "secondary", "treebank", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "selective", "split", ")", "{", "op", ".", "train", "options", ".", "splitters", "=", "parent", "annotation", "stats", ".", "get", "split", "categories", "(", "whole", "treebank", ",", "op", ".", "train", "options", ".", "tag", "selective", "split", ",", "num", ",", "op", ".", "train", "options", ".", "selective", "split", "cut", "off", ",", "op", ".", "train", "options", ".", "tag", "selective", "split", "cut", "off", ",", "tlp", ")", ";", "remove", "delete", "splitters", "from", "splitters", "(", "tlp", ",", "op", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "list", "<", "string", ">", "list", "=", "new", "array", "list", "<", "string", ">", "(", "op", ".", "train", "options", ".", "splitters", ")", ";", "collections", ".", "sort", "(", "list", ")", ";", "system", ".", "err", ".", "println", "(", "str", "+", "list", ")", ";", "}", "}", "if", "(", "op", ".", "train", "options", ".", "selective", "post", "split", ")", "{", "tree", "transformer", "my", "transformer", "=", "new", "tree", "annotator", "(", "tlp", "params", ".", "head", "finder", "(", ")", ",", "tlp", "params", ",", "op", ")", ";", "whole", "treebank", "=", "whole", "treebank", ".", "transform", "(", "my", "transformer", ")", ";", "op", ".", "train", "options", ".", "post", "splitters", "=", "parent", "annotation", "stats", ".", "get", "split", "categories", "(", "whole", "treebank", ",", "true", ",", "num", ",", "op", ".", "train", "options", ".", "selective", "post", "split", "cut", "off", ",", "op", ".", "train", "options", ".", "tag", "selective", "post", "split", "cut", "off", ",", "tlp", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "system", ".", "err", ".", "println", "(", "str", "+", "op", ".", "train", "options", ".", "post", "splitters", ")", ";", "}", "}", "if", "(", "op", ".", "train", "options", ".", "h", "sel", "split", ")", "{", "int", "ptt", "=", "op", ".", "train", "options", ".", "print", "tree", "transformations", ";", "op", ".", "train", "options", ".", "print", "tree", "transformations", "=", "num", ";", "binarizer", ".", "set", "do", "selective", "split", "(", "false", ")", ";", "for", "(", "tree", "tree", ":", "whole", "treebank", ")", "{", "train", "transformer", ".", "transform", "tree", "(", "tree", ")", ";", "}", "binarizer", ".", "set", "do", "selective", "split", "(", "true", ")", ";", "op", ".", "train", "options", ".", "print", "tree", "transformations", "=", "ptt", ";", "}", "train", "treebank", "=", "train", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "if", "(", "secondary", "treebank", "!", "=", "null", ")", "{", "secondary", "treebank", "=", "secondary", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "print", "annotated", "state", "counts", ")", "{", "binarizer", ".", "print", "state", "counts", "(", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "print", "annotated", "rule", "counts", ")", "{", "binarizer", ".", "print", "rule", "counts", "(", ")", ";", "}", "if", "(", "tune", "treebank", "!", "=", "null", ")", "{", "tune", "treebank", "=", "tune", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "}", "timing", ".", "tick", "(", "str", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "binarizer", ".", "dump", "stats", "(", ")", ";", "}", "return", "new", "triple", "<", ">", "(", "train", "treebank", ",", "secondary", "treebank", ",", "tune", "treebank", ")", ";", "}"], "span_diff_code": "<INSERT> @ suppress warnings ( str ) <INSERT_END> <KEEP> public static triple < treebank , treebank , treebank > get annotated binary treebank from treebank ( treebank train treebank , treebank secondary treebank , treebank tune treebank , options op ) { treebank lang parser params tlp params = op . tlp params ; treebank language pack tlp = tlp params . treebank language pack ( ) ; if ( op . test options . verbose ) { print writer pw err = tlp params . pw ( system . err ) ; pw err . print ( str ) ; pw err . println ( train treebank . textual summary ( tlp ) ) ; if ( secondary treebank ! = null ) { pw err . print ( str ) ; pw err . println ( secondary treebank . textual summary ( tlp ) ) ; } } system . err . print ( str ) ; tree annotator and binarizer binarizer = build train binarizer ( op ) ; composite tree transformer train transformer = build train transformer ( op , binarizer ) ; treebank whole treebank ; if ( secondary treebank = = null ) { whole treebank = train treebank ; } else { whole treebank = new composite treebank ( train treebank , secondary treebank ) ; } if ( op . train options . selective split ) { op . train options . splitters = parent annotation stats . get split categories ( whole treebank , op . train options . tag selective split , num , op . train options . selective split cut off , op . train options . tag selective split cut off , tlp ) ; remove delete splitters from splitters ( tlp , op ) ; if ( op . test options . verbose ) { list < string > list = new array list < string > ( op . train options . splitters ) ; collections . sort ( list ) ; system . err . println ( str + list ) ; } } if ( op . train options . selective post split ) { tree transformer my transformer = new tree annotator ( tlp params . head finder ( ) , tlp params , op ) ; whole treebank = whole treebank . transform ( my transformer ) ; op . train options . post splitters = parent annotation stats . get split categories ( whole treebank , true , num , op . train options . selective post split cut off , op . train options . tag selective post split cut off , tlp ) ; if ( op . test options . verbose ) { system . err . println ( str + op . train options . post splitters ) ; } } if ( op . train options . h sel split ) { int ptt = op . train options . print tree transformations ; op . train options . print tree transformations = num ; binarizer . set do selective split ( false ) ; for ( tree tree : whole treebank ) { train transformer . transform tree ( tree ) ; } binarizer . set do selective split ( true ) ; op . train options . print tree transformations = ptt ; } train treebank = train treebank . transform ( train transformer ) ; if ( secondary treebank ! = null ) { secondary treebank = secondary treebank . transform ( train transformer ) ; } if ( op . train options . print annotated state counts ) { binarizer . print state counts ( ) ; } if ( op . train options . print annotated rule counts ) { binarizer . print rule counts ( ) ; } if ( tune treebank ! = null ) { tune treebank = tune treebank . transform ( train transformer ) ; } timing . tick ( str ) ; if ( op . test options . verbose ) { binarizer . dump stats ( ) ; } return new triple < <KEEP_END> <DELETE> treebank , treebank , treebank <DELETE_END> <KEEP> > ( train treebank , secondary treebank , tune treebank ) ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "suppress", "warnings", "(", "str", ")", "<INSERT_END>", "<KEEP>", "public", "static", "triple", "<", "treebank", ",", "treebank", ",", "treebank", ">", "get", "annotated", "binary", "treebank", "from", "treebank", "(", "treebank", "train", "treebank", ",", "treebank", "secondary", "treebank", ",", "treebank", "tune", "treebank", ",", "options", "op", ")", "{", "treebank", "lang", "parser", "params", "tlp", "params", "=", "op", ".", "tlp", "params", ";", "treebank", "language", "pack", "tlp", "=", "tlp", "params", ".", "treebank", "language", "pack", "(", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "print", "writer", "pw", "err", "=", "tlp", "params", ".", "pw", "(", "system", ".", "err", ")", ";", "pw", "err", ".", "print", "(", "str", ")", ";", "pw", "err", ".", "println", "(", "train", "treebank", ".", "textual", "summary", "(", "tlp", ")", ")", ";", "if", "(", "secondary", "treebank", "!", "=", "null", ")", "{", "pw", "err", ".", "print", "(", "str", ")", ";", "pw", "err", ".", "println", "(", "secondary", "treebank", ".", "textual", "summary", "(", "tlp", ")", ")", ";", "}", "}", "system", ".", "err", ".", "print", "(", "str", ")", ";", "tree", "annotator", "and", "binarizer", "binarizer", "=", "build", "train", "binarizer", "(", "op", ")", ";", "composite", "tree", "transformer", "train", "transformer", "=", "build", "train", "transformer", "(", "op", ",", "binarizer", ")", ";", "treebank", "whole", "treebank", ";", "if", "(", "secondary", "treebank", "=", "=", "null", ")", "{", "whole", "treebank", "=", "train", "treebank", ";", "}", "else", "{", "whole", "treebank", "=", "new", "composite", "treebank", "(", "train", "treebank", ",", "secondary", "treebank", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "selective", "split", ")", "{", "op", ".", "train", "options", ".", "splitters", "=", "parent", "annotation", "stats", ".", "get", "split", "categories", "(", "whole", "treebank", ",", "op", ".", "train", "options", ".", "tag", "selective", "split", ",", "num", ",", "op", ".", "train", "options", ".", "selective", "split", "cut", "off", ",", "op", ".", "train", "options", ".", "tag", "selective", "split", "cut", "off", ",", "tlp", ")", ";", "remove", "delete", "splitters", "from", "splitters", "(", "tlp", ",", "op", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "list", "<", "string", ">", "list", "=", "new", "array", "list", "<", "string", ">", "(", "op", ".", "train", "options", ".", "splitters", ")", ";", "collections", ".", "sort", "(", "list", ")", ";", "system", ".", "err", ".", "println", "(", "str", "+", "list", ")", ";", "}", "}", "if", "(", "op", ".", "train", "options", ".", "selective", "post", "split", ")", "{", "tree", "transformer", "my", "transformer", "=", "new", "tree", "annotator", "(", "tlp", "params", ".", "head", "finder", "(", ")", ",", "tlp", "params", ",", "op", ")", ";", "whole", "treebank", "=", "whole", "treebank", ".", "transform", "(", "my", "transformer", ")", ";", "op", ".", "train", "options", ".", "post", "splitters", "=", "parent", "annotation", "stats", ".", "get", "split", "categories", "(", "whole", "treebank", ",", "true", ",", "num", ",", "op", ".", "train", "options", ".", "selective", "post", "split", "cut", "off", ",", "op", ".", "train", "options", ".", "tag", "selective", "post", "split", "cut", "off", ",", "tlp", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "system", ".", "err", ".", "println", "(", "str", "+", "op", ".", "train", "options", ".", "post", "splitters", ")", ";", "}", "}", "if", "(", "op", ".", "train", "options", ".", "h", "sel", "split", ")", "{", "int", "ptt", "=", "op", ".", "train", "options", ".", "print", "tree", "transformations", ";", "op", ".", "train", "options", ".", "print", "tree", "transformations", "=", "num", ";", "binarizer", ".", "set", "do", "selective", "split", "(", "false", ")", ";", "for", "(", "tree", "tree", ":", "whole", "treebank", ")", "{", "train", "transformer", ".", "transform", "tree", "(", "tree", ")", ";", "}", "binarizer", ".", "set", "do", "selective", "split", "(", "true", ")", ";", "op", ".", "train", "options", ".", "print", "tree", "transformations", "=", "ptt", ";", "}", "train", "treebank", "=", "train", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "if", "(", "secondary", "treebank", "!", "=", "null", ")", "{", "secondary", "treebank", "=", "secondary", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "print", "annotated", "state", "counts", ")", "{", "binarizer", ".", "print", "state", "counts", "(", ")", ";", "}", "if", "(", "op", ".", "train", "options", ".", "print", "annotated", "rule", "counts", ")", "{", "binarizer", ".", "print", "rule", "counts", "(", ")", ";", "}", "if", "(", "tune", "treebank", "!", "=", "null", ")", "{", "tune", "treebank", "=", "tune", "treebank", ".", "transform", "(", "train", "transformer", ")", ";", "}", "timing", ".", "tick", "(", "str", ")", ";", "if", "(", "op", ".", "test", "options", ".", "verbose", ")", "{", "binarizer", ".", "dump", "stats", "(", ")", ";", "}", "return", "new", "triple", "<", "<KEEP_END>", "<DELETE>", "treebank", ",", "treebank", ",", "treebank", "<DELETE_END>", "<KEEP>", ">", "(", "train", "treebank", ",", "secondary", "treebank", ",", "tune", "treebank", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> pair <REPLACE_NEW> triple <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> of binary <INSERT_NEW_KEEP_BEFORE> of binary train treebank , binary secondary <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "pair", "<REPLACE_NEW>", "triple", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "of", "binary", "<INSERT_NEW_KEEP_BEFORE>", "of", "binary", "train", "treebank", ",", "binary", "secondary", "<INSERT_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "suppress", "<INSERT>", "warnings", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "triple", "<KEEP>", "<", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "treebank", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "annotated", "<KEEP>", "binary", "<KEEP>", "treebank", "<KEEP>", "from", "<KEEP>", "treebank", "<KEEP>", "(", "<KEEP>", "treebank", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "treebank", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "treebank", "<KEEP>", "tune", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "options", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "treebank", "<KEEP>", "lang", "<KEEP>", "parser", "<KEEP>", "params", "<KEEP>", "tlp", "<KEEP>", "params", "<KEEP>", "=", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "tlp", "<KEEP>", "params", "<KEEP>", ";", "<KEEP>", "treebank", "<KEEP>", "language", "<KEEP>", "pack", "<KEEP>", "tlp", "<KEEP>", "=", "<KEEP>", "tlp", "<KEEP>", "params", "<KEEP>", ".", "<KEEP>", "treebank", "<KEEP>", "language", "<KEEP>", "pack", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "test", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "verbose", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "print", "<KEEP>", "writer", "<KEEP>", "pw", "<KEEP>", "err", "<KEEP>", "=", "<KEEP>", "tlp", "<KEEP>", "params", "<KEEP>", ".", "<KEEP>", "pw", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "err", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pw", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pw", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", ".", "<KEEP>", "textual", "<KEEP>", "summary", "<KEEP>", "(", "<KEEP>", "tlp", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pw", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "pw", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", ".", "<KEEP>", "textual", "<KEEP>", "summary", "<KEEP>", "(", "<KEEP>", "tlp", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "tree", "<KEEP>", "annotator", "<KEEP>", "and", "<KEEP>", "binarizer", "<KEEP>", "binarizer", "<KEEP>", "=", "<KEEP>", "build", "<KEEP>", "train", "<KEEP>", "binarizer", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "composite", "<KEEP>", "tree", "<KEEP>", "transformer", "<KEEP>", "train", "<KEEP>", "transformer", "<KEEP>", "=", "<KEEP>", "build", "<KEEP>", "train", "<KEEP>", "transformer", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ",", "<KEEP>", "binarizer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "treebank", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "composite", "<KEEP>", "treebank", "<KEEP>", "(", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "selective", "<KEEP>", "split", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "splitters", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "annotation", "<KEEP>", "stats", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "split", "<KEEP>", "categories", "<KEEP>", "(", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", "selective", "<KEEP>", "split", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "selective", "<KEEP>", "split", "<KEEP>", "cut", "<KEEP>", "off", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", "selective", "<KEEP>", "split", "<KEEP>", "cut", "<KEEP>", "off", "<KEEP>", ",", "<KEEP>", "tlp", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "remove", "<KEEP>", "delete", "<KEEP>", "splitters", "<KEEP>", "from", "<KEEP>", "splitters", "<KEEP>", "(", "<KEEP>", "tlp", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "test", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "verbose", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "splitters", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "sort", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "selective", "<KEEP>", "post", "<KEEP>", "split", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tree", "<KEEP>", "transformer", "<KEEP>", "my", "<KEEP>", "transformer", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "tree", "<KEEP>", "annotator", "<KEEP>", "(", "<KEEP>", "tlp", "<KEEP>", "params", "<KEEP>", ".", "<KEEP>", "head", "<KEEP>", "finder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "tlp", "<KEEP>", "params", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "my", "<KEEP>", "transformer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "splitters", "<KEEP>", "=", "<KEEP>", "parent", "<KEEP>", "annotation", "<KEEP>", "stats", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "split", "<KEEP>", "categories", "<KEEP>", "(", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "true", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "selective", "<KEEP>", "post", "<KEEP>", "split", "<KEEP>", "cut", "<KEEP>", "off", "<KEEP>", ",", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "tag", "<KEEP>", "selective", "<KEEP>", "post", "<KEEP>", "split", "<KEEP>", "cut", "<KEEP>", "off", "<KEEP>", ",", "<KEEP>", "tlp", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "test", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "verbose", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "err", "<KEEP>", ".", "<KEEP>", "println", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "post", "<KEEP>", "splitters", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "h", "<KEEP>", "sel", "<KEEP>", "split", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "ptt", "<KEEP>", "=", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "tree", "<KEEP>", "transformations", "<KEEP>", ";", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "tree", "<KEEP>", "transformations", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "binarizer", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "do", "<KEEP>", "selective", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "tree", "<KEEP>", "tree", "<KEEP>", ":", "<KEEP>", "whole", "<KEEP>", "treebank", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "train", "<KEEP>", "transformer", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "tree", "<KEEP>", "(", "<KEEP>", "tree", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "binarizer", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "do", "<KEEP>", "selective", "<KEEP>", "split", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "tree", "<KEEP>", "transformations", "<KEEP>", "=", "<KEEP>", "ptt", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "train", "<KEEP>", "transformer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "train", "<KEEP>", "transformer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "annotated", "<KEEP>", "state", "<KEEP>", "counts", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "binarizer", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "state", "<KEEP>", "counts", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "train", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "annotated", "<KEEP>", "rule", "<KEEP>", "counts", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "binarizer", "<KEEP>", ".", "<KEEP>", "print", "<KEEP>", "rule", "<KEEP>", "counts", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tune", "<KEEP>", "treebank", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tune", "<KEEP>", "treebank", "<KEEP>", "=", "<KEEP>", "tune", "<KEEP>", "treebank", "<KEEP>", ".", "<KEEP>", "transform", "<KEEP>", "(", "<KEEP>", "train", "<KEEP>", "transformer", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "timing", "<KEEP>", ".", "<KEEP>", "tick", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "op", "<KEEP>", ".", "<KEEP>", "test", "<KEEP>", "options", "<KEEP>", ".", "<KEEP>", "verbose", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "binarizer", "<KEEP>", ".", "<KEEP>", "dump", "<KEEP>", "stats", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "triple", "<KEEP>", "<", "<DELETE>", "treebank", "<DELETE>", ",", "<DELETE>", "treebank", "<DELETE>", ",", "<DELETE>", "treebank", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", "train", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "secondary", "<KEEP>", "treebank", "<KEEP>", ",", "<KEEP>", "tune", "<KEEP>", "treebank", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_activemq-39-6621", "old_comment": "the web client for the current http session or null if there is not a web client created yet", "old_comment_tokens": ["the", "web", "client", "for", "the", "current", "http", "session", "or", "null", "if", "there", "is", "not", "a", "web", "client", "created", "yet"], "new_comment": "the current client or a newly creates", "new_comment_tokens": ["the", "current", "client", "or", "a", "newly", "creates"], "old_code": "public static web client get web client ( http session session ) { return ( web client ) session . get attribute ( web client attribute ) ; }", "old_code_tokens": ["public", "static", "web", "client", "get", "web", "client", "(", "http", "session", "session", ")", "{", "return", "(", "web", "client", ")", "session", ".", "get", "attribute", "(", "web", "client", "attribute", ")", ";", "}"], "new_code": "public static web client get web client ( http servlet request request ) { http session session = request . get session ( true ) ; web client client = get web client ( session ) ; if ( client = = null | | client . is closed ( ) ) { client = web client . create web client ( request ) ; session . set attribute ( web client attribute , client ) ; } return client ; }", "new_code_tokens": ["public", "static", "web", "client", "get", "web", "client", "(", "http", "servlet", "request", "request", ")", "{", "http", "session", "session", "=", "request", ".", "get", "session", "(", "true", ")", ";", "web", "client", "client", "=", "get", "web", "client", "(", "session", ")", ";", "if", "(", "client", "=", "=", "null", "|", "|", "client", ".", "is", "closed", "(", ")", ")", "{", "client", "=", "web", "client", ".", "create", "web", "client", "(", "request", ")", ";", "session", ".", "set", "attribute", "(", "web", "client", "attribute", ",", "client", ")", ";", "}", "return", "client", ";", "}"], "span_diff_code": "<KEEP> public static web client get web client ( http <KEEP_END> <INSERT> servlet request request ) { http <INSERT_END> <KEEP> session session <KEEP_END> <INSERT> = request . get session ( true ) ; web client client = get web client ( session ) ; if ( client = = null | | client . is closed ( ) <INSERT_END> <KEEP> ) { <KEEP_END> <REPLACE_OLD> return ( <REPLACE_NEW> client = <REPLACE_END> <KEEP> web client <KEEP_END> <INSERT> . create web client ( request <INSERT_END> <KEEP> ) <KEEP_END> <INSERT> ; <INSERT_END> <KEEP> session . <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> set <REPLACE_END> <KEEP> attribute ( web client attribute <KEEP_END> <INSERT> , client <INSERT_END> <KEEP> ) ; } <KEEP_END> <INSERT> return client ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "web", "client", "get", "web", "client", "(", "http", "<KEEP_END>", "<INSERT>", "servlet", "request", "request", ")", "{", "http", "<INSERT_END>", "<KEEP>", "session", "session", "<KEEP_END>", "<INSERT>", "=", "request", ".", "get", "session", "(", "true", ")", ";", "web", "client", "client", "=", "get", "web", "client", "(", "session", ")", ";", "if", "(", "client", "=", "=", "null", "|", "|", "client", ".", "is", "closed", "(", ")", "<INSERT_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "(", "<REPLACE_NEW>", "client", "=", "<REPLACE_END>", "<KEEP>", "web", "client", "<KEEP_END>", "<INSERT>", ".", "create", "web", "client", "(", "request", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", ";", "<INSERT_END>", "<KEEP>", "session", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "attribute", "(", "web", "client", "attribute", "<KEEP_END>", "<INSERT>", ",", "client", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "client", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<DELETE> the web client for <DELETE_END> <REPLACE_OLD> http session <REPLACE_NEW> client <REPLACE_END> <DELETE> null if there is not <DELETE_END> <REPLACE_OLD> web client created yet <REPLACE_NEW> newly creates <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "the", "web", "client", "for", "<DELETE_END>", "<REPLACE_OLD>", "http", "session", "<REPLACE_NEW>", "client", "<REPLACE_END>", "<DELETE>", "null", "if", "there", "is", "not", "<DELETE_END>", "<REPLACE_OLD>", "web", "client", "created", "yet", "<REPLACE_NEW>", "newly", "creates", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "web", "<KEEP>", "client", "<KEEP>", "get", "<KEEP>", "web", "<KEEP>", "client", "<KEEP>", "(", "<KEEP>", "http", "<INSERT>", "servlet", "<INSERT>", "request", "<INSERT>", "request", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "http", "<KEEP>", "session", "<KEEP>", "session", "<INSERT>", "=", "<INSERT>", "request", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "session", "<INSERT>", "(", "<INSERT>", "true", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "web", "<INSERT>", "client", "<INSERT>", "client", "<INSERT>", "=", "<INSERT>", "get", "<INSERT>", "web", "<INSERT>", "client", "<INSERT>", "(", "<INSERT>", "session", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "client", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "client", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "closed", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "client", "<REPLACE_NEW>", "=", "<KEEP>", "web", "<KEEP>", "client", "<INSERT>", ".", "<INSERT>", "create", "<INSERT>", "web", "<INSERT>", "client", "<INSERT>", "(", "<INSERT>", "request", "<KEEP>", ")", "<INSERT>", ";", "<KEEP>", "session", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "web", "<KEEP>", "client", "<KEEP>", "attribute", "<INSERT>", ",", "<INSERT>", "client", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "client", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "ansell_openrdf-sesame-8-6356", "old_comment": "the maximum query evaluation time , in milliseconds .", "old_comment_tokens": ["the", "maximum", "query", "evaluation", "time", ",", "in", "milliseconds", "."], "new_comment": "the maximum query evaluation time , measured in seconds .", "new_comment_tokens": ["the", "maximum", "query", "evaluation", "time", ",", "measured", "in", "seconds", "."], "old_code": "public long get max query time ( ) { return max query time ; }", "old_code_tokens": ["public", "long", "get", "max", "query", "time", "(", ")", "{", "return", "max", "query", "time", ";", "}"], "new_code": "public int get max query time ( ) { return max query time ; }", "new_code_tokens": ["public", "int", "get", "max", "query", "time", "(", ")", "{", "return", "max", "query", "time", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> int <REPLACE_END> <KEEP> get max query time ( ) { return max query time ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "get", "max", "query", "time", "(", ")", "{", "return", "max", "query", "time", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> , <INSERT_NEW_KEEP_BEFORE> , measured <INSERT_END> <REPLACE_OLD> milliseconds <REPLACE_NEW> seconds <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", ",", "<INSERT_NEW_KEEP_BEFORE>", ",", "measured", "<INSERT_END>", "<REPLACE_OLD>", "milliseconds", "<REPLACE_NEW>", "seconds", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "int", "<KEEP>", "get", "<KEEP>", "max", "<KEEP>", "query", "<KEEP>", "time", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "max", "<KEEP>", "query", "<KEEP>", "time", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "zjpjohn_idempiere-76-6656", "old_comment": "requisition line", "old_comment_tokens": ["requisition", "line"], "new_comment": "array of requisition line ( s )", "new_comment_tokens": ["array", "of", "requisition", "line", "(", "s", ")"], "old_code": "public static mrequisition line for c _ order line _ id ( properties ctx , int c _ order line _ id , string trx name ) { final string where clause = columnname _ c _ order line _ id + str ; return new query ( ctx , mrequisition line . table _ name , where clause , trx name ) . set parameters ( new object [ ] { c _ order line _ id } ) . first only ( ) ; }", "old_code_tokens": ["public", "static", "mrequisition", "line", "for", "c", "_", "order", "line", "_", "id", "(", "properties", "ctx", ",", "int", "c", "_", "order", "line", "_", "id", ",", "string", "trx", "name", ")", "{", "final", "string", "where", "clause", "=", "columnname", "_", "c", "_", "order", "line", "_", "id", "+", "str", ";", "return", "new", "query", "(", "ctx", ",", "mrequisition", "line", ".", "table", "_", "name", ",", "where", "clause", ",", "trx", "name", ")", ".", "set", "parameters", "(", "new", "object", "[", "]", "{", "c", "_", "order", "line", "_", "id", "}", ")", ".", "first", "only", "(", ")", ";", "}"], "new_code": "public static mrequisition line [ ] for c _ order line _ id ( properties ctx , int c _ order line _ id , string trx name ) { final string where clause = columnname _ c _ order line _ id + str ; list < mrequisition line > list = new query ( ctx , mrequisition line . table _ name , where clause , trx name ) . set parameters ( new object [ ] { c _ order line _ id } ) . list ( ) ; return list . to array ( new mrequisition line [ list . size ( ) ] ) ; }", "new_code_tokens": ["public", "static", "mrequisition", "line", "[", "]", "for", "c", "_", "order", "line", "_", "id", "(", "properties", "ctx", ",", "int", "c", "_", "order", "line", "_", "id", ",", "string", "trx", "name", ")", "{", "final", "string", "where", "clause", "=", "columnname", "_", "c", "_", "order", "line", "_", "id", "+", "str", ";", "list", "<", "mrequisition", "line", ">", "list", "=", "new", "query", "(", "ctx", ",", "mrequisition", "line", ".", "table", "_", "name", ",", "where", "clause", ",", "trx", "name", ")", ".", "set", "parameters", "(", "new", "object", "[", "]", "{", "c", "_", "order", "line", "_", "id", "}", ")", ".", "list", "(", ")", ";", "return", "list", ".", "to", "array", "(", "new", "mrequisition", "line", "[", "list", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public static mrequisition line <KEEP_END> <INSERT> [ ] <INSERT_END> <KEEP> for c _ order line _ id ( properties ctx , int c _ order line _ id , string trx name ) { final string where clause = columnname _ c _ order line _ id + str ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> list < mrequisition line > list = <REPLACE_END> <KEEP> new query ( ctx , mrequisition line . table _ name , where clause , trx name ) . set parameters ( new object [ ] { c _ order line _ id } ) . <KEEP_END> <REPLACE_OLD> first only <REPLACE_NEW> list <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <INSERT> return list . to array ( new mrequisition line [ list . size ( ) ] ) ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "mrequisition", "line", "<KEEP_END>", "<INSERT>", "[", "]", "<INSERT_END>", "<KEEP>", "for", "c", "_", "order", "line", "_", "id", "(", "properties", "ctx", ",", "int", "c", "_", "order", "line", "_", "id", ",", "string", "trx", "name", ")", "{", "final", "string", "where", "clause", "=", "columnname", "_", "c", "_", "order", "line", "_", "id", "+", "str", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "list", "<", "mrequisition", "line", ">", "list", "=", "<REPLACE_END>", "<KEEP>", "new", "query", "(", "ctx", ",", "mrequisition", "line", ".", "table", "_", "name", ",", "where", "clause", ",", "trx", "name", ")", ".", "set", "parameters", "(", "new", "object", "[", "]", "{", "c", "_", "order", "line", "_", "id", "}", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "first", "only", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<INSERT>", "return", "list", ".", "to", "array", "(", "new", "mrequisition", "line", "[", "list", ".", "size", "(", ")", "]", ")", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> requisition <INSERT_NEW_KEEP_AFTER> array of requisition <INSERT_END> <INSERT_OLD_KEEP_BEFORE> line <INSERT_NEW_KEEP_BEFORE> line ( s ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "requisition", "<INSERT_NEW_KEEP_AFTER>", "array", "of", "requisition", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "line", "<INSERT_NEW_KEEP_BEFORE>", "line", "(", "s", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "mrequisition", "<KEEP>", "line", "<INSERT>", "[", "<INSERT>", "]", "<KEEP>", "for", "<KEEP>", "c", "<KEEP>", "_", "<KEEP>", "order", "<KEEP>", "line", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", "properties", "<KEEP>", "ctx", "<KEEP>", ",", "<KEEP>", "int", "<KEEP>", "c", "<KEEP>", "_", "<KEEP>", "order", "<KEEP>", "line", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "trx", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "where", "<KEEP>", "clause", "<KEEP>", "=", "<KEEP>", "columnname", "<KEEP>", "_", "<KEEP>", "c", "<KEEP>", "_", "<KEEP>", "order", "<KEEP>", "line", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "mrequisition", "<REPLACE_NEW>", "line", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "=", "<KEEP>", "new", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "ctx", "<KEEP>", ",", "<KEEP>", "mrequisition", "<KEEP>", "line", "<KEEP>", ".", "<KEEP>", "table", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "where", "<KEEP>", "clause", "<KEEP>", ",", "<KEEP>", "trx", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "{", "<KEEP>", "c", "<KEEP>", "_", "<KEEP>", "order", "<KEEP>", "line", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "first", "<REPLACE_OLD>", "only", "<REPLACE_NEW>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "to", "<INSERT>", "array", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "mrequisition", "<INSERT>", "line", "<INSERT>", "[", "<INSERT>", "list", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "]", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RSB4760_apq8016_external_droiddriver-2-6724", "old_comment": "a matcher that is the logical disjunction of given matchers", "old_comment_tokens": ["a", "matcher", "that", "is", "the", "logical", "disjunction", "of", "given", "matchers"], "new_comment": "a finder that is the logical disjunction of given finders", "new_comment_tokens": ["a", "finder", "that", "is", "the", "logical", "disjunction", "of", "given", "finders"], "old_code": "public static element matcher any of ( final element matcher . . . matchers ) { return new element matcher ( ) { @ override public boolean matches ( ui element element ) { for ( element matcher matcher : matchers ) { if ( matcher . matches ( element ) ) { return true ; } } return false ; } @ override public string to string ( ) { return str + joiner . on ( str ) . join ( matchers ) + str ; } } ; }", "old_code_tokens": ["public", "static", "element", "matcher", "any", "of", "(", "final", "element", "matcher", ".", ".", ".", "matchers", ")", "{", "return", "new", "element", "matcher", "(", ")", "{", "@", "override", "public", "boolean", "matches", "(", "ui", "element", "element", ")", "{", "for", "(", "element", "matcher", "matcher", ":", "matchers", ")", "{", "if", "(", "matcher", ".", "matches", "(", "element", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "str", "+", "joiner", ".", "on", "(", "str", ")", ".", "join", "(", "matchers", ")", "+", "str", ";", "}", "}", ";", "}"], "new_code": "public static match finder any of ( final match finder . . . finders ) { return new match finder ( ) { @ override public boolean matches ( ui element element ) { for ( match finder finder : finders ) { if ( finder . matches ( element ) ) { return true ; } } return false ; } @ override public string to string ( ) { return str + joiner . on ( str ) . join ( finders ) + str ; } } ; }", "new_code_tokens": ["public", "static", "match", "finder", "any", "of", "(", "final", "match", "finder", ".", ".", ".", "finders", ")", "{", "return", "new", "match", "finder", "(", ")", "{", "@", "override", "public", "boolean", "matches", "(", "ui", "element", "element", ")", "{", "for", "(", "match", "finder", "finder", ":", "finders", ")", "{", "if", "(", "finder", ".", "matches", "(", "element", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "str", "+", "joiner", ".", "on", "(", "str", ")", ".", "join", "(", "finders", ")", "+", "str", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> element matcher <REPLACE_NEW> match finder <REPLACE_END> <KEEP> any of ( final <KEEP_END> <REPLACE_OLD> element matcher <REPLACE_NEW> match finder <REPLACE_END> <KEEP> . . . <KEEP_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END> <KEEP> ) { return new <KEEP_END> <REPLACE_OLD> element matcher <REPLACE_NEW> match finder <REPLACE_END> <KEEP> ( ) { @ override public boolean matches ( ui element element ) { for ( <KEEP_END> <REPLACE_OLD> element matcher matcher <REPLACE_NEW> match finder finder <REPLACE_END> <KEEP> : <KEEP_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END> <KEEP> ) { if ( <KEEP_END> <REPLACE_OLD> matcher <REPLACE_NEW> finder <REPLACE_END> <KEEP> . matches ( element ) ) { return true ; } } return false ; } @ override public string to string ( ) { return str + joiner . on ( str ) . join ( <KEEP_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END> <KEEP> ) + str ; } } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "<REPLACE_NEW>", "match", "finder", "<REPLACE_END>", "<KEEP>", "any", "of", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "<REPLACE_NEW>", "match", "finder", "<REPLACE_END>", "<KEEP>", ".", ".", ".", "<KEEP_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "<REPLACE_NEW>", "match", "finder", "<REPLACE_END>", "<KEEP>", "(", ")", "{", "@", "override", "public", "boolean", "matches", "(", "ui", "element", "element", ")", "{", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "matcher", "<REPLACE_NEW>", "match", "finder", "finder", "<REPLACE_END>", "<KEEP>", ":", "<KEEP_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "finder", "<REPLACE_END>", "<KEEP>", ".", "matches", "(", "element", ")", ")", "{", "return", "true", ";", "}", "}", "return", "false", ";", "}", "@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "str", "+", "joiner", ".", "on", "(", "str", ")", ".", "join", "(", "<KEEP_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>", "<KEEP>", ")", "+", "str", ";", "}", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> matcher <REPLACE_NEW> finder <REPLACE_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "finder", "<REPLACE_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<KEEP>", "any", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", "ui", "<KEEP>", "element", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<REPLACE_NEW>", "finder", "<KEEP>", ":", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "finder", "<KEEP>", ".", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "joiner", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "join", "<KEEP>", "(", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ben-manes_caffeine-5-892", "old_comment": "true if the element could not be added because the buffer needs to be drained", "old_comment_tokens": ["true", "if", "the", "element", "could", "not", "be", "added", "because", "the", "buffer", "needs", "to", "be", "drained"], "new_comment": "true if the element was or could have been added to ; false if full", "new_comment_tokens": ["true", "if", "the", "element", "was", "or", "could", "have", "been", "added", "to", ";", "false", "if", "full"], "old_code": "public boolean submit ( e e ) { final int segment index = segment index ( ) ; final atomic long counter = write count [ segment index ] ; final long writes = counter . get ( ) ; final int index = ( int ) ( writes & ring _ buffer _ mask ) ; final atomic reference < object > slot = table [ segment index ] [ index ] ; final object value = slot . get ( ) ; if ( ! ( value instanceof long ) ) { return true ; } else if ( ( ( long ) value ) . long value ( ) ! = writes ) { return false ; } else if ( slot . compare and set ( value , e ) ) { counter . lazy set ( new long ( writes + num ) ) ; } return false ; }", "old_code_tokens": ["public", "boolean", "submit", "(", "e", "e", ")", "{", "final", "int", "segment", "index", "=", "segment", "index", "(", ")", ";", "final", "atomic", "long", "counter", "=", "write", "count", "[", "segment", "index", "]", ";", "final", "long", "writes", "=", "counter", ".", "get", "(", ")", ";", "final", "int", "index", "=", "(", "int", ")", "(", "writes", "&", "ring", "_", "buffer", "_", "mask", ")", ";", "final", "atomic", "reference", "<", "object", ">", "slot", "=", "table", "[", "segment", "index", "]", "[", "index", "]", ";", "final", "object", "value", "=", "slot", ".", "get", "(", ")", ";", "if", "(", "!", "(", "value", "instanceof", "long", ")", ")", "{", "return", "true", ";", "}", "else", "if", "(", "(", "(", "long", ")", "value", ")", ".", "long", "value", "(", ")", "!", "=", "writes", ")", "{", "return", "false", ";", "}", "else", "if", "(", "slot", ".", "compare", "and", "set", "(", "value", ",", "e", ")", ")", "{", "counter", ".", "lazy", "set", "(", "new", "long", "(", "writes", "+", "num", ")", ")", ";", "}", "return", "false", ";", "}"], "new_code": "public boolean submit ( e e ) { final int segment index = segment index ( ) ; final atomic long read counter = read count [ segment index ] ; final atomic long write counter = write count [ segment index ] ; long head = read counter . get ( ) ; long tail = write counter . get ( ) ; long size = ( tail - head ) ; if ( size > = ring _ buffer _ size ) { return false ; } if ( write counter . compare and set ( tail , tail + num ) ) { int index = ( int ) ( tail & ring _ buffer _ mask ) ; table [ segment index ] [ index ] . lazy set ( e ) ; } return true ; }", "new_code_tokens": ["public", "boolean", "submit", "(", "e", "e", ")", "{", "final", "int", "segment", "index", "=", "segment", "index", "(", ")", ";", "final", "atomic", "long", "read", "counter", "=", "read", "count", "[", "segment", "index", "]", ";", "final", "atomic", "long", "write", "counter", "=", "write", "count", "[", "segment", "index", "]", ";", "long", "head", "=", "read", "counter", ".", "get", "(", ")", ";", "long", "tail", "=", "write", "counter", ".", "get", "(", ")", ";", "long", "size", "=", "(", "tail", "-", "head", ")", ";", "if", "(", "size", ">", "=", "ring", "_", "buffer", "_", "size", ")", "{", "return", "false", ";", "}", "if", "(", "write", "counter", ".", "compare", "and", "set", "(", "tail", ",", "tail", "+", "num", ")", ")", "{", "int", "index", "=", "(", "int", ")", "(", "tail", "&", "ring", "_", "buffer", "_", "mask", ")", ";", "table", "[", "segment", "index", "]", "[", "index", "]", ".", "lazy", "set", "(", "e", ")", ";", "}", "return", "true", ";", "}"], "span_diff_code": "<KEEP> public boolean submit ( e e ) { final int segment index = segment index ( ) ; final atomic long <KEEP_END> <INSERT> read counter = read count [ segment index ] ; final atomic long write <INSERT_END> <KEEP> counter = write count [ segment index ] ; <KEEP_END> <DELETE> final <DELETE_END> <KEEP> long <KEEP_END> <REPLACE_OLD> writes <REPLACE_NEW> head <REPLACE_END> <KEEP> = <KEEP_END> <INSERT> read <INSERT_END> <KEEP> counter . get ( ) ; <KEEP_END> <REPLACE_OLD> final <REPLACE_NEW> long tail = write counter . get ( ) ; long size = ( tail - head ) ; if ( size > = ring _ buffer _ size ) { return false ; } if ( write counter . compare and set ( tail , tail + num ) ) { <REPLACE_END> <KEEP> int index = ( int ) ( <KEEP_END> <REPLACE_OLD> writes <REPLACE_NEW> tail <REPLACE_END> <KEEP> & ring _ buffer _ mask ) ; <KEEP_END> <DELETE> final atomic reference < object > slot = <DELETE_END> <KEEP> table [ segment index ] [ index ] <KEEP_END> <DELETE> ; final object value = slot <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> get <REPLACE_NEW> lazy set <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> e <INSERT_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> if ( ! ( value instanceof long ) ) { <REPLACE_NEW> } <REPLACE_END> <KEEP> return true ; } <KEEP_END> <DELETE> else if ( ( ( long ) value ) . long value ( ) ! = writes ) { return false ; } else if ( slot . compare and set ( value , e ) ) { counter . lazy set ( new long ( writes + num ) ) ; } return false ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "submit", "(", "e", "e", ")", "{", "final", "int", "segment", "index", "=", "segment", "index", "(", ")", ";", "final", "atomic", "long", "<KEEP_END>", "<INSERT>", "read", "counter", "=", "read", "count", "[", "segment", "index", "]", ";", "final", "atomic", "long", "write", "<INSERT_END>", "<KEEP>", "counter", "=", "write", "count", "[", "segment", "index", "]", ";", "<KEEP_END>", "<DELETE>", "final", "<DELETE_END>", "<KEEP>", "long", "<KEEP_END>", "<REPLACE_OLD>", "writes", "<REPLACE_NEW>", "head", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<INSERT>", "read", "<INSERT_END>", "<KEEP>", "counter", ".", "get", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "long", "tail", "=", "write", "counter", ".", "get", "(", ")", ";", "long", "size", "=", "(", "tail", "-", "head", ")", ";", "if", "(", "size", ">", "=", "ring", "_", "buffer", "_", "size", ")", "{", "return", "false", ";", "}", "if", "(", "write", "counter", ".", "compare", "and", "set", "(", "tail", ",", "tail", "+", "num", ")", ")", "{", "<REPLACE_END>", "<KEEP>", "int", "index", "=", "(", "int", ")", "(", "<KEEP_END>", "<REPLACE_OLD>", "writes", "<REPLACE_NEW>", "tail", "<REPLACE_END>", "<KEEP>", "&", "ring", "_", "buffer", "_", "mask", ")", ";", "<KEEP_END>", "<DELETE>", "final", "atomic", "reference", "<", "object", ">", "slot", "=", "<DELETE_END>", "<KEEP>", "table", "[", "segment", "index", "]", "[", "index", "]", "<KEEP_END>", "<DELETE>", ";", "final", "object", "value", "=", "slot", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "lazy", "set", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "e", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "!", "(", "value", "instanceof", "long", ")", ")", "{", "<REPLACE_NEW>", "}", "<REPLACE_END>", "<KEEP>", "return", "true", ";", "}", "<KEEP_END>", "<DELETE>", "else", "if", "(", "(", "(", "long", ")", "value", ")", ".", "long", "value", "(", ")", "!", "=", "writes", ")", "{", "return", "false", ";", "}", "else", "if", "(", "slot", ".", "compare", "and", "set", "(", "value", ",", "e", ")", ")", "{", "counter", ".", "lazy", "set", "(", "new", "long", "(", "writes", "+", "num", ")", ")", ";", "}", "return", "false", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> element <INSERT_NEW_KEEP_BEFORE> element was or <INSERT_END> <REPLACE_OLD> not be <REPLACE_NEW> have been <REPLACE_END> <DELETE> because the buffer needs <DELETE_END> <REPLACE_OLD> be drained <REPLACE_NEW> ; false if full <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "element", "<INSERT_NEW_KEEP_BEFORE>", "element", "was", "or", "<INSERT_END>", "<REPLACE_OLD>", "not", "be", "<REPLACE_NEW>", "have", "been", "<REPLACE_END>", "<DELETE>", "because", "the", "buffer", "needs", "<DELETE_END>", "<REPLACE_OLD>", "be", "drained", "<REPLACE_NEW>", ";", "false", "if", "full", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "submit", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "segment", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "segment", "<KEEP>", "index", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "final", "<KEEP>", "atomic", "<KEEP>", "long", "<INSERT>", "read", "<INSERT>", "counter", "<INSERT>", "=", "<INSERT>", "read", "<INSERT>", "count", "<INSERT>", "[", "<INSERT>", "segment", "<INSERT>", "index", "<INSERT>", "]", "<INSERT>", ";", "<INSERT>", "final", "<INSERT>", "atomic", "<INSERT>", "long", "<INSERT>", "write", "<KEEP>", "counter", "<KEEP>", "=", "<KEEP>", "write", "<KEEP>", "count", "<KEEP>", "[", "<KEEP>", "segment", "<KEEP>", "index", "<KEEP>", "]", "<KEEP>", ";", "<DELETE>", "final", "<KEEP>", "long", "<REPLACE_OLD>", "writes", "<REPLACE_NEW>", "head", "<KEEP>", "=", "<INSERT>", "read", "<KEEP>", "counter", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "final", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "tail", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "write", "<REPLACE_NEW>", "counter", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tail", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "head", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "ring", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "buffer", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "write", "<REPLACE_NEW>", "counter", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "compare", "<REPLACE_NEW>", "and", "<REPLACE_NEW>", "set", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "tail", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "tail", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<KEEP>", "int", "<KEEP>", "index", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", ")", "<KEEP>", "(", "<REPLACE_OLD>", "writes", "<REPLACE_NEW>", "tail", "<KEEP>", "&", "<KEEP>", "ring", "<KEEP>", "_", "<KEEP>", "buffer", "<KEEP>", "_", "<KEEP>", "mask", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "final", "<DELETE>", "atomic", "<DELETE>", "reference", "<DELETE>", "<", "<DELETE>", "object", "<DELETE>", ">", "<DELETE>", "slot", "<DELETE>", "=", "<KEEP>", "table", "<KEEP>", "[", "<KEEP>", "segment", "<KEEP>", "index", "<KEEP>", "]", "<KEEP>", "[", "<KEEP>", "index", "<KEEP>", "]", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "object", "<DELETE>", "value", "<DELETE>", "=", "<DELETE>", "slot", "<KEEP>", ".", "<REPLACE_OLD>", "get", "<REPLACE_NEW>", "lazy", "<REPLACE_NEW>", "set", "<KEEP>", "(", "<INSERT>", "e", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "instanceof", "<REPLACE_OLD>", "long", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "}", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "long", "<DELETE>", ")", "<DELETE>", "value", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "long", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "writes", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "slot", "<DELETE>", ".", "<DELETE>", "compare", "<DELETE>", "and", "<DELETE>", "set", "<DELETE>", "(", "<DELETE>", "value", "<DELETE>", ",", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "counter", "<DELETE>", ".", "<DELETE>", "lazy", "<DELETE>", "set", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "long", "<DELETE>", "(", "<DELETE>", "writes", "<DELETE>", "+", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "morristech_gwt-5-3950", "old_comment": "a stream for reading the resource , or null if not found .", "old_comment_tokens": ["a", "stream", "for", "reading", "the", "resource", ",", "or", "null", "if", "not", "found", "."], "new_comment": "bytes in the file , or null if there ' s no such source file .", "new_comment_tokens": ["bytes", "in", "the", "file", ",", "or", "null", "if", "there", "'", "s", "no", "such", "source", "file", "."], "old_code": "input stream open source file ( string resource name ) throws ioexception { url resource = recompiler . get resource loader ( ) . get resource ( resource name ) ; return resource = = null ? null : resource . open stream ( ) ; }", "old_code_tokens": ["input", "stream", "open", "source", "file", "(", "string", "resource", "name", ")", "throws", "ioexception", "{", "url", "resource", "=", "recompiler", ".", "get", "resource", "loader", "(", ")", ".", "get", "resource", "(", "resource", "name", ")", ";", "return", "resource", "=", "=", "null", "?", "null", ":", "resource", ".", "open", "stream", "(", ")", ";", "}"], "new_code": "input stream open source file ( string path ) throws ioexception { if ( path . starts with ( str ) ) { string rest = path . substring ( str . length ( ) ) ; file file in gen dir = new file ( get gen dir ( ) , rest ) ; if ( ! file in gen dir . is file ( ) ) { return null ; } return new buffered input stream ( new file input stream ( file in gen dir ) ) ; } else { url resource = recompiler . get resource loader ( ) . get resource ( path ) ; if ( resource = = null ) { return null ; } return resource . open stream ( ) ; } }", "new_code_tokens": ["input", "stream", "open", "source", "file", "(", "string", "path", ")", "throws", "ioexception", "{", "if", "(", "path", ".", "starts", "with", "(", "str", ")", ")", "{", "string", "rest", "=", "path", ".", "substring", "(", "str", ".", "length", "(", ")", ")", ";", "file", "file", "in", "gen", "dir", "=", "new", "file", "(", "get", "gen", "dir", "(", ")", ",", "rest", ")", ";", "if", "(", "!", "file", "in", "gen", "dir", ".", "is", "file", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "buffered", "input", "stream", "(", "new", "file", "input", "stream", "(", "file", "in", "gen", "dir", ")", ")", ";", "}", "else", "{", "url", "resource", "=", "recompiler", ".", "get", "resource", "loader", "(", ")", ".", "get", "resource", "(", "path", ")", ";", "if", "(", "resource", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "resource", ".", "open", "stream", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> input stream open source file ( string <KEEP_END> <REPLACE_OLD> resource name <REPLACE_NEW> path <REPLACE_END> <KEEP> ) throws ioexception <KEEP_END> <INSERT> { if ( path . starts with ( str ) ) { string rest = path . substring ( str . length ( ) ) ; file file in gen dir = new file ( get gen dir ( ) , rest ) ; if ( ! file in gen dir . is file ( ) ) { return null ; } return new buffered input stream ( new file input stream ( file in gen dir ) ) ; } else <INSERT_END> <KEEP> { url resource = recompiler . get resource loader ( ) . get resource ( <KEEP_END> <REPLACE_OLD> resource name <REPLACE_NEW> path <REPLACE_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> if ( <REPLACE_END> <KEEP> resource = = null <KEEP_END> <REPLACE_OLD> ? <REPLACE_NEW> ) { return <REPLACE_END> <KEEP> null <KEEP_END> <REPLACE_OLD> : <REPLACE_NEW> ; } return <REPLACE_END> <KEEP> resource . open stream ( ) ; } <KEEP_END> <INSERT> } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "input", "stream", "open", "source", "file", "(", "string", "<KEEP_END>", "<REPLACE_OLD>", "resource", "name", "<REPLACE_NEW>", "path", "<REPLACE_END>", "<KEEP>", ")", "throws", "ioexception", "<KEEP_END>", "<INSERT>", "{", "if", "(", "path", ".", "starts", "with", "(", "str", ")", ")", "{", "string", "rest", "=", "path", ".", "substring", "(", "str", ".", "length", "(", ")", ")", ";", "file", "file", "in", "gen", "dir", "=", "new", "file", "(", "get", "gen", "dir", "(", ")", ",", "rest", ")", ";", "if", "(", "!", "file", "in", "gen", "dir", ".", "is", "file", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "buffered", "input", "stream", "(", "new", "file", "input", "stream", "(", "file", "in", "gen", "dir", ")", ")", ";", "}", "else", "<INSERT_END>", "<KEEP>", "{", "url", "resource", "=", "recompiler", ".", "get", "resource", "loader", "(", ")", ".", "get", "resource", "(", "<KEEP_END>", "<REPLACE_OLD>", "resource", "name", "<REPLACE_NEW>", "path", "<REPLACE_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "(", "<REPLACE_END>", "<KEEP>", "resource", "=", "=", "null", "<KEEP_END>", "<REPLACE_OLD>", "?", "<REPLACE_NEW>", ")", "{", "return", "<REPLACE_END>", "<KEEP>", "null", "<KEEP_END>", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", ";", "}", "return", "<REPLACE_END>", "<KEEP>", "resource", ".", "open", "stream", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a stream for reading <REPLACE_NEW> bytes in <REPLACE_END> <REPLACE_OLD> resource <REPLACE_NEW> file <REPLACE_END> <REPLACE_OLD> not found <REPLACE_NEW> there ' s no such source file <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "stream", "for", "reading", "<REPLACE_NEW>", "bytes", "in", "<REPLACE_END>", "<REPLACE_OLD>", "resource", "<REPLACE_NEW>", "file", "<REPLACE_END>", "<REPLACE_OLD>", "not", "found", "<REPLACE_NEW>", "there", "'", "s", "no", "such", "source", "file", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "open", "<KEEP>", "source", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", "string", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "path", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "path", "<INSERT>", ".", "<INSERT>", "starts", "<INSERT>", "with", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "string", "<INSERT>", "rest", "<INSERT>", "=", "<INSERT>", "path", "<INSERT>", ".", "<INSERT>", "substring", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ".", "<INSERT>", "length", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "file", "<INSERT>", "file", "<INSERT>", "in", "<INSERT>", "gen", "<INSERT>", "dir", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "file", "<INSERT>", "(", "<INSERT>", "get", "<INSERT>", "gen", "<INSERT>", "dir", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "rest", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "file", "<INSERT>", "in", "<INSERT>", "gen", "<INSERT>", "dir", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "file", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "buffered", "<INSERT>", "input", "<INSERT>", "stream", "<INSERT>", "(", "<INSERT>", "new", "<INSERT>", "file", "<INSERT>", "input", "<INSERT>", "stream", "<INSERT>", "(", "<INSERT>", "file", "<INSERT>", "in", "<INSERT>", "gen", "<INSERT>", "dir", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<KEEP>", "{", "<KEEP>", "url", "<KEEP>", "resource", "<KEEP>", "=", "<KEEP>", "recompiler", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "loader", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "resource", "<KEEP>", "(", "<REPLACE_OLD>", "resource", "<REPLACE_OLD>", "name", "<REPLACE_NEW>", "path", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<KEEP>", "resource", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<REPLACE_OLD>", "?", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<KEEP>", "null", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<KEEP>", "resource", "<KEEP>", ".", "<KEEP>", "open", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-14-4535", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public short get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "short", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public short get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "short", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public short get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "short", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "short", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Atmosphere_atmosphere-6-1473", "old_comment": "the list of init params defined in web . xml or application . xml", "old_comment_tokens": ["the", "list", "of", "init", "params", "defined", "in", "web", ".", "xml", "or", "application", ".", "xml"], "new_comment": "the value for the init parameter if defined", "new_comment_tokens": ["the", "value", "for", "the", "init", "parameter", "if", "defined"], "old_code": "public string get init parameter ( string name ) { try { return framework . get servlet config ( ) . get init parameter ( name ) ; } catch ( throwable ex ) { return null ; } }", "old_code_tokens": ["public", "string", "get", "init", "parameter", "(", "string", "name", ")", "{", "try", "{", "return", "framework", ".", "get", "servlet", "config", "(", ")", ".", "get", "init", "parameter", "(", "name", ")", ";", "}", "catch", "(", "throwable", "ex", ")", "{", "return", "null", ";", "}", "}"], "new_code": "public string get init parameter ( string name ) { try { string value = framework . get servlet config ( ) . get init parameter ( name ) ; if ( value = = null ) { value = framework . get servlet context ( ) . get init parameter ( name ) ; } return value ; } catch ( throwable ex ) { return null ; } }", "new_code_tokens": ["public", "string", "get", "init", "parameter", "(", "string", "name", ")", "{", "try", "{", "string", "value", "=", "framework", ".", "get", "servlet", "config", "(", ")", ".", "get", "init", "parameter", "(", "name", ")", ";", "if", "(", "value", "=", "=", "null", ")", "{", "value", "=", "framework", ".", "get", "servlet", "context", "(", ")", ".", "get", "init", "parameter", "(", "name", ")", ";", "}", "return", "value", ";", "}", "catch", "(", "throwable", "ex", ")", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> public string get init parameter ( string name ) { try { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> string value = <REPLACE_END> <KEEP> framework . get servlet config ( ) . get init parameter ( name ) ; <KEEP_END> <INSERT> if ( value = = null ) { value = framework . get servlet context ( ) . get init parameter ( name ) ; } return value ; <INSERT_END> <KEEP> } catch ( throwable ex ) { return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "init", "parameter", "(", "string", "name", ")", "{", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "value", "=", "<REPLACE_END>", "<KEEP>", "framework", ".", "get", "servlet", "config", "(", ")", ".", "get", "init", "parameter", "(", "name", ")", ";", "<KEEP_END>", "<INSERT>", "if", "(", "value", "=", "=", "null", ")", "{", "value", "=", "framework", ".", "get", "servlet", "context", "(", ")", ".", "get", "init", "parameter", "(", "name", ")", ";", "}", "return", "value", ";", "<INSERT_END>", "<KEEP>", "}", "catch", "(", "throwable", "ex", ")", "{", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list of <REPLACE_NEW> value for the <REPLACE_END> <REPLACE_OLD> params <REPLACE_NEW> parameter if <REPLACE_END> <DELETE> in web . xml or application . xml <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "of", "<REPLACE_NEW>", "value", "for", "the", "<REPLACE_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "parameter", "if", "<REPLACE_END>", "<DELETE>", "in", "web", ".", "xml", "or", "application", ".", "xml", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "init", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<KEEP>", "framework", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "servlet", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "init", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "value", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "value", "<INSERT>", "=", "<INSERT>", "framework", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "servlet", "<INSERT>", "context", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "init", "<INSERT>", "parameter", "<INSERT>", "(", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "return", "<INSERT>", "value", "<INSERT>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-152-4103", "old_comment": "the new method or an existing method with that signature .", "old_comment_tokens": ["the", "new", "method", "or", "an", "existing", "method", "with", "that", "signature", "."], "new_comment": "the new method or an existing method with that member id .", "new_comment_tokens": ["the", "new", "method", "or", "an", "existing", "method", "with", "that", "member", "id", "."], "old_code": "public method info create method ( signature signature , string [ ] arg names ) { return create method ( signature , arg names , null ) ; }", "old_code_tokens": ["public", "method", "info", "create", "method", "(", "signature", "signature", ",", "string", "[", "]", "arg", "names", ")", "{", "return", "create", "method", "(", "signature", ",", "arg", "names", ",", "null", ")", ";", "}"], "new_code": "public method info create method ( member id member id , string [ ] arg names ) { return create method ( member id , arg names , null ) ; }", "new_code_tokens": ["public", "method", "info", "create", "method", "(", "member", "id", "member", "id", ",", "string", "[", "]", "arg", "names", ")", "{", "return", "create", "method", "(", "member", "id", ",", "arg", "names", ",", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public method info create method ( <KEEP_END> <REPLACE_OLD> signature signature <REPLACE_NEW> member id member id <REPLACE_END> <KEEP> , string [ ] arg names ) { return create method ( <KEEP_END> <REPLACE_OLD> signature <REPLACE_NEW> member id <REPLACE_END> <KEEP> , arg names , null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "method", "info", "create", "method", "(", "<KEEP_END>", "<REPLACE_OLD>", "signature", "signature", "<REPLACE_NEW>", "member", "id", "member", "id", "<REPLACE_END>", "<KEEP>", ",", "string", "[", "]", "arg", "names", ")", "{", "return", "create", "method", "(", "<KEEP_END>", "<REPLACE_OLD>", "signature", "<REPLACE_NEW>", "member", "id", "<REPLACE_END>", "<KEEP>", ",", "arg", "names", ",", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> signature <REPLACE_NEW> member id <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "signature", "<REPLACE_NEW>", "member", "id", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "method", "<KEEP>", "info", "<KEEP>", "create", "<KEEP>", "method", "<KEEP>", "(", "<REPLACE_OLD>", "signature", "<REPLACE_OLD>", "signature", "<REPLACE_NEW>", "member", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "member", "<REPLACE_NEW>", "id", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "arg", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "method", "<KEEP>", "(", "<REPLACE_OLD>", "signature", "<REPLACE_NEW>", "member", "<REPLACE_NEW>", "id", "<KEEP>", ",", "<KEEP>", "arg", "<KEEP>", "names", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.resources-132-3813", "old_comment": "the project configurations of an empty array if none exist .", "old_comment_tokens": ["the", "project", "configurations", "of", "an", "empty", "array", "if", "none", "exist", "."], "new_comment": "the project configurations", "new_comment_tokens": ["the", "project", "configurations"], "old_code": "public ibuild configuration [ ] get build configurations ( boolean make copy ) { if ( build configs . length = = num ) return empty _ build _ configs ; return make copy ? ( ibuild configuration [ ] ) build configs . clone ( ) : build configs ; }", "old_code_tokens": ["public", "ibuild", "configuration", "[", "]", "get", "build", "configurations", "(", "boolean", "make", "copy", ")", "{", "if", "(", "build", "configs", ".", "length", "=", "=", "num", ")", "return", "empty", "_", "build", "_", "configs", ";", "return", "make", "copy", "?", "(", "ibuild", "configuration", "[", "]", ")", "build", "configs", ".", "clone", "(", ")", ":", "build", "configs", ";", "}"], "new_code": "public ibuild configuration [ ] get build configurations ( iproject project , boolean make copy ) { ibuild configuration [ ] configs = cached build configs ; if ( configs ! = null & & ! project . equals ( configs [ num ] . get project ( ) ) ) configs = null ; if ( configs = = null ) { if ( config names . length = = num ) configs = new ibuild configuration [ ] { new build configuration ( project ) } ; else { configs = new ibuild configuration [ config names . length ] ; for ( int i = num ; i < configs . length ; i + + ) configs [ i ] = new build configuration ( project , config names [ i ] ) ; } cached build configs = configs ; } return make copy ? ( ibuild configuration [ ] ) configs . clone ( ) : configs ; }", "new_code_tokens": ["public", "ibuild", "configuration", "[", "]", "get", "build", "configurations", "(", "iproject", "project", ",", "boolean", "make", "copy", ")", "{", "ibuild", "configuration", "[", "]", "configs", "=", "cached", "build", "configs", ";", "if", "(", "configs", "!", "=", "null", "&", "&", "!", "project", ".", "equals", "(", "configs", "[", "num", "]", ".", "get", "project", "(", ")", ")", ")", "configs", "=", "null", ";", "if", "(", "configs", "=", "=", "null", ")", "{", "if", "(", "config", "names", ".", "length", "=", "=", "num", ")", "configs", "=", "new", "ibuild", "configuration", "[", "]", "{", "new", "build", "configuration", "(", "project", ")", "}", ";", "else", "{", "configs", "=", "new", "ibuild", "configuration", "[", "config", "names", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "configs", ".", "length", ";", "i", "+", "+", ")", "configs", "[", "i", "]", "=", "new", "build", "configuration", "(", "project", ",", "config", "names", "[", "i", "]", ")", ";", "}", "cached", "build", "configs", "=", "configs", ";", "}", "return", "make", "copy", "?", "(", "ibuild", "configuration", "[", "]", ")", "configs", ".", "clone", "(", ")", ":", "configs", ";", "}"], "span_diff_code": "<KEEP> public ibuild configuration [ ] get build configurations ( <KEEP_END> <INSERT> iproject project , <INSERT_END> <KEEP> boolean make copy ) { <KEEP_END> <INSERT> ibuild configuration [ ] configs = cached build configs ; <INSERT_END> <KEEP> if ( <KEEP_END> <DELETE> build <DELETE_END> <KEEP> configs <KEEP_END> <INSERT> ! = null & & ! project . equals ( configs [ num ] . get project ( ) ) ) configs = null ; if ( configs = = null ) { if ( config names <INSERT_END> <KEEP> . length = = num ) <KEEP_END> <REPLACE_OLD> return empty _ <REPLACE_NEW> configs = new ibuild configuration [ ] { new <REPLACE_END> <KEEP> build <KEEP_END> <REPLACE_OLD> _ <REPLACE_NEW> configuration ( project ) } ; else { configs = new ibuild configuration [ config names . length ] ; for ( int i = num ; i < configs . length ; i + + ) configs [ i ] = new build configuration ( project , config names [ i ] ) ; } cached build configs = <REPLACE_END> <KEEP> configs ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return make copy ? ( ibuild configuration [ ] ) <KEEP_END> <DELETE> build <DELETE_END> <KEEP> configs . clone ( ) : <KEEP_END> <DELETE> build <DELETE_END> <KEEP> configs ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "ibuild", "configuration", "[", "]", "get", "build", "configurations", "(", "<KEEP_END>", "<INSERT>", "iproject", "project", ",", "<INSERT_END>", "<KEEP>", "boolean", "make", "copy", ")", "{", "<KEEP_END>", "<INSERT>", "ibuild", "configuration", "[", "]", "configs", "=", "cached", "build", "configs", ";", "<INSERT_END>", "<KEEP>", "if", "(", "<KEEP_END>", "<DELETE>", "build", "<DELETE_END>", "<KEEP>", "configs", "<KEEP_END>", "<INSERT>", "!", "=", "null", "&", "&", "!", "project", ".", "equals", "(", "configs", "[", "num", "]", ".", "get", "project", "(", ")", ")", ")", "configs", "=", "null", ";", "if", "(", "configs", "=", "=", "null", ")", "{", "if", "(", "config", "names", "<INSERT_END>", "<KEEP>", ".", "length", "=", "=", "num", ")", "<KEEP_END>", "<REPLACE_OLD>", "return", "empty", "_", "<REPLACE_NEW>", "configs", "=", "new", "ibuild", "configuration", "[", "]", "{", "new", "<REPLACE_END>", "<KEEP>", "build", "<KEEP_END>", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "configuration", "(", "project", ")", "}", ";", "else", "{", "configs", "=", "new", "ibuild", "configuration", "[", "config", "names", ".", "length", "]", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "configs", ".", "length", ";", "i", "+", "+", ")", "configs", "[", "i", "]", "=", "new", "build", "configuration", "(", "project", ",", "config", "names", "[", "i", "]", ")", ";", "}", "cached", "build", "configs", "=", "<REPLACE_END>", "<KEEP>", "configs", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "make", "copy", "?", "(", "ibuild", "configuration", "[", "]", ")", "<KEEP_END>", "<DELETE>", "build", "<DELETE_END>", "<KEEP>", "configs", ".", "clone", "(", ")", ":", "<KEEP_END>", "<DELETE>", "build", "<DELETE_END>", "<KEEP>", "configs", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> of an empty array if none exist . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "of", "an", "empty", "array", "if", "none", "exist", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "ibuild", "<KEEP>", "configuration", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "build", "<KEEP>", "configurations", "<KEEP>", "(", "<INSERT>", "iproject", "<INSERT>", "project", "<INSERT>", ",", "<KEEP>", "boolean", "<KEEP>", "make", "<KEEP>", "copy", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "ibuild", "<INSERT>", "configuration", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "configs", "<INSERT>", "=", "<INSERT>", "cached", "<INSERT>", "build", "<INSERT>", "configs", "<INSERT>", ";", "<KEEP>", "if", "<KEEP>", "(", "<DELETE>", "build", "<KEEP>", "configs", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", "&", "<INSERT>", "&", "<INSERT>", "!", "<INSERT>", "project", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "configs", "<INSERT>", "[", "<INSERT>", "num", "<INSERT>", "]", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "project", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "configs", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "configs", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "config", "<INSERT>", "names", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "empty", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "ibuild", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "new", "<KEEP>", "build", "<REPLACE_OLD>", "_", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "ibuild", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "names", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "length", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "configuration", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "project", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "config", "<REPLACE_NEW>", "names", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "i", "<REPLACE_NEW>", "]", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "cached", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "configs", "<REPLACE_NEW>", "=", "<KEEP>", "configs", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "make", "<KEEP>", "copy", "<KEEP>", "?", "<KEEP>", "(", "<KEEP>", "ibuild", "<KEEP>", "configuration", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<DELETE>", "build", "<KEEP>", "configs", "<KEEP>", ".", "<KEEP>", "clone", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<DELETE>", "build", "<KEEP>", "configs", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wso2-extensions_identity-agent-onprem-userstore-5-4662", "old_comment": "connected node", "old_comment_tokens": ["connected", "node"], "new_comment": "connected server hostname / ip", "new_comment_tokens": ["connected", "server", "hostname", "/", "ip"], "old_code": "public string get connected server ( access token access token ) { agent mgt dao agent mgt dao = new agent mgt dao ( ) ; return agent mgt dao . get connected server ( access token . get id ( ) ) ; }", "old_code_tokens": ["public", "string", "get", "connected", "server", "(", "access", "token", "access", "token", ")", "{", "agent", "mgt", "dao", "agent", "mgt", "dao", "=", "new", "agent", "mgt", "dao", "(", ")", ";", "return", "agent", "mgt", "dao", ".", "get", "connected", "server", "(", "access", "token", ".", "get", "id", "(", ")", ")", ";", "}"], "new_code": "public string get connected server ( access token access token , string node ) { agent mgt dao agent mgt dao = new agent mgt dao ( ) ; return agent mgt dao . get connected server ( access token . get id ( ) , node ) ; }", "new_code_tokens": ["public", "string", "get", "connected", "server", "(", "access", "token", "access", "token", ",", "string", "node", ")", "{", "agent", "mgt", "dao", "agent", "mgt", "dao", "=", "new", "agent", "mgt", "dao", "(", ")", ";", "return", "agent", "mgt", "dao", ".", "get", "connected", "server", "(", "access", "token", ".", "get", "id", "(", ")", ",", "node", ")", ";", "}"], "span_diff_code": "<KEEP> public string get connected server ( access token access token <KEEP_END> <INSERT> , string node <INSERT_END> <KEEP> ) { agent mgt dao agent mgt dao = new agent mgt dao ( ) ; return agent mgt dao . get connected server ( access token . get id ( ) <KEEP_END> <INSERT> , node <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "connected", "server", "(", "access", "token", "access", "token", "<KEEP_END>", "<INSERT>", ",", "string", "node", "<INSERT_END>", "<KEEP>", ")", "{", "agent", "mgt", "dao", "agent", "mgt", "dao", "=", "new", "agent", "mgt", "dao", "(", ")", ";", "return", "agent", "mgt", "dao", ".", "get", "connected", "server", "(", "access", "token", ".", "get", "id", "(", ")", "<KEEP_END>", "<INSERT>", ",", "node", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> node <REPLACE_NEW> server hostname / ip <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "node", "<REPLACE_NEW>", "server", "hostname", "/", "ip", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "server", "<KEEP>", "(", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "access", "<KEEP>", "token", "<INSERT>", ",", "<INSERT>", "string", "<INSERT>", "node", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "agent", "<KEEP>", "mgt", "<KEEP>", "dao", "<KEEP>", "agent", "<KEEP>", "mgt", "<KEEP>", "dao", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "agent", "<KEEP>", "mgt", "<KEEP>", "dao", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "agent", "<KEEP>", "mgt", "<KEEP>", "dao", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "connected", "<KEEP>", "server", "<KEEP>", "(", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ",", "<INSERT>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_oodt-21-6957", "old_comment": "an xml - rpc hashtable representation of the workflow condition to send over the wire .", "old_comment_tokens": ["an", "xml", "-", "rpc", "hashtable", "representation", "of", "the", "workflow", "condition", "to", "send", "over", "the", "wire", "."], "new_comment": "an xml - rpc hash map representation of the workflow condition to send over the wire .", "new_comment_tokens": ["an", "xml", "-", "rpc", "hash", "map", "representation", "of", "the", "workflow", "condition", "to", "send", "over", "the", "wire", "."], "old_code": "public static hashtable get xml rpc workflow condition ( workflow condition c ) { hashtable condition = new hashtable ( ) ; condition . put ( str , c . get condition instance class name ( ) ) ; condition . put ( str , c . get condition id ( ) ) ; condition . put ( str , c . get condition name ( ) ) ; condition . put ( str , string . value of ( c . get order ( ) ) ) ; condition . put ( str , string . value of ( c . get timeout seconds ( ) ) ) ; condition . put ( str , string . value of ( c . is optional ( ) ) ) ; condition . put ( str , get xml rpc workflow condition config ( c . get cond config ( ) ) ) ; return condition ; }", "old_code_tokens": ["public", "static", "hashtable", "get", "xml", "rpc", "workflow", "condition", "(", "workflow", "condition", "c", ")", "{", "hashtable", "condition", "=", "new", "hashtable", "(", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "instance", "class", "name", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "id", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "name", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "get", "order", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "get", "timeout", "seconds", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "is", "optional", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "condition", "config", "(", "c", ".", "get", "cond", "config", "(", ")", ")", ")", ";", "return", "condition", ";", "}"], "new_code": "public static hash map get xml rpc workflow condition ( workflow condition c ) { hash map condition = new hash map ( ) ; condition . put ( str , c . get condition instance class name ( ) ) ; condition . put ( str , c . get condition id ( ) ) ; condition . put ( str , c . get condition name ( ) ) ; condition . put ( str , string . value of ( c . get order ( ) ) ) ; condition . put ( str , string . value of ( c . get timeout seconds ( ) ) ) ; condition . put ( str , string . value of ( c . is optional ( ) ) ) ; condition . put ( str , get xml rpc workflow condition config ( c . get cond config ( ) ) ) ; return condition ; }", "new_code_tokens": ["public", "static", "hash", "map", "get", "xml", "rpc", "workflow", "condition", "(", "workflow", "condition", "c", ")", "{", "hash", "map", "condition", "=", "new", "hash", "map", "(", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "instance", "class", "name", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "id", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "name", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "get", "order", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "get", "timeout", "seconds", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "is", "optional", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "condition", "config", "(", "c", ".", "get", "cond", "config", "(", ")", ")", ")", ";", "return", "condition", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> get xml rpc workflow condition ( workflow condition c ) { <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> condition = new <KEEP_END> <REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END> <KEEP> ( ) ; condition . put ( str , c . get condition instance class name ( ) ) ; condition . put ( str , c . get condition id ( ) ) ; condition . put ( str , c . get condition name ( ) ) ; condition . put ( str , string . value of ( c . get order ( ) ) ) ; condition . put ( str , string . value of ( c . get timeout seconds ( ) ) ) ; condition . put ( str , string . value of ( c . is optional ( ) ) ) ; condition . put ( str , get xml rpc workflow condition config ( c . get cond config ( ) ) ) ; return condition ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "get", "xml", "rpc", "workflow", "condition", "(", "workflow", "condition", "c", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "condition", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "instance", "class", "name", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "id", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "c", ".", "get", "condition", "name", "(", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "get", "order", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "get", "timeout", "seconds", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "string", ".", "value", "of", "(", "c", ".", "is", "optional", "(", ")", ")", ")", ";", "condition", ".", "put", "(", "str", ",", "get", "xml", "rpc", "workflow", "condition", "config", "(", "c", ".", "get", "cond", "config", "(", ")", ")", ")", ";", "return", "condition", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hashtable <REPLACE_NEW> hash map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "condition", "<KEEP>", "(", "<KEEP>", "workflow", "<KEEP>", "condition", "<KEEP>", "c", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "condition", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hashtable", "<REPLACE_NEW>", "hash", "<REPLACE_NEW>", "map", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "condition", "<KEEP>", "instance", "<KEEP>", "class", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "condition", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "condition", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "order", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "timeout", "<KEEP>", "seconds", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "optional", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "condition", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "rpc", "<KEEP>", "workflow", "<KEEP>", "condition", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", "c", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "cond", "<KEEP>", "config", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "condition", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "hernad_ooeclipse-0-7306", "old_comment": "ipath to the idl base folder", "old_comment_tokens": ["ipath", "to", "the", "idl", "base", "folder"], "new_comment": "ipath to the idl base folder , or null if the company prefix is not set", "new_comment_tokens": ["ipath", "to", "the", "idl", "base", "folder", ",", "or", "null", "if", "the", "company", "prefix", "is", "not", "set"], "old_code": "public ipath get unoidl location ( ) { return project . get folder ( company prefix . replace ( str , str ) ) . get project relative path ( ) ; }", "old_code_tokens": ["public", "ipath", "get", "unoidl", "location", "(", ")", "{", "return", "project", ".", "get", "folder", "(", "company", "prefix", ".", "replace", "(", "str", ",", "str", ")", ")", ".", "get", "project", "relative", "path", "(", ")", ";", "}"], "new_code": "public ipath get unoidl location ( ) { ipath result = null ; if ( null ! = company prefix ) { result = project . get folder ( company prefix . replace ( str , str ) ) . get project relative path ( ) ; } return result ; }", "new_code_tokens": ["public", "ipath", "get", "unoidl", "location", "(", ")", "{", "ipath", "result", "=", "null", ";", "if", "(", "null", "!", "=", "company", "prefix", ")", "{", "result", "=", "project", ".", "get", "folder", "(", "company", "prefix", ".", "replace", "(", "str", ",", "str", ")", ")", ".", "get", "project", "relative", "path", "(", ")", ";", "}", "return", "result", ";", "}"], "span_diff_code": "<KEEP> public ipath get unoidl location ( ) { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> ipath result = null ; if ( null ! = company prefix ) { result = <REPLACE_END> <KEEP> project . get folder ( company prefix . replace ( str , str ) ) . get project relative path ( ) ; } <KEEP_END> <INSERT> return result ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "public", "ipath", "get", "unoidl", "location", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "ipath", "result", "=", "null", ";", "if", "(", "null", "!", "=", "company", "prefix", ")", "{", "result", "=", "<REPLACE_END>", "<KEEP>", "project", ".", "get", "folder", "(", "company", "prefix", ".", "replace", "(", "str", ",", "str", ")", ")", ".", "get", "project", "relative", "path", "(", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "result", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> folder <INSERT_NEW_KEEP_BEFORE> folder , or null if the company prefix is not set <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "folder", "<INSERT_NEW_KEEP_BEFORE>", "folder", ",", "or", "null", "if", "the", "company", "prefix", "is", "not", "set", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "ipath", "<KEEP>", "get", "<KEEP>", "unoidl", "<KEEP>", "location", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "ipath", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", "!", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "company", "<REPLACE_NEW>", "prefix", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "result", "<REPLACE_NEW>", "=", "<KEEP>", "project", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "folder", "<KEEP>", "(", "<KEEP>", "company", "<KEEP>", "prefix", "<KEEP>", ".", "<KEEP>", "replace", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "relative", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "result", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "heuermh_ensembl-rest-client-4-5257", "old_comment": "a new lookup service with the default server url", "old_comment_tokens": ["a", "new", "lookup", "service", "with", "the", "default", "server", "url"], "new_comment": "a new lookup service with the default endpoint url", "new_comment_tokens": ["a", "new", "lookup", "service", "with", "the", "default", "endpoint", "url"], "old_code": "public lookup service create lookup service ( ) { return create lookup service ( default server url ) ; }", "old_code_tokens": ["public", "lookup", "service", "create", "lookup", "service", "(", ")", "{", "return", "create", "lookup", "service", "(", "default", "server", "url", ")", ";", "}"], "new_code": "public lookup service create lookup service ( ) { return create lookup service ( default endpoint url ) ; }", "new_code_tokens": ["public", "lookup", "service", "create", "lookup", "service", "(", ")", "{", "return", "create", "lookup", "service", "(", "default", "endpoint", "url", ")", ";", "}"], "span_diff_code": "<KEEP> public lookup service create lookup service ( ) { return create lookup service ( default <KEEP_END> <REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END> <KEEP> url ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "lookup", "service", "create", "lookup", "service", "(", ")", "{", "return", "create", "lookup", "service", "(", "default", "<KEEP_END>", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>", "<KEEP>", "url", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "lookup", "<KEEP>", "service", "<KEEP>", "create", "<KEEP>", "lookup", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "lookup", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "default", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RSB4760_apq8016_external_droiddriver-1-6723", "old_comment": "a matcher that is the logical conjunction of given matchers", "old_comment_tokens": ["a", "matcher", "that", "is", "the", "logical", "conjunction", "of", "given", "matchers"], "new_comment": "a finder that is the logical conjunction of given finders", "new_comment_tokens": ["a", "finder", "that", "is", "the", "logical", "conjunction", "of", "given", "finders"], "old_code": "public static element matcher all of ( final element matcher . . . matchers ) { return new element matcher ( ) { @ override public boolean matches ( ui element element ) { for ( element matcher matcher : matchers ) { if ( ! matcher . matches ( element ) ) { return false ; } } return true ; } @ override public string to string ( ) { return str + joiner . on ( str ) . join ( matchers ) + str ; } } ; }", "old_code_tokens": ["public", "static", "element", "matcher", "all", "of", "(", "final", "element", "matcher", ".", ".", ".", "matchers", ")", "{", "return", "new", "element", "matcher", "(", ")", "{", "@", "override", "public", "boolean", "matches", "(", "ui", "element", "element", ")", "{", "for", "(", "element", "matcher", "matcher", ":", "matchers", ")", "{", "if", "(", "!", "matcher", ".", "matches", "(", "element", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "str", "+", "joiner", ".", "on", "(", "str", ")", ".", "join", "(", "matchers", ")", "+", "str", ";", "}", "}", ";", "}"], "new_code": "public static match finder all of ( final match finder . . . finders ) { return new match finder ( ) { @ override public boolean matches ( ui element element ) { for ( match finder finder : finders ) { if ( ! finder . matches ( element ) ) { return false ; } } return true ; } @ override public string to string ( ) { return str + joiner . on ( str ) . join ( finders ) + str ; } } ; }", "new_code_tokens": ["public", "static", "match", "finder", "all", "of", "(", "final", "match", "finder", ".", ".", ".", "finders", ")", "{", "return", "new", "match", "finder", "(", ")", "{", "@", "override", "public", "boolean", "matches", "(", "ui", "element", "element", ")", "{", "for", "(", "match", "finder", "finder", ":", "finders", ")", "{", "if", "(", "!", "finder", ".", "matches", "(", "element", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "str", "+", "joiner", ".", "on", "(", "str", ")", ".", "join", "(", "finders", ")", "+", "str", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> element matcher <REPLACE_NEW> match finder <REPLACE_END> <KEEP> all of ( final <KEEP_END> <REPLACE_OLD> element matcher <REPLACE_NEW> match finder <REPLACE_END> <KEEP> . . . <KEEP_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END> <KEEP> ) { return new <KEEP_END> <REPLACE_OLD> element matcher <REPLACE_NEW> match finder <REPLACE_END> <KEEP> ( ) { @ override public boolean matches ( ui element element ) { for ( <KEEP_END> <REPLACE_OLD> element matcher matcher <REPLACE_NEW> match finder finder <REPLACE_END> <KEEP> : <KEEP_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END> <KEEP> ) { if ( ! <KEEP_END> <REPLACE_OLD> matcher <REPLACE_NEW> finder <REPLACE_END> <KEEP> . matches ( element ) ) { return false ; } } return true ; } @ override public string to string ( ) { return str + joiner . on ( str ) . join ( <KEEP_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END> <KEEP> ) + str ; } } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "<REPLACE_NEW>", "match", "finder", "<REPLACE_END>", "<KEEP>", "all", "of", "(", "final", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "<REPLACE_NEW>", "match", "finder", "<REPLACE_END>", "<KEEP>", ".", ".", ".", "<KEEP_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>", "<KEEP>", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "<REPLACE_NEW>", "match", "finder", "<REPLACE_END>", "<KEEP>", "(", ")", "{", "@", "override", "public", "boolean", "matches", "(", "ui", "element", "element", ")", "{", "for", "(", "<KEEP_END>", "<REPLACE_OLD>", "element", "matcher", "matcher", "<REPLACE_NEW>", "match", "finder", "finder", "<REPLACE_END>", "<KEEP>", ":", "<KEEP_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>", "<KEEP>", ")", "{", "if", "(", "!", "<KEEP_END>", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "finder", "<REPLACE_END>", "<KEEP>", ".", "matches", "(", "element", ")", ")", "{", "return", "false", ";", "}", "}", "return", "true", ";", "}", "@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "str", "+", "joiner", ".", "on", "(", "str", ")", ".", "join", "(", "<KEEP_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>", "<KEEP>", ")", "+", "str", ";", "}", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> matcher <REPLACE_NEW> finder <REPLACE_END> <REPLACE_OLD> matchers <REPLACE_NEW> finders <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "finder", "<REPLACE_END>", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<KEEP>", "all", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "final", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", "ui", "<KEEP>", "element", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "for", "<KEEP>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "matcher", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "match", "<REPLACE_NEW>", "finder", "<REPLACE_NEW>", "finder", "<KEEP>", ":", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "finder", "<KEEP>", ".", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "joiner", "<KEEP>", ".", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "join", "<KEEP>", "(", "<REPLACE_OLD>", "matchers", "<REPLACE_NEW>", "finders", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ben-manes_caffeine-1-890", "old_comment": "an approximate of the current time in milliseconds", "old_comment_tokens": ["an", "approximate", "of", "the", "current", "time", "in", "milliseconds"], "new_comment": "the current time in milliseconds", "new_comment_tokens": ["the", "current", "time", "in", "milliseconds"], "old_code": "protected long current time millis ( ) { return nano to millis ( ticker . read ( ) ) ; }", "old_code_tokens": ["protected", "long", "current", "time", "millis", "(", ")", "{", "return", "nano", "to", "millis", "(", "ticker", ".", "read", "(", ")", ")", ";", "}"], "new_code": "protected final long current time millis ( ) { return nanos to millis ( ticker . read ( ) ) ; }", "new_code_tokens": ["protected", "final", "long", "current", "time", "millis", "(", ")", "{", "return", "nanos", "to", "millis", "(", "ticker", ".", "read", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> protected <KEEP_END> <INSERT> final <INSERT_END> <KEEP> long current time millis ( ) { return <KEEP_END> <REPLACE_OLD> nano <REPLACE_NEW> nanos <REPLACE_END> <KEEP> to millis ( ticker . read ( ) ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "long", "current", "time", "millis", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "nano", "<REPLACE_NEW>", "nanos", "<REPLACE_END>", "<KEEP>", "to", "millis", "(", "ticker", ".", "read", "(", ")", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> an approximate of <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "an", "approximate", "of", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<INSERT>", "final", "<KEEP>", "long", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "nano", "<REPLACE_NEW>", "nanos", "<KEEP>", "to", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", "ticker", "<KEEP>", ".", "<KEEP>", "read", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_derby-12-6333", "old_comment": "the name of the table that this column comes from . null if not a column reference .", "old_comment_tokens": ["the", "name", "of", "the", "table", "that", "this", "column", "comes", "from", ".", "null", "if", "not", "a", "column", "reference", "."], "new_comment": "the name of the base table that this column comes from . null if not a column reference .", "new_comment_tokens": ["the", "name", "of", "the", "base", "table", "that", "this", "column", "comes", "from", ".", "null", "if", "not", "a", "column", "reference", "."], "old_code": "public string get source table name ( ) { return ( ( table name ! = null ) ? table name . get table name ( ) : ( ( source ! = null ) ? source . get table name ( ) : null ) ) ; }", "old_code_tokens": ["public", "string", "get", "source", "table", "name", "(", ")", "{", "return", "(", "(", "table", "name", "!", "=", "null", ")", "?", "table", "name", ".", "get", "table", "name", "(", ")", ":", "(", "(", "source", "!", "=", "null", ")", "?", "source", ".", "get", "table", "name", "(", ")", ":", "null", ")", ")", ";", "}"], "new_code": "public string get source table name ( ) { return ( ( source ! = null ) ? source . get table name ( ) : null ) ; }", "new_code_tokens": ["public", "string", "get", "source", "table", "name", "(", ")", "{", "return", "(", "(", "source", "!", "=", "null", ")", "?", "source", ".", "get", "table", "name", "(", ")", ":", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public string get source table name ( ) { return <KEEP_END> <DELETE> ( ( table name ! = null ) ? table name . get table name ( ) : <DELETE_END> <KEEP> ( ( source ! = null ) ? source . get table name ( ) : null ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "get", "source", "table", "name", "(", ")", "{", "return", "<KEEP_END>", "<DELETE>", "(", "(", "table", "name", "!", "=", "null", ")", "?", "table", "name", ".", "get", "table", "name", "(", ")", ":", "<DELETE_END>", "<KEEP>", "(", "(", "source", "!", "=", "null", ")", "?", "source", ".", "get", "table", "name", "(", ")", ":", "null", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> of the <INSERT_NEW_KEEP_BEFORE> of the base <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "of", "the", "<INSERT_NEW_KEEP_BEFORE>", "of", "the", "base", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "source", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "table", "<DELETE>", "name", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "?", "<DELETE>", "table", "<DELETE>", "name", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "table", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ":", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "source", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "source", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "null", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_checker-framework-14-6920", "old_comment": "true if the ( non - wildcard ) type has the annotation or , if a wildcard , the type has the annotation on its extends bound", "old_comment_tokens": ["true", "if", "the", "(", "non", "-", "wildcard", ")", "type", "has", "the", "annotation", "or", ",", "if", "a", "wildcard", ",", "the", "type", "has", "the", "annotation", "on", "its", "extends", "bound"], "new_comment": "true if the ( non - type - variable , non - wildcard ) type has the annotation or , if a type variable or wildcard , the type has the annotation on its extends bound", "new_comment_tokens": ["true", "if", "the", "(", "non", "-", "type", "-", "variable", ",", "non", "-", "wildcard", ")", "type", "has", "the", "annotation", "or", ",", "if", "a", "type", "variable", "or", "wildcard", ",", "the", "type", "has", "the", "annotation", "on", "its", "extends", "bound"], "old_code": "protected boolean has annotation ( annotated type mirror type , annotation mirror annotation ) { if ( ! ( type instanceof annotated wildcard type ) ) return type . has annotation ( annotation ) ; annotated wildcard type wc = ( annotated wildcard type ) type ; annotated type mirror bound = wc . get extends bound ( ) ; if ( bound ! = null & & bound . has annotation ( annotation ) ) return true ; return false ; }", "old_code_tokens": ["protected", "boolean", "has", "annotation", "(", "annotated", "type", "mirror", "type", ",", "annotation", "mirror", "annotation", ")", "{", "if", "(", "!", "(", "type", "instanceof", "annotated", "wildcard", "type", ")", ")", "return", "type", ".", "has", "annotation", "(", "annotation", ")", ";", "annotated", "wildcard", "type", "wc", "=", "(", "annotated", "wildcard", "type", ")", "type", ";", "annotated", "type", "mirror", "bound", "=", "wc", ".", "get", "extends", "bound", "(", ")", ";", "if", "(", "bound", "!", "=", "null", "&", "&", "bound", ".", "has", "annotation", "(", "annotation", ")", ")", "return", "true", ";", "return", "false", ";", "}"], "new_code": "protected boolean has annotation ( annotated type mirror type , annotation mirror annotation ) { return annotated types . get effective annotations ( type ) . contains ( annotation ) ; }", "new_code_tokens": ["protected", "boolean", "has", "annotation", "(", "annotated", "type", "mirror", "type", ",", "annotation", "mirror", "annotation", ")", "{", "return", "annotated", "types", ".", "get", "effective", "annotations", "(", "type", ")", ".", "contains", "(", "annotation", ")", ";", "}"], "span_diff_code": "<KEEP> protected boolean has annotation ( annotated type mirror type , annotation mirror annotation ) { <KEEP_END> <REPLACE_OLD> if ( ! <REPLACE_NEW> return annotated types . get effective annotations <REPLACE_END> <KEEP> ( type <KEEP_END> <DELETE> instanceof annotated wildcard type <DELETE_END> <KEEP> ) <KEEP_END> <DELETE> ) return type <DELETE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> has annotation <REPLACE_NEW> contains <REPLACE_END> <KEEP> ( annotation ) ; <KEEP_END> <DELETE> annotated wildcard type wc = ( annotated wildcard type ) type ; annotated type mirror bound = wc . get extends bound ( ) ; if ( bound ! = null & & bound . has annotation ( annotation ) ) return true ; return false ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "boolean", "has", "annotation", "(", "annotated", "type", "mirror", "type", ",", "annotation", "mirror", "annotation", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "(", "!", "<REPLACE_NEW>", "return", "annotated", "types", ".", "get", "effective", "annotations", "<REPLACE_END>", "<KEEP>", "(", "type", "<KEEP_END>", "<DELETE>", "instanceof", "annotated", "wildcard", "type", "<DELETE_END>", "<KEEP>", ")", "<KEEP_END>", "<DELETE>", ")", "return", "type", "<DELETE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "has", "annotation", "<REPLACE_NEW>", "contains", "<REPLACE_END>", "<KEEP>", "(", "annotation", ")", ";", "<KEEP_END>", "<DELETE>", "annotated", "wildcard", "type", "wc", "=", "(", "annotated", "wildcard", "type", ")", "type", ";", "annotated", "type", "mirror", "bound", "=", "wc", ".", "get", "extends", "bound", "(", ")", ";", "if", "(", "bound", "!", "=", "null", "&", "&", "bound", ".", "has", "annotation", "(", "annotation", ")", ")", "return", "true", ";", "return", "false", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> ( <INSERT_NEW_KEEP_BEFORE> ( non - type - variable , <INSERT_END> <INSERT_OLD_KEEP_BEFORE> a <INSERT_NEW_KEEP_BEFORE> a type variable or <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "(", "<INSERT_NEW_KEEP_BEFORE>", "(", "non", "-", "type", "-", "variable", ",", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "a", "<INSERT_NEW_KEEP_BEFORE>", "a", "type", "variable", "or", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "boolean", "<KEEP>", "has", "<KEEP>", "annotation", "<KEEP>", "(", "<KEEP>", "annotated", "<KEEP>", "type", "<KEEP>", "mirror", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "annotation", "<KEEP>", "mirror", "<KEEP>", "annotation", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "annotated", "<REPLACE_NEW>", "types", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "effective", "<REPLACE_NEW>", "annotations", "<KEEP>", "(", "<KEEP>", "type", "<DELETE>", "instanceof", "<DELETE>", "annotated", "<DELETE>", "wildcard", "<DELETE>", "type", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "type", "<KEEP>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "annotation", "<REPLACE_NEW>", "contains", "<KEEP>", "(", "<KEEP>", "annotation", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "annotated", "<DELETE>", "wildcard", "<DELETE>", "type", "<DELETE>", "wc", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "annotated", "<DELETE>", "wildcard", "<DELETE>", "type", "<DELETE>", ")", "<DELETE>", "type", "<DELETE>", ";", "<DELETE>", "annotated", "<DELETE>", "type", "<DELETE>", "mirror", "<DELETE>", "bound", "<DELETE>", "=", "<DELETE>", "wc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "extends", "<DELETE>", "bound", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "bound", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "&", "<DELETE>", "&", "<DELETE>", "bound", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "annotation", "<DELETE>", "(", "<DELETE>", "annotation", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "true", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "false", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-6-4531", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public double get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "double", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public double get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "double", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public double get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "double", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "double", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nelsonsilva_vaadin-125-4299", "old_comment": "window to show in the portlet", "old_comment_tokens": ["window", "to", "show", "in", "the", "portlet"], "new_comment": "window to show in the portlet for the given portlet mode", "new_comment_tokens": ["window", "to", "show", "in", "the", "portlet", "for", "the", "given", "portlet", "mode"], "old_code": "protected window get portlet window ( portlet request request , application application ) { portlet mode mode = request . get portlet mode ( ) ; if ( portlet mode . view . equals ( mode ) ) { return application . get main window ( ) ; } else { window window = application . get window ( mode . to string ( ) ) ; if ( window ! = null ) { return window ; } } return application . get main window ( ) ; }", "old_code_tokens": ["protected", "window", "get", "portlet", "window", "(", "portlet", "request", "request", ",", "application", "application", ")", "{", "portlet", "mode", "mode", "=", "request", ".", "get", "portlet", "mode", "(", ")", ";", "if", "(", "portlet", "mode", ".", "view", ".", "equals", "(", "mode", ")", ")", "{", "return", "application", ".", "get", "main", "window", "(", ")", ";", "}", "else", "{", "window", "window", "=", "application", ".", "get", "window", "(", "mode", ".", "to", "string", "(", ")", ")", ";", "if", "(", "window", "!", "=", "null", ")", "{", "return", "window", ";", "}", "}", "return", "application", ".", "get", "main", "window", "(", ")", ";", "}"], "new_code": "protected window get portlet window ( portlet request request , application application ) { portlet mode mode = request . get portlet mode ( ) ; window window = application . get window ( mode . to string ( ) ) ; if ( window ! = null ) { return window ; } return application . get main window ( ) ; }", "new_code_tokens": ["protected", "window", "get", "portlet", "window", "(", "portlet", "request", "request", ",", "application", "application", ")", "{", "portlet", "mode", "mode", "=", "request", ".", "get", "portlet", "mode", "(", ")", ";", "window", "window", "=", "application", ".", "get", "window", "(", "mode", ".", "to", "string", "(", ")", ")", ";", "if", "(", "window", "!", "=", "null", ")", "{", "return", "window", ";", "}", "return", "application", ".", "get", "main", "window", "(", ")", ";", "}"], "span_diff_code": "<KEEP> protected window get portlet window ( portlet request request , application application ) { portlet mode mode = request . get portlet mode ( ) ; <KEEP_END> <DELETE> if ( portlet mode . view . equals ( mode ) ) { return application . get main window ( ) ; } else { <DELETE_END> <KEEP> window window = application . get window ( mode . to string ( ) ) ; if ( window ! = null ) { return window ; } <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return application . get main window ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "window", "get", "portlet", "window", "(", "portlet", "request", "request", ",", "application", "application", ")", "{", "portlet", "mode", "mode", "=", "request", ".", "get", "portlet", "mode", "(", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "portlet", "mode", ".", "view", ".", "equals", "(", "mode", ")", ")", "{", "return", "application", ".", "get", "main", "window", "(", ")", ";", "}", "else", "{", "<DELETE_END>", "<KEEP>", "window", "window", "=", "application", ".", "get", "window", "(", "mode", ".", "to", "string", "(", ")", ")", ";", "if", "(", "window", "!", "=", "null", ")", "{", "return", "window", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "application", ".", "get", "main", "window", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> portlet <INSERT_NEW_KEEP_BEFORE> portlet for the given portlet mode <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "portlet", "<INSERT_NEW_KEEP_BEFORE>", "portlet", "for", "the", "given", "portlet", "mode", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "window", "<KEEP>", "get", "<KEEP>", "portlet", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", "portlet", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "application", "<KEEP>", "application", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "portlet", "<KEEP>", "mode", "<KEEP>", "mode", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "portlet", "<KEEP>", "mode", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "portlet", "<DELETE>", "mode", "<DELETE>", ".", "<DELETE>", "view", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "mode", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "application", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "main", "<DELETE>", "window", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "window", "<KEEP>", "window", "<KEEP>", "=", "<KEEP>", "application", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "window", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "window", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<KEEP>", "return", "<KEEP>", "application", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "main", "<KEEP>", "window", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "RobotiumTech_robotium-8-3689", "old_comment": "the edit text found or null if nothing is found", "old_comment_tokens": ["the", "edit", "text", "found", "or", "null", "if", "nothing", "is", "found"], "new_comment": "true if an edit text with the given text is found or false if it is not found", "new_comment_tokens": ["true", "if", "an", "edit", "text", "with", "the", "given", "text", "is", "found", "or", "false", "if", "it", "is", "not", "found"], "old_code": "public edit text search edit text ( string search ) { array list < edit text > edit text list = get current edit texts ( ) ; iterator < edit text > iterator = edit text list . iterator ( ) ; while ( iterator . has next ( ) ) { edit text edit text = ( edit text ) iterator . next ( ) ; if ( edit text . get text ( ) . to string ( ) . equals ( search ) ) { return edit text ; } } return null ; }", "old_code_tokens": ["public", "edit", "text", "search", "edit", "text", "(", "string", "search", ")", "{", "array", "list", "<", "edit", "text", ">", "edit", "text", "list", "=", "get", "current", "edit", "texts", "(", ")", ";", "iterator", "<", "edit", "text", ">", "iterator", "=", "edit", "text", "list", ".", "iterator", "(", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "edit", "text", "edit", "text", "=", "(", "edit", "text", ")", "iterator", ".", "next", "(", ")", ";", "if", "(", "edit", "text", ".", "get", "text", "(", ")", ".", "to", "string", "(", ")", ".", "equals", "(", "search", ")", ")", "{", "return", "edit", "text", ";", "}", "}", "return", "null", ";", "}"], "new_code": "public boolean search edit text ( string search ) { pattern p = pattern . compile ( search ) ; matcher matcher ; array list < edit text > edit text list = get current edit texts ( ) ; iterator < edit text > iterator = edit text list . iterator ( ) ; while ( iterator . has next ( ) ) { edit text edit text = ( edit text ) iterator . next ( ) ; matcher = p . matcher ( edit text . get text ( ) . to string ( ) ) ; if ( matcher . matches ( ) ) { return true ; } } if ( scroll down list ( ) ) return search edit text ( search ) ; else return false ; }", "new_code_tokens": ["public", "boolean", "search", "edit", "text", "(", "string", "search", ")", "{", "pattern", "p", "=", "pattern", ".", "compile", "(", "search", ")", ";", "matcher", "matcher", ";", "array", "list", "<", "edit", "text", ">", "edit", "text", "list", "=", "get", "current", "edit", "texts", "(", ")", ";", "iterator", "<", "edit", "text", ">", "iterator", "=", "edit", "text", "list", ".", "iterator", "(", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "edit", "text", "edit", "text", "=", "(", "edit", "text", ")", "iterator", ".", "next", "(", ")", ";", "matcher", "=", "p", ".", "matcher", "(", "edit", "text", ".", "get", "text", "(", ")", ".", "to", "string", "(", ")", ")", ";", "if", "(", "matcher", ".", "matches", "(", ")", ")", "{", "return", "true", ";", "}", "}", "if", "(", "scroll", "down", "list", "(", ")", ")", "return", "search", "edit", "text", "(", "search", ")", ";", "else", "return", "false", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> edit text <REPLACE_NEW> boolean <REPLACE_END> <KEEP> search edit text ( string search ) { <KEEP_END> <INSERT> pattern p = pattern . compile ( search ) ; matcher matcher ; <INSERT_END> <KEEP> array list < edit text > edit text list = get current edit texts ( ) ; iterator < edit text > iterator = edit text list . iterator ( ) ; while ( iterator . has next ( ) ) { edit text edit text = ( edit text ) iterator . next ( ) ; <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> matcher = p . matcher <REPLACE_END> <KEEP> ( edit text . get text ( ) . to string ( ) <KEEP_END> <INSERT> ) ; if ( matcher <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> equals <REPLACE_NEW> matches <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> search <DELETE_END> <KEEP> ) ) { return <KEEP_END> <REPLACE_OLD> edit text <REPLACE_NEW> true <REPLACE_END> <KEEP> ; } } <KEEP_END> <INSERT> if ( scroll down list ( ) ) <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> search edit text ( search ) ; else return false <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "edit", "text", "<REPLACE_NEW>", "boolean", "<REPLACE_END>", "<KEEP>", "search", "edit", "text", "(", "string", "search", ")", "{", "<KEEP_END>", "<INSERT>", "pattern", "p", "=", "pattern", ".", "compile", "(", "search", ")", ";", "matcher", "matcher", ";", "<INSERT_END>", "<KEEP>", "array", "list", "<", "edit", "text", ">", "edit", "text", "list", "=", "get", "current", "edit", "texts", "(", ")", ";", "iterator", "<", "edit", "text", ">", "iterator", "=", "edit", "text", "list", ".", "iterator", "(", ")", ";", "while", "(", "iterator", ".", "has", "next", "(", ")", ")", "{", "edit", "text", "edit", "text", "=", "(", "edit", "text", ")", "iterator", ".", "next", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "matcher", "=", "p", ".", "matcher", "<REPLACE_END>", "<KEEP>", "(", "edit", "text", ".", "get", "text", "(", ")", ".", "to", "string", "(", ")", "<KEEP_END>", "<INSERT>", ")", ";", "if", "(", "matcher", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "matches", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "search", "<DELETE_END>", "<KEEP>", ")", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "edit", "text", "<REPLACE_NEW>", "true", "<REPLACE_END>", "<KEEP>", ";", "}", "}", "<KEEP_END>", "<INSERT>", "if", "(", "scroll", "down", "list", "(", ")", ")", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "search", "edit", "text", "(", "search", ")", ";", "else", "return", "false", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the <REPLACE_NEW> true if an <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> text <INSERT_NEW_KEEP_BEFORE> text with the given text is <INSERT_END> <REPLACE_OLD> null <REPLACE_NEW> false <REPLACE_END> <REPLACE_OLD> nothing <REPLACE_NEW> it <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> is <INSERT_NEW_KEEP_BEFORE> is not <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "<REPLACE_NEW>", "true", "if", "an", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "text", "<INSERT_NEW_KEEP_BEFORE>", "text", "with", "the", "given", "text", "is", "<INSERT_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "false", "<REPLACE_END>", "<REPLACE_OLD>", "nothing", "<REPLACE_NEW>", "it", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "is", "<INSERT_NEW_KEEP_BEFORE>", "is", "not", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "edit", "<REPLACE_OLD>", "text", "<REPLACE_NEW>", "boolean", "<KEEP>", "search", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "pattern", "<INSERT>", "p", "<INSERT>", "=", "<INSERT>", "pattern", "<INSERT>", ".", "<INSERT>", "compile", "<INSERT>", "(", "<INSERT>", "search", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "matcher", "<INSERT>", "matcher", "<INSERT>", ";", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", ">", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "edit", "<KEEP>", "texts", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "iterator", "<KEEP>", "<", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", ">", "<KEEP>", "iterator", "<KEEP>", "=", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "while", "<KEEP>", "(", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", ")", "<KEEP>", "iterator", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "matcher", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "matcher", "<KEEP>", "(", "<KEEP>", "edit", "<KEEP>", "text", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "matcher", "<KEEP>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "matches", "<KEEP>", "(", "<DELETE>", "search", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "edit", "<REPLACE_OLD>", "text", "<REPLACE_NEW>", "true", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "scroll", "<INSERT>", "down", "<INSERT>", "list", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "search", "<REPLACE_NEW>", "edit", "<REPLACE_NEW>", "text", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "search", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "bmatthews68_inmemdb-maven-plugin-1-6140", "old_comment": "always returns derby database # protocol .", "old_comment_tokens": ["always", "returns", "derby", "database", "#", "protocol", "."], "new_comment": "returns protocol", "new_comment_tokens": ["returns", "protocol"], "old_code": "protected string get url protocol ( ) { return protocol ; }", "old_code_tokens": ["protected", "string", "get", "url", "protocol", "(", ")", "{", "return", "protocol", ";", "}"], "new_code": "protected string get url protocol ( ) { return str + ( get port ( ) > num ? get port ( ) : default _ port ) + str ; }", "new_code_tokens": ["protected", "string", "get", "url", "protocol", "(", ")", "{", "return", "str", "+", "(", "get", "port", "(", ")", ">", "num", "?", "get", "port", "(", ")", ":", "default", "_", "port", ")", "+", "str", ";", "}"], "span_diff_code": "<KEEP> protected string get url protocol ( ) { return <KEEP_END> <REPLACE_OLD> protocol <REPLACE_NEW> str + ( get port ( ) > num ? get port ( ) : default _ port ) + str <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "string", "get", "url", "protocol", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "protocol", "<REPLACE_NEW>", "str", "+", "(", "get", "port", "(", ")", ">", "num", "?", "get", "port", "(", ")", ":", "default", "_", "port", ")", "+", "str", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> always <DELETE_END> <DELETE> derby database # <DELETE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "always", "<DELETE_END>", "<DELETE>", "derby", "database", "#", "<DELETE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "url", "<KEEP>", "protocol", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "protocol", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "port", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "port", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "default", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "port", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "str", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_geronimo-90-4550", "old_comment": "the package names that will be searched for property editors .", "old_comment_tokens": ["the", "package", "names", "that", "will", "be", "searched", "for", "property", "editors", "."], "new_comment": "a list object containing all of the registered search paths .", "new_comment_tokens": ["a", "list", "object", "containing", "all", "of", "the", "registered", "search", "paths", "."], "old_code": "public static list get editor search path ( ) { string [ ] path = property editor manager . get editor search path ( ) ; list list = new array list ( path . length ) ; for ( int i = num ; i < path . length ; i + + ) { list . add ( path [ i ] ) ; } return list ; }", "old_code_tokens": ["public", "static", "list", "get", "editor", "search", "path", "(", ")", "{", "string", "[", "]", "path", "=", "property", "editor", "manager", ".", "get", "editor", "search", "path", "(", ")", ";", "list", "list", "=", "new", "array", "list", "(", "path", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "path", ".", "length", ";", "i", "+", "+", ")", "{", "list", ".", "add", "(", "path", "[", "i", "]", ")", ";", "}", "return", "list", ";", "}"], "new_code": "public static list get editor search path ( ) { string [ ] paths = property editor manager . get editor search path ( ) ; list path list = new array list ( paths . length ) ; for ( int i = num ; i < paths . length ; i + + ) { path list . add ( paths [ i ] ) ; } return path list ; }", "new_code_tokens": ["public", "static", "list", "get", "editor", "search", "path", "(", ")", "{", "string", "[", "]", "paths", "=", "property", "editor", "manager", ".", "get", "editor", "search", "path", "(", ")", ";", "list", "path", "list", "=", "new", "array", "list", "(", "paths", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "paths", ".", "length", ";", "i", "+", "+", ")", "{", "path", "list", ".", "add", "(", "paths", "[", "i", "]", ")", ";", "}", "return", "path", "list", ";", "}"], "span_diff_code": "<KEEP> public static list get editor search path ( ) { string [ ] <KEEP_END> <REPLACE_OLD> path <REPLACE_NEW> paths <REPLACE_END> <KEEP> = property editor manager . get editor search path ( ) ; list <KEEP_END> <INSERT> path <INSERT_END> <KEEP> list = new array list ( <KEEP_END> <REPLACE_OLD> path <REPLACE_NEW> paths <REPLACE_END> <KEEP> . length ) ; for ( int i = num ; i < <KEEP_END> <REPLACE_OLD> path <REPLACE_NEW> paths <REPLACE_END> <KEEP> . length ; i + + ) { <KEEP_END> <INSERT> path <INSERT_END> <KEEP> list . add ( <KEEP_END> <REPLACE_OLD> path <REPLACE_NEW> paths <REPLACE_END> <KEEP> [ i ] ) ; } return <KEEP_END> <INSERT> path <INSERT_END> <KEEP> list ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "list", "get", "editor", "search", "path", "(", ")", "{", "string", "[", "]", "<KEEP_END>", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<REPLACE_END>", "<KEEP>", "=", "property", "editor", "manager", ".", "get", "editor", "search", "path", "(", ")", ";", "list", "<KEEP_END>", "<INSERT>", "path", "<INSERT_END>", "<KEEP>", "list", "=", "new", "array", "list", "(", "<KEEP_END>", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<REPLACE_END>", "<KEEP>", ".", "length", ")", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "<KEEP_END>", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<REPLACE_END>", "<KEEP>", ".", "length", ";", "i", "+", "+", ")", "{", "<KEEP_END>", "<INSERT>", "path", "<INSERT_END>", "<KEEP>", "list", ".", "add", "(", "<KEEP_END>", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<REPLACE_END>", "<KEEP>", "[", "i", "]", ")", ";", "}", "return", "<KEEP_END>", "<INSERT>", "path", "<INSERT_END>", "<KEEP>", "list", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> the <INSERT_NEW_KEEP_AFTER> a list object containing all of the <INSERT_END> <REPLACE_OLD> package names that will be searched for property editors <REPLACE_NEW> registered search paths <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "the", "<INSERT_NEW_KEEP_AFTER>", "a", "list", "object", "containing", "all", "of", "the", "<INSERT_END>", "<REPLACE_OLD>", "package", "names", "that", "will", "be", "searched", "for", "property", "editors", "<REPLACE_NEW>", "registered", "search", "paths", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "list", "<KEEP>", "get", "<KEEP>", "editor", "<KEEP>", "search", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<KEEP>", "=", "<KEEP>", "property", "<KEEP>", "editor", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "editor", "<KEEP>", "search", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<INSERT>", "path", "<KEEP>", "list", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "(", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "path", "<KEEP>", "list", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<REPLACE_OLD>", "path", "<REPLACE_NEW>", "paths", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<INSERT>", "path", "<KEEP>", "list", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "rstudio_rstudio-3-2022", "old_comment": "new background color based on the supplied foreground color", "old_comment_tokens": ["new", "background", "color", "based", "on", "the", "supplied", "foreground", "color"], "new_comment": "new background color based on the foreground color", "new_comment_tokens": ["new", "background", "color", "based", "on", "the", "foreground", "color"], "old_code": "private int invert bg color ( ) { if ( current color _ . default color ( ) ) { if ( ! inverted _ ) clazzes _ . add ( inverse _ bg _ style ) ; return color . default _ color ; } else if ( current color _ . code ( ) > = foreground _ min & & current color _ . code ( ) < = foreground _ max ) { int new bg = current color _ . code ( ) + ( background _ min - foreground _ min ) ; clazzes _ . add ( background _ style + integer . to string ( new bg - background _ min ) ) ; return new bg ; } else { int new bg = current color _ . code ( ) + ( background _ intense _ min - foreground _ intense _ min ) ; clazzes _ . add ( background _ style + integer . to string ( new bg + num - background _ intense _ min ) ) ; return new bg ; } }", "old_code_tokens": ["private", "int", "invert", "bg", "color", "(", ")", "{", "if", "(", "current", "color", "_", ".", "default", "color", "(", ")", ")", "{", "if", "(", "!", "inverted", "_", ")", "clazzes", "_", ".", "add", "(", "inverse", "_", "bg", "_", "style", ")", ";", "return", "color", ".", "default", "_", "color", ";", "}", "else", "if", "(", "current", "color", "_", ".", "code", "(", ")", ">", "=", "foreground", "_", "min", "&", "&", "current", "color", "_", ".", "code", "(", ")", "<", "=", "foreground", "_", "max", ")", "{", "int", "new", "bg", "=", "current", "color", "_", ".", "code", "(", ")", "+", "(", "background", "_", "min", "-", "foreground", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "background", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "bg", "-", "background", "_", "min", ")", ")", ";", "return", "new", "bg", ";", "}", "else", "{", "int", "new", "bg", "=", "current", "color", "_", ".", "code", "(", ")", "+", "(", "background", "_", "intense", "_", "min", "-", "foreground", "_", "intense", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "background", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "bg", "+", "num", "-", "background", "_", "intense", "_", "min", ")", ")", ";", "return", "new", "bg", ";", "}", "}"], "new_code": "private color invert bg color ( ) { if ( current color _ . default color ( ) ) { if ( ! inverted _ ) clazzes _ . add ( inverse _ bg _ style ) ; return new color ( ) ; } else if ( current color _ . is extended ( ) ) { clazzes _ . add ( color . clazz for color index ( current color _ . code ( ) , true ) ) ; return new color ( true , current color _ . code ( ) ) ; } else if ( current color _ . code ( ) > = foreground _ min & & current color _ . code ( ) < = foreground _ max ) { int new bg = current color _ . code ( ) + ( background _ min - foreground _ min ) ; clazzes _ . add ( background _ style + integer . to string ( new bg - background _ min ) ) ; return new color ( false , new bg ) ; } else { int new bg = current color _ . code ( ) + ( background _ intense _ min - foreground _ intense _ min ) ; clazzes _ . add ( background _ style + integer . to string ( new bg + num - background _ intense _ min ) ) ; return new color ( false , new bg ) ; } }", "new_code_tokens": ["private", "color", "invert", "bg", "color", "(", ")", "{", "if", "(", "current", "color", "_", ".", "default", "color", "(", ")", ")", "{", "if", "(", "!", "inverted", "_", ")", "clazzes", "_", ".", "add", "(", "inverse", "_", "bg", "_", "style", ")", ";", "return", "new", "color", "(", ")", ";", "}", "else", "if", "(", "current", "color", "_", ".", "is", "extended", "(", ")", ")", "{", "clazzes", "_", ".", "add", "(", "color", ".", "clazz", "for", "color", "index", "(", "current", "color", "_", ".", "code", "(", ")", ",", "true", ")", ")", ";", "return", "new", "color", "(", "true", ",", "current", "color", "_", ".", "code", "(", ")", ")", ";", "}", "else", "if", "(", "current", "color", "_", ".", "code", "(", ")", ">", "=", "foreground", "_", "min", "&", "&", "current", "color", "_", ".", "code", "(", ")", "<", "=", "foreground", "_", "max", ")", "{", "int", "new", "bg", "=", "current", "color", "_", ".", "code", "(", ")", "+", "(", "background", "_", "min", "-", "foreground", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "background", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "bg", "-", "background", "_", "min", ")", ")", ";", "return", "new", "color", "(", "false", ",", "new", "bg", ")", ";", "}", "else", "{", "int", "new", "bg", "=", "current", "color", "_", ".", "code", "(", ")", "+", "(", "background", "_", "intense", "_", "min", "-", "foreground", "_", "intense", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "background", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "bg", "+", "num", "-", "background", "_", "intense", "_", "min", ")", ")", ";", "return", "new", "color", "(", "false", ",", "new", "bg", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> color <REPLACE_END> <KEEP> invert bg color ( ) { if ( current color _ . default color ( ) ) { if ( ! inverted _ ) clazzes _ . add ( inverse _ bg _ style ) ; return <KEEP_END> <REPLACE_OLD> color . default _ color <REPLACE_NEW> new color ( ) ; } else if ( current color _ . is extended ( ) ) { clazzes _ . add ( color . clazz for color index ( current color _ . code ( ) , true ) ) ; return new color ( true , current color _ . code ( ) ) <REPLACE_END> <KEEP> ; } else if ( current color _ . code ( ) > = foreground _ min & & current color _ . code ( ) < = foreground _ max ) { int new bg = current color _ . code ( ) + ( background _ min - foreground _ min ) ; clazzes _ . add ( background _ style + integer . to string ( new bg - background _ min ) ) ; return new <KEEP_END> <REPLACE_OLD> bg <REPLACE_NEW> color ( false , new bg ) <REPLACE_END> <KEEP> ; } else { int new bg = current color _ . code ( ) + ( background _ intense _ min - foreground _ intense _ min ) ; clazzes _ . add ( background _ style + integer . to string ( new bg + num - background _ intense _ min ) ) ; return new <KEEP_END> <REPLACE_OLD> bg ; } } <REPLACE_NEW> color ( false , new bg ) ; } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "color", "<REPLACE_END>", "<KEEP>", "invert", "bg", "color", "(", ")", "{", "if", "(", "current", "color", "_", ".", "default", "color", "(", ")", ")", "{", "if", "(", "!", "inverted", "_", ")", "clazzes", "_", ".", "add", "(", "inverse", "_", "bg", "_", "style", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "color", ".", "default", "_", "color", "<REPLACE_NEW>", "new", "color", "(", ")", ";", "}", "else", "if", "(", "current", "color", "_", ".", "is", "extended", "(", ")", ")", "{", "clazzes", "_", ".", "add", "(", "color", ".", "clazz", "for", "color", "index", "(", "current", "color", "_", ".", "code", "(", ")", ",", "true", ")", ")", ";", "return", "new", "color", "(", "true", ",", "current", "color", "_", ".", "code", "(", ")", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "if", "(", "current", "color", "_", ".", "code", "(", ")", ">", "=", "foreground", "_", "min", "&", "&", "current", "color", "_", ".", "code", "(", ")", "<", "=", "foreground", "_", "max", ")", "{", "int", "new", "bg", "=", "current", "color", "_", ".", "code", "(", ")", "+", "(", "background", "_", "min", "-", "foreground", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "background", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "bg", "-", "background", "_", "min", ")", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "bg", "<REPLACE_NEW>", "color", "(", "false", ",", "new", "bg", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "int", "new", "bg", "=", "current", "color", "_", ".", "code", "(", ")", "+", "(", "background", "_", "intense", "_", "min", "-", "foreground", "_", "intense", "_", "min", ")", ";", "clazzes", "_", ".", "add", "(", "background", "_", "style", "+", "integer", ".", "to", "string", "(", "new", "bg", "+", "num", "-", "background", "_", "intense", "_", "min", ")", ")", ";", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "bg", ";", "}", "}", "<REPLACE_NEW>", "color", "(", "false", ",", "new", "bg", ")", ";", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<DELETE> supplied <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "supplied", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "color", "<KEEP>", "invert", "<KEEP>", "bg", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "default", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "inverted", "<KEEP>", "_", "<KEEP>", ")", "<KEEP>", "clazzes", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "inverse", "<KEEP>", "_", "<KEEP>", "bg", "<KEEP>", "_", "<KEEP>", "style", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "color", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "current", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "extended", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "clazzes", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "clazz", "<REPLACE_NEW>", "for", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "current", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "true", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "current", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "code", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ">", "<KEEP>", "=", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "current", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "<", "<KEEP>", "=", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "max", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "new", "<KEEP>", "bg", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "(", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "-", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "clazzes", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "style", "<KEEP>", "+", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "bg", "<KEEP>", "-", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "bg", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "bg", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "new", "<KEEP>", "bg", "<KEEP>", "=", "<KEEP>", "current", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "(", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "intense", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", "-", "<KEEP>", "foreground", "<KEEP>", "_", "<KEEP>", "intense", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "clazzes", "<KEEP>", "_", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "style", "<KEEP>", "+", "<KEEP>", "integer", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "bg", "<KEEP>", "+", "<KEEP>", "num", "<KEEP>", "-", "<KEEP>", "background", "<KEEP>", "_", "<KEEP>", "intense", "<KEEP>", "_", "<KEEP>", "min", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "bg", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "color", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "bg", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "twitter_commons-11-4492", "old_comment": "the newly built configuration .", "old_comment_tokens": ["the", "newly", "built", "configuration", "."], "new_comment": "the builder .", "new_comment_tokens": ["the", "builder", "."], "old_code": "public static configuration builder ( ) { return new configuration ( ) ; }", "old_code_tokens": ["public", "static", "configuration", "builder", "(", ")", "{", "return", "new", "configuration", "(", ")", ";", "}"], "new_code": "public static builder builder ( ) { return new builder ( ) ; }", "new_code_tokens": ["public", "static", "builder", "builder", "(", ")", "{", "return", "new", "builder", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> configuration <REPLACE_NEW> builder <REPLACE_END> <KEEP> builder ( ) { return new <KEEP_END> <REPLACE_OLD> configuration <REPLACE_NEW> builder <REPLACE_END> <KEEP> ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "configuration", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "builder", "(", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "configuration", "<REPLACE_NEW>", "builder", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> newly built configuration <REPLACE_NEW> builder <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "newly", "built", "configuration", "<REPLACE_NEW>", "builder", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "configuration", "<REPLACE_NEW>", "builder", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "configuration", "<REPLACE_NEW>", "builder", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_fluo-17-6676", "old_comment": "a subset configuration using the prefix # reporter _ prefix with the reporter parameter appended . any change made to subset will be reflected in this configuration , but with the prefix added .", "old_comment_tokens": ["a", "subset", "configuration", "using", "the", "prefix", "#", "reporter", "_", "prefix", "with", "the", "reporter", "parameter", "appended", ".", "any", "change", "made", "to", "subset", "will", "be", "reflected", "in", "this", "configuration", ",", "but", "with", "the", "prefix", "added", "."], "new_comment": "a subset of this configuration using the prefix # reporter _ prefix with the reporter parameter appended . any change made to subset will be reflected in this configuration , but with the prefix added .", "new_comment_tokens": ["a", "subset", "of", "this", "configuration", "using", "the", "prefix", "#", "reporter", "_", "prefix", "with", "the", "reporter", "parameter", "appended", ".", "any", "change", "made", "to", "subset", "will", "be", "reflected", "in", "this", "configuration", ",", "but", "with", "the", "prefix", "added", "."], "old_code": "public configuration get reporter configuration ( string reporter ) { return subset ( reporter _ prefix + str + reporter ) ; }", "old_code_tokens": ["public", "configuration", "get", "reporter", "configuration", "(", "string", "reporter", ")", "{", "return", "subset", "(", "reporter", "_", "prefix", "+", "str", "+", "reporter", ")", ";", "}"], "new_code": "public simple configuration get reporter configuration ( string reporter ) { return subset ( reporter _ prefix + str + reporter ) ; }", "new_code_tokens": ["public", "simple", "configuration", "get", "reporter", "configuration", "(", "string", "reporter", ")", "{", "return", "subset", "(", "reporter", "_", "prefix", "+", "str", "+", "reporter", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> simple <INSERT_END> <KEEP> configuration get reporter configuration ( string reporter ) { return subset ( reporter _ prefix + str + reporter ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "simple", "<INSERT_END>", "<KEEP>", "configuration", "get", "reporter", "configuration", "(", "string", "reporter", ")", "{", "return", "subset", "(", "reporter", "_", "prefix", "+", "str", "+", "reporter", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> a subset <INSERT_NEW_KEEP_BEFORE> a subset of this <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "a", "subset", "<INSERT_NEW_KEEP_BEFORE>", "a", "subset", "of", "this", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "simple", "<KEEP>", "configuration", "<KEEP>", "get", "<KEEP>", "reporter", "<KEEP>", "configuration", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "reporter", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "subset", "<KEEP>", "(", "<KEEP>", "reporter", "<KEEP>", "_", "<KEEP>", "prefix", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "reporter", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_axis1-java-93-6689", "old_comment": "object value of the property - or null", "old_comment_tokens": ["object", "value", "of", "the", "property", "-", "or", "null"], "new_comment": "object value of the property or null if the property is not set", "new_comment_tokens": ["object", "value", "of", "the", "property", "or", "null", "if", "the", "property", "is", "not", "set"], "old_code": "public object get property ( string name ) { if ( name ! = null ) return call properties . get ( name ) ; return null ; }", "old_code_tokens": ["public", "object", "get", "property", "(", "string", "name", ")", "{", "if", "(", "name", "!", "=", "null", ")", "return", "call", "properties", ".", "get", "(", "name", ")", ";", "return", "null", ";", "}"], "new_code": "public object get property ( string name ) { if ( name = = null | | ! is property supported ( name ) ) throw new illegal argument exception ( ) ; return call properties . get ( name ) ; }", "new_code_tokens": ["public", "object", "get", "property", "(", "string", "name", ")", "{", "if", "(", "name", "=", "=", "null", "|", "|", "!", "is", "property", "supported", "(", "name", ")", ")", "throw", "new", "illegal", "argument", "exception", "(", ")", ";", "return", "call", "properties", ".", "get", "(", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public object get property ( string name ) { if ( name <KEEP_END> <REPLACE_OLD> ! <REPLACE_NEW> = <REPLACE_END> <KEEP> = null <KEEP_END> <INSERT> | | ! is property supported ( name <INSERT_END> <KEEP> ) <KEEP_END> <INSERT> ) throw new illegal argument exception ( ) ; <INSERT_END> <KEEP> return call properties . get ( name ) ; <KEEP_END> <DELETE> return null ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "object", "get", "property", "(", "string", "name", ")", "{", "if", "(", "name", "<KEEP_END>", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<REPLACE_END>", "<KEEP>", "=", "null", "<KEEP_END>", "<INSERT>", "|", "|", "!", "is", "property", "supported", "(", "name", "<INSERT_END>", "<KEEP>", ")", "<KEEP_END>", "<INSERT>", ")", "throw", "new", "illegal", "argument", "exception", "(", ")", ";", "<INSERT_END>", "<KEEP>", "return", "call", "properties", ".", "get", "(", "name", ")", ";", "<KEEP_END>", "<DELETE>", "return", "null", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> - <DELETE_END> <INSERT_OLD_KEEP_BEFORE> null <INSERT_NEW_KEEP_BEFORE> null if the property is not set <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "-", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "null", "<INSERT_NEW_KEEP_BEFORE>", "null", "if", "the", "property", "is", "not", "set", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "get", "<KEEP>", "property", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "name", "<REPLACE_OLD>", "!", "<REPLACE_NEW>", "=", "<KEEP>", "=", "<KEEP>", "null", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "!", "<INSERT>", "is", "<INSERT>", "property", "<INSERT>", "supported", "<INSERT>", "(", "<INSERT>", "name", "<KEEP>", ")", "<INSERT>", ")", "<INSERT>", "throw", "<INSERT>", "new", "<INSERT>", "illegal", "<INSERT>", "argument", "<INSERT>", "exception", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "call", "<KEEP>", "properties", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_qreactor-1-5170", "old_comment": "the sink file", "old_comment_tokens": ["the", "sink", "file"], "new_comment": "the queue directory", "new_comment_tokens": ["the", "queue", "directory"], "old_code": "public file get sink file ( ) { return sink file ; }", "old_code_tokens": ["public", "file", "get", "sink", "file", "(", ")", "{", "return", "sink", "file", ";", "}"], "new_code": "public file get sink file ( ) { return queue . file ( ) ; }", "new_code_tokens": ["public", "file", "get", "sink", "file", "(", ")", "{", "return", "queue", ".", "file", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public file get sink file ( ) { return <KEEP_END> <REPLACE_OLD> sink <REPLACE_NEW> queue . <REPLACE_END> <KEEP> file <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "file", "get", "sink", "file", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "sink", "<REPLACE_NEW>", "queue", ".", "<REPLACE_END>", "<KEEP>", "file", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> sink file <REPLACE_NEW> queue directory <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "sink", "file", "<REPLACE_NEW>", "queue", "directory", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "file", "<KEEP>", "get", "<KEEP>", "sink", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "sink", "<REPLACE_NEW>", "queue", "<REPLACE_NEW>", ".", "<KEEP>", "file", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "mulesoft_google-connectors-suite-4-7321", "old_comment": "a list with instances of org . mule . module . google . drive . model . file", "old_comment_tokens": ["a", "list", "with", "instances", "of", "org", ".", "mule", ".", "module", ".", "google", ".", "drive", ".", "model", ".", "file"], "new_comment": "a paginated iterator with instances of org . mule . module . google . drive . model . file", "new_comment_tokens": ["a", "paginated", "iterator", "with", "instances", "of", "org", ".", "mule", ".", "module", ".", "google", ".", "drive", ".", "model", ".", "file"], "old_code": "@ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ inject public list < file > list files ( mule message message , @ optional @ default ( str ) int max results , @ optional string query , @ optional @ default ( str ) string page token ) throws ioexception { file list response = this . client . files ( ) . list ( ) . set max results ( max results ) . set page token ( page token ) . set q ( query ) . execute ( ) ; pagination utils . save page token ( next _ page _ token , response . get next page token ( ) , message ) ; return file . value of ( response . get items ( ) , file . class ) ; }", "old_code_tokens": ["@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "inject", "public", "list", "<", "file", ">", "list", "files", "(", "mule", "message", "message", ",", "@", "optional", "@", "default", "(", "str", ")", "int", "max", "results", ",", "@", "optional", "string", "query", ",", "@", "optional", "@", "default", "(", "str", ")", "string", "page", "token", ")", "throws", "ioexception", "{", "file", "list", "response", "=", "this", ".", "client", ".", "files", "(", ")", ".", "list", "(", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "page", "token", ")", ".", "set", "q", "(", "query", ")", ".", "execute", "(", ")", ";", "pagination", "utils", ".", "save", "page", "token", "(", "next", "_", "page", "_", "token", ",", "response", ".", "get", "next", "page", "token", "(", ")", ",", "message", ")", ";", "return", "file", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "file", ".", "class", ")", ";", "}"], "new_code": "@ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ paged public paging delegate < file > list files ( @ optional @ default ( str ) final int max results , @ optional final string query , final paging configuration paging configuration ) throws ioexception { return new token based paging delegate < file > ( ) { @ override public list < file > do get page ( ) throws ioexception { file list response = client . files ( ) . list ( ) . set max results ( max results ) . set page token ( this . get page token ( ) ) . set q ( query ) . execute ( ) ; this . set page token ( response . get next page token ( ) ) ; return file . value of ( response . get items ( ) , file . class ) ; } } ; }", "new_code_tokens": ["@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "paged", "public", "paging", "delegate", "<", "file", ">", "list", "files", "(", "@", "optional", "@", "default", "(", "str", ")", "final", "int", "max", "results", ",", "@", "optional", "final", "string", "query", ",", "final", "paging", "configuration", "paging", "configuration", ")", "throws", "ioexception", "{", "return", "new", "token", "based", "paging", "delegate", "<", "file", ">", "(", ")", "{", "@", "override", "public", "list", "<", "file", ">", "do", "get", "page", "(", ")", "throws", "ioexception", "{", "file", "list", "response", "=", "client", ".", "files", "(", ")", ".", "list", "(", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "this", ".", "get", "page", "token", "(", ")", ")", ".", "set", "q", "(", "query", ")", ".", "execute", "(", ")", ";", "this", ".", "set", "page", "token", "(", "response", ".", "get", "next", "page", "token", "(", ")", ")", ";", "return", "file", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "file", ".", "class", ")", ";", "}", "}", ";", "}"], "span_diff_code": "<KEEP> @ processor @ oauth protected @ oauth invalidate access token on ( exception = oauth token expired exception . class ) @ <KEEP_END> <REPLACE_OLD> inject <REPLACE_NEW> paged <REPLACE_END> <KEEP> public <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> paging delegate <REPLACE_END> <KEEP> < file > list files ( <KEEP_END> <DELETE> mule message message , <DELETE_END> <KEEP> @ optional @ default ( str ) <KEEP_END> <INSERT> final <INSERT_END> <KEEP> int max results , @ optional <KEEP_END> <INSERT> final <INSERT_END> <KEEP> string query , <KEEP_END> <INSERT> final paging configuration paging configuration ) throws ioexception { return new token based paging delegate < file > ( ) { <INSERT_END> <KEEP> @ <KEEP_END> <REPLACE_OLD> optional @ default <REPLACE_NEW> override public list < file > do get page <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> str ) string page token <DELETE_END> <KEEP> ) throws ioexception { file list response = <KEEP_END> <DELETE> this . <DELETE_END> <KEEP> client . files ( ) . list ( ) . set max results ( max results ) . set page token ( <KEEP_END> <INSERT> this . get <INSERT_END> <KEEP> page token <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ) . set q ( query ) . execute ( ) ; <KEEP_END> <REPLACE_OLD> pagination utils <REPLACE_NEW> this <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> save <REPLACE_NEW> set <REPLACE_END> <KEEP> page token ( <KEEP_END> <DELETE> next _ page _ token , <DELETE_END> <KEEP> response . get next page token ( ) <KEEP_END> <DELETE> , message <DELETE_END> <KEEP> ) ; return file . value of ( response . get items ( ) , file . class ) ; } <KEEP_END> <INSERT> } ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "@", "processor", "@", "oauth", "protected", "@", "oauth", "invalidate", "access", "token", "on", "(", "exception", "=", "oauth", "token", "expired", "exception", ".", "class", ")", "@", "<KEEP_END>", "<REPLACE_OLD>", "inject", "<REPLACE_NEW>", "paged", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paging", "delegate", "<REPLACE_END>", "<KEEP>", "<", "file", ">", "list", "files", "(", "<KEEP_END>", "<DELETE>", "mule", "message", "message", ",", "<DELETE_END>", "<KEEP>", "@", "optional", "@", "default", "(", "str", ")", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "int", "max", "results", ",", "@", "optional", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "string", "query", ",", "<KEEP_END>", "<INSERT>", "final", "paging", "configuration", "paging", "configuration", ")", "throws", "ioexception", "{", "return", "new", "token", "based", "paging", "delegate", "<", "file", ">", "(", ")", "{", "<INSERT_END>", "<KEEP>", "@", "<KEEP_END>", "<REPLACE_OLD>", "optional", "@", "default", "<REPLACE_NEW>", "override", "public", "list", "<", "file", ">", "do", "get", "page", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "str", ")", "string", "page", "token", "<DELETE_END>", "<KEEP>", ")", "throws", "ioexception", "{", "file", "list", "response", "=", "<KEEP_END>", "<DELETE>", "this", ".", "<DELETE_END>", "<KEEP>", "client", ".", "files", "(", ")", ".", "list", "(", ")", ".", "set", "max", "results", "(", "max", "results", ")", ".", "set", "page", "token", "(", "<KEEP_END>", "<INSERT>", "this", ".", "get", "<INSERT_END>", "<KEEP>", "page", "token", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ")", ".", "set", "q", "(", "query", ")", ".", "execute", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "pagination", "utils", "<REPLACE_NEW>", "this", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "save", "<REPLACE_NEW>", "set", "<REPLACE_END>", "<KEEP>", "page", "token", "(", "<KEEP_END>", "<DELETE>", "next", "_", "page", "_", "token", ",", "<DELETE_END>", "<KEEP>", "response", ".", "get", "next", "page", "token", "(", ")", "<KEEP_END>", "<DELETE>", ",", "message", "<DELETE_END>", "<KEEP>", ")", ";", "return", "file", ".", "value", "of", "(", "response", ".", "get", "items", "(", ")", ",", "file", ".", "class", ")", ";", "}", "<KEEP_END>", "<INSERT>", "}", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> paginated iterator <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paginated", "iterator", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "processor", "<KEEP>", "@", "<KEEP>", "oauth", "<KEEP>", "protected", "<KEEP>", "@", "<KEEP>", "oauth", "<KEEP>", "invalidate", "<KEEP>", "access", "<KEEP>", "token", "<KEEP>", "on", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "oauth", "<KEEP>", "token", "<KEEP>", "expired", "<KEEP>", "exception", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "@", "<REPLACE_OLD>", "inject", "<REPLACE_NEW>", "paged", "<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "paging", "<REPLACE_NEW>", "delegate", "<KEEP>", "<", "<KEEP>", "file", "<KEEP>", ">", "<KEEP>", "list", "<KEEP>", "files", "<KEEP>", "(", "<DELETE>", "mule", "<DELETE>", "message", "<DELETE>", "message", "<DELETE>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<KEEP>", "@", "<KEEP>", "default", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<INSERT>", "final", "<KEEP>", "int", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", ",", "<KEEP>", "@", "<KEEP>", "optional", "<INSERT>", "final", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", ",", "<INSERT>", "final", "<INSERT>", "paging", "<INSERT>", "configuration", "<INSERT>", "paging", "<INSERT>", "configuration", "<INSERT>", ")", "<INSERT>", "throws", "<INSERT>", "ioexception", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "new", "<INSERT>", "token", "<INSERT>", "based", "<INSERT>", "paging", "<INSERT>", "delegate", "<INSERT>", "<", "<INSERT>", "file", "<INSERT>", ">", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "@", "<REPLACE_OLD>", "optional", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "default", "<REPLACE_NEW>", "override", "<REPLACE_NEW>", "public", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "file", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "do", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "page", "<KEEP>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "string", "<DELETE>", "page", "<DELETE>", "token", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<KEEP>", "file", "<KEEP>", "list", "<KEEP>", "response", "<KEEP>", "=", "<DELETE>", "this", "<DELETE>", ".", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "files", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", "(", "<KEEP>", "max", "<KEEP>", "results", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<INSERT>", "this", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "page", "<KEEP>", "token", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "q", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "execute", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "pagination", "<REPLACE_OLD>", "utils", "<REPLACE_NEW>", "this", "<KEEP>", ".", "<REPLACE_OLD>", "save", "<REPLACE_NEW>", "set", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<DELETE>", "next", "<DELETE>", "_", "<DELETE>", "page", "<DELETE>", "_", "<DELETE>", "token", "<DELETE>", ",", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "next", "<KEEP>", "page", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", ")", "<DELETE>", ",", "<DELETE>", "message", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "value", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "items", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "davemorrissey_subsampling-scale-image-view-6-3137", "old_comment": "scale animation builder instance . call com . davemorrissey . labs . subscaleview . subsampling scale image view . scale animation builder # start ( ) to start the anim .", "old_comment_tokens": ["scale", "animation", "builder", "instance", ".", "call", "com", ".", "davemorrissey", ".", "labs", ".", "subscaleview", ".", "subsampling", "scale", "image", "view", ".", "scale", "animation", "builder", "#", "start", "(", ")", "to", "start", "the", "anim", "."], "new_comment": "animation builder instance . call com . davemorrissey . labs . subscaleview . subsampling scale image view . animation builder # start ( ) to start the anim .", "new_comment_tokens": ["animation", "builder", "instance", ".", "call", "com", ".", "davemorrissey", ".", "labs", ".", "subscaleview", ".", "subsampling", "scale", "image", "view", ".", "animation", "builder", "#", "start", "(", ")", "to", "start", "the", "anim", "."], "old_code": "public scale animation builder animate scale and center ( float scale , point f s center ) { if ( ! is image ready ( ) ) { return null ; } return new scale animation builder ( scale , s center ) ; }", "old_code_tokens": ["public", "scale", "animation", "builder", "animate", "scale", "and", "center", "(", "float", "scale", ",", "point", "f", "s", "center", ")", "{", "if", "(", "!", "is", "image", "ready", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "scale", "animation", "builder", "(", "scale", ",", "s", "center", ")", ";", "}"], "new_code": "public animation builder animate scale and center ( float scale , point f s center ) { if ( ! is image ready ( ) ) { return null ; } return new animation builder ( scale , s center ) ; }", "new_code_tokens": ["public", "animation", "builder", "animate", "scale", "and", "center", "(", "float", "scale", ",", "point", "f", "s", "center", ")", "{", "if", "(", "!", "is", "image", "ready", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "animation", "builder", "(", "scale", ",", "s", "center", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> scale <DELETE_END> <KEEP> animation builder animate scale and center ( float scale , point f s center ) { if ( ! is image ready ( ) ) { return null ; } return new <KEEP_END> <DELETE> scale <DELETE_END> <KEEP> animation builder ( scale , s center ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "scale", "<DELETE_END>", "<KEEP>", "animation", "builder", "animate", "scale", "and", "center", "(", "float", "scale", ",", "point", "f", "s", "center", ")", "{", "if", "(", "!", "is", "image", "ready", "(", ")", ")", "{", "return", "null", ";", "}", "return", "new", "<KEEP_END>", "<DELETE>", "scale", "<DELETE_END>", "<KEEP>", "animation", "builder", "(", "scale", ",", "s", "center", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_AFTER> scale animation builder instance <REPLACE_NEW_DELETE_KEEP_AFTER> animation builder instance <REPLACE_END> <REPLACE_OLD_DELETE_KEEP_BEFORE> . scale <REPLACE_NEW_DELETE_KEEP_BEFORE> . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_AFTER>", "scale", "animation", "builder", "instance", "<REPLACE_NEW_DELETE_KEEP_AFTER>", "animation", "builder", "instance", "<REPLACE_END>", "<REPLACE_OLD_DELETE_KEEP_BEFORE>", ".", "scale", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "scale", "<KEEP>", "animation", "<KEEP>", "builder", "<KEEP>", "animate", "<KEEP>", "scale", "<KEEP>", "and", "<KEEP>", "center", "<KEEP>", "(", "<KEEP>", "float", "<KEEP>", "scale", "<KEEP>", ",", "<KEEP>", "point", "<KEEP>", "f", "<KEEP>", "s", "<KEEP>", "center", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "is", "<KEEP>", "image", "<KEEP>", "ready", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<DELETE>", "scale", "<KEEP>", "animation", "<KEEP>", "builder", "<KEEP>", "(", "<KEEP>", "scale", "<KEEP>", ",", "<KEEP>", "s", "<KEEP>", "center", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "team55_plist-1-4268", "old_comment": "whether the objects are equal in terms of numeric value .", "old_comment_tokens": ["whether", "the", "objects", "are", "equal", "in", "terms", "of", "numeric", "value", "."], "new_comment": "whether the objects are equal in terms of numeric value and type .", "new_comment_tokens": ["whether", "the", "objects", "are", "equal", "in", "terms", "of", "numeric", "value", "and", "type", "."], "old_code": "@ override public boolean equals ( object obj ) { return obj . get class ( ) . equals ( nsnumber . class ) & & obj . hash code ( ) = = hash code ( ) ; }", "old_code_tokens": ["@", "override", "public", "boolean", "equals", "(", "object", "obj", ")", "{", "return", "obj", ".", "get", "class", "(", ")", ".", "equals", "(", "nsnumber", ".", "class", ")", "&", "&", "obj", ".", "hash", "code", "(", ")", "=", "=", "hash", "code", "(", ")", ";", "}"], "new_code": "@ override public boolean equals ( object obj ) { if ( ! ( obj instanceof nsnumber ) ) return false ; nsnumber n = ( nsnumber ) obj ; return type = = n . type & & long value = = n . long value & & double value = = n . double value & & bool value = = n . bool value ; }", "new_code_tokens": ["@", "override", "public", "boolean", "equals", "(", "object", "obj", ")", "{", "if", "(", "!", "(", "obj", "instanceof", "nsnumber", ")", ")", "return", "false", ";", "nsnumber", "n", "=", "(", "nsnumber", ")", "obj", ";", "return", "type", "=", "=", "n", ".", "type", "&", "&", "long", "value", "=", "=", "n", ".", "long", "value", "&", "&", "double", "value", "=", "=", "n", ".", "double", "value", "&", "&", "bool", "value", "=", "=", "n", ".", "bool", "value", ";", "}"], "span_diff_code": "<KEEP> @ override public boolean equals ( object obj ) { <KEEP_END> <INSERT> if ( ! ( obj instanceof nsnumber ) ) <INSERT_END> <KEEP> return <KEEP_END> <REPLACE_OLD> obj . get class ( ) . equals <REPLACE_NEW> false ; nsnumber n = <REPLACE_END> <KEEP> ( nsnumber <KEEP_END> <INSERT> ) obj ; return type = = n <INSERT_END> <KEEP> . <KEEP_END> <REPLACE_OLD> class ) <REPLACE_NEW> type <REPLACE_END> <KEEP> & & <KEEP_END> <REPLACE_OLD> obj . hash code ( ) <REPLACE_NEW> long value <REPLACE_END> <KEEP> = = <KEEP_END> <REPLACE_OLD> hash code ( ) <REPLACE_NEW> n . long value & & double value = = n . double value & & bool value = = n . bool value <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "boolean", "equals", "(", "object", "obj", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "!", "(", "obj", "instanceof", "nsnumber", ")", ")", "<INSERT_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "obj", ".", "get", "class", "(", ")", ".", "equals", "<REPLACE_NEW>", "false", ";", "nsnumber", "n", "=", "<REPLACE_END>", "<KEEP>", "(", "nsnumber", "<KEEP_END>", "<INSERT>", ")", "obj", ";", "return", "type", "=", "=", "n", "<INSERT_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "class", ")", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "&", "&", "<KEEP_END>", "<REPLACE_OLD>", "obj", ".", "hash", "code", "(", ")", "<REPLACE_NEW>", "long", "value", "<REPLACE_END>", "<KEEP>", "=", "=", "<KEEP_END>", "<REPLACE_OLD>", "hash", "code", "(", ")", "<REPLACE_NEW>", "n", ".", "long", "value", "&", "&", "double", "value", "=", "=", "n", ".", "double", "value", "&", "&", "bool", "value", "=", "=", "n", ".", "bool", "value", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> value <INSERT_NEW_KEEP_BEFORE> value and type <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "value", "<INSERT_NEW_KEEP_BEFORE>", "value", "and", "type", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "object", "<KEEP>", "obj", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "!", "<INSERT>", "(", "<INSERT>", "obj", "<INSERT>", "instanceof", "<INSERT>", "nsnumber", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "obj", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_NEW>", "false", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "nsnumber", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", "=", "<KEEP>", "(", "<KEEP>", "nsnumber", "<INSERT>", ")", "<INSERT>", "obj", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "n", "<KEEP>", ".", "<REPLACE_OLD>", "class", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "type", "<KEEP>", "&", "<KEEP>", "&", "<REPLACE_OLD>", "obj", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "value", "<KEEP>", "=", "<KEEP>", "=", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "long", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "double", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "double", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "&", "<REPLACE_NEW>", "bool", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "n", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "bool", "<REPLACE_NEW>", "value", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yanzhenjie_NoHttp-4-1309", "old_comment": "connection result state return true , otherwise it returns false .", "old_comment_tokens": ["connection", "result", "state", "return", "true", ",", "otherwise", "it", "returns", "false", "."], "new_comment": "connection state return true , otherwise it returns false .", "new_comment_tokens": ["connection", "state", "return", "true", ",", "otherwise", "it", "returns", "false", "."], "old_code": "public static boolean is connected ( net type net type , network info network info ) { if ( net type = = net type . any & & network info ! = null & & is connected ( network info ) ) return true ; else if ( net type = = net type . wifi & & network info ! = null & & network info . get type ( ) = = connectivity manager . type _ wifi & & is connected ( network info ) ) return true ; else if ( net type = = net type . mobile & & network info ! = null & & network info . get type ( ) = = connectivity manager . type _ mobile & & is connected ( network info ) ) return true ; return false ; }", "old_code_tokens": ["public", "static", "boolean", "is", "connected", "(", "net", "type", "net", "type", ",", "network", "info", "network", "info", ")", "{", "if", "(", "net", "type", "=", "=", "net", "type", ".", "any", "&", "&", "network", "info", "!", "=", "null", "&", "&", "is", "connected", "(", "network", "info", ")", ")", "return", "true", ";", "else", "if", "(", "net", "type", "=", "=", "net", "type", ".", "wifi", "&", "&", "network", "info", "!", "=", "null", "&", "&", "network", "info", ".", "get", "type", "(", ")", "=", "=", "connectivity", "manager", ".", "type", "_", "wifi", "&", "&", "is", "connected", "(", "network", "info", ")", ")", "return", "true", ";", "else", "if", "(", "net", "type", "=", "=", "net", "type", ".", "mobile", "&", "&", "network", "info", "!", "=", "null", "&", "&", "network", "info", ".", "get", "type", "(", ")", "=", "=", "connectivity", "manager", ".", "type", "_", "mobile", "&", "&", "is", "connected", "(", "network", "info", ")", ")", "return", "true", ";", "return", "false", ";", "}"], "new_code": "private static boolean is connected ( net type net type , network info network info ) { switch ( net type ) { case any : return network info ! = null & & is connected ( network info ) ; case wifi : return network info ! = null & & network info . get type ( ) = = connectivity manager . type _ wifi & & is connected ( network info ) ; case mobile : return network info ! = null & & network info . get type ( ) = = connectivity manager . type _ mobile & & is connected ( network info ) ; } return false ; }", "new_code_tokens": ["private", "static", "boolean", "is", "connected", "(", "net", "type", "net", "type", ",", "network", "info", "network", "info", ")", "{", "switch", "(", "net", "type", ")", "{", "case", "any", ":", "return", "network", "info", "!", "=", "null", "&", "&", "is", "connected", "(", "network", "info", ")", ";", "case", "wifi", ":", "return", "network", "info", "!", "=", "null", "&", "&", "network", "info", ".", "get", "type", "(", ")", "=", "=", "connectivity", "manager", ".", "type", "_", "wifi", "&", "&", "is", "connected", "(", "network", "info", ")", ";", "case", "mobile", ":", "return", "network", "info", "!", "=", "null", "&", "&", "network", "info", ".", "get", "type", "(", ")", "=", "=", "connectivity", "manager", ".", "type", "_", "mobile", "&", "&", "is", "connected", "(", "network", "info", ")", ";", "}", "return", "false", ";", "}"], "span_diff_code": "<REPLACE_OLD> public <REPLACE_NEW> private <REPLACE_END> <KEEP> static boolean is connected ( net type net type , network info network info ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> switch <REPLACE_END> <KEEP> ( net type <KEEP_END> <REPLACE_OLD> = = net type . <REPLACE_NEW> ) { case <REPLACE_END> <KEEP> any <KEEP_END> <REPLACE_OLD> & & <REPLACE_NEW> : return <REPLACE_END> <KEEP> network info ! = null & & is connected ( network info ) <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> ; case wifi : <REPLACE_END> <KEEP> return <KEEP_END> <DELETE> true ; else if ( net type = = net type . wifi & & <DELETE_END> <KEEP> network info ! = null & & network info . get type ( ) = = connectivity manager . type _ wifi & & is connected ( network info ) <KEEP_END> <REPLACE_OLD> ) <REPLACE_NEW> ; case mobile : <REPLACE_END> <KEEP> return <KEEP_END> <DELETE> true ; else if ( net type = = net type . mobile & & <DELETE_END> <KEEP> network info ! = null & & network info . get type ( ) = = connectivity manager . type _ mobile & & is connected ( network info ) <KEEP_END> <DELETE> ) return true <DELETE_END> <KEEP> ; <KEEP_END> <INSERT> } <INSERT_END> <KEEP> return false ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_NEW>", "private", "<REPLACE_END>", "<KEEP>", "static", "boolean", "is", "connected", "(", "net", "type", "net", "type", ",", "network", "info", "network", "info", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "switch", "<REPLACE_END>", "<KEEP>", "(", "net", "type", "<KEEP_END>", "<REPLACE_OLD>", "=", "=", "net", "type", ".", "<REPLACE_NEW>", ")", "{", "case", "<REPLACE_END>", "<KEEP>", "any", "<KEEP_END>", "<REPLACE_OLD>", "&", "&", "<REPLACE_NEW>", ":", "return", "<REPLACE_END>", "<KEEP>", "network", "info", "!", "=", "null", "&", "&", "is", "connected", "(", "network", "info", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "case", "wifi", ":", "<REPLACE_END>", "<KEEP>", "return", "<KEEP_END>", "<DELETE>", "true", ";", "else", "if", "(", "net", "type", "=", "=", "net", "type", ".", "wifi", "&", "&", "<DELETE_END>", "<KEEP>", "network", "info", "!", "=", "null", "&", "&", "network", "info", ".", "get", "type", "(", ")", "=", "=", "connectivity", "manager", ".", "type", "_", "wifi", "&", "&", "is", "connected", "(", "network", "info", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "case", "mobile", ":", "<REPLACE_END>", "<KEEP>", "return", "<KEEP_END>", "<DELETE>", "true", ";", "else", "if", "(", "net", "type", "=", "=", "net", "type", ".", "mobile", "&", "&", "<DELETE_END>", "<KEEP>", "network", "info", "!", "=", "null", "&", "&", "network", "info", ".", "get", "type", "(", ")", "=", "=", "connectivity", "manager", ".", "type", "_", "mobile", "&", "&", "is", "connected", "(", "network", "info", ")", "<KEEP_END>", "<DELETE>", ")", "return", "true", "<DELETE_END>", "<KEEP>", ";", "<KEEP_END>", "<INSERT>", "}", "<INSERT_END>", "<KEEP>", "return", "false", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> result <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "result", "<DELETE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_NEW>", "private", "<KEEP>", "static", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "connected", "<KEEP>", "(", "<KEEP>", "net", "<KEEP>", "type", "<KEEP>", "net", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "switch", "<KEEP>", "(", "<KEEP>", "net", "<KEEP>", "type", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "net", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ".", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "case", "<KEEP>", "any", "<REPLACE_OLD>", "&", "<REPLACE_OLD>", "&", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "return", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "is", "<KEEP>", "connected", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "case", "<REPLACE_NEW>", "wifi", "<REPLACE_NEW>", ":", "<KEEP>", "return", "<DELETE>", "true", "<DELETE>", ";", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "net", "<DELETE>", "type", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "net", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "wifi", "<DELETE>", "&", "<DELETE>", "&", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "connectivity", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "wifi", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "is", "<KEEP>", "connected", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "case", "<REPLACE_NEW>", "mobile", "<REPLACE_NEW>", ":", "<KEEP>", "return", "<DELETE>", "true", "<DELETE>", ";", "<DELETE>", "else", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "net", "<DELETE>", "type", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "net", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "mobile", "<DELETE>", "&", "<DELETE>", "&", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "connectivity", "<KEEP>", "manager", "<KEEP>", ".", "<KEEP>", "type", "<KEEP>", "_", "<KEEP>", "mobile", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "is", "<KEEP>", "connected", "<KEEP>", "(", "<KEEP>", "network", "<KEEP>", "info", "<KEEP>", ")", "<DELETE>", ")", "<DELETE>", "return", "<DELETE>", "true", "<KEEP>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "false", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_physical-web-1-832", "old_comment": "the stored value or null if it doesn ' t exist in specified form .", "old_comment_tokens": ["the", "stored", "value", "or", "null", "if", "it", "doesn", "'", "t", "exist", "in", "specified", "form", "."], "new_comment": "the stored value .", "new_comment_tokens": ["the", "stored", "value", "."], "old_code": "public boolean get extra boolean ( string key ) { return m extra data . opt boolean ( key ) ; }", "old_code_tokens": ["public", "boolean", "get", "extra", "boolean", "(", "string", "key", ")", "{", "return", "m", "extra", "data", ".", "opt", "boolean", "(", "key", ")", ";", "}"], "new_code": "public boolean get extra boolean ( string key ) throws jsonexception { return m extra data . get boolean ( key ) ; }", "new_code_tokens": ["public", "boolean", "get", "extra", "boolean", "(", "string", "key", ")", "throws", "jsonexception", "{", "return", "m", "extra", "data", ".", "get", "boolean", "(", "key", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean get extra boolean ( string key ) <KEEP_END> <INSERT> throws jsonexception <INSERT_END> <KEEP> { return m extra data . <KEEP_END> <REPLACE_OLD> opt <REPLACE_NEW> get <REPLACE_END> <KEEP> boolean ( key ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "get", "extra", "boolean", "(", "string", "key", ")", "<KEEP_END>", "<INSERT>", "throws", "jsonexception", "<INSERT_END>", "<KEEP>", "{", "return", "m", "extra", "data", ".", "<KEEP_END>", "<REPLACE_OLD>", "opt", "<REPLACE_NEW>", "get", "<REPLACE_END>", "<KEEP>", "boolean", "(", "key", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> or null if it doesn ' t exist in specified form <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "or", "null", "if", "it", "doesn", "'", "t", "exist", "in", "specified", "form", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "get", "<KEEP>", "extra", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "jsonexception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "extra", "<KEEP>", "data", "<KEEP>", ".", "<REPLACE_OLD>", "opt", "<REPLACE_NEW>", "get", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_giraph-184-5641", "old_comment": "long total of values seen", "old_comment_tokens": ["long", "total", "of", "values", "seen"], "new_comment": "total of values seen", "new_comment_tokens": ["total", "of", "values", "seen"], "old_code": "public long sum ( ) { return sum ; }", "old_code_tokens": ["public", "long", "sum", "(", ")", "{", "return", "sum", ";", "}"], "new_code": "public t sum ( ) { return sum ; }", "new_code_tokens": ["public", "t", "sum", "(", ")", "{", "return", "sum", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> t <REPLACE_END> <KEEP> sum ( ) { return sum ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "t", "<REPLACE_END>", "<KEEP>", "sum", "(", ")", "{", "return", "sum", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> long <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "long", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "t", "<KEEP>", "sum", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "sum", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_activemq-75-6618", "old_comment": "lsit of objects whose view has been filtered", "old_comment_tokens": ["lsit", "of", "objects", "whose", "view", "has", "been", "filtered"], "new_comment": "list of objects whose view has been filtered", "new_comment_tokens": ["list", "of", "objects", "whose", "view", "has", "been", "filtered"], "old_code": "protected list filter view collection ( collection result , set view filter ) { list new collection = new array list ( ) ; for ( iterator i = result . iterator ( ) ; i . has next ( ) ; ) { new collection . add ( filter view ( ( map ) i . next ( ) ) ) ; } return new collection ; }", "old_code_tokens": ["protected", "list", "filter", "view", "collection", "(", "collection", "result", ",", "set", "view", "filter", ")", "{", "list", "new", "collection", "=", "new", "array", "list", "(", ")", ";", "for", "(", "iterator", "i", "=", "result", ".", "iterator", "(", ")", ";", "i", ".", "has", "next", "(", ")", ";", ")", "{", "new", "collection", ".", "add", "(", "filter", "view", "(", "(", "map", ")", "i", ".", "next", "(", ")", ")", ")", ";", "}", "return", "new", "collection", ";", "}"], "new_code": "protected list < map < object , object > > filter view collection ( collection < map < object , object > > result , set view filter ) { list < map < object , object > > new collection = new array list < map < object , object > > ( ) ; for ( iterator < map < object , object > > i = result . iterator ( ) ; i . has next ( ) ; ) { new collection . add ( filter view ( i . next ( ) ) ) ; } return new collection ; }", "new_code_tokens": ["protected", "list", "<", "map", "<", "object", ",", "object", ">", ">", "filter", "view", "collection", "(", "collection", "<", "map", "<", "object", ",", "object", ">", ">", "result", ",", "set", "view", "filter", ")", "{", "list", "<", "map", "<", "object", ",", "object", ">", ">", "new", "collection", "=", "new", "array", "list", "<", "map", "<", "object", ",", "object", ">", ">", "(", ")", ";", "for", "(", "iterator", "<", "map", "<", "object", ",", "object", ">", ">", "i", "=", "result", ".", "iterator", "(", ")", ";", "i", ".", "has", "next", "(", ")", ";", ")", "{", "new", "collection", ".", "add", "(", "filter", "view", "(", "i", ".", "next", "(", ")", ")", ")", ";", "}", "return", "new", "collection", ";", "}"], "span_diff_code": "<KEEP> protected list <KEEP_END> <INSERT> < map < object , object > > <INSERT_END> <KEEP> filter view collection ( collection <KEEP_END> <INSERT> < map < object , object > > <INSERT_END> <KEEP> result , set view filter ) { list <KEEP_END> <INSERT> < map < object , object > > <INSERT_END> <KEEP> new collection = new array list <KEEP_END> <INSERT> < map < object , object > > <INSERT_END> <KEEP> ( ) ; for ( iterator <KEEP_END> <INSERT> < map < object , object > > <INSERT_END> <KEEP> i = result . iterator ( ) ; i . has next ( ) ; ) { new collection . add ( filter view ( <KEEP_END> <DELETE> ( map ) <DELETE_END> <KEEP> i . next ( ) ) ) ; } return new collection ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "list", "<KEEP_END>", "<INSERT>", "<", "map", "<", "object", ",", "object", ">", ">", "<INSERT_END>", "<KEEP>", "filter", "view", "collection", "(", "collection", "<KEEP_END>", "<INSERT>", "<", "map", "<", "object", ",", "object", ">", ">", "<INSERT_END>", "<KEEP>", "result", ",", "set", "view", "filter", ")", "{", "list", "<KEEP_END>", "<INSERT>", "<", "map", "<", "object", ",", "object", ">", ">", "<INSERT_END>", "<KEEP>", "new", "collection", "=", "new", "array", "list", "<KEEP_END>", "<INSERT>", "<", "map", "<", "object", ",", "object", ">", ">", "<INSERT_END>", "<KEEP>", "(", ")", ";", "for", "(", "iterator", "<KEEP_END>", "<INSERT>", "<", "map", "<", "object", ",", "object", ">", ">", "<INSERT_END>", "<KEEP>", "i", "=", "result", ".", "iterator", "(", ")", ";", "i", ".", "has", "next", "(", ")", ";", ")", "{", "new", "collection", ".", "add", "(", "filter", "view", "(", "<KEEP_END>", "<DELETE>", "(", "map", ")", "<DELETE_END>", "<KEEP>", "i", ".", "next", "(", ")", ")", ")", ";", "}", "return", "new", "collection", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> lsit <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "lsit", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "list", "<INSERT>", "<", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "object", "<INSERT>", ",", "<INSERT>", "object", "<INSERT>", ">", "<INSERT>", ">", "<KEEP>", "filter", "<KEEP>", "view", "<KEEP>", "collection", "<KEEP>", "(", "<KEEP>", "collection", "<INSERT>", "<", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "object", "<INSERT>", ",", "<INSERT>", "object", "<INSERT>", ">", "<INSERT>", ">", "<KEEP>", "result", "<KEEP>", ",", "<KEEP>", "set", "<KEEP>", "view", "<KEEP>", "filter", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "list", "<INSERT>", "<", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "object", "<INSERT>", ",", "<INSERT>", "object", "<INSERT>", ">", "<INSERT>", ">", "<KEEP>", "new", "<KEEP>", "collection", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<INSERT>", "<", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "object", "<INSERT>", ",", "<INSERT>", "object", "<INSERT>", ">", "<INSERT>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "iterator", "<INSERT>", "<", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "object", "<INSERT>", ",", "<INSERT>", "object", "<INSERT>", ">", "<INSERT>", ">", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", ".", "<KEEP>", "has", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "new", "<KEEP>", "collection", "<KEEP>", ".", "<KEEP>", "add", "<KEEP>", "(", "<KEEP>", "filter", "<KEEP>", "view", "<KEEP>", "(", "<DELETE>", "(", "<DELETE>", "map", "<DELETE>", ")", "<KEEP>", "i", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "collection", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.team-56-7356", "old_comment": "returns a ipath", "old_comment_tokens": ["returns", "a", "ipath"], "new_comment": "url of this resource ' s parent", "new_comment_tokens": ["url", "of", "this", "resource", "'", "s", "parent"], "old_code": "public ipath get root ( ) { return root ; }", "old_code_tokens": ["public", "ipath", "get", "root", "(", ")", "{", "return", "root", ";", "}"], "new_code": "public url get root ( ) { return root url ; }", "new_code_tokens": ["public", "url", "get", "root", "(", ")", "{", "return", "root", "url", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> ipath <REPLACE_NEW> url <REPLACE_END> <KEEP> get root ( ) { return root <KEEP_END> <INSERT> url <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "ipath", "<REPLACE_NEW>", "url", "<REPLACE_END>", "<KEEP>", "get", "root", "(", ")", "{", "return", "root", "<KEEP_END>", "<INSERT>", "url", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> returns a ipath <REPLACE_NEW> url of this resource ' s parent <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "returns", "a", "ipath", "<REPLACE_NEW>", "url", "of", "this", "resource", "'", "s", "parent", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "ipath", "<REPLACE_NEW>", "url", "<KEEP>", "get", "<KEEP>", "root", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "root", "<INSERT>", "url", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "scribejava_scribejava-3-2953", "old_comment": "a map containing the query string parameters", "old_comment_tokens": ["a", "map", "containing", "the", "query", "string", "parameters"], "new_comment": "a parameter list containing the query string parameters .", "new_comment_tokens": ["a", "parameter", "list", "containing", "the", "query", "string", "parameters", "."], "old_code": "public map < string , string > get query string params ( ) { try { map < string , string > params = new hash map < string , string > ( ) ; string query string = new url ( url ) . get query ( ) ; params . put all ( map utils . query string to map ( query string ) ) ; params . put all ( this . querystring params ) ; return params ; } catch ( malformed urlexception mue ) { throw new oauth exception ( str , mue ) ; } }", "old_code_tokens": ["public", "map", "<", "string", ",", "string", ">", "get", "query", "string", "params", "(", ")", "{", "try", "{", "map", "<", "string", ",", "string", ">", "params", "=", "new", "hash", "map", "<", "string", ",", "string", ">", "(", ")", ";", "string", "query", "string", "=", "new", "url", "(", "url", ")", ".", "get", "query", "(", ")", ";", "params", ".", "put", "all", "(", "map", "utils", ".", "query", "string", "to", "map", "(", "query", "string", ")", ")", ";", "params", ".", "put", "all", "(", "this", ".", "querystring", "params", ")", ";", "return", "params", ";", "}", "catch", "(", "malformed", "urlexception", "mue", ")", "{", "throw", "new", "oauth", "exception", "(", "str", ",", "mue", ")", ";", "}", "}"], "new_code": "public parameter list get query string params ( ) { try { parameter list result = new parameter list ( ) ; string query string = new url ( url ) . get query ( ) ; result . add querystring ( query string ) ; result . add all ( querystring params ) ; return result ; } catch ( malformed urlexception mue ) { throw new oauth exception ( str , mue ) ; } }", "new_code_tokens": ["public", "parameter", "list", "get", "query", "string", "params", "(", ")", "{", "try", "{", "parameter", "list", "result", "=", "new", "parameter", "list", "(", ")", ";", "string", "query", "string", "=", "new", "url", "(", "url", ")", ".", "get", "query", "(", ")", ";", "result", ".", "add", "querystring", "(", "query", "string", ")", ";", "result", ".", "add", "all", "(", "querystring", "params", ")", ";", "return", "result", ";", "}", "catch", "(", "malformed", "urlexception", "mue", ")", "{", "throw", "new", "oauth", "exception", "(", "str", ",", "mue", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> map < string , string > <REPLACE_NEW> parameter list <REPLACE_END> <KEEP> get query string params ( ) { try { <KEEP_END> <REPLACE_OLD> map < string , string > params <REPLACE_NEW> parameter list result <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> hash map < string , string > <REPLACE_NEW> parameter list <REPLACE_END> <KEEP> ( ) ; string query string = new url ( url ) . get query ( ) ; <KEEP_END> <REPLACE_OLD> params <REPLACE_NEW> result <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> put all ( map utils . query string to map <REPLACE_NEW> add querystring <REPLACE_END> <KEEP> ( query string ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; <KEEP_END> <REPLACE_OLD> params <REPLACE_NEW> result <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> put <REPLACE_NEW> add <REPLACE_END> <KEEP> all ( <KEEP_END> <DELETE> this . <DELETE_END> <KEEP> querystring params ) ; return <KEEP_END> <REPLACE_OLD> params <REPLACE_NEW> result <REPLACE_END> <KEEP> ; } catch ( malformed urlexception mue ) { throw new oauth exception ( str , mue ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "string", ">", "<REPLACE_NEW>", "parameter", "list", "<REPLACE_END>", "<KEEP>", "get", "query", "string", "params", "(", ")", "{", "try", "{", "<KEEP_END>", "<REPLACE_OLD>", "map", "<", "string", ",", "string", ">", "params", "<REPLACE_NEW>", "parameter", "list", "result", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hash", "map", "<", "string", ",", "string", ">", "<REPLACE_NEW>", "parameter", "list", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "string", "query", "string", "=", "new", "url", "(", "url", ")", ".", "get", "query", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "put", "all", "(", "map", "utils", ".", "query", "string", "to", "map", "<REPLACE_NEW>", "add", "querystring", "<REPLACE_END>", "<KEEP>", "(", "query", "string", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "<KEEP_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "add", "<REPLACE_END>", "<KEEP>", "all", "(", "<KEEP_END>", "<DELETE>", "this", ".", "<DELETE_END>", "<KEEP>", "querystring", "params", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "result", "<REPLACE_END>", "<KEEP>", ";", "}", "catch", "(", "malformed", "urlexception", "mue", ")", "{", "throw", "new", "oauth", "exception", "(", "str", ",", "mue", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> map <REPLACE_NEW> parameter list <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> parameters <INSERT_NEW_KEEP_BEFORE> parameters . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "map", "<REPLACE_NEW>", "parameter", "list", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "parameters", "<INSERT_NEW_KEEP_BEFORE>", "parameters", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "list", "<KEEP>", "get", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "params", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "try", "<KEEP>", "{", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "result", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hash", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "parameter", "<REPLACE_NEW>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "result", "<KEEP>", ".", "<REPLACE_OLD>", "put", "<REPLACE_OLD>", "all", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "map", "<REPLACE_OLD>", "utils", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "query", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "to", "<REPLACE_OLD>", "map", "<REPLACE_NEW>", "add", "<REPLACE_NEW>", "querystring", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "result", "<KEEP>", ".", "<REPLACE_OLD>", "put", "<REPLACE_NEW>", "add", "<KEEP>", "all", "<KEEP>", "(", "<DELETE>", "this", "<DELETE>", ".", "<KEEP>", "querystring", "<KEEP>", "params", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "params", "<REPLACE_NEW>", "result", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "malformed", "<KEEP>", "urlexception", "<KEEP>", "mue", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "oauth", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "mue", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_lenya-84-5179", "old_comment": "an iterator", "old_comment_tokens": ["an", "iterator"], "new_comment": "an array of items", "new_comment_tokens": ["an", "array", "of", "items"], "old_code": "public iterator get items ( ) { return items . values ( ) . iterator ( ) ; }", "old_code_tokens": ["public", "iterator", "get", "items", "(", ")", "{", "return", "items", ".", "values", "(", ")", ".", "iterator", "(", ")", ";", "}"], "new_code": "public item [ ] get items ( ) { return ( item [ ] ) items . values ( ) . to array ( new item [ items . values ( ) . size ( ) ] ) ; }", "new_code_tokens": ["public", "item", "[", "]", "get", "items", "(", ")", "{", "return", "(", "item", "[", "]", ")", "items", ".", "values", "(", ")", ".", "to", "array", "(", "new", "item", "[", "items", ".", "values", "(", ")", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> iterator <REPLACE_NEW> item [ ] <REPLACE_END> <KEEP> get items ( ) { return <KEEP_END> <INSERT> ( item [ ] ) <INSERT_END> <KEEP> items . values ( ) . <KEEP_END> <REPLACE_OLD> iterator <REPLACE_NEW> to array <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> new item [ items . values ( ) . size ( ) ] <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "item", "[", "]", "<REPLACE_END>", "<KEEP>", "get", "items", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "(", "item", "[", "]", ")", "<INSERT_END>", "<KEEP>", "items", ".", "values", "(", ")", ".", "<KEEP_END>", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "to", "array", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "new", "item", "[", "items", ".", "values", "(", ")", ".", "size", "(", ")", "]", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> iterator <REPLACE_NEW> array of items <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "array", "of", "items", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "item", "<REPLACE_NEW>", "[", "<REPLACE_NEW>", "]", "<KEEP>", "get", "<KEEP>", "items", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "(", "<INSERT>", "item", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", ")", "<KEEP>", "items", "<KEEP>", ".", "<KEEP>", "values", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "iterator", "<REPLACE_NEW>", "to", "<REPLACE_NEW>", "array", "<KEEP>", "(", "<INSERT>", "new", "<INSERT>", "item", "<INSERT>", "[", "<INSERT>", "items", "<INSERT>", ".", "<INSERT>", "values", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_wookie-10-6459", "old_comment": "a widget instance", "old_comment_tokens": ["a", "widget", "instance"], "new_comment": "a w3 cwidget instance", "new_comment_tokens": ["a", "w3", "cwidget", "instance"], "old_code": "public static widget get widget ( string metadata , string shindig ) throws exception { jsonobject gadget = null ; widget widget = null ; jsonobject response = new jsonobject ( metadata ) ; jsonarray gadgets = response . get jsonarray ( str ) ; if ( gadgets . length ( ) > num ) { gadget = gadgets . get jsonobject ( num ) ; if ( gadget . has ( str ) ) throw new exception ( str ) ; widget = new widget ( ) ; string title = str ; int height = num ; int width = num ; string author = str ; string description = str ; string icon = default _ icon ; if ( ! gadget . has ( str ) ) throw new exception ( str ) ; if ( gadget . get string ( str ) = = null | | gadget . get string ( str ) . equals ( str ) ) throw new exception ( str ) ; try { @ suppress warnings ( str ) url url = new url ( gadget . get string ( str ) ) ; } catch ( exception e ) { throw new exception ( str ) ; } widget . set guid ( gadget . get string ( str ) ) ; start file sf = new start file ( ) ; sf . set widget ( widget ) ; sf . set url ( shindig + str + gadget . get string ( str ) + str ) ; if ( gadget . has ( str ) ) if ( gadget . get int ( str ) ! = num ) height = gadget . get int ( str ) ; if ( gadget . has ( str ) ) if ( gadget . get int ( str ) ! = num ) width = gadget . get int ( str ) ; if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { author = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { title = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { title = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { title = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { icon = gadget . get string ( str ) ; } } } widget . set maximize ( false ) ; widget . set height ( height ) ; widget . set width ( width ) ; name name = new name ( ) ; name . set widget ( widget ) ; name . set name ( title ) ; description desc = new description ( ) ; desc . set widget ( widget ) ; desc . set content ( description ) ; widget icon wicon = new widget icon ( ) ; wicon . set src ( icon ) ; wicon . set widget ( widget ) ; widget . set widget author ( author ) ; widget . save ( ) ; sf . save ( ) ; name . save ( ) ; wicon . save ( ) ; desc . save ( ) ; } return widget ; }", "old_code_tokens": ["public", "static", "widget", "get", "widget", "(", "string", "metadata", ",", "string", "shindig", ")", "throws", "exception", "{", "jsonobject", "gadget", "=", "null", ";", "widget", "widget", "=", "null", ";", "jsonobject", "response", "=", "new", "jsonobject", "(", "metadata", ")", ";", "jsonarray", "gadgets", "=", "response", ".", "get", "jsonarray", "(", "str", ")", ";", "if", "(", "gadgets", ".", "length", "(", ")", ">", "num", ")", "{", "gadget", "=", "gadgets", ".", "get", "jsonobject", "(", "num", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "throw", "new", "exception", "(", "str", ")", ";", "widget", "=", "new", "widget", "(", ")", ";", "string", "title", "=", "str", ";", "int", "height", "=", "num", ";", "int", "width", "=", "num", ";", "string", "author", "=", "str", ";", "string", "description", "=", "str", ";", "string", "icon", "=", "default", "_", "icon", ";", "if", "(", "!", "gadget", ".", "has", "(", "str", ")", ")", "throw", "new", "exception", "(", "str", ")", ";", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "=", "=", "null", "|", "|", "gadget", ".", "get", "string", "(", "str", ")", ".", "equals", "(", "str", ")", ")", "throw", "new", "exception", "(", "str", ")", ";", "try", "{", "@", "suppress", "warnings", "(", "str", ")", "url", "url", "=", "new", "url", "(", "gadget", ".", "get", "string", "(", "str", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "throw", "new", "exception", "(", "str", ")", ";", "}", "widget", ".", "set", "guid", "(", "gadget", ".", "get", "string", "(", "str", ")", ")", ";", "start", "file", "sf", "=", "new", "start", "file", "(", ")", ";", "sf", ".", "set", "widget", "(", "widget", ")", ";", "sf", ".", "set", "url", "(", "shindig", "+", "str", "+", "gadget", ".", "get", "string", "(", "str", ")", "+", "str", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "if", "(", "gadget", ".", "get", "int", "(", "str", ")", "!", "=", "num", ")", "height", "=", "gadget", ".", "get", "int", "(", "str", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "if", "(", "gadget", ".", "get", "int", "(", "str", ")", "!", "=", "num", ")", "width", "=", "gadget", ".", "get", "int", "(", "str", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "author", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "title", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "title", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "title", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "icon", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "widget", ".", "set", "maximize", "(", "false", ")", ";", "widget", ".", "set", "height", "(", "height", ")", ";", "widget", ".", "set", "width", "(", "width", ")", ";", "name", "name", "=", "new", "name", "(", ")", ";", "name", ".", "set", "widget", "(", "widget", ")", ";", "name", ".", "set", "name", "(", "title", ")", ";", "description", "desc", "=", "new", "description", "(", ")", ";", "desc", ".", "set", "widget", "(", "widget", ")", ";", "desc", ".", "set", "content", "(", "description", ")", ";", "widget", "icon", "wicon", "=", "new", "widget", "icon", "(", ")", ";", "wicon", ".", "set", "src", "(", "icon", ")", ";", "wicon", ".", "set", "widget", "(", "widget", ")", ";", "widget", ".", "set", "widget", "author", "(", "author", ")", ";", "widget", ".", "save", "(", ")", ";", "sf", ".", "save", "(", ")", ";", "name", ".", "save", "(", ")", ";", "wicon", ".", "save", "(", ")", ";", "desc", ".", "save", "(", ")", ";", "}", "return", "widget", ";", "}"], "new_code": "public static w3 cwidget get widget ( string metadata , string shindig ) throws exception { jsonobject gadget = null ; jsonobject response = new jsonobject ( metadata ) ; jsonarray gadgets = response . get jsonarray ( str ) ; if ( gadgets . length ( ) = = num ) return null ; gadget = gadgets . get jsonobject ( num ) ; return new gadget adapter ( gadget , shindig ) ; }", "new_code_tokens": ["public", "static", "w3", "cwidget", "get", "widget", "(", "string", "metadata", ",", "string", "shindig", ")", "throws", "exception", "{", "jsonobject", "gadget", "=", "null", ";", "jsonobject", "response", "=", "new", "jsonobject", "(", "metadata", ")", ";", "jsonarray", "gadgets", "=", "response", ".", "get", "jsonarray", "(", "str", ")", ";", "if", "(", "gadgets", ".", "length", "(", ")", "=", "=", "num", ")", "return", "null", ";", "gadget", "=", "gadgets", ".", "get", "jsonobject", "(", "num", ")", ";", "return", "new", "gadget", "adapter", "(", "gadget", ",", "shindig", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> widget <REPLACE_NEW> w3 cwidget <REPLACE_END> <KEEP> get widget ( string metadata , string shindig ) throws exception { jsonobject gadget <KEEP_END> <DELETE> = null ; widget widget <DELETE_END> <KEEP> = null ; jsonobject response = new jsonobject ( metadata ) ; jsonarray gadgets = response . get jsonarray ( str ) ; if ( gadgets . length ( ) <KEEP_END> <REPLACE_OLD> > <REPLACE_NEW> = = <REPLACE_END> <KEEP> num ) <KEEP_END> <REPLACE_OLD> { <REPLACE_NEW> return null ; <REPLACE_END> <KEEP> gadget = gadgets . get jsonobject ( num ) ; <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return new gadget adapter <REPLACE_END> <KEEP> ( gadget <KEEP_END> <REPLACE_OLD> . has ( str ) ) throw new exception ( str ) ; widget = new widget ( ) ; string title = str ; int height = num ; int width = num ; string author = str ; string description = str ; string icon = default _ icon ; if ( ! gadget . has ( str ) ) throw new exception ( str ) ; if ( gadget . get string ( str ) = = null | | gadget . get string ( str ) . equals ( str ) ) throw new exception ( str ) ; try { @ suppress warnings ( str ) url url = new url ( gadget . get string ( str ) <REPLACE_NEW> , shindig <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> catch ( exception e ) { throw new exception ( str ) ; } widget . set guid ( gadget . get string ( str ) ) ; start file sf = new start file ( ) ; sf . set widget ( widget ) ; sf . set url ( shindig + str + gadget . get string ( str ) + str ) ; if ( gadget . has ( str ) ) if ( gadget . get int ( str ) ! = num ) height = gadget . get int ( str ) ; if ( gadget . has ( str ) ) if ( gadget . get int ( str ) ! = num ) width = gadget . get int ( str ) ; if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { author = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { title = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { title = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { title = gadget . get string ( str ) ; } } } if ( gadget . has ( str ) ) { if ( gadget . get string ( str ) ! = null ) { if ( ! ( gadget . get string ( str ) . trim ( ) ) . equals ( str ) ) { icon = gadget . get string ( str ) ; } } } widget . set maximize ( false ) ; widget . set height ( height ) ; widget . set width ( width ) ; name name = new name ( ) ; name . set widget ( widget ) ; name . set name ( title ) ; description desc = new description ( ) ; desc . set widget ( widget ) ; desc . set content ( description ) ; widget icon wicon = new widget icon ( ) ; wicon . set src ( icon ) ; wicon . set widget ( widget ) ; widget . set widget author ( author ) ; widget . save ( ) ; sf . save ( ) ; name . save ( ) ; wicon . save ( ) ; desc . save ( ) ; } return widget ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "widget", "<REPLACE_NEW>", "w3", "cwidget", "<REPLACE_END>", "<KEEP>", "get", "widget", "(", "string", "metadata", ",", "string", "shindig", ")", "throws", "exception", "{", "jsonobject", "gadget", "<KEEP_END>", "<DELETE>", "=", "null", ";", "widget", "widget", "<DELETE_END>", "<KEEP>", "=", "null", ";", "jsonobject", "response", "=", "new", "jsonobject", "(", "metadata", ")", ";", "jsonarray", "gadgets", "=", "response", ".", "get", "jsonarray", "(", "str", ")", ";", "if", "(", "gadgets", ".", "length", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "=", "=", "<REPLACE_END>", "<KEEP>", "num", ")", "<KEEP_END>", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "return", "null", ";", "<REPLACE_END>", "<KEEP>", "gadget", "=", "gadgets", ".", "get", "jsonobject", "(", "num", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "new", "gadget", "adapter", "<REPLACE_END>", "<KEEP>", "(", "gadget", "<KEEP_END>", "<REPLACE_OLD>", ".", "has", "(", "str", ")", ")", "throw", "new", "exception", "(", "str", ")", ";", "widget", "=", "new", "widget", "(", ")", ";", "string", "title", "=", "str", ";", "int", "height", "=", "num", ";", "int", "width", "=", "num", ";", "string", "author", "=", "str", ";", "string", "description", "=", "str", ";", "string", "icon", "=", "default", "_", "icon", ";", "if", "(", "!", "gadget", ".", "has", "(", "str", ")", ")", "throw", "new", "exception", "(", "str", ")", ";", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "=", "=", "null", "|", "|", "gadget", ".", "get", "string", "(", "str", ")", ".", "equals", "(", "str", ")", ")", "throw", "new", "exception", "(", "str", ")", ";", "try", "{", "@", "suppress", "warnings", "(", "str", ")", "url", "url", "=", "new", "url", "(", "gadget", ".", "get", "string", "(", "str", ")", "<REPLACE_NEW>", ",", "shindig", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "exception", "e", ")", "{", "throw", "new", "exception", "(", "str", ")", ";", "}", "widget", ".", "set", "guid", "(", "gadget", ".", "get", "string", "(", "str", ")", ")", ";", "start", "file", "sf", "=", "new", "start", "file", "(", ")", ";", "sf", ".", "set", "widget", "(", "widget", ")", ";", "sf", ".", "set", "url", "(", "shindig", "+", "str", "+", "gadget", ".", "get", "string", "(", "str", ")", "+", "str", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "if", "(", "gadget", ".", "get", "int", "(", "str", ")", "!", "=", "num", ")", "height", "=", "gadget", ".", "get", "int", "(", "str", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "if", "(", "gadget", ".", "get", "int", "(", "str", ")", "!", "=", "num", ")", "width", "=", "gadget", ".", "get", "int", "(", "str", ")", ";", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "author", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "title", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "title", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "title", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "if", "(", "gadget", ".", "has", "(", "str", ")", ")", "{", "if", "(", "gadget", ".", "get", "string", "(", "str", ")", "!", "=", "null", ")", "{", "if", "(", "!", "(", "gadget", ".", "get", "string", "(", "str", ")", ".", "trim", "(", ")", ")", ".", "equals", "(", "str", ")", ")", "{", "icon", "=", "gadget", ".", "get", "string", "(", "str", ")", ";", "}", "}", "}", "widget", ".", "set", "maximize", "(", "false", ")", ";", "widget", ".", "set", "height", "(", "height", ")", ";", "widget", ".", "set", "width", "(", "width", ")", ";", "name", "name", "=", "new", "name", "(", ")", ";", "name", ".", "set", "widget", "(", "widget", ")", ";", "name", ".", "set", "name", "(", "title", ")", ";", "description", "desc", "=", "new", "description", "(", ")", ";", "desc", ".", "set", "widget", "(", "widget", ")", ";", "desc", ".", "set", "content", "(", "description", ")", ";", "widget", "icon", "wicon", "=", "new", "widget", "icon", "(", ")", ";", "wicon", ".", "set", "src", "(", "icon", ")", ";", "wicon", ".", "set", "widget", "(", "widget", ")", ";", "widget", ".", "set", "widget", "author", "(", "author", ")", ";", "widget", ".", "save", "(", ")", ";", "sf", ".", "save", "(", ")", ";", "name", ".", "save", "(", ")", ";", "wicon", ".", "save", "(", ")", ";", "desc", ".", "save", "(", ")", ";", "}", "return", "widget", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> widget <REPLACE_NEW> w3 cwidget <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "widget", "<REPLACE_NEW>", "w3", "cwidget", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "widget", "<REPLACE_NEW>", "w3", "<REPLACE_NEW>", "cwidget", "<KEEP>", "get", "<KEEP>", "widget", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "metadata", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "shindig", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "jsonobject", "<KEEP>", "gadget", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "widget", "<DELETE>", "widget", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "jsonobject", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "metadata", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "jsonarray", "<KEEP>", "gadgets", "<KEEP>", "=", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jsonarray", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "gadgets", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "=", "<KEEP>", "num", "<KEEP>", ")", "<REPLACE_OLD>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<KEEP>", "gadget", "<KEEP>", "=", "<KEEP>", "gadgets", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "gadget", "<REPLACE_NEW>", "adapter", "<KEEP>", "(", "<KEEP>", "gadget", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "widget", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "widget", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "title", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "height", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "width", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "author", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "description", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "icon", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "default", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "icon", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "gadget", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "has", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gadget", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "gadget", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "throw", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "suppress", "<REPLACE_OLD>", "warnings", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gadget", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "shindig", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "widget", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "guid", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "start", "<DELETE>", "file", "<DELETE>", "sf", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "start", "<DELETE>", "file", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "sf", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "widget", "<DELETE>", "(", "<DELETE>", "widget", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "sf", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "url", "<DELETE>", "(", "<DELETE>", "shindig", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "int", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "height", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "int", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "int", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "width", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "int", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "author", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "title", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "title", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "title", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "has", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "(", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "trim", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "icon", "<DELETE>", "=", "<DELETE>", "gadget", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "widget", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "maximize", "<DELETE>", "(", "<DELETE>", "false", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "widget", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "height", "<DELETE>", "(", "<DELETE>", "height", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "widget", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "width", "<DELETE>", "(", "<DELETE>", "width", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "name", "<DELETE>", "name", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "name", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "widget", "<DELETE>", "(", "<DELETE>", "widget", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "name", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", "title", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "description", "<DELETE>", "desc", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "description", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "widget", "<DELETE>", "(", "<DELETE>", "widget", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "content", "<DELETE>", "(", "<DELETE>", "description", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "widget", "<DELETE>", "icon", "<DELETE>", "wicon", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "widget", "<DELETE>", "icon", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "wicon", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "src", "<DELETE>", "(", "<DELETE>", "icon", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "wicon", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "widget", "<DELETE>", "(", "<DELETE>", "widget", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "widget", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "widget", "<DELETE>", "author", "<DELETE>", "(", "<DELETE>", "author", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "widget", "<DELETE>", ".", "<DELETE>", "save", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "sf", "<DELETE>", ".", "<DELETE>", "save", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "name", "<DELETE>", ".", "<DELETE>", "save", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "wicon", "<DELETE>", ".", "<DELETE>", "save", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "desc", "<DELETE>", ".", "<DELETE>", "save", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "widget", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "dlew_joda-time-android-0-2522", "old_comment": "the chronology that the date is using", "old_comment_tokens": ["the", "chronology", "that", "the", "date", "is", "using"], "new_comment": "the chronology", "new_comment_tokens": ["the", "chronology"], "old_code": "public chronology get chronology ( ) { return i chronology ; }", "old_code_tokens": ["public", "chronology", "get", "chronology", "(", ")", "{", "return", "i", "chronology", ";", "}"], "new_code": "protected chronology get chronology ( ) { return i instant . get chronology ( ) ; }", "new_code_tokens": ["protected", "chronology", "get", "chronology", "(", ")", "{", "return", "i", "instant", ".", "get", "chronology", "(", ")", ";", "}"], "span_diff_code": "<REPLACE_OLD> public <REPLACE_NEW> protected <REPLACE_END> <KEEP> chronology get chronology ( ) { return i <KEEP_END> <INSERT> instant . get <INSERT_END> <KEEP> chronology <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_NEW>", "protected", "<REPLACE_END>", "<KEEP>", "chronology", "get", "chronology", "(", ")", "{", "return", "i", "<KEEP_END>", "<INSERT>", "instant", ".", "get", "<INSERT_END>", "<KEEP>", "chronology", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> that the date is using <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "that", "the", "date", "is", "using", "<DELETE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "public", "<REPLACE_NEW>", "protected", "<KEEP>", "chronology", "<KEEP>", "get", "<KEEP>", "chronology", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "i", "<INSERT>", "instant", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "chronology", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "scribejava_scribejava-1-1094", "old_comment": "form encoded string", "old_comment_tokens": ["form", "encoded", "string"], "new_comment": "value set in # set payload ( java . lang . string )", "new_comment_tokens": ["value", "set", "in", "#", "set", "payload", "(", "java", ".", "lang", ".", "string", ")"], "old_code": "public string get body contents ( ) { try { return new string ( get byte body contents ( ) , get charset ( ) ) ; } catch ( unsupported encoding exception uee ) { throw new oauth exception ( str + charset , uee ) ; } }", "old_code_tokens": ["public", "string", "get", "body", "contents", "(", ")", "{", "try", "{", "return", "new", "string", "(", "get", "byte", "body", "contents", "(", ")", ",", "get", "charset", "(", ")", ")", ";", "}", "catch", "(", "unsupported", "encoding", "exception", "uee", ")", "{", "throw", "new", "oauth", "exception", "(", "str", "+", "charset", ",", "uee", ")", ";", "}", "}"], "new_code": "@ deprecated public string get body contents ( ) { return get string payload ( ) ; }", "new_code_tokens": ["@", "deprecated", "public", "string", "get", "body", "contents", "(", ")", "{", "return", "get", "string", "payload", "(", ")", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public string get body contents ( ) { <KEEP_END> <DELETE> try { <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> new <REPLACE_NEW> get <REPLACE_END> <KEEP> string <KEEP_END> <INSERT> payload <INSERT_END> <KEEP> ( <KEEP_END> <DELETE> get byte body contents ( ) , get charset ( ) <DELETE_END> <KEEP> ) ; } <KEEP_END> <DELETE> catch ( unsupported encoding exception uee ) { throw new oauth exception ( str + charset , uee ) ; } } <DELETE_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "string", "get", "body", "contents", "(", ")", "{", "<KEEP_END>", "<DELETE>", "try", "{", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "get", "<REPLACE_END>", "<KEEP>", "string", "<KEEP_END>", "<INSERT>", "payload", "<INSERT_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", "get", "byte", "body", "contents", "(", ")", ",", "get", "charset", "(", ")", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "unsupported", "encoding", "exception", "uee", ")", "{", "throw", "new", "oauth", "exception", "(", "str", "+", "charset", ",", "uee", ")", ";", "}", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> form encoded <REPLACE_NEW> value set in # set payload ( java . lang . <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> string <INSERT_NEW_KEEP_BEFORE> string ) <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "form", "encoded", "<REPLACE_NEW>", "value", "set", "in", "#", "set", "payload", "(", "java", ".", "lang", ".", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "string", "<INSERT_NEW_KEEP_BEFORE>", "string", ")", "<INSERT_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "get", "<KEEP>", "body", "<KEEP>", "contents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "try", "<DELETE>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_NEW>", "get", "<KEEP>", "string", "<INSERT>", "payload", "<KEEP>", "(", "<DELETE>", "get", "<DELETE>", "byte", "<DELETE>", "body", "<DELETE>", "contents", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "get", "<DELETE>", "charset", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "unsupported", "<DELETE>", "encoding", "<DELETE>", "exception", "<DELETE>", "uee", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "oauth", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "charset", "<DELETE>", ",", "<DELETE>", "uee", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "matttproud_java_accepts-0-5850", "old_comment": "a group of accept entities .", "old_comment_tokens": ["a", "group", "of", "accept", "entities", "."], "new_comment": "an immutable list of accept entities sorted by rfc priority .", "new_comment_tokens": ["an", "immutable", "list", "of", "accept", "entities", "sorted", "by", "rfc", "priority", "."], "old_code": "public static immutable list < accept > parse ( final http servlet request r ) throws illegal argument exception { return parse ( strings . null to empty ( r . get header ( str ) ) ) ; }", "old_code_tokens": ["public", "static", "immutable", "list", "<", "accept", ">", "parse", "(", "final", "http", "servlet", "request", "r", ")", "throws", "illegal", "argument", "exception", "{", "return", "parse", "(", "strings", ".", "null", "to", "empty", "(", "r", ".", "get", "header", "(", "str", ")", ")", ")", ";", "}"], "new_code": "public static list < accept > parse ( final http servlet request r ) throws illegal argument exception { return parse ( r . get header ( str ) ) ; }", "new_code_tokens": ["public", "static", "list", "<", "accept", ">", "parse", "(", "final", "http", "servlet", "request", "r", ")", "throws", "illegal", "argument", "exception", "{", "return", "parse", "(", "r", ".", "get", "header", "(", "str", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <DELETE> immutable <DELETE_END> <KEEP> list < accept > parse ( final http servlet request r ) throws illegal argument exception { return parse ( <KEEP_END> <DELETE> strings . null to empty ( <DELETE_END> <KEEP> r . get header ( str ) ) <KEEP_END> <DELETE> ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<DELETE>", "immutable", "<DELETE_END>", "<KEEP>", "list", "<", "accept", ">", "parse", "(", "final", "http", "servlet", "request", "r", ")", "throws", "illegal", "argument", "exception", "{", "return", "parse", "(", "<KEEP_END>", "<DELETE>", "strings", ".", "null", "to", "empty", "(", "<DELETE_END>", "<KEEP>", "r", ".", "get", "header", "(", "str", ")", ")", "<KEEP_END>", "<DELETE>", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a group <REPLACE_NEW> an immutable list <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> entities <INSERT_NEW_KEEP_BEFORE> entities sorted by rfc priority <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "group", "<REPLACE_NEW>", "an", "immutable", "list", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "entities", "<INSERT_NEW_KEEP_BEFORE>", "entities", "sorted", "by", "rfc", "priority", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<DELETE>", "immutable", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "accept", "<KEEP>", ">", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "http", "<KEEP>", "servlet", "<KEEP>", "request", "<KEEP>", "r", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "parse", "<KEEP>", "(", "<DELETE>", "strings", "<DELETE>", ".", "<DELETE>", "null", "<DELETE>", "to", "<DELETE>", "empty", "<DELETE>", "(", "<KEEP>", "r", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "header", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ansell_openrdf-sesame-263-6358", "old_comment": "read operation rdf branch", "old_comment_tokens": ["read", "operation", "rdf", "branch"], "new_comment": "read operation sail branch", "new_comment_tokens": ["read", "operation", "sail", "branch"], "old_code": "private rdf branch branch ( boolean includeinferred ) throws sail exception { boolean active = is active ( ) ; isolation level level = get isolation level ( ) ; boolean isolated = ! isolation levels . none . is compatible with ( level ) ; if ( includeinferred & & active & & isolated ) { return new delegating rdf branch ( include inferred branch , false ) ; } else if ( active & & isolated ) { return new delegating rdf branch ( explicit only branch , false ) ; } else if ( includeinferred & & active ) { return new union rdf branch ( new rdf not branched source ( store . get inferred rdf source ( level ) ) , new rdf not branched source ( store . get explicit rdf source ( level ) ) ) ; } else if ( active ) { return new rdf not branched source ( store . get explicit rdf source ( level ) ) ; } else if ( includeinferred ) { return new union rdf branch ( store . get inferred rdf source ( level ) . fork ( ) , store . get explicit rdf source ( level ) . fork ( ) ) ; } else { return store . get explicit rdf source ( level ) . fork ( ) ; } }", "old_code_tokens": ["private", "rdf", "branch", "branch", "(", "boolean", "includeinferred", ")", "throws", "sail", "exception", "{", "boolean", "active", "=", "is", "active", "(", ")", ";", "isolation", "level", "level", "=", "get", "isolation", "level", "(", ")", ";", "boolean", "isolated", "=", "!", "isolation", "levels", ".", "none", ".", "is", "compatible", "with", "(", "level", ")", ";", "if", "(", "includeinferred", "&", "&", "active", "&", "&", "isolated", ")", "{", "return", "new", "delegating", "rdf", "branch", "(", "include", "inferred", "branch", ",", "false", ")", ";", "}", "else", "if", "(", "active", "&", "&", "isolated", ")", "{", "return", "new", "delegating", "rdf", "branch", "(", "explicit", "only", "branch", ",", "false", ")", ";", "}", "else", "if", "(", "includeinferred", "&", "&", "active", ")", "{", "return", "new", "union", "rdf", "branch", "(", "new", "rdf", "not", "branched", "source", "(", "store", ".", "get", "inferred", "rdf", "source", "(", "level", ")", ")", ",", "new", "rdf", "not", "branched", "source", "(", "store", ".", "get", "explicit", "rdf", "source", "(", "level", ")", ")", ")", ";", "}", "else", "if", "(", "active", ")", "{", "return", "new", "rdf", "not", "branched", "source", "(", "store", ".", "get", "explicit", "rdf", "source", "(", "level", ")", ")", ";", "}", "else", "if", "(", "includeinferred", ")", "{", "return", "new", "union", "rdf", "branch", "(", "store", ".", "get", "inferred", "rdf", "source", "(", "level", ")", ".", "fork", "(", ")", ",", "store", ".", "get", "explicit", "rdf", "source", "(", "level", ")", ".", "fork", "(", ")", ")", ";", "}", "else", "{", "return", "store", ".", "get", "explicit", "rdf", "source", "(", "level", ")", ".", "fork", "(", ")", ";", "}", "}"], "new_code": "private sail branch branch ( boolean includeinferred ) throws sail exception { boolean active = is active ( ) ; isolation level level = get isolation level ( ) ; boolean isolated = ! isolation levels . none . is compatible with ( level ) ; if ( includeinferred & & active & & isolated ) { return new delegating sail branch ( include inferred branch , false ) ; } else if ( active & & isolated ) { return new delegating sail branch ( explicit only branch , false ) ; } else if ( includeinferred & & active ) { return new union sail branch ( new sail not branched source ( store . get inferred sail source ( level ) ) , new sail not branched source ( store . get explicit sail source ( level ) ) ) ; } else if ( active ) { return new sail not branched source ( store . get explicit sail source ( level ) ) ; } else if ( includeinferred ) { return new union sail branch ( store . get inferred sail source ( level ) . fork ( ) , store . get explicit sail source ( level ) . fork ( ) ) ; } else { return store . get explicit sail source ( level ) . fork ( ) ; } }", "new_code_tokens": ["private", "sail", "branch", "branch", "(", "boolean", "includeinferred", ")", "throws", "sail", "exception", "{", "boolean", "active", "=", "is", "active", "(", ")", ";", "isolation", "level", "level", "=", "get", "isolation", "level", "(", ")", ";", "boolean", "isolated", "=", "!", "isolation", "levels", ".", "none", ".", "is", "compatible", "with", "(", "level", ")", ";", "if", "(", "includeinferred", "&", "&", "active", "&", "&", "isolated", ")", "{", "return", "new", "delegating", "sail", "branch", "(", "include", "inferred", "branch", ",", "false", ")", ";", "}", "else", "if", "(", "active", "&", "&", "isolated", ")", "{", "return", "new", "delegating", "sail", "branch", "(", "explicit", "only", "branch", ",", "false", ")", ";", "}", "else", "if", "(", "includeinferred", "&", "&", "active", ")", "{", "return", "new", "union", "sail", "branch", "(", "new", "sail", "not", "branched", "source", "(", "store", ".", "get", "inferred", "sail", "source", "(", "level", ")", ")", ",", "new", "sail", "not", "branched", "source", "(", "store", ".", "get", "explicit", "sail", "source", "(", "level", ")", ")", ")", ";", "}", "else", "if", "(", "active", ")", "{", "return", "new", "sail", "not", "branched", "source", "(", "store", ".", "get", "explicit", "sail", "source", "(", "level", ")", ")", ";", "}", "else", "if", "(", "includeinferred", ")", "{", "return", "new", "union", "sail", "branch", "(", "store", ".", "get", "inferred", "sail", "source", "(", "level", ")", ".", "fork", "(", ")", ",", "store", ".", "get", "explicit", "sail", "source", "(", "level", ")", ".", "fork", "(", ")", ")", ";", "}", "else", "{", "return", "store", ".", "get", "explicit", "sail", "source", "(", "level", ")", ".", "fork", "(", ")", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> branch branch ( boolean includeinferred ) throws sail exception { boolean active = is active ( ) ; isolation level level = get isolation level ( ) ; boolean isolated = ! isolation levels . none . is compatible with ( level ) ; if ( includeinferred & & active & & isolated ) { return new delegating <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> branch ( include inferred branch , false ) ; } else if ( active & & isolated ) { return new delegating <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> branch ( explicit only branch , false ) ; } else if ( includeinferred & & active ) { return new union <KEEP_END> <REPLACE_OLD> rdf branch ( new rdf <REPLACE_NEW> sail branch ( new sail <REPLACE_END> <KEEP> not branched source ( store . get inferred <KEEP_END> <REPLACE_OLD> rdf source ( level ) ) , new rdf <REPLACE_NEW> sail source ( level ) ) , new sail <REPLACE_END> <KEEP> not branched source ( store . get explicit <KEEP_END> <REPLACE_OLD> rdf source ( level ) ) ) ; } else if ( active ) { return new rdf <REPLACE_NEW> sail source ( level ) ) ) ; } else if ( active ) { return new sail <REPLACE_END> <KEEP> not branched source ( store . get explicit <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> source ( level ) ) ; } else if ( includeinferred ) { return new union <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> branch ( store . get inferred <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> source ( level ) . fork ( ) , store . get explicit <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> source ( level ) . fork ( ) ) ; } else { return store . get explicit <KEEP_END> <REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END> <KEEP> source ( level ) . fork ( ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "branch", "branch", "(", "boolean", "includeinferred", ")", "throws", "sail", "exception", "{", "boolean", "active", "=", "is", "active", "(", ")", ";", "isolation", "level", "level", "=", "get", "isolation", "level", "(", ")", ";", "boolean", "isolated", "=", "!", "isolation", "levels", ".", "none", ".", "is", "compatible", "with", "(", "level", ")", ";", "if", "(", "includeinferred", "&", "&", "active", "&", "&", "isolated", ")", "{", "return", "new", "delegating", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "branch", "(", "include", "inferred", "branch", ",", "false", ")", ";", "}", "else", "if", "(", "active", "&", "&", "isolated", ")", "{", "return", "new", "delegating", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "branch", "(", "explicit", "only", "branch", ",", "false", ")", ";", "}", "else", "if", "(", "includeinferred", "&", "&", "active", ")", "{", "return", "new", "union", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "branch", "(", "new", "rdf", "<REPLACE_NEW>", "sail", "branch", "(", "new", "sail", "<REPLACE_END>", "<KEEP>", "not", "branched", "source", "(", "store", ".", "get", "inferred", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "source", "(", "level", ")", ")", ",", "new", "rdf", "<REPLACE_NEW>", "sail", "source", "(", "level", ")", ")", ",", "new", "sail", "<REPLACE_END>", "<KEEP>", "not", "branched", "source", "(", "store", ".", "get", "explicit", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "source", "(", "level", ")", ")", ")", ";", "}", "else", "if", "(", "active", ")", "{", "return", "new", "rdf", "<REPLACE_NEW>", "sail", "source", "(", "level", ")", ")", ")", ";", "}", "else", "if", "(", "active", ")", "{", "return", "new", "sail", "<REPLACE_END>", "<KEEP>", "not", "branched", "source", "(", "store", ".", "get", "explicit", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "source", "(", "level", ")", ")", ";", "}", "else", "if", "(", "includeinferred", ")", "{", "return", "new", "union", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "branch", "(", "store", ".", "get", "inferred", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "source", "(", "level", ")", ".", "fork", "(", ")", ",", "store", ".", "get", "explicit", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "source", "(", "level", ")", ".", "fork", "(", ")", ")", ";", "}", "else", "{", "return", "store", ".", "get", "explicit", "<KEEP_END>", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>", "<KEEP>", "source", "(", "level", ")", ".", "fork", "(", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> rdf <REPLACE_NEW> sail <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "branch", "<KEEP>", "branch", "<KEEP>", "(", "<KEEP>", "boolean", "<KEEP>", "includeinferred", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "sail", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "boolean", "<KEEP>", "active", "<KEEP>", "=", "<KEEP>", "is", "<KEEP>", "active", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "isolation", "<KEEP>", "level", "<KEEP>", "level", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "isolation", "<KEEP>", "level", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "boolean", "<KEEP>", "isolated", "<KEEP>", "=", "<KEEP>", "!", "<KEEP>", "isolation", "<KEEP>", "levels", "<KEEP>", ".", "<KEEP>", "none", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "compatible", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "includeinferred", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "active", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "isolated", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "delegating", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "branch", "<KEEP>", "(", "<KEEP>", "include", "<KEEP>", "inferred", "<KEEP>", "branch", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "active", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "isolated", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "delegating", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "branch", "<KEEP>", "(", "<KEEP>", "explicit", "<KEEP>", "only", "<KEEP>", "branch", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "includeinferred", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "active", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "union", "<REPLACE_OLD>", "rdf", "<REPLACE_OLD>", "branch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_NEW>", "branch", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "sail", "<KEEP>", "not", "<KEEP>", "branched", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inferred", "<REPLACE_OLD>", "rdf", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "level", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "sail", "<KEEP>", "not", "<KEEP>", "branched", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "explicit", "<REPLACE_OLD>", "rdf", "<REPLACE_OLD>", "source", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "level", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "else", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "active", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<REPLACE_NEW>", "source", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "level", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "sail", "<KEEP>", "not", "<KEEP>", "branched", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "explicit", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "includeinferred", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "union", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "branch", "<KEEP>", "(", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "inferred", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "fork", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "explicit", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "fork", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "store", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "explicit", "<REPLACE_OLD>", "rdf", "<REPLACE_NEW>", "sail", "<KEEP>", "source", "<KEEP>", "(", "<KEEP>", "level", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "fork", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_fleXive-81-5906", "old_comment": "iterator of all derived types", "old_comment_tokens": ["iterator", "of", "all", "derived", "types"], "new_comment": "iterator of all directly derived types", "new_comment_tokens": ["iterator", "of", "all", "directly", "derived", "types"], "old_code": "public list < fx type > get derived types ( ) { return derived types ; }", "old_code_tokens": ["public", "list", "<", "fx", "type", ">", "get", "derived", "types", "(", ")", "{", "return", "derived", "types", ";", "}"], "new_code": "public list < fx type > get derived types ( ) { return collections . unmodifiable list ( derived types ) ; }", "new_code_tokens": ["public", "list", "<", "fx", "type", ">", "get", "derived", "types", "(", ")", "{", "return", "collections", ".", "unmodifiable", "list", "(", "derived", "types", ")", ";", "}"], "span_diff_code": "<KEEP> public list < fx type > get derived types ( ) { return <KEEP_END> <INSERT> collections . unmodifiable list ( <INSERT_END> <KEEP> derived types <KEEP_END> <INSERT> ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "list", "<", "fx", "type", ">", "get", "derived", "types", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "collections", ".", "unmodifiable", "list", "(", "<INSERT_END>", "<KEEP>", "derived", "types", "<KEEP_END>", "<INSERT>", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> all <INSERT_NEW_KEEP_BEFORE> all directly <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "all", "<INSERT_NEW_KEEP_BEFORE>", "all", "directly", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "fx", "<KEEP>", "type", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "derived", "<KEEP>", "types", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "collections", "<INSERT>", ".", "<INSERT>", "unmodifiable", "<INSERT>", "list", "<INSERT>", "(", "<KEEP>", "derived", "<KEEP>", "types", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "egonw_pathvisio-28-4696", "old_comment": "the empty gmml drawing", "old_comment_tokens": ["the", "empty", "gmml", "drawing"], "new_comment": "the empty pathway", "new_comment_tokens": ["the", "empty", "pathway"], "old_code": "public gmml drawing create new drawing ( ) { return new gmml drawing ( sc , swt . no _ background ) ; }", "old_code_tokens": ["public", "gmml", "drawing", "create", "new", "drawing", "(", ")", "{", "return", "new", "gmml", "drawing", "(", "sc", ",", "swt", ".", "no", "_", "background", ")", ";", "}"], "new_code": "public pathway create new drawing ( ) { return new pathway ( sc , swt . no _ background ) ; }", "new_code_tokens": ["public", "pathway", "create", "new", "drawing", "(", ")", "{", "return", "new", "pathway", "(", "sc", ",", "swt", ".", "no", "_", "background", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> gmml drawing <REPLACE_NEW> pathway <REPLACE_END> <KEEP> create new drawing ( ) { return new <KEEP_END> <REPLACE_OLD> gmml drawing <REPLACE_NEW> pathway <REPLACE_END> <KEEP> ( sc , swt . no _ background ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "gmml", "drawing", "<REPLACE_NEW>", "pathway", "<REPLACE_END>", "<KEEP>", "create", "new", "drawing", "(", ")", "{", "return", "new", "<KEEP_END>", "<REPLACE_OLD>", "gmml", "drawing", "<REPLACE_NEW>", "pathway", "<REPLACE_END>", "<KEEP>", "(", "sc", ",", "swt", ".", "no", "_", "background", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> gmml drawing <REPLACE_NEW> pathway <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "gmml", "drawing", "<REPLACE_NEW>", "pathway", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "gmml", "<REPLACE_OLD>", "drawing", "<REPLACE_NEW>", "pathway", "<KEEP>", "create", "<KEEP>", "new", "<KEEP>", "drawing", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "new", "<REPLACE_OLD>", "gmml", "<REPLACE_OLD>", "drawing", "<REPLACE_NEW>", "pathway", "<KEEP>", "(", "<KEEP>", "sc", "<KEEP>", ",", "<KEEP>", "swt", "<KEEP>", ".", "<KEEP>", "no", "<KEEP>", "_", "<KEEP>", "background", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_adt-tools-base-262-6710", "old_comment": "a incompatible change instance or null if the method is not making any blacklisted calls .", "old_comment_tokens": ["a", "incompatible", "change", "instance", "or", "null", "if", "the", "method", "is", "not", "making", "any", "blacklisted", "calls", "."], "new_comment": "a instant run verifier status instance or null if the method is not making any blacklisted calls .", "new_comment_tokens": ["a", "instant", "run", "verifier", "status", "instance", "or", "null", "if", "the", "method", "is", "not", "making", "any", "blacklisted", "calls", "."], "old_code": "@ nullable public static incompatible change verify method ( method node method ) { verifier method visitor mv = new verifier method visitor ( method ) ; method . accept ( mv ) ; return mv . incompatible change . or null ( ) ; }", "old_code_tokens": ["@", "nullable", "public", "static", "incompatible", "change", "verify", "method", "(", "method", "node", "method", ")", "{", "verifier", "method", "visitor", "mv", "=", "new", "verifier", "method", "visitor", "(", "method", ")", ";", "method", ".", "accept", "(", "mv", ")", ";", "return", "mv", ".", "incompatible", "change", ".", "or", "null", "(", ")", ";", "}"], "new_code": "@ non null public static instant run verifier status verify method ( method node method ) { verifier method visitor mv = new verifier method visitor ( method ) ; method . accept ( mv ) ; return mv . incompatible change . or ( instant run verifier status . compatible ) ; }", "new_code_tokens": ["@", "non", "null", "public", "static", "instant", "run", "verifier", "status", "verify", "method", "(", "method", "node", "method", ")", "{", "verifier", "method", "visitor", "mv", "=", "new", "verifier", "method", "visitor", "(", "method", ")", ";", "method", ".", "accept", "(", "mv", ")", ";", "return", "mv", ".", "incompatible", "change", ".", "or", "(", "instant", "run", "verifier", "status", ".", "compatible", ")", ";", "}"], "span_diff_code": "<KEEP> @ <KEEP_END> <REPLACE_OLD> nullable <REPLACE_NEW> non null <REPLACE_END> <KEEP> public static <KEEP_END> <REPLACE_OLD> incompatible change <REPLACE_NEW> instant run verifier status <REPLACE_END> <KEEP> verify method ( method node method ) { verifier method visitor mv = new verifier method visitor ( method ) ; method . accept ( mv ) ; return mv . incompatible change . or <KEEP_END> <DELETE> null <DELETE_END> <KEEP> ( <KEEP_END> <INSERT> instant run verifier status . compatible <INSERT_END> <KEEP> ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "<KEEP_END>", "<REPLACE_OLD>", "nullable", "<REPLACE_NEW>", "non", "null", "<REPLACE_END>", "<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "incompatible", "change", "<REPLACE_NEW>", "instant", "run", "verifier", "status", "<REPLACE_END>", "<KEEP>", "verify", "method", "(", "method", "node", "method", ")", "{", "verifier", "method", "visitor", "mv", "=", "new", "verifier", "method", "visitor", "(", "method", ")", ";", "method", ".", "accept", "(", "mv", ")", ";", "return", "mv", ".", "incompatible", "change", ".", "or", "<KEEP_END>", "<DELETE>", "null", "<DELETE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "instant", "run", "verifier", "status", ".", "compatible", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> incompatible change <REPLACE_NEW> instant run verifier status <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "incompatible", "change", "<REPLACE_NEW>", "instant", "run", "verifier", "status", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<REPLACE_OLD>", "nullable", "<REPLACE_NEW>", "non", "<REPLACE_NEW>", "null", "<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "incompatible", "<REPLACE_OLD>", "change", "<REPLACE_NEW>", "instant", "<REPLACE_NEW>", "run", "<REPLACE_NEW>", "verifier", "<REPLACE_NEW>", "status", "<KEEP>", "verify", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", "node", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "verifier", "<KEEP>", "method", "<KEEP>", "visitor", "<KEEP>", "mv", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "verifier", "<KEEP>", "method", "<KEEP>", "visitor", "<KEEP>", "(", "<KEEP>", "method", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "method", "<KEEP>", ".", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "mv", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "mv", "<KEEP>", ".", "<KEEP>", "incompatible", "<KEEP>", "change", "<KEEP>", ".", "<KEEP>", "or", "<DELETE>", "null", "<KEEP>", "(", "<INSERT>", "instant", "<INSERT>", "run", "<INSERT>", "verifier", "<INSERT>", "status", "<INSERT>", ".", "<INSERT>", "compatible", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_axis1-java-149-6695", "old_comment": "true if we wrote a schema , false if we didn ' t .", "old_comment_tokens": ["true", "if", "we", "wrote", "a", "schema", ",", "false", "if", "we", "didn", "'", "t", "."], "new_comment": "a type element containing a schema simple type / complex type", "new_comment_tokens": ["a", "type", "element", "containing", "a", "schema", "simple", "type", "/", "complex", "type"], "old_code": "public boolean write schema ( types types ) throws exception { if ( ! simple type . class . is assignable from ( java type ) ) return false ; element complex type = types . create element ( str ) ; types . write schema element ( xml type , complex type ) ; complex type . set attribute ( str , xml type . get local part ( ) ) ; element simple content = types . create element ( str ) ; complex type . append child ( simple content ) ; element extension = types . create element ( str ) ; simple content . append child ( extension ) ; string base = str ; for ( int i = num ; i < property descriptor . length ; i + + ) { string prop name = property descriptor [ i ] . get name ( ) ; if ( ! prop name . equals ( str ) ) { if ( type desc ! = null ) { field desc field = type desc . get field by name ( prop name ) ; if ( field ! = null ) { if ( field . is element ( ) ) { } qname qname = field . get xml name ( ) ; if ( qname = = null ) { prop name = prop name ; qname = new qname ( str , prop name ) ; } class field type = property descriptor [ i ] . get type ( ) ; if ( ! types . is acceptable as attribute ( field type ) ) { throw new axis fault ( messages . get message ( str , prop name , field type . get name ( ) ) ) ; } string element type = types . write type ( field type ) ; element elem = types . create attribute element ( prop name , element type , false , extension . get owner document ( ) ) ; extension . append child ( elem ) ; } } continue ; } bean property descriptor bpd = property descriptor [ i ] ; class type = bpd . get type ( ) ; if ( ! types . is acceptable as attribute ( type ) ) { throw new axis fault ( messages . get message ( str , type . get name ( ) ) ) ; } base = types . write type ( type ) ; extension . set attribute ( str , base ) ; } return true ; }", "old_code_tokens": ["public", "boolean", "write", "schema", "(", "types", "types", ")", "throws", "exception", "{", "if", "(", "!", "simple", "type", ".", "class", ".", "is", "assignable", "from", "(", "java", "type", ")", ")", "return", "false", ";", "element", "complex", "type", "=", "types", ".", "create", "element", "(", "str", ")", ";", "types", ".", "write", "schema", "element", "(", "xml", "type", ",", "complex", "type", ")", ";", "complex", "type", ".", "set", "attribute", "(", "str", ",", "xml", "type", ".", "get", "local", "part", "(", ")", ")", ";", "element", "simple", "content", "=", "types", ".", "create", "element", "(", "str", ")", ";", "complex", "type", ".", "append", "child", "(", "simple", "content", ")", ";", "element", "extension", "=", "types", ".", "create", "element", "(", "str", ")", ";", "simple", "content", ".", "append", "child", "(", "extension", ")", ";", "string", "base", "=", "str", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "property", "descriptor", ".", "length", ";", "i", "+", "+", ")", "{", "string", "prop", "name", "=", "property", "descriptor", "[", "i", "]", ".", "get", "name", "(", ")", ";", "if", "(", "!", "prop", "name", ".", "equals", "(", "str", ")", ")", "{", "if", "(", "type", "desc", "!", "=", "null", ")", "{", "field", "desc", "field", "=", "type", "desc", ".", "get", "field", "by", "name", "(", "prop", "name", ")", ";", "if", "(", "field", "!", "=", "null", ")", "{", "if", "(", "field", ".", "is", "element", "(", ")", ")", "{", "}", "qname", "qname", "=", "field", ".", "get", "xml", "name", "(", ")", ";", "if", "(", "qname", "=", "=", "null", ")", "{", "prop", "name", "=", "prop", "name", ";", "qname", "=", "new", "qname", "(", "str", ",", "prop", "name", ")", ";", "}", "class", "field", "type", "=", "property", "descriptor", "[", "i", "]", ".", "get", "type", "(", ")", ";", "if", "(", "!", "types", ".", "is", "acceptable", "as", "attribute", "(", "field", "type", ")", ")", "{", "throw", "new", "axis", "fault", "(", "messages", ".", "get", "message", "(", "str", ",", "prop", "name", ",", "field", "type", ".", "get", "name", "(", ")", ")", ")", ";", "}", "string", "element", "type", "=", "types", ".", "write", "type", "(", "field", "type", ")", ";", "element", "elem", "=", "types", ".", "create", "attribute", "element", "(", "prop", "name", ",", "element", "type", ",", "false", ",", "extension", ".", "get", "owner", "document", "(", ")", ")", ";", "extension", ".", "append", "child", "(", "elem", ")", ";", "}", "}", "continue", ";", "}", "bean", "property", "descriptor", "bpd", "=", "property", "descriptor", "[", "i", "]", ";", "class", "type", "=", "bpd", ".", "get", "type", "(", ")", ";", "if", "(", "!", "types", ".", "is", "acceptable", "as", "attribute", "(", "type", ")", ")", "{", "throw", "new", "axis", "fault", "(", "messages", ".", "get", "message", "(", "str", ",", "type", ".", "get", "name", "(", ")", ")", ")", ";", "}", "base", "=", "types", ".", "write", "type", "(", "type", ")", ";", "extension", ".", "set", "attribute", "(", "str", ",", "base", ")", ";", "}", "return", "true", ";", "}"], "new_code": "public element write schema ( class java type , types types ) throws exception { if ( ! simple type . class . is assignable from ( java type ) ) return null ; element complex type = types . create element ( str ) ; types . write schema element ( xml type , complex type ) ; complex type . set attribute ( str , xml type . get local part ( ) ) ; element simple content = types . create element ( str ) ; complex type . append child ( simple content ) ; element extension = types . create element ( str ) ; simple content . append child ( extension ) ; string base = str ; for ( int i = num ; i < property descriptor . length ; i + + ) { string prop name = property descriptor [ i ] . get name ( ) ; if ( ! prop name . equals ( str ) ) { if ( type desc ! = null ) { field desc field = type desc . get field by name ( prop name ) ; if ( field ! = null ) { if ( field . is element ( ) ) { } qname qname = field . get xml name ( ) ; if ( qname = = null ) { qname = new qname ( str , prop name ) ; } class field type = property descriptor [ i ] . get type ( ) ; if ( ! types . is acceptable as attribute ( field type ) ) { throw new axis fault ( messages . get message ( str , prop name , field type . get name ( ) ) ) ; } element elem = types . create attribute element ( prop name , field type , field . get xml type ( ) , false , extension . get owner document ( ) ) ; extension . append child ( elem ) ; } } continue ; } bean property descriptor bpd = property descriptor [ i ] ; class type = bpd . get type ( ) ; if ( ! types . is acceptable as attribute ( type ) ) { throw new axis fault ( messages . get message ( str , type . get name ( ) ) ) ; } base = types . write type ( type ) ; extension . set attribute ( str , base ) ; } return complex type ; }", "new_code_tokens": ["public", "element", "write", "schema", "(", "class", "java", "type", ",", "types", "types", ")", "throws", "exception", "{", "if", "(", "!", "simple", "type", ".", "class", ".", "is", "assignable", "from", "(", "java", "type", ")", ")", "return", "null", ";", "element", "complex", "type", "=", "types", ".", "create", "element", "(", "str", ")", ";", "types", ".", "write", "schema", "element", "(", "xml", "type", ",", "complex", "type", ")", ";", "complex", "type", ".", "set", "attribute", "(", "str", ",", "xml", "type", ".", "get", "local", "part", "(", ")", ")", ";", "element", "simple", "content", "=", "types", ".", "create", "element", "(", "str", ")", ";", "complex", "type", ".", "append", "child", "(", "simple", "content", ")", ";", "element", "extension", "=", "types", ".", "create", "element", "(", "str", ")", ";", "simple", "content", ".", "append", "child", "(", "extension", ")", ";", "string", "base", "=", "str", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "property", "descriptor", ".", "length", ";", "i", "+", "+", ")", "{", "string", "prop", "name", "=", "property", "descriptor", "[", "i", "]", ".", "get", "name", "(", ")", ";", "if", "(", "!", "prop", "name", ".", "equals", "(", "str", ")", ")", "{", "if", "(", "type", "desc", "!", "=", "null", ")", "{", "field", "desc", "field", "=", "type", "desc", ".", "get", "field", "by", "name", "(", "prop", "name", ")", ";", "if", "(", "field", "!", "=", "null", ")", "{", "if", "(", "field", ".", "is", "element", "(", ")", ")", "{", "}", "qname", "qname", "=", "field", ".", "get", "xml", "name", "(", ")", ";", "if", "(", "qname", "=", "=", "null", ")", "{", "qname", "=", "new", "qname", "(", "str", ",", "prop", "name", ")", ";", "}", "class", "field", "type", "=", "property", "descriptor", "[", "i", "]", ".", "get", "type", "(", ")", ";", "if", "(", "!", "types", ".", "is", "acceptable", "as", "attribute", "(", "field", "type", ")", ")", "{", "throw", "new", "axis", "fault", "(", "messages", ".", "get", "message", "(", "str", ",", "prop", "name", ",", "field", "type", ".", "get", "name", "(", ")", ")", ")", ";", "}", "element", "elem", "=", "types", ".", "create", "attribute", "element", "(", "prop", "name", ",", "field", "type", ",", "field", ".", "get", "xml", "type", "(", ")", ",", "false", ",", "extension", ".", "get", "owner", "document", "(", ")", ")", ";", "extension", ".", "append", "child", "(", "elem", ")", ";", "}", "}", "continue", ";", "}", "bean", "property", "descriptor", "bpd", "=", "property", "descriptor", "[", "i", "]", ";", "class", "type", "=", "bpd", ".", "get", "type", "(", ")", ";", "if", "(", "!", "types", ".", "is", "acceptable", "as", "attribute", "(", "type", ")", ")", "{", "throw", "new", "axis", "fault", "(", "messages", ".", "get", "message", "(", "str", ",", "type", ".", "get", "name", "(", ")", ")", ")", ";", "}", "base", "=", "types", ".", "write", "type", "(", "type", ")", ";", "extension", ".", "set", "attribute", "(", "str", ",", "base", ")", ";", "}", "return", "complex", "type", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> boolean <REPLACE_NEW> element <REPLACE_END> <KEEP> write schema ( <KEEP_END> <INSERT> class java type , <INSERT_END> <KEEP> types types ) throws exception { if ( ! simple type . class . is assignable from ( java type ) ) return <KEEP_END> <REPLACE_OLD> false <REPLACE_NEW> null <REPLACE_END> <KEEP> ; element complex type = types . create element ( str ) ; types . write schema element ( xml type , complex type ) ; complex type . set attribute ( str , xml type . get local part ( ) ) ; element simple content = types . create element ( str ) ; complex type . append child ( simple content ) ; element extension = types . create element ( str ) ; simple content . append child ( extension ) ; string base = str ; for ( int i = num ; i < property descriptor . length ; i + + ) { string prop name = property descriptor [ i ] . get name ( ) ; if ( ! prop name . equals ( str ) ) { if ( type desc ! = null ) { field desc field = type desc . get field by name ( prop name ) ; if ( field ! = null ) { if ( field . is element ( ) ) { } qname qname = field . get xml name ( ) ; if ( qname = = null ) { <KEEP_END> <DELETE> prop name = prop name ; <DELETE_END> <KEEP> qname = new qname ( str , prop name ) ; } class field type = property descriptor [ i ] . get type ( ) ; if ( ! types . is acceptable as attribute ( field type ) ) { throw new axis fault ( messages . get message ( str , prop name , field type . get name ( ) ) ) ; } <KEEP_END> <DELETE> string element type = types . write type ( field type ) ; <DELETE_END> <KEEP> element elem = types . create attribute element ( prop name , <KEEP_END> <REPLACE_OLD> element type <REPLACE_NEW> field type , field . get xml type ( ) <REPLACE_END> <KEEP> , false , extension . get owner document ( ) ) ; extension . append child ( elem ) ; } } continue ; } bean property descriptor bpd = property descriptor [ i ] ; class type = bpd . get type ( ) ; if ( ! types . is acceptable as attribute ( type ) ) { throw new axis fault ( messages . get message ( str , type . get name ( ) ) ) ; } base = types . write type ( type ) ; extension . set attribute ( str , base ) ; } return <KEEP_END> <REPLACE_OLD> true ; } <REPLACE_NEW> complex type ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "element", "<REPLACE_END>", "<KEEP>", "write", "schema", "(", "<KEEP_END>", "<INSERT>", "class", "java", "type", ",", "<INSERT_END>", "<KEEP>", "types", "types", ")", "throws", "exception", "{", "if", "(", "!", "simple", "type", ".", "class", ".", "is", "assignable", "from", "(", "java", "type", ")", ")", "return", "<KEEP_END>", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<KEEP>", ";", "element", "complex", "type", "=", "types", ".", "create", "element", "(", "str", ")", ";", "types", ".", "write", "schema", "element", "(", "xml", "type", ",", "complex", "type", ")", ";", "complex", "type", ".", "set", "attribute", "(", "str", ",", "xml", "type", ".", "get", "local", "part", "(", ")", ")", ";", "element", "simple", "content", "=", "types", ".", "create", "element", "(", "str", ")", ";", "complex", "type", ".", "append", "child", "(", "simple", "content", ")", ";", "element", "extension", "=", "types", ".", "create", "element", "(", "str", ")", ";", "simple", "content", ".", "append", "child", "(", "extension", ")", ";", "string", "base", "=", "str", ";", "for", "(", "int", "i", "=", "num", ";", "i", "<", "property", "descriptor", ".", "length", ";", "i", "+", "+", ")", "{", "string", "prop", "name", "=", "property", "descriptor", "[", "i", "]", ".", "get", "name", "(", ")", ";", "if", "(", "!", "prop", "name", ".", "equals", "(", "str", ")", ")", "{", "if", "(", "type", "desc", "!", "=", "null", ")", "{", "field", "desc", "field", "=", "type", "desc", ".", "get", "field", "by", "name", "(", "prop", "name", ")", ";", "if", "(", "field", "!", "=", "null", ")", "{", "if", "(", "field", ".", "is", "element", "(", ")", ")", "{", "}", "qname", "qname", "=", "field", ".", "get", "xml", "name", "(", ")", ";", "if", "(", "qname", "=", "=", "null", ")", "{", "<KEEP_END>", "<DELETE>", "prop", "name", "=", "prop", "name", ";", "<DELETE_END>", "<KEEP>", "qname", "=", "new", "qname", "(", "str", ",", "prop", "name", ")", ";", "}", "class", "field", "type", "=", "property", "descriptor", "[", "i", "]", ".", "get", "type", "(", ")", ";", "if", "(", "!", "types", ".", "is", "acceptable", "as", "attribute", "(", "field", "type", ")", ")", "{", "throw", "new", "axis", "fault", "(", "messages", ".", "get", "message", "(", "str", ",", "prop", "name", ",", "field", "type", ".", "get", "name", "(", ")", ")", ")", ";", "}", "<KEEP_END>", "<DELETE>", "string", "element", "type", "=", "types", ".", "write", "type", "(", "field", "type", ")", ";", "<DELETE_END>", "<KEEP>", "element", "elem", "=", "types", ".", "create", "attribute", "element", "(", "prop", "name", ",", "<KEEP_END>", "<REPLACE_OLD>", "element", "type", "<REPLACE_NEW>", "field", "type", ",", "field", ".", "get", "xml", "type", "(", ")", "<REPLACE_END>", "<KEEP>", ",", "false", ",", "extension", ".", "get", "owner", "document", "(", ")", ")", ";", "extension", ".", "append", "child", "(", "elem", ")", ";", "}", "}", "continue", ";", "}", "bean", "property", "descriptor", "bpd", "=", "property", "descriptor", "[", "i", "]", ";", "class", "type", "=", "bpd", ".", "get", "type", "(", ")", ";", "if", "(", "!", "types", ".", "is", "acceptable", "as", "attribute", "(", "type", ")", ")", "{", "throw", "new", "axis", "fault", "(", "messages", ".", "get", "message", "(", "str", ",", "type", ".", "get", "name", "(", ")", ")", ")", ";", "}", "base", "=", "types", ".", "write", "type", "(", "type", ")", ";", "extension", ".", "set", "attribute", "(", "str", ",", "base", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "true", ";", "}", "<REPLACE_NEW>", "complex", "type", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> true if we wrote <REPLACE_NEW> a type element containing <REPLACE_END> <REPLACE_OLD> , false if we didn ' t . <REPLACE_NEW> simple type / complex type <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "true", "if", "we", "wrote", "<REPLACE_NEW>", "a", "type", "element", "containing", "<REPLACE_END>", "<REPLACE_OLD>", ",", "false", "if", "we", "didn", "'", "t", ".", "<REPLACE_NEW>", "simple", "type", "/", "complex", "type", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "element", "<KEEP>", "write", "<KEEP>", "schema", "<KEEP>", "(", "<INSERT>", "class", "<INSERT>", "java", "<INSERT>", "type", "<INSERT>", ",", "<KEEP>", "types", "<KEEP>", "types", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "simple", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "assignable", "<KEEP>", "from", "<KEEP>", "(", "<KEEP>", "java", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<REPLACE_OLD>", "false", "<REPLACE_NEW>", "null", "<KEEP>", ";", "<KEEP>", "element", "<KEEP>", "complex", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "schema", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "xml", "<KEEP>", "type", "<KEEP>", ",", "<KEEP>", "complex", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "complex", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "xml", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "part", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "element", "<KEEP>", "simple", "<KEEP>", "content", "<KEEP>", "=", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "complex", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "simple", "<KEEP>", "content", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "element", "<KEEP>", "extension", "<KEEP>", "=", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "simple", "<KEEP>", "content", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "extension", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "base", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "for", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "i", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "<", "<KEEP>", "property", "<KEEP>", "descriptor", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ";", "<KEEP>", "i", "<KEEP>", "+", "<KEEP>", "+", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "prop", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "property", "<KEEP>", "descriptor", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "prop", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", "desc", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "field", "<KEEP>", "desc", "<KEEP>", "field", "<KEEP>", "=", "<KEEP>", "type", "<KEEP>", "desc", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "field", "<KEEP>", "by", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "prop", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "}", "<KEEP>", "qname", "<KEEP>", "qname", "<KEEP>", "=", "<KEEP>", "field", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "xml", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "qname", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "prop", "<DELETE>", "name", "<DELETE>", "=", "<DELETE>", "prop", "<DELETE>", "name", "<DELETE>", ";", "<KEEP>", "qname", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "qname", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "prop", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "class", "<KEEP>", "field", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "property", "<KEEP>", "descriptor", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "acceptable", "<KEEP>", "as", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "field", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "axis", "<KEEP>", "fault", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "prop", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "field", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "string", "<DELETE>", "element", "<DELETE>", "type", "<DELETE>", "=", "<DELETE>", "types", "<DELETE>", ".", "<DELETE>", "write", "<DELETE>", "type", "<DELETE>", "(", "<DELETE>", "field", "<DELETE>", "type", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "element", "<KEEP>", "elem", "<KEEP>", "=", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "attribute", "<KEEP>", "element", "<KEEP>", "(", "<KEEP>", "prop", "<KEEP>", "name", "<KEEP>", ",", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "field", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "xml", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "extension", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "owner", "<KEEP>", "document", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "extension", "<KEEP>", ".", "<KEEP>", "append", "<KEEP>", "child", "<KEEP>", "(", "<KEEP>", "elem", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "continue", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "bean", "<KEEP>", "property", "<KEEP>", "descriptor", "<KEEP>", "bpd", "<KEEP>", "=", "<KEEP>", "property", "<KEEP>", "descriptor", "<KEEP>", "[", "<KEEP>", "i", "<KEEP>", "]", "<KEEP>", ";", "<KEEP>", "class", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "bpd", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "acceptable", "<KEEP>", "as", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "axis", "<KEEP>", "fault", "<KEEP>", "(", "<KEEP>", "messages", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "base", "<KEEP>", "=", "<KEEP>", "types", "<KEEP>", ".", "<KEEP>", "write", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "extension", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "attribute", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "base", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "true", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "complex", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "apache_batik-210-4419", "old_comment": "the document fragment or null on error .", "old_comment_tokens": ["the", "document", "fragment", "or", "null", "on", "error", "."], "new_comment": "the document / document fragment or null on error .", "new_comment_tokens": ["the", "document", "/", "document", "fragment", "or", "null", "on", "error", "."], "old_code": "public document fragment parse xml ( string text , document doc ) { return null ; }", "old_code_tokens": ["public", "document", "fragment", "parse", "xml", "(", "string", "text", ",", "document", "doc", ")", "{", "return", "null", ";", "}"], "new_code": "public node parse xml ( string text , document doc ) { return null ; }", "new_code_tokens": ["public", "node", "parse", "xml", "(", "string", "text", ",", "document", "doc", ")", "{", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> document fragment <REPLACE_NEW> node <REPLACE_END> <KEEP> parse xml ( string text , document doc ) { return null ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "document", "fragment", "<REPLACE_NEW>", "node", "<REPLACE_END>", "<KEEP>", "parse", "xml", "(", "string", "text", ",", "document", "doc", ")", "{", "return", "null", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the document / <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "document", "/", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "document", "<REPLACE_OLD>", "fragment", "<REPLACE_NEW>", "node", "<KEEP>", "parse", "<KEEP>", "xml", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "text", "<KEEP>", ",", "<KEEP>", "document", "<KEEP>", "doc", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "h4ck3rm1k3_josm-older-85-7420", "old_comment": "a collection containing all primitives of the dataset . the data is ordered after : first come nodes , then ways , then relations . ordering in between the categories is not guaranteed .", "old_comment_tokens": ["a", "collection", "containing", "all", "primitives", "of", "the", "dataset", ".", "the", "data", "is", "ordered", "after", ":", "first", "come", "nodes", ",", "then", "ways", ",", "then", "relations", ".", "ordering", "in", "between", "the", "categories", "is", "not", "guaranteed", "."], "new_comment": "a collection containing all primitives of the dataset . data are not ordered", "new_comment_tokens": ["a", "collection", "containing", "all", "primitives", "of", "the", "dataset", ".", "data", "are", "not", "ordered"], "old_code": "public list < osm primitive > all primitives ( ) { list < osm primitive > o = new linked list < osm primitive > ( ) ; o . add all ( nodes ) ; o . add all ( ways ) ; o . add all ( relations ) ; return o ; }", "old_code_tokens": ["public", "list", "<", "osm", "primitive", ">", "all", "primitives", "(", ")", "{", "list", "<", "osm", "primitive", ">", "o", "=", "new", "linked", "list", "<", "osm", "primitive", ">", "(", ")", ";", "o", ".", "add", "all", "(", "nodes", ")", ";", "o", ".", "add", "all", "(", "ways", ")", ";", "o", ".", "add", "all", "(", "relations", ")", ";", "return", "o", ";", "}"], "new_code": "public collection < osm primitive > all primitives ( ) { return collections . unmodifiable collection ( all primitives ) ; }", "new_code_tokens": ["public", "collection", "<", "osm", "primitive", ">", "all", "primitives", "(", ")", "{", "return", "collections", ".", "unmodifiable", "collection", "(", "all", "primitives", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> collection <REPLACE_END> <KEEP> < osm primitive > all primitives ( ) { <KEEP_END> <REPLACE_OLD> list < osm primitive > o = new linked list < osm primitive > <REPLACE_NEW> return collections . unmodifiable collection <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> all primitives <INSERT_END> <KEEP> ) ; <KEEP_END> <DELETE> o . add all ( nodes ) ; o . add all ( ways ) ; o . add all ( relations ) ; return o ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "osm", "primitive", ">", "all", "primitives", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "osm", "primitive", ">", "o", "=", "new", "linked", "list", "<", "osm", "primitive", ">", "<REPLACE_NEW>", "return", "collections", ".", "unmodifiable", "collection", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "all", "primitives", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<DELETE>", "o", ".", "add", "all", "(", "nodes", ")", ";", "o", ".", "add", "all", "(", "ways", ")", ";", "o", ".", "add", "all", "(", "relations", ")", ";", "return", "o", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_DELETE_KEEP_BEFORE> . the <REPLACE_NEW_DELETE_KEEP_BEFORE> . <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> data is <REPLACE_NEW_KEEP_BEFORE> data are not <REPLACE_END> <DELETE> after : first come nodes , then ways , then relations . ordering in between the categories is not guaranteed . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_DELETE_KEEP_BEFORE>", ".", "the", "<REPLACE_NEW_DELETE_KEEP_BEFORE>", ".", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "data", "is", "<REPLACE_NEW_KEEP_BEFORE>", "data", "are", "not", "<REPLACE_END>", "<DELETE>", "after", ":", "first", "come", "nodes", ",", "then", "ways", ",", "then", "relations", ".", "ordering", "in", "between", "the", "categories", "is", "not", "guaranteed", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<KEEP>", "osm", "<KEEP>", "primitive", "<KEEP>", ">", "<KEEP>", "all", "<KEEP>", "primitives", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "osm", "<REPLACE_OLD>", "primitive", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "o", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "linked", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "osm", "<REPLACE_OLD>", "primitive", "<REPLACE_OLD>", ">", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "collections", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "unmodifiable", "<REPLACE_NEW>", "collection", "<KEEP>", "(", "<INSERT>", "all", "<INSERT>", "primitives", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "o", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "all", "<DELETE>", "(", "<DELETE>", "nodes", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "o", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "all", "<DELETE>", "(", "<DELETE>", "ways", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "o", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "all", "<DELETE>", "(", "<DELETE>", "relations", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "o", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_clerezza-40-6395", "old_comment": "bnode if it is a blank node otherwise a uri ref", "old_comment_tokens": ["bnode", "if", "it", "is", "a", "blank", "node", "otherwise", "a", "uri", "ref"], "new_comment": "blank node if it is a blank node otherwise a iri", "new_comment_tokens": ["blank", "node", "if", "it", "is", "a", "blank", "node", "otherwise", "a", "iri"], "old_code": "public non literal convert non literal ( node node ) { if ( node = = null ) { throw new illegal argument exception ( str ) ; } if ( node . is blank ( ) ) { return convert jena node2 tria blank node ( node ) ; } if ( node . is uri ( ) ) { return convert jena uri2 uri ref ( node ) ; } throw new runtime exception ( str + node + str ) ; }", "old_code_tokens": ["public", "non", "literal", "convert", "non", "literal", "(", "node", "node", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "node", ".", "is", "blank", "(", ")", ")", "{", "return", "convert", "jena", "node2", "tria", "blank", "node", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "uri", "(", ")", ")", "{", "return", "convert", "jena", "uri2", "uri", "ref", "(", "node", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "node", "+", "str", ")", ";", "}"], "new_code": "public blank node or iri convert non literal ( node node ) { if ( node = = null ) { throw new illegal argument exception ( str ) ; } if ( node . is blank ( ) ) { return convert jena node2 tria blank node ( node ) ; } if ( node . is uri ( ) ) { return convert jena uri2 uri ref ( node ) ; } throw new runtime exception ( str + node + str ) ; }", "new_code_tokens": ["public", "blank", "node", "or", "iri", "convert", "non", "literal", "(", "node", "node", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "node", ".", "is", "blank", "(", ")", ")", "{", "return", "convert", "jena", "node2", "tria", "blank", "node", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "uri", "(", ")", ")", "{", "return", "convert", "jena", "uri2", "uri", "ref", "(", "node", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "node", "+", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> non literal <REPLACE_NEW> blank node or iri <REPLACE_END> <KEEP> convert non literal ( node node ) { if ( node = = null ) { throw new illegal argument exception ( str ) ; } if ( node . is blank ( ) ) { return convert jena node2 tria blank node ( node ) ; } if ( node . is uri ( ) ) { return convert jena uri2 uri ref ( node ) ; } throw new runtime exception ( str + node + str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "non", "literal", "<REPLACE_NEW>", "blank", "node", "or", "iri", "<REPLACE_END>", "<KEEP>", "convert", "non", "literal", "(", "node", "node", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "node", ".", "is", "blank", "(", ")", ")", "{", "return", "convert", "jena", "node2", "tria", "blank", "node", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "uri", "(", ")", ")", "{", "return", "convert", "jena", "uri2", "uri", "ref", "(", "node", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "node", "+", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> bnode <REPLACE_NEW> blank node <REPLACE_END> <REPLACE_OLD> uri ref <REPLACE_NEW> iri <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "bnode", "<REPLACE_NEW>", "blank", "node", "<REPLACE_END>", "<REPLACE_OLD>", "uri", "ref", "<REPLACE_NEW>", "iri", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "non", "<REPLACE_OLD>", "literal", "<REPLACE_NEW>", "blank", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", "or", "<REPLACE_NEW>", "iri", "<KEEP>", "convert", "<KEEP>", "non", "<KEEP>", "literal", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "blank", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "convert", "<KEEP>", "jena", "<KEEP>", "node2", "<KEEP>", "tria", "<KEEP>", "blank", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "convert", "<KEEP>", "jena", "<KEEP>", "uri2", "<KEEP>", "uri", "<KEEP>", "ref", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "heuermh_ensembl-rest-client-6-5258", "old_comment": "a new variation service with the default server url", "old_comment_tokens": ["a", "new", "variation", "service", "with", "the", "default", "server", "url"], "new_comment": "a new variation service with the default endpoint url", "new_comment_tokens": ["a", "new", "variation", "service", "with", "the", "default", "endpoint", "url"], "old_code": "public variation service create variation service ( ) { return create variation service ( default server url ) ; }", "old_code_tokens": ["public", "variation", "service", "create", "variation", "service", "(", ")", "{", "return", "create", "variation", "service", "(", "default", "server", "url", ")", ";", "}"], "new_code": "public variation service create variation service ( ) { return create variation service ( default endpoint url ) ; }", "new_code_tokens": ["public", "variation", "service", "create", "variation", "service", "(", ")", "{", "return", "create", "variation", "service", "(", "default", "endpoint", "url", ")", ";", "}"], "span_diff_code": "<KEEP> public variation service create variation service ( ) { return create variation service ( default <KEEP_END> <REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END> <KEEP> url ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "variation", "service", "create", "variation", "service", "(", ")", "{", "return", "create", "variation", "service", "(", "default", "<KEEP_END>", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>", "<KEEP>", "url", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> server <REPLACE_NEW> endpoint <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "variation", "<KEEP>", "service", "<KEEP>", "create", "<KEEP>", "variation", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "create", "<KEEP>", "variation", "<KEEP>", "service", "<KEEP>", "(", "<KEEP>", "default", "<REPLACE_OLD>", "server", "<REPLACE_NEW>", "endpoint", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_xpert-framework-1-5667", "old_comment": "a long instance of id passed in parameter", "old_comment_tokens": ["a", "long", "instance", "of", "id", "passed", "in", "parameter"], "new_comment": "a number instance of id passed in parameter", "new_comment_tokens": ["a", "number", "instance", "of", "id", "passed", "in", "parameter"], "old_code": "private long get id from parameter ( ) { string parameter = faces utils . get parameter ( id ) ; if ( parameter = = null | | parameter . is empty ( ) ) { return null ; } try { return long . parse long ( string utils . get only integer numbers ( parameter ) ) ; } catch ( number format exception ex ) { return null ; } }", "old_code_tokens": ["private", "long", "get", "id", "from", "parameter", "(", ")", "{", "string", "parameter", "=", "faces", "utils", ".", "get", "parameter", "(", "id", ")", ";", "if", "(", "parameter", "=", "=", "null", "|", "|", "parameter", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "try", "{", "return", "long", ".", "parse", "long", "(", "string", "utils", ".", "get", "only", "integer", "numbers", "(", "parameter", ")", ")", ";", "}", "catch", "(", "number", "format", "exception", "ex", ")", "{", "return", "null", ";", "}", "}"], "new_code": "private object get id from parameter ( ) { string parameter = faces utils . get parameter ( id ) ; if ( parameter = = null | | parameter . is empty ( ) ) { return null ; } try { class id type = entity utils . get id type ( entity class ) ; if ( id type . equals ( long . class ) ) { return long . parse long ( string utils . get only integer numbers ( parameter ) ) ; } else if ( id type . equals ( integer . class ) ) { return integer . parse int ( string utils . get only integer numbers ( parameter ) ) ; } else { logger . log ( level . severe , str , new object [ ] { id type . get name ( ) , entity class . get name ( ) } ) ; return null ; } } catch ( number format exception ex ) { return null ; } }", "new_code_tokens": ["private", "object", "get", "id", "from", "parameter", "(", ")", "{", "string", "parameter", "=", "faces", "utils", ".", "get", "parameter", "(", "id", ")", ";", "if", "(", "parameter", "=", "=", "null", "|", "|", "parameter", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "try", "{", "class", "id", "type", "=", "entity", "utils", ".", "get", "id", "type", "(", "entity", "class", ")", ";", "if", "(", "id", "type", ".", "equals", "(", "long", ".", "class", ")", ")", "{", "return", "long", ".", "parse", "long", "(", "string", "utils", ".", "get", "only", "integer", "numbers", "(", "parameter", ")", ")", ";", "}", "else", "if", "(", "id", "type", ".", "equals", "(", "integer", ".", "class", ")", ")", "{", "return", "integer", ".", "parse", "int", "(", "string", "utils", ".", "get", "only", "integer", "numbers", "(", "parameter", ")", ")", ";", "}", "else", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "str", ",", "new", "object", "[", "]", "{", "id", "type", ".", "get", "name", "(", ")", ",", "entity", "class", ".", "get", "name", "(", ")", "}", ")", ";", "return", "null", ";", "}", "}", "catch", "(", "number", "format", "exception", "ex", ")", "{", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> private <KEEP_END> <REPLACE_OLD> long <REPLACE_NEW> object <REPLACE_END> <KEEP> get id from parameter ( ) { string parameter = faces utils . get parameter ( id ) ; if ( parameter = = null | | parameter . is empty ( ) ) { return null ; } try { <KEEP_END> <INSERT> class id type = entity utils . get id type ( entity class ) ; if ( id type . equals ( long . class ) ) { <INSERT_END> <KEEP> return long . parse long ( string utils . get only integer numbers ( parameter ) ) ; } <KEEP_END> <INSERT> else if ( id type . equals ( integer . class ) ) { return integer . parse int ( string utils . get only integer numbers ( parameter ) ) ; } else { logger . log ( level . severe , str , new object [ ] { id type . get name ( ) , entity class . get name ( ) } ) ; return null ; } } <INSERT_END> <KEEP> catch ( number format exception ex ) { return null ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "<KEEP_END>", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "object", "<REPLACE_END>", "<KEEP>", "get", "id", "from", "parameter", "(", ")", "{", "string", "parameter", "=", "faces", "utils", ".", "get", "parameter", "(", "id", ")", ";", "if", "(", "parameter", "=", "=", "null", "|", "|", "parameter", ".", "is", "empty", "(", ")", ")", "{", "return", "null", ";", "}", "try", "{", "<KEEP_END>", "<INSERT>", "class", "id", "type", "=", "entity", "utils", ".", "get", "id", "type", "(", "entity", "class", ")", ";", "if", "(", "id", "type", ".", "equals", "(", "long", ".", "class", ")", ")", "{", "<INSERT_END>", "<KEEP>", "return", "long", ".", "parse", "long", "(", "string", "utils", ".", "get", "only", "integer", "numbers", "(", "parameter", ")", ")", ";", "}", "<KEEP_END>", "<INSERT>", "else", "if", "(", "id", "type", ".", "equals", "(", "integer", ".", "class", ")", ")", "{", "return", "integer", ".", "parse", "int", "(", "string", "utils", ".", "get", "only", "integer", "numbers", "(", "parameter", ")", ")", ";", "}", "else", "{", "logger", ".", "log", "(", "level", ".", "severe", ",", "str", ",", "new", "object", "[", "]", "{", "id", "type", ".", "get", "name", "(", ")", ",", "entity", "class", ".", "get", "name", "(", ")", "}", ")", ";", "return", "null", ";", "}", "}", "<INSERT_END>", "<KEEP>", "catch", "(", "number", "format", "exception", "ex", ")", "{", "return", "null", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> long <REPLACE_NEW> number <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "long", "<REPLACE_NEW>", "number", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<REPLACE_OLD>", "long", "<REPLACE_NEW>", "object", "<KEEP>", "get", "<KEEP>", "id", "<KEEP>", "from", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "parameter", "<KEEP>", "=", "<KEEP>", "faces", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parameter", "<KEEP>", "(", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "parameter", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "parameter", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<INSERT>", "class", "<INSERT>", "id", "<INSERT>", "type", "<INSERT>", "=", "<INSERT>", "entity", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "id", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", "entity", "<INSERT>", "class", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "id", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "long", "<INSERT>", ".", "<INSERT>", "class", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<KEEP>", "return", "<KEEP>", "long", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "only", "<KEEP>", "integer", "<KEEP>", "numbers", "<KEEP>", "(", "<KEEP>", "parameter", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "else", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "id", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "equals", "<INSERT>", "(", "<INSERT>", "integer", "<INSERT>", ".", "<INSERT>", "class", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "integer", "<INSERT>", ".", "<INSERT>", "parse", "<INSERT>", "int", "<INSERT>", "(", "<INSERT>", "string", "<INSERT>", "utils", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "only", "<INSERT>", "integer", "<INSERT>", "numbers", "<INSERT>", "(", "<INSERT>", "parameter", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "else", "<INSERT>", "{", "<INSERT>", "logger", "<INSERT>", ".", "<INSERT>", "log", "<INSERT>", "(", "<INSERT>", "level", "<INSERT>", ".", "<INSERT>", "severe", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "new", "<INSERT>", "object", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", "{", "<INSERT>", "id", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ",", "<INSERT>", "entity", "<INSERT>", "class", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "name", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", "}", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "number", "<KEEP>", "format", "<KEEP>", "exception", "<KEEP>", "ex", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_axis1-java-242-6692", "old_comment": "qname fully qualified name of the port", "old_comment_tokens": ["qname", "fully", "qualified", "name", "of", "the", "port"], "new_comment": "qname fully qualified name of the port type", "new_comment_tokens": ["qname", "fully", "qualified", "name", "of", "the", "port", "type"], "old_code": "public qname get port type name ( ) { return port name = = null ? new qname ( str ) : port name ; }", "old_code_tokens": ["public", "qname", "get", "port", "type", "name", "(", ")", "{", "return", "port", "name", "=", "=", "null", "?", "new", "qname", "(", "str", ")", ":", "port", "name", ";", "}"], "new_code": "public qname get port type name ( ) { return port type name = = null ? new qname ( str ) : port type name ; }", "new_code_tokens": ["public", "qname", "get", "port", "type", "name", "(", ")", "{", "return", "port", "type", "name", "=", "=", "null", "?", "new", "qname", "(", "str", ")", ":", "port", "type", "name", ";", "}"], "span_diff_code": "<KEEP> public qname get port type name ( ) { return port <KEEP_END> <INSERT> type <INSERT_END> <KEEP> name = = null ? new qname ( str ) : port <KEEP_END> <INSERT> type <INSERT_END> <KEEP> name ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "qname", "get", "port", "type", "name", "(", ")", "{", "return", "port", "<KEEP_END>", "<INSERT>", "type", "<INSERT_END>", "<KEEP>", "name", "=", "=", "null", "?", "new", "qname", "(", "str", ")", ":", "port", "<KEEP_END>", "<INSERT>", "type", "<INSERT_END>", "<KEEP>", "name", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> port <INSERT_NEW_KEEP_BEFORE> port type <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "port", "<INSERT_NEW_KEEP_BEFORE>", "port", "type", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "qname", "<KEEP>", "get", "<KEEP>", "port", "<KEEP>", "type", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "port", "<INSERT>", "type", "<KEEP>", "name", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "?", "<KEEP>", "new", "<KEEP>", "qname", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "port", "<INSERT>", "type", "<KEEP>", "name", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "gorkem_webtools.jsdt-14-6462", "old_comment": "s the location in display coordinates or null iff unchanged", "old_comment_tokens": ["s", "the", "location", "in", "display", "coordinates", "or", "null", "iff", "unchanged"], "new_comment": "the location in display coordinates or null iff not visible", "new_comment_tokens": ["the", "location", "in", "display", "coordinates", "or", "null", "iff", "not", "visible"], "old_code": "private point compute popup location ( int snap position , boolean editor bounds changed ) { if ( f popup = = null | | f popup . is disposed ( ) ) return null ; switch ( snap position ) { case snap _ position _ lower _ right : if ( ! editor bounds changed ) { return null ; } else { styled text e widget = f editor . get viewer ( ) . get text widget ( ) ; rectangle e bounds = e widget . get client area ( ) ; point e lower right = e widget . to display ( e bounds . x + e bounds . width , e bounds . y + e bounds . height ) ; point p size = f popup . get size ( ) ; return new point ( e lower right . x - p size . x - num , e lower right . y - p size . y - num ) ; } case snap _ position _ under _ right _ field : case snap _ position _ over _ right _ field : { linked position position = f rename linked mode . get current linked position ( ) ; if ( position = = null ) return null ; isource viewer viewer = f editor . get viewer ( ) ; itext viewer extension5 viewer5 = ( itext viewer extension5 ) viewer ; int widget offset = viewer5 . model offset2 widget offset ( position . offset + position . length ) ; styled text text widget = viewer . get text widget ( ) ; point pos = text widget . get location at offset ( widget offset ) ; point p size = f popup . get size ( ) ; if ( snap position = = snap _ position _ over _ right _ field ) { pos . y - = p size . y ; } else { pos . y + = text widget . get line height ( widget offset ) ; } pos . x + = num ; point d pos = text widget . to display ( pos ) ; rectangle display bounds = text widget . get display ( ) . get client area ( ) ; rectangle d popup rect = geometry . create rectangle ( d pos , p size ) ; geometry . move inside ( d popup rect , display bounds ) ; return new point ( d popup rect . x , d popup rect . y ) ; } case snap _ position _ under _ left _ field : case snap _ position _ over _ left _ field : default : { linked position position = f rename linked mode . get current linked position ( ) ; if ( position = = null ) return null ; isource viewer viewer = f editor . get viewer ( ) ; itext viewer extension5 viewer5 = ( itext viewer extension5 ) viewer ; int widget offset = viewer5 . model offset2 widget offset ( position . offset ) ; styled text text widget = viewer . get text widget ( ) ; point pos = text widget . get location at offset ( widget offset ) ; point p size = f popup . get size ( ) ; if ( snap position = = snap _ position _ over _ left _ field ) { pos . y - = p size . y ; } else { pos . y + = text widget . get line height ( widget offset ) ; } point d pos = text widget . to display ( pos ) ; rectangle display bounds = text widget . get display ( ) . get client area ( ) ; rectangle d popup rect = geometry . create rectangle ( d pos , p size ) ; geometry . move inside ( d popup rect , display bounds ) ; return new point ( d popup rect . x , d popup rect . y ) ; } } }", "old_code_tokens": ["private", "point", "compute", "popup", "location", "(", "int", "snap", "position", ",", "boolean", "editor", "bounds", "changed", ")", "{", "if", "(", "f", "popup", "=", "=", "null", "|", "|", "f", "popup", ".", "is", "disposed", "(", ")", ")", "return", "null", ";", "switch", "(", "snap", "position", ")", "{", "case", "snap", "_", "position", "_", "lower", "_", "right", ":", "if", "(", "!", "editor", "bounds", "changed", ")", "{", "return", "null", ";", "}", "else", "{", "styled", "text", "e", "widget", "=", "f", "editor", ".", "get", "viewer", "(", ")", ".", "get", "text", "widget", "(", ")", ";", "rectangle", "e", "bounds", "=", "e", "widget", ".", "get", "client", "area", "(", ")", ";", "point", "e", "lower", "right", "=", "e", "widget", ".", "to", "display", "(", "e", "bounds", ".", "x", "+", "e", "bounds", ".", "width", ",", "e", "bounds", ".", "y", "+", "e", "bounds", ".", "height", ")", ";", "point", "p", "size", "=", "f", "popup", ".", "get", "size", "(", ")", ";", "return", "new", "point", "(", "e", "lower", "right", ".", "x", "-", "p", "size", ".", "x", "-", "num", ",", "e", "lower", "right", ".", "y", "-", "p", "size", ".", "y", "-", "num", ")", ";", "}", "case", "snap", "_", "position", "_", "under", "_", "right", "_", "field", ":", "case", "snap", "_", "position", "_", "over", "_", "right", "_", "field", ":", "{", "linked", "position", "position", "=", "f", "rename", "linked", "mode", ".", "get", "current", "linked", "position", "(", ")", ";", "if", "(", "position", "=", "=", "null", ")", "return", "null", ";", "isource", "viewer", "viewer", "=", "f", "editor", ".", "get", "viewer", "(", ")", ";", "itext", "viewer", "extension5", "viewer5", "=", "(", "itext", "viewer", "extension5", ")", "viewer", ";", "int", "widget", "offset", "=", "viewer5", ".", "model", "offset2", "widget", "offset", "(", "position", ".", "offset", "+", "position", ".", "length", ")", ";", "styled", "text", "text", "widget", "=", "viewer", ".", "get", "text", "widget", "(", ")", ";", "point", "pos", "=", "text", "widget", ".", "get", "location", "at", "offset", "(", "widget", "offset", ")", ";", "point", "p", "size", "=", "f", "popup", ".", "get", "size", "(", ")", ";", "if", "(", "snap", "position", "=", "=", "snap", "_", "position", "_", "over", "_", "right", "_", "field", ")", "{", "pos", ".", "y", "-", "=", "p", "size", ".", "y", ";", "}", "else", "{", "pos", ".", "y", "+", "=", "text", "widget", ".", "get", "line", "height", "(", "widget", "offset", ")", ";", "}", "pos", ".", "x", "+", "=", "num", ";", "point", "d", "pos", "=", "text", "widget", ".", "to", "display", "(", "pos", ")", ";", "rectangle", "display", "bounds", "=", "text", "widget", ".", "get", "display", "(", ")", ".", "get", "client", "area", "(", ")", ";", "rectangle", "d", "popup", "rect", "=", "geometry", ".", "create", "rectangle", "(", "d", "pos", ",", "p", "size", ")", ";", "geometry", ".", "move", "inside", "(", "d", "popup", "rect", ",", "display", "bounds", ")", ";", "return", "new", "point", "(", "d", "popup", "rect", ".", "x", ",", "d", "popup", "rect", ".", "y", ")", ";", "}", "case", "snap", "_", "position", "_", "under", "_", "left", "_", "field", ":", "case", "snap", "_", "position", "_", "over", "_", "left", "_", "field", ":", "default", ":", "{", "linked", "position", "position", "=", "f", "rename", "linked", "mode", ".", "get", "current", "linked", "position", "(", ")", ";", "if", "(", "position", "=", "=", "null", ")", "return", "null", ";", "isource", "viewer", "viewer", "=", "f", "editor", ".", "get", "viewer", "(", ")", ";", "itext", "viewer", "extension5", "viewer5", "=", "(", "itext", "viewer", "extension5", ")", "viewer", ";", "int", "widget", "offset", "=", "viewer5", ".", "model", "offset2", "widget", "offset", "(", "position", ".", "offset", ")", ";", "styled", "text", "text", "widget", "=", "viewer", ".", "get", "text", "widget", "(", ")", ";", "point", "pos", "=", "text", "widget", ".", "get", "location", "at", "offset", "(", "widget", "offset", ")", ";", "point", "p", "size", "=", "f", "popup", ".", "get", "size", "(", ")", ";", "if", "(", "snap", "position", "=", "=", "snap", "_", "position", "_", "over", "_", "left", "_", "field", ")", "{", "pos", ".", "y", "-", "=", "p", "size", ".", "y", ";", "}", "else", "{", "pos", ".", "y", "+", "=", "text", "widget", ".", "get", "line", "height", "(", "widget", "offset", ")", ";", "}", "point", "d", "pos", "=", "text", "widget", ".", "to", "display", "(", "pos", ")", ";", "rectangle", "display", "bounds", "=", "text", "widget", ".", "get", "display", "(", ")", ".", "get", "client", "area", "(", ")", ";", "rectangle", "d", "popup", "rect", "=", "geometry", ".", "create", "rectangle", "(", "d", "pos", ",", "p", "size", ")", ";", "geometry", ".", "move", "inside", "(", "d", "popup", "rect", ",", "display", "bounds", ")", ";", "return", "new", "point", "(", "d", "popup", "rect", ".", "x", ",", "d", "popup", "rect", ".", "y", ")", ";", "}", "}", "}"], "new_code": "private point compute popup location ( int snap position ) { if ( f popup = = null | | f popup . is disposed ( ) ) return null ; switch ( snap position ) { case snap _ position _ lower _ right : { styled text e widget = f editor . get viewer ( ) . get text widget ( ) ; rectangle e bounds = e widget . get client area ( ) ; point e lower right = e widget . to display ( e bounds . x + e bounds . width , e bounds . y + e bounds . height ) ; point p size = get extent ( ) ; return new point ( e lower right . x - p size . x - num , e lower right . y - p size . y - num ) ; } case snap _ position _ under _ right _ field : case snap _ position _ over _ right _ field : { linked position position = f rename linked mode . get current linked position ( ) ; if ( position = = null ) return null ; isource viewer viewer = f editor . get viewer ( ) ; itext viewer extension5 viewer5 = ( itext viewer extension5 ) viewer ; int widget offset = viewer5 . model offset2 widget offset ( position . offset + position . length ) ; styled text text widget = viewer . get text widget ( ) ; point pos = text widget . get location at offset ( widget offset ) ; point p size = get extent ( ) ; if ( snap position = = snap _ position _ over _ right _ field ) { pos . y - = p size . y + gap ; } else { pos . y + = text widget . get line height ( widget offset ) + gap ; } pos . x + = gap ; point d pos = text widget . to display ( pos ) ; rectangle display bounds = text widget . get display ( ) . get client area ( ) ; rectangle d popup rect = geometry . create rectangle ( d pos , p size ) ; geometry . move inside ( d popup rect , display bounds ) ; return new point ( d popup rect . x , d popup rect . y ) ; } case snap _ position _ under _ left _ field : case snap _ position _ over _ left _ field : default : { linked position position = f rename linked mode . get current linked position ( ) ; if ( position = = null ) return null ; isource viewer viewer = f editor . get viewer ( ) ; itext viewer extension5 viewer5 = ( itext viewer extension5 ) viewer ; int widget offset = viewer5 . model offset2 widget offset ( position . offset ) ; styled text text widget = viewer . get text widget ( ) ; point pos = text widget . get location at offset ( widget offset ) ; point p size = get extent ( ) ; p size . y + = hah + num ; pos . x - = hao ; if ( snap position = = snap _ position _ over _ left _ field ) { pos . y - = p size . y ; } else { pos . y + = text widget . get line height ( widget offset ) ; } point d pos = text widget . to display ( pos ) ; rectangle display bounds = text widget . get display ( ) . get client area ( ) ; rectangle d popup rect = geometry . create rectangle ( d pos , p size ) ; geometry . move inside ( d popup rect , display bounds ) ; return new point ( d popup rect . x , d popup rect . y ) ; } } }", "new_code_tokens": ["private", "point", "compute", "popup", "location", "(", "int", "snap", "position", ")", "{", "if", "(", "f", "popup", "=", "=", "null", "|", "|", "f", "popup", ".", "is", "disposed", "(", ")", ")", "return", "null", ";", "switch", "(", "snap", "position", ")", "{", "case", "snap", "_", "position", "_", "lower", "_", "right", ":", "{", "styled", "text", "e", "widget", "=", "f", "editor", ".", "get", "viewer", "(", ")", ".", "get", "text", "widget", "(", ")", ";", "rectangle", "e", "bounds", "=", "e", "widget", ".", "get", "client", "area", "(", ")", ";", "point", "e", "lower", "right", "=", "e", "widget", ".", "to", "display", "(", "e", "bounds", ".", "x", "+", "e", "bounds", ".", "width", ",", "e", "bounds", ".", "y", "+", "e", "bounds", ".", "height", ")", ";", "point", "p", "size", "=", "get", "extent", "(", ")", ";", "return", "new", "point", "(", "e", "lower", "right", ".", "x", "-", "p", "size", ".", "x", "-", "num", ",", "e", "lower", "right", ".", "y", "-", "p", "size", ".", "y", "-", "num", ")", ";", "}", "case", "snap", "_", "position", "_", "under", "_", "right", "_", "field", ":", "case", "snap", "_", "position", "_", "over", "_", "right", "_", "field", ":", "{", "linked", "position", "position", "=", "f", "rename", "linked", "mode", ".", "get", "current", "linked", "position", "(", ")", ";", "if", "(", "position", "=", "=", "null", ")", "return", "null", ";", "isource", "viewer", "viewer", "=", "f", "editor", ".", "get", "viewer", "(", ")", ";", "itext", "viewer", "extension5", "viewer5", "=", "(", "itext", "viewer", "extension5", ")", "viewer", ";", "int", "widget", "offset", "=", "viewer5", ".", "model", "offset2", "widget", "offset", "(", "position", ".", "offset", "+", "position", ".", "length", ")", ";", "styled", "text", "text", "widget", "=", "viewer", ".", "get", "text", "widget", "(", ")", ";", "point", "pos", "=", "text", "widget", ".", "get", "location", "at", "offset", "(", "widget", "offset", ")", ";", "point", "p", "size", "=", "get", "extent", "(", ")", ";", "if", "(", "snap", "position", "=", "=", "snap", "_", "position", "_", "over", "_", "right", "_", "field", ")", "{", "pos", ".", "y", "-", "=", "p", "size", ".", "y", "+", "gap", ";", "}", "else", "{", "pos", ".", "y", "+", "=", "text", "widget", ".", "get", "line", "height", "(", "widget", "offset", ")", "+", "gap", ";", "}", "pos", ".", "x", "+", "=", "gap", ";", "point", "d", "pos", "=", "text", "widget", ".", "to", "display", "(", "pos", ")", ";", "rectangle", "display", "bounds", "=", "text", "widget", ".", "get", "display", "(", ")", ".", "get", "client", "area", "(", ")", ";", "rectangle", "d", "popup", "rect", "=", "geometry", ".", "create", "rectangle", "(", "d", "pos", ",", "p", "size", ")", ";", "geometry", ".", "move", "inside", "(", "d", "popup", "rect", ",", "display", "bounds", ")", ";", "return", "new", "point", "(", "d", "popup", "rect", ".", "x", ",", "d", "popup", "rect", ".", "y", ")", ";", "}", "case", "snap", "_", "position", "_", "under", "_", "left", "_", "field", ":", "case", "snap", "_", "position", "_", "over", "_", "left", "_", "field", ":", "default", ":", "{", "linked", "position", "position", "=", "f", "rename", "linked", "mode", ".", "get", "current", "linked", "position", "(", ")", ";", "if", "(", "position", "=", "=", "null", ")", "return", "null", ";", "isource", "viewer", "viewer", "=", "f", "editor", ".", "get", "viewer", "(", ")", ";", "itext", "viewer", "extension5", "viewer5", "=", "(", "itext", "viewer", "extension5", ")", "viewer", ";", "int", "widget", "offset", "=", "viewer5", ".", "model", "offset2", "widget", "offset", "(", "position", ".", "offset", ")", ";", "styled", "text", "text", "widget", "=", "viewer", ".", "get", "text", "widget", "(", ")", ";", "point", "pos", "=", "text", "widget", ".", "get", "location", "at", "offset", "(", "widget", "offset", ")", ";", "point", "p", "size", "=", "get", "extent", "(", ")", ";", "p", "size", ".", "y", "+", "=", "hah", "+", "num", ";", "pos", ".", "x", "-", "=", "hao", ";", "if", "(", "snap", "position", "=", "=", "snap", "_", "position", "_", "over", "_", "left", "_", "field", ")", "{", "pos", ".", "y", "-", "=", "p", "size", ".", "y", ";", "}", "else", "{", "pos", ".", "y", "+", "=", "text", "widget", ".", "get", "line", "height", "(", "widget", "offset", ")", ";", "}", "point", "d", "pos", "=", "text", "widget", ".", "to", "display", "(", "pos", ")", ";", "rectangle", "display", "bounds", "=", "text", "widget", ".", "get", "display", "(", ")", ".", "get", "client", "area", "(", ")", ";", "rectangle", "d", "popup", "rect", "=", "geometry", ".", "create", "rectangle", "(", "d", "pos", ",", "p", "size", ")", ";", "geometry", ".", "move", "inside", "(", "d", "popup", "rect", ",", "display", "bounds", ")", ";", "return", "new", "point", "(", "d", "popup", "rect", ".", "x", ",", "d", "popup", "rect", ".", "y", ")", ";", "}", "}", "}"], "span_diff_code": "<KEEP> private point compute popup location ( int snap position <KEEP_END> <DELETE> , boolean editor bounds changed <DELETE_END> <KEEP> ) { if ( f popup = = null | | f popup . is disposed ( ) ) return null ; switch ( snap position ) { case snap _ position _ lower _ right : <KEEP_END> <DELETE> if ( ! editor bounds changed ) { return null ; } else <DELETE_END> <KEEP> { styled text e widget = f editor . get viewer ( ) . get text widget ( ) ; rectangle e bounds = e widget . get client area ( ) ; point e lower right = e widget . to display ( e bounds . x + e bounds . width , e bounds . y + e bounds . height ) ; point p size = <KEEP_END> <REPLACE_OLD> f popup . get size <REPLACE_NEW> get extent <REPLACE_END> <KEEP> ( ) ; return new point ( e lower right . x - p size . x - num , e lower right . y - p size . y - num ) ; } case snap _ position _ under _ right _ field : case snap _ position _ over _ right _ field : { linked position position = f rename linked mode . get current linked position ( ) ; if ( position = = null ) return null ; isource viewer viewer = f editor . get viewer ( ) ; itext viewer extension5 viewer5 = ( itext viewer extension5 ) viewer ; int widget offset = viewer5 . model offset2 widget offset ( position . offset + position . length ) ; styled text text widget = viewer . get text widget ( ) ; point pos = text widget . get location at offset ( widget offset ) ; point p size = <KEEP_END> <REPLACE_OLD> f popup . get size <REPLACE_NEW> get extent <REPLACE_END> <KEEP> ( ) ; if ( snap position = = snap _ position _ over _ right _ field ) { pos . y - = p size . y <KEEP_END> <INSERT> + gap <INSERT_END> <KEEP> ; } else { pos . y + = text widget . get line height ( widget offset ) <KEEP_END> <INSERT> + gap <INSERT_END> <KEEP> ; } pos . x + = <KEEP_END> <REPLACE_OLD> num <REPLACE_NEW> gap <REPLACE_END> <KEEP> ; point d pos = text widget . to display ( pos ) ; rectangle display bounds = text widget . get display ( ) . get client area ( ) ; rectangle d popup rect = geometry . create rectangle ( d pos , p size ) ; geometry . move inside ( d popup rect , display bounds ) ; return new point ( d popup rect . x , d popup rect . y ) ; } case snap _ position _ under _ left _ field : case snap _ position _ over _ left _ field : default : { linked position position = f rename linked mode . get current linked position ( ) ; if ( position = = null ) return null ; isource viewer viewer = f editor . get viewer ( ) ; itext viewer extension5 viewer5 = ( itext viewer extension5 ) viewer ; int widget offset = viewer5 . model offset2 widget offset ( position . offset ) ; styled text text widget = viewer . get text widget ( ) ; point pos = text widget . get location at offset ( widget offset ) ; point p size = <KEEP_END> <REPLACE_OLD> f popup . get size ( ) <REPLACE_NEW> get extent ( ) ; p size . y + = hah + num ; pos . x - = hao <REPLACE_END> <KEEP> ; if ( snap position = = snap _ position _ over _ left _ field ) { pos . y - = p size . y ; } else { pos . y + = text widget . get line height ( widget offset ) ; } point d pos = text widget . to display ( pos ) ; rectangle display bounds = text widget . get display ( ) . get client area ( ) ; rectangle d popup rect = geometry . create rectangle ( d pos , p size ) ; geometry . move inside ( d popup rect , display bounds ) ; return new point ( d popup rect . x , d popup rect . y ) ; } } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "point", "compute", "popup", "location", "(", "int", "snap", "position", "<KEEP_END>", "<DELETE>", ",", "boolean", "editor", "bounds", "changed", "<DELETE_END>", "<KEEP>", ")", "{", "if", "(", "f", "popup", "=", "=", "null", "|", "|", "f", "popup", ".", "is", "disposed", "(", ")", ")", "return", "null", ";", "switch", "(", "snap", "position", ")", "{", "case", "snap", "_", "position", "_", "lower", "_", "right", ":", "<KEEP_END>", "<DELETE>", "if", "(", "!", "editor", "bounds", "changed", ")", "{", "return", "null", ";", "}", "else", "<DELETE_END>", "<KEEP>", "{", "styled", "text", "e", "widget", "=", "f", "editor", ".", "get", "viewer", "(", ")", ".", "get", "text", "widget", "(", ")", ";", "rectangle", "e", "bounds", "=", "e", "widget", ".", "get", "client", "area", "(", ")", ";", "point", "e", "lower", "right", "=", "e", "widget", ".", "to", "display", "(", "e", "bounds", ".", "x", "+", "e", "bounds", ".", "width", ",", "e", "bounds", ".", "y", "+", "e", "bounds", ".", "height", ")", ";", "point", "p", "size", "=", "<KEEP_END>", "<REPLACE_OLD>", "f", "popup", ".", "get", "size", "<REPLACE_NEW>", "get", "extent", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "return", "new", "point", "(", "e", "lower", "right", ".", "x", "-", "p", "size", ".", "x", "-", "num", ",", "e", "lower", "right", ".", "y", "-", "p", "size", ".", "y", "-", "num", ")", ";", "}", "case", "snap", "_", "position", "_", "under", "_", "right", "_", "field", ":", "case", "snap", "_", "position", "_", "over", "_", "right", "_", "field", ":", "{", "linked", "position", "position", "=", "f", "rename", "linked", "mode", ".", "get", "current", "linked", "position", "(", ")", ";", "if", "(", "position", "=", "=", "null", ")", "return", "null", ";", "isource", "viewer", "viewer", "=", "f", "editor", ".", "get", "viewer", "(", ")", ";", "itext", "viewer", "extension5", "viewer5", "=", "(", "itext", "viewer", "extension5", ")", "viewer", ";", "int", "widget", "offset", "=", "viewer5", ".", "model", "offset2", "widget", "offset", "(", "position", ".", "offset", "+", "position", ".", "length", ")", ";", "styled", "text", "text", "widget", "=", "viewer", ".", "get", "text", "widget", "(", ")", ";", "point", "pos", "=", "text", "widget", ".", "get", "location", "at", "offset", "(", "widget", "offset", ")", ";", "point", "p", "size", "=", "<KEEP_END>", "<REPLACE_OLD>", "f", "popup", ".", "get", "size", "<REPLACE_NEW>", "get", "extent", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "if", "(", "snap", "position", "=", "=", "snap", "_", "position", "_", "over", "_", "right", "_", "field", ")", "{", "pos", ".", "y", "-", "=", "p", "size", ".", "y", "<KEEP_END>", "<INSERT>", "+", "gap", "<INSERT_END>", "<KEEP>", ";", "}", "else", "{", "pos", ".", "y", "+", "=", "text", "widget", ".", "get", "line", "height", "(", "widget", "offset", ")", "<KEEP_END>", "<INSERT>", "+", "gap", "<INSERT_END>", "<KEEP>", ";", "}", "pos", ".", "x", "+", "=", "<KEEP_END>", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "gap", "<REPLACE_END>", "<KEEP>", ";", "point", "d", "pos", "=", "text", "widget", ".", "to", "display", "(", "pos", ")", ";", "rectangle", "display", "bounds", "=", "text", "widget", ".", "get", "display", "(", ")", ".", "get", "client", "area", "(", ")", ";", "rectangle", "d", "popup", "rect", "=", "geometry", ".", "create", "rectangle", "(", "d", "pos", ",", "p", "size", ")", ";", "geometry", ".", "move", "inside", "(", "d", "popup", "rect", ",", "display", "bounds", ")", ";", "return", "new", "point", "(", "d", "popup", "rect", ".", "x", ",", "d", "popup", "rect", ".", "y", ")", ";", "}", "case", "snap", "_", "position", "_", "under", "_", "left", "_", "field", ":", "case", "snap", "_", "position", "_", "over", "_", "left", "_", "field", ":", "default", ":", "{", "linked", "position", "position", "=", "f", "rename", "linked", "mode", ".", "get", "current", "linked", "position", "(", ")", ";", "if", "(", "position", "=", "=", "null", ")", "return", "null", ";", "isource", "viewer", "viewer", "=", "f", "editor", ".", "get", "viewer", "(", ")", ";", "itext", "viewer", "extension5", "viewer5", "=", "(", "itext", "viewer", "extension5", ")", "viewer", ";", "int", "widget", "offset", "=", "viewer5", ".", "model", "offset2", "widget", "offset", "(", "position", ".", "offset", ")", ";", "styled", "text", "text", "widget", "=", "viewer", ".", "get", "text", "widget", "(", ")", ";", "point", "pos", "=", "text", "widget", ".", "get", "location", "at", "offset", "(", "widget", "offset", ")", ";", "point", "p", "size", "=", "<KEEP_END>", "<REPLACE_OLD>", "f", "popup", ".", "get", "size", "(", ")", "<REPLACE_NEW>", "get", "extent", "(", ")", ";", "p", "size", ".", "y", "+", "=", "hah", "+", "num", ";", "pos", ".", "x", "-", "=", "hao", "<REPLACE_END>", "<KEEP>", ";", "if", "(", "snap", "position", "=", "=", "snap", "_", "position", "_", "over", "_", "left", "_", "field", ")", "{", "pos", ".", "y", "-", "=", "p", "size", ".", "y", ";", "}", "else", "{", "pos", ".", "y", "+", "=", "text", "widget", ".", "get", "line", "height", "(", "widget", "offset", ")", ";", "}", "point", "d", "pos", "=", "text", "widget", ".", "to", "display", "(", "pos", ")", ";", "rectangle", "display", "bounds", "=", "text", "widget", ".", "get", "display", "(", ")", ".", "get", "client", "area", "(", ")", ";", "rectangle", "d", "popup", "rect", "=", "geometry", ".", "create", "rectangle", "(", "d", "pos", ",", "p", "size", ")", ";", "geometry", ".", "move", "inside", "(", "d", "popup", "rect", ",", "display", "bounds", ")", ";", "return", "new", "point", "(", "d", "popup", "rect", ".", "x", ",", "d", "popup", "rect", ".", "y", ")", ";", "}", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> s <DELETE_END> <REPLACE_OLD> unchanged <REPLACE_NEW> not visible <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "s", "<DELETE_END>", "<REPLACE_OLD>", "unchanged", "<REPLACE_NEW>", "not", "visible", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "point", "<KEEP>", "compute", "<KEEP>", "popup", "<KEEP>", "location", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "snap", "<KEEP>", "position", "<DELETE>", ",", "<DELETE>", "boolean", "<DELETE>", "editor", "<DELETE>", "bounds", "<DELETE>", "changed", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "f", "<KEEP>", "popup", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "f", "<KEEP>", "popup", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "disposed", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "switch", "<KEEP>", "(", "<KEEP>", "snap", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "case", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "lower", "<KEEP>", "_", "<KEEP>", "right", "<KEEP>", ":", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "!", "<DELETE>", "editor", "<DELETE>", "bounds", "<DELETE>", "changed", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<KEEP>", "{", "<KEEP>", "styled", "<KEEP>", "text", "<KEEP>", "e", "<KEEP>", "widget", "<KEEP>", "=", "<KEEP>", "f", "<KEEP>", "editor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "viewer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rectangle", "<KEEP>", "e", "<KEEP>", "bounds", "<KEEP>", "=", "<KEEP>", "e", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "client", "<KEEP>", "area", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "e", "<KEEP>", "lower", "<KEEP>", "right", "<KEEP>", "=", "<KEEP>", "e", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "display", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "bounds", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", "bounds", "<KEEP>", ".", "<KEEP>", "width", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", "bounds", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "+", "<KEEP>", "e", "<KEEP>", "bounds", "<KEEP>", ".", "<KEEP>", "height", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", "=", "<REPLACE_OLD>", "f", "<REPLACE_OLD>", "popup", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "extent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "point", "<KEEP>", "(", "<KEEP>", "e", "<KEEP>", "lower", "<KEEP>", "right", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", "-", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", "lower", "<KEEP>", "right", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "-", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "case", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "under", "<KEEP>", "_", "<KEEP>", "right", "<KEEP>", "_", "<KEEP>", "field", "<KEEP>", ":", "<KEEP>", "case", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "over", "<KEEP>", "_", "<KEEP>", "right", "<KEEP>", "_", "<KEEP>", "field", "<KEEP>", ":", "<KEEP>", "{", "<KEEP>", "linked", "<KEEP>", "position", "<KEEP>", "position", "<KEEP>", "=", "<KEEP>", "f", "<KEEP>", "rename", "<KEEP>", "linked", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "linked", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "isource", "<KEEP>", "viewer", "<KEEP>", "viewer", "<KEEP>", "=", "<KEEP>", "f", "<KEEP>", "editor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "viewer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "itext", "<KEEP>", "viewer", "<KEEP>", "extension5", "<KEEP>", "viewer5", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "itext", "<KEEP>", "viewer", "<KEEP>", "extension5", "<KEEP>", ")", "<KEEP>", "viewer", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", "=", "<KEEP>", "viewer5", "<KEEP>", ".", "<KEEP>", "model", "<KEEP>", "offset2", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", ".", "<KEEP>", "offset", "<KEEP>", "+", "<KEEP>", "position", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "styled", "<KEEP>", "text", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", "=", "<KEEP>", "viewer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "pos", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "location", "<KEEP>", "at", "<KEEP>", "offset", "<KEEP>", "(", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", "=", "<REPLACE_OLD>", "f", "<REPLACE_OLD>", "popup", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "extent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "snap", "<KEEP>", "position", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "over", "<KEEP>", "_", "<KEEP>", "right", "<KEEP>", "_", "<KEEP>", "field", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pos", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "-", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", ".", "<KEEP>", "y", "<INSERT>", "+", "<INSERT>", "gap", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "pos", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "line", "<KEEP>", "height", "<KEEP>", "(", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", ")", "<INSERT>", "+", "<INSERT>", "gap", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "pos", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", "+", "<KEEP>", "=", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "gap", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "d", "<KEEP>", "pos", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "display", "<KEEP>", "(", "<KEEP>", "pos", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rectangle", "<KEEP>", "display", "<KEEP>", "bounds", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "display", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "client", "<KEEP>", "area", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rectangle", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", "=", "<KEEP>", "geometry", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "rectangle", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "pos", "<KEEP>", ",", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "geometry", "<KEEP>", ".", "<KEEP>", "move", "<KEEP>", "inside", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", ",", "<KEEP>", "display", "<KEEP>", "bounds", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "point", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", ",", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "case", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "under", "<KEEP>", "_", "<KEEP>", "left", "<KEEP>", "_", "<KEEP>", "field", "<KEEP>", ":", "<KEEP>", "case", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "over", "<KEEP>", "_", "<KEEP>", "left", "<KEEP>", "_", "<KEEP>", "field", "<KEEP>", ":", "<KEEP>", "default", "<KEEP>", ":", "<KEEP>", "{", "<KEEP>", "linked", "<KEEP>", "position", "<KEEP>", "position", "<KEEP>", "=", "<KEEP>", "f", "<KEEP>", "rename", "<KEEP>", "linked", "<KEEP>", "mode", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "current", "<KEEP>", "linked", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "isource", "<KEEP>", "viewer", "<KEEP>", "viewer", "<KEEP>", "=", "<KEEP>", "f", "<KEEP>", "editor", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "viewer", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "itext", "<KEEP>", "viewer", "<KEEP>", "extension5", "<KEEP>", "viewer5", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "itext", "<KEEP>", "viewer", "<KEEP>", "extension5", "<KEEP>", ")", "<KEEP>", "viewer", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", "=", "<KEEP>", "viewer5", "<KEEP>", ".", "<KEEP>", "model", "<KEEP>", "offset2", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", ".", "<KEEP>", "offset", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "styled", "<KEEP>", "text", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", "=", "<KEEP>", "viewer", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "pos", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "location", "<KEEP>", "at", "<KEEP>", "offset", "<KEEP>", "(", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "point", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", "=", "<REPLACE_OLD>", "f", "<REPLACE_OLD>", "popup", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "size", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "extent", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "p", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "y", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hah", "<REPLACE_NEW>", "+", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "pos", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "x", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "hao", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "snap", "<KEEP>", "position", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "snap", "<KEEP>", "_", "<KEEP>", "position", "<KEEP>", "_", "<KEEP>", "over", "<KEEP>", "_", "<KEEP>", "left", "<KEEP>", "_", "<KEEP>", "field", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "pos", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "-", "<KEEP>", "=", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "pos", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", "+", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "line", "<KEEP>", "height", "<KEEP>", "(", "<KEEP>", "widget", "<KEEP>", "offset", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "point", "<KEEP>", "d", "<KEEP>", "pos", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "display", "<KEEP>", "(", "<KEEP>", "pos", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rectangle", "<KEEP>", "display", "<KEEP>", "bounds", "<KEEP>", "=", "<KEEP>", "text", "<KEEP>", "widget", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "display", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "client", "<KEEP>", "area", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "rectangle", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", "=", "<KEEP>", "geometry", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "rectangle", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "pos", "<KEEP>", ",", "<KEEP>", "p", "<KEEP>", "size", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "geometry", "<KEEP>", ".", "<KEEP>", "move", "<KEEP>", "inside", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", ",", "<KEEP>", "display", "<KEEP>", "bounds", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "point", "<KEEP>", "(", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", ".", "<KEEP>", "x", "<KEEP>", ",", "<KEEP>", "d", "<KEEP>", "popup", "<KEEP>", "rect", "<KEEP>", ".", "<KEEP>", "y", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "runelite_runelite-1-2831", "old_comment": "returns true if it is in melee distance", "old_comment_tokens": ["returns", "true", "if", "it", "is", "in", "melee", "distance"], "new_comment": "true if in melee distance , false otherwise", "new_comment_tokens": ["true", "if", "in", "melee", "distance", ",", "false", "otherwise"], "old_code": "public boolean is in melee distance ( world area other ) { if ( other = = null | | this . get plane ( ) ! = other . get plane ( ) ) { return false ; } point distances = get axis distances ( other ) ; return distances . get x ( ) + distances . get y ( ) = = num ; }", "old_code_tokens": ["public", "boolean", "is", "in", "melee", "distance", "(", "world", "area", "other", ")", "{", "if", "(", "other", "=", "=", "null", "|", "|", "this", ".", "get", "plane", "(", ")", "!", "=", "other", ".", "get", "plane", "(", ")", ")", "{", "return", "false", ";", "}", "point", "distances", "=", "get", "axis", "distances", "(", "other", ")", ";", "return", "distances", ".", "get", "x", "(", ")", "+", "distances", ".", "get", "y", "(", ")", "=", "=", "num", ";", "}"], "new_code": "public boolean is in melee distance ( world point other ) { return is in melee distance ( new world area ( other , num , num ) ) ; }", "new_code_tokens": ["public", "boolean", "is", "in", "melee", "distance", "(", "world", "point", "other", ")", "{", "return", "is", "in", "melee", "distance", "(", "new", "world", "area", "(", "other", ",", "num", ",", "num", ")", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean is in melee distance ( world <KEEP_END> <REPLACE_OLD> area <REPLACE_NEW> point <REPLACE_END> <KEEP> other ) { <KEEP_END> <REPLACE_OLD> if <REPLACE_NEW> return is in melee distance ( new world area <REPLACE_END> <KEEP> ( other <KEEP_END> <REPLACE_OLD> = = null | | this . get plane ( ) ! = other . get plane ( <REPLACE_NEW> , num , num <REPLACE_END> <KEEP> ) ) <KEEP_END> <DELETE> { return false <DELETE_END> <KEEP> ; } <KEEP_END> <DELETE> point distances = get axis distances ( other ) ; return distances . get x ( ) + distances . get y ( ) = = num ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "is", "in", "melee", "distance", "(", "world", "<KEEP_END>", "<REPLACE_OLD>", "area", "<REPLACE_NEW>", "point", "<REPLACE_END>", "<KEEP>", "other", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "is", "in", "melee", "distance", "(", "new", "world", "area", "<REPLACE_END>", "<KEEP>", "(", "other", "<KEEP_END>", "<REPLACE_OLD>", "=", "=", "null", "|", "|", "this", ".", "get", "plane", "(", ")", "!", "=", "other", ".", "get", "plane", "(", "<REPLACE_NEW>", ",", "num", ",", "num", "<REPLACE_END>", "<KEEP>", ")", ")", "<KEEP_END>", "<DELETE>", "{", "return", "false", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>", "<DELETE>", "point", "distances", "=", "get", "axis", "distances", "(", "other", ")", ";", "return", "distances", ".", "get", "x", "(", ")", "+", "distances", ".", "get", "y", "(", ")", "=", "=", "num", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> returns <DELETE_END> <DELETE> it is <DELETE_END> <INSERT_OLD_KEEP_BEFORE> distance <INSERT_NEW_KEEP_BEFORE> distance , false otherwise <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "returns", "<DELETE_END>", "<DELETE>", "it", "is", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "distance", "<INSERT_NEW_KEEP_BEFORE>", "distance", ",", "false", "otherwise", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "in", "<KEEP>", "melee", "<KEEP>", "distance", "<KEEP>", "(", "<KEEP>", "world", "<REPLACE_OLD>", "area", "<REPLACE_NEW>", "point", "<KEEP>", "other", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "if", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "in", "<REPLACE_NEW>", "melee", "<REPLACE_NEW>", "distance", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "world", "<REPLACE_NEW>", "area", "<KEEP>", "(", "<KEEP>", "other", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "|", "<REPLACE_OLD>", "this", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "plane", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "other", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "plane", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "num", "<KEEP>", ")", "<KEEP>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "false", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "point", "<DELETE>", "distances", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "axis", "<DELETE>", "distances", "<DELETE>", "(", "<DELETE>", "other", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "distances", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "x", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "distances", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "y", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "apache_clerezza-39-6394", "old_comment": "bnode if it is a blank node , uri ref if it is a uri and literal if it is a literal .", "old_comment_tokens": ["bnode", "if", "it", "is", "a", "blank", "node", ",", "uri", "ref", "if", "it", "is", "a", "uri", "and", "literal", "if", "it", "is", "a", "literal", "."], "new_comment": "blank node if it is a blank node , iri if it is a uri and literal if it is a literal .", "new_comment_tokens": ["blank", "node", "if", "it", "is", "a", "blank", "node", ",", "iri", "if", "it", "is", "a", "uri", "and", "literal", "if", "it", "is", "a", "literal", "."], "old_code": "public resource convert jena node2 resource ( node node ) { if ( node = = null ) { throw new illegal argument exception ( str ) ; } if ( node . is blank ( ) ) { return convert jena node2 tria blank node ( node ) ; } if ( node . is uri ( ) ) { return convert jena uri2 uri ref ( node ) ; } if ( node . is literal ( ) ) { return convert jena literal2 literal ( node ) ; } throw new runtime exception ( str + node + str ) ; }", "old_code_tokens": ["public", "resource", "convert", "jena", "node2", "resource", "(", "node", "node", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "node", ".", "is", "blank", "(", ")", ")", "{", "return", "convert", "jena", "node2", "tria", "blank", "node", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "uri", "(", ")", ")", "{", "return", "convert", "jena", "uri2", "uri", "ref", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "literal", "(", ")", ")", "{", "return", "convert", "jena", "literal2", "literal", "(", "node", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "node", "+", "str", ")", ";", "}"], "new_code": "public rdf term convert jena node2 resource ( node node ) { if ( node = = null ) { throw new illegal argument exception ( str ) ; } if ( node . is blank ( ) ) { return convert jena node2 tria blank node ( node ) ; } if ( node . is uri ( ) ) { return convert jena uri2 uri ref ( node ) ; } if ( node . is literal ( ) ) { return convert jena literal2 literal ( node ) ; } throw new runtime exception ( str + node + str ) ; }", "new_code_tokens": ["public", "rdf", "term", "convert", "jena", "node2", "resource", "(", "node", "node", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "node", ".", "is", "blank", "(", ")", ")", "{", "return", "convert", "jena", "node2", "tria", "blank", "node", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "uri", "(", ")", ")", "{", "return", "convert", "jena", "uri2", "uri", "ref", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "literal", "(", ")", ")", "{", "return", "convert", "jena", "literal2", "literal", "(", "node", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "node", "+", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> resource <REPLACE_NEW> rdf term <REPLACE_END> <KEEP> convert jena node2 resource ( node node ) { if ( node = = null ) { throw new illegal argument exception ( str ) ; } if ( node . is blank ( ) ) { return convert jena node2 tria blank node ( node ) ; } if ( node . is uri ( ) ) { return convert jena uri2 uri ref ( node ) ; } if ( node . is literal ( ) ) { return convert jena literal2 literal ( node ) ; } throw new runtime exception ( str + node + str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "resource", "<REPLACE_NEW>", "rdf", "term", "<REPLACE_END>", "<KEEP>", "convert", "jena", "node2", "resource", "(", "node", "node", ")", "{", "if", "(", "node", "=", "=", "null", ")", "{", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "}", "if", "(", "node", ".", "is", "blank", "(", ")", ")", "{", "return", "convert", "jena", "node2", "tria", "blank", "node", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "uri", "(", ")", ")", "{", "return", "convert", "jena", "uri2", "uri", "ref", "(", "node", ")", ";", "}", "if", "(", "node", ".", "is", "literal", "(", ")", ")", "{", "return", "convert", "jena", "literal2", "literal", "(", "node", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "str", "+", "node", "+", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> bnode <REPLACE_NEW> blank node <REPLACE_END> <REPLACE_OLD> uri ref <REPLACE_NEW> iri <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "bnode", "<REPLACE_NEW>", "blank", "node", "<REPLACE_END>", "<REPLACE_OLD>", "uri", "ref", "<REPLACE_NEW>", "iri", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "resource", "<REPLACE_NEW>", "rdf", "<REPLACE_NEW>", "term", "<KEEP>", "convert", "<KEEP>", "jena", "<KEEP>", "node2", "<KEEP>", "resource", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "blank", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "convert", "<KEEP>", "jena", "<KEEP>", "node2", "<KEEP>", "tria", "<KEEP>", "blank", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "convert", "<KEEP>", "jena", "<KEEP>", "uri2", "<KEEP>", "uri", "<KEEP>", "ref", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "literal", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "convert", "<KEEP>", "jena", "<KEEP>", "literal2", "<KEEP>", "literal", "<KEEP>", "(", "<KEEP>", "node", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "runtime", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "node", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "dropwizard_dropwizard-8-756", "old_comment": "an http client", "old_comment_tokens": ["an", "http", "client"], "new_comment": "an closeable http client", "new_comment_tokens": ["an", "closeable", "http", "client"], "old_code": "public http client build ( string name ) { final basic http params params = create http params ( name ) ; final instrumented client conn manager manager = create connection manager ( registry , name ) ; final instrumented http client client = new instrumented http client ( metric registry , manager , params , name ) ; set strategies for client ( client ) ; return client ; }", "old_code_tokens": ["public", "http", "client", "build", "(", "string", "name", ")", "{", "final", "basic", "http", "params", "params", "=", "create", "http", "params", "(", "name", ")", ";", "final", "instrumented", "client", "conn", "manager", "manager", "=", "create", "connection", "manager", "(", "registry", ",", "name", ")", ";", "final", "instrumented", "http", "client", "client", "=", "new", "instrumented", "http", "client", "(", "metric", "registry", ",", "manager", ",", "params", ",", "name", ")", ";", "set", "strategies", "for", "client", "(", "client", ")", ";", "return", "client", ";", "}"], "new_code": "public closeable http client build ( string name ) { final instrumented http client connection manager manager = create connection manager ( registry , name ) ; return create client ( org . apache . http . impl . client . http client builder . create ( ) , manager , name ) ; }", "new_code_tokens": ["public", "closeable", "http", "client", "build", "(", "string", "name", ")", "{", "final", "instrumented", "http", "client", "connection", "manager", "manager", "=", "create", "connection", "manager", "(", "registry", ",", "name", ")", ";", "return", "create", "client", "(", "org", ".", "apache", ".", "http", ".", "impl", ".", "client", ".", "http", "client", "builder", ".", "create", "(", ")", ",", "manager", ",", "name", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> closeable <INSERT_END> <KEEP> http client build ( string name ) { final <KEEP_END> <REPLACE_OLD> basic <REPLACE_NEW> instrumented <REPLACE_END> <KEEP> http <KEEP_END> <DELETE> params params = create http params ( name ) ; final instrumented <DELETE_END> <KEEP> client <KEEP_END> <REPLACE_OLD> conn <REPLACE_NEW> connection <REPLACE_END> <KEEP> manager manager = create connection manager ( registry , name ) ; <KEEP_END> <REPLACE_OLD> final instrumented <REPLACE_NEW> return create client ( org . apache . http . impl . client . <REPLACE_END> <KEEP> http client <KEEP_END> <REPLACE_OLD> client = new instrumented http client <REPLACE_NEW> builder . create <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> metric registry <REPLACE_NEW> ) <REPLACE_END> <KEEP> , manager <KEEP_END> <DELETE> , params <DELETE_END> <KEEP> , name ) ; <KEEP_END> <DELETE> set strategies for client ( client ) ; return client ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "closeable", "<INSERT_END>", "<KEEP>", "http", "client", "build", "(", "string", "name", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "basic", "<REPLACE_NEW>", "instrumented", "<REPLACE_END>", "<KEEP>", "http", "<KEEP_END>", "<DELETE>", "params", "params", "=", "create", "http", "params", "(", "name", ")", ";", "final", "instrumented", "<DELETE_END>", "<KEEP>", "client", "<KEEP_END>", "<REPLACE_OLD>", "conn", "<REPLACE_NEW>", "connection", "<REPLACE_END>", "<KEEP>", "manager", "manager", "=", "create", "connection", "manager", "(", "registry", ",", "name", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "final", "instrumented", "<REPLACE_NEW>", "return", "create", "client", "(", "org", ".", "apache", ".", "http", ".", "impl", ".", "client", ".", "<REPLACE_END>", "<KEEP>", "http", "client", "<KEEP_END>", "<REPLACE_OLD>", "client", "=", "new", "instrumented", "http", "client", "<REPLACE_NEW>", "builder", ".", "create", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "metric", "registry", "<REPLACE_NEW>", ")", "<REPLACE_END>", "<KEEP>", ",", "manager", "<KEEP_END>", "<DELETE>", ",", "params", "<DELETE_END>", "<KEEP>", ",", "name", ")", ";", "<KEEP_END>", "<DELETE>", "set", "strategies", "for", "client", "(", "client", ")", ";", "return", "client", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> an <INSERT_NEW_KEEP_BEFORE> an closeable <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "an", "<INSERT_NEW_KEEP_BEFORE>", "an", "closeable", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "closeable", "<KEEP>", "http", "<KEEP>", "client", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "basic", "<REPLACE_NEW>", "instrumented", "<KEEP>", "http", "<DELETE>", "params", "<DELETE>", "params", "<DELETE>", "=", "<DELETE>", "create", "<DELETE>", "http", "<DELETE>", "params", "<DELETE>", "(", "<DELETE>", "name", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "final", "<DELETE>", "instrumented", "<KEEP>", "client", "<REPLACE_OLD>", "conn", "<REPLACE_NEW>", "connection", "<KEEP>", "manager", "<KEEP>", "manager", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "connection", "<KEEP>", "manager", "<KEEP>", "(", "<KEEP>", "registry", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "instrumented", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "create", "<REPLACE_NEW>", "client", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "org", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "apache", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "http", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "impl", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "client", "<REPLACE_NEW>", ".", "<KEEP>", "http", "<KEEP>", "client", "<REPLACE_OLD>", "client", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "instrumented", "<REPLACE_OLD>", "http", "<REPLACE_OLD>", "client", "<REPLACE_NEW>", "builder", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "create", "<KEEP>", "(", "<REPLACE_OLD>", "metric", "<REPLACE_OLD>", "registry", "<REPLACE_NEW>", ")", "<KEEP>", ",", "<KEEP>", "manager", "<DELETE>", ",", "<DELETE>", "params", "<KEEP>", ",", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "set", "<DELETE>", "strategies", "<DELETE>", "for", "<DELETE>", "client", "<DELETE>", "(", "<DELETE>", "client", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "client", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_android-rcs-ims-stack-148-4660", "old_comment": "sdp content", "old_comment_tokens": ["sdp", "content"], "new_comment": "sdp content or null in case of error", "new_comment_tokens": ["sdp", "content", "or", "null", "in", "case", "of", "error"], "old_code": "private string build remove video sdp proposal ( ) { if ( logger . is activated ( ) ) { logger . info ( str ) ; } string sdp = str ; string ntp time = sip utils . construct ntptime ( system . current time millis ( ) ) ; string ip address = get dialog path ( ) . get sip stack ( ) . get local ip address ( ) ; try { logger . warn ( str ) ; get audio player ( ) . get local rtp port ( ) ; string audio sdp = audio sdp builder . build sdp ( get audio player ( ) . get supported audio codecs ( ) , get audio player ( ) . get local rtp port ( ) ) ; sdp = str + sip utils . crlf + str + ntp time + str + ntp time + str + sdp utils . format address type ( ip address ) + sip utils . crlf + str + sip utils . crlf + str + sdp utils . format address type ( ip address ) + sip utils . crlf + str + sip utils . crlf + audio sdp + str + sip utils . crlf ; } catch ( remote exception e ) { if ( logger . is activated ( ) ) { logger . error ( str , e ) ; } handle error ( new ipcall error ( ipcall error . unexpected _ exception , e . get message ( ) ) ) ; } return sdp ; }", "old_code_tokens": ["private", "string", "build", "remove", "video", "sdp", "proposal", "(", ")", "{", "if", "(", "logger", ".", "is", "activated", "(", ")", ")", "{", "logger", ".", "info", "(", "str", ")", ";", "}", "string", "sdp", "=", "str", ";", "string", "ntp", "time", "=", "sip", "utils", ".", "construct", "ntptime", "(", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "string", "ip", "address", "=", "get", "dialog", "path", "(", ")", ".", "get", "sip", "stack", "(", ")", ".", "get", "local", "ip", "address", "(", ")", ";", "try", "{", "logger", ".", "warn", "(", "str", ")", ";", "get", "audio", "player", "(", ")", ".", "get", "local", "rtp", "port", "(", ")", ";", "string", "audio", "sdp", "=", "audio", "sdp", "builder", ".", "build", "sdp", "(", "get", "audio", "player", "(", ")", ".", "get", "supported", "audio", "codecs", "(", ")", ",", "get", "audio", "player", "(", ")", ".", "get", "local", "rtp", "port", "(", ")", ")", ";", "sdp", "=", "str", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "ntp", "time", "+", "str", "+", "ntp", "time", "+", "str", "+", "sdp", "utils", ".", "format", "address", "type", "(", "ip", "address", ")", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sdp", "utils", ".", "format", "address", "type", "(", "ip", "address", ")", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sip", "utils", ".", "crlf", "+", "audio", "sdp", "+", "str", "+", "sip", "utils", ".", "crlf", ";", "}", "catch", "(", "remote", "exception", "e", ")", "{", "if", "(", "logger", ".", "is", "activated", "(", ")", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "}", "handle", "error", "(", "new", "ipcall", "error", "(", "ipcall", "error", ".", "unexpected", "_", "exception", ",", "e", ".", "get", "message", "(", ")", ")", ")", ";", "}", "return", "sdp", ";", "}"], "new_code": "private string build remove video sdp proposal ( ) { if ( logger . is activated ( ) ) { logger . debug ( str ) ; } try { string ntp time = sip utils . construct ntptime ( system . current time millis ( ) ) ; string ip address = get dialog path ( ) . get sip stack ( ) . get local ip address ( ) ; get audio player ( ) . get local rtp port ( ) ; string audio sdp = audio sdp builder . build sdp offer ( get audio player ( ) . get supported audio codecs ( ) , get audio player ( ) . get local rtp port ( ) ) ; return str + sip utils . crlf + str + ntp time + str + ntp time + str + sdp utils . format address type ( ip address ) + sip utils . crlf + str + sip utils . crlf + str + sdp utils . format address type ( ip address ) + sip utils . crlf + str + sip utils . crlf + audio sdp + str + sip utils . crlf ; } catch ( remote exception e ) { if ( logger . is activated ( ) ) { logger . error ( str , e ) ; } handle error ( new ipcall error ( ipcall error . unexpected _ exception , e . get message ( ) ) ) ; return null ; } }", "new_code_tokens": ["private", "string", "build", "remove", "video", "sdp", "proposal", "(", ")", "{", "if", "(", "logger", ".", "is", "activated", "(", ")", ")", "{", "logger", ".", "debug", "(", "str", ")", ";", "}", "try", "{", "string", "ntp", "time", "=", "sip", "utils", ".", "construct", "ntptime", "(", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "string", "ip", "address", "=", "get", "dialog", "path", "(", ")", ".", "get", "sip", "stack", "(", ")", ".", "get", "local", "ip", "address", "(", ")", ";", "get", "audio", "player", "(", ")", ".", "get", "local", "rtp", "port", "(", ")", ";", "string", "audio", "sdp", "=", "audio", "sdp", "builder", ".", "build", "sdp", "offer", "(", "get", "audio", "player", "(", ")", ".", "get", "supported", "audio", "codecs", "(", ")", ",", "get", "audio", "player", "(", ")", ".", "get", "local", "rtp", "port", "(", ")", ")", ";", "return", "str", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "ntp", "time", "+", "str", "+", "ntp", "time", "+", "str", "+", "sdp", "utils", ".", "format", "address", "type", "(", "ip", "address", ")", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sdp", "utils", ".", "format", "address", "type", "(", "ip", "address", ")", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sip", "utils", ".", "crlf", "+", "audio", "sdp", "+", "str", "+", "sip", "utils", ".", "crlf", ";", "}", "catch", "(", "remote", "exception", "e", ")", "{", "if", "(", "logger", ".", "is", "activated", "(", ")", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "}", "handle", "error", "(", "new", "ipcall", "error", "(", "ipcall", "error", ".", "unexpected", "_", "exception", ",", "e", ".", "get", "message", "(", ")", ")", ")", ";", "return", "null", ";", "}", "}"], "span_diff_code": "<KEEP> private string build remove video sdp proposal ( ) { if ( logger . is activated ( ) ) { logger . <KEEP_END> <REPLACE_OLD> info ( str ) ; } string sdp = str ; <REPLACE_NEW> debug ( str ) ; } try { <REPLACE_END> <KEEP> string ntp time = sip utils . construct ntptime ( system . current time millis ( ) ) ; string ip address = get dialog path ( ) . get sip stack ( ) . get local ip address ( <KEEP_END> <DELETE> ) ; try { logger . warn ( str <DELETE_END> <KEEP> ) ; get audio player ( ) . get local rtp port ( ) ; string audio sdp = audio sdp builder . build sdp <KEEP_END> <INSERT> offer <INSERT_END> <KEEP> ( get audio player ( ) . get supported audio codecs ( ) , get audio player ( ) . get local rtp port ( ) ) ; <KEEP_END> <REPLACE_OLD> sdp = <REPLACE_NEW> return <REPLACE_END> <KEEP> str + sip utils . crlf + str + ntp time + str + ntp time + str + sdp utils . format address type ( ip address ) + sip utils . crlf + str + sip utils . crlf + str + sdp utils . format address type ( ip address ) + sip utils . crlf + str + sip utils . crlf + audio sdp + str + sip utils . crlf ; } catch ( remote exception e ) { if ( logger . is activated ( ) ) { logger . error ( str , e ) ; } handle error ( new ipcall error ( ipcall error . unexpected _ exception , e . get message ( ) ) ) ; <KEEP_END> <DELETE> } <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> sdp ; } <REPLACE_NEW> null ; } } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "string", "build", "remove", "video", "sdp", "proposal", "(", ")", "{", "if", "(", "logger", ".", "is", "activated", "(", ")", ")", "{", "logger", ".", "<KEEP_END>", "<REPLACE_OLD>", "info", "(", "str", ")", ";", "}", "string", "sdp", "=", "str", ";", "<REPLACE_NEW>", "debug", "(", "str", ")", ";", "}", "try", "{", "<REPLACE_END>", "<KEEP>", "string", "ntp", "time", "=", "sip", "utils", ".", "construct", "ntptime", "(", "system", ".", "current", "time", "millis", "(", ")", ")", ";", "string", "ip", "address", "=", "get", "dialog", "path", "(", ")", ".", "get", "sip", "stack", "(", ")", ".", "get", "local", "ip", "address", "(", "<KEEP_END>", "<DELETE>", ")", ";", "try", "{", "logger", ".", "warn", "(", "str", "<DELETE_END>", "<KEEP>", ")", ";", "get", "audio", "player", "(", ")", ".", "get", "local", "rtp", "port", "(", ")", ";", "string", "audio", "sdp", "=", "audio", "sdp", "builder", ".", "build", "sdp", "<KEEP_END>", "<INSERT>", "offer", "<INSERT_END>", "<KEEP>", "(", "get", "audio", "player", "(", ")", ".", "get", "supported", "audio", "codecs", "(", ")", ",", "get", "audio", "player", "(", ")", ".", "get", "local", "rtp", "port", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "sdp", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "str", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "ntp", "time", "+", "str", "+", "ntp", "time", "+", "str", "+", "sdp", "utils", ".", "format", "address", "type", "(", "ip", "address", ")", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sdp", "utils", ".", "format", "address", "type", "(", "ip", "address", ")", "+", "sip", "utils", ".", "crlf", "+", "str", "+", "sip", "utils", ".", "crlf", "+", "audio", "sdp", "+", "str", "+", "sip", "utils", ".", "crlf", ";", "}", "catch", "(", "remote", "exception", "e", ")", "{", "if", "(", "logger", ".", "is", "activated", "(", ")", ")", "{", "logger", ".", "error", "(", "str", ",", "e", ")", ";", "}", "handle", "error", "(", "new", "ipcall", "error", "(", "ipcall", "error", ".", "unexpected", "_", "exception", ",", "e", ".", "get", "message", "(", ")", ")", ")", ";", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "sdp", ";", "}", "<REPLACE_NEW>", "null", ";", "}", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> content <INSERT_NEW_KEEP_BEFORE> content or null in case of error <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "content", "<INSERT_NEW_KEEP_BEFORE>", "content", "or", "null", "in", "case", "of", "error", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "string", "<KEEP>", "build", "<KEEP>", "remove", "<KEEP>", "video", "<KEEP>", "sdp", "<KEEP>", "proposal", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "activated", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<REPLACE_OLD>", "info", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", "sdp", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "debug", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "try", "<REPLACE_NEW>", "{", "<KEEP>", "string", "<KEEP>", "ntp", "<KEEP>", "time", "<KEEP>", "=", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "construct", "<KEEP>", "ntptime", "<KEEP>", "(", "<KEEP>", "system", "<KEEP>", ".", "<KEEP>", "current", "<KEEP>", "time", "<KEEP>", "millis", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "ip", "<KEEP>", "address", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "dialog", "<KEEP>", "path", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "sip", "<KEEP>", "stack", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "ip", "<KEEP>", "address", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "logger", "<DELETE>", ".", "<DELETE>", "warn", "<DELETE>", "(", "<DELETE>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "get", "<KEEP>", "audio", "<KEEP>", "player", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "rtp", "<KEEP>", "port", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "audio", "<KEEP>", "sdp", "<KEEP>", "=", "<KEEP>", "audio", "<KEEP>", "sdp", "<KEEP>", "builder", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "sdp", "<INSERT>", "offer", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "audio", "<KEEP>", "player", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "supported", "<KEEP>", "audio", "<KEEP>", "codecs", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "audio", "<KEEP>", "player", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "local", "<KEEP>", "rtp", "<KEEP>", "port", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "sdp", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "crlf", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "ntp", "<KEEP>", "time", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "ntp", "<KEEP>", "time", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sdp", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "address", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "ip", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "crlf", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "crlf", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sdp", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "format", "<KEEP>", "address", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "ip", "<KEEP>", "address", "<KEEP>", ")", "<KEEP>", "+", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "crlf", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "crlf", "<KEEP>", "+", "<KEEP>", "audio", "<KEEP>", "sdp", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "sip", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "crlf", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "remote", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "activated", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "handle", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "ipcall", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "ipcall", "<KEEP>", "error", "<KEEP>", ".", "<KEEP>", "unexpected", "<KEEP>", "_", "<KEEP>", "exception", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "message", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "sdp", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "apache_roller-156-5903", "old_comment": "roller an instance of roller .", "old_comment_tokens": ["roller", "an", "instance", "of", "roller", "."], "new_comment": "weblogger an instance of weblogger .", "new_comment_tokens": ["weblogger", "an", "instance", "of", "weblogger", "."], "old_code": "public static final roller get roller ( ) { if ( roller instance = = null ) { throw new illegal state exception ( str ) ; } return roller instance ; }", "old_code_tokens": ["public", "static", "final", "roller", "get", "roller", "(", ")", "{", "if", "(", "roller", "instance", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "return", "roller", "instance", ";", "}"], "new_code": "public static final weblogger get roller ( ) { if ( roller instance = = null ) { throw new illegal state exception ( str ) ; } return roller instance ; }", "new_code_tokens": ["public", "static", "final", "weblogger", "get", "roller", "(", ")", "{", "if", "(", "roller", "instance", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "return", "roller", "instance", ";", "}"], "span_diff_code": "<KEEP> public static final <KEEP_END> <REPLACE_OLD> roller <REPLACE_NEW> weblogger <REPLACE_END> <KEEP> get roller ( ) { if ( roller instance = = null ) { throw new illegal state exception ( str ) ; } return roller instance ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "final", "<KEEP_END>", "<REPLACE_OLD>", "roller", "<REPLACE_NEW>", "weblogger", "<REPLACE_END>", "<KEEP>", "get", "roller", "(", ")", "{", "if", "(", "roller", "instance", "=", "=", "null", ")", "{", "throw", "new", "illegal", "state", "exception", "(", "str", ")", ";", "}", "return", "roller", "instance", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_AFTER> roller an <REPLACE_NEW_KEEP_AFTER> weblogger an <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> of roller <REPLACE_NEW_KEEP_BEFORE> of weblogger <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_AFTER>", "roller", "an", "<REPLACE_NEW_KEEP_AFTER>", "weblogger", "an", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "of", "roller", "<REPLACE_NEW_KEEP_BEFORE>", "of", "weblogger", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "final", "<REPLACE_OLD>", "roller", "<REPLACE_NEW>", "weblogger", "<KEEP>", "get", "<KEEP>", "roller", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "roller", "<KEEP>", "instance", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "state", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "roller", "<KEEP>", "instance", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_tuscany-sca-1.x-34-3795", "old_comment": "component info representing the implementation type metadata", "old_comment_tokens": ["component", "info", "representing", "the", "implementation", "type", "metadata"], "new_comment": "component type representing the implementation type metadata", "new_comment_tokens": ["component", "type", "representing", "the", "implementation", "type", "metadata"], "old_code": "public component info introspect ( class < ? > impl class ) throws configuration load exception { component info comp type = factory . create component info ( ) ; return introspect ( impl class , comp type ) ; }", "old_code_tokens": ["public", "component", "info", "introspect", "(", "class", "<", "?", ">", "impl", "class", ")", "throws", "configuration", "load", "exception", "{", "component", "info", "comp", "type", "=", "factory", ".", "create", "component", "info", "(", ")", ";", "return", "introspect", "(", "impl", "class", ",", "comp", "type", ")", ";", "}"], "new_code": "public component type introspect ( class < ? > impl class ) throws configuration load exception { component type comp type = factory . create component type ( ) ; return introspect ( impl class , comp type ) ; }", "new_code_tokens": ["public", "component", "type", "introspect", "(", "class", "<", "?", ">", "impl", "class", ")", "throws", "configuration", "load", "exception", "{", "component", "type", "comp", "type", "=", "factory", ".", "create", "component", "type", "(", ")", ";", "return", "introspect", "(", "impl", "class", ",", "comp", "type", ")", ";", "}"], "span_diff_code": "<KEEP> public component <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> type <REPLACE_END> <KEEP> introspect ( class < ? > impl class ) throws configuration load exception { component <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> type <REPLACE_END> <KEEP> comp type = factory . create component <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> type <REPLACE_END> <KEEP> ( ) ; return introspect ( impl class , comp type ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "component", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "introspect", "(", "class", "<", "?", ">", "impl", "class", ")", "throws", "configuration", "load", "exception", "{", "component", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "comp", "type", "=", "factory", ".", "create", "component", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "return", "introspect", "(", "impl", "class", ",", "comp", "type", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> info <REPLACE_NEW> type <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "component", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<KEEP>", "introspect", "<KEEP>", "(", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "?", "<KEEP>", ">", "<KEEP>", "impl", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "configuration", "<KEEP>", "load", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "component", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<KEEP>", "comp", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "component", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "introspect", "<KEEP>", "(", "<KEEP>", "impl", "<KEEP>", "class", "<KEEP>", ",", "<KEEP>", "comp", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ncdc_Qpid-1-81-3933", "old_comment": "the object name for the given exchange on the test virtual host .", "old_comment_tokens": ["the", "object", "name", "for", "the", "given", "exchange", "on", "the", "test", "virtual", "host", "."], "new_comment": "the object name for the given queue on the virtual host", "new_comment_tokens": ["the", "object", "name", "for", "the", "given", "queue", "on", "the", "virtual", "host"], "old_code": "public object name get queue object name ( string virtual host name , string queue ) { all objects all object = new all objects ( _ mbsc ) ; all object . querystring = str + virtual host name + str + queue + str ; set < object name > object names = all object . return objects ( ) ; _ test . assert not null ( str , object names ) ; _ test . assert equals ( str + all object . querystring + str , num , object names . size ( ) ) ; return object names . iterator ( ) . next ( ) ; }", "old_code_tokens": ["public", "object", "name", "get", "queue", "object", "name", "(", "string", "virtual", "host", "name", ",", "string", "queue", ")", "{", "all", "objects", "all", "object", "=", "new", "all", "objects", "(", "_", "mbsc", ")", ";", "all", "object", ".", "querystring", "=", "str", "+", "virtual", "host", "name", "+", "str", "+", "queue", "+", "str", ";", "set", "<", "object", "name", ">", "object", "names", "=", "all", "object", ".", "return", "objects", "(", ")", ";", "_", "test", ".", "assert", "not", "null", "(", "str", ",", "object", "names", ")", ";", "_", "test", ".", "assert", "equals", "(", "str", "+", "all", "object", ".", "querystring", "+", "str", ",", "num", ",", "object", "names", ".", "size", "(", ")", ")", ";", "return", "object", "names", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "}"], "new_code": "@ suppress warnings ( str ) public object name get queue object name ( string virtual host name , string queue ) { all objects all object = new all objects ( _ mbsc ) ; all object . querystring = str + virtual host name + str + queue + str ; set < object name > object names = all object . return objects ( ) ; _ test . assert not null ( str , object names ) ; _ test . assert equals ( str + all object . querystring + str , num , object names . size ( ) ) ; object name object name = object names . iterator ( ) . next ( ) ; _ test . get logger ( ) . info ( str + object name ) ; return object name ; }", "new_code_tokens": ["@", "suppress", "warnings", "(", "str", ")", "public", "object", "name", "get", "queue", "object", "name", "(", "string", "virtual", "host", "name", ",", "string", "queue", ")", "{", "all", "objects", "all", "object", "=", "new", "all", "objects", "(", "_", "mbsc", ")", ";", "all", "object", ".", "querystring", "=", "str", "+", "virtual", "host", "name", "+", "str", "+", "queue", "+", "str", ";", "set", "<", "object", "name", ">", "object", "names", "=", "all", "object", ".", "return", "objects", "(", ")", ";", "_", "test", ".", "assert", "not", "null", "(", "str", ",", "object", "names", ")", ";", "_", "test", ".", "assert", "equals", "(", "str", "+", "all", "object", ".", "querystring", "+", "str", ",", "num", ",", "object", "names", ".", "size", "(", ")", ")", ";", "object", "name", "object", "name", "=", "object", "names", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "_", "test", ".", "get", "logger", "(", ")", ".", "info", "(", "str", "+", "object", "name", ")", ";", "return", "object", "name", ";", "}"], "span_diff_code": "<INSERT> @ suppress warnings ( str ) <INSERT_END> <KEEP> public object name get queue object name ( string virtual host name , string queue ) { all objects all object = new all objects ( _ mbsc ) ; all object . querystring = str + virtual host name + str + queue + str ; set < object name > object names = all object . return objects ( ) ; _ test . assert not null ( str , object names ) ; _ test . assert equals ( str + all object . querystring + str , num , object names . size ( ) ) ; <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> object name object name = <REPLACE_END> <KEEP> object names . iterator ( ) . next ( ) ; <KEEP_END> <INSERT> _ test . get logger ( ) . info ( str + object name ) ; return object name ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "suppress", "warnings", "(", "str", ")", "<INSERT_END>", "<KEEP>", "public", "object", "name", "get", "queue", "object", "name", "(", "string", "virtual", "host", "name", ",", "string", "queue", ")", "{", "all", "objects", "all", "object", "=", "new", "all", "objects", "(", "_", "mbsc", ")", ";", "all", "object", ".", "querystring", "=", "str", "+", "virtual", "host", "name", "+", "str", "+", "queue", "+", "str", ";", "set", "<", "object", "name", ">", "object", "names", "=", "all", "object", ".", "return", "objects", "(", ")", ";", "_", "test", ".", "assert", "not", "null", "(", "str", ",", "object", "names", ")", ";", "_", "test", ".", "assert", "equals", "(", "str", "+", "all", "object", ".", "querystring", "+", "str", ",", "num", ",", "object", "names", ".", "size", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "object", "name", "object", "name", "=", "<REPLACE_END>", "<KEEP>", "object", "names", ".", "iterator", "(", ")", ".", "next", "(", ")", ";", "<KEEP_END>", "<INSERT>", "_", "test", ".", "get", "logger", "(", ")", ".", "info", "(", "str", "+", "object", "name", ")", ";", "return", "object", "name", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> exchange <REPLACE_NEW> queue <REPLACE_END> <DELETE> test <DELETE_END> <DELETE> . <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "exchange", "<REPLACE_NEW>", "queue", "<REPLACE_END>", "<DELETE>", "test", "<DELETE_END>", "<DELETE>", ".", "<DELETE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "suppress", "<INSERT>", "warnings", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ")", "<KEEP>", "public", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "get", "<KEEP>", "queue", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "virtual", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "queue", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "all", "<KEEP>", "objects", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "all", "<KEEP>", "objects", "<KEEP>", "(", "<KEEP>", "_", "<KEEP>", "mbsc", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "querystring", "<KEEP>", "=", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "virtual", "<KEEP>", "host", "<KEEP>", "name", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "queue", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "set", "<KEEP>", "<", "<KEEP>", "object", "<KEEP>", "name", "<KEEP>", ">", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", "=", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "return", "<KEEP>", "objects", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "test", "<KEEP>", ".", "<KEEP>", "assert", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "_", "<KEEP>", "test", "<KEEP>", ".", "<KEEP>", "assert", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "all", "<KEEP>", "object", "<KEEP>", ".", "<KEEP>", "querystring", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "object", "<REPLACE_NEW>", "name", "<REPLACE_NEW>", "=", "<KEEP>", "object", "<KEEP>", "names", "<KEEP>", ".", "<KEEP>", "iterator", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "next", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "_", "<INSERT>", "test", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "logger", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "info", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", "+", "<INSERT>", "object", "<INSERT>", "name", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "object", "<INSERT>", "name", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "codehaus_cake-8-4532", "old_comment": "the value of this attribute if this attribute is present in the map . otherwise # get default value ( )", "old_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "new_comment": "the value of this attribute if this attribute is present in the extracted map . otherwise # get default value ( )", "new_comment_tokens": ["the", "value", "of", "this", "attribute", "if", "this", "attribute", "is", "present", "in", "the", "extracted", "map", ".", "otherwise", "#", "get", "default", "value", "(", ")"], "old_code": "public float get ( with attributes attributes ) { return attributes . get attributes ( ) . get ( this ) ; }", "old_code_tokens": ["public", "float", "get", "(", "with", "attributes", "attributes", ")", "{", "return", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "new_code": "public float get ( with attributes with attributes ) { return with attributes . get attributes ( ) . get ( this ) ; }", "new_code_tokens": ["public", "float", "get", "(", "with", "attributes", "with", "attributes", ")", "{", "return", "with", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}"], "span_diff_code": "<KEEP> public float get ( with attributes <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes ) { return <KEEP_END> <INSERT> with <INSERT_END> <KEEP> attributes . get attributes ( ) . get ( this ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "float", "get", "(", "with", "attributes", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ")", "{", "return", "<KEEP_END>", "<INSERT>", "with", "<INSERT_END>", "<KEEP>", "attributes", ".", "get", "attributes", "(", ")", ".", "get", "(", "this", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> in the <INSERT_NEW_KEEP_BEFORE> in the extracted <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "in", "the", "<INSERT_NEW_KEEP_BEFORE>", "in", "the", "extracted", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "float", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "with", "<KEEP>", "attributes", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "with", "<KEEP>", "attributes", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "attributes", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "this", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "xubinux_xbin-store-0-2947", "old_comment": "status : 200 / / 200 400 token 500 msg : \" ok \" / / token . data : \" username \" : \" xbin \" / /", "old_comment_tokens": ["status", ":", "200", "/", "/", "200", "400", "token", "500", "msg", ":", "\"", "ok", "\"", "/", "/", "token", ".", "data", ":", "\"", "username", "\"", ":", "\"", "xbin", "\"", "/", "/"], "new_comment": "status : 200 / / 200 400 token 500 msg : \" ok \" / / token . data : \" username \" : \" xbin \" , \" id \" : \" id \" / /", "new_comment_tokens": ["status", ":", "200", "/", "/", "200", "400", "token", "500", "msg", ":", "\"", "ok", "\"", "/", "/", "token", ".", "data", ":", "\"", "username", "\"", ":", "\"", "xbin", "\"", ",", "\"", "id", "\"", ":", "\"", "id", "\"", "/", "/"], "old_code": "@ override public xbin result token ( string token , string callback ) { if ( string utils . is not blank ( callback ) ) { return xbin result . ok ( callback ) ; } try { string username = jedis client . get ( user _ session + token ) ; if ( string utils . is not blank ( username ) ) { return xbin result . ok ( username ) ; } } catch ( exception e ) { logger . error ( str ) ; } return xbin result . build ( num , str ) ; }", "old_code_tokens": ["@", "override", "public", "xbin", "result", "token", "(", "string", "token", ",", "string", "callback", ")", "{", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "callback", ")", ")", "{", "return", "xbin", "result", ".", "ok", "(", "callback", ")", ";", "}", "try", "{", "string", "username", "=", "jedis", "client", ".", "get", "(", "user", "_", "session", "+", "token", ")", ";", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "username", ")", ")", "{", "return", "xbin", "result", ".", "ok", "(", "username", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ")", ";", "}", "return", "xbin", "result", ".", "build", "(", "num", ",", "str", ")", ";", "}"], "new_code": "@ override public xbin result token ( string token , string callback ) { if ( string utils . is not blank ( callback ) ) { return xbin result . ok ( callback ) ; } try { string user = jedis client . get ( user _ session + token ) ; if ( string utils . is not blank ( user ) ) { return xbin result . ok ( user ) ; } } catch ( exception e ) { logger . error ( str ) ; } return xbin result . build ( num , str ) ; }", "new_code_tokens": ["@", "override", "public", "xbin", "result", "token", "(", "string", "token", ",", "string", "callback", ")", "{", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "callback", ")", ")", "{", "return", "xbin", "result", ".", "ok", "(", "callback", ")", ";", "}", "try", "{", "string", "user", "=", "jedis", "client", ".", "get", "(", "user", "_", "session", "+", "token", ")", ";", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "user", ")", ")", "{", "return", "xbin", "result", ".", "ok", "(", "user", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ")", ";", "}", "return", "xbin", "result", ".", "build", "(", "num", ",", "str", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public xbin result token ( string token , string callback ) { if ( string utils . is not blank ( callback ) ) { return xbin result . ok ( callback ) ; } try { string <KEEP_END> <REPLACE_OLD> username <REPLACE_NEW> user <REPLACE_END> <KEEP> = jedis client . get ( user _ session + token ) ; if ( string utils . is not blank ( <KEEP_END> <REPLACE_OLD> username <REPLACE_NEW> user <REPLACE_END> <KEEP> ) ) { return xbin result . ok ( <KEEP_END> <REPLACE_OLD> username <REPLACE_NEW> user <REPLACE_END> <KEEP> ) ; } } catch ( exception e ) { logger . error ( str ) ; } return xbin result . build ( num , str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "xbin", "result", "token", "(", "string", "token", ",", "string", "callback", ")", "{", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "callback", ")", ")", "{", "return", "xbin", "result", ".", "ok", "(", "callback", ")", ";", "}", "try", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "user", "<REPLACE_END>", "<KEEP>", "=", "jedis", "client", ".", "get", "(", "user", "_", "session", "+", "token", ")", ";", "if", "(", "string", "utils", ".", "is", "not", "blank", "(", "<KEEP_END>", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "user", "<REPLACE_END>", "<KEEP>", ")", ")", "{", "return", "xbin", "result", ".", "ok", "(", "<KEEP_END>", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "user", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "}", "catch", "(", "exception", "e", ")", "{", "logger", ".", "error", "(", "str", ")", ";", "}", "return", "xbin", "result", ".", "build", "(", "num", ",", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> xbin \" <INSERT_NEW_KEEP_BEFORE> xbin \" , \" id \" : \" id \" <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "xbin", "\"", "<INSERT_NEW_KEEP_BEFORE>", "xbin", "\"", ",", "\"", "id", "\"", ":", "\"", "id", "\"", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "xbin", "<KEEP>", "result", "<KEEP>", "token", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "token", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "callback", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "not", "<KEEP>", "blank", "<KEEP>", "(", "<KEEP>", "callback", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "xbin", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "ok", "<KEEP>", "(", "<KEEP>", "callback", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "user", "<KEEP>", "=", "<KEEP>", "jedis", "<KEEP>", "client", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "_", "<KEEP>", "session", "<KEEP>", "+", "<KEEP>", "token", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "utils", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "not", "<KEEP>", "blank", "<KEEP>", "(", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "user", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "xbin", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "ok", "<KEEP>", "(", "<REPLACE_OLD>", "username", "<REPLACE_NEW>", "user", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "xbin", "<KEEP>", "result", "<KEEP>", ".", "<KEEP>", "build", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "macalinao_albkit-8-5741", "old_comment": "this chat section ' s value parsed as a boolean . if the value of the chat section isn ' t a valid boolean , false is returned", "old_comment_tokens": ["this", "chat", "section", "'", "s", "value", "parsed", "as", "a", "boolean", ".", "if", "the", "value", "of", "the", "chat", "section", "isn", "'", "t", "a", "valid", "boolean", ",", "false", "is", "returned"], "new_comment": "this chat section ' s value parsed as a boolean . note that if the value of the chat section isn ' t a valid boolean , false is returned", "new_comment_tokens": ["this", "chat", "section", "'", "s", "value", "parsed", "as", "a", "boolean", ".", "note", "that", "if", "the", "value", "of", "the", "chat", "section", "isn", "'", "t", "a", "valid", "boolean", ",", "false", "is", "returned"], "old_code": "public boolean as boolean ( ) { return boolean . parse boolean ( arg ) ; }", "old_code_tokens": ["public", "boolean", "as", "boolean", "(", ")", "{", "return", "boolean", ".", "parse", "boolean", "(", "arg", ")", ";", "}"], "new_code": "public boolean as boolean ( ) { return boolean . value of ( arg ) ; }", "new_code_tokens": ["public", "boolean", "as", "boolean", "(", ")", "{", "return", "boolean", ".", "value", "of", "(", "arg", ")", ";", "}"], "span_diff_code": "<KEEP> public boolean as boolean ( ) { return boolean . <KEEP_END> <REPLACE_OLD> parse boolean <REPLACE_NEW> value of <REPLACE_END> <KEEP> ( arg ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "boolean", "as", "boolean", "(", ")", "{", "return", "boolean", ".", "<KEEP_END>", "<REPLACE_OLD>", "parse", "boolean", "<REPLACE_NEW>", "value", "of", "<REPLACE_END>", "<KEEP>", "(", "arg", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> . <INSERT_NEW_KEEP_BEFORE> . note that <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", ".", "<INSERT_NEW_KEEP_BEFORE>", ".", "note", "that", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "as", "<KEEP>", "boolean", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "boolean", "<KEEP>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "boolean", "<REPLACE_NEW>", "value", "<REPLACE_NEW>", "of", "<KEEP>", "(", "<KEEP>", "arg", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "ctripcorp_apollo-2-257", "old_comment": "the http response", "old_comment_tokens": ["the", "http", "response"], "new_comment": "the response", "new_comment_tokens": ["the", "response"], "old_code": "public < t > http response < t > do get ( http request http request , class < t > response type ) { input stream is = null ; try { http urlconnection conn = ( http urlconnection ) new url ( http request . get url ( ) ) . open connection ( ) ; conn . set request method ( str ) ; int connect timeout = http request . get connect timeout ( ) ; if ( connect timeout < num ) { connect timeout = m _ config util . get connect timeout ( ) ; } int read timeout = http request . get read timeout ( ) ; if ( read timeout < num ) { read timeout = m _ config util . get read timeout ( ) ; } conn . set connect timeout ( connect timeout ) ; conn . set read timeout ( read timeout ) ; conn . connect ( ) ; int status code = conn . get response code ( ) ; if ( status code = = num ) { is = conn . get input stream ( ) ; string content = files . io . instance . read from ( is , charsets . utf _ 8 . name ( ) ) ; return new http response < > ( status code , gson . from json ( content , response type ) ) ; } if ( status code = = num ) { return new http response < > ( status code , null ) ; } throw new runtime exception ( string . format ( str , http request . get url ( ) , status code ) ) ; } catch ( throwable ex ) { throw new runtime exception ( str , ex ) ; } finally { if ( is ! = null ) { try { is . close ( ) ; } catch ( ioexception ex ) { } } } }", "old_code_tokens": ["public", "<", "t", ">", "http", "response", "<", "t", ">", "do", "get", "(", "http", "request", "http", "request", ",", "class", "<", "t", ">", "response", "type", ")", "{", "input", "stream", "is", "=", "null", ";", "try", "{", "http", "urlconnection", "conn", "=", "(", "http", "urlconnection", ")", "new", "url", "(", "http", "request", ".", "get", "url", "(", ")", ")", ".", "open", "connection", "(", ")", ";", "conn", ".", "set", "request", "method", "(", "str", ")", ";", "int", "connect", "timeout", "=", "http", "request", ".", "get", "connect", "timeout", "(", ")", ";", "if", "(", "connect", "timeout", "<", "num", ")", "{", "connect", "timeout", "=", "m", "_", "config", "util", ".", "get", "connect", "timeout", "(", ")", ";", "}", "int", "read", "timeout", "=", "http", "request", ".", "get", "read", "timeout", "(", ")", ";", "if", "(", "read", "timeout", "<", "num", ")", "{", "read", "timeout", "=", "m", "_", "config", "util", ".", "get", "read", "timeout", "(", ")", ";", "}", "conn", ".", "set", "connect", "timeout", "(", "connect", "timeout", ")", ";", "conn", ".", "set", "read", "timeout", "(", "read", "timeout", ")", ";", "conn", ".", "connect", "(", ")", ";", "int", "status", "code", "=", "conn", ".", "get", "response", "code", "(", ")", ";", "if", "(", "status", "code", "=", "=", "num", ")", "{", "is", "=", "conn", ".", "get", "input", "stream", "(", ")", ";", "string", "content", "=", "files", ".", "io", ".", "instance", ".", "read", "from", "(", "is", ",", "charsets", ".", "utf", "_", "8", ".", "name", "(", ")", ")", ";", "return", "new", "http", "response", "<", ">", "(", "status", "code", ",", "gson", ".", "from", "json", "(", "content", ",", "response", "type", ")", ")", ";", "}", "if", "(", "status", "code", "=", "=", "num", ")", "{", "return", "new", "http", "response", "<", ">", "(", "status", "code", ",", "null", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "string", ".", "format", "(", "str", ",", "http", "request", ".", "get", "url", "(", ")", ",", "status", "code", ")", ")", ";", "}", "catch", "(", "throwable", "ex", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "ex", ")", ";", "}", "finally", "{", "if", "(", "is", "!", "=", "null", ")", "{", "try", "{", "is", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "ex", ")", "{", "}", "}", "}", "}"], "new_code": "public < t > http response < t > do get ( http request http request , final class < t > response type ) { function < string , t > convert response = new function < string , t > ( ) { @ override public t apply ( string input ) { return gson . from json ( input , response type ) ; } } ; return do get with serialize function ( http request , convert response ) ; }", "new_code_tokens": ["public", "<", "t", ">", "http", "response", "<", "t", ">", "do", "get", "(", "http", "request", "http", "request", ",", "final", "class", "<", "t", ">", "response", "type", ")", "{", "function", "<", "string", ",", "t", ">", "convert", "response", "=", "new", "function", "<", "string", ",", "t", ">", "(", ")", "{", "@", "override", "public", "t", "apply", "(", "string", "input", ")", "{", "return", "gson", ".", "from", "json", "(", "input", ",", "response", "type", ")", ";", "}", "}", ";", "return", "do", "get", "with", "serialize", "function", "(", "http", "request", ",", "convert", "response", ")", ";", "}"], "span_diff_code": "<KEEP> public < t > http response < t > do get ( http request http request , <KEEP_END> <INSERT> final <INSERT_END> <KEEP> class < t > response type ) { <KEEP_END> <REPLACE_OLD> input stream is <REPLACE_NEW> function < string , t > convert response <REPLACE_END> <KEEP> = <KEEP_END> <DELETE> null ; try { http urlconnection conn = ( http urlconnection ) <DELETE_END> <KEEP> new <KEEP_END> <REPLACE_OLD> url ( http request . get url <REPLACE_NEW> function < string , t > <REPLACE_END> <KEEP> ( ) <KEEP_END> <REPLACE_OLD> ) . open connection <REPLACE_NEW> { @ override public t apply <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ) ; conn . set request method ( str ) ; int connect timeout = http request . get connect timeout ( ) ; if ( connect timeout < num <REPLACE_NEW> string input <REPLACE_END> <KEEP> ) { <KEEP_END> <DELETE> connect timeout = m _ config util . get connect timeout ( ) ; } int read timeout = http request . get read timeout ( ) ; if ( read timeout < num ) { read timeout = m _ config util . get read timeout ( ) ; } conn . set connect timeout ( connect timeout ) ; conn . set read timeout ( read timeout ) ; conn . connect ( ) ; int status code = conn . get response code ( ) ; if ( status code = = num ) { is = conn . get input stream ( ) ; string content = files . io . instance . read from ( is , charsets . utf _ 8 . name ( ) ) ; <DELETE_END> <KEEP> return <KEEP_END> <DELETE> new http response < > ( status code , <DELETE_END> <KEEP> gson . from json ( <KEEP_END> <REPLACE_OLD> content <REPLACE_NEW> input <REPLACE_END> <KEEP> , response type ) <KEEP_END> <INSERT> ; } } ; return do get with serialize function ( http request , convert response <INSERT_END> <KEEP> ) ; } <KEEP_END> <DELETE> if ( status code = = num ) { return new http response < > ( status code , null ) ; } throw new runtime exception ( string . format ( str , http request . get url ( ) , status code ) ) ; } catch ( throwable ex ) { throw new runtime exception ( str , ex ) ; } finally { if ( is ! = null ) { try { is . close ( ) ; } catch ( ioexception ex ) { } } } } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<", "t", ">", "http", "response", "<", "t", ">", "do", "get", "(", "http", "request", "http", "request", ",", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "class", "<", "t", ">", "response", "type", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "input", "stream", "is", "<REPLACE_NEW>", "function", "<", "string", ",", "t", ">", "convert", "response", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<DELETE>", "null", ";", "try", "{", "http", "urlconnection", "conn", "=", "(", "http", "urlconnection", ")", "<DELETE_END>", "<KEEP>", "new", "<KEEP_END>", "<REPLACE_OLD>", "url", "(", "http", "request", ".", "get", "url", "<REPLACE_NEW>", "function", "<", "string", ",", "t", ">", "<REPLACE_END>", "<KEEP>", "(", ")", "<KEEP_END>", "<REPLACE_OLD>", ")", ".", "open", "connection", "<REPLACE_NEW>", "{", "@", "override", "public", "t", "apply", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "conn", ".", "set", "request", "method", "(", "str", ")", ";", "int", "connect", "timeout", "=", "http", "request", ".", "get", "connect", "timeout", "(", ")", ";", "if", "(", "connect", "timeout", "<", "num", "<REPLACE_NEW>", "string", "input", "<REPLACE_END>", "<KEEP>", ")", "{", "<KEEP_END>", "<DELETE>", "connect", "timeout", "=", "m", "_", "config", "util", ".", "get", "connect", "timeout", "(", ")", ";", "}", "int", "read", "timeout", "=", "http", "request", ".", "get", "read", "timeout", "(", ")", ";", "if", "(", "read", "timeout", "<", "num", ")", "{", "read", "timeout", "=", "m", "_", "config", "util", ".", "get", "read", "timeout", "(", ")", ";", "}", "conn", ".", "set", "connect", "timeout", "(", "connect", "timeout", ")", ";", "conn", ".", "set", "read", "timeout", "(", "read", "timeout", ")", ";", "conn", ".", "connect", "(", ")", ";", "int", "status", "code", "=", "conn", ".", "get", "response", "code", "(", ")", ";", "if", "(", "status", "code", "=", "=", "num", ")", "{", "is", "=", "conn", ".", "get", "input", "stream", "(", ")", ";", "string", "content", "=", "files", ".", "io", ".", "instance", ".", "read", "from", "(", "is", ",", "charsets", ".", "utf", "_", "8", ".", "name", "(", ")", ")", ";", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<DELETE>", "new", "http", "response", "<", ">", "(", "status", "code", ",", "<DELETE_END>", "<KEEP>", "gson", ".", "from", "json", "(", "<KEEP_END>", "<REPLACE_OLD>", "content", "<REPLACE_NEW>", "input", "<REPLACE_END>", "<KEEP>", ",", "response", "type", ")", "<KEEP_END>", "<INSERT>", ";", "}", "}", ";", "return", "do", "get", "with", "serialize", "function", "(", "http", "request", ",", "convert", "response", "<INSERT_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "if", "(", "status", "code", "=", "=", "num", ")", "{", "return", "new", "http", "response", "<", ">", "(", "status", "code", ",", "null", ")", ";", "}", "throw", "new", "runtime", "exception", "(", "string", ".", "format", "(", "str", ",", "http", "request", ".", "get", "url", "(", ")", ",", "status", "code", ")", ")", ";", "}", "catch", "(", "throwable", "ex", ")", "{", "throw", "new", "runtime", "exception", "(", "str", ",", "ex", ")", ";", "}", "finally", "{", "if", "(", "is", "!", "=", "null", ")", "{", "try", "{", "is", ".", "close", "(", ")", ";", "}", "catch", "(", "ioexception", "ex", ")", "{", "}", "}", "}", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> http <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "http", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "http", "<KEEP>", "response", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "do", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "http", "<KEEP>", "request", "<KEEP>", "http", "<KEEP>", "request", "<KEEP>", ",", "<INSERT>", "final", "<KEEP>", "class", "<KEEP>", "<", "<KEEP>", "t", "<KEEP>", ">", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", "is", "<REPLACE_NEW>", "function", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "t", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "convert", "<REPLACE_NEW>", "response", "<KEEP>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "http", "<DELETE>", "urlconnection", "<DELETE>", "conn", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "http", "<DELETE>", "urlconnection", "<DELETE>", ")", "<KEEP>", "new", "<REPLACE_OLD>", "url", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "http", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "url", "<REPLACE_NEW>", "function", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "t", "<REPLACE_NEW>", ">", "<KEEP>", "(", "<KEEP>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "open", "<REPLACE_OLD>", "connection", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "@", "<REPLACE_NEW>", "override", "<REPLACE_NEW>", "public", "<REPLACE_NEW>", "t", "<REPLACE_NEW>", "apply", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "conn", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", "method", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "connect", "<REPLACE_OLD>", "timeout", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "http", "<REPLACE_OLD>", "request", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "connect", "<REPLACE_OLD>", "timeout", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "connect", "<REPLACE_OLD>", "timeout", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "num", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", "input", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "connect", "<DELETE>", "timeout", "<DELETE>", "=", "<DELETE>", "m", "<DELETE>", "_", "<DELETE>", "config", "<DELETE>", "util", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "connect", "<DELETE>", "timeout", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "int", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", "=", "<DELETE>", "http", "<DELETE>", "request", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", "<", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", "=", "<DELETE>", "m", "<DELETE>", "_", "<DELETE>", "config", "<DELETE>", "util", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "conn", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "connect", "<DELETE>", "timeout", "<DELETE>", "(", "<DELETE>", "connect", "<DELETE>", "timeout", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "conn", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", "(", "<DELETE>", "read", "<DELETE>", "timeout", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "conn", "<DELETE>", ".", "<DELETE>", "connect", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "int", "<DELETE>", "status", "<DELETE>", "code", "<DELETE>", "=", "<DELETE>", "conn", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "response", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "status", "<DELETE>", "code", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "is", "<DELETE>", "=", "<DELETE>", "conn", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "input", "<DELETE>", "stream", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "string", "<DELETE>", "content", "<DELETE>", "=", "<DELETE>", "files", "<DELETE>", ".", "<DELETE>", "io", "<DELETE>", ".", "<DELETE>", "instance", "<DELETE>", ".", "<DELETE>", "read", "<DELETE>", "from", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", ",", "<DELETE>", "charsets", "<DELETE>", ".", "<DELETE>", "utf", "<DELETE>", "_", "<DELETE>", "8", "<DELETE>", ".", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "return", "<DELETE>", "new", "<DELETE>", "http", "<DELETE>", "response", "<DELETE>", "<", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", "status", "<DELETE>", "code", "<DELETE>", ",", "<KEEP>", "gson", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "json", "<KEEP>", "(", "<REPLACE_OLD>", "content", "<REPLACE_NEW>", "input", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "type", "<KEEP>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "do", "<INSERT>", "get", "<INSERT>", "with", "<INSERT>", "serialize", "<INSERT>", "function", "<INSERT>", "(", "<INSERT>", "http", "<INSERT>", "request", "<INSERT>", ",", "<INSERT>", "convert", "<INSERT>", "response", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "status", "<DELETE>", "code", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "http", "<DELETE>", "response", "<DELETE>", "<", "<DELETE>", ">", "<DELETE>", "(", "<DELETE>", "status", "<DELETE>", "code", "<DELETE>", ",", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "runtime", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "http", "<DELETE>", "request", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "url", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "status", "<DELETE>", "code", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "throwable", "<DELETE>", "ex", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "runtime", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "ex", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "finally", "<DELETE>", "{", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "is", "<DELETE>", ".", "<DELETE>", "close", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "ioexception", "<DELETE>", "ex", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "merikan_skltpservices-googlecode-6-6524", "old_comment": "the target body information .", "old_comment_tokens": ["the", "target", "body", "information", "."], "new_comment": "a new medication medical record", "new_comment_tokens": ["a", "new", "medication", "medical", "record"], "old_code": "protected medication medical record body type map body ( final ehrextract ehr extract , final int composition index ) { final composition composition = ehr extract . get all compositions ( ) . get ( composition index ) ; final medication medical record body type body type = new medication medical record body type ( ) ; additional patient information type apit = new additional patient information type ( ) ; apit . set date of birth ( str ) ; cvtype gender = new cvtype ( ) ; gender . set code ( str ) ; gender . set code system ( str ) ; gender . set display name ( str ) ; gender . set original text ( str ) ; apit . set gender ( gender ) ; body type . set additional patient information ( apit ) ; medication prescription type mpt = new medication prescription type ( ) ; mpt . set dispensation authorization ( new dispensation authorization type ( ) ) ; mpt . set end of treatment ( str ) ; mpt . set end of treatment reason ( new cvtype ( ) ) ; mpt . set evaluator ( new healthcare professional type ( ) ) ; mpt . set preceding prescription id ( new iitype ( ) ) ; mpt . set prescriber ( new healthcare professional type ( ) ) ; mpt . set prescription chain id ( new iitype ( ) ) ; mpt . set prescription id ( new iitype ( ) ) ; mpt . set prescription status ( new cvtype ( ) ) ; mpt . set self medication ( false ) ; mpt . set start of first treatment ( str ) ; mpt . set succeeding prescription id ( new iitype ( ) ) ; mpt . set type of prescription ( type of prescription enum . insttning ) ; body type . set medication prescription ( mpt ) ; for ( final content content : composition . get content ( ) ) { for ( final item item : ( ( entry ) content ) . get items ( ) ) { log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ( item instanceof element ? str : str ) ) ; switch ( item . get meaning ( ) . get code ( ) ) { case str : mpt . set start of treatment ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : mpt . set prescription note ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : mpt . set evaluation time ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : mpt . set treatment purpose ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) ) ; cluster c = ( cluster ) item ; list < item > parts = c . get parts ( ) ; for ( item part : parts ) { log . debug ( part . get meaning ( ) . get code ( ) ) ; if ( str . equals ( part . get meaning ( ) . get code ( ) ) ) { c = ( cluster ) part ; list < item > dosparts = c . get parts ( ) ; for ( item dospart : dosparts ) { log . debug ( dospart . get meaning ( ) . get code ( ) + str + dospart . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) dospart ) ) ; } } } break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) ) ; c = ( cluster ) item ; parts = c . get parts ( ) ; for ( item part : parts ) { log . debug ( part . get meaning ( ) . get code ( ) ) ; switch ( item . get meaning ( ) . get code ( ) ) { case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; } } break ; case str : mpt . set start of treatment ( str ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; } } } return body type ; }", "old_code_tokens": ["protected", "medication", "medical", "record", "body", "type", "map", "body", "(", "final", "ehrextract", "ehr", "extract", ",", "final", "int", "composition", "index", ")", "{", "final", "composition", "composition", "=", "ehr", "extract", ".", "get", "all", "compositions", "(", ")", ".", "get", "(", "composition", "index", ")", ";", "final", "medication", "medical", "record", "body", "type", "body", "type", "=", "new", "medication", "medical", "record", "body", "type", "(", ")", ";", "additional", "patient", "information", "type", "apit", "=", "new", "additional", "patient", "information", "type", "(", ")", ";", "apit", ".", "set", "date", "of", "birth", "(", "str", ")", ";", "cvtype", "gender", "=", "new", "cvtype", "(", ")", ";", "gender", ".", "set", "code", "(", "str", ")", ";", "gender", ".", "set", "code", "system", "(", "str", ")", ";", "gender", ".", "set", "display", "name", "(", "str", ")", ";", "gender", ".", "set", "original", "text", "(", "str", ")", ";", "apit", ".", "set", "gender", "(", "gender", ")", ";", "body", "type", ".", "set", "additional", "patient", "information", "(", "apit", ")", ";", "medication", "prescription", "type", "mpt", "=", "new", "medication", "prescription", "type", "(", ")", ";", "mpt", ".", "set", "dispensation", "authorization", "(", "new", "dispensation", "authorization", "type", "(", ")", ")", ";", "mpt", ".", "set", "end", "of", "treatment", "(", "str", ")", ";", "mpt", ".", "set", "end", "of", "treatment", "reason", "(", "new", "cvtype", "(", ")", ")", ";", "mpt", ".", "set", "evaluator", "(", "new", "healthcare", "professional", "type", "(", ")", ")", ";", "mpt", ".", "set", "preceding", "prescription", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "prescriber", "(", "new", "healthcare", "professional", "type", "(", ")", ")", ";", "mpt", ".", "set", "prescription", "chain", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "prescription", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "prescription", "status", "(", "new", "cvtype", "(", ")", ")", ";", "mpt", ".", "set", "self", "medication", "(", "false", ")", ";", "mpt", ".", "set", "start", "of", "first", "treatment", "(", "str", ")", ";", "mpt", ".", "set", "succeeding", "prescription", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "type", "of", "prescription", "(", "type", "of", "prescription", "enum", ".", "insttning", ")", ";", "body", "type", ".", "set", "medication", "prescription", "(", "mpt", ")", ";", "for", "(", "final", "content", "content", ":", "composition", ".", "get", "content", "(", ")", ")", "{", "for", "(", "final", "item", "item", ":", "(", "(", "entry", ")", "content", ")", ".", "get", "items", "(", ")", ")", "{", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "(", "item", "instanceof", "element", "?", "str", ":", "str", ")", ")", ";", "switch", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", "{", "case", "str", ":", "mpt", ".", "set", "start", "of", "treatment", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "mpt", ".", "set", "prescription", "note", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "mpt", ".", "set", "evaluation", "time", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "mpt", ".", "set", "treatment", "purpose", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", ")", ";", "cluster", "c", "=", "(", "cluster", ")", "item", ";", "list", "<", "item", ">", "parts", "=", "c", ".", "get", "parts", "(", ")", ";", "for", "(", "item", "part", ":", "parts", ")", "{", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", ";", "if", "(", "str", ".", "equals", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", ")", "{", "c", "=", "(", "cluster", ")", "part", ";", "list", "<", "item", ">", "dosparts", "=", "c", ".", "get", "parts", "(", ")", ";", "for", "(", "item", "dospart", ":", "dosparts", ")", "{", "log", ".", "debug", "(", "dospart", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "dospart", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "dospart", ")", ")", ";", "}", "}", "}", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", ")", ";", "c", "=", "(", "cluster", ")", "item", ";", "parts", "=", "c", ".", "get", "parts", "(", ")", ";", "for", "(", "item", "part", ":", "parts", ")", "{", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", ";", "switch", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", "{", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "}", "}", "break", ";", "case", "str", ":", "mpt", ".", "set", "start", "of", "treatment", "(", "str", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "}", "}", "}", "return", "body", "type", ";", "}"], "new_code": "protected medication medical record body type map body ( final ehrextract ehr extract , final int composition index ) { final composition composition = ehr extract . get all compositions ( ) . get ( composition index ) ; map < string , string > ehr13606values = retrieve values ( composition , composition index ) ; return build body ( ehr13606values ) ; }", "new_code_tokens": ["protected", "medication", "medical", "record", "body", "type", "map", "body", "(", "final", "ehrextract", "ehr", "extract", ",", "final", "int", "composition", "index", ")", "{", "final", "composition", "composition", "=", "ehr", "extract", ".", "get", "all", "compositions", "(", ")", ".", "get", "(", "composition", "index", ")", ";", "map", "<", "string", ",", "string", ">", "ehr13606values", "=", "retrieve", "values", "(", "composition", ",", "composition", "index", ")", ";", "return", "build", "body", "(", "ehr13606values", ")", ";", "}"], "span_diff_code": "<KEEP> protected medication medical record body type map body ( final ehrextract ehr extract , final int composition index ) { final composition composition = ehr extract . get all compositions ( ) . get ( composition index ) ; <KEEP_END> <REPLACE_OLD> final medication medical record body type body type <REPLACE_NEW> map < string , string > ehr13606values <REPLACE_END> <KEEP> = <KEEP_END> <REPLACE_OLD> new medication medical record body type <REPLACE_NEW> retrieve values <REPLACE_END> <KEEP> ( <KEEP_END> <INSERT> composition , composition index <INSERT_END> <KEEP> ) ; <KEEP_END> <REPLACE_OLD> additional patient information type apit = new additional patient information type <REPLACE_NEW> return build body <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> ) ; apit . set date of birth ( str ) ; cvtype gender = new cvtype ( ) ; gender . set code ( str ) ; gender . set code system ( str ) ; gender . set display name ( str ) ; gender . set original text ( str ) ; apit . set gender ( gender ) ; body type . set additional patient information ( apit ) ; medication prescription type mpt = new medication prescription type ( ) ; mpt . set dispensation authorization ( new dispensation authorization type ( ) ) ; mpt . set end of treatment ( str ) ; mpt . set end of treatment reason ( new cvtype ( ) ) ; mpt . set evaluator ( new healthcare professional type ( ) ) ; mpt . set preceding prescription id ( new iitype ( ) ) ; mpt . set prescriber ( new healthcare professional type ( ) ) ; mpt . set prescription chain id ( new iitype ( ) ) ; mpt . set prescription id ( new iitype ( ) ) ; mpt . set prescription status ( new cvtype ( ) ) ; mpt . set self medication ( false ) ; mpt . set start of first treatment ( str ) ; mpt . set succeeding prescription id ( new iitype ( ) ) ; mpt . set type of prescription ( type of prescription enum . insttning ) ; body type . set medication prescription ( mpt ) ; for ( final content content : composition . get content ( ) ) { for ( final item item : ( ( entry ) content ) . get items ( ) ) { log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ( item instanceof element ? str : str ) ) ; switch ( item . get meaning ( ) . get code ( ) ) { case str : mpt . set start of treatment ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : mpt . set prescription note ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : mpt . set evaluation time ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : mpt . set treatment purpose ( str ) ; log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) ) ; cluster c = ( cluster ) item ; list < item > parts = c . get parts ( ) ; for ( item part : parts ) { log . debug ( part . get meaning ( ) . get code ( ) ) ; if ( str . equals ( part . get meaning ( ) . get code ( ) ) ) { c = ( cluster ) part ; list < item > dosparts = c . get parts ( ) ; for ( item dospart : dosparts ) { log . debug ( dospart . get meaning ( ) . get code ( ) + str + dospart . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) dospart ) <REPLACE_NEW> ehr13606values <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> } } break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) ) ; c = ( cluster ) item ; parts = c . get parts ( ) ; for ( item part : parts ) { log . debug ( part . get meaning ( ) . get code ( ) ) ; switch ( item . get meaning ( ) . get code ( ) ) { case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; case str : log . debug ( part . get meaning ( ) . get code ( ) + str + part . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) part ) ) ; break ; } } break ; case str : mpt . set start of treatment ( str ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; case str : log . debug ( item . get meaning ( ) . get code ( ) + str + item . get meaning ( ) . get display name ( ) . get value ( ) + str + ehrutil . get element text value ( ( element ) item ) ) ; break ; } } } return body type ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "medication", "medical", "record", "body", "type", "map", "body", "(", "final", "ehrextract", "ehr", "extract", ",", "final", "int", "composition", "index", ")", "{", "final", "composition", "composition", "=", "ehr", "extract", ".", "get", "all", "compositions", "(", ")", ".", "get", "(", "composition", "index", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "final", "medication", "medical", "record", "body", "type", "body", "type", "<REPLACE_NEW>", "map", "<", "string", ",", "string", ">", "ehr13606values", "<REPLACE_END>", "<KEEP>", "=", "<KEEP_END>", "<REPLACE_OLD>", "new", "medication", "medical", "record", "body", "type", "<REPLACE_NEW>", "retrieve", "values", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<INSERT>", "composition", ",", "composition", "index", "<INSERT_END>", "<KEEP>", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "additional", "patient", "information", "type", "apit", "=", "new", "additional", "patient", "information", "type", "<REPLACE_NEW>", "return", "build", "body", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", ")", ";", "apit", ".", "set", "date", "of", "birth", "(", "str", ")", ";", "cvtype", "gender", "=", "new", "cvtype", "(", ")", ";", "gender", ".", "set", "code", "(", "str", ")", ";", "gender", ".", "set", "code", "system", "(", "str", ")", ";", "gender", ".", "set", "display", "name", "(", "str", ")", ";", "gender", ".", "set", "original", "text", "(", "str", ")", ";", "apit", ".", "set", "gender", "(", "gender", ")", ";", "body", "type", ".", "set", "additional", "patient", "information", "(", "apit", ")", ";", "medication", "prescription", "type", "mpt", "=", "new", "medication", "prescription", "type", "(", ")", ";", "mpt", ".", "set", "dispensation", "authorization", "(", "new", "dispensation", "authorization", "type", "(", ")", ")", ";", "mpt", ".", "set", "end", "of", "treatment", "(", "str", ")", ";", "mpt", ".", "set", "end", "of", "treatment", "reason", "(", "new", "cvtype", "(", ")", ")", ";", "mpt", ".", "set", "evaluator", "(", "new", "healthcare", "professional", "type", "(", ")", ")", ";", "mpt", ".", "set", "preceding", "prescription", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "prescriber", "(", "new", "healthcare", "professional", "type", "(", ")", ")", ";", "mpt", ".", "set", "prescription", "chain", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "prescription", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "prescription", "status", "(", "new", "cvtype", "(", ")", ")", ";", "mpt", ".", "set", "self", "medication", "(", "false", ")", ";", "mpt", ".", "set", "start", "of", "first", "treatment", "(", "str", ")", ";", "mpt", ".", "set", "succeeding", "prescription", "id", "(", "new", "iitype", "(", ")", ")", ";", "mpt", ".", "set", "type", "of", "prescription", "(", "type", "of", "prescription", "enum", ".", "insttning", ")", ";", "body", "type", ".", "set", "medication", "prescription", "(", "mpt", ")", ";", "for", "(", "final", "content", "content", ":", "composition", ".", "get", "content", "(", ")", ")", "{", "for", "(", "final", "item", "item", ":", "(", "(", "entry", ")", "content", ")", ".", "get", "items", "(", ")", ")", "{", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "(", "item", "instanceof", "element", "?", "str", ":", "str", ")", ")", ";", "switch", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", "{", "case", "str", ":", "mpt", ".", "set", "start", "of", "treatment", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "mpt", ".", "set", "prescription", "note", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "mpt", ".", "set", "evaluation", "time", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "mpt", ".", "set", "treatment", "purpose", "(", "str", ")", ";", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", ")", ";", "cluster", "c", "=", "(", "cluster", ")", "item", ";", "list", "<", "item", ">", "parts", "=", "c", ".", "get", "parts", "(", ")", ";", "for", "(", "item", "part", ":", "parts", ")", "{", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", ";", "if", "(", "str", ".", "equals", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", ")", "{", "c", "=", "(", "cluster", ")", "part", ";", "list", "<", "item", ">", "dosparts", "=", "c", ".", "get", "parts", "(", ")", ";", "for", "(", "item", "dospart", ":", "dosparts", ")", "{", "log", ".", "debug", "(", "dospart", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "dospart", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "dospart", ")", "<REPLACE_NEW>", "ehr13606values", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", "}", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", ")", ";", "c", "=", "(", "cluster", ")", "item", ";", "parts", "=", "c", ".", "get", "parts", "(", ")", ";", "for", "(", "item", "part", ":", "parts", ")", "{", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", ";", "switch", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", ")", "{", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "part", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "part", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "part", ")", ")", ";", "break", ";", "}", "}", "break", ";", "case", "str", ":", "mpt", ".", "set", "start", "of", "treatment", "(", "str", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "case", "str", ":", "log", ".", "debug", "(", "item", ".", "get", "meaning", "(", ")", ".", "get", "code", "(", ")", "+", "str", "+", "item", ".", "get", "meaning", "(", ")", ".", "get", "display", "name", "(", ")", ".", "get", "value", "(", ")", "+", "str", "+", "ehrutil", ".", "get", "element", "text", "value", "(", "(", "element", ")", "item", ")", ")", ";", "break", ";", "}", "}", "}", "return", "body", "type", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> the target body information . <REPLACE_NEW> a new medication medical record <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "the", "target", "body", "information", ".", "<REPLACE_NEW>", "a", "new", "medication", "medical", "record", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "medication", "<KEEP>", "medical", "<KEEP>", "record", "<KEEP>", "body", "<KEEP>", "type", "<KEEP>", "map", "<KEEP>", "body", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "ehrextract", "<KEEP>", "ehr", "<KEEP>", "extract", "<KEEP>", ",", "<KEEP>", "final", "<KEEP>", "int", "<KEEP>", "composition", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "composition", "<KEEP>", "composition", "<KEEP>", "=", "<KEEP>", "ehr", "<KEEP>", "extract", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "all", "<KEEP>", "compositions", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "composition", "<KEEP>", "index", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "medication", "<REPLACE_OLD>", "medical", "<REPLACE_OLD>", "record", "<REPLACE_OLD>", "body", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "body", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "ehr13606values", "<KEEP>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "medication", "<REPLACE_OLD>", "medical", "<REPLACE_OLD>", "record", "<REPLACE_OLD>", "body", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "retrieve", "<REPLACE_NEW>", "values", "<KEEP>", "(", "<INSERT>", "composition", "<INSERT>", ",", "<INSERT>", "composition", "<INSERT>", "index", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "additional", "<REPLACE_OLD>", "patient", "<REPLACE_OLD>", "information", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "apit", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "additional", "<REPLACE_OLD>", "patient", "<REPLACE_OLD>", "information", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", "body", "<KEEP>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "apit", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "date", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "birth", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "cvtype", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "cvtype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "system", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "original", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "apit", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "gender", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "body", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "additional", "<REPLACE_OLD>", "patient", "<REPLACE_OLD>", "information", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "apit", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "medication", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "medication", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "dispensation", "<REPLACE_OLD>", "authorization", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "dispensation", "<REPLACE_OLD>", "authorization", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "treatment", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "end", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "treatment", "<REPLACE_OLD>", "reason", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "cvtype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "evaluator", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "healthcare", "<REPLACE_OLD>", "professional", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "preceding", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "iitype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "prescriber", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "healthcare", "<REPLACE_OLD>", "professional", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "chain", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "iitype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "iitype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "cvtype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "self", "<REPLACE_OLD>", "medication", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "false", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "first", "<REPLACE_OLD>", "treatment", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "succeeding", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "id", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "iitype", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "enum", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "insttning", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "body", "<REPLACE_OLD>", "type", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "medication", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "content", "<REPLACE_OLD>", "content", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "composition", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "content", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "entry", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "content", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "items", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "instanceof", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "switch", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "start", "<REPLACE_OLD>", "of", "<REPLACE_OLD>", "treatment", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "ehrutil", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "prescription", "<REPLACE_OLD>", "note", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "ehrutil", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "evaluation", "<REPLACE_OLD>", "time", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "ehrutil", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "mpt", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "treatment", "<REPLACE_OLD>", "purpose", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "ehrutil", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "break", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "case", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "cluster", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cluster", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "parts", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "parts", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "part", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "parts", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "part", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "equals", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "part", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "cluster", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "part", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "dosparts", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "parts", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "item", "<REPLACE_OLD>", "dospart", "<REPLACE_OLD>", ":", "<REPLACE_OLD>", "dosparts", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "log", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "debug", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "dospart", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "code", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "dospart", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "meaning", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "display", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "ehrutil", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "get", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", "text", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "element", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "dospart", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "ehr13606values", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "c", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "cluster", "<DELETE>", ")", "<DELETE>", "item", "<DELETE>", ";", "<DELETE>", "parts", "<DELETE>", "=", "<DELETE>", "c", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "parts", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", "part", "<DELETE>", ":", "<DELETE>", "parts", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "switch", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "part", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "part", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "part", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "part", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "part", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "mpt", "<DELETE>", ".", "<DELETE>", "set", "<DELETE>", "start", "<DELETE>", "of", "<DELETE>", "treatment", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "item", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "item", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "item", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "item", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "case", "<DELETE>", "str", "<DELETE>", ":", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "debug", "<DELETE>", "(", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "code", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "item", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "meaning", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "display", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "+", "<DELETE>", "str", "<DELETE>", "+", "<DELETE>", "ehrutil", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "element", "<DELETE>", "text", "<DELETE>", "value", "<DELETE>", "(", "<DELETE>", "(", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "item", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "break", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "return", "<DELETE>", "body", "<DELETE>", "type", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "JetBrains_jdk8u_jaxp-30-6322", "old_comment": "a vector containing all the child nodes of this node .", "old_comment_tokens": ["a", "vector", "containing", "all", "the", "child", "nodes", "of", "this", "node", "."], "new_comment": "a list containing all the child nodes of this node .", "new_comment_tokens": ["a", "list", "containing", "all", "the", "child", "nodes", "of", "this", "node", "."], "old_code": "protected final vector get contents ( ) { return _ contents ; }", "old_code_tokens": ["protected", "final", "vector", "get", "contents", "(", ")", "{", "return", "_", "contents", ";", "}"], "new_code": "protected final list < syntax tree node > get contents ( ) { return _ contents ; }", "new_code_tokens": ["protected", "final", "list", "<", "syntax", "tree", "node", ">", "get", "contents", "(", ")", "{", "return", "_", "contents", ";", "}"], "span_diff_code": "<KEEP> protected final <KEEP_END> <REPLACE_OLD> vector <REPLACE_NEW> list < syntax tree node > <REPLACE_END> <KEEP> get contents ( ) { return _ contents ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "protected", "final", "<KEEP_END>", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<", "syntax", "tree", "node", ">", "<REPLACE_END>", "<KEEP>", "get", "contents", "(", ")", "{", "return", "_", "contents", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> vector <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "protected", "<KEEP>", "final", "<REPLACE_OLD>", "vector", "<REPLACE_NEW>", "list", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "syntax", "<REPLACE_NEW>", "tree", "<REPLACE_NEW>", "node", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "contents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "_", "<KEEP>", "contents", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_fili-1-5482", "old_comment": "log object as a json formatted string", "old_comment_tokens": ["log", "object", "as", "a", "json", "formatted", "string"], "new_comment": "log object as a formatted string", "new_comment_tokens": ["log", "object", "as", "a", "formatted", "string"], "old_code": "public static string export ( ) { request log current = rlog . get ( ) ; record ( new durations ( current . aggregate durations ( ) ) ) ; record ( new threads ( current . thread ids ) ) ; try { return current . mapper . write value as string ( current . info ) ; } catch ( json processing exception jpe ) { string msg = string . format ( str , current . log id ) ; log . warn ( msg , jpe ) ; return msg ; } }", "old_code_tokens": ["public", "static", "string", "export", "(", ")", "{", "request", "log", "current", "=", "rlog", ".", "get", "(", ")", ";", "record", "(", "new", "durations", "(", "current", ".", "aggregate", "durations", "(", ")", ")", ")", ";", "record", "(", "new", "threads", "(", "current", ".", "thread", "ids", ")", ")", ";", "try", "{", "return", "current", ".", "mapper", ".", "write", "value", "as", "string", "(", "current", ".", "info", ")", ";", "}", "catch", "(", "json", "processing", "exception", "jpe", ")", "{", "string", "msg", "=", "string", ".", "format", "(", "str", ",", "current", ".", "log", "id", ")", ";", "log", ".", "warn", "(", "msg", ",", "jpe", ")", ";", "return", "msg", ";", "}", "}"], "new_code": "public static string export ( ) { request log current = rlog . get ( ) ; record ( new durations ( current . aggregate durations ( ) ) ) ; record ( new threads ( current . thread ids ) ) ; return log formatter provider . get instance ( ) . format ( current . info ) ; }", "new_code_tokens": ["public", "static", "string", "export", "(", ")", "{", "request", "log", "current", "=", "rlog", ".", "get", "(", ")", ";", "record", "(", "new", "durations", "(", "current", ".", "aggregate", "durations", "(", ")", ")", ")", ";", "record", "(", "new", "threads", "(", "current", ".", "thread", "ids", ")", ")", ";", "return", "log", "formatter", "provider", ".", "get", "instance", "(", ")", ".", "format", "(", "current", ".", "info", ")", ";", "}"], "span_diff_code": "<KEEP> public static string export ( ) { request log current = rlog . get ( ) ; record ( new durations ( current . aggregate durations ( ) ) ) ; record ( new threads ( current . thread ids ) ) ; <KEEP_END> <DELETE> try { <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> current <REPLACE_NEW> log formatter provider <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> mapper <REPLACE_NEW> get instance ( ) <REPLACE_END> <KEEP> . <KEEP_END> <REPLACE_OLD> write value as string <REPLACE_NEW> format <REPLACE_END> <KEEP> ( current . info ) ; } <KEEP_END> <DELETE> catch ( json processing exception jpe ) { string msg = string . format ( str , current . log id ) ; log . warn ( msg , jpe ) ; return msg ; } } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "string", "export", "(", ")", "{", "request", "log", "current", "=", "rlog", ".", "get", "(", ")", ";", "record", "(", "new", "durations", "(", "current", ".", "aggregate", "durations", "(", ")", ")", ")", ";", "record", "(", "new", "threads", "(", "current", ".", "thread", "ids", ")", ")", ";", "<KEEP_END>", "<DELETE>", "try", "{", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "log", "formatter", "provider", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "mapper", "<REPLACE_NEW>", "get", "instance", "(", ")", "<REPLACE_END>", "<KEEP>", ".", "<KEEP_END>", "<REPLACE_OLD>", "write", "value", "as", "string", "<REPLACE_NEW>", "format", "<REPLACE_END>", "<KEEP>", "(", "current", ".", "info", ")", ";", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "json", "processing", "exception", "jpe", ")", "{", "string", "msg", "=", "string", ".", "format", "(", "str", ",", "current", ".", "log", "id", ")", ";", "log", ".", "warn", "(", "msg", ",", "jpe", ")", ";", "return", "msg", ";", "}", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> json <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "json", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "string", "<KEEP>", "export", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "request", "<KEEP>", "log", "<KEEP>", "current", "<KEEP>", "=", "<KEEP>", "rlog", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "record", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "durations", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", ".", "<KEEP>", "aggregate", "<KEEP>", "durations", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "record", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "threads", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", ".", "<KEEP>", "thread", "<KEEP>", "ids", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "try", "<DELETE>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "current", "<REPLACE_NEW>", "log", "<REPLACE_NEW>", "formatter", "<REPLACE_NEW>", "provider", "<KEEP>", ".", "<REPLACE_OLD>", "mapper", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "instance", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ".", "<REPLACE_OLD>", "write", "<REPLACE_OLD>", "value", "<REPLACE_OLD>", "as", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "format", "<KEEP>", "(", "<KEEP>", "current", "<KEEP>", ".", "<KEEP>", "info", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "json", "<DELETE>", "processing", "<DELETE>", "exception", "<DELETE>", "jpe", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "string", "<DELETE>", "msg", "<DELETE>", "=", "<DELETE>", "string", "<DELETE>", ".", "<DELETE>", "format", "<DELETE>", "(", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "current", "<DELETE>", ".", "<DELETE>", "log", "<DELETE>", "id", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "warn", "<DELETE>", "(", "<DELETE>", "msg", "<DELETE>", ",", "<DELETE>", "jpe", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "msg", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "facebook_fresco-5-215", "old_comment": "listenable future that resolves to cached element or null if one cannot be retrieved ; returned future never rethrows any exception", "old_comment_tokens": ["listenable", "future", "that", "resolves", "to", "cached", "element", "or", "null", "if", "one", "cannot", "be", "retrieved", ";", "returned", "future", "never", "rethrows", "any", "exception"], "new_comment": "task that resolves to cached element or null if one cannot be retrieved ; returned task never rethrows any exception", "new_comment_tokens": ["task", "that", "resolves", "to", "cached", "element", "or", "null", "if", "one", "cannot", "be", "retrieved", ";", "returned", "task", "never", "rethrows", "any", "exception"], "old_code": "public task < encoded image > get ( final cache key key , final atomic boolean is cancelled ) { preconditions . check not null ( key ) ; preconditions . check not null ( is cancelled ) ; final encoded image pinned image = m staging area . get ( key ) ; if ( pinned image ! = null ) { flog . v ( tag , str , key . to string ( ) ) ; m image cache stats tracker . on staging area hit ( ) ; return task . for result ( pinned image ) ; } try { return task . call ( new callable < encoded image > ( ) { @ override public encoded image call ( ) throws exception { if ( is cancelled . get ( ) ) { throw new cancellation exception ( ) ; } encoded image result = m staging area . get ( key ) ; if ( result ! = null ) { flog . v ( tag , str , key . to string ( ) ) ; m image cache stats tracker . on staging area hit ( ) ; } else { flog . v ( tag , str , key . to string ( ) ) ; m image cache stats tracker . on staging area miss ( ) ; try { final pooled byte buffer buffer = read from disk cache ( key ) ; closeable reference < pooled byte buffer > ref = closeable reference . of ( buffer ) ; try { result = new encoded image ( ref ) ; } finally { closeable reference . close safely ( ref ) ; } } catch ( exception exception ) { return null ; } } if ( thread . interrupted ( ) ) { flog . v ( tag , str ) ; if ( result ! = null ) { result . close ( ) ; } throw new interrupted exception ( ) ; } else { return result ; } } } , m read executor ) ; } catch ( exception exception ) { flog . w ( tag , exception , str , key . to string ( ) ) ; return task . for error ( exception ) ; } }", "old_code_tokens": ["public", "task", "<", "encoded", "image", ">", "get", "(", "final", "cache", "key", "key", ",", "final", "atomic", "boolean", "is", "cancelled", ")", "{", "preconditions", ".", "check", "not", "null", "(", "key", ")", ";", "preconditions", ".", "check", "not", "null", "(", "is", "cancelled", ")", ";", "final", "encoded", "image", "pinned", "image", "=", "m", "staging", "area", ".", "get", "(", "key", ")", ";", "if", "(", "pinned", "image", "!", "=", "null", ")", "{", "flog", ".", "v", "(", "tag", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "m", "image", "cache", "stats", "tracker", ".", "on", "staging", "area", "hit", "(", ")", ";", "return", "task", ".", "for", "result", "(", "pinned", "image", ")", ";", "}", "try", "{", "return", "task", ".", "call", "(", "new", "callable", "<", "encoded", "image", ">", "(", ")", "{", "@", "override", "public", "encoded", "image", "call", "(", ")", "throws", "exception", "{", "if", "(", "is", "cancelled", ".", "get", "(", ")", ")", "{", "throw", "new", "cancellation", "exception", "(", ")", ";", "}", "encoded", "image", "result", "=", "m", "staging", "area", ".", "get", "(", "key", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "flog", ".", "v", "(", "tag", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "m", "image", "cache", "stats", "tracker", ".", "on", "staging", "area", "hit", "(", ")", ";", "}", "else", "{", "flog", ".", "v", "(", "tag", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "m", "image", "cache", "stats", "tracker", ".", "on", "staging", "area", "miss", "(", ")", ";", "try", "{", "final", "pooled", "byte", "buffer", "buffer", "=", "read", "from", "disk", "cache", "(", "key", ")", ";", "closeable", "reference", "<", "pooled", "byte", "buffer", ">", "ref", "=", "closeable", "reference", ".", "of", "(", "buffer", ")", ";", "try", "{", "result", "=", "new", "encoded", "image", "(", "ref", ")", ";", "}", "finally", "{", "closeable", "reference", ".", "close", "safely", "(", "ref", ")", ";", "}", "}", "catch", "(", "exception", "exception", ")", "{", "return", "null", ";", "}", "}", "if", "(", "thread", ".", "interrupted", "(", ")", ")", "{", "flog", ".", "v", "(", "tag", ",", "str", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "close", "(", ")", ";", "}", "throw", "new", "interrupted", "exception", "(", ")", ";", "}", "else", "{", "return", "result", ";", "}", "}", "}", ",", "m", "read", "executor", ")", ";", "}", "catch", "(", "exception", "exception", ")", "{", "flog", ".", "w", "(", "tag", ",", "exception", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "return", "task", ".", "for", "error", "(", "exception", ")", ";", "}", "}"], "new_code": "public task < encoded image > get ( cache key key , atomic boolean is cancelled ) { final encoded image pinned image = m staging area . get ( key ) ; if ( pinned image ! = null ) { return found pinned image ( key , pinned image ) ; } return get async ( key , is cancelled ) ; }", "new_code_tokens": ["public", "task", "<", "encoded", "image", ">", "get", "(", "cache", "key", "key", ",", "atomic", "boolean", "is", "cancelled", ")", "{", "final", "encoded", "image", "pinned", "image", "=", "m", "staging", "area", ".", "get", "(", "key", ")", ";", "if", "(", "pinned", "image", "!", "=", "null", ")", "{", "return", "found", "pinned", "image", "(", "key", ",", "pinned", "image", ")", ";", "}", "return", "get", "async", "(", "key", ",", "is", "cancelled", ")", ";", "}"], "span_diff_code": "<KEEP> public task < encoded image > get ( <KEEP_END> <DELETE> final <DELETE_END> <KEEP> cache key key , <KEEP_END> <DELETE> final <DELETE_END> <KEEP> atomic boolean is cancelled ) { <KEEP_END> <DELETE> preconditions . check not null ( key ) ; preconditions . check not null ( is cancelled ) ; <DELETE_END> <KEEP> final encoded image pinned image = m staging area . get ( key ) ; if ( pinned image ! = null ) { <KEEP_END> <REPLACE_OLD> flog . v <REPLACE_NEW> return found pinned image <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> tag <REPLACE_NEW> key <REPLACE_END> <KEEP> , <KEEP_END> <DELETE> str , key . to string ( ) ) ; m image cache stats tracker . on staging area hit ( ) ; return task . for result ( <DELETE_END> <KEEP> pinned image ) ; } <KEEP_END> <DELETE> try { <DELETE_END> <KEEP> return <KEEP_END> <REPLACE_OLD> task . call <REPLACE_NEW> get async <REPLACE_END> <KEEP> ( <KEEP_END> <REPLACE_OLD> new callable < encoded image > ( ) { @ override public encoded image call ( ) throws exception { if ( <REPLACE_NEW> key , <REPLACE_END> <KEEP> is cancelled <KEEP_END> <DELETE> . get ( ) ) { throw new cancellation exception ( <DELETE_END> <KEEP> ) ; } <KEEP_END> <DELETE> encoded image result = m staging area . get ( key ) ; if ( result ! = null ) { flog . v ( tag , str , key . to string ( ) ) ; m image cache stats tracker . on staging area hit ( ) ; } else { flog . v ( tag , str , key . to string ( ) ) ; m image cache stats tracker . on staging area miss ( ) ; try { final pooled byte buffer buffer = read from disk cache ( key ) ; closeable reference < pooled byte buffer > ref = closeable reference . of ( buffer ) ; try { result = new encoded image ( ref ) ; } finally { closeable reference . close safely ( ref ) ; } } catch ( exception exception ) { return null ; } } if ( thread . interrupted ( ) ) { flog . v ( tag , str ) ; if ( result ! = null ) { result . close ( ) ; } throw new interrupted exception ( ) ; } else { return result ; } } } , m read executor ) ; } catch ( exception exception ) { flog . w ( tag , exception , str , key . to string ( ) ) ; return task . for error ( exception ) ; } } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "task", "<", "encoded", "image", ">", "get", "(", "<KEEP_END>", "<DELETE>", "final", "<DELETE_END>", "<KEEP>", "cache", "key", "key", ",", "<KEEP_END>", "<DELETE>", "final", "<DELETE_END>", "<KEEP>", "atomic", "boolean", "is", "cancelled", ")", "{", "<KEEP_END>", "<DELETE>", "preconditions", ".", "check", "not", "null", "(", "key", ")", ";", "preconditions", ".", "check", "not", "null", "(", "is", "cancelled", ")", ";", "<DELETE_END>", "<KEEP>", "final", "encoded", "image", "pinned", "image", "=", "m", "staging", "area", ".", "get", "(", "key", ")", ";", "if", "(", "pinned", "image", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "flog", ".", "v", "<REPLACE_NEW>", "return", "found", "pinned", "image", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "tag", "<REPLACE_NEW>", "key", "<REPLACE_END>", "<KEEP>", ",", "<KEEP_END>", "<DELETE>", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "m", "image", "cache", "stats", "tracker", ".", "on", "staging", "area", "hit", "(", ")", ";", "return", "task", ".", "for", "result", "(", "<DELETE_END>", "<KEEP>", "pinned", "image", ")", ";", "}", "<KEEP_END>", "<DELETE>", "try", "{", "<DELETE_END>", "<KEEP>", "return", "<KEEP_END>", "<REPLACE_OLD>", "task", ".", "call", "<REPLACE_NEW>", "get", "async", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<REPLACE_OLD>", "new", "callable", "<", "encoded", "image", ">", "(", ")", "{", "@", "override", "public", "encoded", "image", "call", "(", ")", "throws", "exception", "{", "if", "(", "<REPLACE_NEW>", "key", ",", "<REPLACE_END>", "<KEEP>", "is", "cancelled", "<KEEP_END>", "<DELETE>", ".", "get", "(", ")", ")", "{", "throw", "new", "cancellation", "exception", "(", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "encoded", "image", "result", "=", "m", "staging", "area", ".", "get", "(", "key", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "flog", ".", "v", "(", "tag", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "m", "image", "cache", "stats", "tracker", ".", "on", "staging", "area", "hit", "(", ")", ";", "}", "else", "{", "flog", ".", "v", "(", "tag", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "m", "image", "cache", "stats", "tracker", ".", "on", "staging", "area", "miss", "(", ")", ";", "try", "{", "final", "pooled", "byte", "buffer", "buffer", "=", "read", "from", "disk", "cache", "(", "key", ")", ";", "closeable", "reference", "<", "pooled", "byte", "buffer", ">", "ref", "=", "closeable", "reference", ".", "of", "(", "buffer", ")", ";", "try", "{", "result", "=", "new", "encoded", "image", "(", "ref", ")", ";", "}", "finally", "{", "closeable", "reference", ".", "close", "safely", "(", "ref", ")", ";", "}", "}", "catch", "(", "exception", "exception", ")", "{", "return", "null", ";", "}", "}", "if", "(", "thread", ".", "interrupted", "(", ")", ")", "{", "flog", ".", "v", "(", "tag", ",", "str", ")", ";", "if", "(", "result", "!", "=", "null", ")", "{", "result", ".", "close", "(", ")", ";", "}", "throw", "new", "interrupted", "exception", "(", ")", ";", "}", "else", "{", "return", "result", ";", "}", "}", "}", ",", "m", "read", "executor", ")", ";", "}", "catch", "(", "exception", "exception", ")", "{", "flog", ".", "w", "(", "tag", ",", "exception", ",", "str", ",", "key", ".", "to", "string", "(", ")", ")", ";", "return", "task", ".", "for", "error", "(", "exception", ")", ";", "}", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> listenable future <REPLACE_NEW> task <REPLACE_END> <REPLACE_OLD_KEEP_BEFORE> returned future <REPLACE_NEW_KEEP_BEFORE> returned task <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "listenable", "future", "<REPLACE_NEW>", "task", "<REPLACE_END>", "<REPLACE_OLD_KEEP_BEFORE>", "returned", "future", "<REPLACE_NEW_KEEP_BEFORE>", "returned", "task", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "task", "<KEEP>", "<", "<KEEP>", "encoded", "<KEEP>", "image", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "(", "<DELETE>", "final", "<KEEP>", "cache", "<KEEP>", "key", "<KEEP>", "key", "<KEEP>", ",", "<DELETE>", "final", "<KEEP>", "atomic", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "cancelled", "<KEEP>", ")", "<KEEP>", "{", "<DELETE>", "preconditions", "<DELETE>", ".", "<DELETE>", "check", "<DELETE>", "not", "<DELETE>", "null", "<DELETE>", "(", "<DELETE>", "key", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "preconditions", "<DELETE>", ".", "<DELETE>", "check", "<DELETE>", "not", "<DELETE>", "null", "<DELETE>", "(", "<DELETE>", "is", "<DELETE>", "cancelled", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "final", "<KEEP>", "encoded", "<KEEP>", "image", "<KEEP>", "pinned", "<KEEP>", "image", "<KEEP>", "=", "<KEEP>", "m", "<KEEP>", "staging", "<KEEP>", "area", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "pinned", "<KEEP>", "image", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "flog", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "v", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "found", "<REPLACE_NEW>", "pinned", "<REPLACE_NEW>", "image", "<KEEP>", "(", "<REPLACE_OLD>", "tag", "<REPLACE_NEW>", "key", "<KEEP>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "key", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "m", "<DELETE>", "image", "<DELETE>", "cache", "<DELETE>", "stats", "<DELETE>", "tracker", "<DELETE>", ".", "<DELETE>", "on", "<DELETE>", "staging", "<DELETE>", "area", "<DELETE>", "hit", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "task", "<DELETE>", ".", "<DELETE>", "for", "<DELETE>", "result", "<DELETE>", "(", "<KEEP>", "pinned", "<KEEP>", "image", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "try", "<DELETE>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "task", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "call", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "async", "<KEEP>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "callable", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "encoded", "<REPLACE_OLD>", "image", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "override", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "encoded", "<REPLACE_OLD>", "image", "<REPLACE_OLD>", "call", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "throws", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_NEW>", "key", "<REPLACE_NEW>", ",", "<KEEP>", "is", "<KEEP>", "cancelled", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "cancellation", "<DELETE>", "exception", "<DELETE>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "encoded", "<DELETE>", "image", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "m", "<DELETE>", "staging", "<DELETE>", "area", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "(", "<DELETE>", "key", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "result", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "flog", "<DELETE>", ".", "<DELETE>", "v", "<DELETE>", "(", "<DELETE>", "tag", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "key", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "m", "<DELETE>", "image", "<DELETE>", "cache", "<DELETE>", "stats", "<DELETE>", "tracker", "<DELETE>", ".", "<DELETE>", "on", "<DELETE>", "staging", "<DELETE>", "area", "<DELETE>", "hit", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "flog", "<DELETE>", ".", "<DELETE>", "v", "<DELETE>", "(", "<DELETE>", "tag", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "key", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "m", "<DELETE>", "image", "<DELETE>", "cache", "<DELETE>", "stats", "<DELETE>", "tracker", "<DELETE>", ".", "<DELETE>", "on", "<DELETE>", "staging", "<DELETE>", "area", "<DELETE>", "miss", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "final", "<DELETE>", "pooled", "<DELETE>", "byte", "<DELETE>", "buffer", "<DELETE>", "buffer", "<DELETE>", "=", "<DELETE>", "read", "<DELETE>", "from", "<DELETE>", "disk", "<DELETE>", "cache", "<DELETE>", "(", "<DELETE>", "key", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "closeable", "<DELETE>", "reference", "<DELETE>", "<", "<DELETE>", "pooled", "<DELETE>", "byte", "<DELETE>", "buffer", "<DELETE>", ">", "<DELETE>", "ref", "<DELETE>", "=", "<DELETE>", "closeable", "<DELETE>", "reference", "<DELETE>", ".", "<DELETE>", "of", "<DELETE>", "(", "<DELETE>", "buffer", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "try", "<DELETE>", "{", "<DELETE>", "result", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "encoded", "<DELETE>", "image", "<DELETE>", "(", "<DELETE>", "ref", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "finally", "<DELETE>", "{", "<DELETE>", "closeable", "<DELETE>", "reference", "<DELETE>", ".", "<DELETE>", "close", "<DELETE>", "safely", "<DELETE>", "(", "<DELETE>", "ref", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "exception", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "thread", "<DELETE>", ".", "<DELETE>", "interrupted", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "flog", "<DELETE>", ".", "<DELETE>", "v", "<DELETE>", "(", "<DELETE>", "tag", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "result", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "result", "<DELETE>", ".", "<DELETE>", "close", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "throw", "<DELETE>", "new", "<DELETE>", "interrupted", "<DELETE>", "exception", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "result", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", ",", "<DELETE>", "m", "<DELETE>", "read", "<DELETE>", "executor", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "exception", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "flog", "<DELETE>", ".", "<DELETE>", "w", "<DELETE>", "(", "<DELETE>", "tag", "<DELETE>", ",", "<DELETE>", "exception", "<DELETE>", ",", "<DELETE>", "str", "<DELETE>", ",", "<DELETE>", "key", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "task", "<DELETE>", ".", "<DELETE>", "for", "<DELETE>", "error", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "yanzhenjie_NoHttp-0-1307", "old_comment": "protocol result .", "old_comment_tokens": ["protocol", "result", "."], "new_comment": "connection .", "new_comment_tokens": ["connection", "."], "old_code": "public connection result get connection ( ibasic request request ) { logger . d ( str ) ; headers response headers = new http headers ( ) ; input stream input stream = null ; exception exception = null ; network network = null ; string url = request . url ( ) ; try { if ( ! net util . is network available ( ) ) throw new network error ( str + url ) ; network = create connection and write data ( request ) ; logger . d ( str ) ; int response code = network . get response code ( ) ; response headers = parse response headers ( new uri ( request . url ( ) ) , response code , network . get response headers ( ) ) ; if ( response code = = num | | response code = = num | | response code = = num | | response code = = num ) { connection result redirect connection = handle redirect ( request , response headers ) ; response headers = redirect connection . response headers ( ) ; input stream = redirect connection . server stream ( ) ; exception = redirect connection . exception ( ) ; } else if ( has response body ( request . get request method ( ) , response code ) ) { input stream = network . get server stream ( response code , response headers ) ; } logger . d ( str ) ; } catch ( malformed urlexception e ) { exception = new urlerror ( str + url + str ) ; } catch ( unknown host exception e ) { exception = new un known host error ( str + url + str ) ; } catch ( socket timeout exception e ) { exception = new timeout error ( str + url + str ) ; } catch ( exception e ) { exception = e ; } finally { if ( exception ! = null ) logger . e ( exception ) ; } logger . d ( str ) ; return new connection result ( network , response headers , input stream , exception ) ; }", "old_code_tokens": ["public", "connection", "result", "get", "connection", "(", "ibasic", "request", "request", ")", "{", "logger", ".", "d", "(", "str", ")", ";", "headers", "response", "headers", "=", "new", "http", "headers", "(", ")", ";", "input", "stream", "input", "stream", "=", "null", ";", "exception", "exception", "=", "null", ";", "network", "network", "=", "null", ";", "string", "url", "=", "request", ".", "url", "(", ")", ";", "try", "{", "if", "(", "!", "net", "util", ".", "is", "network", "available", "(", ")", ")", "throw", "new", "network", "error", "(", "str", "+", "url", ")", ";", "network", "=", "create", "connection", "and", "write", "data", "(", "request", ")", ";", "logger", ".", "d", "(", "str", ")", ";", "int", "response", "code", "=", "network", ".", "get", "response", "code", "(", ")", ";", "response", "headers", "=", "parse", "response", "headers", "(", "new", "uri", "(", "request", ".", "url", "(", ")", ")", ",", "response", "code", ",", "network", ".", "get", "response", "headers", "(", ")", ")", ";", "if", "(", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", ")", "{", "connection", "result", "redirect", "connection", "=", "handle", "redirect", "(", "request", ",", "response", "headers", ")", ";", "response", "headers", "=", "redirect", "connection", ".", "response", "headers", "(", ")", ";", "input", "stream", "=", "redirect", "connection", ".", "server", "stream", "(", ")", ";", "exception", "=", "redirect", "connection", ".", "exception", "(", ")", ";", "}", "else", "if", "(", "has", "response", "body", "(", "request", ".", "get", "request", "method", "(", ")", ",", "response", "code", ")", ")", "{", "input", "stream", "=", "network", ".", "get", "server", "stream", "(", "response", "code", ",", "response", "headers", ")", ";", "}", "logger", ".", "d", "(", "str", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "exception", "=", "new", "urlerror", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "unknown", "host", "exception", "e", ")", "{", "exception", "=", "new", "un", "known", "host", "error", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "socket", "timeout", "exception", "e", ")", "{", "exception", "=", "new", "timeout", "error", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "exception", "=", "e", ";", "}", "finally", "{", "if", "(", "exception", "!", "=", "null", ")", "logger", ".", "e", "(", "exception", ")", ";", "}", "logger", ".", "d", "(", "str", ")", ";", "return", "new", "connection", "result", "(", "network", ",", "response", "headers", ",", "input", "stream", ",", "exception", ")", ";", "}"], "new_code": "public connection get connection ( ibasic request request ) { logger . d ( str ) ; headers response headers = new http headers ( ) ; input stream input stream = null ; exception exception = null ; network network = null ; string url = request . url ( ) ; try { if ( ! net util . is network available ( ) ) throw new network error ( str + str + url ) ; network = create connection and write data ( request ) ; logger . d ( str ) ; int response code = network . get response code ( ) ; response headers = parse response headers ( new uri ( request . url ( ) ) , response code , network . get response headers ( ) ) ; if ( response code = = num | | response code = = num | | response code = = num | | response code = = num ) { connection redirect connection = handle redirect ( request , response headers ) ; response headers = redirect connection . response headers ( ) ; input stream = redirect connection . server stream ( ) ; exception = redirect connection . exception ( ) ; } else if ( has response body ( request . get request method ( ) , response code ) ) { input stream = network . get server stream ( response code , response headers ) ; } logger . d ( str ) ; } catch ( malformed urlexception e ) { exception = new urlerror ( str + url + str ) ; } catch ( unknown host exception e ) { exception = new un known host error ( str + url + str ) ; } catch ( socket timeout exception e ) { exception = new timeout error ( str + url + str ) ; } catch ( exception e ) { exception = e ; } finally { if ( exception ! = null ) logger . e ( exception ) ; } logger . d ( str ) ; return new connection ( network , response headers , input stream , exception ) ; }", "new_code_tokens": ["public", "connection", "get", "connection", "(", "ibasic", "request", "request", ")", "{", "logger", ".", "d", "(", "str", ")", ";", "headers", "response", "headers", "=", "new", "http", "headers", "(", ")", ";", "input", "stream", "input", "stream", "=", "null", ";", "exception", "exception", "=", "null", ";", "network", "network", "=", "null", ";", "string", "url", "=", "request", ".", "url", "(", ")", ";", "try", "{", "if", "(", "!", "net", "util", ".", "is", "network", "available", "(", ")", ")", "throw", "new", "network", "error", "(", "str", "+", "str", "+", "url", ")", ";", "network", "=", "create", "connection", "and", "write", "data", "(", "request", ")", ";", "logger", ".", "d", "(", "str", ")", ";", "int", "response", "code", "=", "network", ".", "get", "response", "code", "(", ")", ";", "response", "headers", "=", "parse", "response", "headers", "(", "new", "uri", "(", "request", ".", "url", "(", ")", ")", ",", "response", "code", ",", "network", ".", "get", "response", "headers", "(", ")", ")", ";", "if", "(", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", ")", "{", "connection", "redirect", "connection", "=", "handle", "redirect", "(", "request", ",", "response", "headers", ")", ";", "response", "headers", "=", "redirect", "connection", ".", "response", "headers", "(", ")", ";", "input", "stream", "=", "redirect", "connection", ".", "server", "stream", "(", ")", ";", "exception", "=", "redirect", "connection", ".", "exception", "(", ")", ";", "}", "else", "if", "(", "has", "response", "body", "(", "request", ".", "get", "request", "method", "(", ")", ",", "response", "code", ")", ")", "{", "input", "stream", "=", "network", ".", "get", "server", "stream", "(", "response", "code", ",", "response", "headers", ")", ";", "}", "logger", ".", "d", "(", "str", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "exception", "=", "new", "urlerror", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "unknown", "host", "exception", "e", ")", "{", "exception", "=", "new", "un", "known", "host", "error", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "socket", "timeout", "exception", "e", ")", "{", "exception", "=", "new", "timeout", "error", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "exception", "=", "e", ";", "}", "finally", "{", "if", "(", "exception", "!", "=", "null", ")", "logger", ".", "e", "(", "exception", ")", ";", "}", "logger", ".", "d", "(", "str", ")", ";", "return", "new", "connection", "(", "network", ",", "response", "headers", ",", "input", "stream", ",", "exception", ")", ";", "}"], "span_diff_code": "<KEEP> public connection <KEEP_END> <DELETE> result <DELETE_END> <KEEP> get connection ( ibasic request request ) { logger . d ( str ) ; headers response headers = new http headers ( ) ; input stream input stream = null ; exception exception = null ; network network = null ; string url = request . url ( ) ; try { if ( ! net util . is network available ( ) ) throw new network error ( str + <KEEP_END> <INSERT> str + <INSERT_END> <KEEP> url ) ; network = create connection and write data ( request ) ; logger . d ( str ) ; int response code = network . get response code ( ) ; response headers = parse response headers ( new uri ( request . url ( ) ) , response code , network . get response headers ( ) ) ; if ( response code = = num | | response code = = num | | response code = = num | | response code = = num ) { connection <KEEP_END> <DELETE> result <DELETE_END> <KEEP> redirect connection = handle redirect ( request , response headers ) ; response headers = redirect connection . response headers ( ) ; input stream = redirect connection . server stream ( ) ; exception = redirect connection . exception ( ) ; } else if ( has response body ( request . get request method ( ) , response code ) ) { input stream = network . get server stream ( response code , response headers ) ; } logger . d ( str ) ; } catch ( malformed urlexception e ) { exception = new urlerror ( str + url + str ) ; } catch ( unknown host exception e ) { exception = new un known host error ( str + url + str ) ; } catch ( socket timeout exception e ) { exception = new timeout error ( str + url + str ) ; } catch ( exception e ) { exception = e ; } finally { if ( exception ! = null ) logger . e ( exception ) ; } logger . d ( str ) ; return new connection <KEEP_END> <REPLACE_OLD> result ( network , response headers , input stream , exception ) ; } <REPLACE_NEW> ( network , response headers , input stream , exception ) ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "connection", "<KEEP_END>", "<DELETE>", "result", "<DELETE_END>", "<KEEP>", "get", "connection", "(", "ibasic", "request", "request", ")", "{", "logger", ".", "d", "(", "str", ")", ";", "headers", "response", "headers", "=", "new", "http", "headers", "(", ")", ";", "input", "stream", "input", "stream", "=", "null", ";", "exception", "exception", "=", "null", ";", "network", "network", "=", "null", ";", "string", "url", "=", "request", ".", "url", "(", ")", ";", "try", "{", "if", "(", "!", "net", "util", ".", "is", "network", "available", "(", ")", ")", "throw", "new", "network", "error", "(", "str", "+", "<KEEP_END>", "<INSERT>", "str", "+", "<INSERT_END>", "<KEEP>", "url", ")", ";", "network", "=", "create", "connection", "and", "write", "data", "(", "request", ")", ";", "logger", ".", "d", "(", "str", ")", ";", "int", "response", "code", "=", "network", ".", "get", "response", "code", "(", ")", ";", "response", "headers", "=", "parse", "response", "headers", "(", "new", "uri", "(", "request", ".", "url", "(", ")", ")", ",", "response", "code", ",", "network", ".", "get", "response", "headers", "(", ")", ")", ";", "if", "(", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", "|", "|", "response", "code", "=", "=", "num", ")", "{", "connection", "<KEEP_END>", "<DELETE>", "result", "<DELETE_END>", "<KEEP>", "redirect", "connection", "=", "handle", "redirect", "(", "request", ",", "response", "headers", ")", ";", "response", "headers", "=", "redirect", "connection", ".", "response", "headers", "(", ")", ";", "input", "stream", "=", "redirect", "connection", ".", "server", "stream", "(", ")", ";", "exception", "=", "redirect", "connection", ".", "exception", "(", ")", ";", "}", "else", "if", "(", "has", "response", "body", "(", "request", ".", "get", "request", "method", "(", ")", ",", "response", "code", ")", ")", "{", "input", "stream", "=", "network", ".", "get", "server", "stream", "(", "response", "code", ",", "response", "headers", ")", ";", "}", "logger", ".", "d", "(", "str", ")", ";", "}", "catch", "(", "malformed", "urlexception", "e", ")", "{", "exception", "=", "new", "urlerror", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "unknown", "host", "exception", "e", ")", "{", "exception", "=", "new", "un", "known", "host", "error", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "socket", "timeout", "exception", "e", ")", "{", "exception", "=", "new", "timeout", "error", "(", "str", "+", "url", "+", "str", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "exception", "=", "e", ";", "}", "finally", "{", "if", "(", "exception", "!", "=", "null", ")", "logger", ".", "e", "(", "exception", ")", ";", "}", "logger", ".", "d", "(", "str", ")", ";", "return", "new", "connection", "<KEEP_END>", "<REPLACE_OLD>", "result", "(", "network", ",", "response", "headers", ",", "input", "stream", ",", "exception", ")", ";", "}", "<REPLACE_NEW>", "(", "network", ",", "response", "headers", ",", "input", "stream", ",", "exception", ")", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> protocol result <REPLACE_NEW> connection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "protocol", "result", "<REPLACE_NEW>", "connection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "connection", "<DELETE>", "result", "<KEEP>", "get", "<KEEP>", "connection", "<KEEP>", "(", "<KEEP>", "ibasic", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "d", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "headers", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "http", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "exception", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "network", "<KEEP>", "network", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "string", "<KEEP>", "url", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "!", "<KEEP>", "net", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "network", "<KEEP>", "available", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "network", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<INSERT>", "str", "<INSERT>", "+", "<KEEP>", "url", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "network", "<KEEP>", "=", "<KEEP>", "create", "<KEEP>", "connection", "<KEEP>", "and", "<KEEP>", "write", "<KEEP>", "data", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "d", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "int", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", "=", "<KEEP>", "network", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", "=", "<KEEP>", "parse", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "uri", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "url", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", ",", "<KEEP>", "network", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "connection", "<DELETE>", "result", "<KEEP>", "redirect", "<KEEP>", "connection", "<KEEP>", "=", "<KEEP>", "handle", "<KEEP>", "redirect", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", "=", "<KEEP>", "redirect", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "=", "<KEEP>", "redirect", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "server", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "redirect", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "has", "<KEEP>", "response", "<KEEP>", "body", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "method", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "=", "<KEEP>", "network", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "server", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "code", "<KEEP>", ",", "<KEEP>", "response", "<KEEP>", "headers", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "d", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "malformed", "<KEEP>", "urlexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "urlerror", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "url", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "unknown", "<KEEP>", "host", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "un", "<KEEP>", "known", "<KEEP>", "host", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "url", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "socket", "<KEEP>", "timeout", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "timeout", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "url", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "exception", "<KEEP>", "=", "<KEEP>", "e", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "finally", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "e", "<KEEP>", "(", "<KEEP>", "exception", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "logger", "<KEEP>", ".", "<KEEP>", "d", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "connection", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "network", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "response", "<REPLACE_OLD>", "headers", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "exception", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "response", "<REPLACE_NEW>", "headers", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "exception", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "johan_closure-compiler-9-5697", "old_comment": "true if the reference is a normal var declaration ( only normal vars can be inlined ) .", "old_comment_tokens": ["true", "if", "the", "reference", "is", "a", "normal", "var", "declaration", "(", "only", "normal", "vars", "can", "be", "inlined", ")", "."], "new_comment": "true if the reference is a normal var or function declaration .", "new_comment_tokens": ["true", "if", "the", "reference", "is", "a", "normal", "var", "or", "function", "declaration", "."], "old_code": "private boolean is valid declaration ( reference declaration ) { return declaration . get parent ( ) . get type ( ) = = token . var & & declaration . get grandparent ( ) . get type ( ) ! = token . for ; }", "old_code_tokens": ["private", "boolean", "is", "valid", "declaration", "(", "reference", "declaration", ")", "{", "return", "declaration", ".", "get", "parent", "(", ")", ".", "get", "type", "(", ")", "=", "=", "token", ".", "var", "&", "&", "declaration", ".", "get", "grandparent", "(", ")", ".", "get", "type", "(", ")", "!", "=", "token", ".", "for", ";", "}"], "new_code": "private boolean is valid declaration ( reference declaration ) { return ( declaration . get parent ( ) . get type ( ) = = token . var & & declaration . get grandparent ( ) . get type ( ) ! = token . for ) | | node util . is function declaration ( declaration . get parent ( ) ) ; }", "new_code_tokens": ["private", "boolean", "is", "valid", "declaration", "(", "reference", "declaration", ")", "{", "return", "(", "declaration", ".", "get", "parent", "(", ")", ".", "get", "type", "(", ")", "=", "=", "token", ".", "var", "&", "&", "declaration", ".", "get", "grandparent", "(", ")", ".", "get", "type", "(", ")", "!", "=", "token", ".", "for", ")", "|", "|", "node", "util", ".", "is", "function", "declaration", "(", "declaration", ".", "get", "parent", "(", ")", ")", ";", "}"], "span_diff_code": "<KEEP> private boolean is valid declaration ( reference declaration ) { return <KEEP_END> <INSERT> ( <INSERT_END> <KEEP> declaration . get parent ( ) . get type ( ) = = token . var & & declaration . get grandparent ( ) . get type ( ) ! = token . for <KEEP_END> <INSERT> ) | | node util . is function declaration ( declaration . get parent ( ) ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "is", "valid", "declaration", "(", "reference", "declaration", ")", "{", "return", "<KEEP_END>", "<INSERT>", "(", "<INSERT_END>", "<KEEP>", "declaration", ".", "get", "parent", "(", ")", ".", "get", "type", "(", ")", "=", "=", "token", ".", "var", "&", "&", "declaration", ".", "get", "grandparent", "(", ")", ".", "get", "type", "(", ")", "!", "=", "token", ".", "for", "<KEEP_END>", "<INSERT>", ")", "|", "|", "node", "util", ".", "is", "function", "declaration", "(", "declaration", ".", "get", "parent", "(", ")", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> var <INSERT_NEW_KEEP_BEFORE> var or function <INSERT_END> <DELETE> ( only normal vars can be inlined ) <DELETE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "var", "<INSERT_NEW_KEEP_BEFORE>", "var", "or", "function", "<INSERT_END>", "<DELETE>", "(", "only", "normal", "vars", "can", "be", "inlined", ")", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "is", "<KEEP>", "valid", "<KEEP>", "declaration", "<KEEP>", "(", "<KEEP>", "reference", "<KEEP>", "declaration", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "(", "<KEEP>", "declaration", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "var", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "declaration", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "grandparent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "token", "<KEEP>", ".", "<KEEP>", "for", "<INSERT>", ")", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "node", "<INSERT>", "util", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "function", "<INSERT>", "declaration", "<INSERT>", "(", "<INSERT>", "declaration", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "parent", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "wso2-extensions_tomcat-extension-openidsso-2-7450", "old_comment": "user info response object", "old_comment_tokens": ["user", "info", "response", "object"], "new_comment": "user information response object with received values .", "new_comment_tokens": ["user", "information", "response", "object", "with", "received", "values", "."], "old_code": "user info response process user info response ( httprequest request ) throws user info exception { user info response user info response = new user info response ( ) ; com . nimbusds . openid . connect . sdk . user info response response ; try { response = com . nimbusds . openid . connect . sdk . user info response . parse ( request . send ( ) ) ; } catch ( parse exception | ioexception e ) { throw new user info exception ( str , e ) ; } if ( response instanceof user info error response ) { return user info response ; } user info success response user info success response = ( user info success response ) response ; user info response . set user info ( user info success response . get user info ( ) . to jsonobject ( ) . to jsonstring ( ) ) ; return user info response ; }", "old_code_tokens": ["user", "info", "response", "process", "user", "info", "response", "(", "httprequest", "request", ")", "throws", "user", "info", "exception", "{", "user", "info", "response", "user", "info", "response", "=", "new", "user", "info", "response", "(", ")", ";", "com", ".", "nimbusds", ".", "openid", ".", "connect", ".", "sdk", ".", "user", "info", "response", "response", ";", "try", "{", "response", "=", "com", ".", "nimbusds", ".", "openid", ".", "connect", ".", "sdk", ".", "user", "info", "response", ".", "parse", "(", "request", ".", "send", "(", ")", ")", ";", "}", "catch", "(", "parse", "exception", "|", "ioexception", "e", ")", "{", "throw", "new", "user", "info", "exception", "(", "str", ",", "e", ")", ";", "}", "if", "(", "response", "instanceof", "user", "info", "error", "response", ")", "{", "return", "user", "info", "response", ";", "}", "user", "info", "success", "response", "user", "info", "success", "response", "=", "(", "user", "info", "success", "response", ")", "response", ";", "user", "info", "response", ".", "set", "user", "info", "(", "user", "info", "success", "response", ".", "get", "user", "info", "(", ")", ".", "to", "jsonobject", "(", ")", ".", "to", "jsonstring", "(", ")", ")", ";", "return", "user", "info", "response", ";", "}"], "new_code": "user information response process user info response ( httprequest request ) throws user info exception { user information response user information response = new user information response ( ) ; user info response response ; try { response = com . nimbusds . openid . connect . sdk . user info response . parse ( request . send ( ) ) ; } catch ( parse exception | ioexception e ) { throw new user info exception ( str , e ) ; } if ( response instanceof user info error response ) { return user information response ; } user info success response user info success response = ( user info success response ) response ; user information response . set user info ( user info success response . get user info ( ) . to jsonobject ( ) . to jsonstring ( ) ) ; return user information response ; }", "new_code_tokens": ["user", "information", "response", "process", "user", "info", "response", "(", "httprequest", "request", ")", "throws", "user", "info", "exception", "{", "user", "information", "response", "user", "information", "response", "=", "new", "user", "information", "response", "(", ")", ";", "user", "info", "response", "response", ";", "try", "{", "response", "=", "com", ".", "nimbusds", ".", "openid", ".", "connect", ".", "sdk", ".", "user", "info", "response", ".", "parse", "(", "request", ".", "send", "(", ")", ")", ";", "}", "catch", "(", "parse", "exception", "|", "ioexception", "e", ")", "{", "throw", "new", "user", "info", "exception", "(", "str", ",", "e", ")", ";", "}", "if", "(", "response", "instanceof", "user", "info", "error", "response", ")", "{", "return", "user", "information", "response", ";", "}", "user", "info", "success", "response", "user", "info", "success", "response", "=", "(", "user", "info", "success", "response", ")", "response", ";", "user", "information", "response", ".", "set", "user", "info", "(", "user", "info", "success", "response", ".", "get", "user", "info", "(", ")", ".", "to", "jsonobject", "(", ")", ".", "to", "jsonstring", "(", ")", ")", ";", "return", "user", "information", "response", ";", "}"], "span_diff_code": "<KEEP> user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response process user info response ( httprequest request ) throws user info exception { user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response = new user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response ( ) ; <KEEP_END> <DELETE> com . nimbusds . openid . connect . sdk . <DELETE_END> <KEEP> user info response response ; try { response = com . nimbusds . openid . connect . sdk . user info response . parse ( request . send ( ) ) ; } catch ( parse exception | ioexception e ) { throw new user info exception ( str , e ) ; } if ( response instanceof user info error response ) { return user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response ; } user info success response user info success response = ( user info success response ) response ; user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response . set user info ( user info success response . get user info ( ) . to jsonobject ( ) . to jsonstring ( ) ) ; return user <KEEP_END> <REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <KEEP> response ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "process", "user", "info", "response", "(", "httprequest", "request", ")", "throws", "user", "info", "exception", "{", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "=", "new", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", "(", ")", ";", "<KEEP_END>", "<DELETE>", "com", ".", "nimbusds", ".", "openid", ".", "connect", ".", "sdk", ".", "<DELETE_END>", "<KEEP>", "user", "info", "response", "response", ";", "try", "{", "response", "=", "com", ".", "nimbusds", ".", "openid", ".", "connect", ".", "sdk", ".", "user", "info", "response", ".", "parse", "(", "request", ".", "send", "(", ")", ")", ";", "}", "catch", "(", "parse", "exception", "|", "ioexception", "e", ")", "{", "throw", "new", "user", "info", "exception", "(", "str", ",", "e", ")", ";", "}", "if", "(", "response", "instanceof", "user", "info", "error", "response", ")", "{", "return", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", ";", "}", "user", "info", "success", "response", "user", "info", "success", "response", "=", "(", "user", "info", "success", "response", ")", "response", ";", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", ".", "set", "user", "info", "(", "user", "info", "success", "response", ".", "get", "user", "info", "(", ")", ".", "to", "jsonobject", "(", ")", ".", "to", "jsonstring", "(", ")", ")", ";", "return", "user", "<KEEP_END>", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<KEEP>", "response", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> info <REPLACE_NEW> information <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> object <INSERT_NEW_KEEP_BEFORE> object with received values . <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "object", "<INSERT_NEW_KEEP_BEFORE>", "object", "with", "received", "values", ".", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "process", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", "httprequest", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "com", "<DELETE>", ".", "<DELETE>", "nimbusds", "<DELETE>", ".", "<DELETE>", "openid", "<DELETE>", ".", "<DELETE>", "connect", "<DELETE>", ".", "<DELETE>", "sdk", "<DELETE>", ".", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "com", "<KEEP>", ".", "<KEEP>", "nimbusds", "<KEEP>", ".", "<KEEP>", "openid", "<KEEP>", ".", "<KEEP>", "connect", "<KEEP>", ".", "<KEEP>", "sdk", "<KEEP>", ".", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "request", "<KEEP>", ".", "<KEEP>", "send", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "parse", "<KEEP>", "exception", "<KEEP>", "|", "<KEEP>", "ioexception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "response", "<KEEP>", "instanceof", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "error", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "success", "<KEEP>", "response", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "success", "<KEEP>", "response", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "success", "<KEEP>", "response", "<KEEP>", ")", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "success", "<KEEP>", "response", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "user", "<KEEP>", "info", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "jsonobject", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "jsonstring", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "user", "<REPLACE_OLD>", "info", "<REPLACE_NEW>", "information", "<KEEP>", "response", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "biddyweb_checker-framework-37-6921", "old_comment": "the string representation as a comma - separated list of simple annotation names .", "old_comment_tokens": ["the", "string", "representation", "as", "a", "comma", "-", "separated", "list", "of", "simple", "annotation", "names", "."], "new_comment": "the string representation as a comma - separated list .", "new_comment_tokens": ["the", "string", "representation", "as", "a", "comma", "-", "separated", "list", "."], "old_code": "@ override public string to string ( ) { list < string > l = new linked list < > ( ) ; for ( annotation mirror a : annotations ) { declared type anno type = a . get annotation type ( ) ; type element elm = ( type element ) anno type . as element ( ) ; l . add ( elm . get simple name ( ) . to string ( ) ) ; } string s = l . to string ( ) ; return s . substring ( num , s . length ( ) - num ) ; }", "old_code_tokens": ["@", "override", "public", "string", "to", "string", "(", ")", "{", "list", "<", "string", ">", "l", "=", "new", "linked", "list", "<", ">", "(", ")", ";", "for", "(", "annotation", "mirror", "a", ":", "annotations", ")", "{", "declared", "type", "anno", "type", "=", "a", ".", "get", "annotation", "type", "(", ")", ";", "type", "element", "elm", "=", "(", "type", "element", ")", "anno", "type", ".", "as", "element", "(", ")", ";", "l", ".", "add", "(", "elm", ".", "get", "simple", "name", "(", ")", ".", "to", "string", "(", ")", ")", ";", "}", "string", "s", "=", "l", ".", "to", "string", "(", ")", ";", "return", "s", ".", "substring", "(", "num", ",", "s", ".", "length", "(", ")", "-", "num", ")", ";", "}"], "new_code": "@ override public string to string ( ) { return annotations . to string ( ) ; }", "new_code_tokens": ["@", "override", "public", "string", "to", "string", "(", ")", "{", "return", "annotations", ".", "to", "string", "(", ")", ";", "}"], "span_diff_code": "<KEEP> @ override public string to string ( ) { <KEEP_END> <REPLACE_OLD> list < string > l = new linked list < > ( ) ; for ( annotation mirror a : <REPLACE_NEW> return <REPLACE_END> <KEEP> annotations <KEEP_END> <DELETE> ) { declared type anno type = a . get annotation type ( ) ; type element elm = ( type element ) anno type . as element ( ) ; l . add ( elm . get simple name ( ) . to string ( ) ) ; } string s = l <DELETE_END> <KEEP> . to string ( ) ; <KEEP_END> <DELETE> return s . substring ( num , s . length ( ) - num ) ; <DELETE_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "string", "to", "string", "(", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "list", "<", "string", ">", "l", "=", "new", "linked", "list", "<", ">", "(", ")", ";", "for", "(", "annotation", "mirror", "a", ":", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "annotations", "<KEEP_END>", "<DELETE>", ")", "{", "declared", "type", "anno", "type", "=", "a", ".", "get", "annotation", "type", "(", ")", ";", "type", "element", "elm", "=", "(", "type", "element", ")", "anno", "type", ".", "as", "element", "(", ")", ";", "l", ".", "add", "(", "elm", ".", "get", "simple", "name", "(", ")", ".", "to", "string", "(", ")", ")", ";", "}", "string", "s", "=", "l", "<DELETE_END>", "<KEEP>", ".", "to", "string", "(", ")", ";", "<KEEP_END>", "<DELETE>", "return", "s", ".", "substring", "(", "num", ",", "s", ".", "length", "(", ")", "-", "num", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> of simple annotation names <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "of", "simple", "annotation", "names", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "string", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "l", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "linked", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "for", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "annotation", "<REPLACE_OLD>", "mirror", "<REPLACE_OLD>", "a", "<REPLACE_OLD>", ":", "<REPLACE_NEW>", "return", "<KEEP>", "annotations", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "declared", "<DELETE>", "type", "<DELETE>", "anno", "<DELETE>", "type", "<DELETE>", "=", "<DELETE>", "a", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "annotation", "<DELETE>", "type", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "type", "<DELETE>", "element", "<DELETE>", "elm", "<DELETE>", "=", "<DELETE>", "(", "<DELETE>", "type", "<DELETE>", "element", "<DELETE>", ")", "<DELETE>", "anno", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "as", "<DELETE>", "element", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "l", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "(", "<DELETE>", "elm", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "simple", "<DELETE>", "name", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "string", "<DELETE>", "s", "<DELETE>", "=", "<DELETE>", "l", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "string", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "s", "<DELETE>", ".", "<DELETE>", "substring", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ",", "<DELETE>", "s", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_rt.equinox.bundles-62-5852", "old_comment": "the istext expert instance .", "old_comment_tokens": ["the", "istext", "expert", "instance", "."], "new_comment": "the istructured text expert instance .", "new_comment_tokens": ["the", "istructured", "text", "expert", "instance", "."], "old_code": "static public istext expert get stateful expert ( string type , stext environment environment ) { stext type handler handler = stext type handler factory . get handler ( type ) ; if ( handler = = null ) throw new illegal argument exception ( str ) ; return get stateful expert ( handler , environment ) ; }", "old_code_tokens": ["static", "public", "istext", "expert", "get", "stateful", "expert", "(", "string", "type", ",", "stext", "environment", "environment", ")", "{", "stext", "type", "handler", "handler", "=", "stext", "type", "handler", "factory", ".", "get", "handler", "(", "type", ")", ";", "if", "(", "handler", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "return", "get", "stateful", "expert", "(", "handler", ",", "environment", ")", ";", "}"], "new_code": "static public istructured text expert get stateful expert ( string type , structured text environment environment ) { structured text type handler handler = structured text type handler factory . get handler ( type ) ; if ( handler = = null ) throw new illegal argument exception ( str ) ; return get stateful expert ( handler , environment ) ; }", "new_code_tokens": ["static", "public", "istructured", "text", "expert", "get", "stateful", "expert", "(", "string", "type", ",", "structured", "text", "environment", "environment", ")", "{", "structured", "text", "type", "handler", "handler", "=", "structured", "text", "type", "handler", "factory", ".", "get", "handler", "(", "type", ")", ";", "if", "(", "handler", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "return", "get", "stateful", "expert", "(", "handler", ",", "environment", ")", ";", "}"], "span_diff_code": "<KEEP> static public <KEEP_END> <REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END> <KEEP> expert get stateful expert ( string type , <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> environment environment ) { <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> type handler handler = <KEEP_END> <REPLACE_OLD> stext <REPLACE_NEW> structured text <REPLACE_END> <KEEP> type handler factory . get handler ( type ) ; if ( handler = = null ) throw new illegal argument exception ( str ) ; return get stateful expert ( handler , environment ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "static", "public", "<KEEP_END>", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>", "<KEEP>", "expert", "get", "stateful", "expert", "(", "string", "type", ",", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "environment", "environment", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "type", "handler", "handler", "=", "<KEEP_END>", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "text", "<REPLACE_END>", "<KEEP>", "type", "handler", "factory", ".", "get", "handler", "(", "type", ")", ";", "if", "(", "handler", "=", "=", "null", ")", "throw", "new", "illegal", "argument", "exception", "(", "str", ")", ";", "return", "get", "stateful", "expert", "(", "handler", ",", "environment", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> istext <REPLACE_NEW> istructured text <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "text", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "static", "<KEEP>", "public", "<REPLACE_OLD>", "istext", "<REPLACE_NEW>", "istructured", "<REPLACE_NEW>", "text", "<KEEP>", "expert", "<KEEP>", "get", "<KEEP>", "stateful", "<KEEP>", "expert", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "type", "<KEEP>", ",", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "environment", "<KEEP>", "environment", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "type", "<KEEP>", "handler", "<KEEP>", "handler", "<KEEP>", "=", "<REPLACE_OLD>", "stext", "<REPLACE_NEW>", "structured", "<REPLACE_NEW>", "text", "<KEEP>", "type", "<KEEP>", "handler", "<KEEP>", "factory", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "throw", "<KEEP>", "new", "<KEEP>", "illegal", "<KEEP>", "argument", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "get", "<KEEP>", "stateful", "<KEEP>", "expert", "<KEEP>", "(", "<KEEP>", "handler", "<KEEP>", ",", "<KEEP>", "environment", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "zjpjohn_idempiere-56-6654", "old_comment": "array of key name pairs", "old_comment_tokens": ["array", "of", "key", "name", "pairs"], "new_comment": "array of key name pair", "new_comment_tokens": ["array", "of", "key", "name", "pair"], "old_code": "public static key name pair [ ] get key name pairs ( string sql , boolean optional ) { prepared statement pstmt = null ; result set rs = null ; array list < key name pair > list = new array list < key name pair > ( ) ; if ( optional ) list . add ( new key name pair ( - num , str ) ) ; try { pstmt = db . prepare statement ( sql , null ) ; rs = pstmt . execute query ( ) ; while ( rs . next ( ) ) list . add ( new key name pair ( rs . get int ( num ) , rs . get string ( num ) ) ) ; } catch ( exception e ) { log . log ( level . severe , sql , e ) ; } finally { close ( rs ) ; close ( pstmt ) ; rs = null ; pstmt = null ; } key name pair [ ] ret value = new key name pair [ list . size ( ) ] ; list . to array ( ret value ) ; return ret value ; }", "old_code_tokens": ["public", "static", "key", "name", "pair", "[", "]", "get", "key", "name", "pairs", "(", "string", "sql", ",", "boolean", "optional", ")", "{", "prepared", "statement", "pstmt", "=", "null", ";", "result", "set", "rs", "=", "null", ";", "array", "list", "<", "key", "name", "pair", ">", "list", "=", "new", "array", "list", "<", "key", "name", "pair", ">", "(", ")", ";", "if", "(", "optional", ")", "list", ".", "add", "(", "new", "key", "name", "pair", "(", "-", "num", ",", "str", ")", ")", ";", "try", "{", "pstmt", "=", "db", ".", "prepare", "statement", "(", "sql", ",", "null", ")", ";", "rs", "=", "pstmt", ".", "execute", "query", "(", ")", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "list", ".", "add", "(", "new", "key", "name", "pair", "(", "rs", ".", "get", "int", "(", "num", ")", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ")", ";", "}", "catch", "(", "exception", "e", ")", "{", "log", ".", "log", "(", "level", ".", "severe", ",", "sql", ",", "e", ")", ";", "}", "finally", "{", "close", "(", "rs", ")", ";", "close", "(", "pstmt", ")", ";", "rs", "=", "null", ";", "pstmt", "=", "null", ";", "}", "key", "name", "pair", "[", "]", "ret", "value", "=", "new", "key", "name", "pair", "[", "list", ".", "size", "(", ")", "]", ";", "list", ".", "to", "array", "(", "ret", "value", ")", ";", "return", "ret", "value", ";", "}"], "new_code": "public static key name pair [ ] get key name pairs ( string sql , boolean optional ) { return get key name pairs ( sql , optional , ( object [ ] ) null ) ; }", "new_code_tokens": ["public", "static", "key", "name", "pair", "[", "]", "get", "key", "name", "pairs", "(", "string", "sql", ",", "boolean", "optional", ")", "{", "return", "get", "key", "name", "pairs", "(", "sql", ",", "optional", ",", "(", "object", "[", "]", ")", "null", ")", ";", "}"], "span_diff_code": "<KEEP> public static key name pair [ ] get key name pairs ( string sql , boolean optional ) { <KEEP_END> <REPLACE_OLD> prepared statement pstmt = null ; result set rs = null ; array list < <REPLACE_NEW> return get <REPLACE_END> <KEEP> key name <KEEP_END> <REPLACE_OLD> pair > list = new array list < key name pair > ( ) ; if ( optional ) list . add ( new key name pair ( - num , str ) ) ; try { pstmt = db . prepare statement <REPLACE_NEW> pairs <REPLACE_END> <KEEP> ( sql , <KEEP_END> <INSERT> optional , ( object [ ] ) <INSERT_END> <KEEP> null ) ; <KEEP_END> <DELETE> rs = pstmt . execute query ( ) ; while ( rs . next ( ) ) list . add ( new key name pair ( rs . get int ( num ) , rs . get string ( num ) ) ) ; <DELETE_END> <KEEP> } <KEEP_END> <DELETE> catch ( exception e ) { log . log ( level . severe , sql , e ) ; } finally { close ( rs ) ; close ( pstmt ) ; rs = null ; pstmt = null ; } key name pair [ ] ret value = new key name pair [ list . size ( ) ] ; list . to array ( ret value ) ; return ret value ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "key", "name", "pair", "[", "]", "get", "key", "name", "pairs", "(", "string", "sql", ",", "boolean", "optional", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "prepared", "statement", "pstmt", "=", "null", ";", "result", "set", "rs", "=", "null", ";", "array", "list", "<", "<REPLACE_NEW>", "return", "get", "<REPLACE_END>", "<KEEP>", "key", "name", "<KEEP_END>", "<REPLACE_OLD>", "pair", ">", "list", "=", "new", "array", "list", "<", "key", "name", "pair", ">", "(", ")", ";", "if", "(", "optional", ")", "list", ".", "add", "(", "new", "key", "name", "pair", "(", "-", "num", ",", "str", ")", ")", ";", "try", "{", "pstmt", "=", "db", ".", "prepare", "statement", "<REPLACE_NEW>", "pairs", "<REPLACE_END>", "<KEEP>", "(", "sql", ",", "<KEEP_END>", "<INSERT>", "optional", ",", "(", "object", "[", "]", ")", "<INSERT_END>", "<KEEP>", "null", ")", ";", "<KEEP_END>", "<DELETE>", "rs", "=", "pstmt", ".", "execute", "query", "(", ")", ";", "while", "(", "rs", ".", "next", "(", ")", ")", "list", ".", "add", "(", "new", "key", "name", "pair", "(", "rs", ".", "get", "int", "(", "num", ")", ",", "rs", ".", "get", "string", "(", "num", ")", ")", ")", ";", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "catch", "(", "exception", "e", ")", "{", "log", ".", "log", "(", "level", ".", "severe", ",", "sql", ",", "e", ")", ";", "}", "finally", "{", "close", "(", "rs", ")", ";", "close", "(", "pstmt", ")", ";", "rs", "=", "null", ";", "pstmt", "=", "null", ";", "}", "key", "name", "pair", "[", "]", "ret", "value", "=", "new", "key", "name", "pair", "[", "list", ".", "size", "(", ")", "]", ";", "list", ".", "to", "array", "(", "ret", "value", ")", ";", "return", "ret", "value", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> pairs <REPLACE_NEW> pair <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "pairs", "<REPLACE_NEW>", "pair", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<KEEP>", "key", "<KEEP>", "name", "<KEEP>", "pair", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "key", "<KEEP>", "name", "<KEEP>", "pairs", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "sql", "<KEEP>", ",", "<KEEP>", "boolean", "<KEEP>", "optional", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "prepared", "<REPLACE_OLD>", "statement", "<REPLACE_OLD>", "pstmt", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "result", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "rs", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "null", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "get", "<KEEP>", "key", "<KEEP>", "name", "<REPLACE_OLD>", "pair", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "array", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "pair", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "optional", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "key", "<REPLACE_OLD>", "name", "<REPLACE_OLD>", "pair", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "try", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "pstmt", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "db", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "prepare", "<REPLACE_OLD>", "statement", "<REPLACE_NEW>", "pairs", "<KEEP>", "(", "<KEEP>", "sql", "<KEEP>", ",", "<INSERT>", "optional", "<INSERT>", ",", "<INSERT>", "(", "<INSERT>", "object", "<INSERT>", "[", "<INSERT>", "]", "<INSERT>", ")", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "rs", "<DELETE>", "=", "<DELETE>", "pstmt", "<DELETE>", ".", "<DELETE>", "execute", "<DELETE>", "query", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "while", "<DELETE>", "(", "<DELETE>", "rs", "<DELETE>", ".", "<DELETE>", "next", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "list", "<DELETE>", ".", "<DELETE>", "add", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "key", "<DELETE>", "name", "<DELETE>", "pair", "<DELETE>", "(", "<DELETE>", "rs", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "int", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ",", "<DELETE>", "rs", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "string", "<DELETE>", "(", "<DELETE>", "num", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<KEEP>", "}", "<DELETE>", "catch", "<DELETE>", "(", "<DELETE>", "exception", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "log", "<DELETE>", ".", "<DELETE>", "log", "<DELETE>", "(", "<DELETE>", "level", "<DELETE>", ".", "<DELETE>", "severe", "<DELETE>", ",", "<DELETE>", "sql", "<DELETE>", ",", "<DELETE>", "e", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "finally", "<DELETE>", "{", "<DELETE>", "close", "<DELETE>", "(", "<DELETE>", "rs", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "close", "<DELETE>", "(", "<DELETE>", "pstmt", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "rs", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "pstmt", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "key", "<DELETE>", "name", "<DELETE>", "pair", "<DELETE>", "[", "<DELETE>", "]", "<DELETE>", "ret", "<DELETE>", "value", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "key", "<DELETE>", "name", "<DELETE>", "pair", "<DELETE>", "[", "<DELETE>", "list", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "]", "<DELETE>", ";", "<DELETE>", "list", "<DELETE>", ".", "<DELETE>", "to", "<DELETE>", "array", "<DELETE>", "(", "<DELETE>", "ret", "<DELETE>", "value", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "ret", "<DELETE>", "value", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-179-6066", "old_comment": "the service reference ( null if the service is unregistred ) .", "old_comment_tokens": ["the", "service", "reference", "(", "null", "if", "the", "service", "is", "unregistred", ")", "."], "new_comment": "the service reference ( null if the service is unregistered ) .", "new_comment_tokens": ["the", "service", "reference", "(", "null", "if", "the", "service", "is", "unregistered", ")", "."], "old_code": "public service reference get service reference ( ) { return m _ service reference ; }", "old_code_tokens": ["public", "service", "reference", "get", "service", "reference", "(", ")", "{", "return", "m", "_", "service", "reference", ";", "}"], "new_code": "public service reference get service reference ( ) { return m _ ps . get service reference ( ) ; }", "new_code_tokens": ["public", "service", "reference", "get", "service", "reference", "(", ")", "{", "return", "m", "_", "ps", ".", "get", "service", "reference", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public service reference get service reference ( ) { return m _ <KEEP_END> <INSERT> ps . get <INSERT_END> <KEEP> service reference <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "service", "reference", "get", "service", "reference", "(", ")", "{", "return", "m", "_", "<KEEP_END>", "<INSERT>", "ps", ".", "get", "<INSERT_END>", "<KEEP>", "service", "reference", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> unregistred <REPLACE_NEW> unregistered <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "unregistred", "<REPLACE_NEW>", "unregistered", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "service", "<KEEP>", "reference", "<KEEP>", "get", "<KEEP>", "service", "<KEEP>", "reference", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "m", "<KEEP>", "_", "<INSERT>", "ps", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "service", "<KEEP>", "reference", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "nickman_qreactor-3-5172", "old_comment": "the wire type", "old_comment_tokens": ["the", "wire", "type"], "new_comment": "the queue wire type", "new_comment_tokens": ["the", "queue", "wire", "type"], "old_code": "public wire type get wire type ( ) { return wire type ; }", "old_code_tokens": ["public", "wire", "type", "get", "wire", "type", "(", ")", "{", "return", "wire", "type", ";", "}"], "new_code": "public wire type get wire type ( ) { return queue . wire type ( ) ; }", "new_code_tokens": ["public", "wire", "type", "get", "wire", "type", "(", ")", "{", "return", "queue", ".", "wire", "type", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public wire type get wire type ( ) { return <KEEP_END> <INSERT> queue . <INSERT_END> <KEEP> wire type <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "wire", "type", "get", "wire", "type", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "queue", ".", "<INSERT_END>", "<KEEP>", "wire", "type", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> the <INSERT_NEW_KEEP_BEFORE> the queue <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "the", "<INSERT_NEW_KEEP_BEFORE>", "the", "queue", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "wire", "<KEEP>", "type", "<KEEP>", "get", "<KEEP>", "wire", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "queue", "<INSERT>", ".", "<KEEP>", "wire", "<KEEP>", "type", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "MarkBennett_dart-4-4838", "old_comment": "the dart node .", "old_comment_tokens": ["the", "dart", "node", "."], "new_comment": "the asnode .", "new_comment_tokens": ["the", "asnode", "."], "old_code": "public dart node get node ( ) { return node ; }", "old_code_tokens": ["public", "dart", "node", "get", "node", "(", ")", "{", "return", "node", ";", "}"], "new_code": "public astnode get node ( ) { return node ; }", "new_code_tokens": ["public", "astnode", "get", "node", "(", ")", "{", "return", "node", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> dart node <REPLACE_NEW> astnode <REPLACE_END> <KEEP> get node ( ) { return node ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "dart", "node", "<REPLACE_NEW>", "astnode", "<REPLACE_END>", "<KEEP>", "get", "node", "(", ")", "{", "return", "node", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> dart node <REPLACE_NEW> asnode <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "dart", "node", "<REPLACE_NEW>", "asnode", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "dart", "<REPLACE_OLD>", "node", "<REPLACE_NEW>", "astnode", "<KEEP>", "get", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "node", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_portals-pluto-35-3791", "old_comment": "a copy of the stored portlet preferences array .", "old_comment_tokens": ["a", "copy", "of", "the", "stored", "portlet", "preferences", "array", "."], "new_comment": "a copy of the stored portlet preferences map .", "new_comment_tokens": ["a", "copy", "of", "the", "stored", "portlet", "preferences", "map", "."], "old_code": "public internal portlet preference [ ] get stored preferences ( portlet window portlet window , portlet request request ) throws portlet container exception { string key = get formatted key ( portlet window , request ) ; internal portlet preference [ ] preferences = storage . get ( key ) ; if ( preferences = = null ) { if ( log . is debug enabled ( ) ) { log . debug ( str + key ) ; } return new internal portlet preference [ num ] ; } else { if ( log . is debug enabled ( ) ) { log . debug ( str + preferences . length + str ) ; } return clone preferences ( preferences ) ; } }", "old_code_tokens": ["public", "internal", "portlet", "preference", "[", "]", "get", "stored", "preferences", "(", "portlet", "window", "portlet", "window", ",", "portlet", "request", "request", ")", "throws", "portlet", "container", "exception", "{", "string", "key", "=", "get", "formatted", "key", "(", "portlet", "window", ",", "request", ")", ";", "internal", "portlet", "preference", "[", "]", "preferences", "=", "storage", ".", "get", "(", "key", ")", ";", "if", "(", "preferences", "=", "=", "null", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "key", ")", ";", "}", "return", "new", "internal", "portlet", "preference", "[", "num", "]", ";", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "preferences", ".", "length", "+", "str", ")", ";", "}", "return", "clone", "preferences", "(", "preferences", ")", ";", "}", "}"], "new_code": "public map < string , internal portlet preference > get stored preferences ( portlet window portlet window , portlet request request ) throws portlet container exception { string key = get formatted key ( portlet window , request ) ; map < string , internal portlet preference > preferences = storage . get ( key ) ; if ( preferences = = null ) { if ( log . is debug enabled ( ) ) { log . debug ( str + key ) ; } return collections . empty map ( ) ; } else { if ( log . is debug enabled ( ) ) { log . debug ( str + preferences . size ( ) + str ) ; } return clone preferences ( preferences ) ; } }", "new_code_tokens": ["public", "map", "<", "string", ",", "internal", "portlet", "preference", ">", "get", "stored", "preferences", "(", "portlet", "window", "portlet", "window", ",", "portlet", "request", "request", ")", "throws", "portlet", "container", "exception", "{", "string", "key", "=", "get", "formatted", "key", "(", "portlet", "window", ",", "request", ")", ";", "map", "<", "string", ",", "internal", "portlet", "preference", ">", "preferences", "=", "storage", ".", "get", "(", "key", ")", ";", "if", "(", "preferences", "=", "=", "null", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "key", ")", ";", "}", "return", "collections", ".", "empty", "map", "(", ")", ";", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "preferences", ".", "size", "(", ")", "+", "str", ")", ";", "}", "return", "clone", "preferences", "(", "preferences", ")", ";", "}", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> map < string , <INSERT_END> <KEEP> internal portlet preference <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> > <REPLACE_END> <KEEP> get stored preferences ( portlet window portlet window , portlet request request ) throws portlet container exception { string key = get formatted key ( portlet window , request ) ; <KEEP_END> <INSERT> map < string , <INSERT_END> <KEEP> internal portlet preference <KEEP_END> <REPLACE_OLD> [ ] <REPLACE_NEW> > <REPLACE_END> <KEEP> preferences = storage . get ( key ) ; if ( preferences = = null ) { if ( log . is debug enabled ( ) ) { log . debug ( str + key ) ; } return <KEEP_END> <REPLACE_OLD> new internal portlet preference [ num ] <REPLACE_NEW> collections . empty map ( ) <REPLACE_END> <KEEP> ; } else { if ( log . is debug enabled ( ) ) { log . debug ( str + preferences . <KEEP_END> <REPLACE_OLD> length <REPLACE_NEW> size ( ) <REPLACE_END> <KEEP> + str ) ; } return clone preferences ( preferences ) ; } } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "map", "<", "string", ",", "<INSERT_END>", "<KEEP>", "internal", "portlet", "preference", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "get", "stored", "preferences", "(", "portlet", "window", "portlet", "window", ",", "portlet", "request", "request", ")", "throws", "portlet", "container", "exception", "{", "string", "key", "=", "get", "formatted", "key", "(", "portlet", "window", ",", "request", ")", ";", "<KEEP_END>", "<INSERT>", "map", "<", "string", ",", "<INSERT_END>", "<KEEP>", "internal", "portlet", "preference", "<KEEP_END>", "<REPLACE_OLD>", "[", "]", "<REPLACE_NEW>", ">", "<REPLACE_END>", "<KEEP>", "preferences", "=", "storage", ".", "get", "(", "key", ")", ";", "if", "(", "preferences", "=", "=", "null", ")", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "key", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "internal", "portlet", "preference", "[", "num", "]", "<REPLACE_NEW>", "collections", ".", "empty", "map", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "else", "{", "if", "(", "log", ".", "is", "debug", "enabled", "(", ")", ")", "{", "log", ".", "debug", "(", "str", "+", "preferences", ".", "<KEEP_END>", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "size", "(", ")", "<REPLACE_END>", "<KEEP>", "+", "str", ")", ";", "}", "return", "clone", "preferences", "(", "preferences", ")", ";", "}", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> array <REPLACE_NEW> map <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "array", "<REPLACE_NEW>", "map", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "internal", "<KEEP>", "portlet", "<KEEP>", "preference", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "get", "<KEEP>", "stored", "<KEEP>", "preferences", "<KEEP>", "(", "<KEEP>", "portlet", "<KEEP>", "window", "<KEEP>", "portlet", "<KEEP>", "window", "<KEEP>", ",", "<KEEP>", "portlet", "<KEEP>", "request", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "portlet", "<KEEP>", "container", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "key", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "formatted", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "portlet", "<KEEP>", "window", "<KEEP>", ",", "<KEEP>", "request", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "map", "<INSERT>", "<", "<INSERT>", "string", "<INSERT>", ",", "<KEEP>", "internal", "<KEEP>", "portlet", "<KEEP>", "preference", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", ">", "<KEEP>", "preferences", "<KEEP>", "=", "<KEEP>", "storage", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "preferences", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "key", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "internal", "<REPLACE_OLD>", "portlet", "<REPLACE_OLD>", "preference", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", "]", "<REPLACE_NEW>", "collections", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "empty", "<REPLACE_NEW>", "map", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "debug", "<KEEP>", "enabled", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", ".", "<KEEP>", "debug", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "preferences", "<KEEP>", ".", "<REPLACE_OLD>", "length", "<REPLACE_NEW>", "size", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "clone", "<KEEP>", "preferences", "<KEEP>", "(", "<KEEP>", "preferences", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_emf.refactor.refactoring-2-4049", "old_comment": "emf refactoring supported by the controller .", "old_comment_tokens": ["emf", "refactoring", "supported", "by", "the", "controller", "."], "new_comment": "refactoring supported by the controller .", "new_comment_tokens": ["refactoring", "supported", "by", "the", "controller", "."], "old_code": "@ override public emf refactoring get parent ( ) { return this . parent ; }", "old_code_tokens": ["@", "override", "public", "emf", "refactoring", "get", "parent", "(", ")", "{", "return", "this", ".", "parent", ";", "}"], "new_code": "@ override public refactoring get parent ( ) { return this . parent ; }", "new_code_tokens": ["@", "override", "public", "refactoring", "get", "parent", "(", ")", "{", "return", "this", ".", "parent", ";", "}"], "span_diff_code": "<KEEP> @ override public <KEEP_END> <DELETE> emf <DELETE_END> <KEEP> refactoring get parent ( ) { return this . parent ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "override", "public", "<KEEP_END>", "<DELETE>", "emf", "<DELETE_END>", "<KEEP>", "refactoring", "get", "parent", "(", ")", "{", "return", "this", ".", "parent", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> emf <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "emf", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<KEEP>", "override", "<KEEP>", "public", "<DELETE>", "emf", "<KEEP>", "refactoring", "<KEEP>", "get", "<KEEP>", "parent", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "parent", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "justinedelson_felix-145-6065", "old_comment": "the resulting element array ( empty if the search failed )", "old_comment_tokens": ["the", "resulting", "element", "array", "(", "empty", "if", "the", "search", "failed", ")"], "new_comment": "the resulting element array ( null if the search failed )", "new_comment_tokens": ["the", "resulting", "element", "array", "(", "null", "if", "the", "search", "failed", ")"], "old_code": "public element [ ] get elements ( string name ) { element [ ] elems = ( element [ ] ) m _ elements . get ( name . to lower case ( ) ) ; if ( elems = = null ) { return new element [ num ] ; } else { return elems ; } }", "old_code_tokens": ["public", "element", "[", "]", "get", "elements", "(", "string", "name", ")", "{", "element", "[", "]", "elems", "=", "(", "element", "[", "]", ")", "m", "_", "elements", ".", "get", "(", "name", ".", "to", "lower", "case", "(", ")", ")", ";", "if", "(", "elems", "=", "=", "null", ")", "{", "return", "new", "element", "[", "num", "]", ";", "}", "else", "{", "return", "elems", ";", "}", "}"], "new_code": "public element [ ] get elements ( string name ) { element [ ] elems = ( element [ ] ) m _ elements . get ( name . to lower case ( ) ) ; return elems ; }", "new_code_tokens": ["public", "element", "[", "]", "get", "elements", "(", "string", "name", ")", "{", "element", "[", "]", "elems", "=", "(", "element", "[", "]", ")", "m", "_", "elements", ".", "get", "(", "name", ".", "to", "lower", "case", "(", ")", ")", ";", "return", "elems", ";", "}"], "span_diff_code": "<KEEP> public element [ ] get elements ( string name ) { element [ ] elems = ( element [ ] ) m _ elements . get ( name . to lower case ( ) ) ; <KEEP_END> <DELETE> if ( elems = = null ) { return new element [ num ] ; } else { <DELETE_END> <KEEP> return elems ; } <KEEP_END> <DELETE> } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "element", "[", "]", "get", "elements", "(", "string", "name", ")", "{", "element", "[", "]", "elems", "=", "(", "element", "[", "]", ")", "m", "_", "elements", ".", "get", "(", "name", ".", "to", "lower", "case", "(", ")", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "elems", "=", "=", "null", ")", "{", "return", "new", "element", "[", "num", "]", ";", "}", "else", "{", "<DELETE_END>", "<KEEP>", "return", "elems", ";", "}", "<KEEP_END>", "<DELETE>", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> empty <REPLACE_NEW> null <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "empty", "<REPLACE_NEW>", "null", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "element", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "elements", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "name", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "element", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "elems", "<KEEP>", "=", "<KEEP>", "(", "<KEEP>", "element", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "elements", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "name", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "lower", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "elems", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "return", "<DELETE>", "new", "<DELETE>", "element", "<DELETE>", "[", "<DELETE>", "num", "<DELETE>", "]", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "else", "<DELETE>", "{", "<KEEP>", "return", "<KEEP>", "elems", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "apache_geode-79-6962", "old_comment": "a byte representing this operation .", "old_comment_tokens": ["a", "byte", "representing", "this", "operation", "."], "new_comment": "a int representing this operation .", "new_comment_tokens": ["a", "int", "representing", "this", "operation", "."], "old_code": "public byte to ordinal ( ) { return this . op code ; }", "old_code_tokens": ["public", "byte", "to", "ordinal", "(", ")", "{", "return", "this", ".", "op", "code", ";", "}"], "new_code": "public int to ordinal ( ) { return this . op code ; }", "new_code_tokens": ["public", "int", "to", "ordinal", "(", ")", "{", "return", "this", ".", "op", "code", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> byte <REPLACE_NEW> int <REPLACE_END> <KEEP> to ordinal ( ) { return this . op code ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "byte", "<REPLACE_NEW>", "int", "<REPLACE_END>", "<KEEP>", "to", "ordinal", "(", ")", "{", "return", "this", ".", "op", "code", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> byte <REPLACE_NEW> int <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "byte", "<REPLACE_NEW>", "int", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "byte", "<REPLACE_NEW>", "int", "<KEEP>", "to", "<KEEP>", "ordinal", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "op", "<KEEP>", "code", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_calcite-321-7422", "old_comment": "validation function", "old_comment_tokens": ["validation", "function"], "new_comment": "function to perform the check", "new_comment_tokens": ["function", "to", "perform", "the", "check"], "old_code": "public static function < list , void > elasticsearch checker ( final string . . . strings ) { return new function < list , void > ( ) { @ nullable @ override public void apply ( @ nullable list actual ) { object [ ] actual array = actual = = null | | actual . is empty ( ) ? null : ( ( list ) actual . get ( num ) ) . to array ( ) ; calcite assert . assert array equal ( str , strings , actual array ) ; return null ; } } ; }", "old_code_tokens": ["public", "static", "function", "<", "list", ",", "void", ">", "elasticsearch", "checker", "(", "final", "string", ".", ".", ".", "strings", ")", "{", "return", "new", "function", "<", "list", ",", "void", ">", "(", ")", "{", "@", "nullable", "@", "override", "public", "void", "apply", "(", "@", "nullable", "list", "actual", ")", "{", "object", "[", "]", "actual", "array", "=", "actual", "=", "=", "null", "|", "|", "actual", ".", "is", "empty", "(", ")", "?", "null", ":", "(", "(", "list", ")", "actual", ".", "get", "(", "num", ")", ")", ".", "to", "array", "(", ")", ";", "calcite", "assert", ".", "assert", "array", "equal", "(", "str", ",", "strings", ",", "actual", "array", ")", ";", "return", "null", ";", "}", "}", ";", "}"], "new_code": "public static consumer < list > elasticsearch checker ( final string . . . strings ) { return actual - > { object [ ] actual array = actual = = null | | actual . is empty ( ) ? null : ( ( list ) actual . get ( num ) ) . to array ( ) ; calcite assert . assert array equal ( str , strings , actual array ) ; } ; }", "new_code_tokens": ["public", "static", "consumer", "<", "list", ">", "elasticsearch", "checker", "(", "final", "string", ".", ".", ".", "strings", ")", "{", "return", "actual", "-", ">", "{", "object", "[", "]", "actual", "array", "=", "actual", "=", "=", "null", "|", "|", "actual", ".", "is", "empty", "(", ")", "?", "null", ":", "(", "(", "list", ")", "actual", ".", "get", "(", "num", ")", ")", ".", "to", "array", "(", ")", ";", "calcite", "assert", ".", "assert", "array", "equal", "(", "str", ",", "strings", ",", "actual", "array", ")", ";", "}", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> function <REPLACE_NEW> consumer <REPLACE_END> <KEEP> < list <KEEP_END> <DELETE> , void <DELETE_END> <KEEP> > elasticsearch checker ( final string . . . strings ) { return <KEEP_END> <REPLACE_OLD> new function < list , void <REPLACE_NEW> actual - <REPLACE_END> <KEEP> > <KEEP_END> <DELETE> ( ) { @ nullable @ override public void apply ( @ nullable list actual ) <DELETE_END> <KEEP> { object [ ] actual array = actual = = null | | actual . is empty ( ) ? null : ( ( list ) actual . get ( num ) ) . to array ( ) ; calcite assert . assert array equal ( str , strings , actual array ) ; <KEEP_END> <DELETE> return null ; } <DELETE_END> <KEEP> } ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "consumer", "<REPLACE_END>", "<KEEP>", "<", "list", "<KEEP_END>", "<DELETE>", ",", "void", "<DELETE_END>", "<KEEP>", ">", "elasticsearch", "checker", "(", "final", "string", ".", ".", ".", "strings", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "new", "function", "<", "list", ",", "void", "<REPLACE_NEW>", "actual", "-", "<REPLACE_END>", "<KEEP>", ">", "<KEEP_END>", "<DELETE>", "(", ")", "{", "@", "nullable", "@", "override", "public", "void", "apply", "(", "@", "nullable", "list", "actual", ")", "<DELETE_END>", "<KEEP>", "{", "object", "[", "]", "actual", "array", "=", "actual", "=", "=", "null", "|", "|", "actual", ".", "is", "empty", "(", ")", "?", "null", ":", "(", "(", "list", ")", "actual", ".", "get", "(", "num", ")", ")", ".", "to", "array", "(", ")", ";", "calcite", "assert", ".", "assert", "array", "equal", "(", "str", ",", "strings", ",", "actual", "array", ")", ";", "<KEEP_END>", "<DELETE>", "return", "null", ";", "}", "<DELETE_END>", "<KEEP>", "}", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> validation <DELETE_END> <INSERT_OLD_KEEP_BEFORE> function <INSERT_NEW_KEEP_BEFORE> function to perform the check <INSERT_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "validation", "<DELETE_END>", "<INSERT_OLD_KEEP_BEFORE>", "function", "<INSERT_NEW_KEEP_BEFORE>", "function", "to", "perform", "the", "check", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "function", "<REPLACE_NEW>", "consumer", "<KEEP>", "<", "<KEEP>", "list", "<DELETE>", ",", "<DELETE>", "void", "<KEEP>", ">", "<KEEP>", "elasticsearch", "<KEEP>", "checker", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", ".", "<KEEP>", "strings", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "function", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "list", "<REPLACE_OLD>", ",", "<REPLACE_OLD>", "void", "<REPLACE_NEW>", "actual", "<REPLACE_NEW>", "-", "<KEEP>", ">", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "@", "<DELETE>", "nullable", "<DELETE>", "@", "<DELETE>", "override", "<DELETE>", "public", "<DELETE>", "void", "<DELETE>", "apply", "<DELETE>", "(", "<DELETE>", "@", "<DELETE>", "nullable", "<DELETE>", "list", "<DELETE>", "actual", "<DELETE>", ")", "<KEEP>", "{", "<KEEP>", "object", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "actual", "<KEEP>", "array", "<KEEP>", "=", "<KEEP>", "actual", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "|", "<KEEP>", "|", "<KEEP>", "actual", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "null", "<KEEP>", ":", "<KEEP>", "(", "<KEEP>", "(", "<KEEP>", "list", "<KEEP>", ")", "<KEEP>", "actual", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "calcite", "<KEEP>", "assert", "<KEEP>", ".", "<KEEP>", "assert", "<KEEP>", "array", "<KEEP>", "equal", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "strings", "<KEEP>", ",", "<KEEP>", "actual", "<KEEP>", "array", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "return", "<DELETE>", "null", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "}", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "pwittchen_ReactiveNetwork-1-2805", "old_comment": "rx java observable with connectivity status", "old_comment_tokens": ["rx", "java", "observable", "with", "connectivity", "status"], "new_comment": "rx java observable with connectivity class containing information about network state , type and name", "new_comment_tokens": ["rx", "java", "observable", "with", "connectivity", "class", "containing", "information", "about", "network", "state", ",", "type", "and", "name"], "old_code": "public observable < connectivity status > observe network connectivity ( final context context ) { final intent filter filter = new intent filter ( ) ; filter . add action ( connectivity manager . connectivity _ action ) ; return observable . create ( new observable . on subscribe < connectivity status > ( ) { @ override public void call ( final subscriber < ? super connectivity status > subscriber ) { final broadcast receiver receiver = new broadcast receiver ( ) { @ override public void on receive ( context context , intent intent ) { final connectivity status new status = get connectivity status ( context ) ; if ( new status ! = status ) { status = new status ; subscriber . on next ( new status ) ; } } } ; context . register receiver ( receiver , filter ) ; subscriber . add ( unsubscribe in ui thread ( new action0 ( ) { @ override public void call ( ) { context . unregister receiver ( receiver ) ; } } ) ) ; } } ) . default if empty ( connectivity status . offline ) ; }", "old_code_tokens": ["public", "observable", "<", "connectivity", "status", ">", "observe", "network", "connectivity", "(", "final", "context", "context", ")", "{", "final", "intent", "filter", "filter", "=", "new", "intent", "filter", "(", ")", ";", "filter", ".", "add", "action", "(", "connectivity", "manager", ".", "connectivity", "_", "action", ")", ";", "return", "observable", ".", "create", "(", "new", "observable", ".", "on", "subscribe", "<", "connectivity", "status", ">", "(", ")", "{", "@", "override", "public", "void", "call", "(", "final", "subscriber", "<", "?", "super", "connectivity", "status", ">", "subscriber", ")", "{", "final", "broadcast", "receiver", "receiver", "=", "new", "broadcast", "receiver", "(", ")", "{", "@", "override", "public", "void", "on", "receive", "(", "context", "context", ",", "intent", "intent", ")", "{", "final", "connectivity", "status", "new", "status", "=", "get", "connectivity", "status", "(", "context", ")", ";", "if", "(", "new", "status", "!", "=", "status", ")", "{", "status", "=", "new", "status", ";", "subscriber", ".", "on", "next", "(", "new", "status", ")", ";", "}", "}", "}", ";", "context", ".", "register", "receiver", "(", "receiver", ",", "filter", ")", ";", "subscriber", ".", "add", "(", "unsubscribe", "in", "ui", "thread", "(", "new", "action0", "(", ")", "{", "@", "override", "public", "void", "call", "(", ")", "{", "context", ".", "unregister", "receiver", "(", "receiver", ")", ";", "}", "}", ")", ")", ";", "}", "}", ")", ".", "default", "if", "empty", "(", "connectivity", "status", ".", "offline", ")", ";", "}"], "new_code": "public observable < connectivity > observe network connectivity ( final context context ) { final network observing strategy strategy ; final boolean is at least lollipop = build . version . sdk _ int > = build . version _ codes . lollipop ; if ( is at least lollipop ) { strategy = new lollipop network observing strategy ( ) ; } else { strategy = new pre lollipop network observing strategy ( ) ; } return observe network connectivity ( context , strategy ) ; }", "new_code_tokens": ["public", "observable", "<", "connectivity", ">", "observe", "network", "connectivity", "(", "final", "context", "context", ")", "{", "final", "network", "observing", "strategy", "strategy", ";", "final", "boolean", "is", "at", "least", "lollipop", "=", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "build", ".", "version", "_", "codes", ".", "lollipop", ";", "if", "(", "is", "at", "least", "lollipop", ")", "{", "strategy", "=", "new", "lollipop", "network", "observing", "strategy", "(", ")", ";", "}", "else", "{", "strategy", "=", "new", "pre", "lollipop", "network", "observing", "strategy", "(", ")", ";", "}", "return", "observe", "network", "connectivity", "(", "context", ",", "strategy", ")", ";", "}"], "span_diff_code": "<KEEP> public observable < connectivity <KEEP_END> <DELETE> status <DELETE_END> <KEEP> > observe network connectivity ( final context context ) { final <KEEP_END> <REPLACE_OLD> intent filter filter <REPLACE_NEW> network observing strategy strategy ; final boolean is at least lollipop = build . version . sdk _ int > = build . version _ codes . lollipop ; if ( is at least lollipop ) { strategy <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> intent filter <REPLACE_NEW> lollipop network observing strategy <REPLACE_END> <KEEP> ( ) ; <KEEP_END> <REPLACE_OLD> filter . add action ( connectivity manager . connectivity _ action ) ; return observable . create ( new observable . on subscribe < connectivity status > ( ) <REPLACE_NEW> } else <REPLACE_END> <KEEP> { <KEEP_END> <REPLACE_OLD> @ override public void call ( final subscriber < ? super connectivity status > subscriber ) { final broadcast receiver receiver <REPLACE_NEW> strategy <REPLACE_END> <KEEP> = new <KEEP_END> <REPLACE_OLD> broadcast receiver <REPLACE_NEW> pre lollipop network observing strategy <REPLACE_END> <KEEP> ( <KEEP_END> <DELETE> ) { @ override public void on receive ( context context , intent intent ) { final connectivity status new status = get connectivity status ( context ) ; if ( new status ! = status ) { status = new status ; subscriber . on next ( new status <DELETE_END> <KEEP> ) ; } <KEEP_END> <REPLACE_OLD> } } ; <REPLACE_NEW> return observe network connectivity ( <REPLACE_END> <KEEP> context <KEEP_END> <DELETE> . register receiver ( receiver <DELETE_END> <KEEP> , <KEEP_END> <REPLACE_OLD> filter ) ; subscriber . add ( unsubscribe in ui thread ( new action0 ( ) { @ override public void call ( ) { context . unregister receiver ( receiver <REPLACE_NEW> strategy <REPLACE_END> <KEEP> ) ; } <KEEP_END> <DELETE> } ) ) ; } } ) . default if empty ( connectivity status . offline ) ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "observable", "<", "connectivity", "<KEEP_END>", "<DELETE>", "status", "<DELETE_END>", "<KEEP>", ">", "observe", "network", "connectivity", "(", "final", "context", "context", ")", "{", "final", "<KEEP_END>", "<REPLACE_OLD>", "intent", "filter", "filter", "<REPLACE_NEW>", "network", "observing", "strategy", "strategy", ";", "final", "boolean", "is", "at", "least", "lollipop", "=", "build", ".", "version", ".", "sdk", "_", "int", ">", "=", "build", ".", "version", "_", "codes", ".", "lollipop", ";", "if", "(", "is", "at", "least", "lollipop", ")", "{", "strategy", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "intent", "filter", "<REPLACE_NEW>", "lollipop", "network", "observing", "strategy", "<REPLACE_END>", "<KEEP>", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "filter", ".", "add", "action", "(", "connectivity", "manager", ".", "connectivity", "_", "action", ")", ";", "return", "observable", ".", "create", "(", "new", "observable", ".", "on", "subscribe", "<", "connectivity", "status", ">", "(", ")", "<REPLACE_NEW>", "}", "else", "<REPLACE_END>", "<KEEP>", "{", "<KEEP_END>", "<REPLACE_OLD>", "@", "override", "public", "void", "call", "(", "final", "subscriber", "<", "?", "super", "connectivity", "status", ">", "subscriber", ")", "{", "final", "broadcast", "receiver", "receiver", "<REPLACE_NEW>", "strategy", "<REPLACE_END>", "<KEEP>", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "broadcast", "receiver", "<REPLACE_NEW>", "pre", "lollipop", "network", "observing", "strategy", "<REPLACE_END>", "<KEEP>", "(", "<KEEP_END>", "<DELETE>", ")", "{", "@", "override", "public", "void", "on", "receive", "(", "context", "context", ",", "intent", "intent", ")", "{", "final", "connectivity", "status", "new", "status", "=", "get", "connectivity", "status", "(", "context", ")", ";", "if", "(", "new", "status", "!", "=", "status", ")", "{", "status", "=", "new", "status", ";", "subscriber", ".", "on", "next", "(", "new", "status", "<DELETE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<REPLACE_OLD>", "}", "}", ";", "<REPLACE_NEW>", "return", "observe", "network", "connectivity", "(", "<REPLACE_END>", "<KEEP>", "context", "<KEEP_END>", "<DELETE>", ".", "register", "receiver", "(", "receiver", "<DELETE_END>", "<KEEP>", ",", "<KEEP_END>", "<REPLACE_OLD>", "filter", ")", ";", "subscriber", ".", "add", "(", "unsubscribe", "in", "ui", "thread", "(", "new", "action0", "(", ")", "{", "@", "override", "public", "void", "call", "(", ")", "{", "context", ".", "unregister", "receiver", "(", "receiver", "<REPLACE_NEW>", "strategy", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<DELETE>", "}", ")", ")", ";", "}", "}", ")", ".", "default", "if", "empty", "(", "connectivity", "status", ".", "offline", ")", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> status <REPLACE_NEW> class containing information about network state , type and name <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "status", "<REPLACE_NEW>", "class", "containing", "information", "about", "network", "state", ",", "type", "and", "name", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "observable", "<KEEP>", "<", "<KEEP>", "connectivity", "<DELETE>", "status", "<KEEP>", ">", "<KEEP>", "observe", "<KEEP>", "network", "<KEEP>", "connectivity", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "context", "<KEEP>", "context", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<REPLACE_OLD>", "intent", "<REPLACE_OLD>", "filter", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", "observing", "<REPLACE_NEW>", "strategy", "<REPLACE_NEW>", "strategy", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "final", "<REPLACE_NEW>", "boolean", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "at", "<REPLACE_NEW>", "least", "<REPLACE_NEW>", "lollipop", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "sdk", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", ">", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "build", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "version", "<REPLACE_NEW>", "_", "<REPLACE_NEW>", "codes", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "lollipop", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "is", "<REPLACE_NEW>", "at", "<REPLACE_NEW>", "least", "<REPLACE_NEW>", "lollipop", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "strategy", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "intent", "<REPLACE_OLD>", "filter", "<REPLACE_NEW>", "lollipop", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", "observing", "<REPLACE_NEW>", "strategy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "filter", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "manager", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "action", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "observable", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "create", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "observable", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "on", "<REPLACE_OLD>", "subscribe", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "else", "<KEEP>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "override", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "call", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "subscriber", "<REPLACE_OLD>", "<", "<REPLACE_OLD>", "?", "<REPLACE_OLD>", "super", "<REPLACE_OLD>", "connectivity", "<REPLACE_OLD>", "status", "<REPLACE_OLD>", ">", "<REPLACE_OLD>", "subscriber", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "final", "<REPLACE_OLD>", "broadcast", "<REPLACE_OLD>", "receiver", "<REPLACE_OLD>", "receiver", "<REPLACE_NEW>", "strategy", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "broadcast", "<REPLACE_OLD>", "receiver", "<REPLACE_NEW>", "pre", "<REPLACE_NEW>", "lollipop", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", "observing", "<REPLACE_NEW>", "strategy", "<KEEP>", "(", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "@", "<DELETE>", "override", "<DELETE>", "public", "<DELETE>", "void", "<DELETE>", "on", "<DELETE>", "receive", "<DELETE>", "(", "<DELETE>", "context", "<DELETE>", "context", "<DELETE>", ",", "<DELETE>", "intent", "<DELETE>", "intent", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "final", "<DELETE>", "connectivity", "<DELETE>", "status", "<DELETE>", "new", "<DELETE>", "status", "<DELETE>", "=", "<DELETE>", "get", "<DELETE>", "connectivity", "<DELETE>", "status", "<DELETE>", "(", "<DELETE>", "context", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "status", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "status", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "status", "<DELETE>", "=", "<DELETE>", "new", "<DELETE>", "status", "<DELETE>", ";", "<DELETE>", "subscriber", "<DELETE>", ".", "<DELETE>", "on", "<DELETE>", "next", "<DELETE>", "(", "<DELETE>", "new", "<DELETE>", "status", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "observe", "<REPLACE_NEW>", "network", "<REPLACE_NEW>", "connectivity", "<REPLACE_NEW>", "(", "<KEEP>", "context", "<DELETE>", ".", "<DELETE>", "register", "<DELETE>", "receiver", "<DELETE>", "(", "<DELETE>", "receiver", "<KEEP>", ",", "<REPLACE_OLD>", "filter", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "subscriber", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "add", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "unsubscribe", "<REPLACE_OLD>", "in", "<REPLACE_OLD>", "ui", "<REPLACE_OLD>", "thread", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "new", "<REPLACE_OLD>", "action0", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "@", "<REPLACE_OLD>", "override", "<REPLACE_OLD>", "public", "<REPLACE_OLD>", "void", "<REPLACE_OLD>", "call", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", "{", "<REPLACE_OLD>", "context", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "unregister", "<REPLACE_OLD>", "receiver", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "receiver", "<REPLACE_NEW>", "strategy", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<DELETE>", "}", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<DELETE>", "}", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "default", "<DELETE>", "if", "<DELETE>", "empty", "<DELETE>", "(", "<DELETE>", "connectivity", "<DELETE>", "status", "<DELETE>", ".", "<DELETE>", "offline", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "svn2github_jcaptcha-2-4816", "old_comment": "a line", "old_comment_tokens": ["a", "line"], "new_comment": "an audio input stream", "new_comment_tokens": ["an", "audio", "input", "stream"], "old_code": "public final sound get sound challenge ( ) { return this . challenge ; }", "old_code_tokens": ["public", "final", "sound", "get", "sound", "challenge", "(", ")", "{", "return", "this", ".", "challenge", ";", "}"], "new_code": "public final audio input stream get sound challenge ( ) { return this . challenge ; }", "new_code_tokens": ["public", "final", "audio", "input", "stream", "get", "sound", "challenge", "(", ")", "{", "return", "this", ".", "challenge", ";", "}"], "span_diff_code": "<KEEP> public final <KEEP_END> <REPLACE_OLD> sound <REPLACE_NEW> audio input stream <REPLACE_END> <KEEP> get sound challenge ( ) { return this . challenge ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "final", "<KEEP_END>", "<REPLACE_OLD>", "sound", "<REPLACE_NEW>", "audio", "input", "stream", "<REPLACE_END>", "<KEEP>", "get", "sound", "challenge", "(", ")", "{", "return", "this", ".", "challenge", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a line <REPLACE_NEW> an audio input stream <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "line", "<REPLACE_NEW>", "an", "audio", "input", "stream", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "final", "<REPLACE_OLD>", "sound", "<REPLACE_NEW>", "audio", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<KEEP>", "get", "<KEEP>", "sound", "<KEEP>", "challenge", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "challenge", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "yahoo_bullet-core-13-4504", "old_comment": "the parsed , configured specification .", "old_comment_tokens": ["the", "parsed", ",", "configured", "specification", "."], "new_comment": "the parsed , configured query .", "new_comment_tokens": ["the", "parsed", ",", "configured", "query", "."], "old_code": "public static specification parse ( string query string , bullet config config ) { specification specification = gson . from json ( query string , specification . class ) ; specification . configure ( config ) ; return specification ; }", "old_code_tokens": ["public", "static", "specification", "parse", "(", "string", "query", "string", ",", "bullet", "config", "config", ")", "{", "specification", "specification", "=", "gson", ".", "from", "json", "(", "query", "string", ",", "specification", ".", "class", ")", ";", "specification", ".", "configure", "(", "config", ")", ";", "return", "specification", ";", "}"], "new_code": "public static query parse ( string query string , bullet config config ) { query query = gson . from json ( query string , query . class ) ; query . configure ( config ) ; return query ; }", "new_code_tokens": ["public", "static", "query", "parse", "(", "string", "query", "string", ",", "bullet", "config", "config", ")", "{", "query", "query", "=", "gson", ".", "from", "json", "(", "query", "string", ",", "query", ".", "class", ")", ";", "query", ".", "configure", "(", "config", ")", ";", "return", "query", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> specification <REPLACE_NEW> query <REPLACE_END> <KEEP> parse ( string query string , bullet config config ) { <KEEP_END> <REPLACE_OLD> specification specification <REPLACE_NEW> query query <REPLACE_END> <KEEP> = gson . from json ( query string , <KEEP_END> <REPLACE_OLD> specification <REPLACE_NEW> query <REPLACE_END> <KEEP> . class ) ; <KEEP_END> <REPLACE_OLD> specification <REPLACE_NEW> query <REPLACE_END> <KEEP> . configure ( config ) ; return <KEEP_END> <REPLACE_OLD> specification <REPLACE_NEW> query <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<REPLACE_END>", "<KEEP>", "parse", "(", "string", "query", "string", ",", "bullet", "config", "config", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "specification", "specification", "<REPLACE_NEW>", "query", "query", "<REPLACE_END>", "<KEEP>", "=", "gson", ".", "from", "json", "(", "query", "string", ",", "<KEEP_END>", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<REPLACE_END>", "<KEEP>", ".", "class", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<REPLACE_END>", "<KEEP>", ".", "configure", "(", "config", ")", ";", "return", "<KEEP_END>", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> specification <REPLACE_NEW> query <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<KEEP>", "parse", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", ",", "<KEEP>", "bullet", "<KEEP>", "config", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "specification", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<REPLACE_NEW>", "query", "<KEEP>", "=", "<KEEP>", "gson", "<KEEP>", ".", "<KEEP>", "from", "<KEEP>", "json", "<KEEP>", "(", "<KEEP>", "query", "<KEEP>", "string", "<KEEP>", ",", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<KEEP>", ".", "<KEEP>", "class", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<KEEP>", ".", "<KEEP>", "configure", "<KEEP>", "(", "<KEEP>", "config", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<REPLACE_OLD>", "specification", "<REPLACE_NEW>", "query", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_batik-50-4420", "old_comment": "the extension handler used by this svggraphics2 d instance", "old_comment_tokens": ["the", "extension", "handler", "used", "by", "this", "svggraphics2", "d", "instance"], "new_comment": "the extension handler used by the domtree manager .", "new_comment_tokens": ["the", "extension", "handler", "used", "by", "the", "domtree", "manager", "."], "old_code": "public extension handler get extension handler ( ) { return extension handler ; }", "old_code_tokens": ["public", "extension", "handler", "get", "extension", "handler", "(", ")", "{", "return", "extension", "handler", ";", "}"], "new_code": "public extension handler get extension handler ( ) { return generator context . get extension handler ( ) ; }", "new_code_tokens": ["public", "extension", "handler", "get", "extension", "handler", "(", ")", "{", "return", "generator", "context", ".", "get", "extension", "handler", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public extension handler get extension handler ( ) { return <KEEP_END> <INSERT> generator context . get <INSERT_END> <KEEP> extension handler <KEEP_END> <INSERT> ( ) <INSERT_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "extension", "handler", "get", "extension", "handler", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "generator", "context", ".", "get", "<INSERT_END>", "<KEEP>", "extension", "handler", "<KEEP_END>", "<INSERT>", "(", ")", "<INSERT_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> this svggraphics2 d instance <REPLACE_NEW> the domtree manager . <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "this", "svggraphics2", "d", "instance", "<REPLACE_NEW>", "the", "domtree", "manager", ".", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "extension", "<KEEP>", "handler", "<KEEP>", "get", "<KEEP>", "extension", "<KEEP>", "handler", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "generator", "<INSERT>", "context", "<INSERT>", ".", "<INSERT>", "get", "<KEEP>", "extension", "<KEEP>", "handler", "<INSERT>", "(", "<INSERT>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "apache_activemq-artemis-27-5472", "old_comment": "the hornet qconnection factory", "old_comment_tokens": ["the", "hornet", "qconnection", "factory"], "new_comment": "the active mqconnection factory", "new_comment_tokens": ["the", "active", "mqconnection", "factory"], "old_code": "public static hornet qconnection factory create connection factory without ha ( final discovery group configuration group configuration , jmsfactory type jms factory type ) { hornet qconnection factory factory = null ; if ( jms factory type . equals ( jmsfactory type . cf ) ) { factory = new hornet qjmsconnection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ cf ) ) { factory = new hornet qqueue connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ cf ) ) { factory = new hornet qtopic connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . xa _ cf ) ) { factory = new hornet qxaconnection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ xa _ cf ) ) { factory = new hornet qxaqueue connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ xa _ cf ) ) { factory = new hornet qxatopic connection factory ( false , group configuration ) ; } return factory ; }", "old_code_tokens": ["public", "static", "hornet", "qconnection", "factory", "create", "connection", "factory", "without", "ha", "(", "final", "discovery", "group", "configuration", "group", "configuration", ",", "jmsfactory", "type", "jms", "factory", "type", ")", "{", "hornet", "qconnection", "factory", "factory", "=", "null", ";", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qjmsconnection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qqueue", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qtopic", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qxaconnection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qxaqueue", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "hornet", "qxatopic", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "return", "factory", ";", "}"], "new_code": "public static active mqconnection factory create connection factory without ha ( final discovery group configuration group configuration , jmsfactory type jms factory type ) { active mqconnection factory factory = null ; if ( jms factory type . equals ( jmsfactory type . cf ) ) { factory = new active mqjmsconnection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ cf ) ) { factory = new active mqqueue connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ cf ) ) { factory = new active mqtopic connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . xa _ cf ) ) { factory = new active mqxaconnection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ xa _ cf ) ) { factory = new active mqxaqueue connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ xa _ cf ) ) { factory = new active mqxatopic connection factory ( false , group configuration ) ; } return factory ; }", "new_code_tokens": ["public", "static", "active", "mqconnection", "factory", "create", "connection", "factory", "without", "ha", "(", "final", "discovery", "group", "configuration", "group", "configuration", ",", "jmsfactory", "type", "jms", "factory", "type", ")", "{", "active", "mqconnection", "factory", "factory", "=", "null", ";", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqjmsconnection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqqueue", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqtopic", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqxaconnection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqxaqueue", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "active", "mqxatopic", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "return", "factory", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> hornet qconnection <REPLACE_NEW> active mqconnection <REPLACE_END> <KEEP> factory create connection factory without ha ( final discovery group configuration group configuration , jmsfactory type jms factory type ) { <KEEP_END> <REPLACE_OLD> hornet qconnection <REPLACE_NEW> active mqconnection <REPLACE_END> <KEEP> factory factory = null ; if ( jms factory type . equals ( jmsfactory type . cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qjmsconnection <REPLACE_NEW> active mqjmsconnection <REPLACE_END> <KEEP> factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qqueue <REPLACE_NEW> active mqqueue <REPLACE_END> <KEEP> connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qtopic <REPLACE_NEW> active mqtopic <REPLACE_END> <KEEP> connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . xa _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qxaconnection <REPLACE_NEW> active mqxaconnection <REPLACE_END> <KEEP> factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . queue _ xa _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qxaqueue <REPLACE_NEW> active mqxaqueue <REPLACE_END> <KEEP> connection factory ( false , group configuration ) ; } else if ( jms factory type . equals ( jmsfactory type . topic _ xa _ cf ) ) { factory = new <KEEP_END> <REPLACE_OLD> hornet qxatopic <REPLACE_NEW> active mqxatopic <REPLACE_END> <KEEP> connection factory ( false , group configuration ) ; } return factory ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qconnection", "<REPLACE_NEW>", "active", "mqconnection", "<REPLACE_END>", "<KEEP>", "factory", "create", "connection", "factory", "without", "ha", "(", "final", "discovery", "group", "configuration", "group", "configuration", ",", "jmsfactory", "type", "jms", "factory", "type", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qconnection", "<REPLACE_NEW>", "active", "mqconnection", "<REPLACE_END>", "<KEEP>", "factory", "factory", "=", "null", ";", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qjmsconnection", "<REPLACE_NEW>", "active", "mqjmsconnection", "<REPLACE_END>", "<KEEP>", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qqueue", "<REPLACE_NEW>", "active", "mqqueue", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qtopic", "<REPLACE_NEW>", "active", "mqtopic", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qxaconnection", "<REPLACE_NEW>", "active", "mqxaconnection", "<REPLACE_END>", "<KEEP>", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "queue", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qxaqueue", "<REPLACE_NEW>", "active", "mqxaqueue", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "else", "if", "(", "jms", "factory", "type", ".", "equals", "(", "jmsfactory", "type", ".", "topic", "_", "xa", "_", "cf", ")", ")", "{", "factory", "=", "new", "<KEEP_END>", "<REPLACE_OLD>", "hornet", "qxatopic", "<REPLACE_NEW>", "active", "mqxatopic", "<REPLACE_END>", "<KEEP>", "connection", "factory", "(", "false", ",", "group", "configuration", ")", ";", "}", "return", "factory", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> hornet qconnection <REPLACE_NEW> active mqconnection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "hornet", "qconnection", "<REPLACE_NEW>", "active", "mqconnection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqconnection", "<KEEP>", "factory", "<KEEP>", "create", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "without", "<KEEP>", "ha", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "discovery", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ",", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqconnection", "<KEEP>", "factory", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qjmsconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqjmsconnection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "queue", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qqueue", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqqueue", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "topic", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qtopic", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqtopic", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "xa", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qxaconnection", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqxaconnection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "queue", "<KEEP>", "_", "<KEEP>", "xa", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qxaqueue", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqxaqueue", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "jms", "<KEEP>", "factory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "jmsfactory", "<KEEP>", "type", "<KEEP>", ".", "<KEEP>", "topic", "<KEEP>", "_", "<KEEP>", "xa", "<KEEP>", "_", "<KEEP>", "cf", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "factory", "<KEEP>", "=", "<KEEP>", "new", "<REPLACE_OLD>", "hornet", "<REPLACE_OLD>", "qxatopic", "<REPLACE_NEW>", "active", "<REPLACE_NEW>", "mqxatopic", "<KEEP>", "connection", "<KEEP>", "factory", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "group", "<KEEP>", "configuration", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "factory", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "iSoron_uhabits-2-2471", "old_comment": "the habit at given position", "old_comment_tokens": ["the", "habit", "at", "given", "position"], "new_comment": "the habit at given position or null if position is invalid", "new_comment_tokens": ["the", "habit", "at", "given", "position", "or", "null", "if", "position", "is", "invalid"], "old_code": "@ non null public habit get habit by position ( int position ) { return data . habits . get ( position ) ; }", "old_code_tokens": ["@", "non", "null", "public", "habit", "get", "habit", "by", "position", "(", "int", "position", ")", "{", "return", "data", ".", "habits", ".", "get", "(", "position", ")", ";", "}"], "new_code": "@ nullable public synchronized habit get habit by position ( int position ) { if ( position < num | | position > = data . habits . size ( ) ) return null ; return data . habits . get ( position ) ; }", "new_code_tokens": ["@", "nullable", "public", "synchronized", "habit", "get", "habit", "by", "position", "(", "int", "position", ")", "{", "if", "(", "position", "<", "num", "|", "|", "position", ">", "=", "data", ".", "habits", ".", "size", "(", ")", ")", "return", "null", ";", "return", "data", ".", "habits", ".", "get", "(", "position", ")", ";", "}"], "span_diff_code": "<KEEP> @ <KEEP_END> <REPLACE_OLD> non null <REPLACE_NEW> nullable <REPLACE_END> <KEEP> public <KEEP_END> <INSERT> synchronized <INSERT_END> <KEEP> habit get habit by position ( int position ) { <KEEP_END> <INSERT> if ( position < num | | position > = data . habits . size ( ) ) return null ; <INSERT_END> <KEEP> return data . habits . get ( position ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "@", "<KEEP_END>", "<REPLACE_OLD>", "non", "null", "<REPLACE_NEW>", "nullable", "<REPLACE_END>", "<KEEP>", "public", "<KEEP_END>", "<INSERT>", "synchronized", "<INSERT_END>", "<KEEP>", "habit", "get", "habit", "by", "position", "(", "int", "position", ")", "{", "<KEEP_END>", "<INSERT>", "if", "(", "position", "<", "num", "|", "|", "position", ">", "=", "data", ".", "habits", ".", "size", "(", ")", ")", "return", "null", ";", "<INSERT_END>", "<KEEP>", "return", "data", ".", "habits", ".", "get", "(", "position", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_BEFORE> position <INSERT_NEW_KEEP_BEFORE> position or null if position is invalid <INSERT_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_BEFORE>", "position", "<INSERT_NEW_KEEP_BEFORE>", "position", "or", "null", "if", "position", "is", "invalid", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "@", "<REPLACE_OLD>", "non", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "nullable", "<KEEP>", "public", "<INSERT>", "synchronized", "<KEEP>", "habit", "<KEEP>", "get", "<KEEP>", "habit", "<KEEP>", "by", "<KEEP>", "position", "<KEEP>", "(", "<KEEP>", "int", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "position", "<INSERT>", "<", "<INSERT>", "num", "<INSERT>", "|", "<INSERT>", "|", "<INSERT>", "position", "<INSERT>", ">", "<INSERT>", "=", "<INSERT>", "data", "<INSERT>", ".", "<INSERT>", "habits", "<INSERT>", ".", "<INSERT>", "size", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<KEEP>", "return", "<KEEP>", "data", "<KEEP>", ".", "<KEEP>", "habits", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "position", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lstoll_libvirt-java-5-4354", "old_comment": "a vir error level", "old_comment_tokens": ["a", "vir", "error", "level"], "new_comment": "a error level", "new_comment_tokens": ["a", "error", "level"], "old_code": "public vir error level get level ( ) { return level ; }", "old_code_tokens": ["public", "vir", "error", "level", "get", "level", "(", ")", "{", "return", "level", ";", "}"], "new_code": "public error level get level ( ) { return level ; }", "new_code_tokens": ["public", "error", "level", "get", "level", "(", ")", "{", "return", "level", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> error level get level ( ) { return level ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "error", "level", "get", "level", "(", ")", "{", "return", "level", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> vir <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "vir", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "vir", "<KEEP>", "error", "<KEEP>", "level", "<KEEP>", "get", "<KEEP>", "level", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "level", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lstoll_libvirt-java-4-4353", "old_comment": "a vir error domain", "old_comment_tokens": ["a", "vir", "error", "domain"], "new_comment": "a error domain", "new_comment_tokens": ["a", "error", "domain"], "old_code": "public vir error domain get domain ( ) { return domain ; }", "old_code_tokens": ["public", "vir", "error", "domain", "get", "domain", "(", ")", "{", "return", "domain", ";", "}"], "new_code": "public error domain get domain ( ) { return domain ; }", "new_code_tokens": ["public", "error", "domain", "get", "domain", "(", ")", "{", "return", "domain", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> error domain get domain ( ) { return domain ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "error", "domain", "get", "domain", "(", ")", "{", "return", "domain", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> vir <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "vir", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "vir", "<KEEP>", "error", "<KEEP>", "domain", "<KEEP>", "get", "<KEEP>", "domain", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "domain", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "zjpjohn_idempiere-92-6658", "old_comment": "the collection the x _ ad _ replication document", "old_comment_tokens": ["the", "collection", "the", "x", "_", "ad", "_", "replication", "document"], "new_comment": "the list the x _ ad _ replication document", "new_comment_tokens": ["the", "list", "the", "x", "_", "ad", "_", "replication", "document"], "old_code": "public collection < x _ ad _ replication document > get replication documents ( ) { string where clause = str ; return new query ( get ctx ( ) , x _ ad _ replication document . table _ name , where clause , get _ trx name ( ) ) . set client _ id ( ) . set parameters ( get ad _ replication strategy _ id ( ) ) . set only active records ( true ) . set apply access filter ( false ) . list ( ) ; }", "old_code_tokens": ["public", "collection", "<", "x", "_", "ad", "_", "replication", "document", ">", "get", "replication", "documents", "(", ")", "{", "string", "where", "clause", "=", "str", ";", "return", "new", "query", "(", "get", "ctx", "(", ")", ",", "x", "_", "ad", "_", "replication", "document", ".", "table", "_", "name", ",", "where", "clause", ",", "get", "_", "trx", "name", "(", ")", ")", ".", "set", "client", "_", "id", "(", ")", ".", "set", "parameters", "(", "get", "ad", "_", "replication", "strategy", "_", "id", "(", ")", ")", ".", "set", "only", "active", "records", "(", "true", ")", ".", "set", "apply", "access", "filter", "(", "false", ")", ".", "list", "(", ")", ";", "}"], "new_code": "public list < x _ ad _ replication document > get replication documents ( ) { final string where clause = i _ ad _ replication document . columnname _ ad _ replication strategy _ id + str ; return new query ( get ctx ( ) , i _ ad _ replication document . table _ name , where clause , get _ trx name ( ) ) . set client _ id ( ) . set parameters ( get ad _ replication strategy _ id ( ) ) . set only active records ( true ) . set apply access filter ( false ) . list ( ) ; }", "new_code_tokens": ["public", "list", "<", "x", "_", "ad", "_", "replication", "document", ">", "get", "replication", "documents", "(", ")", "{", "final", "string", "where", "clause", "=", "i", "_", "ad", "_", "replication", "document", ".", "columnname", "_", "ad", "_", "replication", "strategy", "_", "id", "+", "str", ";", "return", "new", "query", "(", "get", "ctx", "(", ")", ",", "i", "_", "ad", "_", "replication", "document", ".", "table", "_", "name", ",", "where", "clause", ",", "get", "_", "trx", "name", "(", ")", ")", ".", "set", "client", "_", "id", "(", ")", ".", "set", "parameters", "(", "get", "ad", "_", "replication", "strategy", "_", "id", "(", ")", ")", ".", "set", "only", "active", "records", "(", "true", ")", ".", "set", "apply", "access", "filter", "(", "false", ")", ".", "list", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END> <KEEP> < x _ ad _ replication document > get replication documents ( ) { <KEEP_END> <INSERT> final <INSERT_END> <KEEP> string where clause = <KEEP_END> <INSERT> i _ ad _ replication document . columnname _ ad _ replication strategy _ id + <INSERT_END> <KEEP> str ; return new query ( get ctx ( ) , <KEEP_END> <REPLACE_OLD> x <REPLACE_NEW> i <REPLACE_END> <KEEP> _ ad _ replication document . table _ name , where clause , get _ trx name ( ) ) . set client _ id ( ) . set parameters ( get ad _ replication strategy _ id ( ) ) . set only active records ( true ) . set apply access filter ( false ) . list ( ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>", "<KEEP>", "<", "x", "_", "ad", "_", "replication", "document", ">", "get", "replication", "documents", "(", ")", "{", "<KEEP_END>", "<INSERT>", "final", "<INSERT_END>", "<KEEP>", "string", "where", "clause", "=", "<KEEP_END>", "<INSERT>", "i", "_", "ad", "_", "replication", "document", ".", "columnname", "_", "ad", "_", "replication", "strategy", "_", "id", "+", "<INSERT_END>", "<KEEP>", "str", ";", "return", "new", "query", "(", "get", "ctx", "(", ")", ",", "<KEEP_END>", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "i", "<REPLACE_END>", "<KEEP>", "_", "ad", "_", "replication", "document", ".", "table", "_", "name", ",", "where", "clause", ",", "get", "_", "trx", "name", "(", ")", ")", ".", "set", "client", "_", "id", "(", ")", ".", "set", "parameters", "(", "get", "ad", "_", "replication", "strategy", "_", "id", "(", ")", ")", ".", "set", "only", "active", "records", "(", "true", ")", ".", "set", "apply", "access", "filter", "(", "false", ")", ".", "list", "(", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> collection <REPLACE_NEW> list <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "collection", "<REPLACE_NEW>", "list", "<KEEP>", "<", "<KEEP>", "x", "<KEEP>", "_", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "document", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "replication", "<KEEP>", "documents", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<INSERT>", "final", "<KEEP>", "string", "<KEEP>", "where", "<KEEP>", "clause", "<KEEP>", "=", "<INSERT>", "i", "<INSERT>", "_", "<INSERT>", "ad", "<INSERT>", "_", "<INSERT>", "replication", "<INSERT>", "document", "<INSERT>", ".", "<INSERT>", "columnname", "<INSERT>", "_", "<INSERT>", "ad", "<INSERT>", "_", "<INSERT>", "replication", "<INSERT>", "strategy", "<INSERT>", "_", "<INSERT>", "id", "<INSERT>", "+", "<KEEP>", "str", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "new", "<KEEP>", "query", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "ctx", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<REPLACE_OLD>", "x", "<REPLACE_NEW>", "i", "<KEEP>", "_", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "document", "<KEEP>", ".", "<KEEP>", "table", "<KEEP>", "_", "<KEEP>", "name", "<KEEP>", ",", "<KEEP>", "where", "<KEEP>", "clause", "<KEEP>", ",", "<KEEP>", "get", "<KEEP>", "_", "<KEEP>", "trx", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "client", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "parameters", "<KEEP>", "(", "<KEEP>", "get", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "replication", "<KEEP>", "strategy", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "only", "<KEEP>", "active", "<KEEP>", "records", "<KEEP>", "(", "<KEEP>", "true", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "apply", "<KEEP>", "access", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", "false", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "zjpjohn_idempiere-102-6659", "old_comment": "adempiere color or null", "old_comment_tokens": ["adempiere", "color", "or", "null"], "new_comment": "mcolor or null", "new_comment_tokens": ["mcolor", "or", "null"], "old_code": "public compiere color get color ( ) { if ( m _ vo . ad _ color _ id = = num ) return null ; mcolor mc = new mcolor ( m _ vo . ctx , m _ vo . ad _ color _ id , null ) ; return mc . get adempiere color ( ) ; }", "old_code_tokens": ["public", "compiere", "color", "get", "color", "(", ")", "{", "if", "(", "m", "_", "vo", ".", "ad", "_", "color", "_", "id", "=", "=", "num", ")", "return", "null", ";", "mcolor", "mc", "=", "new", "mcolor", "(", "m", "_", "vo", ".", "ctx", ",", "m", "_", "vo", ".", "ad", "_", "color", "_", "id", ",", "null", ")", ";", "return", "mc", ".", "get", "adempiere", "color", "(", ")", ";", "}"], "new_code": "public mcolor get color ( ) { if ( m _ vo . ad _ color _ id = = num ) return null ; mcolor mc = new mcolor ( m _ vo . ctx , m _ vo . ad _ color _ id , null ) ; return mc ; }", "new_code_tokens": ["public", "mcolor", "get", "color", "(", ")", "{", "if", "(", "m", "_", "vo", ".", "ad", "_", "color", "_", "id", "=", "=", "num", ")", "return", "null", ";", "mcolor", "mc", "=", "new", "mcolor", "(", "m", "_", "vo", ".", "ctx", ",", "m", "_", "vo", ".", "ad", "_", "color", "_", "id", ",", "null", ")", ";", "return", "mc", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <REPLACE_OLD> compiere color <REPLACE_NEW> mcolor <REPLACE_END> <KEEP> get color ( ) { if ( m _ vo . ad _ color _ id = = num ) return null ; mcolor mc = new mcolor ( m _ vo . ctx , m _ vo . ad _ color _ id , null ) ; return mc <KEEP_END> <DELETE> . get adempiere color ( ) <DELETE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<REPLACE_OLD>", "compiere", "color", "<REPLACE_NEW>", "mcolor", "<REPLACE_END>", "<KEEP>", "get", "color", "(", ")", "{", "if", "(", "m", "_", "vo", ".", "ad", "_", "color", "_", "id", "=", "=", "num", ")", "return", "null", ";", "mcolor", "mc", "=", "new", "mcolor", "(", "m", "_", "vo", ".", "ctx", ",", "m", "_", "vo", ".", "ad", "_", "color", "_", "id", ",", "null", ")", ";", "return", "mc", "<KEEP_END>", "<DELETE>", ".", "get", "adempiere", "color", "(", ")", "<DELETE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> adempiere color <REPLACE_NEW> mcolor <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "adempiere", "color", "<REPLACE_NEW>", "mcolor", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<REPLACE_OLD>", "compiere", "<REPLACE_OLD>", "color", "<REPLACE_NEW>", "mcolor", "<KEEP>", "get", "<KEEP>", "color", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "return", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "mcolor", "<KEEP>", "mc", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "mcolor", "<KEEP>", "(", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "ctx", "<KEEP>", ",", "<KEEP>", "m", "<KEEP>", "_", "<KEEP>", "vo", "<KEEP>", ".", "<KEEP>", "ad", "<KEEP>", "_", "<KEEP>", "color", "<KEEP>", "_", "<KEEP>", "id", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "return", "<KEEP>", "mc", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "adempiere", "<DELETE>", "color", "<DELETE>", "(", "<DELETE>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "Bearded-Hen_Android-Bootstrap-1-760", "old_comment": "a list of registered font icon sets .", "old_comment_tokens": ["a", "list", "of", "registered", "font", "icon", "sets", "."], "new_comment": "a collection of registered font icon sets .", "new_comment_tokens": ["a", "collection", "of", "registered", "font", "icon", "sets", "."], "old_code": "public static list < font icon set > get registered icon sets ( ) { return font _ icon _ set _ list ; }", "old_code_tokens": ["public", "static", "list", "<", "font", "icon", "set", ">", "get", "registered", "icon", "sets", "(", ")", "{", "return", "font", "_", "icon", "_", "set", "_", "list", ";", "}"], "new_code": "public static collection < icon set > get registered icon sets ( ) { return registered _ icon _ sets . values ( ) ; }", "new_code_tokens": ["public", "static", "collection", "<", "icon", "set", ">", "get", "registered", "icon", "sets", "(", ")", "{", "return", "registered", "_", "icon", "_", "sets", ".", "values", "(", ")", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> list <REPLACE_NEW> collection <REPLACE_END> <KEEP> < <KEEP_END> <DELETE> font <DELETE_END> <KEEP> icon set > get registered icon sets ( ) { return <KEEP_END> <REPLACE_OLD> font <REPLACE_NEW> registered <REPLACE_END> <KEEP> _ icon _ <KEEP_END> <REPLACE_OLD> set _ list <REPLACE_NEW> sets . values ( ) <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "collection", "<REPLACE_END>", "<KEEP>", "<", "<KEEP_END>", "<DELETE>", "font", "<DELETE_END>", "<KEEP>", "icon", "set", ">", "get", "registered", "icon", "sets", "(", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "font", "<REPLACE_NEW>", "registered", "<REPLACE_END>", "<KEEP>", "_", "icon", "_", "<KEEP_END>", "<REPLACE_OLD>", "set", "_", "list", "<REPLACE_NEW>", "sets", ".", "values", "(", ")", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> list <REPLACE_NEW> collection <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "list", "<REPLACE_NEW>", "collection", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "collection", "<KEEP>", "<", "<DELETE>", "font", "<KEEP>", "icon", "<KEEP>", "set", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "registered", "<KEEP>", "icon", "<KEEP>", "sets", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "font", "<REPLACE_NEW>", "registered", "<KEEP>", "_", "<KEEP>", "icon", "<KEEP>", "_", "<REPLACE_OLD>", "set", "<REPLACE_OLD>", "_", "<REPLACE_OLD>", "list", "<REPLACE_NEW>", "sets", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "values", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "trygvis_jop-30-4099", "old_comment": "the loop bound limit or - 1 if no annotation was found or the annotation was erroneous", "old_comment_tokens": ["the", "loop", "bound", "limit", "or", "-", "1", "if", "no", "annotation", "was", "found", "or", "the", "annotation", "was", "erroneous"], "new_comment": "the loop bound limit or null if no annotation was found", "new_comment_tokens": ["the", "loop", "bound", "limit", "or", "null", "if", "no", "annotation", "was", "found"], "old_code": "public static int calculate wca ( string wca a ) { int ai = wca a . index of ( str ) ; if ( ai ! = - num ) { string c = wca a . substring ( ai + str . length ( ) ) ; pattern pattern = pattern . compile ( str ) ; matcher matcher = pattern . matcher ( c ) ; if ( ! matcher . matches ( ) ) { logger . error ( str + c + str ) ; return - num ; } int val = integer . parse int ( matcher . group ( num ) ) ; return val ; } return - num ; }", "old_code_tokens": ["public", "static", "int", "calculate", "wca", "(", "string", "wca", "a", ")", "{", "int", "ai", "=", "wca", "a", ".", "index", "of", "(", "str", ")", ";", "if", "(", "ai", "!", "=", "-", "num", ")", "{", "string", "c", "=", "wca", "a", ".", "substring", "(", "ai", "+", "str", ".", "length", "(", ")", ")", ";", "pattern", "pattern", "=", "pattern", ".", "compile", "(", "str", ")", ";", "matcher", "matcher", "=", "pattern", ".", "matcher", "(", "c", ")", ";", "if", "(", "!", "matcher", ".", "matches", "(", ")", ")", "{", "logger", ".", "error", "(", "str", "+", "c", "+", "str", ")", ";", "return", "-", "num", ";", "}", "int", "val", "=", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ";", "return", "val", ";", "}", "return", "-", "num", ";", "}"], "new_code": "public static loop bound calculate wca ( string wca a ) throws bad annotation exception { int ai = wca a . index of ( str ) ; if ( ai ! = - num ) { string annot string = wca a . substring ( ai + str . length ( ) ) ; if ( annot string . index of ( str ) < num ) return null ; pattern pattern1 = pattern . compile ( str ) ; pattern pattern2 = pattern . compile ( str ) ; matcher matcher1 = pattern1 . matcher ( annot string ) ; if ( matcher1 . matches ( ) ) { int ub = integer . parse int ( matcher1 . group ( num ) ) ; int lb = ( matcher1 . group ( num ) . equals ( str ) ) ? ub : num ; return new loop bound ( lb , ub ) ; } matcher matcher2 = pattern2 . matcher ( annot string ) ; if ( matcher2 . matches ( ) ) { int lb = integer . parse int ( matcher2 . group ( num ) ) ; int ub = integer . parse int ( matcher2 . group ( num ) ) ; return new loop bound ( lb , ub ) ; } throw new bad annotation exception ( str + annot string ) ; } return null ; }", "new_code_tokens": ["public", "static", "loop", "bound", "calculate", "wca", "(", "string", "wca", "a", ")", "throws", "bad", "annotation", "exception", "{", "int", "ai", "=", "wca", "a", ".", "index", "of", "(", "str", ")", ";", "if", "(", "ai", "!", "=", "-", "num", ")", "{", "string", "annot", "string", "=", "wca", "a", ".", "substring", "(", "ai", "+", "str", ".", "length", "(", ")", ")", ";", "if", "(", "annot", "string", ".", "index", "of", "(", "str", ")", "<", "num", ")", "return", "null", ";", "pattern", "pattern1", "=", "pattern", ".", "compile", "(", "str", ")", ";", "pattern", "pattern2", "=", "pattern", ".", "compile", "(", "str", ")", ";", "matcher", "matcher1", "=", "pattern1", ".", "matcher", "(", "annot", "string", ")", ";", "if", "(", "matcher1", ".", "matches", "(", ")", ")", "{", "int", "ub", "=", "integer", ".", "parse", "int", "(", "matcher1", ".", "group", "(", "num", ")", ")", ";", "int", "lb", "=", "(", "matcher1", ".", "group", "(", "num", ")", ".", "equals", "(", "str", ")", ")", "?", "ub", ":", "num", ";", "return", "new", "loop", "bound", "(", "lb", ",", "ub", ")", ";", "}", "matcher", "matcher2", "=", "pattern2", ".", "matcher", "(", "annot", "string", ")", ";", "if", "(", "matcher2", ".", "matches", "(", ")", ")", "{", "int", "lb", "=", "integer", ".", "parse", "int", "(", "matcher2", ".", "group", "(", "num", ")", ")", ";", "int", "ub", "=", "integer", ".", "parse", "int", "(", "matcher2", ".", "group", "(", "num", ")", ")", ";", "return", "new", "loop", "bound", "(", "lb", ",", "ub", ")", ";", "}", "throw", "new", "bad", "annotation", "exception", "(", "str", "+", "annot", "string", ")", ";", "}", "return", "null", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <REPLACE_OLD> int <REPLACE_NEW> loop bound <REPLACE_END> <KEEP> calculate wca ( string wca a ) <KEEP_END> <INSERT> throws bad annotation exception <INSERT_END> <KEEP> { int ai = wca a . index of ( str ) ; if ( ai ! = - num ) { string <KEEP_END> <REPLACE_OLD> c <REPLACE_NEW> annot string <REPLACE_END> <KEEP> = wca a . substring ( ai + str . length ( ) ) ; <KEEP_END> <REPLACE_OLD> pattern pattern <REPLACE_NEW> if ( annot string . index of ( str ) < num ) return null ; pattern pattern1 <REPLACE_END> <KEEP> = pattern . compile ( str ) ; <KEEP_END> <REPLACE_OLD> matcher matcher = pattern . matcher ( c ) ; if ( ! matcher <REPLACE_NEW> pattern pattern2 = pattern . compile ( str ) ; matcher matcher1 = pattern1 . matcher ( annot string ) ; if ( matcher1 <REPLACE_END> <KEEP> . matches ( ) ) { <KEEP_END> <REPLACE_OLD> logger . error <REPLACE_NEW> int ub = integer . parse int ( matcher1 . group ( num ) ) ; int lb = ( matcher1 . group ( num ) . equals ( str ) ) ? ub : num ; return new loop bound ( lb , ub ) ; } matcher matcher2 = pattern2 . matcher ( annot string ) ; if ( matcher2 . matches ( ) ) { int lb = integer . parse int ( matcher2 . group ( num ) ) ; int ub = integer . parse int ( matcher2 . group ( num ) ) ; return new loop bound ( lb , ub ) ; } throw new bad annotation exception <REPLACE_END> <KEEP> ( str + <KEEP_END> <REPLACE_OLD> c + str ) ; return - num ; } int val = integer . parse int ( matcher . group ( num ) ) ; return val ; } return - num ; } <REPLACE_NEW> annot string ) ; } return null ; } <REPLACE_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "loop", "bound", "<REPLACE_END>", "<KEEP>", "calculate", "wca", "(", "string", "wca", "a", ")", "<KEEP_END>", "<INSERT>", "throws", "bad", "annotation", "exception", "<INSERT_END>", "<KEEP>", "{", "int", "ai", "=", "wca", "a", ".", "index", "of", "(", "str", ")", ";", "if", "(", "ai", "!", "=", "-", "num", ")", "{", "string", "<KEEP_END>", "<REPLACE_OLD>", "c", "<REPLACE_NEW>", "annot", "string", "<REPLACE_END>", "<KEEP>", "=", "wca", "a", ".", "substring", "(", "ai", "+", "str", ".", "length", "(", ")", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "pattern", "pattern", "<REPLACE_NEW>", "if", "(", "annot", "string", ".", "index", "of", "(", "str", ")", "<", "num", ")", "return", "null", ";", "pattern", "pattern1", "<REPLACE_END>", "<KEEP>", "=", "pattern", ".", "compile", "(", "str", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "matcher", "matcher", "=", "pattern", ".", "matcher", "(", "c", ")", ";", "if", "(", "!", "matcher", "<REPLACE_NEW>", "pattern", "pattern2", "=", "pattern", ".", "compile", "(", "str", ")", ";", "matcher", "matcher1", "=", "pattern1", ".", "matcher", "(", "annot", "string", ")", ";", "if", "(", "matcher1", "<REPLACE_END>", "<KEEP>", ".", "matches", "(", ")", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "logger", ".", "error", "<REPLACE_NEW>", "int", "ub", "=", "integer", ".", "parse", "int", "(", "matcher1", ".", "group", "(", "num", ")", ")", ";", "int", "lb", "=", "(", "matcher1", ".", "group", "(", "num", ")", ".", "equals", "(", "str", ")", ")", "?", "ub", ":", "num", ";", "return", "new", "loop", "bound", "(", "lb", ",", "ub", ")", ";", "}", "matcher", "matcher2", "=", "pattern2", ".", "matcher", "(", "annot", "string", ")", ";", "if", "(", "matcher2", ".", "matches", "(", ")", ")", "{", "int", "lb", "=", "integer", ".", "parse", "int", "(", "matcher2", ".", "group", "(", "num", ")", ")", ";", "int", "ub", "=", "integer", ".", "parse", "int", "(", "matcher2", ".", "group", "(", "num", ")", ")", ";", "return", "new", "loop", "bound", "(", "lb", ",", "ub", ")", ";", "}", "throw", "new", "bad", "annotation", "exception", "<REPLACE_END>", "<KEEP>", "(", "str", "+", "<KEEP_END>", "<REPLACE_OLD>", "c", "+", "str", ")", ";", "return", "-", "num", ";", "}", "int", "val", "=", "integer", ".", "parse", "int", "(", "matcher", ".", "group", "(", "num", ")", ")", ";", "return", "val", ";", "}", "return", "-", "num", ";", "}", "<REPLACE_NEW>", "annot", "string", ")", ";", "}", "return", "null", ";", "}", "<REPLACE_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> - 1 <REPLACE_NEW> null <REPLACE_END> <DELETE> or the annotation was erroneous <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "-", "1", "<REPLACE_NEW>", "null", "<REPLACE_END>", "<DELETE>", "or", "the", "annotation", "was", "erroneous", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<REPLACE_OLD>", "int", "<REPLACE_NEW>", "loop", "<REPLACE_NEW>", "bound", "<KEEP>", "calculate", "<KEEP>", "wca", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "wca", "<KEEP>", "a", "<KEEP>", ")", "<INSERT>", "throws", "<INSERT>", "bad", "<INSERT>", "annotation", "<INSERT>", "exception", "<KEEP>", "{", "<KEEP>", "int", "<KEEP>", "ai", "<KEEP>", "=", "<KEEP>", "wca", "<KEEP>", "a", "<KEEP>", ".", "<KEEP>", "index", "<KEEP>", "of", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "ai", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "-", "<KEEP>", "num", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<REPLACE_OLD>", "c", "<REPLACE_NEW>", "annot", "<REPLACE_NEW>", "string", "<KEEP>", "=", "<KEEP>", "wca", "<KEEP>", "a", "<KEEP>", ".", "<KEEP>", "substring", "<KEEP>", "(", "<KEEP>", "ai", "<KEEP>", "+", "<KEEP>", "str", "<KEEP>", ".", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "pattern", "<REPLACE_OLD>", "pattern", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "annot", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "index", "<REPLACE_NEW>", "of", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "<", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "pattern", "<REPLACE_NEW>", "pattern1", "<KEEP>", "=", "<KEEP>", "pattern", "<KEEP>", ".", "<KEEP>", "compile", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "matcher", "<REPLACE_OLD>", "matcher", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "pattern", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "matcher", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "if", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "!", "<REPLACE_OLD>", "matcher", "<REPLACE_NEW>", "pattern", "<REPLACE_NEW>", "pattern2", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "pattern", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "compile", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "matcher", "<REPLACE_NEW>", "matcher1", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "pattern1", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "matcher", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "annot", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "matcher1", "<KEEP>", ".", "<KEEP>", "matches", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "logger", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "error", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "ub", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "integer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "parse", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "matcher1", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "group", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "lb", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "matcher1", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "group", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "equals", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "str", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "?", "<REPLACE_NEW>", "ub", "<REPLACE_NEW>", ":", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "loop", "<REPLACE_NEW>", "bound", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "lb", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "ub", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "matcher", "<REPLACE_NEW>", "matcher2", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "pattern2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "matcher", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "annot", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "if", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "matcher2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "matches", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", "{", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "lb", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "integer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "parse", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "matcher2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "group", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "ub", "<REPLACE_NEW>", "=", "<REPLACE_NEW>", "integer", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "parse", "<REPLACE_NEW>", "int", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "matcher2", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "group", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "num", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "loop", "<REPLACE_NEW>", "bound", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", "lb", "<REPLACE_NEW>", ",", "<REPLACE_NEW>", "ub", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "throw", "<REPLACE_NEW>", "new", "<REPLACE_NEW>", "bad", "<REPLACE_NEW>", "annotation", "<REPLACE_NEW>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", "+", "<REPLACE_OLD>", "c", "<REPLACE_OLD>", "+", "<REPLACE_OLD>", "str", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", "=", "<REPLACE_OLD>", "integer", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "parse", "<REPLACE_OLD>", "int", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "matcher", "<REPLACE_OLD>", ".", "<REPLACE_OLD>", "group", "<REPLACE_OLD>", "(", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ")", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "val", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_OLD>", "return", "<REPLACE_OLD>", "-", "<REPLACE_OLD>", "num", "<REPLACE_OLD>", ";", "<REPLACE_OLD>", "}", "<REPLACE_NEW>", "annot", "<REPLACE_NEW>", "string", "<REPLACE_NEW>", ")", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}", "<REPLACE_NEW>", "return", "<REPLACE_NEW>", "null", "<REPLACE_NEW>", ";", "<REPLACE_NEW>", "}"], "split": "test", "keep": 1}
{"id": "undertow-io_undertow-34-3527", "old_comment": "the content length of the request , or null if it has not been set", "old_comment_tokens": ["the", "content", "length", "of", "the", "request", ",", "or", "null", "if", "it", "has", "not", "been", "set"], "new_comment": "the content length of the request , or - 1 if it has not been set", "new_comment_tokens": ["the", "content", "length", "of", "the", "request", ",", "or", "-", "1", "if", "it", "has", "not", "been", "set"], "old_code": "public long get request content length ( ) { string content length string = request headers . get first ( headers . content _ length ) ; if ( content length string = = null ) { return null ; } return long . parse long ( content length string ) ; }", "old_code_tokens": ["public", "long", "get", "request", "content", "length", "(", ")", "{", "string", "content", "length", "string", "=", "request", "headers", ".", "get", "first", "(", "headers", ".", "content", "_", "length", ")", ";", "if", "(", "content", "length", "string", "=", "=", "null", ")", "{", "return", "null", ";", "}", "return", "long", ".", "parse", "long", "(", "content", "length", "string", ")", ";", "}"], "new_code": "public long get request content length ( ) { string content length string = request headers . get first ( headers . content _ length ) ; if ( content length string = = null ) { return - num ; } return long . parse long ( content length string ) ; }", "new_code_tokens": ["public", "long", "get", "request", "content", "length", "(", ")", "{", "string", "content", "length", "string", "=", "request", "headers", ".", "get", "first", "(", "headers", ".", "content", "_", "length", ")", ";", "if", "(", "content", "length", "string", "=", "=", "null", ")", "{", "return", "-", "num", ";", "}", "return", "long", ".", "parse", "long", "(", "content", "length", "string", ")", ";", "}"], "span_diff_code": "<KEEP> public long get request content length ( ) { string content length string = request headers . get first ( headers . content _ length ) ; if ( content length string = = null ) { return <KEEP_END> <REPLACE_OLD> null <REPLACE_NEW> - num <REPLACE_END> <KEEP> ; } return long . parse long ( content length string ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "long", "get", "request", "content", "length", "(", ")", "{", "string", "content", "length", "string", "=", "request", "headers", ".", "get", "first", "(", "headers", ".", "content", "_", "length", ")", ";", "if", "(", "content", "length", "string", "=", "=", "null", ")", "{", "return", "<KEEP_END>", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "num", "<REPLACE_END>", "<KEEP>", ";", "}", "return", "long", ".", "parse", "long", "(", "content", "length", "string", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> null <REPLACE_NEW> - 1 <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "1", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "request", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "request", "<KEEP>", "headers", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "first", "<KEEP>", "(", "<KEEP>", "headers", "<KEEP>", ".", "<KEEP>", "content", "<KEEP>", "_", "<KEEP>", "length", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "string", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<REPLACE_OLD>", "null", "<REPLACE_NEW>", "-", "<REPLACE_NEW>", "num", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "long", "<KEEP>", ".", "<KEEP>", "parse", "<KEEP>", "long", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "length", "<KEEP>", "string", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lstoll_libvirt-java-7-4356", "old_comment": "vir network object", "old_comment_tokens": ["vir", "network", "object"], "new_comment": "network object", "new_comment_tokens": ["network", "object"], "old_code": "public vir network get net ( ) throws vir error exception { throw new vir error exception ( str ) ; }", "old_code_tokens": ["public", "vir", "network", "get", "net", "(", ")", "throws", "vir", "error", "exception", "{", "throw", "new", "vir", "error", "exception", "(", "str", ")", ";", "}"], "new_code": "public network get net ( ) throws error exception { throw new error exception ( str ) ; }", "new_code_tokens": ["public", "network", "get", "net", "(", ")", "throws", "error", "exception", "{", "throw", "new", "error", "exception", "(", "str", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> network get net ( ) throws <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> error exception { throw new <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> error exception ( str ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "network", "get", "net", "(", ")", "throws", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "error", "exception", "{", "throw", "new", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "error", "exception", "(", "str", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> vir <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "vir", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "vir", "<KEEP>", "network", "<KEEP>", "get", "<KEEP>", "net", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "throws", "<DELETE>", "vir", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "{", "<KEEP>", "throw", "<KEEP>", "new", "<DELETE>", "vir", "<KEEP>", "error", "<KEEP>", "exception", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "google_google-api-java-client-46-5417", "old_comment": "the number of bytes uploaded", "old_comment_tokens": ["the", "number", "of", "bytes", "uploaded"], "new_comment": "the number of bytes the server received so far", "new_comment_tokens": ["the", "number", "of", "bytes", "the", "server", "received", "so", "far"], "old_code": "public long get num bytes uploaded ( ) { return bytes uploaded ; }", "old_code_tokens": ["public", "long", "get", "num", "bytes", "uploaded", "(", ")", "{", "return", "bytes", "uploaded", ";", "}"], "new_code": "@ deprecated public long get num bytes uploaded ( ) { return total bytes server received ; }", "new_code_tokens": ["@", "deprecated", "public", "long", "get", "num", "bytes", "uploaded", "(", ")", "{", "return", "total", "bytes", "server", "received", ";", "}"], "span_diff_code": "<INSERT> @ deprecated <INSERT_END> <KEEP> public long get num bytes uploaded ( ) { return <KEEP_END> <INSERT> total <INSERT_END> <KEEP> bytes <KEEP_END> <REPLACE_OLD> uploaded <REPLACE_NEW> server received <REPLACE_END> <KEEP> ; } <KEEP_END>", "span_diff_code_tokens": ["<INSERT>", "@", "deprecated", "<INSERT_END>", "<KEEP>", "public", "long", "get", "num", "bytes", "uploaded", "(", ")", "{", "return", "<KEEP_END>", "<INSERT>", "total", "<INSERT_END>", "<KEEP>", "bytes", "<KEEP_END>", "<REPLACE_OLD>", "uploaded", "<REPLACE_NEW>", "server", "received", "<REPLACE_END>", "<KEEP>", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> uploaded <REPLACE_NEW> the server received so far <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "uploaded", "<REPLACE_NEW>", "the", "server", "received", "so", "far", "<REPLACE_END>"], "token_diff_code_tokens": ["<INSERT>", "@", "<INSERT>", "deprecated", "<KEEP>", "public", "<KEEP>", "long", "<KEEP>", "get", "<KEEP>", "num", "<KEEP>", "bytes", "<KEEP>", "uploaded", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<INSERT>", "total", "<KEEP>", "bytes", "<REPLACE_OLD>", "uploaded", "<REPLACE_NEW>", "server", "<REPLACE_NEW>", "received", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "albfan_sqlworkbenchj-72-4379", "old_comment": "a list with workbench . db . column identifier objects", "old_comment_tokens": ["a", "list", "with", "workbench", ".", "db", ".", "column", "identifier", "objects"], "new_comment": "the columns of the table .", "new_comment_tokens": ["the", "columns", "of", "the", "table", "."], "old_code": "public list < column identifier > get columns ( table identifier tbl ) { string schema = get schema to use ( tbl . get schema ( ) ) ; if ( this . objects . size ( ) = = num | | ! schemas in cache . contains ( schema = = null ? null _ schema : schema ) ) { this . get tables ( schema ) ; } table identifier to search = tbl . create copy ( ) ; to search . adjust case ( db connection ) ; if ( to search . get schema ( ) = = null ) { to search . set schema ( schema ) ; } list < column identifier > cols = this . objects . get ( to search ) ; if ( retrieve oracle public synonyms & & to search . get schema ( ) ! = null & & cols = = null ) { to search . set schema ( null ) ; to search . set type ( null ) ; cols = this . objects . get ( to search ) ; if ( cols = = null ) { this . get tables ( str ) ; cols = this . objects . get ( to search ) ; } } if ( collection util . is empty ( cols ) ) { table identifier tbl to use = null ; if ( objects . contains key ( to search ) ) { tbl to use = find entry ( to search ) ; } else { tbl to use = this . db connection . get metadata ( ) . find object ( to search ) ; } try { cols = this . db connection . get metadata ( ) . get table columns ( tbl to use ) ; } catch ( throwable e ) { log mgr . log error ( str , str + tbl to use , e ) ; cols = null ; } if ( tbl to use ! = null & & collection util . is non empty ( cols ) ) { this . objects . put ( tbl to use , cols ) ; } } return collections . unmodifiable list ( cols ) ; }", "old_code_tokens": ["public", "list", "<", "column", "identifier", ">", "get", "columns", "(", "table", "identifier", "tbl", ")", "{", "string", "schema", "=", "get", "schema", "to", "use", "(", "tbl", ".", "get", "schema", "(", ")", ")", ";", "if", "(", "this", ".", "objects", ".", "size", "(", ")", "=", "=", "num", "|", "|", "!", "schemas", "in", "cache", ".", "contains", "(", "schema", "=", "=", "null", "?", "null", "_", "schema", ":", "schema", ")", ")", "{", "this", ".", "get", "tables", "(", "schema", ")", ";", "}", "table", "identifier", "to", "search", "=", "tbl", ".", "create", "copy", "(", ")", ";", "to", "search", ".", "adjust", "case", "(", "db", "connection", ")", ";", "if", "(", "to", "search", ".", "get", "schema", "(", ")", "=", "=", "null", ")", "{", "to", "search", ".", "set", "schema", "(", "schema", ")", ";", "}", "list", "<", "column", "identifier", ">", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "if", "(", "retrieve", "oracle", "public", "synonyms", "&", "&", "to", "search", ".", "get", "schema", "(", ")", "!", "=", "null", "&", "&", "cols", "=", "=", "null", ")", "{", "to", "search", ".", "set", "schema", "(", "null", ")", ";", "to", "search", ".", "set", "type", "(", "null", ")", ";", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "if", "(", "cols", "=", "=", "null", ")", "{", "this", ".", "get", "tables", "(", "str", ")", ";", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "}", "}", "if", "(", "collection", "util", ".", "is", "empty", "(", "cols", ")", ")", "{", "table", "identifier", "tbl", "to", "use", "=", "null", ";", "if", "(", "objects", ".", "contains", "key", "(", "to", "search", ")", ")", "{", "tbl", "to", "use", "=", "find", "entry", "(", "to", "search", ")", ";", "}", "else", "{", "tbl", "to", "use", "=", "this", ".", "db", "connection", ".", "get", "metadata", "(", ")", ".", "find", "object", "(", "to", "search", ")", ";", "}", "try", "{", "cols", "=", "this", ".", "db", "connection", ".", "get", "metadata", "(", ")", ".", "get", "table", "columns", "(", "tbl", "to", "use", ")", ";", "}", "catch", "(", "throwable", "e", ")", "{", "log", "mgr", ".", "log", "error", "(", "str", ",", "str", "+", "tbl", "to", "use", ",", "e", ")", ";", "cols", "=", "null", ";", "}", "if", "(", "tbl", "to", "use", "!", "=", "null", "&", "&", "collection", "util", ".", "is", "non", "empty", "(", "cols", ")", ")", "{", "this", ".", "objects", ".", "put", "(", "tbl", "to", "use", ",", "cols", ")", ";", "}", "}", "return", "collections", ".", "unmodifiable", "list", "(", "cols", ")", ";", "}"], "new_code": "public synchronized list < column identifier > get columns ( table identifier tbl ) { string schema = get schema to use ( tbl . get schema ( ) ) ; table identifier to search = tbl . create copy ( ) ; to search . adjust case ( db connection ) ; if ( to search . get schema ( ) = = null ) { to search . set schema ( schema ) ; } list < column identifier > cols = this . objects . get ( to search ) ; if ( cols = = null ) { try { table definition def = db connection . get metadata ( ) . get table definition ( to search ) ; add table ( def ) ; } catch ( sqlexception sql ) { log mgr . log warning ( str , str , sql ) ; return null ; } } if ( retrieve oracle public synonyms & & to search . get schema ( ) ! = null & & cols = = null ) { to search . set schema ( null ) ; to search . set type ( null ) ; cols = this . objects . get ( to search ) ; if ( cols = = null ) { this . get tables ( str ) ; cols = this . objects . get ( to search ) ; } } if ( collection util . is empty ( cols ) ) { table identifier tbl to use = null ; if ( objects . contains key ( to search ) ) { tbl to use = find entry ( to search ) ; } else { tbl to use = this . db connection . get metadata ( ) . find object ( to search ) ; } try { cols = this . db connection . get metadata ( ) . get table columns ( tbl to use ) ; } catch ( throwable e ) { log mgr . log error ( str , str + tbl to use , e ) ; cols = null ; } if ( tbl to use ! = null & & collection util . is non empty ( cols ) ) { this . objects . put ( tbl to use , cols ) ; } } return collections . unmodifiable list ( cols ) ; }", "new_code_tokens": ["public", "synchronized", "list", "<", "column", "identifier", ">", "get", "columns", "(", "table", "identifier", "tbl", ")", "{", "string", "schema", "=", "get", "schema", "to", "use", "(", "tbl", ".", "get", "schema", "(", ")", ")", ";", "table", "identifier", "to", "search", "=", "tbl", ".", "create", "copy", "(", ")", ";", "to", "search", ".", "adjust", "case", "(", "db", "connection", ")", ";", "if", "(", "to", "search", ".", "get", "schema", "(", ")", "=", "=", "null", ")", "{", "to", "search", ".", "set", "schema", "(", "schema", ")", ";", "}", "list", "<", "column", "identifier", ">", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "if", "(", "cols", "=", "=", "null", ")", "{", "try", "{", "table", "definition", "def", "=", "db", "connection", ".", "get", "metadata", "(", ")", ".", "get", "table", "definition", "(", "to", "search", ")", ";", "add", "table", "(", "def", ")", ";", "}", "catch", "(", "sqlexception", "sql", ")", "{", "log", "mgr", ".", "log", "warning", "(", "str", ",", "str", ",", "sql", ")", ";", "return", "null", ";", "}", "}", "if", "(", "retrieve", "oracle", "public", "synonyms", "&", "&", "to", "search", ".", "get", "schema", "(", ")", "!", "=", "null", "&", "&", "cols", "=", "=", "null", ")", "{", "to", "search", ".", "set", "schema", "(", "null", ")", ";", "to", "search", ".", "set", "type", "(", "null", ")", ";", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "if", "(", "cols", "=", "=", "null", ")", "{", "this", ".", "get", "tables", "(", "str", ")", ";", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "}", "}", "if", "(", "collection", "util", ".", "is", "empty", "(", "cols", ")", ")", "{", "table", "identifier", "tbl", "to", "use", "=", "null", ";", "if", "(", "objects", ".", "contains", "key", "(", "to", "search", ")", ")", "{", "tbl", "to", "use", "=", "find", "entry", "(", "to", "search", ")", ";", "}", "else", "{", "tbl", "to", "use", "=", "this", ".", "db", "connection", ".", "get", "metadata", "(", ")", ".", "find", "object", "(", "to", "search", ")", ";", "}", "try", "{", "cols", "=", "this", ".", "db", "connection", ".", "get", "metadata", "(", ")", ".", "get", "table", "columns", "(", "tbl", "to", "use", ")", ";", "}", "catch", "(", "throwable", "e", ")", "{", "log", "mgr", ".", "log", "error", "(", "str", ",", "str", "+", "tbl", "to", "use", ",", "e", ")", ";", "cols", "=", "null", ";", "}", "if", "(", "tbl", "to", "use", "!", "=", "null", "&", "&", "collection", "util", ".", "is", "non", "empty", "(", "cols", ")", ")", "{", "this", ".", "objects", ".", "put", "(", "tbl", "to", "use", ",", "cols", ")", ";", "}", "}", "return", "collections", ".", "unmodifiable", "list", "(", "cols", ")", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <INSERT> synchronized <INSERT_END> <KEEP> list < column identifier > get columns ( table identifier tbl ) { string schema = get schema to use ( tbl . get schema ( ) ) ; <KEEP_END> <DELETE> if ( this . objects . size ( ) = = num | | ! schemas in cache . contains ( schema = = null ? null _ schema : schema ) ) { this . get tables ( schema ) ; } <DELETE_END> <KEEP> table identifier to search = tbl . create copy ( ) ; to search . adjust case ( db connection ) ; if ( to search . get schema ( ) = = null ) { to search . set schema ( schema ) ; } list < column identifier > cols = this . objects . get ( to search ) ; if ( <KEEP_END> <INSERT> cols = = null ) { try { table definition def = db connection . get metadata ( ) . get table definition ( to search ) ; add table ( def ) ; } catch ( sqlexception sql ) { log mgr . log warning ( str , str , sql ) ; return null ; } } if ( <INSERT_END> <KEEP> retrieve oracle public synonyms & & to search . get schema ( ) ! = null & & cols = = null ) { to search . set schema ( null ) ; to search . set type ( null ) ; cols = this . objects . get ( to search ) ; if ( cols = = null ) { this . get tables ( str ) ; cols = this . objects . get ( to search ) ; } } if ( collection util . is empty ( cols ) ) { table identifier tbl to use = null ; if ( objects . contains key ( to search ) ) { tbl to use = find entry ( to search ) ; } else { tbl to use = this . db connection . get metadata ( ) . find object ( to search ) ; } try { cols = this . db connection . get metadata ( ) . get table columns ( tbl to use ) ; } catch ( throwable e ) { log mgr . log error ( str , str + tbl to use , e ) ; cols = null ; } if ( tbl to use ! = null & & collection util . is non empty ( cols ) ) { this . objects . put ( tbl to use , cols ) ; } } return collections . unmodifiable list ( cols ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<INSERT>", "synchronized", "<INSERT_END>", "<KEEP>", "list", "<", "column", "identifier", ">", "get", "columns", "(", "table", "identifier", "tbl", ")", "{", "string", "schema", "=", "get", "schema", "to", "use", "(", "tbl", ".", "get", "schema", "(", ")", ")", ";", "<KEEP_END>", "<DELETE>", "if", "(", "this", ".", "objects", ".", "size", "(", ")", "=", "=", "num", "|", "|", "!", "schemas", "in", "cache", ".", "contains", "(", "schema", "=", "=", "null", "?", "null", "_", "schema", ":", "schema", ")", ")", "{", "this", ".", "get", "tables", "(", "schema", ")", ";", "}", "<DELETE_END>", "<KEEP>", "table", "identifier", "to", "search", "=", "tbl", ".", "create", "copy", "(", ")", ";", "to", "search", ".", "adjust", "case", "(", "db", "connection", ")", ";", "if", "(", "to", "search", ".", "get", "schema", "(", ")", "=", "=", "null", ")", "{", "to", "search", ".", "set", "schema", "(", "schema", ")", ";", "}", "list", "<", "column", "identifier", ">", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "if", "(", "<KEEP_END>", "<INSERT>", "cols", "=", "=", "null", ")", "{", "try", "{", "table", "definition", "def", "=", "db", "connection", ".", "get", "metadata", "(", ")", ".", "get", "table", "definition", "(", "to", "search", ")", ";", "add", "table", "(", "def", ")", ";", "}", "catch", "(", "sqlexception", "sql", ")", "{", "log", "mgr", ".", "log", "warning", "(", "str", ",", "str", ",", "sql", ")", ";", "return", "null", ";", "}", "}", "if", "(", "<INSERT_END>", "<KEEP>", "retrieve", "oracle", "public", "synonyms", "&", "&", "to", "search", ".", "get", "schema", "(", ")", "!", "=", "null", "&", "&", "cols", "=", "=", "null", ")", "{", "to", "search", ".", "set", "schema", "(", "null", ")", ";", "to", "search", ".", "set", "type", "(", "null", ")", ";", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "if", "(", "cols", "=", "=", "null", ")", "{", "this", ".", "get", "tables", "(", "str", ")", ";", "cols", "=", "this", ".", "objects", ".", "get", "(", "to", "search", ")", ";", "}", "}", "if", "(", "collection", "util", ".", "is", "empty", "(", "cols", ")", ")", "{", "table", "identifier", "tbl", "to", "use", "=", "null", ";", "if", "(", "objects", ".", "contains", "key", "(", "to", "search", ")", ")", "{", "tbl", "to", "use", "=", "find", "entry", "(", "to", "search", ")", ";", "}", "else", "{", "tbl", "to", "use", "=", "this", ".", "db", "connection", ".", "get", "metadata", "(", ")", ".", "find", "object", "(", "to", "search", ")", ";", "}", "try", "{", "cols", "=", "this", ".", "db", "connection", ".", "get", "metadata", "(", ")", ".", "get", "table", "columns", "(", "tbl", "to", "use", ")", ";", "}", "catch", "(", "throwable", "e", ")", "{", "log", "mgr", ".", "log", "error", "(", "str", ",", "str", "+", "tbl", "to", "use", ",", "e", ")", ";", "cols", "=", "null", ";", "}", "if", "(", "tbl", "to", "use", "!", "=", "null", "&", "&", "collection", "util", ".", "is", "non", "empty", "(", "cols", ")", ")", "{", "this", ".", "objects", ".", "put", "(", "tbl", "to", "use", ",", "cols", ")", ";", "}", "}", "return", "collections", ".", "unmodifiable", "list", "(", "cols", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> a list with workbench <REPLACE_NEW> the columns of the table <REPLACE_END> <DELETE> db . column identifier objects <DELETE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "a", "list", "with", "workbench", "<REPLACE_NEW>", "the", "columns", "of", "the", "table", "<REPLACE_END>", "<DELETE>", "db", ".", "column", "identifier", "objects", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<INSERT>", "synchronized", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "column", "<KEEP>", "identifier", "<KEEP>", ">", "<KEEP>", "get", "<KEEP>", "columns", "<KEEP>", "(", "<KEEP>", "table", "<KEEP>", "identifier", "<KEEP>", "tbl", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "string", "<KEEP>", "schema", "<KEEP>", "=", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", "(", "<KEEP>", "tbl", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "objects", "<DELETE>", ".", "<DELETE>", "size", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", "|", "<DELETE>", "|", "<DELETE>", "!", "<DELETE>", "schemas", "<DELETE>", "in", "<DELETE>", "cache", "<DELETE>", ".", "<DELETE>", "contains", "<DELETE>", "(", "<DELETE>", "schema", "<DELETE>", "=", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", "?", "<DELETE>", "null", "<DELETE>", "_", "<DELETE>", "schema", "<DELETE>", ":", "<DELETE>", "schema", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "this", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "tables", "<DELETE>", "(", "<DELETE>", "schema", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "}", "<KEEP>", "table", "<KEEP>", "identifier", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", "=", "<KEEP>", "tbl", "<KEEP>", ".", "<KEEP>", "create", "<KEEP>", "copy", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ".", "<KEEP>", "adjust", "<KEEP>", "case", "<KEEP>", "(", "<KEEP>", "db", "<KEEP>", "connection", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", "schema", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "column", "<KEEP>", "identifier", "<KEEP>", ">", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<INSERT>", "cols", "<INSERT>", "=", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "try", "<INSERT>", "{", "<INSERT>", "table", "<INSERT>", "definition", "<INSERT>", "def", "<INSERT>", "=", "<INSERT>", "db", "<INSERT>", "connection", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "metadata", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "table", "<INSERT>", "definition", "<INSERT>", "(", "<INSERT>", "to", "<INSERT>", "search", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "add", "<INSERT>", "table", "<INSERT>", "(", "<INSERT>", "def", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "catch", "<INSERT>", "(", "<INSERT>", "sqlexception", "<INSERT>", "sql", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "log", "<INSERT>", "mgr", "<INSERT>", ".", "<INSERT>", "log", "<INSERT>", "warning", "<INSERT>", "(", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "str", "<INSERT>", ",", "<INSERT>", "sql", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "return", "<INSERT>", "null", "<INSERT>", ";", "<INSERT>", "}", "<INSERT>", "}", "<INSERT>", "if", "<INSERT>", "(", "<KEEP>", "retrieve", "<KEEP>", "oracle", "<KEEP>", "public", "<KEEP>", "synonyms", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "schema", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ".", "<KEEP>", "set", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "tables", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "collection", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "cols", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "table", "<KEEP>", "identifier", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "contains", "<KEEP>", "key", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", "=", "<KEEP>", "find", "<KEEP>", "entry", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "else", "<KEEP>", "{", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "db", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "metadata", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "find", "<KEEP>", "object", "<KEEP>", "(", "<KEEP>", "to", "<KEEP>", "search", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "db", "<KEEP>", "connection", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "metadata", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "table", "<KEEP>", "columns", "<KEEP>", "(", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "throwable", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "log", "<KEEP>", "mgr", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "error", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", "+", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "cols", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "collection", "<KEEP>", "util", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "non", "<KEEP>", "empty", "<KEEP>", "(", "<KEEP>", "cols", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "this", "<KEEP>", ".", "<KEEP>", "objects", "<KEEP>", ".", "<KEEP>", "put", "<KEEP>", "(", "<KEEP>", "tbl", "<KEEP>", "to", "<KEEP>", "use", "<KEEP>", ",", "<KEEP>", "cols", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "return", "<KEEP>", "collections", "<KEEP>", ".", "<KEEP>", "unmodifiable", "<KEEP>", "list", "<KEEP>", "(", "<KEEP>", "cols", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "orfjackal_ikayaki-25-5332", "old_comment": "project files in that directory , sorted alphabetically .", "old_comment_tokens": ["project", "files", "in", "that", "directory", ",", "sorted", "alphabetically", "."], "new_comment": "project files in that directory .", "new_comment_tokens": ["project", "files", "in", "that", "directory", "."], "old_code": "private file [ ] get project files ( file directory ) { file [ ] files = directory . list files ( new file filter ( ) { public boolean accept ( file file ) { return ( file . is file ( ) & & file . get name ( ) . ends with ( str ) ) ; } } ) ; switch ( explorer table sort column ) { case num : case num : case num : default : } selected file = - num ; if ( get project ( ) ! = null ) for ( int n = num ; n < files . length ; n + + ) if ( get project ( ) . get file ( ) . equals ( files [ n ] ) ) selected file = n ; return files ; }", "old_code_tokens": ["private", "file", "[", "]", "get", "project", "files", "(", "file", "directory", ")", "{", "file", "[", "]", "files", "=", "directory", ".", "list", "files", "(", "new", "file", "filter", "(", ")", "{", "public", "boolean", "accept", "(", "file", "file", ")", "{", "return", "(", "file", ".", "is", "file", "(", ")", "&", "&", "file", ".", "get", "name", "(", ")", ".", "ends", "with", "(", "str", ")", ")", ";", "}", "}", ")", ";", "switch", "(", "explorer", "table", "sort", "column", ")", "{", "case", "num", ":", "case", "num", ":", "case", "num", ":", "default", ":", "}", "selected", "file", "=", "-", "num", ";", "if", "(", "get", "project", "(", ")", "!", "=", "null", ")", "for", "(", "int", "n", "=", "num", ";", "n", "<", "files", ".", "length", ";", "n", "+", "+", ")", "if", "(", "get", "project", "(", ")", ".", "get", "file", "(", ")", ".", "equals", "(", "files", "[", "n", "]", ")", ")", "selected", "file", "=", "n", ";", "return", "files", ";", "}"], "new_code": "private file [ ] get project files ( file directory ) { return directory . list files ( new file filter ( ) { public boolean accept ( file file ) { return ( file . is file ( ) & & file . get name ( ) . ends with ( str ) ) ; } } ) ; }", "new_code_tokens": ["private", "file", "[", "]", "get", "project", "files", "(", "file", "directory", ")", "{", "return", "directory", ".", "list", "files", "(", "new", "file", "filter", "(", ")", "{", "public", "boolean", "accept", "(", "file", "file", ")", "{", "return", "(", "file", ".", "is", "file", "(", ")", "&", "&", "file", ".", "get", "name", "(", ")", ".", "ends", "with", "(", "str", ")", ")", ";", "}", "}", ")", ";", "}"], "span_diff_code": "<KEEP> private file [ ] get project files ( file directory ) { <KEEP_END> <REPLACE_OLD> file [ ] files = <REPLACE_NEW> return <REPLACE_END> <KEEP> directory . list files ( new file filter ( ) { public boolean accept ( file file ) { return ( file . is file ( ) & & file . get name ( ) . ends with ( str ) ) ; } } ) ; <KEEP_END> <DELETE> switch ( explorer table sort column ) { case num : case num : case num : default : <DELETE_END> <KEEP> } <KEEP_END> <DELETE> selected file = - num ; if ( get project ( ) ! = null ) for ( int n = num ; n < files . length ; n + + ) if ( get project ( ) . get file ( ) . equals ( files [ n ] ) ) selected file = n ; return files ; } <DELETE_END>", "span_diff_code_tokens": ["<KEEP>", "private", "file", "[", "]", "get", "project", "files", "(", "file", "directory", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "file", "[", "]", "files", "=", "<REPLACE_NEW>", "return", "<REPLACE_END>", "<KEEP>", "directory", ".", "list", "files", "(", "new", "file", "filter", "(", ")", "{", "public", "boolean", "accept", "(", "file", "file", ")", "{", "return", "(", "file", ".", "is", "file", "(", ")", "&", "&", "file", ".", "get", "name", "(", ")", ".", "ends", "with", "(", "str", ")", ")", ";", "}", "}", ")", ";", "<KEEP_END>", "<DELETE>", "switch", "(", "explorer", "table", "sort", "column", ")", "{", "case", "num", ":", "case", "num", ":", "case", "num", ":", "default", ":", "<DELETE_END>", "<KEEP>", "}", "<KEEP_END>", "<DELETE>", "selected", "file", "=", "-", "num", ";", "if", "(", "get", "project", "(", ")", "!", "=", "null", ")", "for", "(", "int", "n", "=", "num", ";", "n", "<", "files", ".", "length", ";", "n", "+", "+", ")", "if", "(", "get", "project", "(", ")", ".", "get", "file", "(", ")", ".", "equals", "(", "files", "[", "n", "]", ")", ")", "selected", "file", "=", "n", ";", "return", "files", ";", "}", "<DELETE_END>"], "span_minimal_diff_comment": "<DELETE> , sorted alphabetically <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", ",", "sorted", "alphabetically", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "file", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "project", "<KEEP>", "files", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "directory", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "file", "<REPLACE_OLD>", "[", "<REPLACE_OLD>", "]", "<REPLACE_OLD>", "files", "<REPLACE_OLD>", "=", "<REPLACE_NEW>", "return", "<KEEP>", "directory", "<KEEP>", ".", "<KEEP>", "list", "<KEEP>", "files", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "file", "<KEEP>", "filter", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "public", "<KEEP>", "boolean", "<KEEP>", "accept", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", "file", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "(", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "file", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "&", "<KEEP>", "&", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "name", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ".", "<KEEP>", "ends", "<KEEP>", "with", "<KEEP>", "(", "<KEEP>", "str", "<KEEP>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", ")", "<KEEP>", ";", "<DELETE>", "switch", "<DELETE>", "(", "<DELETE>", "explorer", "<DELETE>", "table", "<DELETE>", "sort", "<DELETE>", "column", "<DELETE>", ")", "<DELETE>", "{", "<DELETE>", "case", "<DELETE>", "num", "<DELETE>", ":", "<DELETE>", "case", "<DELETE>", "num", "<DELETE>", ":", "<DELETE>", "case", "<DELETE>", "num", "<DELETE>", ":", "<DELETE>", "default", "<DELETE>", ":", "<KEEP>", "}", "<DELETE>", "selected", "<DELETE>", "file", "<DELETE>", "=", "<DELETE>", "-", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "project", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", "!", "<DELETE>", "=", "<DELETE>", "null", "<DELETE>", ")", "<DELETE>", "for", "<DELETE>", "(", "<DELETE>", "int", "<DELETE>", "n", "<DELETE>", "=", "<DELETE>", "num", "<DELETE>", ";", "<DELETE>", "n", "<DELETE>", "<", "<DELETE>", "files", "<DELETE>", ".", "<DELETE>", "length", "<DELETE>", ";", "<DELETE>", "n", "<DELETE>", "+", "<DELETE>", "+", "<DELETE>", ")", "<DELETE>", "if", "<DELETE>", "(", "<DELETE>", "get", "<DELETE>", "project", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "file", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ".", "<DELETE>", "equals", "<DELETE>", "(", "<DELETE>", "files", "<DELETE>", "[", "<DELETE>", "n", "<DELETE>", "]", "<DELETE>", ")", "<DELETE>", ")", "<DELETE>", "selected", "<DELETE>", "file", "<DELETE>", "=", "<DELETE>", "n", "<DELETE>", ";", "<DELETE>", "return", "<DELETE>", "files", "<DELETE>", ";", "<DELETE>", "}"], "split": "test", "keep": 1}
{"id": "Shmuma_hadoop-1-5138", "old_comment": "input stream for reading from the socket .", "old_comment_tokens": ["input", "stream", "for", "reading", "from", "the", "socket", "."], "new_comment": "socket input wrapper for reading from the socket .", "new_comment_tokens": ["socket", "input", "wrapper", "for", "reading", "from", "the", "socket", "."], "old_code": "public static input stream get input stream ( socket socket , long timeout ) throws ioexception { return ( socket . get channel ( ) = = null ) ? socket . get input stream ( ) : new socket input stream ( socket , timeout ) ; }", "old_code_tokens": ["public", "static", "input", "stream", "get", "input", "stream", "(", "socket", "socket", ",", "long", "timeout", ")", "throws", "ioexception", "{", "return", "(", "socket", ".", "get", "channel", "(", ")", "=", "=", "null", ")", "?", "socket", ".", "get", "input", "stream", "(", ")", ":", "new", "socket", "input", "stream", "(", "socket", ",", "timeout", ")", ";", "}"], "new_code": "public static socket input wrapper get input stream ( socket socket , long timeout ) throws ioexception { input stream stm = ( socket . get channel ( ) = = null ) ? socket . get input stream ( ) : new socket input stream ( socket ) ; socket input wrapper w = new socket input wrapper ( socket , stm ) ; w . set timeout ( timeout ) ; return w ; }", "new_code_tokens": ["public", "static", "socket", "input", "wrapper", "get", "input", "stream", "(", "socket", "socket", ",", "long", "timeout", ")", "throws", "ioexception", "{", "input", "stream", "stm", "=", "(", "socket", ".", "get", "channel", "(", ")", "=", "=", "null", ")", "?", "socket", ".", "get", "input", "stream", "(", ")", ":", "new", "socket", "input", "stream", "(", "socket", ")", ";", "socket", "input", "wrapper", "w", "=", "new", "socket", "input", "wrapper", "(", "socket", ",", "stm", ")", ";", "w", ".", "set", "timeout", "(", "timeout", ")", ";", "return", "w", ";", "}"], "span_diff_code": "<KEEP> public static <KEEP_END> <INSERT> socket <INSERT_END> <KEEP> input <KEEP_END> <REPLACE_OLD> stream <REPLACE_NEW> wrapper <REPLACE_END> <KEEP> get input stream ( socket socket , long timeout ) throws ioexception { <KEEP_END> <REPLACE_OLD> return <REPLACE_NEW> input stream stm = <REPLACE_END> <KEEP> ( socket . get channel ( ) = = null ) ? socket . get input stream ( ) : new socket input stream ( socket <KEEP_END> <INSERT> ) ; socket input wrapper w = new socket input wrapper ( socket <INSERT_END> <KEEP> , <KEEP_END> <INSERT> stm ) ; w . set timeout ( <INSERT_END> <KEEP> timeout ) ; <KEEP_END> <INSERT> return w ; <INSERT_END> <KEEP> } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "static", "<KEEP_END>", "<INSERT>", "socket", "<INSERT_END>", "<KEEP>", "input", "<KEEP_END>", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "wrapper", "<REPLACE_END>", "<KEEP>", "get", "input", "stream", "(", "socket", "socket", ",", "long", "timeout", ")", "throws", "ioexception", "{", "<KEEP_END>", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "input", "stream", "stm", "=", "<REPLACE_END>", "<KEEP>", "(", "socket", ".", "get", "channel", "(", ")", "=", "=", "null", ")", "?", "socket", ".", "get", "input", "stream", "(", ")", ":", "new", "socket", "input", "stream", "(", "socket", "<KEEP_END>", "<INSERT>", ")", ";", "socket", "input", "wrapper", "w", "=", "new", "socket", "input", "wrapper", "(", "socket", "<INSERT_END>", "<KEEP>", ",", "<KEEP_END>", "<INSERT>", "stm", ")", ";", "w", ".", "set", "timeout", "(", "<INSERT_END>", "<KEEP>", "timeout", ")", ";", "<KEEP_END>", "<INSERT>", "return", "w", ";", "<INSERT_END>", "<KEEP>", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<INSERT_OLD_KEEP_AFTER> input <INSERT_NEW_KEEP_AFTER> socket input <INSERT_END> <REPLACE_OLD> stream <REPLACE_NEW> wrapper <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<INSERT_OLD_KEEP_AFTER>", "input", "<INSERT_NEW_KEEP_AFTER>", "socket", "input", "<INSERT_END>", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "wrapper", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "static", "<INSERT>", "socket", "<KEEP>", "input", "<REPLACE_OLD>", "stream", "<REPLACE_NEW>", "wrapper", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "socket", "<KEEP>", "socket", "<KEEP>", ",", "<KEEP>", "long", "<KEEP>", "timeout", "<KEEP>", ")", "<KEEP>", "throws", "<KEEP>", "ioexception", "<KEEP>", "{", "<REPLACE_OLD>", "return", "<REPLACE_NEW>", "input", "<REPLACE_NEW>", "stream", "<REPLACE_NEW>", "stm", "<REPLACE_NEW>", "=", "<KEEP>", "(", "<KEEP>", "socket", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "channel", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "?", "<KEEP>", "socket", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ":", "<KEEP>", "new", "<KEEP>", "socket", "<KEEP>", "input", "<KEEP>", "stream", "<KEEP>", "(", "<KEEP>", "socket", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "socket", "<INSERT>", "input", "<INSERT>", "wrapper", "<INSERT>", "w", "<INSERT>", "=", "<INSERT>", "new", "<INSERT>", "socket", "<INSERT>", "input", "<INSERT>", "wrapper", "<INSERT>", "(", "<INSERT>", "socket", "<KEEP>", ",", "<INSERT>", "stm", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "w", "<INSERT>", ".", "<INSERT>", "set", "<INSERT>", "timeout", "<INSERT>", "(", "<KEEP>", "timeout", "<KEEP>", ")", "<KEEP>", ";", "<INSERT>", "return", "<INSERT>", "w", "<INSERT>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_tcf-230-5396", "old_comment": "the list of ids within the history ids list or an empty list .", "old_comment_tokens": ["the", "list", "of", "ids", "within", "the", "history", "ids", "list", "or", "an", "empty", "list", "."], "new_comment": "the list of entries within the history ids list or an empty list .", "new_comment_tokens": ["the", "list", "of", "entries", "within", "the", "history", "ids", "list", "or", "an", "empty", "list", "."], "old_code": "public string [ ] get history ( string history id ) { assert . is not null ( history id ) ; list < string > ids = history . get ( history id ) ; if ( ids = = null ) { ids = new array list < string > ( ) ; } return ids . to array ( new string [ ids . size ( ) ] ) ; }", "old_code_tokens": ["public", "string", "[", "]", "get", "history", "(", "string", "history", "id", ")", "{", "assert", ".", "is", "not", "null", "(", "history", "id", ")", ";", "list", "<", "string", ">", "ids", "=", "history", ".", "get", "(", "history", "id", ")", ";", "if", "(", "ids", "=", "=", "null", ")", "{", "ids", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "}", "return", "ids", ".", "to", "array", "(", "new", "string", "[", "ids", ".", "size", "(", ")", "]", ")", ";", "}"], "new_code": "public string [ ] get history ( string history id ) { assert . is not null ( history id ) ; list < string > entries = history . get ( history id ) ; if ( entries = = null ) { entries = new array list < string > ( ) ; } return entries . to array ( new string [ entries . size ( ) ] ) ; }", "new_code_tokens": ["public", "string", "[", "]", "get", "history", "(", "string", "history", "id", ")", "{", "assert", ".", "is", "not", "null", "(", "history", "id", ")", ";", "list", "<", "string", ">", "entries", "=", "history", ".", "get", "(", "history", "id", ")", ";", "if", "(", "entries", "=", "=", "null", ")", "{", "entries", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "}", "return", "entries", ".", "to", "array", "(", "new", "string", "[", "entries", ".", "size", "(", ")", "]", ")", ";", "}"], "span_diff_code": "<KEEP> public string [ ] get history ( string history id ) { assert . is not null ( history id ) ; list < string > <KEEP_END> <REPLACE_OLD> ids <REPLACE_NEW> entries <REPLACE_END> <KEEP> = history . get ( history id ) ; if ( <KEEP_END> <REPLACE_OLD> ids <REPLACE_NEW> entries <REPLACE_END> <KEEP> = = null ) { <KEEP_END> <REPLACE_OLD> ids <REPLACE_NEW> entries <REPLACE_END> <KEEP> = new array list < string > ( ) ; } return <KEEP_END> <REPLACE_OLD> ids <REPLACE_NEW> entries <REPLACE_END> <KEEP> . to array ( new string [ <KEEP_END> <REPLACE_OLD> ids <REPLACE_NEW> entries <REPLACE_END> <KEEP> . size ( ) ] ) ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "string", "[", "]", "get", "history", "(", "string", "history", "id", ")", "{", "assert", ".", "is", "not", "null", "(", "history", "id", ")", ";", "list", "<", "string", ">", "<KEEP_END>", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<REPLACE_END>", "<KEEP>", "=", "history", ".", "get", "(", "history", "id", ")", ";", "if", "(", "<KEEP_END>", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<REPLACE_END>", "<KEEP>", "=", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<REPLACE_END>", "<KEEP>", "=", "new", "array", "list", "<", "string", ">", "(", ")", ";", "}", "return", "<KEEP_END>", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<REPLACE_END>", "<KEEP>", ".", "to", "array", "(", "new", "string", "[", "<KEEP_END>", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<REPLACE_END>", "<KEEP>", ".", "size", "(", ")", "]", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> of ids <REPLACE_NEW_KEEP_BEFORE> of entries <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "of", "ids", "<REPLACE_NEW_KEEP_BEFORE>", "of", "entries", "<REPLACE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<KEEP>", "string", "<KEEP>", "[", "<KEEP>", "]", "<KEEP>", "get", "<KEEP>", "history", "<KEEP>", "(", "<KEEP>", "string", "<KEEP>", "history", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "assert", "<KEEP>", ".", "<KEEP>", "is", "<KEEP>", "not", "<KEEP>", "null", "<KEEP>", "(", "<KEEP>", "history", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<KEEP>", "=", "<KEEP>", "history", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "(", "<KEEP>", "history", "<KEEP>", "id", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<KEEP>", "=", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<KEEP>", "=", "<KEEP>", "new", "<KEEP>", "array", "<KEEP>", "list", "<KEEP>", "<", "<KEEP>", "string", "<KEEP>", ">", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "return", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<KEEP>", ".", "<KEEP>", "to", "<KEEP>", "array", "<KEEP>", "(", "<KEEP>", "new", "<KEEP>", "string", "<KEEP>", "[", "<REPLACE_OLD>", "ids", "<REPLACE_NEW>", "entries", "<KEEP>", ".", "<KEEP>", "size", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "]", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "eclipse_eclipse.platform.resources-108-3815", "old_comment": "true iff the best matching content type has an identifier that matches content type id ; false otherwise .", "old_comment_tokens": ["true", "iff", "the", "best", "matching", "content", "type", "has", "an", "identifier", "that", "matches", "content", "type", "id", ";", "false", "otherwise", "."], "new_comment": "true , if the best matching content type for file has an identifier that matches content type id and is kind of used is false , or is a kind of content type id and is kind of used is true . otherwise it returns false .", "new_comment_tokens": ["true", ",", "if", "the", "best", "matching", "content", "type", "for", "file", "has", "an", "identifier", "that", "matches", "content", "type", "id", "and", "is", "kind", "of", "used", "is", "false", ",", "or", "is", "a", "kind", "of", "content", "type", "id", "and", "is", "kind", "of", "used", "is", "true", ".", "otherwise", "it", "returns", "false", "."], "old_code": "private boolean test content type ( final ifile file , string content type id ) { final string expected value = content type id . trim ( ) ; string actual value = null ; try { icontent description content description = file . get content description ( ) ; if ( content description ! = null ) { icontent type content type = content description . get content type ( ) ; actual value = content type . get id ( ) ; } } catch ( core exception e ) { policy . log ( istatus . error , str , e ) ; } return expected value . equals ( actual value ) ; }", "old_code_tokens": ["private", "boolean", "test", "content", "type", "(", "final", "ifile", "file", ",", "string", "content", "type", "id", ")", "{", "final", "string", "expected", "value", "=", "content", "type", "id", ".", "trim", "(", ")", ";", "string", "actual", "value", "=", "null", ";", "try", "{", "icontent", "description", "content", "description", "=", "file", ".", "get", "content", "description", "(", ")", ";", "if", "(", "content", "description", "!", "=", "null", ")", "{", "icontent", "type", "content", "type", "=", "content", "description", ".", "get", "content", "type", "(", ")", ";", "actual", "value", "=", "content", "type", ".", "get", "id", "(", ")", ";", "}", "}", "catch", "(", "core", "exception", "e", ")", "{", "policy", ".", "log", "(", "istatus", ".", "error", ",", "str", ",", "e", ")", ";", "}", "return", "expected", "value", ".", "equals", "(", "actual", "value", ")", ";", "}"], "new_code": "private boolean test content type ( final ifile file , string content type id , boolean is kind of used ) { final string expected value = content type id . trim ( ) ; icontent type actual content type = null ; try { icontent description content description = file . get content description ( ) ; if ( content description ! = null ) { actual content type = content description . get content type ( ) ; } } catch ( core exception e ) { policy . log ( istatus . error , str , e ) ; } if ( actual content type ! = null ) { if ( is kind of used ) { return actual content type . is kind of ( platform . get content type manager ( ) . get content type ( expected value ) ) ; } return expected value . equals ( actual content type . get id ( ) ) ; } return false ; }", "new_code_tokens": ["private", "boolean", "test", "content", "type", "(", "final", "ifile", "file", ",", "string", "content", "type", "id", ",", "boolean", "is", "kind", "of", "used", ")", "{", "final", "string", "expected", "value", "=", "content", "type", "id", ".", "trim", "(", ")", ";", "icontent", "type", "actual", "content", "type", "=", "null", ";", "try", "{", "icontent", "description", "content", "description", "=", "file", ".", "get", "content", "description", "(", ")", ";", "if", "(", "content", "description", "!", "=", "null", ")", "{", "actual", "content", "type", "=", "content", "description", ".", "get", "content", "type", "(", ")", ";", "}", "}", "catch", "(", "core", "exception", "e", ")", "{", "policy", ".", "log", "(", "istatus", ".", "error", ",", "str", ",", "e", ")", ";", "}", "if", "(", "actual", "content", "type", "!", "=", "null", ")", "{", "if", "(", "is", "kind", "of", "used", ")", "{", "return", "actual", "content", "type", ".", "is", "kind", "of", "(", "platform", ".", "get", "content", "type", "manager", "(", ")", ".", "get", "content", "type", "(", "expected", "value", ")", ")", ";", "}", "return", "expected", "value", ".", "equals", "(", "actual", "content", "type", ".", "get", "id", "(", ")", ")", ";", "}", "return", "false", ";", "}"], "span_diff_code": "<KEEP> private boolean test content type ( final ifile file , string content type id <KEEP_END> <INSERT> , boolean is kind of used <INSERT_END> <KEEP> ) { final string expected value = content type id . trim ( ) ; <KEEP_END> <REPLACE_OLD> string <REPLACE_NEW> icontent type <REPLACE_END> <KEEP> actual <KEEP_END> <REPLACE_OLD> value <REPLACE_NEW> content type <REPLACE_END> <KEEP> = null ; try { icontent description content description = file . get content description ( ) ; if ( content description ! = null ) { <KEEP_END> <REPLACE_OLD> icontent type <REPLACE_NEW> actual <REPLACE_END> <KEEP> content type = content description . get content type <KEEP_END> <DELETE> ( ) ; actual value = content type . get id <DELETE_END> <KEEP> ( ) ; } } catch ( core exception e ) { policy . log ( istatus . error , str , e ) ; } <KEEP_END> <INSERT> if ( actual content type ! = null ) { if ( is kind of used ) { return actual content type . is kind of ( platform . get content type manager ( ) . get content type ( expected value ) ) ; } <INSERT_END> <KEEP> return expected value . equals ( actual <KEEP_END> <REPLACE_OLD> value <REPLACE_NEW> content type . get id ( ) <REPLACE_END> <KEEP> ) ; } <KEEP_END> <INSERT> return false ; } <INSERT_END>", "span_diff_code_tokens": ["<KEEP>", "private", "boolean", "test", "content", "type", "(", "final", "ifile", "file", ",", "string", "content", "type", "id", "<KEEP_END>", "<INSERT>", ",", "boolean", "is", "kind", "of", "used", "<INSERT_END>", "<KEEP>", ")", "{", "final", "string", "expected", "value", "=", "content", "type", "id", ".", "trim", "(", ")", ";", "<KEEP_END>", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "icontent", "type", "<REPLACE_END>", "<KEEP>", "actual", "<KEEP_END>", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "content", "type", "<REPLACE_END>", "<KEEP>", "=", "null", ";", "try", "{", "icontent", "description", "content", "description", "=", "file", ".", "get", "content", "description", "(", ")", ";", "if", "(", "content", "description", "!", "=", "null", ")", "{", "<KEEP_END>", "<REPLACE_OLD>", "icontent", "type", "<REPLACE_NEW>", "actual", "<REPLACE_END>", "<KEEP>", "content", "type", "=", "content", "description", ".", "get", "content", "type", "<KEEP_END>", "<DELETE>", "(", ")", ";", "actual", "value", "=", "content", "type", ".", "get", "id", "<DELETE_END>", "<KEEP>", "(", ")", ";", "}", "}", "catch", "(", "core", "exception", "e", ")", "{", "policy", ".", "log", "(", "istatus", ".", "error", ",", "str", ",", "e", ")", ";", "}", "<KEEP_END>", "<INSERT>", "if", "(", "actual", "content", "type", "!", "=", "null", ")", "{", "if", "(", "is", "kind", "of", "used", ")", "{", "return", "actual", "content", "type", ".", "is", "kind", "of", "(", "platform", ".", "get", "content", "type", "manager", "(", ")", ".", "get", "content", "type", "(", "expected", "value", ")", ")", ";", "}", "<INSERT_END>", "<KEEP>", "return", "expected", "value", ".", "equals", "(", "actual", "<KEEP_END>", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "content", "type", ".", "get", "id", "(", ")", "<REPLACE_END>", "<KEEP>", ")", ";", "}", "<KEEP_END>", "<INSERT>", "return", "false", ";", "}", "<INSERT_END>"], "span_minimal_diff_comment": "<REPLACE_OLD> iff <REPLACE_NEW> , if <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> matching content type <INSERT_NEW_KEEP_BEFORE> matching content type for file <INSERT_END> <REPLACE_OLD> ; <REPLACE_NEW> and is kind of used is <REPLACE_END> <INSERT_OLD_KEEP_BEFORE> false <INSERT_NEW_KEEP_BEFORE> false , or is a kind of content type id and is kind of used is true . <INSERT_END> <INSERT_OLD_KEEP_BEFORE> otherwise <INSERT_NEW_KEEP_BEFORE> otherwise it returns false <INSERT_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD>", "iff", "<REPLACE_NEW>", ",", "if", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "matching", "content", "type", "<INSERT_NEW_KEEP_BEFORE>", "matching", "content", "type", "for", "file", "<INSERT_END>", "<REPLACE_OLD>", ";", "<REPLACE_NEW>", "and", "is", "kind", "of", "used", "is", "<REPLACE_END>", "<INSERT_OLD_KEEP_BEFORE>", "false", "<INSERT_NEW_KEEP_BEFORE>", "false", ",", "or", "is", "a", "kind", "of", "content", "type", "id", "and", "is", "kind", "of", "used", "is", "true", ".", "<INSERT_END>", "<INSERT_OLD_KEEP_BEFORE>", "otherwise", "<INSERT_NEW_KEEP_BEFORE>", "otherwise", "it", "returns", "false", "<INSERT_END>"], "token_diff_code_tokens": ["<KEEP>", "private", "<KEEP>", "boolean", "<KEEP>", "test", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "ifile", "<KEEP>", "file", "<KEEP>", ",", "<KEEP>", "string", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", "id", "<INSERT>", ",", "<INSERT>", "boolean", "<INSERT>", "is", "<INSERT>", "kind", "<INSERT>", "of", "<INSERT>", "used", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "final", "<KEEP>", "string", "<KEEP>", "expected", "<KEEP>", "value", "<KEEP>", "=", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", "id", "<KEEP>", ".", "<KEEP>", "trim", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<REPLACE_OLD>", "string", "<REPLACE_NEW>", "icontent", "<REPLACE_NEW>", "type", "<KEEP>", "actual", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "type", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ";", "<KEEP>", "try", "<KEEP>", "{", "<KEEP>", "icontent", "<KEEP>", "description", "<KEEP>", "content", "<KEEP>", "description", "<KEEP>", "=", "<KEEP>", "file", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "description", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "if", "<KEEP>", "(", "<KEEP>", "content", "<KEEP>", "description", "<KEEP>", "!", "<KEEP>", "=", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", "{", "<REPLACE_OLD>", "icontent", "<REPLACE_OLD>", "type", "<REPLACE_NEW>", "actual", "<KEEP>", "content", "<KEEP>", "type", "<KEEP>", "=", "<KEEP>", "content", "<KEEP>", "description", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "content", "<KEEP>", "type", "<DELETE>", "(", "<DELETE>", ")", "<DELETE>", ";", "<DELETE>", "actual", "<DELETE>", "value", "<DELETE>", "=", "<DELETE>", "content", "<DELETE>", "type", "<DELETE>", ".", "<DELETE>", "get", "<DELETE>", "id", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<KEEP>", "}", "<KEEP>", "catch", "<KEEP>", "(", "<KEEP>", "core", "<KEEP>", "exception", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "policy", "<KEEP>", ".", "<KEEP>", "log", "<KEEP>", "(", "<KEEP>", "istatus", "<KEEP>", ".", "<KEEP>", "error", "<KEEP>", ",", "<KEEP>", "str", "<KEEP>", ",", "<KEEP>", "e", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "actual", "<INSERT>", "content", "<INSERT>", "type", "<INSERT>", "!", "<INSERT>", "=", "<INSERT>", "null", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "if", "<INSERT>", "(", "<INSERT>", "is", "<INSERT>", "kind", "<INSERT>", "of", "<INSERT>", "used", "<INSERT>", ")", "<INSERT>", "{", "<INSERT>", "return", "<INSERT>", "actual", "<INSERT>", "content", "<INSERT>", "type", "<INSERT>", ".", "<INSERT>", "is", "<INSERT>", "kind", "<INSERT>", "of", "<INSERT>", "(", "<INSERT>", "platform", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "content", "<INSERT>", "type", "<INSERT>", "manager", "<INSERT>", "(", "<INSERT>", ")", "<INSERT>", ".", "<INSERT>", "get", "<INSERT>", "content", "<INSERT>", "type", "<INSERT>", "(", "<INSERT>", "expected", "<INSERT>", "value", "<INSERT>", ")", "<INSERT>", ")", "<INSERT>", ";", "<INSERT>", "}", "<KEEP>", "return", "<KEEP>", "expected", "<KEEP>", "value", "<KEEP>", ".", "<KEEP>", "equals", "<KEEP>", "(", "<KEEP>", "actual", "<REPLACE_OLD>", "value", "<REPLACE_NEW>", "content", "<REPLACE_NEW>", "type", "<REPLACE_NEW>", ".", "<REPLACE_NEW>", "get", "<REPLACE_NEW>", "id", "<REPLACE_NEW>", "(", "<REPLACE_NEW>", ")", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}", "<INSERT>", "return", "<INSERT>", "false", "<INSERT>", ";", "<INSERT>", "}"], "split": "test", "keep": 1}
{"id": "undertow-io_undertow-1-2523", "old_comment": "the node , null if no node could be found", "old_comment_tokens": ["the", "node", ",", "null", "if", "no", "node", "could", "be", "found"], "new_comment": "the context , null if not found", "new_comment_tokens": ["the", "context", ",", "null", "if", "not", "found"], "old_code": "node find new node ( final virtual host . host entry entry ) { return elect node ( entry . get contexts ( ) , false , null ) ; }", "old_code_tokens": ["node", "find", "new", "node", "(", "final", "virtual", "host", ".", "host", "entry", "entry", ")", "{", "return", "elect", "node", "(", "entry", ".", "get", "contexts", "(", ")", ",", "false", ",", "null", ")", ";", "}"], "new_code": "context find new node ( final virtual host . host entry entry ) { return elect node ( entry . get contexts ( ) , false , null ) ; }", "new_code_tokens": ["context", "find", "new", "node", "(", "final", "virtual", "host", ".", "host", "entry", "entry", ")", "{", "return", "elect", "node", "(", "entry", ".", "get", "contexts", "(", ")", ",", "false", ",", "null", ")", ";", "}"], "span_diff_code": "<REPLACE_OLD> node <REPLACE_NEW> context <REPLACE_END> <KEEP> find new node ( final virtual host . host entry entry ) { return elect node ( entry . get contexts ( ) , false , null ) ; } <KEEP_END>", "span_diff_code_tokens": ["<REPLACE_OLD>", "node", "<REPLACE_NEW>", "context", "<REPLACE_END>", "<KEEP>", "find", "new", "node", "(", "final", "virtual", "host", ".", "host", "entry", "entry", ")", "{", "return", "elect", "node", "(", "entry", ".", "get", "contexts", "(", ")", ",", "false", ",", "null", ")", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<REPLACE_OLD_KEEP_BEFORE> the node <REPLACE_NEW_KEEP_BEFORE> the context <REPLACE_END> <REPLACE_OLD> no node could be <REPLACE_NEW> not <REPLACE_END>", "span_minimal_diff_comment_tokens": ["<REPLACE_OLD_KEEP_BEFORE>", "the", "node", "<REPLACE_NEW_KEEP_BEFORE>", "the", "context", "<REPLACE_END>", "<REPLACE_OLD>", "no", "node", "could", "be", "<REPLACE_NEW>", "not", "<REPLACE_END>"], "token_diff_code_tokens": ["<REPLACE_OLD>", "node", "<REPLACE_NEW>", "context", "<KEEP>", "find", "<KEEP>", "new", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "final", "<KEEP>", "virtual", "<KEEP>", "host", "<KEEP>", ".", "<KEEP>", "host", "<KEEP>", "entry", "<KEEP>", "entry", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "elect", "<KEEP>", "node", "<KEEP>", "(", "<KEEP>", "entry", "<KEEP>", ".", "<KEEP>", "get", "<KEEP>", "contexts", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", ",", "<KEEP>", "false", "<KEEP>", ",", "<KEEP>", "null", "<KEEP>", ")", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
{"id": "lstoll_libvirt-java-8-4357", "old_comment": "the vir connect object", "old_comment_tokens": ["the", "vir", "connect", "object"], "new_comment": "the connect object", "new_comment_tokens": ["the", "connect", "object"], "old_code": "public vir connect get connect ( ) { return vir connect ; }", "old_code_tokens": ["public", "vir", "connect", "get", "connect", "(", ")", "{", "return", "vir", "connect", ";", "}"], "new_code": "public connect get connect ( ) { return vir connect ; }", "new_code_tokens": ["public", "connect", "get", "connect", "(", ")", "{", "return", "vir", "connect", ";", "}"], "span_diff_code": "<KEEP> public <KEEP_END> <DELETE> vir <DELETE_END> <KEEP> connect get connect ( ) { return vir connect ; } <KEEP_END>", "span_diff_code_tokens": ["<KEEP>", "public", "<KEEP_END>", "<DELETE>", "vir", "<DELETE_END>", "<KEEP>", "connect", "get", "connect", "(", ")", "{", "return", "vir", "connect", ";", "}", "<KEEP_END>"], "span_minimal_diff_comment": "<DELETE> vir <DELETE_END>", "span_minimal_diff_comment_tokens": ["<DELETE>", "vir", "<DELETE_END>"], "token_diff_code_tokens": ["<KEEP>", "public", "<DELETE>", "vir", "<KEEP>", "connect", "<KEEP>", "get", "<KEEP>", "connect", "<KEEP>", "(", "<KEEP>", ")", "<KEEP>", "{", "<KEEP>", "return", "<KEEP>", "vir", "<KEEP>", "connect", "<KEEP>", ";", "<KEEP>", "}"], "split": "test", "keep": 1}
